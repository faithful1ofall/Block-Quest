const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/basic-Cuzk0mim.js","assets/index-DtSQuq5j.js","assets/w3m-modal-BYjGAmai.js"])))=>i.map(i=>d[i]);
(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))s(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const c of a.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function s(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();var Cs=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function sp(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function G$(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var e=t.default;if(typeof e=="function"){var n=function s(){var i=!1;try{i=this instanceof s}catch{}return i?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(s){var i=Object.getOwnPropertyDescriptor(t,s);Object.defineProperty(n,s,i.get?i:{enumerable:!0,get:function(){return t[s]}})}),n}var o1={exports:{}},hd={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fx;function Y$(){if(Fx)return hd;Fx=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,i,a){var c=null;if(a!==void 0&&(c=""+a),i.key!==void 0&&(c=""+i.key),"key"in i){a={};for(var u in i)u!=="key"&&(a[u]=i[u])}else a=i;return i=a.ref,{$$typeof:t,type:s,key:c,ref:i!==void 0?i:null,props:a}}return hd.Fragment=e,hd.jsx=n,hd.jsxs=n,hd}var qx;function X$(){return qx||(qx=1,o1.exports=Y$()),o1.exports}var X=X$(),a1={exports:{}},ze={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vx;function Q$(){if(Vx)return ze;Vx=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),c=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),g=Symbol.for("react.activity"),y=Symbol.iterator;function b(U){return U===null||typeof U!="object"?null:(U=y&&U[y]||U["@@iterator"],typeof U=="function"?U:null)}var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E=Object.assign,A={};function S(U,K,te){this.props=U,this.context=K,this.refs=A,this.updater=te||v}S.prototype.isReactComponent={},S.prototype.setState=function(U,K){if(typeof U!="object"&&typeof U!="function"&&U!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,U,K,"setState")},S.prototype.forceUpdate=function(U){this.updater.enqueueForceUpdate(this,U,"forceUpdate")};function D(){}D.prototype=S.prototype;function x(U,K,te){this.props=U,this.context=K,this.refs=A,this.updater=te||v}var N=x.prototype=new D;N.constructor=x,E(N,S.prototype),N.isPureReactComponent=!0;var T=Array.isArray;function I(){}var $={H:null,A:null,T:null,S:null},P=Object.prototype.hasOwnProperty;function M(U,K,te){var ie=te.ref;return{$$typeof:t,type:U,key:K,ref:ie!==void 0?ie:null,props:te}}function z(U,K){return M(U.type,K,U.props)}function q(U){return typeof U=="object"&&U!==null&&U.$$typeof===t}function F(U){var K={"=":"=0",":":"=2"};return"$"+U.replace(/[=:]/g,function(te){return K[te]})}var ee=/\/+/g;function Q(U,K){return typeof U=="object"&&U!==null&&U.key!=null?F(""+U.key):K.toString(36)}function R(U){switch(U.status){case"fulfilled":return U.value;case"rejected":throw U.reason;default:switch(typeof U.status=="string"?U.then(I,I):(U.status="pending",U.then(function(K){U.status==="pending"&&(U.status="fulfilled",U.value=K)},function(K){U.status==="pending"&&(U.status="rejected",U.reason=K)})),U.status){case"fulfilled":return U.value;case"rejected":throw U.reason}}throw U}function _(U,K,te,ie,ue){var pe=typeof U;(pe==="undefined"||pe==="boolean")&&(U=null);var xe=!1;if(U===null)xe=!0;else switch(pe){case"bigint":case"string":case"number":xe=!0;break;case"object":switch(U.$$typeof){case t:case e:xe=!0;break;case p:return xe=U._init,_(xe(U._payload),K,te,ie,ue)}}if(xe)return ue=ue(U),xe=ie===""?"."+Q(U,0):ie,T(ue)?(te="",xe!=null&&(te=xe.replace(ee,"$&/")+"/"),_(ue,K,te,"",function(mt){return mt})):ue!=null&&(q(ue)&&(ue=z(ue,te+(ue.key==null||U&&U.key===ue.key?"":(""+ue.key).replace(ee,"$&/")+"/")+xe)),K.push(ue)),1;xe=0;var ke=ie===""?".":ie+":";if(T(U))for(var Te=0;Te<U.length;Te++)ie=U[Te],pe=ke+Q(ie,Te),xe+=_(ie,K,te,pe,ue);else if(Te=b(U),typeof Te=="function")for(U=Te.call(U),Te=0;!(ie=U.next()).done;)ie=ie.value,pe=ke+Q(ie,Te++),xe+=_(ie,K,te,pe,ue);else if(pe==="object"){if(typeof U.then=="function")return _(R(U),K,te,ie,ue);throw K=String(U),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(U).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.")}return xe}function k(U,K,te){if(U==null)return U;var ie=[],ue=0;return _(U,ie,"","",function(pe){return K.call(te,pe,ue++)}),ie}function H(U){if(U._status===-1){var K=U._result;K=K(),K.then(function(te){(U._status===0||U._status===-1)&&(U._status=1,U._result=te)},function(te){(U._status===0||U._status===-1)&&(U._status=2,U._result=te)}),U._status===-1&&(U._status=0,U._result=K)}if(U._status===1)return U._result.default;throw U._result}var G=typeof reportError=="function"?reportError:function(U){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var K=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof U=="object"&&U!==null&&typeof U.message=="string"?String(U.message):String(U),error:U});if(!window.dispatchEvent(K))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",U);return}console.error(U)},V={map:k,forEach:function(U,K,te){k(U,function(){K.apply(this,arguments)},te)},count:function(U){var K=0;return k(U,function(){K++}),K},toArray:function(U){return k(U,function(K){return K})||[]},only:function(U){if(!q(U))throw Error("React.Children.only expected to receive a single React element child.");return U}};return ze.Activity=g,ze.Children=V,ze.Component=S,ze.Fragment=n,ze.Profiler=i,ze.PureComponent=x,ze.StrictMode=s,ze.Suspense=f,ze.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=$,ze.__COMPILER_RUNTIME={__proto__:null,c:function(U){return $.H.useMemoCache(U)}},ze.cache=function(U){return function(){return U.apply(null,arguments)}},ze.cacheSignal=function(){return null},ze.cloneElement=function(U,K,te){if(U==null)throw Error("The argument must be a React element, but you passed "+U+".");var ie=E({},U.props),ue=U.key;if(K!=null)for(pe in K.key!==void 0&&(ue=""+K.key),K)!P.call(K,pe)||pe==="key"||pe==="__self"||pe==="__source"||pe==="ref"&&K.ref===void 0||(ie[pe]=K[pe]);var pe=arguments.length-2;if(pe===1)ie.children=te;else if(1<pe){for(var xe=Array(pe),ke=0;ke<pe;ke++)xe[ke]=arguments[ke+2];ie.children=xe}return M(U.type,ue,ie)},ze.createContext=function(U){return U={$$typeof:c,_currentValue:U,_currentValue2:U,_threadCount:0,Provider:null,Consumer:null},U.Provider=U,U.Consumer={$$typeof:a,_context:U},U},ze.createElement=function(U,K,te){var ie,ue={},pe=null;if(K!=null)for(ie in K.key!==void 0&&(pe=""+K.key),K)P.call(K,ie)&&ie!=="key"&&ie!=="__self"&&ie!=="__source"&&(ue[ie]=K[ie]);var xe=arguments.length-2;if(xe===1)ue.children=te;else if(1<xe){for(var ke=Array(xe),Te=0;Te<xe;Te++)ke[Te]=arguments[Te+2];ue.children=ke}if(U&&U.defaultProps)for(ie in xe=U.defaultProps,xe)ue[ie]===void 0&&(ue[ie]=xe[ie]);return M(U,pe,ue)},ze.createRef=function(){return{current:null}},ze.forwardRef=function(U){return{$$typeof:u,render:U}},ze.isValidElement=q,ze.lazy=function(U){return{$$typeof:p,_payload:{_status:-1,_result:U},_init:H}},ze.memo=function(U,K){return{$$typeof:h,type:U,compare:K===void 0?null:K}},ze.startTransition=function(U){var K=$.T,te={};$.T=te;try{var ie=U(),ue=$.S;ue!==null&&ue(te,ie),typeof ie=="object"&&ie!==null&&typeof ie.then=="function"&&ie.then(I,G)}catch(pe){G(pe)}finally{K!==null&&te.types!==null&&(K.types=te.types),$.T=K}},ze.unstable_useCacheRefresh=function(){return $.H.useCacheRefresh()},ze.use=function(U){return $.H.use(U)},ze.useActionState=function(U,K,te){return $.H.useActionState(U,K,te)},ze.useCallback=function(U,K){return $.H.useCallback(U,K)},ze.useContext=function(U){return $.H.useContext(U)},ze.useDebugValue=function(){},ze.useDeferredValue=function(U,K){return $.H.useDeferredValue(U,K)},ze.useEffect=function(U,K){return $.H.useEffect(U,K)},ze.useEffectEvent=function(U){return $.H.useEffectEvent(U)},ze.useId=function(){return $.H.useId()},ze.useImperativeHandle=function(U,K,te){return $.H.useImperativeHandle(U,K,te)},ze.useInsertionEffect=function(U,K){return $.H.useInsertionEffect(U,K)},ze.useLayoutEffect=function(U,K){return $.H.useLayoutEffect(U,K)},ze.useMemo=function(U,K){return $.H.useMemo(U,K)},ze.useOptimistic=function(U,K){return $.H.useOptimistic(U,K)},ze.useReducer=function(U,K,te){return $.H.useReducer(U,K,te)},ze.useRef=function(U){return $.H.useRef(U)},ze.useState=function(U){return $.H.useState(U)},ze.useSyncExternalStore=function(U,K,te){return $.H.useSyncExternalStore(U,K,te)},ze.useTransition=function(){return $.H.useTransition()},ze.version="19.2.0",ze}var Wx;function N2(){return Wx||(Wx=1,a1.exports=Q$()),a1.exports}var me=N2();const yo=sp(me);var c1={exports:{}},pd={},l1={exports:{}},u1={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kx;function Z$(){return Kx||(Kx=1,(function(t){function e(_,k){var H=_.length;_.push(k);e:for(;0<H;){var G=H-1>>>1,V=_[G];if(0<i(V,k))_[G]=k,_[H]=V,H=G;else break e}}function n(_){return _.length===0?null:_[0]}function s(_){if(_.length===0)return null;var k=_[0],H=_.pop();if(H!==k){_[0]=H;e:for(var G=0,V=_.length,U=V>>>1;G<U;){var K=2*(G+1)-1,te=_[K],ie=K+1,ue=_[ie];if(0>i(te,H))ie<V&&0>i(ue,te)?(_[G]=ue,_[ie]=H,G=ie):(_[G]=te,_[K]=H,G=K);else if(ie<V&&0>i(ue,H))_[G]=ue,_[ie]=H,G=ie;else break e}}return k}function i(_,k){var H=_.sortIndex-k.sortIndex;return H!==0?H:_.id-k.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var c=Date,u=c.now();t.unstable_now=function(){return c.now()-u}}var f=[],h=[],p=1,g=null,y=3,b=!1,v=!1,E=!1,A=!1,S=typeof setTimeout=="function"?setTimeout:null,D=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;function N(_){for(var k=n(h);k!==null;){if(k.callback===null)s(h);else if(k.startTime<=_)s(h),k.sortIndex=k.expirationTime,e(f,k);else break;k=n(h)}}function T(_){if(E=!1,N(_),!v)if(n(f)!==null)v=!0,I||(I=!0,F());else{var k=n(h);k!==null&&R(T,k.startTime-_)}}var I=!1,$=-1,P=5,M=-1;function z(){return A?!0:!(t.unstable_now()-M<P)}function q(){if(A=!1,I){var _=t.unstable_now();M=_;var k=!0;try{e:{v=!1,E&&(E=!1,D($),$=-1),b=!0;var H=y;try{t:{for(N(_),g=n(f);g!==null&&!(g.expirationTime>_&&z());){var G=g.callback;if(typeof G=="function"){g.callback=null,y=g.priorityLevel;var V=G(g.expirationTime<=_);if(_=t.unstable_now(),typeof V=="function"){g.callback=V,N(_),k=!0;break t}g===n(f)&&s(f),N(_)}else s(f);g=n(f)}if(g!==null)k=!0;else{var U=n(h);U!==null&&R(T,U.startTime-_),k=!1}}break e}finally{g=null,y=H,b=!1}k=void 0}}finally{k?F():I=!1}}}var F;if(typeof x=="function")F=function(){x(q)};else if(typeof MessageChannel<"u"){var ee=new MessageChannel,Q=ee.port2;ee.port1.onmessage=q,F=function(){Q.postMessage(null)}}else F=function(){S(q,0)};function R(_,k){$=S(function(){_(t.unstable_now())},k)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(_){_.callback=null},t.unstable_forceFrameRate=function(_){0>_||125<_?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<_?Math.floor(1e3/_):5},t.unstable_getCurrentPriorityLevel=function(){return y},t.unstable_next=function(_){switch(y){case 1:case 2:case 3:var k=3;break;default:k=y}var H=y;y=k;try{return _()}finally{y=H}},t.unstable_requestPaint=function(){A=!0},t.unstable_runWithPriority=function(_,k){switch(_){case 1:case 2:case 3:case 4:case 5:break;default:_=3}var H=y;y=_;try{return k()}finally{y=H}},t.unstable_scheduleCallback=function(_,k,H){var G=t.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?G+H:G):H=G,_){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=H+V,_={id:p++,callback:k,priorityLevel:_,startTime:H,expirationTime:V,sortIndex:-1},H>G?(_.sortIndex=H,e(h,_),n(f)===null&&_===n(h)&&(E?(D($),$=-1):E=!0,R(T,H-G))):(_.sortIndex=V,e(f,_),v||b||(v=!0,I||(I=!0,F()))),_},t.unstable_shouldYield=z,t.unstable_wrapCallback=function(_){var k=y;return function(){var H=y;y=k;try{return _.apply(this,arguments)}finally{y=H}}}})(u1)),u1}var Gx;function J$(){return Gx||(Gx=1,l1.exports=Z$()),l1.exports}var f1={exports:{}},Fn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yx;function eU(){if(Yx)return Fn;Yx=1;var t=N2();function e(f){var h="https://react.dev/errors/"+f;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)h+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+f+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function a(f,h,p){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:g==null?null:""+g,children:f,containerInfo:h,implementation:p}}var c=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(f,h){if(f==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return Fn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Fn.createPortal=function(f,h){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(e(299));return a(f,h,null,p)},Fn.flushSync=function(f){var h=c.T,p=s.p;try{if(c.T=null,s.p=2,f)return f()}finally{c.T=h,s.p=p,s.d.f()}},Fn.preconnect=function(f,h){typeof f=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,s.d.C(f,h))},Fn.prefetchDNS=function(f){typeof f=="string"&&s.d.D(f)},Fn.preinit=function(f,h){if(typeof f=="string"&&h&&typeof h.as=="string"){var p=h.as,g=u(p,h.crossOrigin),y=typeof h.integrity=="string"?h.integrity:void 0,b=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;p==="style"?s.d.S(f,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:g,integrity:y,fetchPriority:b}):p==="script"&&s.d.X(f,{crossOrigin:g,integrity:y,fetchPriority:b,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},Fn.preinitModule=function(f,h){if(typeof f=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var p=u(h.as,h.crossOrigin);s.d.M(f,{crossOrigin:p,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&s.d.M(f)},Fn.preload=function(f,h){if(typeof f=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var p=h.as,g=u(p,h.crossOrigin);s.d.L(f,p,{crossOrigin:g,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},Fn.preloadModule=function(f,h){if(typeof f=="string")if(h){var p=u(h.as,h.crossOrigin);s.d.m(f,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:p,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else s.d.m(f)},Fn.requestFormReset=function(f){s.d.r(f)},Fn.unstable_batchedUpdates=function(f,h){return f(h)},Fn.useFormState=function(f,h,p){return c.H.useFormState(f,h,p)},Fn.useFormStatus=function(){return c.H.useHostTransitionStatus()},Fn.version="19.2.0",Fn}var Xx;function tU(){if(Xx)return f1.exports;Xx=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),f1.exports=eU(),f1.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qx;function nU(){if(Qx)return pd;Qx=1;var t=J$(),e=N2(),n=tU();function s(r){var o="https://react.dev/errors/"+r;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)o+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+r+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function a(r){var o=r,l=r;if(r.alternate)for(;o.return;)o=o.return;else{r=o;do o=r,(o.flags&4098)!==0&&(l=o.return),r=o.return;while(r)}return o.tag===3?l:null}function c(r){if(r.tag===13){var o=r.memoizedState;if(o===null&&(r=r.alternate,r!==null&&(o=r.memoizedState)),o!==null)return o.dehydrated}return null}function u(r){if(r.tag===31){var o=r.memoizedState;if(o===null&&(r=r.alternate,r!==null&&(o=r.memoizedState)),o!==null)return o.dehydrated}return null}function f(r){if(a(r)!==r)throw Error(s(188))}function h(r){var o=r.alternate;if(!o){if(o=a(r),o===null)throw Error(s(188));return o!==r?null:r}for(var l=r,d=o;;){var m=l.return;if(m===null)break;var w=m.alternate;if(w===null){if(d=m.return,d!==null){l=d;continue}break}if(m.child===w.child){for(w=m.child;w;){if(w===l)return f(m),r;if(w===d)return f(m),o;w=w.sibling}throw Error(s(188))}if(l.return!==d.return)l=m,d=w;else{for(var C=!1,O=m.child;O;){if(O===l){C=!0,l=m,d=w;break}if(O===d){C=!0,d=m,l=w;break}O=O.sibling}if(!C){for(O=w.child;O;){if(O===l){C=!0,l=w,d=m;break}if(O===d){C=!0,d=w,l=m;break}O=O.sibling}if(!C)throw Error(s(189))}}if(l.alternate!==d)throw Error(s(190))}if(l.tag!==3)throw Error(s(188));return l.stateNode.current===l?r:o}function p(r){var o=r.tag;if(o===5||o===26||o===27||o===6)return r;for(r=r.child;r!==null;){if(o=p(r),o!==null)return o;r=r.sibling}return null}var g=Object.assign,y=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),v=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),A=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),D=Symbol.for("react.consumer"),x=Symbol.for("react.context"),N=Symbol.for("react.forward_ref"),T=Symbol.for("react.suspense"),I=Symbol.for("react.suspense_list"),$=Symbol.for("react.memo"),P=Symbol.for("react.lazy"),M=Symbol.for("react.activity"),z=Symbol.for("react.memo_cache_sentinel"),q=Symbol.iterator;function F(r){return r===null||typeof r!="object"?null:(r=q&&r[q]||r["@@iterator"],typeof r=="function"?r:null)}var ee=Symbol.for("react.client.reference");function Q(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===ee?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case E:return"Fragment";case S:return"Profiler";case A:return"StrictMode";case T:return"Suspense";case I:return"SuspenseList";case M:return"Activity"}if(typeof r=="object")switch(r.$$typeof){case v:return"Portal";case x:return r.displayName||"Context";case D:return(r._context.displayName||"Context")+".Consumer";case N:var o=r.render;return r=r.displayName,r||(r=o.displayName||o.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case $:return o=r.displayName||null,o!==null?o:Q(r.type)||"Memo";case P:o=r._payload,r=r._init;try{return Q(r(o))}catch{}}return null}var R=Array.isArray,_=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,k=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,H={pending:!1,data:null,method:null,action:null},G=[],V=-1;function U(r){return{current:r}}function K(r){0>V||(r.current=G[V],G[V]=null,V--)}function te(r,o){V++,G[V]=r.current,r.current=o}var ie=U(null),ue=U(null),pe=U(null),xe=U(null);function ke(r,o){switch(te(pe,o),te(ue,r),te(ie,null),o.nodeType){case 9:case 11:r=(r=o.documentElement)&&(r=r.namespaceURI)?dx(r):0;break;default:if(r=o.tagName,o=o.namespaceURI)o=dx(o),r=hx(o,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}K(ie),te(ie,r)}function Te(){K(ie),K(ue),K(pe)}function mt(r){r.memoizedState!==null&&te(xe,r);var o=ie.current,l=hx(o,r.type);o!==l&&(te(ue,r),te(ie,l))}function Ot(r){ue.current===r&&(K(ie),K(ue)),xe.current===r&&(K(xe),ld._currentValue=H)}var Os,Rr;function Sn(r){if(Os===void 0)try{throw Error()}catch(l){var o=l.stack.trim().match(/\n( *(at )?)/);Os=o&&o[1]||"",Rr=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Os+r+Rr}var Qi=!1;function $r(r,o){if(!r||Qi)return"";Qi=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var d={DetermineComponentFrameRoot:function(){try{if(o){var ce=function(){throw Error()};if(Object.defineProperty(ce.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ce,[])}catch(re){var se=re}Reflect.construct(r,[],ce)}else{try{ce.call()}catch(re){se=re}r.call(ce.prototype)}}else{try{throw Error()}catch(re){se=re}(ce=r())&&typeof ce.catch=="function"&&ce.catch(function(){})}}catch(re){if(re&&se&&typeof re.stack=="string")return[re.stack,se.stack]}return[null,null]}};d.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var m=Object.getOwnPropertyDescriptor(d.DetermineComponentFrameRoot,"name");m&&m.configurable&&Object.defineProperty(d.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var w=d.DetermineComponentFrameRoot(),C=w[0],O=w[1];if(C&&O){var j=C.split(`
`),J=O.split(`
`);for(m=d=0;d<j.length&&!j[d].includes("DetermineComponentFrameRoot");)d++;for(;m<J.length&&!J[m].includes("DetermineComponentFrameRoot");)m++;if(d===j.length||m===J.length)for(d=j.length-1,m=J.length-1;1<=d&&0<=m&&j[d]!==J[m];)m--;for(;1<=d&&0<=m;d--,m--)if(j[d]!==J[m]){if(d!==1||m!==1)do if(d--,m--,0>m||j[d]!==J[m]){var oe=`
`+j[d].replace(" at new "," at ");return r.displayName&&oe.includes("<anonymous>")&&(oe=oe.replace("<anonymous>",r.displayName)),oe}while(1<=d&&0<=m);break}}}finally{Qi=!1,Error.prepareStackTrace=l}return(l=r?r.displayName||r.name:"")?Sn(l):""}function fl(r,o){switch(r.tag){case 26:case 27:case 5:return Sn(r.type);case 16:return Sn("Lazy");case 13:return r.child!==o&&o!==null?Sn("Suspense Fallback"):Sn("Suspense");case 19:return Sn("SuspenseList");case 0:case 15:return $r(r.type,!1);case 11:return $r(r.type.render,!1);case 1:return $r(r.type,!0);case 31:return Sn("Activity");default:return""}}function dl(r){try{var o="",l=null;do o+=fl(r,l),l=r,r=r.return;while(r);return o}catch(d){return`
Error generating stack: `+d.message+`
`+d.stack}}var _o=Object.prototype.hasOwnProperty,Di=t.unstable_scheduleCallback,Oi=t.unstable_cancelCallback,Ha=t.unstable_shouldYield,Fa=t.unstable_requestPaint,Mt=t.unstable_now,Ur=t.unstable_getCurrentPriorityLevel,qa=t.unstable_ImmediatePriority,Va=t.unstable_UserBlockingPriority,Pr=t.unstable_NormalPriority,hl=t.unstable_LowPriority,pl=t.unstable_IdlePriority,Jm=t.log,ey=t.unstable_setDisableYieldValue,Wa=null,jn=null;function Zi(r){if(typeof Jm=="function"&&ey(r),jn&&typeof jn.setStrictMode=="function")try{jn.setStrictMode(Wa,r)}catch{}}var Zn=Math.clz32?Math.clz32:yf,mf=Math.log,Ka=Math.LN2;function yf(r){return r>>>=0,r===0?32:31-(mf(r)/Ka|0)|0}var Io=256,Do=262144,Ji=4194304;function Lr(r){var o=r&42;if(o!==0)return o;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return r&261888;case 262144:case 524288:case 1048576:case 2097152:return r&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function gl(r,o,l){var d=r.pendingLanes;if(d===0)return 0;var m=0,w=r.suspendedLanes,C=r.pingedLanes;r=r.warmLanes;var O=d&134217727;return O!==0?(d=O&~w,d!==0?m=Lr(d):(C&=O,C!==0?m=Lr(C):l||(l=O&~r,l!==0&&(m=Lr(l))))):(O=d&~w,O!==0?m=Lr(O):C!==0?m=Lr(C):l||(l=d&~r,l!==0&&(m=Lr(l)))),m===0?0:o!==0&&o!==m&&(o&w)===0&&(w=m&-m,l=o&-o,w>=l||w===32&&(l&4194048)!==0)?o:m}function Ga(r,o){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&o)===0}function ty(r,o){switch(r){case 1:case 2:case 4:case 8:case 64:return o+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Np(){var r=Ji;return Ji<<=1,(Ji&62914560)===0&&(Ji=4194304),r}function ml(r){for(var o=[],l=0;31>l;l++)o.push(r);return o}function Oo(r,o){r.pendingLanes|=o,o!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function kr(r,o,l,d,m,w){var C=r.pendingLanes;r.pendingLanes=l,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=l,r.entangledLanes&=l,r.errorRecoveryDisabledLanes&=l,r.shellSuspendCounter=0;var O=r.entanglements,j=r.expirationTimes,J=r.hiddenUpdates;for(l=C&~l;0<l;){var oe=31-Zn(l),ce=1<<oe;O[oe]=0,j[oe]=-1;var se=J[oe];if(se!==null)for(J[oe]=null,oe=0;oe<se.length;oe++){var re=se[oe];re!==null&&(re.lane&=-536870913)}l&=~ce}d!==0&&Tp(r,d,0),w!==0&&m===0&&r.tag!==0&&(r.suspendedLanes|=w&~(C&~o))}function Tp(r,o,l){r.pendingLanes|=o,r.suspendedLanes&=~o;var d=31-Zn(o);r.entangledLanes|=o,r.entanglements[d]=r.entanglements[d]|1073741824|l&261930}function _p(r,o){var l=r.entangledLanes|=o;for(r=r.entanglements;l;){var d=31-Zn(l),m=1<<d;m&o|r[d]&o&&(r[d]|=o),l&=~m}}function Ip(r,o){var l=o&-o;return l=(l&42)!==0?1:wf(l),(l&(r.suspendedLanes|o))!==0?0:l}function wf(r){switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=128;break;case 268435456:r=134217728;break;default:r=0}return r}function bf(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function ei(){var r=k.p;return r!==0?r:(r=window.event,r===void 0?32:Px(r.type))}function Dp(r,o){var l=k.p;try{return k.p=r,o()}finally{k.p=l}}var er=Math.random().toString(36).slice(2),an="__reactFiber$"+er,zn="__reactProps$"+er,Mo="__reactContainer$"+er,tr="__reactEvents$"+er,ny="__reactListeners$"+er,sy="__reactHandles$"+er,Op="__reactResources$"+er,Ya="__reactMarker$"+er;function vf(r){delete r[an],delete r[zn],delete r[tr],delete r[ny],delete r[sy]}function Ms(r){var o=r[an];if(o)return o;for(var l=r.parentNode;l;){if(o=l[Mo]||l[an]){if(l=o.alternate,o.child!==null||l!==null&&l.child!==null)for(r=vx(r);r!==null;){if(l=r[an])return l;r=vx(r)}return o}r=l,l=r.parentNode}return null}function Ro(r){if(r=r[an]||r[Mo]){var o=r.tag;if(o===5||o===6||o===13||o===31||o===26||o===27||o===3)return r}return null}function Xa(r){var o=r.tag;if(o===5||o===26||o===27||o===6)return r.stateNode;throw Error(s(33))}function $o(r){var o=r[Op];return o||(o=r[Op]={hoistableStyles:new Map,hoistableScripts:new Map}),o}function Zt(r){r[Ya]=!0}var Mp=new Set,Rp={};function nr(r,o){Mi(r,o),Mi(r+"Capture",o)}function Mi(r,o){for(Rp[r]=o,r=0;r<o.length;r++)Mp.add(o[r])}var iy=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),yl={},$p={};function ry(r){return _o.call($p,r)?!0:_o.call(yl,r)?!1:iy.test(r)?$p[r]=!0:(yl[r]=!0,!1)}function wl(r,o,l){if(ry(o))if(l===null)r.removeAttribute(o);else{switch(typeof l){case"undefined":case"function":case"symbol":r.removeAttribute(o);return;case"boolean":var d=o.toLowerCase().slice(0,5);if(d!=="data-"&&d!=="aria-"){r.removeAttribute(o);return}}r.setAttribute(o,""+l)}}function bl(r,o,l){if(l===null)r.removeAttribute(o);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(o);return}r.setAttribute(o,""+l)}}function Ri(r,o,l,d){if(d===null)r.removeAttribute(l);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(l);return}r.setAttributeNS(o,l,""+d)}}function rs(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function vl(r){var o=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function oy(r,o,l){var d=Object.getOwnPropertyDescriptor(r.constructor.prototype,o);if(!r.hasOwnProperty(o)&&typeof d<"u"&&typeof d.get=="function"&&typeof d.set=="function"){var m=d.get,w=d.set;return Object.defineProperty(r,o,{configurable:!0,get:function(){return m.call(this)},set:function(C){l=""+C,w.call(this,C)}}),Object.defineProperty(r,o,{enumerable:d.enumerable}),{getValue:function(){return l},setValue:function(C){l=""+C},stopTracking:function(){r._valueTracker=null,delete r[o]}}}}function Ef(r){if(!r._valueTracker){var o=vl(r)?"checked":"value";r._valueTracker=oy(r,o,""+r[o])}}function Up(r){if(!r)return!1;var o=r._valueTracker;if(!o)return!0;var l=o.getValue(),d="";return r&&(d=vl(r)?r.checked?"true":"false":r.value),r=d,r!==l?(o.setValue(r),!0):!1}function El(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var ay=/[\n"\\]/g;function os(r){return r.replace(ay,function(o){return"\\"+o.charCodeAt(0).toString(16)+" "})}function Af(r,o,l,d,m,w,C,O){r.name="",C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"?r.type=C:r.removeAttribute("type"),o!=null?C==="number"?(o===0&&r.value===""||r.value!=o)&&(r.value=""+rs(o)):r.value!==""+rs(o)&&(r.value=""+rs(o)):C!=="submit"&&C!=="reset"||r.removeAttribute("value"),o!=null?Sf(r,C,rs(o)):l!=null?Sf(r,C,rs(l)):d!=null&&r.removeAttribute("value"),m==null&&w!=null&&(r.defaultChecked=!!w),m!=null&&(r.checked=m&&typeof m!="function"&&typeof m!="symbol"),O!=null&&typeof O!="function"&&typeof O!="symbol"&&typeof O!="boolean"?r.name=""+rs(O):r.removeAttribute("name")}function Cf(r,o,l,d,m,w,C,O){if(w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"&&(r.type=w),o!=null||l!=null){if(!(w!=="submit"&&w!=="reset"||o!=null)){Ef(r);return}l=l!=null?""+rs(l):"",o=o!=null?""+rs(o):l,O||o===r.value||(r.value=o),r.defaultValue=o}d=d??m,d=typeof d!="function"&&typeof d!="symbol"&&!!d,r.checked=O?r.checked:!!d,r.defaultChecked=!!d,C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"&&(r.name=C),Ef(r)}function Sf(r,o,l){o==="number"&&El(r.ownerDocument)===r||r.defaultValue===""+l||(r.defaultValue=""+l)}function Uo(r,o,l,d){if(r=r.options,o){o={};for(var m=0;m<l.length;m++)o["$"+l[m]]=!0;for(l=0;l<r.length;l++)m=o.hasOwnProperty("$"+r[l].value),r[l].selected!==m&&(r[l].selected=m),m&&d&&(r[l].defaultSelected=!0)}else{for(l=""+rs(l),o=null,m=0;m<r.length;m++){if(r[m].value===l){r[m].selected=!0,d&&(r[m].defaultSelected=!0);return}o!==null||r[m].disabled||(o=r[m])}o!==null&&(o.selected=!0)}}function Qa(r,o,l){if(o!=null&&(o=""+rs(o),o!==r.value&&(r.value=o),l==null)){r.defaultValue!==o&&(r.defaultValue=o);return}r.defaultValue=l!=null?""+rs(l):""}function Br(r,o,l,d){if(o==null){if(d!=null){if(l!=null)throw Error(s(92));if(R(d)){if(1<d.length)throw Error(s(93));d=d[0]}l=d}l==null&&(l=""),o=l}l=rs(o),r.defaultValue=l,d=r.textContent,d===l&&d!==""&&d!==null&&(r.value=d),Ef(r)}function jr(r,o){if(o){var l=r.firstChild;if(l&&l===r.lastChild&&l.nodeType===3){l.nodeValue=o;return}}r.textContent=o}var zr=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Pp(r,o,l){var d=o.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?d?r.setProperty(o,""):o==="float"?r.cssFloat="":r[o]="":d?r.setProperty(o,l):typeof l!="number"||l===0||zr.has(o)?o==="float"?r.cssFloat=l:r[o]=(""+l).trim():r[o]=l+"px"}function Lp(r,o,l){if(o!=null&&typeof o!="object")throw Error(s(62));if(r=r.style,l!=null){for(var d in l)!l.hasOwnProperty(d)||o!=null&&o.hasOwnProperty(d)||(d.indexOf("--")===0?r.setProperty(d,""):d==="float"?r.cssFloat="":r[d]="");for(var m in o)d=o[m],o.hasOwnProperty(m)&&l[m]!==d&&Pp(r,m,d)}else for(var w in o)o.hasOwnProperty(w)&&Pp(r,w,o[w])}function xf(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var cy=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ly=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Al(r){return ly.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}function ti(){}var $i=null;function Nf(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var Hr=null,Po=null;function Cl(r){var o=Ro(r);if(o&&(r=o.stateNode)){var l=r[zn]||null;e:switch(r=o.stateNode,o.type){case"input":if(Af(r,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),o=l.name,l.type==="radio"&&o!=null){for(l=r;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+os(""+o)+'"][type="radio"]'),o=0;o<l.length;o++){var d=l[o];if(d!==r&&d.form===r.form){var m=d[zn]||null;if(!m)throw Error(s(90));Af(d,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name)}}for(o=0;o<l.length;o++)d=l[o],d.form===r.form&&Up(d)}break e;case"textarea":Qa(r,l.value,l.defaultValue);break e;case"select":o=l.value,o!=null&&Uo(r,!!l.multiple,o,!1)}}}var Sl=!1;function kp(r,o,l){if(Sl)return r(o,l);Sl=!0;try{var d=r(o);return d}finally{if(Sl=!1,(Hr!==null||Po!==null)&&(Eg(),Hr&&(o=Hr,r=Po,Po=Hr=null,Cl(o),r)))for(o=0;o<r.length;o++)Cl(r[o])}}function Za(r,o){var l=r.stateNode;if(l===null)return null;var d=l[zn]||null;if(d===null)return null;l=d[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(r=r.type,d=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!d;break e;default:r=!1}if(r)return null;if(l&&typeof l!="function")throw Error(s(231,o,typeof l));return l}var ni=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Tf=!1;if(ni)try{var sr={};Object.defineProperty(sr,"passive",{get:function(){Tf=!0}}),window.addEventListener("test",sr,sr),window.removeEventListener("test",sr,sr)}catch{Tf=!1}var ir=null,Ja=null,xl=null;function Bp(){if(xl)return xl;var r,o=Ja,l=o.length,d,m="value"in ir?ir.value:ir.textContent,w=m.length;for(r=0;r<l&&o[r]===m[r];r++);var C=l-r;for(d=1;d<=C&&o[l-d]===m[w-d];d++);return xl=m.slice(r,1<d?1-d:void 0)}function L(r){var o=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&o===13&&(r=13)):r=o,r===10&&(r=13),32<=r||r===13?r:0}function ne(){return!0}function le(){return!1}function Ee(r){function o(l,d,m,w,C){this._reactName=l,this._targetInst=m,this.type=d,this.nativeEvent=w,this.target=C,this.currentTarget=null;for(var O in r)r.hasOwnProperty(O)&&(l=r[O],this[O]=l?l(w):w[O]);return this.isDefaultPrevented=(w.defaultPrevented!=null?w.defaultPrevented:w.returnValue===!1)?ne:le,this.isPropagationStopped=le,this}return g(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=ne)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=ne)},persist:function(){},isPersistent:ne}),o}var Rt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cn=Ee(Rt),Jn=g({},Rt,{view:0,detail:0}),Hn=Ee(Jn),Nl,rr,Lo,ec=g({},Jn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:fy,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==Lo&&(Lo&&r.type==="mousemove"?(Nl=r.screenX-Lo.screenX,rr=r.screenY-Lo.screenY):rr=Nl=0,Lo=r),Nl)},movementY:function(r){return"movementY"in r?r.movementY:rr}}),_f=Ee(ec),If=g({},ec,{dataTransfer:0}),Tl=Ee(If),YM=g({},Jn,{relatedTarget:0}),uy=Ee(YM),XM=g({},Rt,{animationName:0,elapsedTime:0,pseudoElement:0}),QM=Ee(XM),ZM=g({},Rt,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),JM=Ee(ZM),eR=g({},Rt,{data:0}),mA=Ee(eR),tR={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},nR={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},sR={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function iR(r){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(r):(r=sR[r])?!!o[r]:!1}function fy(){return iR}var rR=g({},Jn,{key:function(r){if(r.key){var o=tR[r.key]||r.key;if(o!=="Unidentified")return o}return r.type==="keypress"?(r=L(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?nR[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:fy,charCode:function(r){return r.type==="keypress"?L(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?L(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),oR=Ee(rR),aR=g({},ec,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),yA=Ee(aR),cR=g({},Jn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:fy}),lR=Ee(cR),uR=g({},Rt,{propertyName:0,elapsedTime:0,pseudoElement:0}),fR=Ee(uR),dR=g({},ec,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),hR=Ee(dR),pR=g({},Rt,{newState:0,oldState:0}),gR=Ee(pR),mR=[9,13,27,32],dy=ni&&"CompositionEvent"in window,Df=null;ni&&"documentMode"in document&&(Df=document.documentMode);var yR=ni&&"TextEvent"in window&&!Df,wA=ni&&(!dy||Df&&8<Df&&11>=Df),bA=" ",vA=!1;function EA(r,o){switch(r){case"keyup":return mR.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function AA(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var _l=!1;function wR(r,o){switch(r){case"compositionend":return AA(o);case"keypress":return o.which!==32?null:(vA=!0,bA);case"textInput":return r=o.data,r===bA&&vA?null:r;default:return null}}function bR(r,o){if(_l)return r==="compositionend"||!dy&&EA(r,o)?(r=Bp(),xl=Ja=ir=null,_l=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return wA&&o.locale!=="ko"?null:o.data;default:return null}}var vR={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function CA(r){var o=r&&r.nodeName&&r.nodeName.toLowerCase();return o==="input"?!!vR[r.type]:o==="textarea"}function SA(r,o,l,d){Hr?Po?Po.push(d):Po=[d]:Hr=d,o=_g(o,"onChange"),0<o.length&&(l=new cn("onChange","change",null,l,d),r.push({event:l,listeners:o}))}var Of=null,Mf=null;function ER(r){ox(r,0)}function jp(r){var o=Xa(r);if(Up(o))return r}function xA(r,o){if(r==="change")return o}var NA=!1;if(ni){var hy;if(ni){var py="oninput"in document;if(!py){var TA=document.createElement("div");TA.setAttribute("oninput","return;"),py=typeof TA.oninput=="function"}hy=py}else hy=!1;NA=hy&&(!document.documentMode||9<document.documentMode)}function _A(){Of&&(Of.detachEvent("onpropertychange",IA),Mf=Of=null)}function IA(r){if(r.propertyName==="value"&&jp(Mf)){var o=[];SA(o,Mf,r,Nf(r)),kp(ER,o)}}function AR(r,o,l){r==="focusin"?(_A(),Of=o,Mf=l,Of.attachEvent("onpropertychange",IA)):r==="focusout"&&_A()}function CR(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return jp(Mf)}function SR(r,o){if(r==="click")return jp(o)}function xR(r,o){if(r==="input"||r==="change")return jp(o)}function NR(r,o){return r===o&&(r!==0||1/r===1/o)||r!==r&&o!==o}var Rs=typeof Object.is=="function"?Object.is:NR;function Rf(r,o){if(Rs(r,o))return!0;if(typeof r!="object"||r===null||typeof o!="object"||o===null)return!1;var l=Object.keys(r),d=Object.keys(o);if(l.length!==d.length)return!1;for(d=0;d<l.length;d++){var m=l[d];if(!_o.call(o,m)||!Rs(r[m],o[m]))return!1}return!0}function DA(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function OA(r,o){var l=DA(r);r=0;for(var d;l;){if(l.nodeType===3){if(d=r+l.textContent.length,r<=o&&d>=o)return{node:l,offset:o-r};r=d}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=DA(l)}}function MA(r,o){return r&&o?r===o?!0:r&&r.nodeType===3?!1:o&&o.nodeType===3?MA(r,o.parentNode):"contains"in r?r.contains(o):r.compareDocumentPosition?!!(r.compareDocumentPosition(o)&16):!1:!1}function RA(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var o=El(r.document);o instanceof r.HTMLIFrameElement;){try{var l=typeof o.contentWindow.location.href=="string"}catch{l=!1}if(l)r=o.contentWindow;else break;o=El(r.document)}return o}function gy(r){var o=r&&r.nodeName&&r.nodeName.toLowerCase();return o&&(o==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||o==="textarea"||r.contentEditable==="true")}var TR=ni&&"documentMode"in document&&11>=document.documentMode,Il=null,my=null,$f=null,yy=!1;function $A(r,o,l){var d=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;yy||Il==null||Il!==El(d)||(d=Il,"selectionStart"in d&&gy(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),$f&&Rf($f,d)||($f=d,d=_g(my,"onSelect"),0<d.length&&(o=new cn("onSelect","select",null,o,l),r.push({event:o,listeners:d}),o.target=Il)))}function tc(r,o){var l={};return l[r.toLowerCase()]=o.toLowerCase(),l["Webkit"+r]="webkit"+o,l["Moz"+r]="moz"+o,l}var Dl={animationend:tc("Animation","AnimationEnd"),animationiteration:tc("Animation","AnimationIteration"),animationstart:tc("Animation","AnimationStart"),transitionrun:tc("Transition","TransitionRun"),transitionstart:tc("Transition","TransitionStart"),transitioncancel:tc("Transition","TransitionCancel"),transitionend:tc("Transition","TransitionEnd")},wy={},UA={};ni&&(UA=document.createElement("div").style,"AnimationEvent"in window||(delete Dl.animationend.animation,delete Dl.animationiteration.animation,delete Dl.animationstart.animation),"TransitionEvent"in window||delete Dl.transitionend.transition);function nc(r){if(wy[r])return wy[r];if(!Dl[r])return r;var o=Dl[r],l;for(l in o)if(o.hasOwnProperty(l)&&l in UA)return wy[r]=o[l];return r}var PA=nc("animationend"),LA=nc("animationiteration"),kA=nc("animationstart"),_R=nc("transitionrun"),IR=nc("transitionstart"),DR=nc("transitioncancel"),BA=nc("transitionend"),jA=new Map,by="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");by.push("scrollEnd");function Ui(r,o){jA.set(r,o),nr(o,[r])}var zp=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var o=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(o))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)},si=[],Ol=0,vy=0;function Hp(){for(var r=Ol,o=vy=Ol=0;o<r;){var l=si[o];si[o++]=null;var d=si[o];si[o++]=null;var m=si[o];si[o++]=null;var w=si[o];if(si[o++]=null,d!==null&&m!==null){var C=d.pending;C===null?m.next=m:(m.next=C.next,C.next=m),d.pending=m}w!==0&&zA(l,m,w)}}function Fp(r,o,l,d){si[Ol++]=r,si[Ol++]=o,si[Ol++]=l,si[Ol++]=d,vy|=d,r.lanes|=d,r=r.alternate,r!==null&&(r.lanes|=d)}function Ey(r,o,l,d){return Fp(r,o,l,d),qp(r)}function sc(r,o){return Fp(r,null,null,o),qp(r)}function zA(r,o,l){r.lanes|=l;var d=r.alternate;d!==null&&(d.lanes|=l);for(var m=!1,w=r.return;w!==null;)w.childLanes|=l,d=w.alternate,d!==null&&(d.childLanes|=l),w.tag===22&&(r=w.stateNode,r===null||r._visibility&1||(m=!0)),r=w,w=w.return;return r.tag===3?(w=r.stateNode,m&&o!==null&&(m=31-Zn(l),r=w.hiddenUpdates,d=r[m],d===null?r[m]=[o]:d.push(o),o.lane=l|536870912),w):null}function qp(r){if(50<nd)throw nd=0,Dw=null,Error(s(185));for(var o=r.return;o!==null;)r=o,o=r.return;return r.tag===3?r.stateNode:null}var Ml={};function OR(r,o,l,d){this.tag=r,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function $s(r,o,l,d){return new OR(r,o,l,d)}function Ay(r){return r=r.prototype,!(!r||!r.isReactComponent)}function Fr(r,o){var l=r.alternate;return l===null?(l=$s(r.tag,o,r.key,r.mode),l.elementType=r.elementType,l.type=r.type,l.stateNode=r.stateNode,l.alternate=r,r.alternate=l):(l.pendingProps=o,l.type=r.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=r.flags&65011712,l.childLanes=r.childLanes,l.lanes=r.lanes,l.child=r.child,l.memoizedProps=r.memoizedProps,l.memoizedState=r.memoizedState,l.updateQueue=r.updateQueue,o=r.dependencies,l.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},l.sibling=r.sibling,l.index=r.index,l.ref=r.ref,l.refCleanup=r.refCleanup,l}function HA(r,o){r.flags&=65011714;var l=r.alternate;return l===null?(r.childLanes=0,r.lanes=o,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=l.childLanes,r.lanes=l.lanes,r.child=l.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=l.memoizedProps,r.memoizedState=l.memoizedState,r.updateQueue=l.updateQueue,r.type=l.type,o=l.dependencies,r.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),r}function Vp(r,o,l,d,m,w){var C=0;if(d=r,typeof r=="function")Ay(r)&&(C=1);else if(typeof r=="string")C=P$(r,l,ie.current)?26:r==="html"||r==="head"||r==="body"?27:5;else e:switch(r){case M:return r=$s(31,l,o,m),r.elementType=M,r.lanes=w,r;case E:return ic(l.children,m,w,o);case A:C=8,m|=24;break;case S:return r=$s(12,l,o,m|2),r.elementType=S,r.lanes=w,r;case T:return r=$s(13,l,o,m),r.elementType=T,r.lanes=w,r;case I:return r=$s(19,l,o,m),r.elementType=I,r.lanes=w,r;default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case x:C=10;break e;case D:C=9;break e;case N:C=11;break e;case $:C=14;break e;case P:C=16,d=null;break e}C=29,l=Error(s(130,r===null?"null":typeof r,"")),d=null}return o=$s(C,l,o,m),o.elementType=r,o.type=d,o.lanes=w,o}function ic(r,o,l,d){return r=$s(7,r,d,o),r.lanes=l,r}function Cy(r,o,l){return r=$s(6,r,null,o),r.lanes=l,r}function FA(r){var o=$s(18,null,null,0);return o.stateNode=r,o}function Sy(r,o,l){return o=$s(4,r.children!==null?r.children:[],r.key,o),o.lanes=l,o.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},o}var qA=new WeakMap;function ii(r,o){if(typeof r=="object"&&r!==null){var l=qA.get(r);return l!==void 0?l:(o={value:r,source:o,stack:dl(o)},qA.set(r,o),o)}return{value:r,source:o,stack:dl(o)}}var Rl=[],$l=0,Wp=null,Uf=0,ri=[],oi=0,ko=null,or=1,ar="";function qr(r,o){Rl[$l++]=Uf,Rl[$l++]=Wp,Wp=r,Uf=o}function VA(r,o,l){ri[oi++]=or,ri[oi++]=ar,ri[oi++]=ko,ko=r;var d=or;r=ar;var m=32-Zn(d)-1;d&=~(1<<m),l+=1;var w=32-Zn(o)+m;if(30<w){var C=m-m%5;w=(d&(1<<C)-1).toString(32),d>>=C,m-=C,or=1<<32-Zn(o)+m|l<<m|d,ar=w+r}else or=1<<w|l<<m|d,ar=r}function xy(r){r.return!==null&&(qr(r,1),VA(r,1,0))}function Ny(r){for(;r===Wp;)Wp=Rl[--$l],Rl[$l]=null,Uf=Rl[--$l],Rl[$l]=null;for(;r===ko;)ko=ri[--oi],ri[oi]=null,ar=ri[--oi],ri[oi]=null,or=ri[--oi],ri[oi]=null}function WA(r,o){ri[oi++]=or,ri[oi++]=ar,ri[oi++]=ko,or=o.id,ar=o.overflow,ko=r}var xn=null,$t=null,Ze=!1,Bo=null,ai=!1,Ty=Error(s(519));function jo(r){var o=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Pf(ii(o,r)),Ty}function KA(r){var o=r.stateNode,l=r.type,d=r.memoizedProps;switch(o[an]=r,o[zn]=d,l){case"dialog":Ye("cancel",o),Ye("close",o);break;case"iframe":case"object":case"embed":Ye("load",o);break;case"video":case"audio":for(l=0;l<id.length;l++)Ye(id[l],o);break;case"source":Ye("error",o);break;case"img":case"image":case"link":Ye("error",o),Ye("load",o);break;case"details":Ye("toggle",o);break;case"input":Ye("invalid",o),Cf(o,d.value,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name,!0);break;case"select":Ye("invalid",o);break;case"textarea":Ye("invalid",o),Br(o,d.value,d.defaultValue,d.children)}l=d.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||o.textContent===""+l||d.suppressHydrationWarning===!0||ux(o.textContent,l)?(d.popover!=null&&(Ye("beforetoggle",o),Ye("toggle",o)),d.onScroll!=null&&Ye("scroll",o),d.onScrollEnd!=null&&Ye("scrollend",o),d.onClick!=null&&(o.onclick=ti),o=!0):o=!1,o||jo(r,!0)}function GA(r){for(xn=r.return;xn;)switch(xn.tag){case 5:case 31:case 13:ai=!1;return;case 27:case 3:ai=!0;return;default:xn=xn.return}}function Ul(r){if(r!==xn)return!1;if(!Ze)return GA(r),Ze=!0,!1;var o=r.tag,l;if((l=o!==3&&o!==27)&&((l=o===5)&&(l=r.type,l=!(l!=="form"&&l!=="button")||Vw(r.type,r.memoizedProps)),l=!l),l&&$t&&jo(r),GA(r),o===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(s(317));$t=bx(r)}else if(o===31){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(s(317));$t=bx(r)}else o===27?(o=$t,ea(r.type)?(r=Xw,Xw=null,$t=r):$t=o):$t=xn?li(r.stateNode.nextSibling):null;return!0}function rc(){$t=xn=null,Ze=!1}function _y(){var r=Bo;return r!==null&&(us===null?us=r:us.push.apply(us,r),Bo=null),r}function Pf(r){Bo===null?Bo=[r]:Bo.push(r)}var Iy=U(null),oc=null,Vr=null;function zo(r,o,l){te(Iy,o._currentValue),o._currentValue=l}function Wr(r){r._currentValue=Iy.current,K(Iy)}function Dy(r,o,l){for(;r!==null;){var d=r.alternate;if((r.childLanes&o)!==o?(r.childLanes|=o,d!==null&&(d.childLanes|=o)):d!==null&&(d.childLanes&o)!==o&&(d.childLanes|=o),r===l)break;r=r.return}}function Oy(r,o,l,d){var m=r.child;for(m!==null&&(m.return=r);m!==null;){var w=m.dependencies;if(w!==null){var C=m.child;w=w.firstContext;e:for(;w!==null;){var O=w;w=m;for(var j=0;j<o.length;j++)if(O.context===o[j]){w.lanes|=l,O=w.alternate,O!==null&&(O.lanes|=l),Dy(w.return,l,r),d||(C=null);break e}w=O.next}}else if(m.tag===18){if(C=m.return,C===null)throw Error(s(341));C.lanes|=l,w=C.alternate,w!==null&&(w.lanes|=l),Dy(C,l,r),C=null}else C=m.child;if(C!==null)C.return=m;else for(C=m;C!==null;){if(C===r){C=null;break}if(m=C.sibling,m!==null){m.return=C.return,C=m;break}C=C.return}m=C}}function Pl(r,o,l,d){r=null;for(var m=o,w=!1;m!==null;){if(!w){if((m.flags&524288)!==0)w=!0;else if((m.flags&262144)!==0)break}if(m.tag===10){var C=m.alternate;if(C===null)throw Error(s(387));if(C=C.memoizedProps,C!==null){var O=m.type;Rs(m.pendingProps.value,C.value)||(r!==null?r.push(O):r=[O])}}else if(m===xe.current){if(C=m.alternate,C===null)throw Error(s(387));C.memoizedState.memoizedState!==m.memoizedState.memoizedState&&(r!==null?r.push(ld):r=[ld])}m=m.return}r!==null&&Oy(o,r,l,d),o.flags|=262144}function Kp(r){for(r=r.firstContext;r!==null;){if(!Rs(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function ac(r){oc=r,Vr=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function Nn(r){return YA(oc,r)}function Gp(r,o){return oc===null&&ac(r),YA(r,o)}function YA(r,o){var l=o._currentValue;if(o={context:o,memoizedValue:l,next:null},Vr===null){if(r===null)throw Error(s(308));Vr=o,r.dependencies={lanes:0,firstContext:o},r.flags|=524288}else Vr=Vr.next=o;return l}var MR=typeof AbortController<"u"?AbortController:function(){var r=[],o=this.signal={aborted:!1,addEventListener:function(l,d){r.push(d)}};this.abort=function(){o.aborted=!0,r.forEach(function(l){return l()})}},RR=t.unstable_scheduleCallback,$R=t.unstable_NormalPriority,Jt={$$typeof:x,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function My(){return{controller:new MR,data:new Map,refCount:0}}function Lf(r){r.refCount--,r.refCount===0&&RR($R,function(){r.controller.abort()})}var kf=null,Ry=0,Ll=0,kl=null;function UR(r,o){if(kf===null){var l=kf=[];Ry=0,Ll=Pw(),kl={status:"pending",value:void 0,then:function(d){l.push(d)}}}return Ry++,o.then(XA,XA),o}function XA(){if(--Ry===0&&kf!==null){kl!==null&&(kl.status="fulfilled");var r=kf;kf=null,Ll=0,kl=null;for(var o=0;o<r.length;o++)(0,r[o])()}}function PR(r,o){var l=[],d={status:"pending",value:null,reason:null,then:function(m){l.push(m)}};return r.then(function(){d.status="fulfilled",d.value=o;for(var m=0;m<l.length;m++)(0,l[m])(o)},function(m){for(d.status="rejected",d.reason=m,m=0;m<l.length;m++)(0,l[m])(void 0)}),d}var QA=_.S;_.S=function(r,o){$S=Mt(),typeof o=="object"&&o!==null&&typeof o.then=="function"&&UR(r,o),QA!==null&&QA(r,o)};var cc=U(null);function $y(){var r=cc.current;return r!==null?r:Nt.pooledCache}function Yp(r,o){o===null?te(cc,cc.current):te(cc,o.pool)}function ZA(){var r=$y();return r===null?null:{parent:Jt._currentValue,pool:r}}var Bl=Error(s(460)),Uy=Error(s(474)),Xp=Error(s(542)),Qp={then:function(){}};function JA(r){return r=r.status,r==="fulfilled"||r==="rejected"}function eC(r,o,l){switch(l=r[l],l===void 0?r.push(o):l!==o&&(o.then(ti,ti),o=l),o.status){case"fulfilled":return o.value;case"rejected":throw r=o.reason,nC(r),r;default:if(typeof o.status=="string")o.then(ti,ti);else{if(r=Nt,r!==null&&100<r.shellSuspendCounter)throw Error(s(482));r=o,r.status="pending",r.then(function(d){if(o.status==="pending"){var m=o;m.status="fulfilled",m.value=d}},function(d){if(o.status==="pending"){var m=o;m.status="rejected",m.reason=d}})}switch(o.status){case"fulfilled":return o.value;case"rejected":throw r=o.reason,nC(r),r}throw uc=o,Bl}}function lc(r){try{var o=r._init;return o(r._payload)}catch(l){throw l!==null&&typeof l=="object"&&typeof l.then=="function"?(uc=l,Bl):l}}var uc=null;function tC(){if(uc===null)throw Error(s(459));var r=uc;return uc=null,r}function nC(r){if(r===Bl||r===Xp)throw Error(s(483))}var jl=null,Bf=0;function Zp(r){var o=Bf;return Bf+=1,jl===null&&(jl=[]),eC(jl,r,o)}function jf(r,o){o=o.props.ref,r.ref=o!==void 0?o:null}function Jp(r,o){throw o.$$typeof===y?Error(s(525)):(r=Object.prototype.toString.call(o),Error(s(31,r==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":r)))}function sC(r){function o(Y,W){if(r){var Z=Y.deletions;Z===null?(Y.deletions=[W],Y.flags|=16):Z.push(W)}}function l(Y,W){if(!r)return null;for(;W!==null;)o(Y,W),W=W.sibling;return null}function d(Y){for(var W=new Map;Y!==null;)Y.key!==null?W.set(Y.key,Y):W.set(Y.index,Y),Y=Y.sibling;return W}function m(Y,W){return Y=Fr(Y,W),Y.index=0,Y.sibling=null,Y}function w(Y,W,Z){return Y.index=Z,r?(Z=Y.alternate,Z!==null?(Z=Z.index,Z<W?(Y.flags|=67108866,W):Z):(Y.flags|=67108866,W)):(Y.flags|=1048576,W)}function C(Y){return r&&Y.alternate===null&&(Y.flags|=67108866),Y}function O(Y,W,Z,ae){return W===null||W.tag!==6?(W=Cy(Z,Y.mode,ae),W.return=Y,W):(W=m(W,Z),W.return=Y,W)}function j(Y,W,Z,ae){var Re=Z.type;return Re===E?oe(Y,W,Z.props.children,ae,Z.key):W!==null&&(W.elementType===Re||typeof Re=="object"&&Re!==null&&Re.$$typeof===P&&lc(Re)===W.type)?(W=m(W,Z.props),jf(W,Z),W.return=Y,W):(W=Vp(Z.type,Z.key,Z.props,null,Y.mode,ae),jf(W,Z),W.return=Y,W)}function J(Y,W,Z,ae){return W===null||W.tag!==4||W.stateNode.containerInfo!==Z.containerInfo||W.stateNode.implementation!==Z.implementation?(W=Sy(Z,Y.mode,ae),W.return=Y,W):(W=m(W,Z.children||[]),W.return=Y,W)}function oe(Y,W,Z,ae,Re){return W===null||W.tag!==7?(W=ic(Z,Y.mode,ae,Re),W.return=Y,W):(W=m(W,Z),W.return=Y,W)}function ce(Y,W,Z){if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return W=Cy(""+W,Y.mode,Z),W.return=Y,W;if(typeof W=="object"&&W!==null){switch(W.$$typeof){case b:return Z=Vp(W.type,W.key,W.props,null,Y.mode,Z),jf(Z,W),Z.return=Y,Z;case v:return W=Sy(W,Y.mode,Z),W.return=Y,W;case P:return W=lc(W),ce(Y,W,Z)}if(R(W)||F(W))return W=ic(W,Y.mode,Z,null),W.return=Y,W;if(typeof W.then=="function")return ce(Y,Zp(W),Z);if(W.$$typeof===x)return ce(Y,Gp(Y,W),Z);Jp(Y,W)}return null}function se(Y,W,Z,ae){var Re=W!==null?W.key:null;if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return Re!==null?null:O(Y,W,""+Z,ae);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case b:return Z.key===Re?j(Y,W,Z,ae):null;case v:return Z.key===Re?J(Y,W,Z,ae):null;case P:return Z=lc(Z),se(Y,W,Z,ae)}if(R(Z)||F(Z))return Re!==null?null:oe(Y,W,Z,ae,null);if(typeof Z.then=="function")return se(Y,W,Zp(Z),ae);if(Z.$$typeof===x)return se(Y,W,Gp(Y,Z),ae);Jp(Y,Z)}return null}function re(Y,W,Z,ae,Re){if(typeof ae=="string"&&ae!==""||typeof ae=="number"||typeof ae=="bigint")return Y=Y.get(Z)||null,O(W,Y,""+ae,Re);if(typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case b:return Y=Y.get(ae.key===null?Z:ae.key)||null,j(W,Y,ae,Re);case v:return Y=Y.get(ae.key===null?Z:ae.key)||null,J(W,Y,ae,Re);case P:return ae=lc(ae),re(Y,W,Z,ae,Re)}if(R(ae)||F(ae))return Y=Y.get(Z)||null,oe(W,Y,ae,Re,null);if(typeof ae.then=="function")return re(Y,W,Z,Zp(ae),Re);if(ae.$$typeof===x)return re(Y,W,Z,Gp(W,ae),Re);Jp(W,ae)}return null}function Se(Y,W,Z,ae){for(var Re=null,st=null,Ne=W,qe=W=0,Qe=null;Ne!==null&&qe<Z.length;qe++){Ne.index>qe?(Qe=Ne,Ne=null):Qe=Ne.sibling;var it=se(Y,Ne,Z[qe],ae);if(it===null){Ne===null&&(Ne=Qe);break}r&&Ne&&it.alternate===null&&o(Y,Ne),W=w(it,W,qe),st===null?Re=it:st.sibling=it,st=it,Ne=Qe}if(qe===Z.length)return l(Y,Ne),Ze&&qr(Y,qe),Re;if(Ne===null){for(;qe<Z.length;qe++)Ne=ce(Y,Z[qe],ae),Ne!==null&&(W=w(Ne,W,qe),st===null?Re=Ne:st.sibling=Ne,st=Ne);return Ze&&qr(Y,qe),Re}for(Ne=d(Ne);qe<Z.length;qe++)Qe=re(Ne,Y,qe,Z[qe],ae),Qe!==null&&(r&&Qe.alternate!==null&&Ne.delete(Qe.key===null?qe:Qe.key),W=w(Qe,W,qe),st===null?Re=Qe:st.sibling=Qe,st=Qe);return r&&Ne.forEach(function(ra){return o(Y,ra)}),Ze&&qr(Y,qe),Re}function Le(Y,W,Z,ae){if(Z==null)throw Error(s(151));for(var Re=null,st=null,Ne=W,qe=W=0,Qe=null,it=Z.next();Ne!==null&&!it.done;qe++,it=Z.next()){Ne.index>qe?(Qe=Ne,Ne=null):Qe=Ne.sibling;var ra=se(Y,Ne,it.value,ae);if(ra===null){Ne===null&&(Ne=Qe);break}r&&Ne&&ra.alternate===null&&o(Y,Ne),W=w(ra,W,qe),st===null?Re=ra:st.sibling=ra,st=ra,Ne=Qe}if(it.done)return l(Y,Ne),Ze&&qr(Y,qe),Re;if(Ne===null){for(;!it.done;qe++,it=Z.next())it=ce(Y,it.value,ae),it!==null&&(W=w(it,W,qe),st===null?Re=it:st.sibling=it,st=it);return Ze&&qr(Y,qe),Re}for(Ne=d(Ne);!it.done;qe++,it=Z.next())it=re(Ne,Y,qe,it.value,ae),it!==null&&(r&&it.alternate!==null&&Ne.delete(it.key===null?qe:it.key),W=w(it,W,qe),st===null?Re=it:st.sibling=it,st=it);return r&&Ne.forEach(function(K$){return o(Y,K$)}),Ze&&qr(Y,qe),Re}function Ct(Y,W,Z,ae){if(typeof Z=="object"&&Z!==null&&Z.type===E&&Z.key===null&&(Z=Z.props.children),typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case b:e:{for(var Re=Z.key;W!==null;){if(W.key===Re){if(Re=Z.type,Re===E){if(W.tag===7){l(Y,W.sibling),ae=m(W,Z.props.children),ae.return=Y,Y=ae;break e}}else if(W.elementType===Re||typeof Re=="object"&&Re!==null&&Re.$$typeof===P&&lc(Re)===W.type){l(Y,W.sibling),ae=m(W,Z.props),jf(ae,Z),ae.return=Y,Y=ae;break e}l(Y,W);break}else o(Y,W);W=W.sibling}Z.type===E?(ae=ic(Z.props.children,Y.mode,ae,Z.key),ae.return=Y,Y=ae):(ae=Vp(Z.type,Z.key,Z.props,null,Y.mode,ae),jf(ae,Z),ae.return=Y,Y=ae)}return C(Y);case v:e:{for(Re=Z.key;W!==null;){if(W.key===Re)if(W.tag===4&&W.stateNode.containerInfo===Z.containerInfo&&W.stateNode.implementation===Z.implementation){l(Y,W.sibling),ae=m(W,Z.children||[]),ae.return=Y,Y=ae;break e}else{l(Y,W);break}else o(Y,W);W=W.sibling}ae=Sy(Z,Y.mode,ae),ae.return=Y,Y=ae}return C(Y);case P:return Z=lc(Z),Ct(Y,W,Z,ae)}if(R(Z))return Se(Y,W,Z,ae);if(F(Z)){if(Re=F(Z),typeof Re!="function")throw Error(s(150));return Z=Re.call(Z),Le(Y,W,Z,ae)}if(typeof Z.then=="function")return Ct(Y,W,Zp(Z),ae);if(Z.$$typeof===x)return Ct(Y,W,Gp(Y,Z),ae);Jp(Y,Z)}return typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint"?(Z=""+Z,W!==null&&W.tag===6?(l(Y,W.sibling),ae=m(W,Z),ae.return=Y,Y=ae):(l(Y,W),ae=Cy(Z,Y.mode,ae),ae.return=Y,Y=ae),C(Y)):l(Y,W)}return function(Y,W,Z,ae){try{Bf=0;var Re=Ct(Y,W,Z,ae);return jl=null,Re}catch(Ne){if(Ne===Bl||Ne===Xp)throw Ne;var st=$s(29,Ne,null,Y.mode);return st.lanes=ae,st.return=Y,st}finally{}}}var fc=sC(!0),iC=sC(!1),Ho=!1;function Py(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ly(r,o){r=r.updateQueue,o.updateQueue===r&&(o.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function Fo(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function qo(r,o,l){var d=r.updateQueue;if(d===null)return null;if(d=d.shared,(ut&2)!==0){var m=d.pending;return m===null?o.next=o:(o.next=m.next,m.next=o),d.pending=o,o=qp(r),zA(r,null,l),o}return Fp(r,d,o,l),qp(r)}function zf(r,o,l){if(o=o.updateQueue,o!==null&&(o=o.shared,(l&4194048)!==0)){var d=o.lanes;d&=r.pendingLanes,l|=d,o.lanes=l,_p(r,l)}}function ky(r,o){var l=r.updateQueue,d=r.alternate;if(d!==null&&(d=d.updateQueue,l===d)){var m=null,w=null;if(l=l.firstBaseUpdate,l!==null){do{var C={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};w===null?m=w=C:w=w.next=C,l=l.next}while(l!==null);w===null?m=w=o:w=w.next=o}else m=w=o;l={baseState:d.baseState,firstBaseUpdate:m,lastBaseUpdate:w,shared:d.shared,callbacks:d.callbacks},r.updateQueue=l;return}r=l.lastBaseUpdate,r===null?l.firstBaseUpdate=o:r.next=o,l.lastBaseUpdate=o}var By=!1;function Hf(){if(By){var r=kl;if(r!==null)throw r}}function Ff(r,o,l,d){By=!1;var m=r.updateQueue;Ho=!1;var w=m.firstBaseUpdate,C=m.lastBaseUpdate,O=m.shared.pending;if(O!==null){m.shared.pending=null;var j=O,J=j.next;j.next=null,C===null?w=J:C.next=J,C=j;var oe=r.alternate;oe!==null&&(oe=oe.updateQueue,O=oe.lastBaseUpdate,O!==C&&(O===null?oe.firstBaseUpdate=J:O.next=J,oe.lastBaseUpdate=j))}if(w!==null){var ce=m.baseState;C=0,oe=J=j=null,O=w;do{var se=O.lane&-536870913,re=se!==O.lane;if(re?(Xe&se)===se:(d&se)===se){se!==0&&se===Ll&&(By=!0),oe!==null&&(oe=oe.next={lane:0,tag:O.tag,payload:O.payload,callback:null,next:null});e:{var Se=r,Le=O;se=o;var Ct=l;switch(Le.tag){case 1:if(Se=Le.payload,typeof Se=="function"){ce=Se.call(Ct,ce,se);break e}ce=Se;break e;case 3:Se.flags=Se.flags&-65537|128;case 0:if(Se=Le.payload,se=typeof Se=="function"?Se.call(Ct,ce,se):Se,se==null)break e;ce=g({},ce,se);break e;case 2:Ho=!0}}se=O.callback,se!==null&&(r.flags|=64,re&&(r.flags|=8192),re=m.callbacks,re===null?m.callbacks=[se]:re.push(se))}else re={lane:se,tag:O.tag,payload:O.payload,callback:O.callback,next:null},oe===null?(J=oe=re,j=ce):oe=oe.next=re,C|=se;if(O=O.next,O===null){if(O=m.shared.pending,O===null)break;re=O,O=re.next,re.next=null,m.lastBaseUpdate=re,m.shared.pending=null}}while(!0);oe===null&&(j=ce),m.baseState=j,m.firstBaseUpdate=J,m.lastBaseUpdate=oe,w===null&&(m.shared.lanes=0),Yo|=C,r.lanes=C,r.memoizedState=ce}}function rC(r,o){if(typeof r!="function")throw Error(s(191,r));r.call(o)}function oC(r,o){var l=r.callbacks;if(l!==null)for(r.callbacks=null,r=0;r<l.length;r++)rC(l[r],o)}var zl=U(null),eg=U(0);function aC(r,o){r=to,te(eg,r),te(zl,o),to=r|o.baseLanes}function jy(){te(eg,to),te(zl,zl.current)}function zy(){to=eg.current,K(zl),K(eg)}var Us=U(null),ci=null;function Vo(r){var o=r.alternate;te(Wt,Wt.current&1),te(Us,r),ci===null&&(o===null||zl.current!==null||o.memoizedState!==null)&&(ci=r)}function Hy(r){te(Wt,Wt.current),te(Us,r),ci===null&&(ci=r)}function cC(r){r.tag===22?(te(Wt,Wt.current),te(Us,r),ci===null&&(ci=r)):Wo()}function Wo(){te(Wt,Wt.current),te(Us,Us.current)}function Ps(r){K(Us),ci===r&&(ci=null),K(Wt)}var Wt=U(0);function tg(r){for(var o=r;o!==null;){if(o.tag===13){var l=o.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||Gw(l)||Yw(l)))return o}else if(o.tag===19&&(o.memoizedProps.revealOrder==="forwards"||o.memoizedProps.revealOrder==="backwards"||o.memoizedProps.revealOrder==="unstable_legacy-backwards"||o.memoizedProps.revealOrder==="together")){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===r)break;for(;o.sibling===null;){if(o.return===null||o.return===r)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var Kr=0,He=null,Et=null,en=null,ng=!1,Hl=!1,dc=!1,sg=0,qf=0,Fl=null,LR=0;function Ft(){throw Error(s(321))}function Fy(r,o){if(o===null)return!1;for(var l=0;l<o.length&&l<r.length;l++)if(!Rs(r[l],o[l]))return!1;return!0}function qy(r,o,l,d,m,w){return Kr=w,He=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,_.H=r===null||r.memoizedState===null?VC:rw,dc=!1,w=l(d,m),dc=!1,Hl&&(w=uC(o,l,d,m)),lC(r),w}function lC(r){_.H=Kf;var o=Et!==null&&Et.next!==null;if(Kr=0,en=Et=He=null,ng=!1,qf=0,Fl=null,o)throw Error(s(300));r===null||tn||(r=r.dependencies,r!==null&&Kp(r)&&(tn=!0))}function uC(r,o,l,d){He=r;var m=0;do{if(Hl&&(Fl=null),qf=0,Hl=!1,25<=m)throw Error(s(301));if(m+=1,en=Et=null,r.updateQueue!=null){var w=r.updateQueue;w.lastEffect=null,w.events=null,w.stores=null,w.memoCache!=null&&(w.memoCache.index=0)}_.H=WC,w=o(l,d)}while(Hl);return w}function kR(){var r=_.H,o=r.useState()[0];return o=typeof o.then=="function"?Vf(o):o,r=r.useState()[0],(Et!==null?Et.memoizedState:null)!==r&&(He.flags|=1024),o}function Vy(){var r=sg!==0;return sg=0,r}function Wy(r,o,l){o.updateQueue=r.updateQueue,o.flags&=-2053,r.lanes&=~l}function Ky(r){if(ng){for(r=r.memoizedState;r!==null;){var o=r.queue;o!==null&&(o.pending=null),r=r.next}ng=!1}Kr=0,en=Et=He=null,Hl=!1,qf=sg=0,Fl=null}function es(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return en===null?He.memoizedState=en=r:en=en.next=r,en}function Kt(){if(Et===null){var r=He.alternate;r=r!==null?r.memoizedState:null}else r=Et.next;var o=en===null?He.memoizedState:en.next;if(o!==null)en=o,Et=r;else{if(r===null)throw He.alternate===null?Error(s(467)):Error(s(310));Et=r,r={memoizedState:Et.memoizedState,baseState:Et.baseState,baseQueue:Et.baseQueue,queue:Et.queue,next:null},en===null?He.memoizedState=en=r:en=en.next=r}return en}function ig(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Vf(r){var o=qf;return qf+=1,Fl===null&&(Fl=[]),r=eC(Fl,r,o),o=He,(en===null?o.memoizedState:en.next)===null&&(o=o.alternate,_.H=o===null||o.memoizedState===null?VC:rw),r}function rg(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return Vf(r);if(r.$$typeof===x)return Nn(r)}throw Error(s(438,String(r)))}function Gy(r){var o=null,l=He.updateQueue;if(l!==null&&(o=l.memoCache),o==null){var d=He.alternate;d!==null&&(d=d.updateQueue,d!==null&&(d=d.memoCache,d!=null&&(o={data:d.data.map(function(m){return m.slice()}),index:0})))}if(o==null&&(o={data:[],index:0}),l===null&&(l=ig(),He.updateQueue=l),l.memoCache=o,l=o.data[o.index],l===void 0)for(l=o.data[o.index]=Array(r),d=0;d<r;d++)l[d]=z;return o.index++,l}function Gr(r,o){return typeof o=="function"?o(r):o}function og(r){var o=Kt();return Yy(o,Et,r)}function Yy(r,o,l){var d=r.queue;if(d===null)throw Error(s(311));d.lastRenderedReducer=l;var m=r.baseQueue,w=d.pending;if(w!==null){if(m!==null){var C=m.next;m.next=w.next,w.next=C}o.baseQueue=m=w,d.pending=null}if(w=r.baseState,m===null)r.memoizedState=w;else{o=m.next;var O=C=null,j=null,J=o,oe=!1;do{var ce=J.lane&-536870913;if(ce!==J.lane?(Xe&ce)===ce:(Kr&ce)===ce){var se=J.revertLane;if(se===0)j!==null&&(j=j.next={lane:0,revertLane:0,gesture:null,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null}),ce===Ll&&(oe=!0);else if((Kr&se)===se){J=J.next,se===Ll&&(oe=!0);continue}else ce={lane:0,revertLane:J.revertLane,gesture:null,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null},j===null?(O=j=ce,C=w):j=j.next=ce,He.lanes|=se,Yo|=se;ce=J.action,dc&&l(w,ce),w=J.hasEagerState?J.eagerState:l(w,ce)}else se={lane:ce,revertLane:J.revertLane,gesture:J.gesture,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null},j===null?(O=j=se,C=w):j=j.next=se,He.lanes|=ce,Yo|=ce;J=J.next}while(J!==null&&J!==o);if(j===null?C=w:j.next=O,!Rs(w,r.memoizedState)&&(tn=!0,oe&&(l=kl,l!==null)))throw l;r.memoizedState=w,r.baseState=C,r.baseQueue=j,d.lastRenderedState=w}return m===null&&(d.lanes=0),[r.memoizedState,d.dispatch]}function Xy(r){var o=Kt(),l=o.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=r;var d=l.dispatch,m=l.pending,w=o.memoizedState;if(m!==null){l.pending=null;var C=m=m.next;do w=r(w,C.action),C=C.next;while(C!==m);Rs(w,o.memoizedState)||(tn=!0),o.memoizedState=w,o.baseQueue===null&&(o.baseState=w),l.lastRenderedState=w}return[w,d]}function fC(r,o,l){var d=He,m=Kt(),w=Ze;if(w){if(l===void 0)throw Error(s(407));l=l()}else l=o();var C=!Rs((Et||m).memoizedState,l);if(C&&(m.memoizedState=l,tn=!0),m=m.queue,Jy(pC.bind(null,d,m,r),[r]),m.getSnapshot!==o||C||en!==null&&en.memoizedState.tag&1){if(d.flags|=2048,ql(9,{destroy:void 0},hC.bind(null,d,m,l,o),null),Nt===null)throw Error(s(349));w||(Kr&127)!==0||dC(d,o,l)}return l}function dC(r,o,l){r.flags|=16384,r={getSnapshot:o,value:l},o=He.updateQueue,o===null?(o=ig(),He.updateQueue=o,o.stores=[r]):(l=o.stores,l===null?o.stores=[r]:l.push(r))}function hC(r,o,l,d){o.value=l,o.getSnapshot=d,gC(o)&&mC(r)}function pC(r,o,l){return l(function(){gC(o)&&mC(r)})}function gC(r){var o=r.getSnapshot;r=r.value;try{var l=o();return!Rs(r,l)}catch{return!0}}function mC(r){var o=sc(r,2);o!==null&&fs(o,r,2)}function Qy(r){var o=es();if(typeof r=="function"){var l=r;if(r=l(),dc){Zi(!0);try{l()}finally{Zi(!1)}}}return o.memoizedState=o.baseState=r,o.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gr,lastRenderedState:r},o}function yC(r,o,l,d){return r.baseState=l,Yy(r,Et,typeof d=="function"?d:Gr)}function BR(r,o,l,d,m){if(lg(r))throw Error(s(485));if(r=o.action,r!==null){var w={payload:m,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(C){w.listeners.push(C)}};_.T!==null?l(!0):w.isTransition=!1,d(w),l=o.pending,l===null?(w.next=o.pending=w,wC(o,w)):(w.next=l.next,o.pending=l.next=w)}}function wC(r,o){var l=o.action,d=o.payload,m=r.state;if(o.isTransition){var w=_.T,C={};_.T=C;try{var O=l(m,d),j=_.S;j!==null&&j(C,O),bC(r,o,O)}catch(J){Zy(r,o,J)}finally{w!==null&&C.types!==null&&(w.types=C.types),_.T=w}}else try{w=l(m,d),bC(r,o,w)}catch(J){Zy(r,o,J)}}function bC(r,o,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(d){vC(r,o,d)},function(d){return Zy(r,o,d)}):vC(r,o,l)}function vC(r,o,l){o.status="fulfilled",o.value=l,EC(o),r.state=l,o=r.pending,o!==null&&(l=o.next,l===o?r.pending=null:(l=l.next,o.next=l,wC(r,l)))}function Zy(r,o,l){var d=r.pending;if(r.pending=null,d!==null){d=d.next;do o.status="rejected",o.reason=l,EC(o),o=o.next;while(o!==d)}r.action=null}function EC(r){r=r.listeners;for(var o=0;o<r.length;o++)(0,r[o])()}function AC(r,o){return o}function CC(r,o){if(Ze){var l=Nt.formState;if(l!==null){e:{var d=He;if(Ze){if($t){t:{for(var m=$t,w=ai;m.nodeType!==8;){if(!w){m=null;break t}if(m=li(m.nextSibling),m===null){m=null;break t}}w=m.data,m=w==="F!"||w==="F"?m:null}if(m){$t=li(m.nextSibling),d=m.data==="F!";break e}}jo(d)}d=!1}d&&(o=l[0])}}return l=es(),l.memoizedState=l.baseState=o,d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:AC,lastRenderedState:o},l.queue=d,l=HC.bind(null,He,d),d.dispatch=l,d=Qy(!1),w=iw.bind(null,He,!1,d.queue),d=es(),m={state:o,dispatch:null,action:r,pending:null},d.queue=m,l=BR.bind(null,He,m,w,l),m.dispatch=l,d.memoizedState=r,[o,l,!1]}function SC(r){var o=Kt();return xC(o,Et,r)}function xC(r,o,l){if(o=Yy(r,o,AC)[0],r=og(Gr)[0],typeof o=="object"&&o!==null&&typeof o.then=="function")try{var d=Vf(o)}catch(C){throw C===Bl?Xp:C}else d=o;o=Kt();var m=o.queue,w=m.dispatch;return l!==o.memoizedState&&(He.flags|=2048,ql(9,{destroy:void 0},jR.bind(null,m,l),null)),[d,w,r]}function jR(r,o){r.action=o}function NC(r){var o=Kt(),l=Et;if(l!==null)return xC(o,l,r);Kt(),o=o.memoizedState,l=Kt();var d=l.queue.dispatch;return l.memoizedState=r,[o,d,!1]}function ql(r,o,l,d){return r={tag:r,create:l,deps:d,inst:o,next:null},o=He.updateQueue,o===null&&(o=ig(),He.updateQueue=o),l=o.lastEffect,l===null?o.lastEffect=r.next=r:(d=l.next,l.next=r,r.next=d,o.lastEffect=r),r}function TC(){return Kt().memoizedState}function ag(r,o,l,d){var m=es();He.flags|=r,m.memoizedState=ql(1|o,{destroy:void 0},l,d===void 0?null:d)}function cg(r,o,l,d){var m=Kt();d=d===void 0?null:d;var w=m.memoizedState.inst;Et!==null&&d!==null&&Fy(d,Et.memoizedState.deps)?m.memoizedState=ql(o,w,l,d):(He.flags|=r,m.memoizedState=ql(1|o,w,l,d))}function _C(r,o){ag(8390656,8,r,o)}function Jy(r,o){cg(2048,8,r,o)}function zR(r){He.flags|=4;var o=He.updateQueue;if(o===null)o=ig(),He.updateQueue=o,o.events=[r];else{var l=o.events;l===null?o.events=[r]:l.push(r)}}function IC(r){var o=Kt().memoizedState;return zR({ref:o,nextImpl:r}),function(){if((ut&2)!==0)throw Error(s(440));return o.impl.apply(void 0,arguments)}}function DC(r,o){return cg(4,2,r,o)}function OC(r,o){return cg(4,4,r,o)}function MC(r,o){if(typeof o=="function"){r=r();var l=o(r);return function(){typeof l=="function"?l():o(null)}}if(o!=null)return r=r(),o.current=r,function(){o.current=null}}function RC(r,o,l){l=l!=null?l.concat([r]):null,cg(4,4,MC.bind(null,o,r),l)}function ew(){}function $C(r,o){var l=Kt();o=o===void 0?null:o;var d=l.memoizedState;return o!==null&&Fy(o,d[1])?d[0]:(l.memoizedState=[r,o],r)}function UC(r,o){var l=Kt();o=o===void 0?null:o;var d=l.memoizedState;if(o!==null&&Fy(o,d[1]))return d[0];if(d=r(),dc){Zi(!0);try{r()}finally{Zi(!1)}}return l.memoizedState=[d,o],d}function tw(r,o,l){return l===void 0||(Kr&1073741824)!==0&&(Xe&261930)===0?r.memoizedState=o:(r.memoizedState=l,r=PS(),He.lanes|=r,Yo|=r,l)}function PC(r,o,l,d){return Rs(l,o)?l:zl.current!==null?(r=tw(r,l,d),Rs(r,o)||(tn=!0),r):(Kr&42)===0||(Kr&1073741824)!==0&&(Xe&261930)===0?(tn=!0,r.memoizedState=l):(r=PS(),He.lanes|=r,Yo|=r,o)}function LC(r,o,l,d,m){var w=k.p;k.p=w!==0&&8>w?w:8;var C=_.T,O={};_.T=O,iw(r,!1,o,l);try{var j=m(),J=_.S;if(J!==null&&J(O,j),j!==null&&typeof j=="object"&&typeof j.then=="function"){var oe=PR(j,d);Wf(r,o,oe,Bs(r))}else Wf(r,o,d,Bs(r))}catch(ce){Wf(r,o,{then:function(){},status:"rejected",reason:ce},Bs())}finally{k.p=w,C!==null&&O.types!==null&&(C.types=O.types),_.T=C}}function HR(){}function nw(r,o,l,d){if(r.tag!==5)throw Error(s(476));var m=kC(r).queue;LC(r,m,o,H,l===null?HR:function(){return BC(r),l(d)})}function kC(r){var o=r.memoizedState;if(o!==null)return o;o={memoizedState:H,baseState:H,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gr,lastRenderedState:H},next:null};var l={};return o.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gr,lastRenderedState:l},next:null},r.memoizedState=o,r=r.alternate,r!==null&&(r.memoizedState=o),o}function BC(r){var o=kC(r);o.next===null&&(o=r.alternate.memoizedState),Wf(r,o.next.queue,{},Bs())}function sw(){return Nn(ld)}function jC(){return Kt().memoizedState}function zC(){return Kt().memoizedState}function FR(r){for(var o=r.return;o!==null;){switch(o.tag){case 24:case 3:var l=Bs();r=Fo(l);var d=qo(o,r,l);d!==null&&(fs(d,o,l),zf(d,o,l)),o={cache:My()},r.payload=o;return}o=o.return}}function qR(r,o,l){var d=Bs();l={lane:d,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},lg(r)?FC(o,l):(l=Ey(r,o,l,d),l!==null&&(fs(l,r,d),qC(l,o,d)))}function HC(r,o,l){var d=Bs();Wf(r,o,l,d)}function Wf(r,o,l,d){var m={lane:d,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null};if(lg(r))FC(o,m);else{var w=r.alternate;if(r.lanes===0&&(w===null||w.lanes===0)&&(w=o.lastRenderedReducer,w!==null))try{var C=o.lastRenderedState,O=w(C,l);if(m.hasEagerState=!0,m.eagerState=O,Rs(O,C))return Fp(r,o,m,0),Nt===null&&Hp(),!1}catch{}finally{}if(l=Ey(r,o,m,d),l!==null)return fs(l,r,d),qC(l,o,d),!0}return!1}function iw(r,o,l,d){if(d={lane:2,revertLane:Pw(),gesture:null,action:d,hasEagerState:!1,eagerState:null,next:null},lg(r)){if(o)throw Error(s(479))}else o=Ey(r,l,d,2),o!==null&&fs(o,r,2)}function lg(r){var o=r.alternate;return r===He||o!==null&&o===He}function FC(r,o){Hl=ng=!0;var l=r.pending;l===null?o.next=o:(o.next=l.next,l.next=o),r.pending=o}function qC(r,o,l){if((l&4194048)!==0){var d=o.lanes;d&=r.pendingLanes,l|=d,o.lanes=l,_p(r,l)}}var Kf={readContext:Nn,use:rg,useCallback:Ft,useContext:Ft,useEffect:Ft,useImperativeHandle:Ft,useLayoutEffect:Ft,useInsertionEffect:Ft,useMemo:Ft,useReducer:Ft,useRef:Ft,useState:Ft,useDebugValue:Ft,useDeferredValue:Ft,useTransition:Ft,useSyncExternalStore:Ft,useId:Ft,useHostTransitionStatus:Ft,useFormState:Ft,useActionState:Ft,useOptimistic:Ft,useMemoCache:Ft,useCacheRefresh:Ft};Kf.useEffectEvent=Ft;var VC={readContext:Nn,use:rg,useCallback:function(r,o){return es().memoizedState=[r,o===void 0?null:o],r},useContext:Nn,useEffect:_C,useImperativeHandle:function(r,o,l){l=l!=null?l.concat([r]):null,ag(4194308,4,MC.bind(null,o,r),l)},useLayoutEffect:function(r,o){return ag(4194308,4,r,o)},useInsertionEffect:function(r,o){ag(4,2,r,o)},useMemo:function(r,o){var l=es();o=o===void 0?null:o;var d=r();if(dc){Zi(!0);try{r()}finally{Zi(!1)}}return l.memoizedState=[d,o],d},useReducer:function(r,o,l){var d=es();if(l!==void 0){var m=l(o);if(dc){Zi(!0);try{l(o)}finally{Zi(!1)}}}else m=o;return d.memoizedState=d.baseState=m,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:m},d.queue=r,r=r.dispatch=qR.bind(null,He,r),[d.memoizedState,r]},useRef:function(r){var o=es();return r={current:r},o.memoizedState=r},useState:function(r){r=Qy(r);var o=r.queue,l=HC.bind(null,He,o);return o.dispatch=l,[r.memoizedState,l]},useDebugValue:ew,useDeferredValue:function(r,o){var l=es();return tw(l,r,o)},useTransition:function(){var r=Qy(!1);return r=LC.bind(null,He,r.queue,!0,!1),es().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,o,l){var d=He,m=es();if(Ze){if(l===void 0)throw Error(s(407));l=l()}else{if(l=o(),Nt===null)throw Error(s(349));(Xe&127)!==0||dC(d,o,l)}m.memoizedState=l;var w={value:l,getSnapshot:o};return m.queue=w,_C(pC.bind(null,d,w,r),[r]),d.flags|=2048,ql(9,{destroy:void 0},hC.bind(null,d,w,l,o),null),l},useId:function(){var r=es(),o=Nt.identifierPrefix;if(Ze){var l=ar,d=or;l=(d&~(1<<32-Zn(d)-1)).toString(32)+l,o="_"+o+"R_"+l,l=sg++,0<l&&(o+="H"+l.toString(32)),o+="_"}else l=LR++,o="_"+o+"r_"+l.toString(32)+"_";return r.memoizedState=o},useHostTransitionStatus:sw,useFormState:CC,useActionState:CC,useOptimistic:function(r){var o=es();o.memoizedState=o.baseState=r;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return o.queue=l,o=iw.bind(null,He,!0,l),l.dispatch=o,[r,o]},useMemoCache:Gy,useCacheRefresh:function(){return es().memoizedState=FR.bind(null,He)},useEffectEvent:function(r){var o=es(),l={impl:r};return o.memoizedState=l,function(){if((ut&2)!==0)throw Error(s(440));return l.impl.apply(void 0,arguments)}}},rw={readContext:Nn,use:rg,useCallback:$C,useContext:Nn,useEffect:Jy,useImperativeHandle:RC,useInsertionEffect:DC,useLayoutEffect:OC,useMemo:UC,useReducer:og,useRef:TC,useState:function(){return og(Gr)},useDebugValue:ew,useDeferredValue:function(r,o){var l=Kt();return PC(l,Et.memoizedState,r,o)},useTransition:function(){var r=og(Gr)[0],o=Kt().memoizedState;return[typeof r=="boolean"?r:Vf(r),o]},useSyncExternalStore:fC,useId:jC,useHostTransitionStatus:sw,useFormState:SC,useActionState:SC,useOptimistic:function(r,o){var l=Kt();return yC(l,Et,r,o)},useMemoCache:Gy,useCacheRefresh:zC};rw.useEffectEvent=IC;var WC={readContext:Nn,use:rg,useCallback:$C,useContext:Nn,useEffect:Jy,useImperativeHandle:RC,useInsertionEffect:DC,useLayoutEffect:OC,useMemo:UC,useReducer:Xy,useRef:TC,useState:function(){return Xy(Gr)},useDebugValue:ew,useDeferredValue:function(r,o){var l=Kt();return Et===null?tw(l,r,o):PC(l,Et.memoizedState,r,o)},useTransition:function(){var r=Xy(Gr)[0],o=Kt().memoizedState;return[typeof r=="boolean"?r:Vf(r),o]},useSyncExternalStore:fC,useId:jC,useHostTransitionStatus:sw,useFormState:NC,useActionState:NC,useOptimistic:function(r,o){var l=Kt();return Et!==null?yC(l,Et,r,o):(l.baseState=r,[r,l.queue.dispatch])},useMemoCache:Gy,useCacheRefresh:zC};WC.useEffectEvent=IC;function ow(r,o,l,d){o=r.memoizedState,l=l(d,o),l=l==null?o:g({},o,l),r.memoizedState=l,r.lanes===0&&(r.updateQueue.baseState=l)}var aw={enqueueSetState:function(r,o,l){r=r._reactInternals;var d=Bs(),m=Fo(d);m.payload=o,l!=null&&(m.callback=l),o=qo(r,m,d),o!==null&&(fs(o,r,d),zf(o,r,d))},enqueueReplaceState:function(r,o,l){r=r._reactInternals;var d=Bs(),m=Fo(d);m.tag=1,m.payload=o,l!=null&&(m.callback=l),o=qo(r,m,d),o!==null&&(fs(o,r,d),zf(o,r,d))},enqueueForceUpdate:function(r,o){r=r._reactInternals;var l=Bs(),d=Fo(l);d.tag=2,o!=null&&(d.callback=o),o=qo(r,d,l),o!==null&&(fs(o,r,l),zf(o,r,l))}};function KC(r,o,l,d,m,w,C){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(d,w,C):o.prototype&&o.prototype.isPureReactComponent?!Rf(l,d)||!Rf(m,w):!0}function GC(r,o,l,d){r=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(l,d),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(l,d),o.state!==r&&aw.enqueueReplaceState(o,o.state,null)}function hc(r,o){var l=o;if("ref"in o){l={};for(var d in o)d!=="ref"&&(l[d]=o[d])}if(r=r.defaultProps){l===o&&(l=g({},l));for(var m in r)l[m]===void 0&&(l[m]=r[m])}return l}function YC(r){zp(r)}function XC(r){console.error(r)}function QC(r){zp(r)}function ug(r,o){try{var l=r.onUncaughtError;l(o.value,{componentStack:o.stack})}catch(d){setTimeout(function(){throw d})}}function ZC(r,o,l){try{var d=r.onCaughtError;d(l.value,{componentStack:l.stack,errorBoundary:o.tag===1?o.stateNode:null})}catch(m){setTimeout(function(){throw m})}}function cw(r,o,l){return l=Fo(l),l.tag=3,l.payload={element:null},l.callback=function(){ug(r,o)},l}function JC(r){return r=Fo(r),r.tag=3,r}function eS(r,o,l,d){var m=l.type.getDerivedStateFromError;if(typeof m=="function"){var w=d.value;r.payload=function(){return m(w)},r.callback=function(){ZC(o,l,d)}}var C=l.stateNode;C!==null&&typeof C.componentDidCatch=="function"&&(r.callback=function(){ZC(o,l,d),typeof m!="function"&&(Xo===null?Xo=new Set([this]):Xo.add(this));var O=d.stack;this.componentDidCatch(d.value,{componentStack:O!==null?O:""})})}function VR(r,o,l,d,m){if(l.flags|=32768,d!==null&&typeof d=="object"&&typeof d.then=="function"){if(o=l.alternate,o!==null&&Pl(o,l,m,!0),l=Us.current,l!==null){switch(l.tag){case 31:case 13:return ci===null?Ag():l.alternate===null&&qt===0&&(qt=3),l.flags&=-257,l.flags|=65536,l.lanes=m,d===Qp?l.flags|=16384:(o=l.updateQueue,o===null?l.updateQueue=new Set([d]):o.add(d),Rw(r,d,m)),!1;case 22:return l.flags|=65536,d===Qp?l.flags|=16384:(o=l.updateQueue,o===null?(o={transitions:null,markerInstances:null,retryQueue:new Set([d])},l.updateQueue=o):(l=o.retryQueue,l===null?o.retryQueue=new Set([d]):l.add(d)),Rw(r,d,m)),!1}throw Error(s(435,l.tag))}return Rw(r,d,m),Ag(),!1}if(Ze)return o=Us.current,o!==null?((o.flags&65536)===0&&(o.flags|=256),o.flags|=65536,o.lanes=m,d!==Ty&&(r=Error(s(422),{cause:d}),Pf(ii(r,l)))):(d!==Ty&&(o=Error(s(423),{cause:d}),Pf(ii(o,l))),r=r.current.alternate,r.flags|=65536,m&=-m,r.lanes|=m,d=ii(d,l),m=cw(r.stateNode,d,m),ky(r,m),qt!==4&&(qt=2)),!1;var w=Error(s(520),{cause:d});if(w=ii(w,l),td===null?td=[w]:td.push(w),qt!==4&&(qt=2),o===null)return!0;d=ii(d,l),l=o;do{switch(l.tag){case 3:return l.flags|=65536,r=m&-m,l.lanes|=r,r=cw(l.stateNode,d,r),ky(l,r),!1;case 1:if(o=l.type,w=l.stateNode,(l.flags&128)===0&&(typeof o.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(Xo===null||!Xo.has(w))))return l.flags|=65536,m&=-m,l.lanes|=m,m=JC(m),eS(m,r,l,d),ky(l,m),!1}l=l.return}while(l!==null);return!1}var lw=Error(s(461)),tn=!1;function Tn(r,o,l,d){o.child=r===null?iC(o,null,l,d):fc(o,r.child,l,d)}function tS(r,o,l,d,m){l=l.render;var w=o.ref;if("ref"in d){var C={};for(var O in d)O!=="ref"&&(C[O]=d[O])}else C=d;return ac(o),d=qy(r,o,l,C,w,m),O=Vy(),r!==null&&!tn?(Wy(r,o,m),Yr(r,o,m)):(Ze&&O&&xy(o),o.flags|=1,Tn(r,o,d,m),o.child)}function nS(r,o,l,d,m){if(r===null){var w=l.type;return typeof w=="function"&&!Ay(w)&&w.defaultProps===void 0&&l.compare===null?(o.tag=15,o.type=w,sS(r,o,w,d,m)):(r=Vp(l.type,null,d,o,o.mode,m),r.ref=o.ref,r.return=o,o.child=r)}if(w=r.child,!yw(r,m)){var C=w.memoizedProps;if(l=l.compare,l=l!==null?l:Rf,l(C,d)&&r.ref===o.ref)return Yr(r,o,m)}return o.flags|=1,r=Fr(w,d),r.ref=o.ref,r.return=o,o.child=r}function sS(r,o,l,d,m){if(r!==null){var w=r.memoizedProps;if(Rf(w,d)&&r.ref===o.ref)if(tn=!1,o.pendingProps=d=w,yw(r,m))(r.flags&131072)!==0&&(tn=!0);else return o.lanes=r.lanes,Yr(r,o,m)}return uw(r,o,l,d,m)}function iS(r,o,l,d){var m=d.children,w=r!==null?r.memoizedState:null;if(r===null&&o.stateNode===null&&(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),d.mode==="hidden"){if((o.flags&128)!==0){if(w=w!==null?w.baseLanes|l:l,r!==null){for(d=o.child=r.child,m=0;d!==null;)m=m|d.lanes|d.childLanes,d=d.sibling;d=m&~w}else d=0,o.child=null;return rS(r,o,w,l,d)}if((l&536870912)!==0)o.memoizedState={baseLanes:0,cachePool:null},r!==null&&Yp(o,w!==null?w.cachePool:null),w!==null?aC(o,w):jy(),cC(o);else return d=o.lanes=536870912,rS(r,o,w!==null?w.baseLanes|l:l,l,d)}else w!==null?(Yp(o,w.cachePool),aC(o,w),Wo(),o.memoizedState=null):(r!==null&&Yp(o,null),jy(),Wo());return Tn(r,o,m,l),o.child}function Gf(r,o){return r!==null&&r.tag===22||o.stateNode!==null||(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.sibling}function rS(r,o,l,d,m){var w=$y();return w=w===null?null:{parent:Jt._currentValue,pool:w},o.memoizedState={baseLanes:l,cachePool:w},r!==null&&Yp(o,null),jy(),cC(o),r!==null&&Pl(r,o,d,!0),o.childLanes=m,null}function fg(r,o){return o=hg({mode:o.mode,children:o.children},r.mode),o.ref=r.ref,r.child=o,o.return=r,o}function oS(r,o,l){return fc(o,r.child,null,l),r=fg(o,o.pendingProps),r.flags|=2,Ps(o),o.memoizedState=null,r}function WR(r,o,l){var d=o.pendingProps,m=(o.flags&128)!==0;if(o.flags&=-129,r===null){if(Ze){if(d.mode==="hidden")return r=fg(o,d),o.lanes=536870912,Gf(null,r);if(Hy(o),(r=$t)?(r=wx(r,ai),r=r!==null&&r.data==="&"?r:null,r!==null&&(o.memoizedState={dehydrated:r,treeContext:ko!==null?{id:or,overflow:ar}:null,retryLane:536870912,hydrationErrors:null},l=FA(r),l.return=o,o.child=l,xn=o,$t=null)):r=null,r===null)throw jo(o);return o.lanes=536870912,null}return fg(o,d)}var w=r.memoizedState;if(w!==null){var C=w.dehydrated;if(Hy(o),m)if(o.flags&256)o.flags&=-257,o=oS(r,o,l);else if(o.memoizedState!==null)o.child=r.child,o.flags|=128,o=null;else throw Error(s(558));else if(tn||Pl(r,o,l,!1),m=(l&r.childLanes)!==0,tn||m){if(d=Nt,d!==null&&(C=Ip(d,l),C!==0&&C!==w.retryLane))throw w.retryLane=C,sc(r,C),fs(d,r,C),lw;Ag(),o=oS(r,o,l)}else r=w.treeContext,$t=li(C.nextSibling),xn=o,Ze=!0,Bo=null,ai=!1,r!==null&&WA(o,r),o=fg(o,d),o.flags|=4096;return o}return r=Fr(r.child,{mode:d.mode,children:d.children}),r.ref=o.ref,o.child=r,r.return=o,r}function dg(r,o){var l=o.ref;if(l===null)r!==null&&r.ref!==null&&(o.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(s(284));(r===null||r.ref!==l)&&(o.flags|=4194816)}}function uw(r,o,l,d,m){return ac(o),l=qy(r,o,l,d,void 0,m),d=Vy(),r!==null&&!tn?(Wy(r,o,m),Yr(r,o,m)):(Ze&&d&&xy(o),o.flags|=1,Tn(r,o,l,m),o.child)}function aS(r,o,l,d,m,w){return ac(o),o.updateQueue=null,l=uC(o,d,l,m),lC(r),d=Vy(),r!==null&&!tn?(Wy(r,o,w),Yr(r,o,w)):(Ze&&d&&xy(o),o.flags|=1,Tn(r,o,l,w),o.child)}function cS(r,o,l,d,m){if(ac(o),o.stateNode===null){var w=Ml,C=l.contextType;typeof C=="object"&&C!==null&&(w=Nn(C)),w=new l(d,w),o.memoizedState=w.state!==null&&w.state!==void 0?w.state:null,w.updater=aw,o.stateNode=w,w._reactInternals=o,w=o.stateNode,w.props=d,w.state=o.memoizedState,w.refs={},Py(o),C=l.contextType,w.context=typeof C=="object"&&C!==null?Nn(C):Ml,w.state=o.memoizedState,C=l.getDerivedStateFromProps,typeof C=="function"&&(ow(o,l,C,d),w.state=o.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof w.getSnapshotBeforeUpdate=="function"||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(C=w.state,typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount(),C!==w.state&&aw.enqueueReplaceState(w,w.state,null),Ff(o,d,w,m),Hf(),w.state=o.memoizedState),typeof w.componentDidMount=="function"&&(o.flags|=4194308),d=!0}else if(r===null){w=o.stateNode;var O=o.memoizedProps,j=hc(l,O);w.props=j;var J=w.context,oe=l.contextType;C=Ml,typeof oe=="object"&&oe!==null&&(C=Nn(oe));var ce=l.getDerivedStateFromProps;oe=typeof ce=="function"||typeof w.getSnapshotBeforeUpdate=="function",O=o.pendingProps!==O,oe||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(O||J!==C)&&GC(o,w,d,C),Ho=!1;var se=o.memoizedState;w.state=se,Ff(o,d,w,m),Hf(),J=o.memoizedState,O||se!==J||Ho?(typeof ce=="function"&&(ow(o,l,ce,d),J=o.memoizedState),(j=Ho||KC(o,l,j,d,se,J,C))?(oe||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount()),typeof w.componentDidMount=="function"&&(o.flags|=4194308)):(typeof w.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=d,o.memoizedState=J),w.props=d,w.state=J,w.context=C,d=j):(typeof w.componentDidMount=="function"&&(o.flags|=4194308),d=!1)}else{w=o.stateNode,Ly(r,o),C=o.memoizedProps,oe=hc(l,C),w.props=oe,ce=o.pendingProps,se=w.context,J=l.contextType,j=Ml,typeof J=="object"&&J!==null&&(j=Nn(J)),O=l.getDerivedStateFromProps,(J=typeof O=="function"||typeof w.getSnapshotBeforeUpdate=="function")||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(C!==ce||se!==j)&&GC(o,w,d,j),Ho=!1,se=o.memoizedState,w.state=se,Ff(o,d,w,m),Hf();var re=o.memoizedState;C!==ce||se!==re||Ho||r!==null&&r.dependencies!==null&&Kp(r.dependencies)?(typeof O=="function"&&(ow(o,l,O,d),re=o.memoizedState),(oe=Ho||KC(o,l,oe,d,se,re,j)||r!==null&&r.dependencies!==null&&Kp(r.dependencies))?(J||typeof w.UNSAFE_componentWillUpdate!="function"&&typeof w.componentWillUpdate!="function"||(typeof w.componentWillUpdate=="function"&&w.componentWillUpdate(d,re,j),typeof w.UNSAFE_componentWillUpdate=="function"&&w.UNSAFE_componentWillUpdate(d,re,j)),typeof w.componentDidUpdate=="function"&&(o.flags|=4),typeof w.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof w.componentDidUpdate!="function"||C===r.memoizedProps&&se===r.memoizedState||(o.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||C===r.memoizedProps&&se===r.memoizedState||(o.flags|=1024),o.memoizedProps=d,o.memoizedState=re),w.props=d,w.state=re,w.context=j,d=oe):(typeof w.componentDidUpdate!="function"||C===r.memoizedProps&&se===r.memoizedState||(o.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||C===r.memoizedProps&&se===r.memoizedState||(o.flags|=1024),d=!1)}return w=d,dg(r,o),d=(o.flags&128)!==0,w||d?(w=o.stateNode,l=d&&typeof l.getDerivedStateFromError!="function"?null:w.render(),o.flags|=1,r!==null&&d?(o.child=fc(o,r.child,null,m),o.child=fc(o,null,l,m)):Tn(r,o,l,m),o.memoizedState=w.state,r=o.child):r=Yr(r,o,m),r}function lS(r,o,l,d){return rc(),o.flags|=256,Tn(r,o,l,d),o.child}var fw={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function dw(r){return{baseLanes:r,cachePool:ZA()}}function hw(r,o,l){return r=r!==null?r.childLanes&~l:0,o&&(r|=ks),r}function uS(r,o,l){var d=o.pendingProps,m=!1,w=(o.flags&128)!==0,C;if((C=w)||(C=r!==null&&r.memoizedState===null?!1:(Wt.current&2)!==0),C&&(m=!0,o.flags&=-129),C=(o.flags&32)!==0,o.flags&=-33,r===null){if(Ze){if(m?Vo(o):Wo(),(r=$t)?(r=wx(r,ai),r=r!==null&&r.data!=="&"?r:null,r!==null&&(o.memoizedState={dehydrated:r,treeContext:ko!==null?{id:or,overflow:ar}:null,retryLane:536870912,hydrationErrors:null},l=FA(r),l.return=o,o.child=l,xn=o,$t=null)):r=null,r===null)throw jo(o);return Yw(r)?o.lanes=32:o.lanes=536870912,null}var O=d.children;return d=d.fallback,m?(Wo(),m=o.mode,O=hg({mode:"hidden",children:O},m),d=ic(d,m,l,null),O.return=o,d.return=o,O.sibling=d,o.child=O,d=o.child,d.memoizedState=dw(l),d.childLanes=hw(r,C,l),o.memoizedState=fw,Gf(null,d)):(Vo(o),pw(o,O))}var j=r.memoizedState;if(j!==null&&(O=j.dehydrated,O!==null)){if(w)o.flags&256?(Vo(o),o.flags&=-257,o=gw(r,o,l)):o.memoizedState!==null?(Wo(),o.child=r.child,o.flags|=128,o=null):(Wo(),O=d.fallback,m=o.mode,d=hg({mode:"visible",children:d.children},m),O=ic(O,m,l,null),O.flags|=2,d.return=o,O.return=o,d.sibling=O,o.child=d,fc(o,r.child,null,l),d=o.child,d.memoizedState=dw(l),d.childLanes=hw(r,C,l),o.memoizedState=fw,o=Gf(null,d));else if(Vo(o),Yw(O)){if(C=O.nextSibling&&O.nextSibling.dataset,C)var J=C.dgst;C=J,d=Error(s(419)),d.stack="",d.digest=C,Pf({value:d,source:null,stack:null}),o=gw(r,o,l)}else if(tn||Pl(r,o,l,!1),C=(l&r.childLanes)!==0,tn||C){if(C=Nt,C!==null&&(d=Ip(C,l),d!==0&&d!==j.retryLane))throw j.retryLane=d,sc(r,d),fs(C,r,d),lw;Gw(O)||Ag(),o=gw(r,o,l)}else Gw(O)?(o.flags|=192,o.child=r.child,o=null):(r=j.treeContext,$t=li(O.nextSibling),xn=o,Ze=!0,Bo=null,ai=!1,r!==null&&WA(o,r),o=pw(o,d.children),o.flags|=4096);return o}return m?(Wo(),O=d.fallback,m=o.mode,j=r.child,J=j.sibling,d=Fr(j,{mode:"hidden",children:d.children}),d.subtreeFlags=j.subtreeFlags&65011712,J!==null?O=Fr(J,O):(O=ic(O,m,l,null),O.flags|=2),O.return=o,d.return=o,d.sibling=O,o.child=d,Gf(null,d),d=o.child,O=r.child.memoizedState,O===null?O=dw(l):(m=O.cachePool,m!==null?(j=Jt._currentValue,m=m.parent!==j?{parent:j,pool:j}:m):m=ZA(),O={baseLanes:O.baseLanes|l,cachePool:m}),d.memoizedState=O,d.childLanes=hw(r,C,l),o.memoizedState=fw,Gf(r.child,d)):(Vo(o),l=r.child,r=l.sibling,l=Fr(l,{mode:"visible",children:d.children}),l.return=o,l.sibling=null,r!==null&&(C=o.deletions,C===null?(o.deletions=[r],o.flags|=16):C.push(r)),o.child=l,o.memoizedState=null,l)}function pw(r,o){return o=hg({mode:"visible",children:o},r.mode),o.return=r,r.child=o}function hg(r,o){return r=$s(22,r,null,o),r.lanes=0,r}function gw(r,o,l){return fc(o,r.child,null,l),r=pw(o,o.pendingProps.children),r.flags|=2,o.memoizedState=null,r}function fS(r,o,l){r.lanes|=o;var d=r.alternate;d!==null&&(d.lanes|=o),Dy(r.return,o,l)}function mw(r,o,l,d,m,w){var C=r.memoizedState;C===null?r.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:d,tail:l,tailMode:m,treeForkCount:w}:(C.isBackwards=o,C.rendering=null,C.renderingStartTime=0,C.last=d,C.tail=l,C.tailMode=m,C.treeForkCount=w)}function dS(r,o,l){var d=o.pendingProps,m=d.revealOrder,w=d.tail;d=d.children;var C=Wt.current,O=(C&2)!==0;if(O?(C=C&1|2,o.flags|=128):C&=1,te(Wt,C),Tn(r,o,d,l),d=Ze?Uf:0,!O&&r!==null&&(r.flags&128)!==0)e:for(r=o.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&fS(r,l,o);else if(r.tag===19)fS(r,l,o);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===o)break e;for(;r.sibling===null;){if(r.return===null||r.return===o)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}switch(m){case"forwards":for(l=o.child,m=null;l!==null;)r=l.alternate,r!==null&&tg(r)===null&&(m=l),l=l.sibling;l=m,l===null?(m=o.child,o.child=null):(m=l.sibling,l.sibling=null),mw(o,!1,m,l,w,d);break;case"backwards":case"unstable_legacy-backwards":for(l=null,m=o.child,o.child=null;m!==null;){if(r=m.alternate,r!==null&&tg(r)===null){o.child=m;break}r=m.sibling,m.sibling=l,l=m,m=r}mw(o,!0,l,null,w,d);break;case"together":mw(o,!1,null,null,void 0,d);break;default:o.memoizedState=null}return o.child}function Yr(r,o,l){if(r!==null&&(o.dependencies=r.dependencies),Yo|=o.lanes,(l&o.childLanes)===0)if(r!==null){if(Pl(r,o,l,!1),(l&o.childLanes)===0)return null}else return null;if(r!==null&&o.child!==r.child)throw Error(s(153));if(o.child!==null){for(r=o.child,l=Fr(r,r.pendingProps),o.child=l,l.return=o;r.sibling!==null;)r=r.sibling,l=l.sibling=Fr(r,r.pendingProps),l.return=o;l.sibling=null}return o.child}function yw(r,o){return(r.lanes&o)!==0?!0:(r=r.dependencies,!!(r!==null&&Kp(r)))}function KR(r,o,l){switch(o.tag){case 3:ke(o,o.stateNode.containerInfo),zo(o,Jt,r.memoizedState.cache),rc();break;case 27:case 5:mt(o);break;case 4:ke(o,o.stateNode.containerInfo);break;case 10:zo(o,o.type,o.memoizedProps.value);break;case 31:if(o.memoizedState!==null)return o.flags|=128,Hy(o),null;break;case 13:var d=o.memoizedState;if(d!==null)return d.dehydrated!==null?(Vo(o),o.flags|=128,null):(l&o.child.childLanes)!==0?uS(r,o,l):(Vo(o),r=Yr(r,o,l),r!==null?r.sibling:null);Vo(o);break;case 19:var m=(r.flags&128)!==0;if(d=(l&o.childLanes)!==0,d||(Pl(r,o,l,!1),d=(l&o.childLanes)!==0),m){if(d)return dS(r,o,l);o.flags|=128}if(m=o.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),te(Wt,Wt.current),d)break;return null;case 22:return o.lanes=0,iS(r,o,l,o.pendingProps);case 24:zo(o,Jt,r.memoizedState.cache)}return Yr(r,o,l)}function hS(r,o,l){if(r!==null)if(r.memoizedProps!==o.pendingProps)tn=!0;else{if(!yw(r,l)&&(o.flags&128)===0)return tn=!1,KR(r,o,l);tn=(r.flags&131072)!==0}else tn=!1,Ze&&(o.flags&1048576)!==0&&VA(o,Uf,o.index);switch(o.lanes=0,o.tag){case 16:e:{var d=o.pendingProps;if(r=lc(o.elementType),o.type=r,typeof r=="function")Ay(r)?(d=hc(r,d),o.tag=1,o=cS(null,o,r,d,l)):(o.tag=0,o=uw(null,o,r,d,l));else{if(r!=null){var m=r.$$typeof;if(m===N){o.tag=11,o=tS(null,o,r,d,l);break e}else if(m===$){o.tag=14,o=nS(null,o,r,d,l);break e}}throw o=Q(r)||r,Error(s(306,o,""))}}return o;case 0:return uw(r,o,o.type,o.pendingProps,l);case 1:return d=o.type,m=hc(d,o.pendingProps),cS(r,o,d,m,l);case 3:e:{if(ke(o,o.stateNode.containerInfo),r===null)throw Error(s(387));d=o.pendingProps;var w=o.memoizedState;m=w.element,Ly(r,o),Ff(o,d,null,l);var C=o.memoizedState;if(d=C.cache,zo(o,Jt,d),d!==w.cache&&Oy(o,[Jt],l,!0),Hf(),d=C.element,w.isDehydrated)if(w={element:d,isDehydrated:!1,cache:C.cache},o.updateQueue.baseState=w,o.memoizedState=w,o.flags&256){o=lS(r,o,d,l);break e}else if(d!==m){m=ii(Error(s(424)),o),Pf(m),o=lS(r,o,d,l);break e}else{switch(r=o.stateNode.containerInfo,r.nodeType){case 9:r=r.body;break;default:r=r.nodeName==="HTML"?r.ownerDocument.body:r}for($t=li(r.firstChild),xn=o,Ze=!0,Bo=null,ai=!0,l=iC(o,null,d,l),o.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(rc(),d===m){o=Yr(r,o,l);break e}Tn(r,o,d,l)}o=o.child}return o;case 26:return dg(r,o),r===null?(l=Sx(o.type,null,o.pendingProps,null))?o.memoizedState=l:Ze||(l=o.type,r=o.pendingProps,d=Ig(pe.current).createElement(l),d[an]=o,d[zn]=r,_n(d,l,r),Zt(d),o.stateNode=d):o.memoizedState=Sx(o.type,r.memoizedProps,o.pendingProps,r.memoizedState),null;case 27:return mt(o),r===null&&Ze&&(d=o.stateNode=Ex(o.type,o.pendingProps,pe.current),xn=o,ai=!0,m=$t,ea(o.type)?(Xw=m,$t=li(d.firstChild)):$t=m),Tn(r,o,o.pendingProps.children,l),dg(r,o),r===null&&(o.flags|=4194304),o.child;case 5:return r===null&&Ze&&((m=d=$t)&&(d=C$(d,o.type,o.pendingProps,ai),d!==null?(o.stateNode=d,xn=o,$t=li(d.firstChild),ai=!1,m=!0):m=!1),m||jo(o)),mt(o),m=o.type,w=o.pendingProps,C=r!==null?r.memoizedProps:null,d=w.children,Vw(m,w)?d=null:C!==null&&Vw(m,C)&&(o.flags|=32),o.memoizedState!==null&&(m=qy(r,o,kR,null,null,l),ld._currentValue=m),dg(r,o),Tn(r,o,d,l),o.child;case 6:return r===null&&Ze&&((r=l=$t)&&(l=S$(l,o.pendingProps,ai),l!==null?(o.stateNode=l,xn=o,$t=null,r=!0):r=!1),r||jo(o)),null;case 13:return uS(r,o,l);case 4:return ke(o,o.stateNode.containerInfo),d=o.pendingProps,r===null?o.child=fc(o,null,d,l):Tn(r,o,d,l),o.child;case 11:return tS(r,o,o.type,o.pendingProps,l);case 7:return Tn(r,o,o.pendingProps,l),o.child;case 8:return Tn(r,o,o.pendingProps.children,l),o.child;case 12:return Tn(r,o,o.pendingProps.children,l),o.child;case 10:return d=o.pendingProps,zo(o,o.type,d.value),Tn(r,o,d.children,l),o.child;case 9:return m=o.type._context,d=o.pendingProps.children,ac(o),m=Nn(m),d=d(m),o.flags|=1,Tn(r,o,d,l),o.child;case 14:return nS(r,o,o.type,o.pendingProps,l);case 15:return sS(r,o,o.type,o.pendingProps,l);case 19:return dS(r,o,l);case 31:return WR(r,o,l);case 22:return iS(r,o,l,o.pendingProps);case 24:return ac(o),d=Nn(Jt),r===null?(m=$y(),m===null&&(m=Nt,w=My(),m.pooledCache=w,w.refCount++,w!==null&&(m.pooledCacheLanes|=l),m=w),o.memoizedState={parent:d,cache:m},Py(o),zo(o,Jt,m)):((r.lanes&l)!==0&&(Ly(r,o),Ff(o,null,null,l),Hf()),m=r.memoizedState,w=o.memoizedState,m.parent!==d?(m={parent:d,cache:d},o.memoizedState=m,o.lanes===0&&(o.memoizedState=o.updateQueue.baseState=m),zo(o,Jt,d)):(d=w.cache,zo(o,Jt,d),d!==m.cache&&Oy(o,[Jt],l,!0))),Tn(r,o,o.pendingProps.children,l),o.child;case 29:throw o.pendingProps}throw Error(s(156,o.tag))}function Xr(r){r.flags|=4}function ww(r,o,l,d,m){if((o=(r.mode&32)!==0)&&(o=!1),o){if(r.flags|=16777216,(m&335544128)===m)if(r.stateNode.complete)r.flags|=8192;else if(jS())r.flags|=8192;else throw uc=Qp,Uy}else r.flags&=-16777217}function pS(r,o){if(o.type!=="stylesheet"||(o.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!Ix(o))if(jS())r.flags|=8192;else throw uc=Qp,Uy}function pg(r,o){o!==null&&(r.flags|=4),r.flags&16384&&(o=r.tag!==22?Np():536870912,r.lanes|=o,Gl|=o)}function Yf(r,o){if(!Ze)switch(r.tailMode){case"hidden":o=r.tail;for(var l=null;o!==null;)o.alternate!==null&&(l=o),o=o.sibling;l===null?r.tail=null:l.sibling=null;break;case"collapsed":l=r.tail;for(var d=null;l!==null;)l.alternate!==null&&(d=l),l=l.sibling;d===null?o||r.tail===null?r.tail=null:r.tail.sibling=null:d.sibling=null}}function Ut(r){var o=r.alternate!==null&&r.alternate.child===r.child,l=0,d=0;if(o)for(var m=r.child;m!==null;)l|=m.lanes|m.childLanes,d|=m.subtreeFlags&65011712,d|=m.flags&65011712,m.return=r,m=m.sibling;else for(m=r.child;m!==null;)l|=m.lanes|m.childLanes,d|=m.subtreeFlags,d|=m.flags,m.return=r,m=m.sibling;return r.subtreeFlags|=d,r.childLanes=l,o}function GR(r,o,l){var d=o.pendingProps;switch(Ny(o),o.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ut(o),null;case 1:return Ut(o),null;case 3:return l=o.stateNode,d=null,r!==null&&(d=r.memoizedState.cache),o.memoizedState.cache!==d&&(o.flags|=2048),Wr(Jt),Te(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(r===null||r.child===null)&&(Ul(o)?Xr(o):r===null||r.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,_y())),Ut(o),null;case 26:var m=o.type,w=o.memoizedState;return r===null?(Xr(o),w!==null?(Ut(o),pS(o,w)):(Ut(o),ww(o,m,null,d,l))):w?w!==r.memoizedState?(Xr(o),Ut(o),pS(o,w)):(Ut(o),o.flags&=-16777217):(r=r.memoizedProps,r!==d&&Xr(o),Ut(o),ww(o,m,r,d,l)),null;case 27:if(Ot(o),l=pe.current,m=o.type,r!==null&&o.stateNode!=null)r.memoizedProps!==d&&Xr(o);else{if(!d){if(o.stateNode===null)throw Error(s(166));return Ut(o),null}r=ie.current,Ul(o)?KA(o):(r=Ex(m,d,l),o.stateNode=r,Xr(o))}return Ut(o),null;case 5:if(Ot(o),m=o.type,r!==null&&o.stateNode!=null)r.memoizedProps!==d&&Xr(o);else{if(!d){if(o.stateNode===null)throw Error(s(166));return Ut(o),null}if(w=ie.current,Ul(o))KA(o);else{var C=Ig(pe.current);switch(w){case 1:w=C.createElementNS("http://www.w3.org/2000/svg",m);break;case 2:w=C.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;default:switch(m){case"svg":w=C.createElementNS("http://www.w3.org/2000/svg",m);break;case"math":w=C.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;case"script":w=C.createElement("div"),w.innerHTML="<script><\/script>",w=w.removeChild(w.firstChild);break;case"select":w=typeof d.is=="string"?C.createElement("select",{is:d.is}):C.createElement("select"),d.multiple?w.multiple=!0:d.size&&(w.size=d.size);break;default:w=typeof d.is=="string"?C.createElement(m,{is:d.is}):C.createElement(m)}}w[an]=o,w[zn]=d;e:for(C=o.child;C!==null;){if(C.tag===5||C.tag===6)w.appendChild(C.stateNode);else if(C.tag!==4&&C.tag!==27&&C.child!==null){C.child.return=C,C=C.child;continue}if(C===o)break e;for(;C.sibling===null;){if(C.return===null||C.return===o)break e;C=C.return}C.sibling.return=C.return,C=C.sibling}o.stateNode=w;e:switch(_n(w,m,d),m){case"button":case"input":case"select":case"textarea":d=!!d.autoFocus;break e;case"img":d=!0;break e;default:d=!1}d&&Xr(o)}}return Ut(o),ww(o,o.type,r===null?null:r.memoizedProps,o.pendingProps,l),null;case 6:if(r&&o.stateNode!=null)r.memoizedProps!==d&&Xr(o);else{if(typeof d!="string"&&o.stateNode===null)throw Error(s(166));if(r=pe.current,Ul(o)){if(r=o.stateNode,l=o.memoizedProps,d=null,m=xn,m!==null)switch(m.tag){case 27:case 5:d=m.memoizedProps}r[an]=o,r=!!(r.nodeValue===l||d!==null&&d.suppressHydrationWarning===!0||ux(r.nodeValue,l)),r||jo(o,!0)}else r=Ig(r).createTextNode(d),r[an]=o,o.stateNode=r}return Ut(o),null;case 31:if(l=o.memoizedState,r===null||r.memoizedState!==null){if(d=Ul(o),l!==null){if(r===null){if(!d)throw Error(s(318));if(r=o.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(s(557));r[an]=o}else rc(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Ut(o),r=!1}else l=_y(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=l),r=!0;if(!r)return o.flags&256?(Ps(o),o):(Ps(o),null);if((o.flags&128)!==0)throw Error(s(558))}return Ut(o),null;case 13:if(d=o.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(m=Ul(o),d!==null&&d.dehydrated!==null){if(r===null){if(!m)throw Error(s(318));if(m=o.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(s(317));m[an]=o}else rc(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Ut(o),m=!1}else m=_y(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=m),m=!0;if(!m)return o.flags&256?(Ps(o),o):(Ps(o),null)}return Ps(o),(o.flags&128)!==0?(o.lanes=l,o):(l=d!==null,r=r!==null&&r.memoizedState!==null,l&&(d=o.child,m=null,d.alternate!==null&&d.alternate.memoizedState!==null&&d.alternate.memoizedState.cachePool!==null&&(m=d.alternate.memoizedState.cachePool.pool),w=null,d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(w=d.memoizedState.cachePool.pool),w!==m&&(d.flags|=2048)),l!==r&&l&&(o.child.flags|=8192),pg(o,o.updateQueue),Ut(o),null);case 4:return Te(),r===null&&jw(o.stateNode.containerInfo),Ut(o),null;case 10:return Wr(o.type),Ut(o),null;case 19:if(K(Wt),d=o.memoizedState,d===null)return Ut(o),null;if(m=(o.flags&128)!==0,w=d.rendering,w===null)if(m)Yf(d,!1);else{if(qt!==0||r!==null&&(r.flags&128)!==0)for(r=o.child;r!==null;){if(w=tg(r),w!==null){for(o.flags|=128,Yf(d,!1),r=w.updateQueue,o.updateQueue=r,pg(o,r),o.subtreeFlags=0,r=l,l=o.child;l!==null;)HA(l,r),l=l.sibling;return te(Wt,Wt.current&1|2),Ze&&qr(o,d.treeForkCount),o.child}r=r.sibling}d.tail!==null&&Mt()>bg&&(o.flags|=128,m=!0,Yf(d,!1),o.lanes=4194304)}else{if(!m)if(r=tg(w),r!==null){if(o.flags|=128,m=!0,r=r.updateQueue,o.updateQueue=r,pg(o,r),Yf(d,!0),d.tail===null&&d.tailMode==="hidden"&&!w.alternate&&!Ze)return Ut(o),null}else 2*Mt()-d.renderingStartTime>bg&&l!==536870912&&(o.flags|=128,m=!0,Yf(d,!1),o.lanes=4194304);d.isBackwards?(w.sibling=o.child,o.child=w):(r=d.last,r!==null?r.sibling=w:o.child=w,d.last=w)}return d.tail!==null?(r=d.tail,d.rendering=r,d.tail=r.sibling,d.renderingStartTime=Mt(),r.sibling=null,l=Wt.current,te(Wt,m?l&1|2:l&1),Ze&&qr(o,d.treeForkCount),r):(Ut(o),null);case 22:case 23:return Ps(o),zy(),d=o.memoizedState!==null,r!==null?r.memoizedState!==null!==d&&(o.flags|=8192):d&&(o.flags|=8192),d?(l&536870912)!==0&&(o.flags&128)===0&&(Ut(o),o.subtreeFlags&6&&(o.flags|=8192)):Ut(o),l=o.updateQueue,l!==null&&pg(o,l.retryQueue),l=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),d=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(d=o.memoizedState.cachePool.pool),d!==l&&(o.flags|=2048),r!==null&&K(cc),null;case 24:return l=null,r!==null&&(l=r.memoizedState.cache),o.memoizedState.cache!==l&&(o.flags|=2048),Wr(Jt),Ut(o),null;case 25:return null;case 30:return null}throw Error(s(156,o.tag))}function YR(r,o){switch(Ny(o),o.tag){case 1:return r=o.flags,r&65536?(o.flags=r&-65537|128,o):null;case 3:return Wr(Jt),Te(),r=o.flags,(r&65536)!==0&&(r&128)===0?(o.flags=r&-65537|128,o):null;case 26:case 27:case 5:return Ot(o),null;case 31:if(o.memoizedState!==null){if(Ps(o),o.alternate===null)throw Error(s(340));rc()}return r=o.flags,r&65536?(o.flags=r&-65537|128,o):null;case 13:if(Ps(o),r=o.memoizedState,r!==null&&r.dehydrated!==null){if(o.alternate===null)throw Error(s(340));rc()}return r=o.flags,r&65536?(o.flags=r&-65537|128,o):null;case 19:return K(Wt),null;case 4:return Te(),null;case 10:return Wr(o.type),null;case 22:case 23:return Ps(o),zy(),r!==null&&K(cc),r=o.flags,r&65536?(o.flags=r&-65537|128,o):null;case 24:return Wr(Jt),null;case 25:return null;default:return null}}function gS(r,o){switch(Ny(o),o.tag){case 3:Wr(Jt),Te();break;case 26:case 27:case 5:Ot(o);break;case 4:Te();break;case 31:o.memoizedState!==null&&Ps(o);break;case 13:Ps(o);break;case 19:K(Wt);break;case 10:Wr(o.type);break;case 22:case 23:Ps(o),zy(),r!==null&&K(cc);break;case 24:Wr(Jt)}}function Xf(r,o){try{var l=o.updateQueue,d=l!==null?l.lastEffect:null;if(d!==null){var m=d.next;l=m;do{if((l.tag&r)===r){d=void 0;var w=l.create,C=l.inst;d=w(),C.destroy=d}l=l.next}while(l!==m)}}catch(O){wt(o,o.return,O)}}function Ko(r,o,l){try{var d=o.updateQueue,m=d!==null?d.lastEffect:null;if(m!==null){var w=m.next;d=w;do{if((d.tag&r)===r){var C=d.inst,O=C.destroy;if(O!==void 0){C.destroy=void 0,m=o;var j=l,J=O;try{J()}catch(oe){wt(m,j,oe)}}}d=d.next}while(d!==w)}}catch(oe){wt(o,o.return,oe)}}function mS(r){var o=r.updateQueue;if(o!==null){var l=r.stateNode;try{oC(o,l)}catch(d){wt(r,r.return,d)}}}function yS(r,o,l){l.props=hc(r.type,r.memoizedProps),l.state=r.memoizedState;try{l.componentWillUnmount()}catch(d){wt(r,o,d)}}function Qf(r,o){try{var l=r.ref;if(l!==null){switch(r.tag){case 26:case 27:case 5:var d=r.stateNode;break;case 30:d=r.stateNode;break;default:d=r.stateNode}typeof l=="function"?r.refCleanup=l(d):l.current=d}}catch(m){wt(r,o,m)}}function cr(r,o){var l=r.ref,d=r.refCleanup;if(l!==null)if(typeof d=="function")try{d()}catch(m){wt(r,o,m)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(m){wt(r,o,m)}else l.current=null}function wS(r){var o=r.type,l=r.memoizedProps,d=r.stateNode;try{e:switch(o){case"button":case"input":case"select":case"textarea":l.autoFocus&&d.focus();break e;case"img":l.src?d.src=l.src:l.srcSet&&(d.srcset=l.srcSet)}}catch(m){wt(r,r.return,m)}}function bw(r,o,l){try{var d=r.stateNode;y$(d,r.type,l,o),d[zn]=o}catch(m){wt(r,r.return,m)}}function bS(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27&&ea(r.type)||r.tag===4}function vw(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||bS(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.tag===27&&ea(r.type)||r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function Ew(r,o,l){var d=r.tag;if(d===5||d===6)r=r.stateNode,o?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(r,o):(o=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,o.appendChild(r),l=l._reactRootContainer,l!=null||o.onclick!==null||(o.onclick=ti));else if(d!==4&&(d===27&&ea(r.type)&&(l=r.stateNode,o=null),r=r.child,r!==null))for(Ew(r,o,l),r=r.sibling;r!==null;)Ew(r,o,l),r=r.sibling}function gg(r,o,l){var d=r.tag;if(d===5||d===6)r=r.stateNode,o?l.insertBefore(r,o):l.appendChild(r);else if(d!==4&&(d===27&&ea(r.type)&&(l=r.stateNode),r=r.child,r!==null))for(gg(r,o,l),r=r.sibling;r!==null;)gg(r,o,l),r=r.sibling}function vS(r){var o=r.stateNode,l=r.memoizedProps;try{for(var d=r.type,m=o.attributes;m.length;)o.removeAttributeNode(m[0]);_n(o,d,l),o[an]=r,o[zn]=l}catch(w){wt(r,r.return,w)}}var Qr=!1,nn=!1,Aw=!1,ES=typeof WeakSet=="function"?WeakSet:Set,pn=null;function XR(r,o){if(r=r.containerInfo,Fw=Pg,r=RA(r),gy(r)){if("selectionStart"in r)var l={start:r.selectionStart,end:r.selectionEnd};else e:{l=(l=r.ownerDocument)&&l.defaultView||window;var d=l.getSelection&&l.getSelection();if(d&&d.rangeCount!==0){l=d.anchorNode;var m=d.anchorOffset,w=d.focusNode;d=d.focusOffset;try{l.nodeType,w.nodeType}catch{l=null;break e}var C=0,O=-1,j=-1,J=0,oe=0,ce=r,se=null;t:for(;;){for(var re;ce!==l||m!==0&&ce.nodeType!==3||(O=C+m),ce!==w||d!==0&&ce.nodeType!==3||(j=C+d),ce.nodeType===3&&(C+=ce.nodeValue.length),(re=ce.firstChild)!==null;)se=ce,ce=re;for(;;){if(ce===r)break t;if(se===l&&++J===m&&(O=C),se===w&&++oe===d&&(j=C),(re=ce.nextSibling)!==null)break;ce=se,se=ce.parentNode}ce=re}l=O===-1||j===-1?null:{start:O,end:j}}else l=null}l=l||{start:0,end:0}}else l=null;for(qw={focusedElem:r,selectionRange:l},Pg=!1,pn=o;pn!==null;)if(o=pn,r=o.child,(o.subtreeFlags&1028)!==0&&r!==null)r.return=o,pn=r;else for(;pn!==null;){switch(o=pn,w=o.alternate,r=o.flags,o.tag){case 0:if((r&4)!==0&&(r=o.updateQueue,r=r!==null?r.events:null,r!==null))for(l=0;l<r.length;l++)m=r[l],m.ref.impl=m.nextImpl;break;case 11:case 15:break;case 1:if((r&1024)!==0&&w!==null){r=void 0,l=o,m=w.memoizedProps,w=w.memoizedState,d=l.stateNode;try{var Se=hc(l.type,m);r=d.getSnapshotBeforeUpdate(Se,w),d.__reactInternalSnapshotBeforeUpdate=r}catch(Le){wt(l,l.return,Le)}}break;case 3:if((r&1024)!==0){if(r=o.stateNode.containerInfo,l=r.nodeType,l===9)Kw(r);else if(l===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":Kw(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(s(163))}if(r=o.sibling,r!==null){r.return=o.return,pn=r;break}pn=o.return}}function AS(r,o,l){var d=l.flags;switch(l.tag){case 0:case 11:case 15:Jr(r,l),d&4&&Xf(5,l);break;case 1:if(Jr(r,l),d&4)if(r=l.stateNode,o===null)try{r.componentDidMount()}catch(C){wt(l,l.return,C)}else{var m=hc(l.type,o.memoizedProps);o=o.memoizedState;try{r.componentDidUpdate(m,o,r.__reactInternalSnapshotBeforeUpdate)}catch(C){wt(l,l.return,C)}}d&64&&mS(l),d&512&&Qf(l,l.return);break;case 3:if(Jr(r,l),d&64&&(r=l.updateQueue,r!==null)){if(o=null,l.child!==null)switch(l.child.tag){case 27:case 5:o=l.child.stateNode;break;case 1:o=l.child.stateNode}try{oC(r,o)}catch(C){wt(l,l.return,C)}}break;case 27:o===null&&d&4&&vS(l);case 26:case 5:Jr(r,l),o===null&&d&4&&wS(l),d&512&&Qf(l,l.return);break;case 12:Jr(r,l);break;case 31:Jr(r,l),d&4&&xS(r,l);break;case 13:Jr(r,l),d&4&&NS(r,l),d&64&&(r=l.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&(l=r$.bind(null,l),x$(r,l))));break;case 22:if(d=l.memoizedState!==null||Qr,!d){o=o!==null&&o.memoizedState!==null||nn,m=Qr;var w=nn;Qr=d,(nn=o)&&!w?eo(r,l,(l.subtreeFlags&8772)!==0):Jr(r,l),Qr=m,nn=w}break;case 30:break;default:Jr(r,l)}}function CS(r){var o=r.alternate;o!==null&&(r.alternate=null,CS(o)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(o=r.stateNode,o!==null&&vf(o)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var kt=null,as=!1;function Zr(r,o,l){for(l=l.child;l!==null;)SS(r,o,l),l=l.sibling}function SS(r,o,l){if(jn&&typeof jn.onCommitFiberUnmount=="function")try{jn.onCommitFiberUnmount(Wa,l)}catch{}switch(l.tag){case 26:nn||cr(l,o),Zr(r,o,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:nn||cr(l,o);var d=kt,m=as;ea(l.type)&&(kt=l.stateNode,as=!1),Zr(r,o,l),od(l.stateNode),kt=d,as=m;break;case 5:nn||cr(l,o);case 6:if(d=kt,m=as,kt=null,Zr(r,o,l),kt=d,as=m,kt!==null)if(as)try{(kt.nodeType===9?kt.body:kt.nodeName==="HTML"?kt.ownerDocument.body:kt).removeChild(l.stateNode)}catch(w){wt(l,o,w)}else try{kt.removeChild(l.stateNode)}catch(w){wt(l,o,w)}break;case 18:kt!==null&&(as?(r=kt,mx(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,l.stateNode),nu(r)):mx(kt,l.stateNode));break;case 4:d=kt,m=as,kt=l.stateNode.containerInfo,as=!0,Zr(r,o,l),kt=d,as=m;break;case 0:case 11:case 14:case 15:Ko(2,l,o),nn||Ko(4,l,o),Zr(r,o,l);break;case 1:nn||(cr(l,o),d=l.stateNode,typeof d.componentWillUnmount=="function"&&yS(l,o,d)),Zr(r,o,l);break;case 21:Zr(r,o,l);break;case 22:nn=(d=nn)||l.memoizedState!==null,Zr(r,o,l),nn=d;break;default:Zr(r,o,l)}}function xS(r,o){if(o.memoizedState===null&&(r=o.alternate,r!==null&&(r=r.memoizedState,r!==null))){r=r.dehydrated;try{nu(r)}catch(l){wt(o,o.return,l)}}}function NS(r,o){if(o.memoizedState===null&&(r=o.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{nu(r)}catch(l){wt(o,o.return,l)}}function QR(r){switch(r.tag){case 31:case 13:case 19:var o=r.stateNode;return o===null&&(o=r.stateNode=new ES),o;case 22:return r=r.stateNode,o=r._retryCache,o===null&&(o=r._retryCache=new ES),o;default:throw Error(s(435,r.tag))}}function mg(r,o){var l=QR(r);o.forEach(function(d){if(!l.has(d)){l.add(d);var m=o$.bind(null,r,d);d.then(m,m)}})}function cs(r,o){var l=o.deletions;if(l!==null)for(var d=0;d<l.length;d++){var m=l[d],w=r,C=o,O=C;e:for(;O!==null;){switch(O.tag){case 27:if(ea(O.type)){kt=O.stateNode,as=!1;break e}break;case 5:kt=O.stateNode,as=!1;break e;case 3:case 4:kt=O.stateNode.containerInfo,as=!0;break e}O=O.return}if(kt===null)throw Error(s(160));SS(w,C,m),kt=null,as=!1,w=m.alternate,w!==null&&(w.return=null),m.return=null}if(o.subtreeFlags&13886)for(o=o.child;o!==null;)TS(o,r),o=o.sibling}var Pi=null;function TS(r,o){var l=r.alternate,d=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:cs(o,r),ls(r),d&4&&(Ko(3,r,r.return),Xf(3,r),Ko(5,r,r.return));break;case 1:cs(o,r),ls(r),d&512&&(nn||l===null||cr(l,l.return)),d&64&&Qr&&(r=r.updateQueue,r!==null&&(d=r.callbacks,d!==null&&(l=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=l===null?d:l.concat(d))));break;case 26:var m=Pi;if(cs(o,r),ls(r),d&512&&(nn||l===null||cr(l,l.return)),d&4){var w=l!==null?l.memoizedState:null;if(d=r.memoizedState,l===null)if(d===null)if(r.stateNode===null){e:{d=r.type,l=r.memoizedProps,m=m.ownerDocument||m;t:switch(d){case"title":w=m.getElementsByTagName("title")[0],(!w||w[Ya]||w[an]||w.namespaceURI==="http://www.w3.org/2000/svg"||w.hasAttribute("itemprop"))&&(w=m.createElement(d),m.head.insertBefore(w,m.querySelector("head > title"))),_n(w,d,l),w[an]=r,Zt(w),d=w;break e;case"link":var C=Tx("link","href",m).get(d+(l.href||""));if(C){for(var O=0;O<C.length;O++)if(w=C[O],w.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&w.getAttribute("rel")===(l.rel==null?null:l.rel)&&w.getAttribute("title")===(l.title==null?null:l.title)&&w.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){C.splice(O,1);break t}}w=m.createElement(d),_n(w,d,l),m.head.appendChild(w);break;case"meta":if(C=Tx("meta","content",m).get(d+(l.content||""))){for(O=0;O<C.length;O++)if(w=C[O],w.getAttribute("content")===(l.content==null?null:""+l.content)&&w.getAttribute("name")===(l.name==null?null:l.name)&&w.getAttribute("property")===(l.property==null?null:l.property)&&w.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&w.getAttribute("charset")===(l.charSet==null?null:l.charSet)){C.splice(O,1);break t}}w=m.createElement(d),_n(w,d,l),m.head.appendChild(w);break;default:throw Error(s(468,d))}w[an]=r,Zt(w),d=w}r.stateNode=d}else _x(m,r.type,r.stateNode);else r.stateNode=Nx(m,d,r.memoizedProps);else w!==d?(w===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):w.count--,d===null?_x(m,r.type,r.stateNode):Nx(m,d,r.memoizedProps)):d===null&&r.stateNode!==null&&bw(r,r.memoizedProps,l.memoizedProps)}break;case 27:cs(o,r),ls(r),d&512&&(nn||l===null||cr(l,l.return)),l!==null&&d&4&&bw(r,r.memoizedProps,l.memoizedProps);break;case 5:if(cs(o,r),ls(r),d&512&&(nn||l===null||cr(l,l.return)),r.flags&32){m=r.stateNode;try{jr(m,"")}catch(Se){wt(r,r.return,Se)}}d&4&&r.stateNode!=null&&(m=r.memoizedProps,bw(r,m,l!==null?l.memoizedProps:m)),d&1024&&(Aw=!0);break;case 6:if(cs(o,r),ls(r),d&4){if(r.stateNode===null)throw Error(s(162));d=r.memoizedProps,l=r.stateNode;try{l.nodeValue=d}catch(Se){wt(r,r.return,Se)}}break;case 3:if(Mg=null,m=Pi,Pi=Dg(o.containerInfo),cs(o,r),Pi=m,ls(r),d&4&&l!==null&&l.memoizedState.isDehydrated)try{nu(o.containerInfo)}catch(Se){wt(r,r.return,Se)}Aw&&(Aw=!1,_S(r));break;case 4:d=Pi,Pi=Dg(r.stateNode.containerInfo),cs(o,r),ls(r),Pi=d;break;case 12:cs(o,r),ls(r);break;case 31:cs(o,r),ls(r),d&4&&(d=r.updateQueue,d!==null&&(r.updateQueue=null,mg(r,d)));break;case 13:cs(o,r),ls(r),r.child.flags&8192&&r.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(wg=Mt()),d&4&&(d=r.updateQueue,d!==null&&(r.updateQueue=null,mg(r,d)));break;case 22:m=r.memoizedState!==null;var j=l!==null&&l.memoizedState!==null,J=Qr,oe=nn;if(Qr=J||m,nn=oe||j,cs(o,r),nn=oe,Qr=J,ls(r),d&8192)e:for(o=r.stateNode,o._visibility=m?o._visibility&-2:o._visibility|1,m&&(l===null||j||Qr||nn||pc(r)),l=null,o=r;;){if(o.tag===5||o.tag===26){if(l===null){j=l=o;try{if(w=j.stateNode,m)C=w.style,typeof C.setProperty=="function"?C.setProperty("display","none","important"):C.display="none";else{O=j.stateNode;var ce=j.memoizedProps.style,se=ce!=null&&ce.hasOwnProperty("display")?ce.display:null;O.style.display=se==null||typeof se=="boolean"?"":(""+se).trim()}}catch(Se){wt(j,j.return,Se)}}}else if(o.tag===6){if(l===null){j=o;try{j.stateNode.nodeValue=m?"":j.memoizedProps}catch(Se){wt(j,j.return,Se)}}}else if(o.tag===18){if(l===null){j=o;try{var re=j.stateNode;m?yx(re,!0):yx(j.stateNode,!1)}catch(Se){wt(j,j.return,Se)}}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===r)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===r)break e;for(;o.sibling===null;){if(o.return===null||o.return===r)break e;l===o&&(l=null),o=o.return}l===o&&(l=null),o.sibling.return=o.return,o=o.sibling}d&4&&(d=r.updateQueue,d!==null&&(l=d.retryQueue,l!==null&&(d.retryQueue=null,mg(r,l))));break;case 19:cs(o,r),ls(r),d&4&&(d=r.updateQueue,d!==null&&(r.updateQueue=null,mg(r,d)));break;case 30:break;case 21:break;default:cs(o,r),ls(r)}}function ls(r){var o=r.flags;if(o&2){try{for(var l,d=r.return;d!==null;){if(bS(d)){l=d;break}d=d.return}if(l==null)throw Error(s(160));switch(l.tag){case 27:var m=l.stateNode,w=vw(r);gg(r,w,m);break;case 5:var C=l.stateNode;l.flags&32&&(jr(C,""),l.flags&=-33);var O=vw(r);gg(r,O,C);break;case 3:case 4:var j=l.stateNode.containerInfo,J=vw(r);Ew(r,J,j);break;default:throw Error(s(161))}}catch(oe){wt(r,r.return,oe)}r.flags&=-3}o&4096&&(r.flags&=-4097)}function _S(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var o=r;_S(o),o.tag===5&&o.flags&1024&&o.stateNode.reset(),r=r.sibling}}function Jr(r,o){if(o.subtreeFlags&8772)for(o=o.child;o!==null;)AS(r,o.alternate,o),o=o.sibling}function pc(r){for(r=r.child;r!==null;){var o=r;switch(o.tag){case 0:case 11:case 14:case 15:Ko(4,o,o.return),pc(o);break;case 1:cr(o,o.return);var l=o.stateNode;typeof l.componentWillUnmount=="function"&&yS(o,o.return,l),pc(o);break;case 27:od(o.stateNode);case 26:case 5:cr(o,o.return),pc(o);break;case 22:o.memoizedState===null&&pc(o);break;case 30:pc(o);break;default:pc(o)}r=r.sibling}}function eo(r,o,l){for(l=l&&(o.subtreeFlags&8772)!==0,o=o.child;o!==null;){var d=o.alternate,m=r,w=o,C=w.flags;switch(w.tag){case 0:case 11:case 15:eo(m,w,l),Xf(4,w);break;case 1:if(eo(m,w,l),d=w,m=d.stateNode,typeof m.componentDidMount=="function")try{m.componentDidMount()}catch(J){wt(d,d.return,J)}if(d=w,m=d.updateQueue,m!==null){var O=d.stateNode;try{var j=m.shared.hiddenCallbacks;if(j!==null)for(m.shared.hiddenCallbacks=null,m=0;m<j.length;m++)rC(j[m],O)}catch(J){wt(d,d.return,J)}}l&&C&64&&mS(w),Qf(w,w.return);break;case 27:vS(w);case 26:case 5:eo(m,w,l),l&&d===null&&C&4&&wS(w),Qf(w,w.return);break;case 12:eo(m,w,l);break;case 31:eo(m,w,l),l&&C&4&&xS(m,w);break;case 13:eo(m,w,l),l&&C&4&&NS(m,w);break;case 22:w.memoizedState===null&&eo(m,w,l),Qf(w,w.return);break;case 30:break;default:eo(m,w,l)}o=o.sibling}}function Cw(r,o){var l=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),r=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(r=o.memoizedState.cachePool.pool),r!==l&&(r!=null&&r.refCount++,l!=null&&Lf(l))}function Sw(r,o){r=null,o.alternate!==null&&(r=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==r&&(o.refCount++,r!=null&&Lf(r))}function Li(r,o,l,d){if(o.subtreeFlags&10256)for(o=o.child;o!==null;)IS(r,o,l,d),o=o.sibling}function IS(r,o,l,d){var m=o.flags;switch(o.tag){case 0:case 11:case 15:Li(r,o,l,d),m&2048&&Xf(9,o);break;case 1:Li(r,o,l,d);break;case 3:Li(r,o,l,d),m&2048&&(r=null,o.alternate!==null&&(r=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==r&&(o.refCount++,r!=null&&Lf(r)));break;case 12:if(m&2048){Li(r,o,l,d),r=o.stateNode;try{var w=o.memoizedProps,C=w.id,O=w.onPostCommit;typeof O=="function"&&O(C,o.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(j){wt(o,o.return,j)}}else Li(r,o,l,d);break;case 31:Li(r,o,l,d);break;case 13:Li(r,o,l,d);break;case 23:break;case 22:w=o.stateNode,C=o.alternate,o.memoizedState!==null?w._visibility&2?Li(r,o,l,d):Zf(r,o):w._visibility&2?Li(r,o,l,d):(w._visibility|=2,Vl(r,o,l,d,(o.subtreeFlags&10256)!==0||!1)),m&2048&&Cw(C,o);break;case 24:Li(r,o,l,d),m&2048&&Sw(o.alternate,o);break;default:Li(r,o,l,d)}}function Vl(r,o,l,d,m){for(m=m&&((o.subtreeFlags&10256)!==0||!1),o=o.child;o!==null;){var w=r,C=o,O=l,j=d,J=C.flags;switch(C.tag){case 0:case 11:case 15:Vl(w,C,O,j,m),Xf(8,C);break;case 23:break;case 22:var oe=C.stateNode;C.memoizedState!==null?oe._visibility&2?Vl(w,C,O,j,m):Zf(w,C):(oe._visibility|=2,Vl(w,C,O,j,m)),m&&J&2048&&Cw(C.alternate,C);break;case 24:Vl(w,C,O,j,m),m&&J&2048&&Sw(C.alternate,C);break;default:Vl(w,C,O,j,m)}o=o.sibling}}function Zf(r,o){if(o.subtreeFlags&10256)for(o=o.child;o!==null;){var l=r,d=o,m=d.flags;switch(d.tag){case 22:Zf(l,d),m&2048&&Cw(d.alternate,d);break;case 24:Zf(l,d),m&2048&&Sw(d.alternate,d);break;default:Zf(l,d)}o=o.sibling}}var Jf=8192;function Wl(r,o,l){if(r.subtreeFlags&Jf)for(r=r.child;r!==null;)DS(r,o,l),r=r.sibling}function DS(r,o,l){switch(r.tag){case 26:Wl(r,o,l),r.flags&Jf&&r.memoizedState!==null&&L$(l,Pi,r.memoizedState,r.memoizedProps);break;case 5:Wl(r,o,l);break;case 3:case 4:var d=Pi;Pi=Dg(r.stateNode.containerInfo),Wl(r,o,l),Pi=d;break;case 22:r.memoizedState===null&&(d=r.alternate,d!==null&&d.memoizedState!==null?(d=Jf,Jf=16777216,Wl(r,o,l),Jf=d):Wl(r,o,l));break;default:Wl(r,o,l)}}function OS(r){var o=r.alternate;if(o!==null&&(r=o.child,r!==null)){o.child=null;do o=r.sibling,r.sibling=null,r=o;while(r!==null)}}function ed(r){var o=r.deletions;if((r.flags&16)!==0){if(o!==null)for(var l=0;l<o.length;l++){var d=o[l];pn=d,RS(d,r)}OS(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)MS(r),r=r.sibling}function MS(r){switch(r.tag){case 0:case 11:case 15:ed(r),r.flags&2048&&Ko(9,r,r.return);break;case 3:ed(r);break;case 12:ed(r);break;case 22:var o=r.stateNode;r.memoizedState!==null&&o._visibility&2&&(r.return===null||r.return.tag!==13)?(o._visibility&=-3,yg(r)):ed(r);break;default:ed(r)}}function yg(r){var o=r.deletions;if((r.flags&16)!==0){if(o!==null)for(var l=0;l<o.length;l++){var d=o[l];pn=d,RS(d,r)}OS(r)}for(r=r.child;r!==null;){switch(o=r,o.tag){case 0:case 11:case 15:Ko(8,o,o.return),yg(o);break;case 22:l=o.stateNode,l._visibility&2&&(l._visibility&=-3,yg(o));break;default:yg(o)}r=r.sibling}}function RS(r,o){for(;pn!==null;){var l=pn;switch(l.tag){case 0:case 11:case 15:Ko(8,l,o);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var d=l.memoizedState.cachePool.pool;d!=null&&d.refCount++}break;case 24:Lf(l.memoizedState.cache)}if(d=l.child,d!==null)d.return=l,pn=d;else e:for(l=r;pn!==null;){d=pn;var m=d.sibling,w=d.return;if(CS(d),d===l){pn=null;break e}if(m!==null){m.return=w,pn=m;break e}pn=w}}}var ZR={getCacheForType:function(r){var o=Nn(Jt),l=o.data.get(r);return l===void 0&&(l=r(),o.data.set(r,l)),l},cacheSignal:function(){return Nn(Jt).controller.signal}},JR=typeof WeakMap=="function"?WeakMap:Map,ut=0,Nt=null,Ge=null,Xe=0,yt=0,Ls=null,Go=!1,Kl=!1,xw=!1,to=0,qt=0,Yo=0,gc=0,Nw=0,ks=0,Gl=0,td=null,us=null,Tw=!1,wg=0,$S=0,bg=1/0,vg=null,Xo=null,ln=0,Qo=null,Yl=null,no=0,_w=0,Iw=null,US=null,nd=0,Dw=null;function Bs(){return(ut&2)!==0&&Xe!==0?Xe&-Xe:_.T!==null?Pw():ei()}function PS(){if(ks===0)if((Xe&536870912)===0||Ze){var r=Do;Do<<=1,(Do&3932160)===0&&(Do=262144),ks=r}else ks=536870912;return r=Us.current,r!==null&&(r.flags|=32),ks}function fs(r,o,l){(r===Nt&&(yt===2||yt===9)||r.cancelPendingCommit!==null)&&(Xl(r,0),Zo(r,Xe,ks,!1)),Oo(r,l),((ut&2)===0||r!==Nt)&&(r===Nt&&((ut&2)===0&&(gc|=l),qt===4&&Zo(r,Xe,ks,!1)),lr(r))}function LS(r,o,l){if((ut&6)!==0)throw Error(s(327));var d=!l&&(o&127)===0&&(o&r.expiredLanes)===0||Ga(r,o),m=d?n$(r,o):Mw(r,o,!0),w=d;do{if(m===0){Kl&&!d&&Zo(r,o,0,!1);break}else{if(l=r.current.alternate,w&&!e$(l)){m=Mw(r,o,!1),w=!1;continue}if(m===2){if(w=o,r.errorRecoveryDisabledLanes&w)var C=0;else C=r.pendingLanes&-536870913,C=C!==0?C:C&536870912?536870912:0;if(C!==0){o=C;e:{var O=r;m=td;var j=O.current.memoizedState.isDehydrated;if(j&&(Xl(O,C).flags|=256),C=Mw(O,C,!1),C!==2){if(xw&&!j){O.errorRecoveryDisabledLanes|=w,gc|=w,m=4;break e}w=us,us=m,w!==null&&(us===null?us=w:us.push.apply(us,w))}m=C}if(w=!1,m!==2)continue}}if(m===1){Xl(r,0),Zo(r,o,0,!0);break}e:{switch(d=r,w=m,w){case 0:case 1:throw Error(s(345));case 4:if((o&4194048)!==o)break;case 6:Zo(d,o,ks,!Go);break e;case 2:us=null;break;case 3:case 5:break;default:throw Error(s(329))}if((o&62914560)===o&&(m=wg+300-Mt(),10<m)){if(Zo(d,o,ks,!Go),gl(d,0,!0)!==0)break e;no=o,d.timeoutHandle=px(kS.bind(null,d,l,us,vg,Tw,o,ks,gc,Gl,Go,w,"Throttled",-0,0),m);break e}kS(d,l,us,vg,Tw,o,ks,gc,Gl,Go,w,null,-0,0)}}break}while(!0);lr(r)}function kS(r,o,l,d,m,w,C,O,j,J,oe,ce,se,re){if(r.timeoutHandle=-1,ce=o.subtreeFlags,ce&8192||(ce&16785408)===16785408){ce={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ti},DS(o,w,ce);var Se=(w&62914560)===w?wg-Mt():(w&4194048)===w?$S-Mt():0;if(Se=k$(ce,Se),Se!==null){no=w,r.cancelPendingCommit=Se(WS.bind(null,r,o,w,l,d,m,C,O,j,oe,ce,null,se,re)),Zo(r,w,C,!J);return}}WS(r,o,w,l,d,m,C,O,j)}function e$(r){for(var o=r;;){var l=o.tag;if((l===0||l===11||l===15)&&o.flags&16384&&(l=o.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var d=0;d<l.length;d++){var m=l[d],w=m.getSnapshot;m=m.value;try{if(!Rs(w(),m))return!1}catch{return!1}}if(l=o.child,o.subtreeFlags&16384&&l!==null)l.return=o,o=l;else{if(o===r)break;for(;o.sibling===null;){if(o.return===null||o.return===r)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function Zo(r,o,l,d){o&=~Nw,o&=~gc,r.suspendedLanes|=o,r.pingedLanes&=~o,d&&(r.warmLanes|=o),d=r.expirationTimes;for(var m=o;0<m;){var w=31-Zn(m),C=1<<w;d[w]=-1,m&=~C}l!==0&&Tp(r,l,o)}function Eg(){return(ut&6)===0?(sd(0),!1):!0}function Ow(){if(Ge!==null){if(yt===0)var r=Ge.return;else r=Ge,Vr=oc=null,Ky(r),jl=null,Bf=0,r=Ge;for(;r!==null;)gS(r.alternate,r),r=r.return;Ge=null}}function Xl(r,o){var l=r.timeoutHandle;l!==-1&&(r.timeoutHandle=-1,v$(l)),l=r.cancelPendingCommit,l!==null&&(r.cancelPendingCommit=null,l()),no=0,Ow(),Nt=r,Ge=l=Fr(r.current,null),Xe=o,yt=0,Ls=null,Go=!1,Kl=Ga(r,o),xw=!1,Gl=ks=Nw=gc=Yo=qt=0,us=td=null,Tw=!1,(o&8)!==0&&(o|=o&32);var d=r.entangledLanes;if(d!==0)for(r=r.entanglements,d&=o;0<d;){var m=31-Zn(d),w=1<<m;o|=r[m],d&=~w}return to=o,Hp(),l}function BS(r,o){He=null,_.H=Kf,o===Bl||o===Xp?(o=tC(),yt=3):o===Uy?(o=tC(),yt=4):yt=o===lw?8:o!==null&&typeof o=="object"&&typeof o.then=="function"?6:1,Ls=o,Ge===null&&(qt=1,ug(r,ii(o,r.current)))}function jS(){var r=Us.current;return r===null?!0:(Xe&4194048)===Xe?ci===null:(Xe&62914560)===Xe||(Xe&536870912)!==0?r===ci:!1}function zS(){var r=_.H;return _.H=Kf,r===null?Kf:r}function HS(){var r=_.A;return _.A=ZR,r}function Ag(){qt=4,Go||(Xe&4194048)!==Xe&&Us.current!==null||(Kl=!0),(Yo&134217727)===0&&(gc&134217727)===0||Nt===null||Zo(Nt,Xe,ks,!1)}function Mw(r,o,l){var d=ut;ut|=2;var m=zS(),w=HS();(Nt!==r||Xe!==o)&&(vg=null,Xl(r,o)),o=!1;var C=qt;e:do try{if(yt!==0&&Ge!==null){var O=Ge,j=Ls;switch(yt){case 8:Ow(),C=6;break e;case 3:case 2:case 9:case 6:Us.current===null&&(o=!0);var J=yt;if(yt=0,Ls=null,Ql(r,O,j,J),l&&Kl){C=0;break e}break;default:J=yt,yt=0,Ls=null,Ql(r,O,j,J)}}t$(),C=qt;break}catch(oe){BS(r,oe)}while(!0);return o&&r.shellSuspendCounter++,Vr=oc=null,ut=d,_.H=m,_.A=w,Ge===null&&(Nt=null,Xe=0,Hp()),C}function t$(){for(;Ge!==null;)FS(Ge)}function n$(r,o){var l=ut;ut|=2;var d=zS(),m=HS();Nt!==r||Xe!==o?(vg=null,bg=Mt()+500,Xl(r,o)):Kl=Ga(r,o);e:do try{if(yt!==0&&Ge!==null){o=Ge;var w=Ls;t:switch(yt){case 1:yt=0,Ls=null,Ql(r,o,w,1);break;case 2:case 9:if(JA(w)){yt=0,Ls=null,qS(o);break}o=function(){yt!==2&&yt!==9||Nt!==r||(yt=7),lr(r)},w.then(o,o);break e;case 3:yt=7;break e;case 4:yt=5;break e;case 7:JA(w)?(yt=0,Ls=null,qS(o)):(yt=0,Ls=null,Ql(r,o,w,7));break;case 5:var C=null;switch(Ge.tag){case 26:C=Ge.memoizedState;case 5:case 27:var O=Ge;if(C?Ix(C):O.stateNode.complete){yt=0,Ls=null;var j=O.sibling;if(j!==null)Ge=j;else{var J=O.return;J!==null?(Ge=J,Cg(J)):Ge=null}break t}}yt=0,Ls=null,Ql(r,o,w,5);break;case 6:yt=0,Ls=null,Ql(r,o,w,6);break;case 8:Ow(),qt=6;break e;default:throw Error(s(462))}}s$();break}catch(oe){BS(r,oe)}while(!0);return Vr=oc=null,_.H=d,_.A=m,ut=l,Ge!==null?0:(Nt=null,Xe=0,Hp(),qt)}function s$(){for(;Ge!==null&&!Ha();)FS(Ge)}function FS(r){var o=hS(r.alternate,r,to);r.memoizedProps=r.pendingProps,o===null?Cg(r):Ge=o}function qS(r){var o=r,l=o.alternate;switch(o.tag){case 15:case 0:o=aS(l,o,o.pendingProps,o.type,void 0,Xe);break;case 11:o=aS(l,o,o.pendingProps,o.type.render,o.ref,Xe);break;case 5:Ky(o);default:gS(l,o),o=Ge=HA(o,to),o=hS(l,o,to)}r.memoizedProps=r.pendingProps,o===null?Cg(r):Ge=o}function Ql(r,o,l,d){Vr=oc=null,Ky(o),jl=null,Bf=0;var m=o.return;try{if(VR(r,m,o,l,Xe)){qt=1,ug(r,ii(l,r.current)),Ge=null;return}}catch(w){if(m!==null)throw Ge=m,w;qt=1,ug(r,ii(l,r.current)),Ge=null;return}o.flags&32768?(Ze||d===1?r=!0:Kl||(Xe&536870912)!==0?r=!1:(Go=r=!0,(d===2||d===9||d===3||d===6)&&(d=Us.current,d!==null&&d.tag===13&&(d.flags|=16384))),VS(o,r)):Cg(o)}function Cg(r){var o=r;do{if((o.flags&32768)!==0){VS(o,Go);return}r=o.return;var l=GR(o.alternate,o,to);if(l!==null){Ge=l;return}if(o=o.sibling,o!==null){Ge=o;return}Ge=o=r}while(o!==null);qt===0&&(qt=5)}function VS(r,o){do{var l=YR(r.alternate,r);if(l!==null){l.flags&=32767,Ge=l;return}if(l=r.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!o&&(r=r.sibling,r!==null)){Ge=r;return}Ge=r=l}while(r!==null);qt=6,Ge=null}function WS(r,o,l,d,m,w,C,O,j){r.cancelPendingCommit=null;do Sg();while(ln!==0);if((ut&6)!==0)throw Error(s(327));if(o!==null){if(o===r.current)throw Error(s(177));if(w=o.lanes|o.childLanes,w|=vy,kr(r,l,w,C,O,j),r===Nt&&(Ge=Nt=null,Xe=0),Yl=o,Qo=r,no=l,_w=w,Iw=m,US=d,(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?(r.callbackNode=null,r.callbackPriority=0,a$(Pr,function(){return QS(),null})):(r.callbackNode=null,r.callbackPriority=0),d=(o.flags&13878)!==0,(o.subtreeFlags&13878)!==0||d){d=_.T,_.T=null,m=k.p,k.p=2,C=ut,ut|=4;try{XR(r,o,l)}finally{ut=C,k.p=m,_.T=d}}ln=1,KS(),GS(),YS()}}function KS(){if(ln===1){ln=0;var r=Qo,o=Yl,l=(o.flags&13878)!==0;if((o.subtreeFlags&13878)!==0||l){l=_.T,_.T=null;var d=k.p;k.p=2;var m=ut;ut|=4;try{TS(o,r);var w=qw,C=RA(r.containerInfo),O=w.focusedElem,j=w.selectionRange;if(C!==O&&O&&O.ownerDocument&&MA(O.ownerDocument.documentElement,O)){if(j!==null&&gy(O)){var J=j.start,oe=j.end;if(oe===void 0&&(oe=J),"selectionStart"in O)O.selectionStart=J,O.selectionEnd=Math.min(oe,O.value.length);else{var ce=O.ownerDocument||document,se=ce&&ce.defaultView||window;if(se.getSelection){var re=se.getSelection(),Se=O.textContent.length,Le=Math.min(j.start,Se),Ct=j.end===void 0?Le:Math.min(j.end,Se);!re.extend&&Le>Ct&&(C=Ct,Ct=Le,Le=C);var Y=OA(O,Le),W=OA(O,Ct);if(Y&&W&&(re.rangeCount!==1||re.anchorNode!==Y.node||re.anchorOffset!==Y.offset||re.focusNode!==W.node||re.focusOffset!==W.offset)){var Z=ce.createRange();Z.setStart(Y.node,Y.offset),re.removeAllRanges(),Le>Ct?(re.addRange(Z),re.extend(W.node,W.offset)):(Z.setEnd(W.node,W.offset),re.addRange(Z))}}}}for(ce=[],re=O;re=re.parentNode;)re.nodeType===1&&ce.push({element:re,left:re.scrollLeft,top:re.scrollTop});for(typeof O.focus=="function"&&O.focus(),O=0;O<ce.length;O++){var ae=ce[O];ae.element.scrollLeft=ae.left,ae.element.scrollTop=ae.top}}Pg=!!Fw,qw=Fw=null}finally{ut=m,k.p=d,_.T=l}}r.current=o,ln=2}}function GS(){if(ln===2){ln=0;var r=Qo,o=Yl,l=(o.flags&8772)!==0;if((o.subtreeFlags&8772)!==0||l){l=_.T,_.T=null;var d=k.p;k.p=2;var m=ut;ut|=4;try{AS(r,o.alternate,o)}finally{ut=m,k.p=d,_.T=l}}ln=3}}function YS(){if(ln===4||ln===3){ln=0,Fa();var r=Qo,o=Yl,l=no,d=US;(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?ln=5:(ln=0,Yl=Qo=null,XS(r,r.pendingLanes));var m=r.pendingLanes;if(m===0&&(Xo=null),bf(l),o=o.stateNode,jn&&typeof jn.onCommitFiberRoot=="function")try{jn.onCommitFiberRoot(Wa,o,void 0,(o.current.flags&128)===128)}catch{}if(d!==null){o=_.T,m=k.p,k.p=2,_.T=null;try{for(var w=r.onRecoverableError,C=0;C<d.length;C++){var O=d[C];w(O.value,{componentStack:O.stack})}}finally{_.T=o,k.p=m}}(no&3)!==0&&Sg(),lr(r),m=r.pendingLanes,(l&261930)!==0&&(m&42)!==0?r===Dw?nd++:(nd=0,Dw=r):nd=0,sd(0)}}function XS(r,o){(r.pooledCacheLanes&=o)===0&&(o=r.pooledCache,o!=null&&(r.pooledCache=null,Lf(o)))}function Sg(){return KS(),GS(),YS(),QS()}function QS(){if(ln!==5)return!1;var r=Qo,o=_w;_w=0;var l=bf(no),d=_.T,m=k.p;try{k.p=32>l?32:l,_.T=null,l=Iw,Iw=null;var w=Qo,C=no;if(ln=0,Yl=Qo=null,no=0,(ut&6)!==0)throw Error(s(331));var O=ut;if(ut|=4,MS(w.current),IS(w,w.current,C,l),ut=O,sd(0,!1),jn&&typeof jn.onPostCommitFiberRoot=="function")try{jn.onPostCommitFiberRoot(Wa,w)}catch{}return!0}finally{k.p=m,_.T=d,XS(r,o)}}function ZS(r,o,l){o=ii(l,o),o=cw(r.stateNode,o,2),r=qo(r,o,2),r!==null&&(Oo(r,2),lr(r))}function wt(r,o,l){if(r.tag===3)ZS(r,r,l);else for(;o!==null;){if(o.tag===3){ZS(o,r,l);break}else if(o.tag===1){var d=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(Xo===null||!Xo.has(d))){r=ii(l,r),l=JC(2),d=qo(o,l,2),d!==null&&(eS(l,d,o,r),Oo(d,2),lr(d));break}}o=o.return}}function Rw(r,o,l){var d=r.pingCache;if(d===null){d=r.pingCache=new JR;var m=new Set;d.set(o,m)}else m=d.get(o),m===void 0&&(m=new Set,d.set(o,m));m.has(l)||(xw=!0,m.add(l),r=i$.bind(null,r,o,l),o.then(r,r))}function i$(r,o,l){var d=r.pingCache;d!==null&&d.delete(o),r.pingedLanes|=r.suspendedLanes&l,r.warmLanes&=~l,Nt===r&&(Xe&l)===l&&(qt===4||qt===3&&(Xe&62914560)===Xe&&300>Mt()-wg?(ut&2)===0&&Xl(r,0):Nw|=l,Gl===Xe&&(Gl=0)),lr(r)}function JS(r,o){o===0&&(o=Np()),r=sc(r,o),r!==null&&(Oo(r,o),lr(r))}function r$(r){var o=r.memoizedState,l=0;o!==null&&(l=o.retryLane),JS(r,l)}function o$(r,o){var l=0;switch(r.tag){case 31:case 13:var d=r.stateNode,m=r.memoizedState;m!==null&&(l=m.retryLane);break;case 19:d=r.stateNode;break;case 22:d=r.stateNode._retryCache;break;default:throw Error(s(314))}d!==null&&d.delete(o),JS(r,l)}function a$(r,o){return Di(r,o)}var xg=null,Zl=null,$w=!1,Ng=!1,Uw=!1,Jo=0;function lr(r){r!==Zl&&r.next===null&&(Zl===null?xg=Zl=r:Zl=Zl.next=r),Ng=!0,$w||($w=!0,l$())}function sd(r,o){if(!Uw&&Ng){Uw=!0;do for(var l=!1,d=xg;d!==null;){if(r!==0){var m=d.pendingLanes;if(m===0)var w=0;else{var C=d.suspendedLanes,O=d.pingedLanes;w=(1<<31-Zn(42|r)+1)-1,w&=m&~(C&~O),w=w&201326741?w&201326741|1:w?w|2:0}w!==0&&(l=!0,sx(d,w))}else w=Xe,w=gl(d,d===Nt?w:0,d.cancelPendingCommit!==null||d.timeoutHandle!==-1),(w&3)===0||Ga(d,w)||(l=!0,sx(d,w));d=d.next}while(l);Uw=!1}}function c$(){ex()}function ex(){Ng=$w=!1;var r=0;Jo!==0&&b$()&&(r=Jo);for(var o=Mt(),l=null,d=xg;d!==null;){var m=d.next,w=tx(d,o);w===0?(d.next=null,l===null?xg=m:l.next=m,m===null&&(Zl=l)):(l=d,(r!==0||(w&3)!==0)&&(Ng=!0)),d=m}ln!==0&&ln!==5||sd(r),Jo!==0&&(Jo=0)}function tx(r,o){for(var l=r.suspendedLanes,d=r.pingedLanes,m=r.expirationTimes,w=r.pendingLanes&-62914561;0<w;){var C=31-Zn(w),O=1<<C,j=m[C];j===-1?((O&l)===0||(O&d)!==0)&&(m[C]=ty(O,o)):j<=o&&(r.expiredLanes|=O),w&=~O}if(o=Nt,l=Xe,l=gl(r,r===o?l:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),d=r.callbackNode,l===0||r===o&&(yt===2||yt===9)||r.cancelPendingCommit!==null)return d!==null&&d!==null&&Oi(d),r.callbackNode=null,r.callbackPriority=0;if((l&3)===0||Ga(r,l)){if(o=l&-l,o===r.callbackPriority)return o;switch(d!==null&&Oi(d),bf(l)){case 2:case 8:l=Va;break;case 32:l=Pr;break;case 268435456:l=pl;break;default:l=Pr}return d=nx.bind(null,r),l=Di(l,d),r.callbackPriority=o,r.callbackNode=l,o}return d!==null&&d!==null&&Oi(d),r.callbackPriority=2,r.callbackNode=null,2}function nx(r,o){if(ln!==0&&ln!==5)return r.callbackNode=null,r.callbackPriority=0,null;var l=r.callbackNode;if(Sg()&&r.callbackNode!==l)return null;var d=Xe;return d=gl(r,r===Nt?d:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),d===0?null:(LS(r,d,o),tx(r,Mt()),r.callbackNode!=null&&r.callbackNode===l?nx.bind(null,r):null)}function sx(r,o){if(Sg())return null;LS(r,o,!0)}function l$(){E$(function(){(ut&6)!==0?Di(qa,c$):ex()})}function Pw(){if(Jo===0){var r=Ll;r===0&&(r=Io,Io<<=1,(Io&261888)===0&&(Io=256)),Jo=r}return Jo}function ix(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:Al(""+r)}function rx(r,o){var l=o.ownerDocument.createElement("input");return l.name=o.name,l.value=o.value,r.id&&l.setAttribute("form",r.id),o.parentNode.insertBefore(l,o),r=new FormData(r),l.parentNode.removeChild(l),r}function u$(r,o,l,d,m){if(o==="submit"&&l&&l.stateNode===m){var w=ix((m[zn]||null).action),C=d.submitter;C&&(o=(o=C[zn]||null)?ix(o.formAction):C.getAttribute("formAction"),o!==null&&(w=o,C=null));var O=new cn("action","action",null,d,m);r.push({event:O,listeners:[{instance:null,listener:function(){if(d.defaultPrevented){if(Jo!==0){var j=C?rx(m,C):new FormData(m);nw(l,{pending:!0,data:j,method:m.method,action:w},null,j)}}else typeof w=="function"&&(O.preventDefault(),j=C?rx(m,C):new FormData(m),nw(l,{pending:!0,data:j,method:m.method,action:w},w,j))},currentTarget:m}]})}}for(var Lw=0;Lw<by.length;Lw++){var kw=by[Lw],f$=kw.toLowerCase(),d$=kw[0].toUpperCase()+kw.slice(1);Ui(f$,"on"+d$)}Ui(PA,"onAnimationEnd"),Ui(LA,"onAnimationIteration"),Ui(kA,"onAnimationStart"),Ui("dblclick","onDoubleClick"),Ui("focusin","onFocus"),Ui("focusout","onBlur"),Ui(_R,"onTransitionRun"),Ui(IR,"onTransitionStart"),Ui(DR,"onTransitionCancel"),Ui(BA,"onTransitionEnd"),Mi("onMouseEnter",["mouseout","mouseover"]),Mi("onMouseLeave",["mouseout","mouseover"]),Mi("onPointerEnter",["pointerout","pointerover"]),Mi("onPointerLeave",["pointerout","pointerover"]),nr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),nr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),nr("onBeforeInput",["compositionend","keypress","textInput","paste"]),nr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),nr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),nr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var id="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),h$=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(id));function ox(r,o){o=(o&4)!==0;for(var l=0;l<r.length;l++){var d=r[l],m=d.event;d=d.listeners;e:{var w=void 0;if(o)for(var C=d.length-1;0<=C;C--){var O=d[C],j=O.instance,J=O.currentTarget;if(O=O.listener,j!==w&&m.isPropagationStopped())break e;w=O,m.currentTarget=J;try{w(m)}catch(oe){zp(oe)}m.currentTarget=null,w=j}else for(C=0;C<d.length;C++){if(O=d[C],j=O.instance,J=O.currentTarget,O=O.listener,j!==w&&m.isPropagationStopped())break e;w=O,m.currentTarget=J;try{w(m)}catch(oe){zp(oe)}m.currentTarget=null,w=j}}}}function Ye(r,o){var l=o[tr];l===void 0&&(l=o[tr]=new Set);var d=r+"__bubble";l.has(d)||(ax(o,r,2,!1),l.add(d))}function Bw(r,o,l){var d=0;o&&(d|=4),ax(l,r,d,o)}var Tg="_reactListening"+Math.random().toString(36).slice(2);function jw(r){if(!r[Tg]){r[Tg]=!0,Mp.forEach(function(l){l!=="selectionchange"&&(h$.has(l)||Bw(l,!1,r),Bw(l,!0,r))});var o=r.nodeType===9?r:r.ownerDocument;o===null||o[Tg]||(o[Tg]=!0,Bw("selectionchange",!1,o))}}function ax(r,o,l,d){switch(Px(o)){case 2:var m=z$;break;case 8:m=H$;break;default:m=t1}l=m.bind(null,o,l,r),m=void 0,!Tf||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(m=!0),d?m!==void 0?r.addEventListener(o,l,{capture:!0,passive:m}):r.addEventListener(o,l,!0):m!==void 0?r.addEventListener(o,l,{passive:m}):r.addEventListener(o,l,!1)}function zw(r,o,l,d,m){var w=d;if((o&1)===0&&(o&2)===0&&d!==null)e:for(;;){if(d===null)return;var C=d.tag;if(C===3||C===4){var O=d.stateNode.containerInfo;if(O===m)break;if(C===4)for(C=d.return;C!==null;){var j=C.tag;if((j===3||j===4)&&C.stateNode.containerInfo===m)return;C=C.return}for(;O!==null;){if(C=Ms(O),C===null)return;if(j=C.tag,j===5||j===6||j===26||j===27){d=w=C;continue e}O=O.parentNode}}d=d.return}kp(function(){var J=w,oe=Nf(l),ce=[];e:{var se=jA.get(r);if(se!==void 0){var re=cn,Se=r;switch(r){case"keypress":if(L(l)===0)break e;case"keydown":case"keyup":re=oR;break;case"focusin":Se="focus",re=uy;break;case"focusout":Se="blur",re=uy;break;case"beforeblur":case"afterblur":re=uy;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":re=_f;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":re=Tl;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":re=lR;break;case PA:case LA:case kA:re=QM;break;case BA:re=fR;break;case"scroll":case"scrollend":re=Hn;break;case"wheel":re=hR;break;case"copy":case"cut":case"paste":re=JM;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":re=yA;break;case"toggle":case"beforetoggle":re=gR}var Le=(o&4)!==0,Ct=!Le&&(r==="scroll"||r==="scrollend"),Y=Le?se!==null?se+"Capture":null:se;Le=[];for(var W=J,Z;W!==null;){var ae=W;if(Z=ae.stateNode,ae=ae.tag,ae!==5&&ae!==26&&ae!==27||Z===null||Y===null||(ae=Za(W,Y),ae!=null&&Le.push(rd(W,ae,Z))),Ct)break;W=W.return}0<Le.length&&(se=new re(se,Se,null,l,oe),ce.push({event:se,listeners:Le}))}}if((o&7)===0){e:{if(se=r==="mouseover"||r==="pointerover",re=r==="mouseout"||r==="pointerout",se&&l!==$i&&(Se=l.relatedTarget||l.fromElement)&&(Ms(Se)||Se[Mo]))break e;if((re||se)&&(se=oe.window===oe?oe:(se=oe.ownerDocument)?se.defaultView||se.parentWindow:window,re?(Se=l.relatedTarget||l.toElement,re=J,Se=Se?Ms(Se):null,Se!==null&&(Ct=a(Se),Le=Se.tag,Se!==Ct||Le!==5&&Le!==27&&Le!==6)&&(Se=null)):(re=null,Se=J),re!==Se)){if(Le=_f,ae="onMouseLeave",Y="onMouseEnter",W="mouse",(r==="pointerout"||r==="pointerover")&&(Le=yA,ae="onPointerLeave",Y="onPointerEnter",W="pointer"),Ct=re==null?se:Xa(re),Z=Se==null?se:Xa(Se),se=new Le(ae,W+"leave",re,l,oe),se.target=Ct,se.relatedTarget=Z,ae=null,Ms(oe)===J&&(Le=new Le(Y,W+"enter",Se,l,oe),Le.target=Z,Le.relatedTarget=Ct,ae=Le),Ct=ae,re&&Se)t:{for(Le=p$,Y=re,W=Se,Z=0,ae=Y;ae;ae=Le(ae))Z++;ae=0;for(var Re=W;Re;Re=Le(Re))ae++;for(;0<Z-ae;)Y=Le(Y),Z--;for(;0<ae-Z;)W=Le(W),ae--;for(;Z--;){if(Y===W||W!==null&&Y===W.alternate){Le=Y;break t}Y=Le(Y),W=Le(W)}Le=null}else Le=null;re!==null&&cx(ce,se,re,Le,!1),Se!==null&&Ct!==null&&cx(ce,Ct,Se,Le,!0)}}e:{if(se=J?Xa(J):window,re=se.nodeName&&se.nodeName.toLowerCase(),re==="select"||re==="input"&&se.type==="file")var st=xA;else if(CA(se))if(NA)st=xR;else{st=CR;var Ne=AR}else re=se.nodeName,!re||re.toLowerCase()!=="input"||se.type!=="checkbox"&&se.type!=="radio"?J&&xf(J.elementType)&&(st=xA):st=SR;if(st&&(st=st(r,J))){SA(ce,st,l,oe);break e}Ne&&Ne(r,se,J),r==="focusout"&&J&&se.type==="number"&&J.memoizedProps.value!=null&&Sf(se,"number",se.value)}switch(Ne=J?Xa(J):window,r){case"focusin":(CA(Ne)||Ne.contentEditable==="true")&&(Il=Ne,my=J,$f=null);break;case"focusout":$f=my=Il=null;break;case"mousedown":yy=!0;break;case"contextmenu":case"mouseup":case"dragend":yy=!1,$A(ce,l,oe);break;case"selectionchange":if(TR)break;case"keydown":case"keyup":$A(ce,l,oe)}var qe;if(dy)e:{switch(r){case"compositionstart":var Qe="onCompositionStart";break e;case"compositionend":Qe="onCompositionEnd";break e;case"compositionupdate":Qe="onCompositionUpdate";break e}Qe=void 0}else _l?EA(r,l)&&(Qe="onCompositionEnd"):r==="keydown"&&l.keyCode===229&&(Qe="onCompositionStart");Qe&&(wA&&l.locale!=="ko"&&(_l||Qe!=="onCompositionStart"?Qe==="onCompositionEnd"&&_l&&(qe=Bp()):(ir=oe,Ja="value"in ir?ir.value:ir.textContent,_l=!0)),Ne=_g(J,Qe),0<Ne.length&&(Qe=new mA(Qe,r,null,l,oe),ce.push({event:Qe,listeners:Ne}),qe?Qe.data=qe:(qe=AA(l),qe!==null&&(Qe.data=qe)))),(qe=yR?wR(r,l):bR(r,l))&&(Qe=_g(J,"onBeforeInput"),0<Qe.length&&(Ne=new mA("onBeforeInput","beforeinput",null,l,oe),ce.push({event:Ne,listeners:Qe}),Ne.data=qe)),u$(ce,r,J,l,oe)}ox(ce,o)})}function rd(r,o,l){return{instance:r,listener:o,currentTarget:l}}function _g(r,o){for(var l=o+"Capture",d=[];r!==null;){var m=r,w=m.stateNode;if(m=m.tag,m!==5&&m!==26&&m!==27||w===null||(m=Za(r,l),m!=null&&d.unshift(rd(r,m,w)),m=Za(r,o),m!=null&&d.push(rd(r,m,w))),r.tag===3)return d;r=r.return}return[]}function p$(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function cx(r,o,l,d,m){for(var w=o._reactName,C=[];l!==null&&l!==d;){var O=l,j=O.alternate,J=O.stateNode;if(O=O.tag,j!==null&&j===d)break;O!==5&&O!==26&&O!==27||J===null||(j=J,m?(J=Za(l,w),J!=null&&C.unshift(rd(l,J,j))):m||(J=Za(l,w),J!=null&&C.push(rd(l,J,j)))),l=l.return}C.length!==0&&r.push({event:o,listeners:C})}var g$=/\r\n?/g,m$=/\u0000|\uFFFD/g;function lx(r){return(typeof r=="string"?r:""+r).replace(g$,`
`).replace(m$,"")}function ux(r,o){return o=lx(o),lx(r)===o}function At(r,o,l,d,m,w){switch(l){case"children":typeof d=="string"?o==="body"||o==="textarea"&&d===""||jr(r,d):(typeof d=="number"||typeof d=="bigint")&&o!=="body"&&jr(r,""+d);break;case"className":bl(r,"class",d);break;case"tabIndex":bl(r,"tabindex",d);break;case"dir":case"role":case"viewBox":case"width":case"height":bl(r,l,d);break;case"style":Lp(r,d,w);break;case"data":if(o!=="object"){bl(r,"data",d);break}case"src":case"href":if(d===""&&(o!=="a"||l!=="href")){r.removeAttribute(l);break}if(d==null||typeof d=="function"||typeof d=="symbol"||typeof d=="boolean"){r.removeAttribute(l);break}d=Al(""+d),r.setAttribute(l,d);break;case"action":case"formAction":if(typeof d=="function"){r.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof w=="function"&&(l==="formAction"?(o!=="input"&&At(r,o,"name",m.name,m,null),At(r,o,"formEncType",m.formEncType,m,null),At(r,o,"formMethod",m.formMethod,m,null),At(r,o,"formTarget",m.formTarget,m,null)):(At(r,o,"encType",m.encType,m,null),At(r,o,"method",m.method,m,null),At(r,o,"target",m.target,m,null)));if(d==null||typeof d=="symbol"||typeof d=="boolean"){r.removeAttribute(l);break}d=Al(""+d),r.setAttribute(l,d);break;case"onClick":d!=null&&(r.onclick=ti);break;case"onScroll":d!=null&&Ye("scroll",r);break;case"onScrollEnd":d!=null&&Ye("scrollend",r);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(s(61));if(l=d.__html,l!=null){if(m.children!=null)throw Error(s(60));r.innerHTML=l}}break;case"multiple":r.multiple=d&&typeof d!="function"&&typeof d!="symbol";break;case"muted":r.muted=d&&typeof d!="function"&&typeof d!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(d==null||typeof d=="function"||typeof d=="boolean"||typeof d=="symbol"){r.removeAttribute("xlink:href");break}l=Al(""+d),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":d!=null&&typeof d!="function"&&typeof d!="symbol"?r.setAttribute(l,""+d):r.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":d&&typeof d!="function"&&typeof d!="symbol"?r.setAttribute(l,""):r.removeAttribute(l);break;case"capture":case"download":d===!0?r.setAttribute(l,""):d!==!1&&d!=null&&typeof d!="function"&&typeof d!="symbol"?r.setAttribute(l,d):r.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":d!=null&&typeof d!="function"&&typeof d!="symbol"&&!isNaN(d)&&1<=d?r.setAttribute(l,d):r.removeAttribute(l);break;case"rowSpan":case"start":d==null||typeof d=="function"||typeof d=="symbol"||isNaN(d)?r.removeAttribute(l):r.setAttribute(l,d);break;case"popover":Ye("beforetoggle",r),Ye("toggle",r),wl(r,"popover",d);break;case"xlinkActuate":Ri(r,"http://www.w3.org/1999/xlink","xlink:actuate",d);break;case"xlinkArcrole":Ri(r,"http://www.w3.org/1999/xlink","xlink:arcrole",d);break;case"xlinkRole":Ri(r,"http://www.w3.org/1999/xlink","xlink:role",d);break;case"xlinkShow":Ri(r,"http://www.w3.org/1999/xlink","xlink:show",d);break;case"xlinkTitle":Ri(r,"http://www.w3.org/1999/xlink","xlink:title",d);break;case"xlinkType":Ri(r,"http://www.w3.org/1999/xlink","xlink:type",d);break;case"xmlBase":Ri(r,"http://www.w3.org/XML/1998/namespace","xml:base",d);break;case"xmlLang":Ri(r,"http://www.w3.org/XML/1998/namespace","xml:lang",d);break;case"xmlSpace":Ri(r,"http://www.w3.org/XML/1998/namespace","xml:space",d);break;case"is":wl(r,"is",d);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=cy.get(l)||l,wl(r,l,d))}}function Hw(r,o,l,d,m,w){switch(l){case"style":Lp(r,d,w);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(s(61));if(l=d.__html,l!=null){if(m.children!=null)throw Error(s(60));r.innerHTML=l}}break;case"children":typeof d=="string"?jr(r,d):(typeof d=="number"||typeof d=="bigint")&&jr(r,""+d);break;case"onScroll":d!=null&&Ye("scroll",r);break;case"onScrollEnd":d!=null&&Ye("scrollend",r);break;case"onClick":d!=null&&(r.onclick=ti);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Rp.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(m=l.endsWith("Capture"),o=l.slice(2,m?l.length-7:void 0),w=r[zn]||null,w=w!=null?w[l]:null,typeof w=="function"&&r.removeEventListener(o,w,m),typeof d=="function")){typeof w!="function"&&w!==null&&(l in r?r[l]=null:r.hasAttribute(l)&&r.removeAttribute(l)),r.addEventListener(o,d,m);break e}l in r?r[l]=d:d===!0?r.setAttribute(l,""):wl(r,l,d)}}}function _n(r,o,l){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ye("error",r),Ye("load",r);var d=!1,m=!1,w;for(w in l)if(l.hasOwnProperty(w)){var C=l[w];if(C!=null)switch(w){case"src":d=!0;break;case"srcSet":m=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,o));default:At(r,o,w,C,l,null)}}m&&At(r,o,"srcSet",l.srcSet,l,null),d&&At(r,o,"src",l.src,l,null);return;case"input":Ye("invalid",r);var O=w=C=m=null,j=null,J=null;for(d in l)if(l.hasOwnProperty(d)){var oe=l[d];if(oe!=null)switch(d){case"name":m=oe;break;case"type":C=oe;break;case"checked":j=oe;break;case"defaultChecked":J=oe;break;case"value":w=oe;break;case"defaultValue":O=oe;break;case"children":case"dangerouslySetInnerHTML":if(oe!=null)throw Error(s(137,o));break;default:At(r,o,d,oe,l,null)}}Cf(r,w,O,j,J,C,m,!1);return;case"select":Ye("invalid",r),d=C=w=null;for(m in l)if(l.hasOwnProperty(m)&&(O=l[m],O!=null))switch(m){case"value":w=O;break;case"defaultValue":C=O;break;case"multiple":d=O;default:At(r,o,m,O,l,null)}o=w,l=C,r.multiple=!!d,o!=null?Uo(r,!!d,o,!1):l!=null&&Uo(r,!!d,l,!0);return;case"textarea":Ye("invalid",r),w=m=d=null;for(C in l)if(l.hasOwnProperty(C)&&(O=l[C],O!=null))switch(C){case"value":d=O;break;case"defaultValue":m=O;break;case"children":w=O;break;case"dangerouslySetInnerHTML":if(O!=null)throw Error(s(91));break;default:At(r,o,C,O,l,null)}Br(r,d,m,w);return;case"option":for(j in l)if(l.hasOwnProperty(j)&&(d=l[j],d!=null))switch(j){case"selected":r.selected=d&&typeof d!="function"&&typeof d!="symbol";break;default:At(r,o,j,d,l,null)}return;case"dialog":Ye("beforetoggle",r),Ye("toggle",r),Ye("cancel",r),Ye("close",r);break;case"iframe":case"object":Ye("load",r);break;case"video":case"audio":for(d=0;d<id.length;d++)Ye(id[d],r);break;case"image":Ye("error",r),Ye("load",r);break;case"details":Ye("toggle",r);break;case"embed":case"source":case"link":Ye("error",r),Ye("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(J in l)if(l.hasOwnProperty(J)&&(d=l[J],d!=null))switch(J){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,o));default:At(r,o,J,d,l,null)}return;default:if(xf(o)){for(oe in l)l.hasOwnProperty(oe)&&(d=l[oe],d!==void 0&&Hw(r,o,oe,d,l,void 0));return}}for(O in l)l.hasOwnProperty(O)&&(d=l[O],d!=null&&At(r,o,O,d,l,null))}function y$(r,o,l,d){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var m=null,w=null,C=null,O=null,j=null,J=null,oe=null;for(re in l){var ce=l[re];if(l.hasOwnProperty(re)&&ce!=null)switch(re){case"checked":break;case"value":break;case"defaultValue":j=ce;default:d.hasOwnProperty(re)||At(r,o,re,null,d,ce)}}for(var se in d){var re=d[se];if(ce=l[se],d.hasOwnProperty(se)&&(re!=null||ce!=null))switch(se){case"type":w=re;break;case"name":m=re;break;case"checked":J=re;break;case"defaultChecked":oe=re;break;case"value":C=re;break;case"defaultValue":O=re;break;case"children":case"dangerouslySetInnerHTML":if(re!=null)throw Error(s(137,o));break;default:re!==ce&&At(r,o,se,re,d,ce)}}Af(r,C,O,j,J,oe,w,m);return;case"select":re=C=O=se=null;for(w in l)if(j=l[w],l.hasOwnProperty(w)&&j!=null)switch(w){case"value":break;case"multiple":re=j;default:d.hasOwnProperty(w)||At(r,o,w,null,d,j)}for(m in d)if(w=d[m],j=l[m],d.hasOwnProperty(m)&&(w!=null||j!=null))switch(m){case"value":se=w;break;case"defaultValue":O=w;break;case"multiple":C=w;default:w!==j&&At(r,o,m,w,d,j)}o=O,l=C,d=re,se!=null?Uo(r,!!l,se,!1):!!d!=!!l&&(o!=null?Uo(r,!!l,o,!0):Uo(r,!!l,l?[]:"",!1));return;case"textarea":re=se=null;for(O in l)if(m=l[O],l.hasOwnProperty(O)&&m!=null&&!d.hasOwnProperty(O))switch(O){case"value":break;case"children":break;default:At(r,o,O,null,d,m)}for(C in d)if(m=d[C],w=l[C],d.hasOwnProperty(C)&&(m!=null||w!=null))switch(C){case"value":se=m;break;case"defaultValue":re=m;break;case"children":break;case"dangerouslySetInnerHTML":if(m!=null)throw Error(s(91));break;default:m!==w&&At(r,o,C,m,d,w)}Qa(r,se,re);return;case"option":for(var Se in l)if(se=l[Se],l.hasOwnProperty(Se)&&se!=null&&!d.hasOwnProperty(Se))switch(Se){case"selected":r.selected=!1;break;default:At(r,o,Se,null,d,se)}for(j in d)if(se=d[j],re=l[j],d.hasOwnProperty(j)&&se!==re&&(se!=null||re!=null))switch(j){case"selected":r.selected=se&&typeof se!="function"&&typeof se!="symbol";break;default:At(r,o,j,se,d,re)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Le in l)se=l[Le],l.hasOwnProperty(Le)&&se!=null&&!d.hasOwnProperty(Le)&&At(r,o,Le,null,d,se);for(J in d)if(se=d[J],re=l[J],d.hasOwnProperty(J)&&se!==re&&(se!=null||re!=null))switch(J){case"children":case"dangerouslySetInnerHTML":if(se!=null)throw Error(s(137,o));break;default:At(r,o,J,se,d,re)}return;default:if(xf(o)){for(var Ct in l)se=l[Ct],l.hasOwnProperty(Ct)&&se!==void 0&&!d.hasOwnProperty(Ct)&&Hw(r,o,Ct,void 0,d,se);for(oe in d)se=d[oe],re=l[oe],!d.hasOwnProperty(oe)||se===re||se===void 0&&re===void 0||Hw(r,o,oe,se,d,re);return}}for(var Y in l)se=l[Y],l.hasOwnProperty(Y)&&se!=null&&!d.hasOwnProperty(Y)&&At(r,o,Y,null,d,se);for(ce in d)se=d[ce],re=l[ce],!d.hasOwnProperty(ce)||se===re||se==null&&re==null||At(r,o,ce,se,d,re)}function fx(r){switch(r){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function w$(){if(typeof performance.getEntriesByType=="function"){for(var r=0,o=0,l=performance.getEntriesByType("resource"),d=0;d<l.length;d++){var m=l[d],w=m.transferSize,C=m.initiatorType,O=m.duration;if(w&&O&&fx(C)){for(C=0,O=m.responseEnd,d+=1;d<l.length;d++){var j=l[d],J=j.startTime;if(J>O)break;var oe=j.transferSize,ce=j.initiatorType;oe&&fx(ce)&&(j=j.responseEnd,C+=oe*(j<O?1:(O-J)/(j-J)))}if(--d,o+=8*(w+C)/(m.duration/1e3),r++,10<r)break}}if(0<r)return o/r/1e6}return navigator.connection&&(r=navigator.connection.downlink,typeof r=="number")?r:5}var Fw=null,qw=null;function Ig(r){return r.nodeType===9?r:r.ownerDocument}function dx(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function hx(r,o){if(r===0)switch(o){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&o==="foreignObject"?0:r}function Vw(r,o){return r==="textarea"||r==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.children=="bigint"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var Ww=null;function b$(){var r=window.event;return r&&r.type==="popstate"?r===Ww?!1:(Ww=r,!0):(Ww=null,!1)}var px=typeof setTimeout=="function"?setTimeout:void 0,v$=typeof clearTimeout=="function"?clearTimeout:void 0,gx=typeof Promise=="function"?Promise:void 0,E$=typeof queueMicrotask=="function"?queueMicrotask:typeof gx<"u"?function(r){return gx.resolve(null).then(r).catch(A$)}:px;function A$(r){setTimeout(function(){throw r})}function ea(r){return r==="head"}function mx(r,o){var l=o,d=0;do{var m=l.nextSibling;if(r.removeChild(l),m&&m.nodeType===8)if(l=m.data,l==="/$"||l==="/&"){if(d===0){r.removeChild(m),nu(o);return}d--}else if(l==="$"||l==="$?"||l==="$~"||l==="$!"||l==="&")d++;else if(l==="html")od(r.ownerDocument.documentElement);else if(l==="head"){l=r.ownerDocument.head,od(l);for(var w=l.firstChild;w;){var C=w.nextSibling,O=w.nodeName;w[Ya]||O==="SCRIPT"||O==="STYLE"||O==="LINK"&&w.rel.toLowerCase()==="stylesheet"||l.removeChild(w),w=C}}else l==="body"&&od(r.ownerDocument.body);l=m}while(l);nu(o)}function yx(r,o){var l=r;r=0;do{var d=l.nextSibling;if(l.nodeType===1?o?(l._stashedDisplay=l.style.display,l.style.display="none"):(l.style.display=l._stashedDisplay||"",l.getAttribute("style")===""&&l.removeAttribute("style")):l.nodeType===3&&(o?(l._stashedText=l.nodeValue,l.nodeValue=""):l.nodeValue=l._stashedText||""),d&&d.nodeType===8)if(l=d.data,l==="/$"){if(r===0)break;r--}else l!=="$"&&l!=="$?"&&l!=="$~"&&l!=="$!"||r++;l=d}while(l)}function Kw(r){var o=r.firstChild;for(o&&o.nodeType===10&&(o=o.nextSibling);o;){var l=o;switch(o=o.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":Kw(l),vf(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}r.removeChild(l)}}function C$(r,o,l,d){for(;r.nodeType===1;){var m=l;if(r.nodeName.toLowerCase()!==o.toLowerCase()){if(!d&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(d){if(!r[Ya])switch(o){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(w=r.getAttribute("rel"),w==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(w!==m.rel||r.getAttribute("href")!==(m.href==null||m.href===""?null:m.href)||r.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin)||r.getAttribute("title")!==(m.title==null?null:m.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(w=r.getAttribute("src"),(w!==(m.src==null?null:m.src)||r.getAttribute("type")!==(m.type==null?null:m.type)||r.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin))&&w&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(o==="input"&&r.type==="hidden"){var w=m.name==null?null:""+m.name;if(m.type==="hidden"&&r.getAttribute("name")===w)return r}else return r;if(r=li(r.nextSibling),r===null)break}return null}function S$(r,o,l){if(o==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!l||(r=li(r.nextSibling),r===null))return null;return r}function wx(r,o){for(;r.nodeType!==8;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!o||(r=li(r.nextSibling),r===null))return null;return r}function Gw(r){return r.data==="$?"||r.data==="$~"}function Yw(r){return r.data==="$!"||r.data==="$?"&&r.ownerDocument.readyState!=="loading"}function x$(r,o){var l=r.ownerDocument;if(r.data==="$~")r._reactRetry=o;else if(r.data!=="$?"||l.readyState!=="loading")o();else{var d=function(){o(),l.removeEventListener("DOMContentLoaded",d)};l.addEventListener("DOMContentLoaded",d),r._reactRetry=d}}function li(r){for(;r!=null;r=r.nextSibling){var o=r.nodeType;if(o===1||o===3)break;if(o===8){if(o=r.data,o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"||o==="F!"||o==="F")break;if(o==="/$"||o==="/&")return null}}return r}var Xw=null;function bx(r){r=r.nextSibling;for(var o=0;r;){if(r.nodeType===8){var l=r.data;if(l==="/$"||l==="/&"){if(o===0)return li(r.nextSibling);o--}else l!=="$"&&l!=="$!"&&l!=="$?"&&l!=="$~"&&l!=="&"||o++}r=r.nextSibling}return null}function vx(r){r=r.previousSibling;for(var o=0;r;){if(r.nodeType===8){var l=r.data;if(l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"){if(o===0)return r;o--}else l!=="/$"&&l!=="/&"||o++}r=r.previousSibling}return null}function Ex(r,o,l){switch(o=Ig(l),r){case"html":if(r=o.documentElement,!r)throw Error(s(452));return r;case"head":if(r=o.head,!r)throw Error(s(453));return r;case"body":if(r=o.body,!r)throw Error(s(454));return r;default:throw Error(s(451))}}function od(r){for(var o=r.attributes;o.length;)r.removeAttributeNode(o[0]);vf(r)}var ui=new Map,Ax=new Set;function Dg(r){return typeof r.getRootNode=="function"?r.getRootNode():r.nodeType===9?r:r.ownerDocument}var so=k.d;k.d={f:N$,r:T$,D:_$,C:I$,L:D$,m:O$,X:R$,S:M$,M:$$};function N$(){var r=so.f(),o=Eg();return r||o}function T$(r){var o=Ro(r);o!==null&&o.tag===5&&o.type==="form"?BC(o):so.r(r)}var Jl=typeof document>"u"?null:document;function Cx(r,o,l){var d=Jl;if(d&&typeof o=="string"&&o){var m=os(o);m='link[rel="'+r+'"][href="'+m+'"]',typeof l=="string"&&(m+='[crossorigin="'+l+'"]'),Ax.has(m)||(Ax.add(m),r={rel:r,crossOrigin:l,href:o},d.querySelector(m)===null&&(o=d.createElement("link"),_n(o,"link",r),Zt(o),d.head.appendChild(o)))}}function _$(r){so.D(r),Cx("dns-prefetch",r,null)}function I$(r,o){so.C(r,o),Cx("preconnect",r,o)}function D$(r,o,l){so.L(r,o,l);var d=Jl;if(d&&r&&o){var m='link[rel="preload"][as="'+os(o)+'"]';o==="image"&&l&&l.imageSrcSet?(m+='[imagesrcset="'+os(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(m+='[imagesizes="'+os(l.imageSizes)+'"]')):m+='[href="'+os(r)+'"]';var w=m;switch(o){case"style":w=eu(r);break;case"script":w=tu(r)}ui.has(w)||(r=g({rel:"preload",href:o==="image"&&l&&l.imageSrcSet?void 0:r,as:o},l),ui.set(w,r),d.querySelector(m)!==null||o==="style"&&d.querySelector(ad(w))||o==="script"&&d.querySelector(cd(w))||(o=d.createElement("link"),_n(o,"link",r),Zt(o),d.head.appendChild(o)))}}function O$(r,o){so.m(r,o);var l=Jl;if(l&&r){var d=o&&typeof o.as=="string"?o.as:"script",m='link[rel="modulepreload"][as="'+os(d)+'"][href="'+os(r)+'"]',w=m;switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":w=tu(r)}if(!ui.has(w)&&(r=g({rel:"modulepreload",href:r},o),ui.set(w,r),l.querySelector(m)===null)){switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(cd(w)))return}d=l.createElement("link"),_n(d,"link",r),Zt(d),l.head.appendChild(d)}}}function M$(r,o,l){so.S(r,o,l);var d=Jl;if(d&&r){var m=$o(d).hoistableStyles,w=eu(r);o=o||"default";var C=m.get(w);if(!C){var O={loading:0,preload:null};if(C=d.querySelector(ad(w)))O.loading=5;else{r=g({rel:"stylesheet",href:r,"data-precedence":o},l),(l=ui.get(w))&&Qw(r,l);var j=C=d.createElement("link");Zt(j),_n(j,"link",r),j._p=new Promise(function(J,oe){j.onload=J,j.onerror=oe}),j.addEventListener("load",function(){O.loading|=1}),j.addEventListener("error",function(){O.loading|=2}),O.loading|=4,Og(C,o,d)}C={type:"stylesheet",instance:C,count:1,state:O},m.set(w,C)}}}function R$(r,o){so.X(r,o);var l=Jl;if(l&&r){var d=$o(l).hoistableScripts,m=tu(r),w=d.get(m);w||(w=l.querySelector(cd(m)),w||(r=g({src:r,async:!0},o),(o=ui.get(m))&&Zw(r,o),w=l.createElement("script"),Zt(w),_n(w,"link",r),l.head.appendChild(w)),w={type:"script",instance:w,count:1,state:null},d.set(m,w))}}function $$(r,o){so.M(r,o);var l=Jl;if(l&&r){var d=$o(l).hoistableScripts,m=tu(r),w=d.get(m);w||(w=l.querySelector(cd(m)),w||(r=g({src:r,async:!0,type:"module"},o),(o=ui.get(m))&&Zw(r,o),w=l.createElement("script"),Zt(w),_n(w,"link",r),l.head.appendChild(w)),w={type:"script",instance:w,count:1,state:null},d.set(m,w))}}function Sx(r,o,l,d){var m=(m=pe.current)?Dg(m):null;if(!m)throw Error(s(446));switch(r){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(o=eu(l.href),l=$o(m).hoistableStyles,d=l.get(o),d||(d={type:"style",instance:null,count:0,state:null},l.set(o,d)),d):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){r=eu(l.href);var w=$o(m).hoistableStyles,C=w.get(r);if(C||(m=m.ownerDocument||m,C={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},w.set(r,C),(w=m.querySelector(ad(r)))&&!w._p&&(C.instance=w,C.state.loading=5),ui.has(r)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},ui.set(r,l),w||U$(m,r,l,C.state))),o&&d===null)throw Error(s(528,""));return C}if(o&&d!==null)throw Error(s(529,""));return null;case"script":return o=l.async,l=l.src,typeof l=="string"&&o&&typeof o!="function"&&typeof o!="symbol"?(o=tu(l),l=$o(m).hoistableScripts,d=l.get(o),d||(d={type:"script",instance:null,count:0,state:null},l.set(o,d)),d):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,r))}}function eu(r){return'href="'+os(r)+'"'}function ad(r){return'link[rel="stylesheet"]['+r+"]"}function xx(r){return g({},r,{"data-precedence":r.precedence,precedence:null})}function U$(r,o,l,d){r.querySelector('link[rel="preload"][as="style"]['+o+"]")?d.loading=1:(o=r.createElement("link"),d.preload=o,o.addEventListener("load",function(){return d.loading|=1}),o.addEventListener("error",function(){return d.loading|=2}),_n(o,"link",l),Zt(o),r.head.appendChild(o))}function tu(r){return'[src="'+os(r)+'"]'}function cd(r){return"script[async]"+r}function Nx(r,o,l){if(o.count++,o.instance===null)switch(o.type){case"style":var d=r.querySelector('style[data-href~="'+os(l.href)+'"]');if(d)return o.instance=d,Zt(d),d;var m=g({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return d=(r.ownerDocument||r).createElement("style"),Zt(d),_n(d,"style",m),Og(d,l.precedence,r),o.instance=d;case"stylesheet":m=eu(l.href);var w=r.querySelector(ad(m));if(w)return o.state.loading|=4,o.instance=w,Zt(w),w;d=xx(l),(m=ui.get(m))&&Qw(d,m),w=(r.ownerDocument||r).createElement("link"),Zt(w);var C=w;return C._p=new Promise(function(O,j){C.onload=O,C.onerror=j}),_n(w,"link",d),o.state.loading|=4,Og(w,l.precedence,r),o.instance=w;case"script":return w=tu(l.src),(m=r.querySelector(cd(w)))?(o.instance=m,Zt(m),m):(d=l,(m=ui.get(w))&&(d=g({},l),Zw(d,m)),r=r.ownerDocument||r,m=r.createElement("script"),Zt(m),_n(m,"link",d),r.head.appendChild(m),o.instance=m);case"void":return null;default:throw Error(s(443,o.type))}else o.type==="stylesheet"&&(o.state.loading&4)===0&&(d=o.instance,o.state.loading|=4,Og(d,l.precedence,r));return o.instance}function Og(r,o,l){for(var d=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),m=d.length?d[d.length-1]:null,w=m,C=0;C<d.length;C++){var O=d[C];if(O.dataset.precedence===o)w=O;else if(w!==m)break}w?w.parentNode.insertBefore(r,w.nextSibling):(o=l.nodeType===9?l.head:l,o.insertBefore(r,o.firstChild))}function Qw(r,o){r.crossOrigin==null&&(r.crossOrigin=o.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=o.referrerPolicy),r.title==null&&(r.title=o.title)}function Zw(r,o){r.crossOrigin==null&&(r.crossOrigin=o.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=o.referrerPolicy),r.integrity==null&&(r.integrity=o.integrity)}var Mg=null;function Tx(r,o,l){if(Mg===null){var d=new Map,m=Mg=new Map;m.set(l,d)}else m=Mg,d=m.get(l),d||(d=new Map,m.set(l,d));if(d.has(r))return d;for(d.set(r,null),l=l.getElementsByTagName(r),m=0;m<l.length;m++){var w=l[m];if(!(w[Ya]||w[an]||r==="link"&&w.getAttribute("rel")==="stylesheet")&&w.namespaceURI!=="http://www.w3.org/2000/svg"){var C=w.getAttribute(o)||"";C=r+C;var O=d.get(C);O?O.push(w):d.set(C,[w])}}return d}function _x(r,o,l){r=r.ownerDocument||r,r.head.insertBefore(l,o==="title"?r.querySelector("head > title"):null)}function P$(r,o,l){if(l===1||o.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof o.precedence!="string"||typeof o.href!="string"||o.href==="")break;return!0;case"link":if(typeof o.rel!="string"||typeof o.href!="string"||o.href===""||o.onLoad||o.onError)break;switch(o.rel){case"stylesheet":return r=o.disabled,typeof o.precedence=="string"&&r==null;default:return!0}case"script":if(o.async&&typeof o.async!="function"&&typeof o.async!="symbol"&&!o.onLoad&&!o.onError&&o.src&&typeof o.src=="string")return!0}return!1}function Ix(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}function L$(r,o,l,d){if(l.type==="stylesheet"&&(typeof d.media!="string"||matchMedia(d.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var m=eu(d.href),w=o.querySelector(ad(m));if(w){o=w._p,o!==null&&typeof o=="object"&&typeof o.then=="function"&&(r.count++,r=Rg.bind(r),o.then(r,r)),l.state.loading|=4,l.instance=w,Zt(w);return}w=o.ownerDocument||o,d=xx(d),(m=ui.get(m))&&Qw(d,m),w=w.createElement("link"),Zt(w);var C=w;C._p=new Promise(function(O,j){C.onload=O,C.onerror=j}),_n(w,"link",d),l.instance=w}r.stylesheets===null&&(r.stylesheets=new Map),r.stylesheets.set(l,o),(o=l.state.preload)&&(l.state.loading&3)===0&&(r.count++,l=Rg.bind(r),o.addEventListener("load",l),o.addEventListener("error",l))}}var Jw=0;function k$(r,o){return r.stylesheets&&r.count===0&&Ug(r,r.stylesheets),0<r.count||0<r.imgCount?function(l){var d=setTimeout(function(){if(r.stylesheets&&Ug(r,r.stylesheets),r.unsuspend){var w=r.unsuspend;r.unsuspend=null,w()}},6e4+o);0<r.imgBytes&&Jw===0&&(Jw=62500*w$());var m=setTimeout(function(){if(r.waitingForImages=!1,r.count===0&&(r.stylesheets&&Ug(r,r.stylesheets),r.unsuspend)){var w=r.unsuspend;r.unsuspend=null,w()}},(r.imgBytes>Jw?50:800)+o);return r.unsuspend=l,function(){r.unsuspend=null,clearTimeout(d),clearTimeout(m)}}:null}function Rg(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Ug(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var $g=null;function Ug(r,o){r.stylesheets=null,r.unsuspend!==null&&(r.count++,$g=new Map,o.forEach(B$,r),$g=null,Rg.call(r))}function B$(r,o){if(!(o.state.loading&4)){var l=$g.get(r);if(l)var d=l.get(null);else{l=new Map,$g.set(r,l);for(var m=r.querySelectorAll("link[data-precedence],style[data-precedence]"),w=0;w<m.length;w++){var C=m[w];(C.nodeName==="LINK"||C.getAttribute("media")!=="not all")&&(l.set(C.dataset.precedence,C),d=C)}d&&l.set(null,d)}m=o.instance,C=m.getAttribute("data-precedence"),w=l.get(C)||d,w===d&&l.set(null,m),l.set(C,m),this.count++,d=Rg.bind(this),m.addEventListener("load",d),m.addEventListener("error",d),w?w.parentNode.insertBefore(m,w.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(m,r.firstChild)),o.state.loading|=4}}var ld={$$typeof:x,Provider:null,Consumer:null,_currentValue:H,_currentValue2:H,_threadCount:0};function j$(r,o,l,d,m,w,C,O,j){this.tag=1,this.containerInfo=r,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ml(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ml(0),this.hiddenUpdates=ml(null),this.identifierPrefix=d,this.onUncaughtError=m,this.onCaughtError=w,this.onRecoverableError=C,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=j,this.incompleteTransitions=new Map}function Dx(r,o,l,d,m,w,C,O,j,J,oe,ce){return r=new j$(r,o,l,C,j,J,oe,ce,O),o=1,w===!0&&(o|=24),w=$s(3,null,null,o),r.current=w,w.stateNode=r,o=My(),o.refCount++,r.pooledCache=o,o.refCount++,w.memoizedState={element:d,isDehydrated:l,cache:o},Py(w),r}function Ox(r){return r?(r=Ml,r):Ml}function Mx(r,o,l,d,m,w){m=Ox(m),d.context===null?d.context=m:d.pendingContext=m,d=Fo(o),d.payload={element:l},w=w===void 0?null:w,w!==null&&(d.callback=w),l=qo(r,d,o),l!==null&&(fs(l,r,o),zf(l,r,o))}function Rx(r,o){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var l=r.retryLane;r.retryLane=l!==0&&l<o?l:o}}function e1(r,o){Rx(r,o),(r=r.alternate)&&Rx(r,o)}function $x(r){if(r.tag===13||r.tag===31){var o=sc(r,67108864);o!==null&&fs(o,r,67108864),e1(r,67108864)}}function Ux(r){if(r.tag===13||r.tag===31){var o=Bs();o=wf(o);var l=sc(r,o);l!==null&&fs(l,r,o),e1(r,o)}}var Pg=!0;function z$(r,o,l,d){var m=_.T;_.T=null;var w=k.p;try{k.p=2,t1(r,o,l,d)}finally{k.p=w,_.T=m}}function H$(r,o,l,d){var m=_.T;_.T=null;var w=k.p;try{k.p=8,t1(r,o,l,d)}finally{k.p=w,_.T=m}}function t1(r,o,l,d){if(Pg){var m=n1(d);if(m===null)zw(r,o,d,Lg,l),Lx(r,d);else if(q$(m,r,o,l,d))d.stopPropagation();else if(Lx(r,d),o&4&&-1<F$.indexOf(r)){for(;m!==null;){var w=Ro(m);if(w!==null)switch(w.tag){case 3:if(w=w.stateNode,w.current.memoizedState.isDehydrated){var C=Lr(w.pendingLanes);if(C!==0){var O=w;for(O.pendingLanes|=2,O.entangledLanes|=2;C;){var j=1<<31-Zn(C);O.entanglements[1]|=j,C&=~j}lr(w),(ut&6)===0&&(bg=Mt()+500,sd(0))}}break;case 31:case 13:O=sc(w,2),O!==null&&fs(O,w,2),Eg(),e1(w,2)}if(w=n1(d),w===null&&zw(r,o,d,Lg,l),w===m)break;m=w}m!==null&&d.stopPropagation()}else zw(r,o,d,null,l)}}function n1(r){return r=Nf(r),s1(r)}var Lg=null;function s1(r){if(Lg=null,r=Ms(r),r!==null){var o=a(r);if(o===null)r=null;else{var l=o.tag;if(l===13){if(r=c(o),r!==null)return r;r=null}else if(l===31){if(r=u(o),r!==null)return r;r=null}else if(l===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;r=null}else o!==r&&(r=null)}}return Lg=r,null}function Px(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ur()){case qa:return 2;case Va:return 8;case Pr:case hl:return 32;case pl:return 268435456;default:return 32}default:return 32}}var i1=!1,ta=null,na=null,sa=null,ud=new Map,fd=new Map,ia=[],F$="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Lx(r,o){switch(r){case"focusin":case"focusout":ta=null;break;case"dragenter":case"dragleave":na=null;break;case"mouseover":case"mouseout":sa=null;break;case"pointerover":case"pointerout":ud.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":fd.delete(o.pointerId)}}function dd(r,o,l,d,m,w){return r===null||r.nativeEvent!==w?(r={blockedOn:o,domEventName:l,eventSystemFlags:d,nativeEvent:w,targetContainers:[m]},o!==null&&(o=Ro(o),o!==null&&$x(o)),r):(r.eventSystemFlags|=d,o=r.targetContainers,m!==null&&o.indexOf(m)===-1&&o.push(m),r)}function q$(r,o,l,d,m){switch(o){case"focusin":return ta=dd(ta,r,o,l,d,m),!0;case"dragenter":return na=dd(na,r,o,l,d,m),!0;case"mouseover":return sa=dd(sa,r,o,l,d,m),!0;case"pointerover":var w=m.pointerId;return ud.set(w,dd(ud.get(w)||null,r,o,l,d,m)),!0;case"gotpointercapture":return w=m.pointerId,fd.set(w,dd(fd.get(w)||null,r,o,l,d,m)),!0}return!1}function kx(r){var o=Ms(r.target);if(o!==null){var l=a(o);if(l!==null){if(o=l.tag,o===13){if(o=c(l),o!==null){r.blockedOn=o,Dp(r.priority,function(){Ux(l)});return}}else if(o===31){if(o=u(l),o!==null){r.blockedOn=o,Dp(r.priority,function(){Ux(l)});return}}else if(o===3&&l.stateNode.current.memoizedState.isDehydrated){r.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}r.blockedOn=null}function kg(r){if(r.blockedOn!==null)return!1;for(var o=r.targetContainers;0<o.length;){var l=n1(r.nativeEvent);if(l===null){l=r.nativeEvent;var d=new l.constructor(l.type,l);$i=d,l.target.dispatchEvent(d),$i=null}else return o=Ro(l),o!==null&&$x(o),r.blockedOn=l,!1;o.shift()}return!0}function Bx(r,o,l){kg(r)&&l.delete(o)}function V$(){i1=!1,ta!==null&&kg(ta)&&(ta=null),na!==null&&kg(na)&&(na=null),sa!==null&&kg(sa)&&(sa=null),ud.forEach(Bx),fd.forEach(Bx)}function Bg(r,o){r.blockedOn===o&&(r.blockedOn=null,i1||(i1=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,V$)))}var jg=null;function jx(r){jg!==r&&(jg=r,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){jg===r&&(jg=null);for(var o=0;o<r.length;o+=3){var l=r[o],d=r[o+1],m=r[o+2];if(typeof d!="function"){if(s1(d||l)===null)continue;break}var w=Ro(l);w!==null&&(r.splice(o,3),o-=3,nw(w,{pending:!0,data:m,method:l.method,action:d},d,m))}}))}function nu(r){function o(j){return Bg(j,r)}ta!==null&&Bg(ta,r),na!==null&&Bg(na,r),sa!==null&&Bg(sa,r),ud.forEach(o),fd.forEach(o);for(var l=0;l<ia.length;l++){var d=ia[l];d.blockedOn===r&&(d.blockedOn=null)}for(;0<ia.length&&(l=ia[0],l.blockedOn===null);)kx(l),l.blockedOn===null&&ia.shift();if(l=(r.ownerDocument||r).$$reactFormReplay,l!=null)for(d=0;d<l.length;d+=3){var m=l[d],w=l[d+1],C=m[zn]||null;if(typeof w=="function")C||jx(l);else if(C){var O=null;if(w&&w.hasAttribute("formAction")){if(m=w,C=w[zn]||null)O=C.formAction;else if(s1(m)!==null)continue}else O=C.action;typeof O=="function"?l[d+1]=O:(l.splice(d,3),d-=3),jx(l)}}}function zx(){function r(w){w.canIntercept&&w.info==="react-transition"&&w.intercept({handler:function(){return new Promise(function(C){return m=C})},focusReset:"manual",scroll:"manual"})}function o(){m!==null&&(m(),m=null),d||setTimeout(l,20)}function l(){if(!d&&!navigation.transition){var w=navigation.currentEntry;w&&w.url!=null&&navigation.navigate(w.url,{state:w.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var d=!1,m=null;return navigation.addEventListener("navigate",r),navigation.addEventListener("navigatesuccess",o),navigation.addEventListener("navigateerror",o),setTimeout(l,100),function(){d=!0,navigation.removeEventListener("navigate",r),navigation.removeEventListener("navigatesuccess",o),navigation.removeEventListener("navigateerror",o),m!==null&&(m(),m=null)}}}function r1(r){this._internalRoot=r}zg.prototype.render=r1.prototype.render=function(r){var o=this._internalRoot;if(o===null)throw Error(s(409));var l=o.current,d=Bs();Mx(l,d,r,o,null,null)},zg.prototype.unmount=r1.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var o=r.containerInfo;Mx(r.current,2,null,r,null,null),Eg(),o[Mo]=null}};function zg(r){this._internalRoot=r}zg.prototype.unstable_scheduleHydration=function(r){if(r){var o=ei();r={blockedOn:null,target:r,priority:o};for(var l=0;l<ia.length&&o!==0&&o<ia[l].priority;l++);ia.splice(l,0,r),l===0&&kx(r)}};var Hx=e.version;if(Hx!=="19.2.0")throw Error(s(527,Hx,"19.2.0"));k.findDOMNode=function(r){var o=r._reactInternals;if(o===void 0)throw typeof r.render=="function"?Error(s(188)):(r=Object.keys(r).join(","),Error(s(268,r)));return r=h(o),r=r!==null?p(r):null,r=r===null?null:r.stateNode,r};var W$={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:_,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Hg=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Hg.isDisabled&&Hg.supportsFiber)try{Wa=Hg.inject(W$),jn=Hg}catch{}}return pd.createRoot=function(r,o){if(!i(r))throw Error(s(299));var l=!1,d="",m=YC,w=XC,C=QC;return o!=null&&(o.unstable_strictMode===!0&&(l=!0),o.identifierPrefix!==void 0&&(d=o.identifierPrefix),o.onUncaughtError!==void 0&&(m=o.onUncaughtError),o.onCaughtError!==void 0&&(w=o.onCaughtError),o.onRecoverableError!==void 0&&(C=o.onRecoverableError)),o=Dx(r,1,!1,null,null,l,d,null,m,w,C,zx),r[Mo]=o.current,jw(r),new r1(o)},pd.hydrateRoot=function(r,o,l){if(!i(r))throw Error(s(299));var d=!1,m="",w=YC,C=XC,O=QC,j=null;return l!=null&&(l.unstable_strictMode===!0&&(d=!0),l.identifierPrefix!==void 0&&(m=l.identifierPrefix),l.onUncaughtError!==void 0&&(w=l.onUncaughtError),l.onCaughtError!==void 0&&(C=l.onCaughtError),l.onRecoverableError!==void 0&&(O=l.onRecoverableError),l.formState!==void 0&&(j=l.formState)),o=Dx(r,1,!0,o,l??null,d,m,j,w,C,O,zx),o.context=Ox(null),l=o.current,d=Bs(),d=wf(d),m=Fo(d),m.callback=null,qo(l,m,d),l=d,o.current.lanes=l,Oo(o,l),lr(o),r[Mo]=o.current,jw(r),new zg(o)},pd.version="19.2.0",pd}var Zx;function sU(){if(Zx)return c1.exports;Zx=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),c1.exports=nU(),c1.exports}var iU=sU();const rU=sp(iU),sI=me.createContext(),tf=()=>{const t=me.useContext(sI);if(!t)throw new Error("useGame must be used within GameProvider");return t},oU=({children:t})=>{const[e,n]=me.useState(!1),[s,i]=me.useState(""),[a,c]=me.useState(0),[u,f]=me.useState(0),[h,p]=me.useState(0),[g,y]=me.useState(1),[b,v]=me.useState(0),[E,A]=me.useState([]),[S,D]=me.useState(!1),[x,N]=me.useState([]);me.useEffect(()=>{const F=localStorage.getItem("blockQuestData");if(F){const ee=JSON.parse(F);c(ee.coins||0),f(ee.crystals||0),p(ee.traps||0),y(ee.level||1),v(ee.xp||0),A(ee.minedBlocks||[]),D(ee.questPassMinted||!1),N(ee.questBadges||[])}},[]),me.useEffect(()=>{const F={coins:a,crystals:u,traps:h,level:g,xp:b,minedBlocks:E,questPassMinted:S,questBadges:x};localStorage.setItem("blockQuestData",JSON.stringify(F))},[a,u,h,g,b,E,S,x]);const q={walletConnected:e,walletAddress:s,coins:a,crystals:u,traps:h,level:g,xp:b,minedBlocks:E,questPassMinted:S,questBadges:x,mineBlock:F=>{if(E.includes(F))return null;const ee=Math.random();let Q,R=0;ee<.6?(Q="coin",c(H=>H+10),R=10):ee<.8?(Q="crystal",f(H=>H+1),R=50):ee<.95?(Q="empty",R=5):(Q="trap",p(H=>H+1),R=-20),A(H=>[...H,F]);const _=Math.max(0,b+R);v(_);const k=g*500;return _>=k?(y(H=>H+1),v(0),{result:Q,levelUp:!0,newLevel:g+1}):{result:Q,levelUp:!1}},resetGame:()=>{c(0),f(0),p(0),y(1),v(0),A([]),localStorage.removeItem("blockQuestData")},connectWallet:F=>{n(!0),i(F)},disconnectWallet:()=>{n(!1),i("")},mintQuestPass:()=>{D(!0)},mintQuestBadge:F=>{N(ee=>[...ee,{level:F,timestamp:Date.now()}])}};return X.jsx(sI.Provider,{value:q,children:t})},T2=me.createContext({});function _2(t){const e=me.useRef(null);return e.current===null&&(e.current=t()),e.current}const I2=typeof window<"u",iI=I2?me.useLayoutEffect:me.useEffect,Cm=me.createContext(null);function D2(t,e){t.indexOf(e)===-1&&t.push(e)}function O2(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const Eo=(t,e,n)=>n>e?e:n<t?t:n;let M2=()=>{};const Ao={},rI=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function oI(t){return typeof t=="object"&&t!==null}const aI=t=>/^0[^.\s]+$/u.test(t);function R2(t){let e;return()=>(e===void 0&&(e=t()),e)}const Si=t=>t,aU=(t,e)=>n=>e(t(n)),ip=(...t)=>t.reduce(aU),hh=(t,e,n)=>{const s=e-t;return s===0?1:(n-t)/s};class $2{constructor(){this.subscriptions=[]}add(e){return D2(this.subscriptions,e),()=>O2(this.subscriptions,e)}notify(e,n,s){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,s);else for(let a=0;a<i;a++){const c=this.subscriptions[a];c&&c(e,n,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Sr=t=>t*1e3,Ai=t=>t/1e3;function cI(t,e){return e?t*(1e3/e):0}const lI=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,cU=1e-7,lU=12;function uU(t,e,n,s,i){let a,c,u=0;do c=e+(n-e)/2,a=lI(c,s,i)-t,a>0?n=c:e=c;while(Math.abs(a)>cU&&++u<lU);return c}function rp(t,e,n,s){if(t===e&&n===s)return Si;const i=a=>uU(a,0,1,t,n);return a=>a===0||a===1?a:lI(i(a),e,s)}const uI=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,fI=t=>e=>1-t(1-e),dI=rp(.33,1.53,.69,.99),U2=fI(dI),hI=uI(U2),pI=t=>(t*=2)<1?.5*U2(t):.5*(2-Math.pow(2,-10*(t-1))),P2=t=>1-Math.sin(Math.acos(t)),gI=fI(P2),mI=uI(P2),fU=rp(.42,0,1,1),dU=rp(0,0,.58,1),yI=rp(.42,0,.58,1),hU=t=>Array.isArray(t)&&typeof t[0]!="number",wI=t=>Array.isArray(t)&&typeof t[0]=="number",pU={linear:Si,easeIn:fU,easeInOut:yI,easeOut:dU,circIn:P2,circInOut:mI,circOut:gI,backIn:U2,backInOut:hI,backOut:dI,anticipate:pI},gU=t=>typeof t=="string",Jx=t=>{if(wI(t)){M2(t.length===4);const[e,n,s,i]=t;return rp(e,n,s,i)}else if(gU(t))return pU[t];return t},Fg=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function mU(t,e){let n=new Set,s=new Set,i=!1,a=!1;const c=new WeakSet;let u={delta:0,timestamp:0,isProcessing:!1};function f(p){c.has(p)&&(h.schedule(p),t()),p(u)}const h={schedule:(p,g=!1,y=!1)=>{const v=y&&i?n:s;return g&&c.add(p),v.has(p)||v.add(p),p},cancel:p=>{s.delete(p),c.delete(p)},process:p=>{if(u=p,i){a=!0;return}i=!0,[n,s]=[s,n],n.forEach(f),n.clear(),i=!1,a&&(a=!1,h.process(p))}};return h}const yU=40;function bI(t,e){let n=!1,s=!0;const i={delta:0,timestamp:0,isProcessing:!1},a=()=>n=!0,c=Fg.reduce((x,N)=>(x[N]=mU(a),x),{}),{setup:u,read:f,resolveKeyframes:h,preUpdate:p,update:g,preRender:y,render:b,postRender:v}=c,E=()=>{const x=Ao.useManualTiming?i.timestamp:performance.now();n=!1,Ao.useManualTiming||(i.delta=s?1e3/60:Math.max(Math.min(x-i.timestamp,yU),1)),i.timestamp=x,i.isProcessing=!0,u.process(i),f.process(i),h.process(i),p.process(i),g.process(i),y.process(i),b.process(i),v.process(i),i.isProcessing=!1,n&&e&&(s=!1,t(E))},A=()=>{n=!0,s=!0,i.isProcessing||t(E)};return{schedule:Fg.reduce((x,N)=>{const T=c[N];return x[N]=(I,$=!1,P=!1)=>(n||A(),T.schedule(I,$,P)),x},{}),cancel:x=>{for(let N=0;N<Fg.length;N++)c[Fg[N]].cancel(x)},state:i,steps:c}}const{schedule:zt,cancel:Pa,state:Mn,steps:d1}=bI(typeof requestAnimationFrame<"u"?requestAnimationFrame:Si,!0);let _0;function wU(){_0=void 0}const xs={now:()=>(_0===void 0&&xs.set(Mn.isProcessing||Ao.useManualTiming?Mn.timestamp:performance.now()),_0),set:t=>{_0=t,queueMicrotask(wU)}},vI=t=>e=>typeof e=="string"&&e.startsWith(t),L2=vI("--"),bU=vI("var(--"),k2=t=>bU(t)?vU.test(t.split("/*")[0].trim()):!1,vU=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,nf={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},ph={...nf,transform:t=>Eo(0,1,t)},qg={...nf,default:1},Wd=t=>Math.round(t*1e5)/1e5,B2=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function EU(t){return t==null}const AU=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,j2=(t,e)=>n=>!!(typeof n=="string"&&AU.test(n)&&n.startsWith(t)||e&&!EU(n)&&Object.prototype.hasOwnProperty.call(n,e)),EI=(t,e,n)=>s=>{if(typeof s!="string")return s;const[i,a,c,u]=s.match(B2);return{[t]:parseFloat(i),[e]:parseFloat(a),[n]:parseFloat(c),alpha:u!==void 0?parseFloat(u):1}},CU=t=>Eo(0,255,t),h1={...nf,transform:t=>Math.round(CU(t))},$c={test:j2("rgb","red"),parse:EI("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:s=1})=>"rgba("+h1.transform(t)+", "+h1.transform(e)+", "+h1.transform(n)+", "+Wd(ph.transform(s))+")"};function SU(t){let e="",n="",s="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),s=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),s=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,s+=s,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(s,16),alpha:i?parseInt(i,16)/255:1}}const Fb={test:j2("#"),parse:SU,transform:$c.transform},op=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),va=op("deg"),xr=op("%"),Be=op("px"),xU=op("vh"),NU=op("vw"),e3={...xr,parse:t=>xr.parse(t)/100,transform:t=>xr.transform(t*100)},_u={test:j2("hsl","hue"),parse:EI("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:s=1})=>"hsla("+Math.round(t)+", "+xr.transform(Wd(e))+", "+xr.transform(Wd(n))+", "+Wd(ph.transform(s))+")"},rn={test:t=>$c.test(t)||Fb.test(t)||_u.test(t),parse:t=>$c.test(t)?$c.parse(t):_u.test(t)?_u.parse(t):Fb.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?$c.transform(t):_u.transform(t),getAnimatableNone:t=>{const e=rn.parse(t);return e.alpha=0,rn.transform(e)}},TU=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function _U(t){return isNaN(t)&&typeof t=="string"&&(t.match(B2)?.length||0)+(t.match(TU)?.length||0)>0}const AI="number",CI="color",IU="var",DU="var(",t3="${}",OU=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function gh(t){const e=t.toString(),n=[],s={color:[],number:[],var:[]},i=[];let a=0;const u=e.replace(OU,f=>(rn.test(f)?(s.color.push(a),i.push(CI),n.push(rn.parse(f))):f.startsWith(DU)?(s.var.push(a),i.push(IU),n.push(f)):(s.number.push(a),i.push(AI),n.push(parseFloat(f))),++a,t3)).split(t3);return{values:n,split:u,indexes:s,types:i}}function SI(t){return gh(t).values}function xI(t){const{split:e,types:n}=gh(t),s=e.length;return i=>{let a="";for(let c=0;c<s;c++)if(a+=e[c],i[c]!==void 0){const u=n[c];u===AI?a+=Wd(i[c]):u===CI?a+=rn.transform(i[c]):a+=i[c]}return a}}const MU=t=>typeof t=="number"?0:rn.test(t)?rn.getAnimatableNone(t):t;function RU(t){const e=SI(t);return xI(t)(e.map(MU))}const La={test:_U,parse:SI,createTransformer:xI,getAnimatableNone:RU};function p1(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function $U({hue:t,saturation:e,lightness:n,alpha:s}){t/=360,e/=100,n/=100;let i=0,a=0,c=0;if(!e)i=a=c=n;else{const u=n<.5?n*(1+e):n+e-n*e,f=2*n-u;i=p1(f,u,t+1/3),a=p1(f,u,t),c=p1(f,u,t-1/3)}return{red:Math.round(i*255),green:Math.round(a*255),blue:Math.round(c*255),alpha:s}}function W0(t,e){return n=>n>0?e:t}const Ht=(t,e,n)=>t+(e-t)*n,g1=(t,e,n)=>{const s=t*t,i=n*(e*e-s)+s;return i<0?0:Math.sqrt(i)},UU=[Fb,$c,_u],PU=t=>UU.find(e=>e.test(t));function n3(t){const e=PU(t);if(!e)return!1;let n=e.parse(t);return e===_u&&(n=$U(n)),n}const s3=(t,e)=>{const n=n3(t),s=n3(e);if(!n||!s)return W0(t,e);const i={...n};return a=>(i.red=g1(n.red,s.red,a),i.green=g1(n.green,s.green,a),i.blue=g1(n.blue,s.blue,a),i.alpha=Ht(n.alpha,s.alpha,a),$c.transform(i))},qb=new Set(["none","hidden"]);function LU(t,e){return qb.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function kU(t,e){return n=>Ht(t,e,n)}function z2(t){return typeof t=="number"?kU:typeof t=="string"?k2(t)?W0:rn.test(t)?s3:zU:Array.isArray(t)?NI:typeof t=="object"?rn.test(t)?s3:BU:W0}function NI(t,e){const n=[...t],s=n.length,i=t.map((a,c)=>z2(a)(a,e[c]));return a=>{for(let c=0;c<s;c++)n[c]=i[c](a);return n}}function BU(t,e){const n={...t,...e},s={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(s[i]=z2(t[i])(t[i],e[i]));return i=>{for(const a in s)n[a]=s[a](i);return n}}function jU(t,e){const n=[],s={color:0,var:0,number:0};for(let i=0;i<e.values.length;i++){const a=e.types[i],c=t.indexes[a][s[a]],u=t.values[c]??0;n[i]=u,s[a]++}return n}const zU=(t,e)=>{const n=La.createTransformer(e),s=gh(t),i=gh(e);return s.indexes.var.length===i.indexes.var.length&&s.indexes.color.length===i.indexes.color.length&&s.indexes.number.length>=i.indexes.number.length?qb.has(t)&&!i.values.length||qb.has(e)&&!s.values.length?LU(t,e):ip(NI(jU(s,i),i.values),n):W0(t,e)};function TI(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?Ht(t,e,n):z2(t)(t,e)}const HU=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>zt.update(e,n),stop:()=>Pa(e),now:()=>Mn.isProcessing?Mn.timestamp:xs.now()}},_I=(t,e,n=10)=>{let s="";const i=Math.max(Math.round(e/n),2);for(let a=0;a<i;a++)s+=Math.round(t(a/(i-1))*1e4)/1e4+", ";return`linear(${s.substring(0,s.length-2)})`},K0=2e4;function H2(t){let e=0;const n=50;let s=t.next(e);for(;!s.done&&e<K0;)e+=n,s=t.next(e);return e>=K0?1/0:e}function FU(t,e=100,n){const s=n({...t,keyframes:[0,e]}),i=Math.min(H2(s),K0);return{type:"keyframes",ease:a=>s.next(i*a).value/e,duration:Ai(i)}}const qU=5;function II(t,e,n){const s=Math.max(e-qU,0);return cI(n-t(s),e-s)}const Vt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},m1=.001;function VU({duration:t=Vt.duration,bounce:e=Vt.bounce,velocity:n=Vt.velocity,mass:s=Vt.mass}){let i,a,c=1-e;c=Eo(Vt.minDamping,Vt.maxDamping,c),t=Eo(Vt.minDuration,Vt.maxDuration,Ai(t)),c<1?(i=h=>{const p=h*c,g=p*t,y=p-n,b=Vb(h,c),v=Math.exp(-g);return m1-y/b*v},a=h=>{const g=h*c*t,y=g*n+n,b=Math.pow(c,2)*Math.pow(h,2)*t,v=Math.exp(-g),E=Vb(Math.pow(h,2),c);return(-i(h)+m1>0?-1:1)*((y-b)*v)/E}):(i=h=>{const p=Math.exp(-h*t),g=(h-n)*t+1;return-m1+p*g},a=h=>{const p=Math.exp(-h*t),g=(n-h)*(t*t);return p*g});const u=5/t,f=KU(i,a,u);if(t=Sr(t),isNaN(f))return{stiffness:Vt.stiffness,damping:Vt.damping,duration:t};{const h=Math.pow(f,2)*s;return{stiffness:h,damping:c*2*Math.sqrt(s*h),duration:t}}}const WU=12;function KU(t,e,n){let s=n;for(let i=1;i<WU;i++)s=s-t(s)/e(s);return s}function Vb(t,e){return t*Math.sqrt(1-e*e)}const GU=["duration","bounce"],YU=["stiffness","damping","mass"];function i3(t,e){return e.some(n=>t[n]!==void 0)}function XU(t){let e={velocity:Vt.velocity,stiffness:Vt.stiffness,damping:Vt.damping,mass:Vt.mass,isResolvedFromDuration:!1,...t};if(!i3(t,YU)&&i3(t,GU))if(t.visualDuration){const n=t.visualDuration,s=2*Math.PI/(n*1.2),i=s*s,a=2*Eo(.05,1,1-(t.bounce||0))*Math.sqrt(i);e={...e,mass:Vt.mass,stiffness:i,damping:a}}else{const n=VU(t);e={...e,...n,mass:Vt.mass},e.isResolvedFromDuration=!0}return e}function G0(t=Vt.visualDuration,e=Vt.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:s,restDelta:i}=n;const a=n.keyframes[0],c=n.keyframes[n.keyframes.length-1],u={done:!1,value:a},{stiffness:f,damping:h,mass:p,duration:g,velocity:y,isResolvedFromDuration:b}=XU({...n,velocity:-Ai(n.velocity||0)}),v=y||0,E=h/(2*Math.sqrt(f*p)),A=c-a,S=Ai(Math.sqrt(f/p)),D=Math.abs(A)<5;s||(s=D?Vt.restSpeed.granular:Vt.restSpeed.default),i||(i=D?Vt.restDelta.granular:Vt.restDelta.default);let x;if(E<1){const T=Vb(S,E);x=I=>{const $=Math.exp(-E*S*I);return c-$*((v+E*S*A)/T*Math.sin(T*I)+A*Math.cos(T*I))}}else if(E===1)x=T=>c-Math.exp(-S*T)*(A+(v+S*A)*T);else{const T=S*Math.sqrt(E*E-1);x=I=>{const $=Math.exp(-E*S*I),P=Math.min(T*I,300);return c-$*((v+E*S*A)*Math.sinh(P)+T*A*Math.cosh(P))/T}}const N={calculatedDuration:b&&g||null,next:T=>{const I=x(T);if(b)u.done=T>=g;else{let $=T===0?v:0;E<1&&($=T===0?Sr(v):II(x,T,I));const P=Math.abs($)<=s,M=Math.abs(c-I)<=i;u.done=P&&M}return u.value=u.done?c:I,u},toString:()=>{const T=Math.min(H2(N),K0),I=_I($=>N.next(T*$).value,T,30);return T+"ms "+I},toTransition:()=>{}};return N}G0.applyToOptions=t=>{const e=FU(t,100,G0);return t.ease=e.ease,t.duration=Sr(e.duration),t.type="keyframes",t};function Wb({keyframes:t,velocity:e=0,power:n=.8,timeConstant:s=325,bounceDamping:i=10,bounceStiffness:a=500,modifyTarget:c,min:u,max:f,restDelta:h=.5,restSpeed:p}){const g=t[0],y={done:!1,value:g},b=P=>u!==void 0&&P<u||f!==void 0&&P>f,v=P=>u===void 0?f:f===void 0||Math.abs(u-P)<Math.abs(f-P)?u:f;let E=n*e;const A=g+E,S=c===void 0?A:c(A);S!==A&&(E=S-g);const D=P=>-E*Math.exp(-P/s),x=P=>S+D(P),N=P=>{const M=D(P),z=x(P);y.done=Math.abs(M)<=h,y.value=y.done?S:z};let T,I;const $=P=>{b(y.value)&&(T=P,I=G0({keyframes:[y.value,v(y.value)],velocity:II(x,P,y.value),damping:i,stiffness:a,restDelta:h,restSpeed:p}))};return $(0),{calculatedDuration:null,next:P=>{let M=!1;return!I&&T===void 0&&(M=!0,N(P),$(P)),T!==void 0&&P>=T?I.next(P-T):(!M&&N(P),y)}}}function QU(t,e,n){const s=[],i=n||Ao.mix||TI,a=t.length-1;for(let c=0;c<a;c++){let u=i(t[c],t[c+1]);if(e){const f=Array.isArray(e)?e[c]||Si:e;u=ip(f,u)}s.push(u)}return s}function ZU(t,e,{clamp:n=!0,ease:s,mixer:i}={}){const a=t.length;if(M2(a===e.length),a===1)return()=>e[0];if(a===2&&e[0]===e[1])return()=>e[1];const c=t[0]===t[1];t[0]>t[a-1]&&(t=[...t].reverse(),e=[...e].reverse());const u=QU(e,s,i),f=u.length,h=p=>{if(c&&p<t[0])return e[0];let g=0;if(f>1)for(;g<t.length-2&&!(p<t[g+1]);g++);const y=hh(t[g],t[g+1],p);return u[g](y)};return n?p=>h(Eo(t[0],t[a-1],p)):h}function JU(t,e){const n=t[t.length-1];for(let s=1;s<=e;s++){const i=hh(0,e,s);t.push(Ht(n,1,i))}}function eP(t){const e=[0];return JU(e,t.length-1),e}function tP(t,e){return t.map(n=>n*e)}function nP(t,e){return t.map(()=>e||yI).splice(0,t.length-1)}function Kd({duration:t=300,keyframes:e,times:n,ease:s="easeInOut"}){const i=hU(s)?s.map(Jx):Jx(s),a={done:!1,value:e[0]},c=tP(n&&n.length===e.length?n:eP(e),t),u=ZU(c,e,{ease:Array.isArray(i)?i:nP(e,i)});return{calculatedDuration:t,next:f=>(a.value=u(f),a.done=f>=t,a)}}const sP=t=>t!==null;function F2(t,{repeat:e,repeatType:n="loop"},s,i=1){const a=t.filter(sP),u=i<0||e&&n!=="loop"&&e%2===1?0:a.length-1;return!u||s===void 0?a[u]:s}const iP={decay:Wb,inertia:Wb,tween:Kd,keyframes:Kd,spring:G0};function DI(t){typeof t.type=="string"&&(t.type=iP[t.type])}class q2{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const rP=t=>t/100;class V2 extends q2{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;n&&n.updatedAt!==xs.now()&&this.tick(xs.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;DI(e);const{type:n=Kd,repeat:s=0,repeatDelay:i=0,repeatType:a,velocity:c=0}=e;let{keyframes:u}=e;const f=n||Kd;f!==Kd&&typeof u[0]!="number"&&(this.mixKeyframes=ip(rP,TI(u[0],u[1])),u=[0,100]);const h=f({...e,keyframes:u});a==="mirror"&&(this.mirroredGenerator=f({...e,keyframes:[...u].reverse(),velocity:-c})),h.calculatedDuration===null&&(h.calculatedDuration=H2(h));const{calculatedDuration:p}=h;this.calculatedDuration=p,this.resolvedDuration=p+i,this.totalDuration=this.resolvedDuration*(s+1)-i,this.generator=h}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:s,totalDuration:i,mixKeyframes:a,mirroredGenerator:c,resolvedDuration:u,calculatedDuration:f}=this;if(this.startTime===null)return s.next(0);const{delay:h=0,keyframes:p,repeat:g,repeatType:y,repeatDelay:b,type:v,onUpdate:E,finalKeyframe:A}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-i/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const S=this.currentTime-h*(this.playbackSpeed>=0?1:-1),D=this.playbackSpeed>=0?S<0:S>i;this.currentTime=Math.max(S,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=i);let x=this.currentTime,N=s;if(g){const P=Math.min(this.currentTime,i)/u;let M=Math.floor(P),z=P%1;!z&&P>=1&&(z=1),z===1&&M--,M=Math.min(M,g+1),!!(M%2)&&(y==="reverse"?(z=1-z,b&&(z-=b/u)):y==="mirror"&&(N=c)),x=Eo(0,1,z)*u}const T=D?{done:!1,value:p[0]}:N.next(x);a&&(T.value=a(T.value));let{done:I}=T;!D&&f!==null&&(I=this.playbackSpeed>=0?this.currentTime>=i:this.currentTime<=0);const $=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&I);return $&&v!==Wb&&(T.value=F2(p,this.options,A,this.speed)),E&&E(T.value),$&&this.finish(),T}then(e,n){return this.finished.then(e,n)}get duration(){return Ai(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Ai(e)}get time(){return Ai(this.currentTime)}set time(e){e=Sr(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(xs.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Ai(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=HU,startTime:n}=this.options;this.driver||(this.driver=e(i=>this.tick(i))),this.options.onPlay?.();const s=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=s):this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime||(this.startTime=n??s),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(xs.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function oP(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const Uc=t=>t*180/Math.PI,Kb=t=>{const e=Uc(Math.atan2(t[1],t[0]));return Gb(e)},aP={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:Kb,rotateZ:Kb,skewX:t=>Uc(Math.atan(t[1])),skewY:t=>Uc(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},Gb=t=>(t=t%360,t<0&&(t+=360),t),r3=Kb,o3=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),a3=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),cP={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:o3,scaleY:a3,scale:t=>(o3(t)+a3(t))/2,rotateX:t=>Gb(Uc(Math.atan2(t[6],t[5]))),rotateY:t=>Gb(Uc(Math.atan2(-t[2],t[0]))),rotateZ:r3,rotate:r3,skewX:t=>Uc(Math.atan(t[4])),skewY:t=>Uc(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function Yb(t){return t.includes("scale")?1:0}function Xb(t,e){if(!t||t==="none")return Yb(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let s,i;if(n)s=cP,i=n;else{const u=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);s=aP,i=u}if(!i)return Yb(e);const a=s[e],c=i[1].split(",").map(uP);return typeof a=="function"?a(c):c[a]}const lP=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return Xb(n,e)};function uP(t){return parseFloat(t.trim())}const sf=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],rf=new Set(sf),c3=t=>t===nf||t===Be,fP=new Set(["x","y","z"]),dP=sf.filter(t=>!fP.has(t));function hP(t){const e=[];return dP.forEach(n=>{const s=t.getValue(n);s!==void 0&&(e.push([n,s.get()]),s.set(n.startsWith("scale")?1:0))}),e}const Fc={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>Xb(e,"x"),y:(t,{transform:e})=>Xb(e,"y")};Fc.translateX=Fc.x;Fc.translateY=Fc.y;const qc=new Set;let Qb=!1,Zb=!1,Jb=!1;function OI(){if(Zb){const t=Array.from(qc).filter(s=>s.needsMeasurement),e=new Set(t.map(s=>s.element)),n=new Map;e.forEach(s=>{const i=hP(s);i.length&&(n.set(s,i),s.render())}),t.forEach(s=>s.measureInitialState()),e.forEach(s=>{s.render();const i=n.get(s);i&&i.forEach(([a,c])=>{s.getValue(a)?.set(c)})}),t.forEach(s=>s.measureEndState()),t.forEach(s=>{s.suspendedScrollY!==void 0&&window.scrollTo(0,s.suspendedScrollY)})}Zb=!1,Qb=!1,qc.forEach(t=>t.complete(Jb)),qc.clear()}function MI(){qc.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(Zb=!0)})}function pP(){Jb=!0,MI(),OI(),Jb=!1}class W2{constructor(e,n,s,i,a,c=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=s,this.motionValue=i,this.element=a,this.isAsync=c}scheduleResolve(){this.state="scheduled",this.isAsync?(qc.add(this),Qb||(Qb=!0,zt.read(MI),zt.resolveKeyframes(OI))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:s,motionValue:i}=this;if(e[0]===null){const a=i?.get(),c=e[e.length-1];if(a!==void 0)e[0]=a;else if(s&&n){const u=s.readValue(n,c);u!=null&&(e[0]=u)}e[0]===void 0&&(e[0]=c),i&&a===void 0&&i.set(e[0])}oP(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),qc.delete(this)}cancel(){this.state==="scheduled"&&(qc.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const gP=t=>t.startsWith("--");function mP(t,e,n){gP(e)?t.style.setProperty(e,n):t.style[e]=n}const yP=R2(()=>window.ScrollTimeline!==void 0),wP={};function bP(t,e){const n=R2(t);return()=>wP[e]??n()}const RI=bP(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),kd=([t,e,n,s])=>`cubic-bezier(${t}, ${e}, ${n}, ${s})`,l3={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:kd([0,.65,.55,1]),circOut:kd([.55,0,1,.45]),backIn:kd([.31,.01,.66,-.59]),backOut:kd([.33,1.53,.69,.99])};function $I(t,e){if(t)return typeof t=="function"?RI()?_I(t,e):"ease-out":wI(t)?kd(t):Array.isArray(t)?t.map(n=>$I(n,e)||l3.easeOut):l3[t]}function vP(t,e,n,{delay:s=0,duration:i=300,repeat:a=0,repeatType:c="loop",ease:u="easeOut",times:f}={},h=void 0){const p={[e]:n};f&&(p.offset=f);const g=$I(u,i);Array.isArray(g)&&(p.easing=g);const y={delay:s,duration:i,easing:Array.isArray(g)?"linear":g,fill:"both",iterations:a+1,direction:c==="reverse"?"alternate":"normal"};return h&&(y.pseudoElement=h),t.animate(p,y)}function UI(t){return typeof t=="function"&&"applyToOptions"in t}function EP({type:t,...e}){return UI(t)&&RI()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class AP extends q2{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:s,keyframes:i,pseudoElement:a,allowFlatten:c=!1,finalKeyframe:u,onComplete:f}=e;this.isPseudoElement=!!a,this.allowFlatten=c,this.options=e,M2(typeof e.type!="string");const h=EP(e);this.animation=vP(n,s,i,h,a),h.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!a){const p=F2(i,this.options,u,this.speed);this.updateMotionValue?this.updateMotionValue(p):mP(n,s,p),this.animation.cancel()}f?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return Ai(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Ai(e)}get time(){return Ai(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=Sr(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&yP()?(this.animation.timeline=e,Si):n(this)}}const PI={anticipate:pI,backInOut:hI,circInOut:mI};function CP(t){return t in PI}function SP(t){typeof t.ease=="string"&&CP(t.ease)&&(t.ease=PI[t.ease])}const u3=10;class xP extends AP{constructor(e){SP(e),DI(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:s,onComplete:i,element:a,...c}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const u=new V2({...c,autoplay:!1}),f=Sr(this.finishedTime??this.time);n.setWithVelocity(u.sample(f-u3).value,u.sample(f).value,u3),u.stop()}}const f3=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(La.test(t)||t==="0")&&!t.startsWith("url("));function NP(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function TP(t,e,n,s){const i=t[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const a=t[t.length-1],c=f3(i,e),u=f3(a,e);return!c||!u?!1:NP(t)||(n==="spring"||UI(n))&&s}function ev(t){t.duration=0,t.type="keyframes"}const _P=new Set(["opacity","clipPath","filter","transform"]),IP=R2(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function DP(t){const{motionValue:e,name:n,repeatDelay:s,repeatType:i,damping:a,type:c}=t;if(!(e?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:f,transformTemplate:h}=e.owner.getProps();return IP()&&n&&_P.has(n)&&(n!=="transform"||!h)&&!f&&!s&&i!=="mirror"&&a!==0&&c!=="inertia"}const OP=40;class MP extends q2{constructor({autoplay:e=!0,delay:n=0,type:s="keyframes",repeat:i=0,repeatDelay:a=0,repeatType:c="loop",keyframes:u,name:f,motionValue:h,element:p,...g}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=xs.now();const y={autoplay:e,delay:n,type:s,repeat:i,repeatDelay:a,repeatType:c,name:f,motionValue:h,element:p,...g},b=p?.KeyframeResolver||W2;this.keyframeResolver=new b(u,(v,E,A)=>this.onKeyframesResolved(v,E,y,!A),f,h,p),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,n,s,i){this.keyframeResolver=void 0;const{name:a,type:c,velocity:u,delay:f,isHandoff:h,onUpdate:p}=s;this.resolvedAt=xs.now(),TP(e,a,c,u)||((Ao.instantAnimations||!f)&&p?.(F2(e,s,n)),e[0]=e[e.length-1],ev(s),s.repeat=0);const y={startTime:i?this.resolvedAt?this.resolvedAt-this.createdAt>OP?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...s,keyframes:e},b=!h&&DP(y)?new xP({...y,element:y.motionValue.owner.current}):new V2(y);b.finished.then(()=>this.notifyFinished()).catch(Si),this.pendingTimeline&&(this.stopTimeline=b.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=b}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),pP()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const RP=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function $P(t){const e=RP.exec(t);if(!e)return[,];const[,n,s,i]=e;return[`--${n??s}`,i]}function LI(t,e,n=1){const[s,i]=$P(t);if(!s)return;const a=window.getComputedStyle(e).getPropertyValue(s);if(a){const c=a.trim();return rI(c)?parseFloat(c):c}return k2(i)?LI(i,e,n+1):i}function K2(t,e){return t?.[e]??t?.default??t}const kI=new Set(["width","height","top","left","right","bottom",...sf]),UP={test:t=>t==="auto",parse:t=>t},BI=t=>e=>e.test(t),jI=[nf,Be,xr,va,NU,xU,UP],d3=t=>jI.find(BI(t));function PP(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||aI(t):!0}const LP=new Set(["brightness","contrast","saturate","opacity"]);function kP(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[s]=n.match(B2)||[];if(!s)return t;const i=n.replace(s,"");let a=LP.has(e)?1:0;return s!==n&&(a*=100),e+"("+a+i+")"}const BP=/\b([a-z-]*)\(.*?\)/gu,tv={...La,getAnimatableNone:t=>{const e=t.match(BP);return e?e.map(kP).join(" "):t}},h3={...nf,transform:Math.round},jP={rotate:va,rotateX:va,rotateY:va,rotateZ:va,scale:qg,scaleX:qg,scaleY:qg,scaleZ:qg,skew:va,skewX:va,skewY:va,distance:Be,translateX:Be,translateY:Be,translateZ:Be,x:Be,y:Be,z:Be,perspective:Be,transformPerspective:Be,opacity:ph,originX:e3,originY:e3,originZ:Be},G2={borderWidth:Be,borderTopWidth:Be,borderRightWidth:Be,borderBottomWidth:Be,borderLeftWidth:Be,borderRadius:Be,radius:Be,borderTopLeftRadius:Be,borderTopRightRadius:Be,borderBottomRightRadius:Be,borderBottomLeftRadius:Be,width:Be,maxWidth:Be,height:Be,maxHeight:Be,top:Be,right:Be,bottom:Be,left:Be,padding:Be,paddingTop:Be,paddingRight:Be,paddingBottom:Be,paddingLeft:Be,margin:Be,marginTop:Be,marginRight:Be,marginBottom:Be,marginLeft:Be,backgroundPositionX:Be,backgroundPositionY:Be,...jP,zIndex:h3,fillOpacity:ph,strokeOpacity:ph,numOctaves:h3},zP={...G2,color:rn,backgroundColor:rn,outlineColor:rn,fill:rn,stroke:rn,borderColor:rn,borderTopColor:rn,borderRightColor:rn,borderBottomColor:rn,borderLeftColor:rn,filter:tv,WebkitFilter:tv},zI=t=>zP[t];function HI(t,e){let n=zI(t);return n!==tv&&(n=La),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const HP=new Set(["auto","none","0"]);function FP(t,e,n){let s=0,i;for(;s<t.length&&!i;){const a=t[s];typeof a=="string"&&!HP.has(a)&&gh(a).values.length&&(i=t[s]),s++}if(i&&n)for(const a of e)t[a]=HI(n,i)}class qP extends W2{constructor(e,n,s,i,a){super(e,n,s,i,a,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:s}=this;if(!n||!n.current)return;super.readKeyframes();for(let f=0;f<e.length;f++){let h=e[f];if(typeof h=="string"&&(h=h.trim(),k2(h))){const p=LI(h,n.current);p!==void 0&&(e[f]=p),f===e.length-1&&(this.finalKeyframe=h)}}if(this.resolveNoneKeyframes(),!kI.has(s)||e.length!==2)return;const[i,a]=e,c=d3(i),u=d3(a);if(c!==u)if(c3(c)&&c3(u))for(let f=0;f<e.length;f++){const h=e[f];typeof h=="string"&&(e[f]=parseFloat(h))}else Fc[s]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,s=[];for(let i=0;i<e.length;i++)(e[i]===null||PP(e[i]))&&s.push(i);s.length&&FP(e,s,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:s}=this;if(!e||!e.current)return;s==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Fc[s](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&e.getValue(s,i).jump(i,!1)}measureEndState(){const{element:e,name:n,unresolvedKeyframes:s}=this;if(!e||!e.current)return;const i=e.getValue(n);i&&i.jump(this.measuredOrigin,!1);const a=s.length-1,c=s[a];s[a]=Fc[n](e.measureViewportBox(),window.getComputedStyle(e.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),this.removedTransforms?.length&&this.removedTransforms.forEach(([u,f])=>{e.getValue(u).set(f)}),this.resolveNoneKeyframes()}}function VP(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let s=document;const i=n?.[t]??s.querySelectorAll(t);return i?Array.from(i):[]}return Array.from(t)}const FI=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function qI(t){return oI(t)&&"offsetHeight"in t}const p3=30,WP=t=>!isNaN(parseFloat(t));class KP{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=s=>{const i=xs.now();if(this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(s),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const a of this.dependents)a.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=xs.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=WP(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new $2);const s=this.events[e].add(n);return e==="change"?()=>{s(),zt.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,s){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-s}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=xs.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>p3)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,p3);return cI(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function qu(t,e){return new KP(t,e)}const{schedule:Y2}=bI(queueMicrotask,!1),Fi={x:!1,y:!1};function VI(){return Fi.x||Fi.y}function GP(t){return t==="x"||t==="y"?Fi[t]?null:(Fi[t]=!0,()=>{Fi[t]=!1}):Fi.x||Fi.y?null:(Fi.x=Fi.y=!0,()=>{Fi.x=Fi.y=!1})}function WI(t,e){const n=VP(t),s=new AbortController,i={passive:!0,...e,signal:s.signal};return[n,i,()=>s.abort()]}function g3(t){return!(t.pointerType==="touch"||VI())}function YP(t,e,n={}){const[s,i,a]=WI(t,n),c=u=>{if(!g3(u))return;const{target:f}=u,h=e(f,u);if(typeof h!="function"||!f)return;const p=g=>{g3(g)&&(h(g),f.removeEventListener("pointerleave",p))};f.addEventListener("pointerleave",p,i)};return s.forEach(u=>{u.addEventListener("pointerenter",c,i)}),a}const KI=(t,e)=>e?t===e?!0:KI(t,e.parentElement):!1,X2=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,XP=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function QP(t){return XP.has(t.tagName)||t.tabIndex!==-1}const I0=new WeakSet;function m3(t){return e=>{e.key==="Enter"&&t(e)}}function y1(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const ZP=(t,e)=>{const n=t.currentTarget;if(!n)return;const s=m3(()=>{if(I0.has(n))return;y1(n,"down");const i=m3(()=>{y1(n,"up")}),a=()=>y1(n,"cancel");n.addEventListener("keyup",i,e),n.addEventListener("blur",a,e)});n.addEventListener("keydown",s,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",s),e)};function y3(t){return X2(t)&&!VI()}function JP(t,e,n={}){const[s,i,a]=WI(t,n),c=u=>{const f=u.currentTarget;if(!y3(u))return;I0.add(f);const h=e(f,u),p=(b,v)=>{window.removeEventListener("pointerup",g),window.removeEventListener("pointercancel",y),I0.has(f)&&I0.delete(f),y3(b)&&typeof h=="function"&&h(b,{success:v})},g=b=>{p(b,f===window||f===document||n.useGlobalTarget||KI(f,b.target))},y=b=>{p(b,!1)};window.addEventListener("pointerup",g,i),window.addEventListener("pointercancel",y,i)};return s.forEach(u=>{(n.useGlobalTarget?window:u).addEventListener("pointerdown",c,i),qI(u)&&(u.addEventListener("focus",h=>ZP(h,i)),!QP(u)&&!u.hasAttribute("tabindex")&&(u.tabIndex=0))}),a}function GI(t){return oI(t)&&"ownerSVGElement"in t}function e7(t){return GI(t)&&t.tagName==="svg"}const Xn=t=>!!(t&&t.getVelocity),t7=[...jI,rn,La],n7=t=>t7.find(BI(t)),Q2=me.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function w3(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function s7(...t){return e=>{let n=!1;const s=t.map(i=>{const a=w3(i,e);return!n&&typeof a=="function"&&(n=!0),a});if(n)return()=>{for(let i=0;i<s.length;i++){const a=s[i];typeof a=="function"?a():w3(t[i],null)}}}}function i7(...t){return me.useCallback(s7(...t),t)}class r7 extends me.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const s=n.offsetParent,i=qI(s)&&s.offsetWidth||0,a=this.props.sizeRef.current;a.height=n.offsetHeight||0,a.width=n.offsetWidth||0,a.top=n.offsetTop,a.left=n.offsetLeft,a.right=i-a.width-a.left}return null}componentDidUpdate(){}render(){return this.props.children}}function o7({children:t,isPresent:e,anchorX:n,root:s}){const i=me.useId(),a=me.useRef(null),c=me.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:u}=me.useContext(Q2),f=i7(a,t?.ref);return me.useInsertionEffect(()=>{const{width:h,height:p,top:g,left:y,right:b}=c.current;if(e||!a.current||!h||!p)return;const v=n==="left"?`left: ${y}`:`right: ${b}`;a.current.dataset.motionPopId=i;const E=document.createElement("style");u&&(E.nonce=u);const A=s??document.head;return A.appendChild(E),E.sheet&&E.sheet.insertRule(`
          [data-motion-pop-id="${i}"] {
            position: absolute !important;
            width: ${h}px !important;
            height: ${p}px !important;
            ${v}px !important;
            top: ${g}px !important;
          }
        `),()=>{A.contains(E)&&A.removeChild(E)}},[e]),X.jsx(r7,{isPresent:e,childRef:a,sizeRef:c,children:me.cloneElement(t,{ref:f})})}const a7=({children:t,initial:e,isPresent:n,onExitComplete:s,custom:i,presenceAffectsLayout:a,mode:c,anchorX:u,root:f})=>{const h=_2(c7),p=me.useId();let g=!0,y=me.useMemo(()=>(g=!1,{id:p,initial:e,isPresent:n,custom:i,onExitComplete:b=>{h.set(b,!0);for(const v of h.values())if(!v)return;s&&s()},register:b=>(h.set(b,!1),()=>h.delete(b))}),[n,h,s]);return a&&g&&(y={...y}),me.useMemo(()=>{h.forEach((b,v)=>h.set(v,!1))},[n]),me.useEffect(()=>{!n&&!h.size&&s&&s()},[n]),c==="popLayout"&&(t=X.jsx(o7,{isPresent:n,anchorX:u,root:f,children:t})),X.jsx(Cm.Provider,{value:y,children:t})};function c7(){return new Map}function YI(t=!0){const e=me.useContext(Cm);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:s,register:i}=e,a=me.useId();me.useEffect(()=>{if(t)return i(a)},[t]);const c=me.useCallback(()=>t&&s&&s(a),[a,s,t]);return!n&&s?[!1,c]:[!0]}const Vg=t=>t.key||"";function b3(t){const e=[];return me.Children.forEach(t,n=>{me.isValidElement(n)&&e.push(n)}),e}const Z2=({children:t,custom:e,initial:n=!0,onExitComplete:s,presenceAffectsLayout:i=!0,mode:a="sync",propagate:c=!1,anchorX:u="left",root:f})=>{const[h,p]=YI(c),g=me.useMemo(()=>b3(t),[t]),y=c&&!h?[]:g.map(Vg),b=me.useRef(!0),v=me.useRef(g),E=_2(()=>new Map),[A,S]=me.useState(g),[D,x]=me.useState(g);iI(()=>{b.current=!1,v.current=g;for(let I=0;I<D.length;I++){const $=Vg(D[I]);y.includes($)?E.delete($):E.get($)!==!0&&E.set($,!1)}},[D,y.length,y.join("-")]);const N=[];if(g!==A){let I=[...g];for(let $=0;$<D.length;$++){const P=D[$],M=Vg(P);y.includes(M)||(I.splice($,0,P),N.push(P))}return a==="wait"&&N.length&&(I=N),x(b3(I)),S(g),null}const{forceRender:T}=me.useContext(T2);return X.jsx(X.Fragment,{children:D.map(I=>{const $=Vg(I),P=c&&!h?!1:g===D||y.includes($),M=()=>{if(E.has($))E.set($,!0);else return;let z=!0;E.forEach(q=>{q||(z=!1)}),z&&(T?.(),x(v.current),c&&p?.(),s&&s())};return X.jsx(a7,{isPresent:P,initial:!b.current||n?void 0:!1,custom:e,presenceAffectsLayout:i,mode:a,root:f,onExitComplete:P?void 0:M,anchorX:u,children:I},$)})})},XI=me.createContext({strict:!1}),v3={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Vu={};for(const t in v3)Vu[t]={isEnabled:e=>v3[t].some(n=>!!e[n])};function l7(t){for(const e in t)Vu[e]={...Vu[e],...t[e]}}const u7=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Y0(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||u7.has(t)}let QI=t=>!Y0(t);function f7(t){typeof t=="function"&&(QI=e=>e.startsWith("on")?!Y0(e):t(e))}try{f7(require("@emotion/is-prop-valid").default)}catch{}function d7(t,e,n){const s={};for(const i in t)i==="values"&&typeof t.values=="object"||(QI(i)||n===!0&&Y0(i)||!e&&!Y0(i)||t.draggable&&i.startsWith("onDrag"))&&(s[i]=t[i]);return s}const Sm=me.createContext({});function xm(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function mh(t){return typeof t=="string"||Array.isArray(t)}const J2=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],eE=["initial",...J2];function Nm(t){return xm(t.animate)||eE.some(e=>mh(t[e]))}function ZI(t){return!!(Nm(t)||t.variants)}function h7(t,e){if(Nm(t)){const{initial:n,animate:s}=t;return{initial:n===!1||mh(n)?n:void 0,animate:mh(s)?s:void 0}}return t.inherit!==!1?e:{}}function p7(t){const{initial:e,animate:n}=h7(t,me.useContext(Sm));return me.useMemo(()=>({initial:e,animate:n}),[E3(e),E3(n)])}function E3(t){return Array.isArray(t)?t.join(" "):t}const yh={};function g7(t){for(const e in t)yh[e]=t[e],L2(e)&&(yh[e].isCSSVariable=!0)}function JI(t,{layout:e,layoutId:n}){return rf.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!yh[t]||t==="opacity")}const m7={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},y7=sf.length;function w7(t,e,n){let s="",i=!0;for(let a=0;a<y7;a++){const c=sf[a],u=t[c];if(u===void 0)continue;let f=!0;if(typeof u=="number"?f=u===(c.startsWith("scale")?1:0):f=parseFloat(u)===0,!f||n){const h=FI(u,G2[c]);if(!f){i=!1;const p=m7[c]||c;s+=`${p}(${h}) `}n&&(e[c]=h)}}return s=s.trim(),n?s=n(e,i?"":s):i&&(s="none"),s}function tE(t,e,n){const{style:s,vars:i,transformOrigin:a}=t;let c=!1,u=!1;for(const f in e){const h=e[f];if(rf.has(f)){c=!0;continue}else if(L2(f)){i[f]=h;continue}else{const p=FI(h,G2[f]);f.startsWith("origin")?(u=!0,a[f]=p):s[f]=p}}if(e.transform||(c||n?s.transform=w7(e,t.transform,n):s.transform&&(s.transform="none")),u){const{originX:f="50%",originY:h="50%",originZ:p=0}=a;s.transformOrigin=`${f} ${h} ${p}`}}const nE=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function e8(t,e,n){for(const s in e)!Xn(e[s])&&!JI(s,n)&&(t[s]=e[s])}function b7({transformTemplate:t},e){return me.useMemo(()=>{const n=nE();return tE(n,e,t),Object.assign({},n.vars,n.style)},[e])}function v7(t,e){const n=t.style||{},s={};return e8(s,n,t),Object.assign(s,b7(t,e)),s}function E7(t,e){const n={},s=v7(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=s,n}const A7={offset:"stroke-dashoffset",array:"stroke-dasharray"},C7={offset:"strokeDashoffset",array:"strokeDasharray"};function S7(t,e,n=1,s=0,i=!0){t.pathLength=1;const a=i?A7:C7;t[a.offset]=Be.transform(-s);const c=Be.transform(e),u=Be.transform(n);t[a.array]=`${c} ${u}`}function t8(t,{attrX:e,attrY:n,attrScale:s,pathLength:i,pathSpacing:a=1,pathOffset:c=0,...u},f,h,p){if(tE(t,u,h),f){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:g,style:y}=t;g.transform&&(y.transform=g.transform,delete g.transform),(y.transform||g.transformOrigin)&&(y.transformOrigin=g.transformOrigin??"50% 50%",delete g.transformOrigin),y.transform&&(y.transformBox=p?.transformBox??"fill-box",delete g.transformBox),e!==void 0&&(g.x=e),n!==void 0&&(g.y=n),s!==void 0&&(g.scale=s),i!==void 0&&S7(g,i,a,c,!1)}const n8=()=>({...nE(),attrs:{}}),s8=t=>typeof t=="string"&&t.toLowerCase()==="svg";function x7(t,e,n,s){const i=me.useMemo(()=>{const a=n8();return t8(a,e,s8(s),t.transformTemplate,t.style),{...a.attrs,style:{...a.style}}},[e]);if(t.style){const a={};e8(a,t.style,t),i.style={...a,...i.style}}return i}const N7=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function sE(t){return typeof t!="string"||t.includes("-")?!1:!!(N7.indexOf(t)>-1||/[A-Z]/u.test(t))}function T7(t,e,n,{latestValues:s},i,a=!1){const u=(sE(t)?x7:E7)(e,s,i,t),f=d7(e,typeof t=="string",a),h=t!==me.Fragment?{...f,...u,ref:n}:{},{children:p}=e,g=me.useMemo(()=>Xn(p)?p.get():p,[p]);return me.createElement(t,{...h,children:g})}function A3(t){const e=[{},{}];return t?.values.forEach((n,s)=>{e[0][s]=n.get(),e[1][s]=n.getVelocity()}),e}function iE(t,e,n,s){if(typeof e=="function"){const[i,a]=A3(s);e=e(n!==void 0?n:t.custom,i,a)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[i,a]=A3(s);e=e(n!==void 0?n:t.custom,i,a)}return e}function D0(t){return Xn(t)?t.get():t}function _7({scrapeMotionValuesFromProps:t,createRenderState:e},n,s,i){return{latestValues:I7(n,s,i,t),renderState:e()}}function I7(t,e,n,s){const i={},a=s(t,{});for(const y in a)i[y]=D0(a[y]);let{initial:c,animate:u}=t;const f=Nm(t),h=ZI(t);e&&h&&!f&&t.inherit!==!1&&(c===void 0&&(c=e.initial),u===void 0&&(u=e.animate));let p=n?n.initial===!1:!1;p=p||c===!1;const g=p?u:c;if(g&&typeof g!="boolean"&&!xm(g)){const y=Array.isArray(g)?g:[g];for(let b=0;b<y.length;b++){const v=iE(t,y[b]);if(v){const{transitionEnd:E,transition:A,...S}=v;for(const D in S){let x=S[D];if(Array.isArray(x)){const N=p?x.length-1:0;x=x[N]}x!==null&&(i[D]=x)}for(const D in E)i[D]=E[D]}}}return i}const i8=t=>(e,n)=>{const s=me.useContext(Sm),i=me.useContext(Cm),a=()=>_7(t,e,s,i);return n?a():_2(a)};function rE(t,e,n){const{style:s}=t,i={};for(const a in s)(Xn(s[a])||e.style&&Xn(e.style[a])||JI(a,t)||n?.getValue(a)?.liveStyle!==void 0)&&(i[a]=s[a]);return i}const D7=i8({scrapeMotionValuesFromProps:rE,createRenderState:nE});function r8(t,e,n){const s=rE(t,e,n);for(const i in t)if(Xn(t[i])||Xn(e[i])){const a=sf.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;s[a]=t[i]}return s}const O7=i8({scrapeMotionValuesFromProps:r8,createRenderState:n8}),M7=Symbol.for("motionComponentSymbol");function Iu(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function R7(t,e,n){return me.useCallback(s=>{s&&t.onMount&&t.onMount(s),e&&(s?e.mount(s):e.unmount()),n&&(typeof n=="function"?n(s):Iu(n)&&(n.current=s))},[e])}const oE=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),$7="framerAppearId",o8="data-"+oE($7),a8=me.createContext({});function U7(t,e,n,s,i){const{visualElement:a}=me.useContext(Sm),c=me.useContext(XI),u=me.useContext(Cm),f=me.useContext(Q2).reducedMotion,h=me.useRef(null);s=s||c.renderer,!h.current&&s&&(h.current=s(t,{visualState:e,parent:a,props:n,presenceContext:u,blockInitialAnimation:u?u.initial===!1:!1,reducedMotionConfig:f}));const p=h.current,g=me.useContext(a8);p&&!p.projection&&i&&(p.type==="html"||p.type==="svg")&&P7(h.current,n,i,g);const y=me.useRef(!1);me.useInsertionEffect(()=>{p&&y.current&&p.update(n,u)});const b=n[o8],v=me.useRef(!!b&&!window.MotionHandoffIsComplete?.(b)&&window.MotionHasOptimisedAnimation?.(b));return iI(()=>{p&&(y.current=!0,window.MotionIsMounted=!0,p.updateFeatures(),p.scheduleRenderMicrotask(),v.current&&p.animationState&&p.animationState.animateChanges())}),me.useEffect(()=>{p&&(!v.current&&p.animationState&&p.animationState.animateChanges(),v.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(b)}),v.current=!1),p.enteringChildren=void 0)}),p}function P7(t,e,n,s){const{layoutId:i,layout:a,drag:c,dragConstraints:u,layoutScroll:f,layoutRoot:h,layoutCrossfade:p}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:c8(t.parent)),t.projection.setOptions({layoutId:i,layout:a,alwaysMeasureLayout:!!c||u&&Iu(u),visualElement:t,animationType:typeof a=="string"?a:"both",initialPromotionConfig:s,crossfade:p,layoutScroll:f,layoutRoot:h})}function c8(t){if(t)return t.options.allowProjection!==!1?t.projection:c8(t.parent)}function w1(t,{forwardMotionProps:e=!1}={},n,s){n&&l7(n);const i=sE(t)?O7:D7;function a(u,f){let h;const p={...me.useContext(Q2),...u,layoutId:L7(u)},{isStatic:g}=p,y=p7(u),b=i(u,g);if(!g&&I2){k7();const v=B7(p);h=v.MeasureLayout,y.visualElement=U7(t,b,p,s,v.ProjectionNode)}return X.jsxs(Sm.Provider,{value:y,children:[h&&y.visualElement?X.jsx(h,{visualElement:y.visualElement,...p}):null,T7(t,u,R7(b,y.visualElement,f),b,g,e)]})}a.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const c=me.forwardRef(a);return c[M7]=t,c}function L7({layoutId:t}){const e=me.useContext(T2).id;return e&&t!==void 0?e+"-"+t:t}function k7(t,e){me.useContext(XI).strict}function B7(t){const{drag:e,layout:n}=Vu;if(!e&&!n)return{};const s={...e,...n};return{MeasureLayout:e?.isEnabled(t)||n?.isEnabled(t)?s.MeasureLayout:void 0,ProjectionNode:s.ProjectionNode}}function j7(t,e){if(typeof Proxy>"u")return w1;const n=new Map,s=(a,c)=>w1(a,c,t,e),i=(a,c)=>s(a,c);return new Proxy(i,{get:(a,c)=>c==="create"?s:(n.has(c)||n.set(c,w1(c,void 0,t,e)),n.get(c))})}function l8({top:t,left:e,right:n,bottom:s}){return{x:{min:e,max:n},y:{min:t,max:s}}}function z7({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function H7(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),s=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:s.y,right:s.x}}function b1(t){return t===void 0||t===1}function nv({scale:t,scaleX:e,scaleY:n}){return!b1(t)||!b1(e)||!b1(n)}function Tc(t){return nv(t)||u8(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function u8(t){return C3(t.x)||C3(t.y)}function C3(t){return t&&t!=="0%"}function X0(t,e,n){const s=t-n,i=e*s;return n+i}function S3(t,e,n,s,i){return i!==void 0&&(t=X0(t,i,s)),X0(t,n,s)+e}function sv(t,e=0,n=1,s,i){t.min=S3(t.min,e,n,s,i),t.max=S3(t.max,e,n,s,i)}function f8(t,{x:e,y:n}){sv(t.x,e.translate,e.scale,e.originPoint),sv(t.y,n.translate,n.scale,n.originPoint)}const x3=.999999999999,N3=1.0000000000001;function F7(t,e,n,s=!1){const i=n.length;if(!i)return;e.x=e.y=1;let a,c;for(let u=0;u<i;u++){a=n[u],c=a.projectionDelta;const{visualElement:f}=a.options;f&&f.props.style&&f.props.style.display==="contents"||(s&&a.options.layoutScroll&&a.scroll&&a!==a.root&&Ou(t,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),c&&(e.x*=c.x.scale,e.y*=c.y.scale,f8(t,c)),s&&Tc(a.latestValues)&&Ou(t,a.latestValues))}e.x<N3&&e.x>x3&&(e.x=1),e.y<N3&&e.y>x3&&(e.y=1)}function Du(t,e){t.min=t.min+e,t.max=t.max+e}function T3(t,e,n,s,i=.5){const a=Ht(t.min,t.max,i);sv(t,e,n,a,s)}function Ou(t,e){T3(t.x,e.x,e.scaleX,e.scale,e.originX),T3(t.y,e.y,e.scaleY,e.scale,e.originY)}function d8(t,e){return l8(H7(t.getBoundingClientRect(),e))}function q7(t,e,n){const s=d8(t,n),{scroll:i}=e;return i&&(Du(s.x,i.offset.x),Du(s.y,i.offset.y)),s}const _3=()=>({translate:0,scale:1,origin:0,originPoint:0}),Mu=()=>({x:_3(),y:_3()}),I3=()=>({min:0,max:0}),Yt=()=>({x:I3(),y:I3()}),iv={current:null},h8={current:!1};function V7(){if(h8.current=!0,!!I2)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>iv.current=t.matches;t.addEventListener("change",e),e()}else iv.current=!1}const W7=new WeakMap;function K7(t,e,n){for(const s in e){const i=e[s],a=n[s];if(Xn(i))t.addValue(s,i);else if(Xn(a))t.addValue(s,qu(i,{owner:t}));else if(a!==i)if(t.hasValue(s)){const c=t.getValue(s);c.liveStyle===!0?c.jump(i):c.hasAnimated||c.set(i)}else{const c=t.getStaticValue(s);t.addValue(s,qu(c!==void 0?c:i,{owner:t}))}}for(const s in n)e[s]===void 0&&t.removeValue(s);return e}const D3=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class G7{scrapeMotionValuesFromProps(e,n,s){return{}}constructor({parent:e,props:n,presenceContext:s,reducedMotionConfig:i,blockInitialAnimation:a,visualState:c},u={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=W2,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const y=xs.now();this.renderScheduledAt<y&&(this.renderScheduledAt=y,zt.render(this.render,!1,!0))};const{latestValues:f,renderState:h}=c;this.latestValues=f,this.baseTarget={...f},this.initialValues=n.initial?{...f}:{},this.renderState=h,this.parent=e,this.props=n,this.presenceContext=s,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=u,this.blockInitialAnimation=!!a,this.isControllingVariants=Nm(n),this.isVariantNode=ZI(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:p,...g}=this.scrapeMotionValuesFromProps(n,{},this);for(const y in g){const b=g[y];f[y]!==void 0&&Xn(b)&&b.set(f[y])}}mount(e){this.current=e,W7.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,s)=>this.bindToMotionValue(s,n)),h8.current||V7(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:iv.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Pa(this.notifyUpdate),Pa(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const s=rf.has(e);s&&this.onBindTransform&&this.onBindTransform();const i=n.on("change",c=>{this.latestValues[e]=c,this.props.onUpdate&&zt.preRender(this.notifyUpdate),s&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let a;window.MotionCheckAppearSync&&(a=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{i(),a&&a(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Vu){const n=Vu[e];if(!n)continue;const{isEnabled:s,Feature:i}=n;if(!this.features[e]&&i&&s(this.props)&&(this.features[e]=new i(this)),this.features[e]){const a=this.features[e];a.isMounted?a.update():(a.mount(),a.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Yt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let s=0;s<D3.length;s++){const i=D3[s];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const a="on"+i,c=e[a];c&&(this.propEventSubscriptions[i]=this.on(i,c))}this.prevMotionValues=K7(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const s=this.values.get(e);n!==s&&(s&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let s=this.values.get(e);return s===void 0&&n!==void 0&&(s=qu(n===null?void 0:n,{owner:this}),this.addValue(e,s)),s}readValue(e,n){let s=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return s!=null&&(typeof s=="string"&&(rI(s)||aI(s))?s=parseFloat(s):!n7(s)&&La.test(n)&&(s=HI(e,n)),this.setBaseTarget(e,Xn(s)?s.get():s)),Xn(s)?s.get():s}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){const{initial:n}=this.props;let s;if(typeof n=="string"||typeof n=="object"){const a=iE(this.props,n,this.presenceContext?.custom);a&&(s=a[e])}if(n&&s!==void 0)return s;const i=this.getBaseTargetFromProps(this.props,e);return i!==void 0&&!Xn(i)?i:this.initialValues[e]!==void 0&&s===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new $2),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){Y2.render(this.render)}}class p8 extends G7{constructor(){super(...arguments),this.KeyframeResolver=qP}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:s}){delete n[e],delete s[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Xn(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function g8(t,{style:e,vars:n},s,i){const a=t.style;let c;for(c in e)a[c]=e[c];i?.applyProjectionStyles(a,s);for(c in n)a.setProperty(c,n[c])}function Y7(t){return window.getComputedStyle(t)}class X7 extends p8{constructor(){super(...arguments),this.type="html",this.renderInstance=g8}readValueFromInstance(e,n){if(rf.has(n))return this.projection?.isProjecting?Yb(n):lP(e,n);{const s=Y7(e),i=(L2(n)?s.getPropertyValue(n):s[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return d8(e,n)}build(e,n,s){tE(e,n,s.transformTemplate)}scrapeMotionValuesFromProps(e,n,s){return rE(e,n,s)}}const m8=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Q7(t,e,n,s){g8(t,e,void 0,s);for(const i in e.attrs)t.setAttribute(m8.has(i)?i:oE(i),e.attrs[i])}class Z7 extends p8{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Yt}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(rf.has(n)){const s=zI(n);return s&&s.default||0}return n=m8.has(n)?n:oE(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,s){return r8(e,n,s)}build(e,n,s){t8(e,n,this.isSVGTag,s.transformTemplate,s.style)}renderInstance(e,n,s,i){Q7(e,n,s,i)}mount(e){this.isSVGTag=s8(e.tagName),super.mount(e)}}const J7=(t,e)=>sE(t)?new Z7(e):new X7(e,{allowProjection:t!==me.Fragment});function Bu(t,e,n){const s=t.getProps();return iE(s,e,n!==void 0?n:s.custom,t)}const rv=t=>Array.isArray(t);function e9(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,qu(n))}function t9(t){return rv(t)?t[t.length-1]||0:t}function n9(t,e){const n=Bu(t,e);let{transitionEnd:s={},transition:i={},...a}=n||{};a={...a,...s};for(const c in a){const u=t9(a[c]);e9(t,c,u)}}function s9(t){return!!(Xn(t)&&t.add)}function ov(t,e){const n=t.getValue("willChange");if(s9(n))return n.add(e);if(!n&&Ao.WillChange){const s=new Ao.WillChange("auto");t.addValue("willChange",s),s.add(e)}}function y8(t){return t.props[o8]}const i9=t=>t!==null;function r9(t,{repeat:e,repeatType:n="loop"},s){const i=t.filter(i9),a=e&&n!=="loop"&&e%2===1?0:i.length-1;return i[a]}const o9={type:"spring",stiffness:500,damping:25,restSpeed:10},a9=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),c9={type:"keyframes",duration:.8},l9={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},u9=(t,{keyframes:e})=>e.length>2?c9:rf.has(t)?t.startsWith("scale")?a9(e[1]):o9:l9;function f9({when:t,delay:e,delayChildren:n,staggerChildren:s,staggerDirection:i,repeat:a,repeatType:c,repeatDelay:u,from:f,elapsed:h,...p}){return!!Object.keys(p).length}const aE=(t,e,n,s={},i,a)=>c=>{const u=K2(s,t)||{},f=u.delay||s.delay||0;let{elapsed:h=0}=s;h=h-Sr(f);const p={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...u,delay:-h,onUpdate:y=>{e.set(y),u.onUpdate&&u.onUpdate(y)},onComplete:()=>{c(),u.onComplete&&u.onComplete()},name:t,motionValue:e,element:a?void 0:i};f9(u)||Object.assign(p,u9(t,p)),p.duration&&(p.duration=Sr(p.duration)),p.repeatDelay&&(p.repeatDelay=Sr(p.repeatDelay)),p.from!==void 0&&(p.keyframes[0]=p.from);let g=!1;if((p.type===!1||p.duration===0&&!p.repeatDelay)&&(ev(p),p.delay===0&&(g=!0)),(Ao.instantAnimations||Ao.skipAnimations)&&(g=!0,ev(p),p.delay=0),p.allowFlatten=!u.type&&!u.ease,g&&!a&&e.get()!==void 0){const y=r9(p.keyframes,u);if(y!==void 0){zt.update(()=>{p.onUpdate(y),p.onComplete()});return}}return u.isSync?new V2(p):new MP(p)};function d9({protectedKeys:t,needsAnimating:e},n){const s=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,s}function w8(t,e,{delay:n=0,transitionOverride:s,type:i}={}){let{transition:a=t.getDefaultTransition(),transitionEnd:c,...u}=e;s&&(a=s);const f=[],h=i&&t.animationState&&t.animationState.getState()[i];for(const p in u){const g=t.getValue(p,t.latestValues[p]??null),y=u[p];if(y===void 0||h&&d9(h,p))continue;const b={delay:n,...K2(a||{},p)},v=g.get();if(v!==void 0&&!g.isAnimating&&!Array.isArray(y)&&y===v&&!b.velocity)continue;let E=!1;if(window.MotionHandoffAnimation){const S=y8(t);if(S){const D=window.MotionHandoffAnimation(S,p,zt);D!==null&&(b.startTime=D,E=!0)}}ov(t,p),g.start(aE(p,g,y,t.shouldReduceMotion&&kI.has(p)?{type:!1}:b,t,E));const A=g.animation;A&&f.push(A)}return c&&Promise.all(f).then(()=>{zt.update(()=>{c&&n9(t,c)})}),f}function b8(t,e,n,s=0,i=1){const a=Array.from(t).sort((h,p)=>h.sortNodePosition(p)).indexOf(e),c=t.size,u=(c-1)*s;return typeof n=="function"?n(a,c):i===1?a*s:u-a*s}function av(t,e,n={}){const s=Bu(t,e,n.type==="exit"?t.presenceContext?.custom:void 0);let{transition:i=t.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(i=n.transitionOverride);const a=s?()=>Promise.all(w8(t,s,n)):()=>Promise.resolve(),c=t.variantChildren&&t.variantChildren.size?(f=0)=>{const{delayChildren:h=0,staggerChildren:p,staggerDirection:g}=i;return h9(t,e,f,h,p,g,n)}:()=>Promise.resolve(),{when:u}=i;if(u){const[f,h]=u==="beforeChildren"?[a,c]:[c,a];return f().then(()=>h())}else return Promise.all([a(),c(n.delay)])}function h9(t,e,n=0,s=0,i=0,a=1,c){const u=[];for(const f of t.variantChildren)f.notify("AnimationStart",e),u.push(av(f,e,{...c,delay:n+(typeof s=="function"?0:s)+b8(t.variantChildren,f,s,i,a)}).then(()=>f.notify("AnimationComplete",e)));return Promise.all(u)}function p9(t,e,n={}){t.notify("AnimationStart",e);let s;if(Array.isArray(e)){const i=e.map(a=>av(t,a,n));s=Promise.all(i)}else if(typeof e=="string")s=av(t,e,n);else{const i=typeof e=="function"?Bu(t,e,n.custom):e;s=Promise.all(w8(t,i,n))}return s.then(()=>{t.notify("AnimationComplete",e)})}function v8(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let s=0;s<n;s++)if(e[s]!==t[s])return!1;return!0}const g9=eE.length;function E8(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?E8(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<g9;n++){const s=eE[n],i=t.props[s];(mh(i)||i===!1)&&(e[s]=i)}return e}const m9=[...J2].reverse(),y9=J2.length;function w9(t){return e=>Promise.all(e.map(({animation:n,options:s})=>p9(t,n,s)))}function b9(t){let e=w9(t),n=O3(),s=!0;const i=f=>(h,p)=>{const g=Bu(t,p,f==="exit"?t.presenceContext?.custom:void 0);if(g){const{transition:y,transitionEnd:b,...v}=g;h={...h,...v,...b}}return h};function a(f){e=f(t)}function c(f){const{props:h}=t,p=E8(t.parent)||{},g=[],y=new Set;let b={},v=1/0;for(let A=0;A<y9;A++){const S=m9[A],D=n[S],x=h[S]!==void 0?h[S]:p[S],N=mh(x),T=S===f?D.isActive:null;T===!1&&(v=A);let I=x===p[S]&&x!==h[S]&&N;if(I&&s&&t.manuallyAnimateOnMount&&(I=!1),D.protectedKeys={...b},!D.isActive&&T===null||!x&&!D.prevProp||xm(x)||typeof x=="boolean")continue;const $=v9(D.prevProp,x);let P=$||S===f&&D.isActive&&!I&&N||A>v&&N,M=!1;const z=Array.isArray(x)?x:[x];let q=z.reduce(i(S),{});T===!1&&(q={});const{prevResolvedValues:F={}}=D,ee={...F,...q},Q=k=>{P=!0,y.has(k)&&(M=!0,y.delete(k)),D.needsAnimating[k]=!0;const H=t.getValue(k);H&&(H.liveStyle=!1)};for(const k in ee){const H=q[k],G=F[k];if(b.hasOwnProperty(k))continue;let V=!1;rv(H)&&rv(G)?V=!v8(H,G):V=H!==G,V?H!=null?Q(k):y.add(k):H!==void 0&&y.has(k)?Q(k):D.protectedKeys[k]=!0}D.prevProp=x,D.prevResolvedValues=q,D.isActive&&(b={...b,...q}),s&&t.blockInitialAnimation&&(P=!1);const R=I&&$;P&&(!R||M)&&g.push(...z.map(k=>{const H={type:S};if(typeof k=="string"&&s&&!R&&t.manuallyAnimateOnMount&&t.parent){const{parent:G}=t,V=Bu(G,k);if(G.enteringChildren&&V){const{delayChildren:U}=V.transition||{};H.delay=b8(G.enteringChildren,t,U)}}return{animation:k,options:H}}))}if(y.size){const A={};if(typeof h.initial!="boolean"){const S=Bu(t,Array.isArray(h.initial)?h.initial[0]:h.initial);S&&S.transition&&(A.transition=S.transition)}y.forEach(S=>{const D=t.getBaseTarget(S),x=t.getValue(S);x&&(x.liveStyle=!0),A[S]=D??null}),g.push({animation:A})}let E=!!g.length;return s&&(h.initial===!1||h.initial===h.animate)&&!t.manuallyAnimateOnMount&&(E=!1),s=!1,E?e(g):Promise.resolve()}function u(f,h){if(n[f].isActive===h)return Promise.resolve();t.variantChildren?.forEach(g=>g.animationState?.setActive(f,h)),n[f].isActive=h;const p=c(f);for(const g in n)n[g].protectedKeys={};return p}return{animateChanges:c,setActive:u,setAnimateFunction:a,getState:()=>n,reset:()=>{n=O3()}}}function v9(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!v8(e,t):!1}function mc(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function O3(){return{animate:mc(!0),whileInView:mc(),whileHover:mc(),whileTap:mc(),whileDrag:mc(),whileFocus:mc(),exit:mc()}}class ja{constructor(e){this.isMounted=!1,this.node=e}update(){}}class E9 extends ja{constructor(e){super(e),e.animationState||(e.animationState=b9(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();xm(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let A9=0;class C9 extends ja{constructor(){super(...arguments),this.id=A9++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===s)return;const i=this.node.animationState.setActive("exit",!e);n&&!e&&i.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const S9={animation:{Feature:E9},exit:{Feature:C9}};function wh(t,e,n,s={passive:!0}){return t.addEventListener(e,n,s),()=>t.removeEventListener(e,n)}function ap(t){return{point:{x:t.pageX,y:t.pageY}}}const x9=t=>e=>X2(e)&&t(e,ap(e));function Gd(t,e,n,s){return wh(t,e,x9(n),s)}const A8=1e-4,N9=1-A8,T9=1+A8,C8=.01,_9=0-C8,I9=0+C8;function ts(t){return t.max-t.min}function D9(t,e,n){return Math.abs(t-e)<=n}function M3(t,e,n,s=.5){t.origin=s,t.originPoint=Ht(e.min,e.max,t.origin),t.scale=ts(n)/ts(e),t.translate=Ht(n.min,n.max,t.origin)-t.originPoint,(t.scale>=N9&&t.scale<=T9||isNaN(t.scale))&&(t.scale=1),(t.translate>=_9&&t.translate<=I9||isNaN(t.translate))&&(t.translate=0)}function Yd(t,e,n,s){M3(t.x,e.x,n.x,s?s.originX:void 0),M3(t.y,e.y,n.y,s?s.originY:void 0)}function R3(t,e,n){t.min=n.min+e.min,t.max=t.min+ts(e)}function O9(t,e,n){R3(t.x,e.x,n.x),R3(t.y,e.y,n.y)}function $3(t,e,n){t.min=e.min-n.min,t.max=t.min+ts(e)}function Xd(t,e,n){$3(t.x,e.x,n.x),$3(t.y,e.y,n.y)}function wi(t){return[t("x"),t("y")]}const S8=({current:t})=>t?t.ownerDocument.defaultView:null,U3=(t,e)=>Math.abs(t-e);function M9(t,e){const n=U3(t.x,e.x),s=U3(t.y,e.y);return Math.sqrt(n**2+s**2)}class x8{constructor(e,n,{transformPagePoint:s,contextWindow:i=window,dragSnapToOrigin:a=!1,distanceThreshold:c=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const y=E1(this.lastMoveEventInfo,this.history),b=this.startEvent!==null,v=M9(y.offset,{x:0,y:0})>=this.distanceThreshold;if(!b&&!v)return;const{point:E}=y,{timestamp:A}=Mn;this.history.push({...E,timestamp:A});const{onStart:S,onMove:D}=this.handlers;b||(S&&S(this.lastMoveEvent,y),this.startEvent=this.lastMoveEvent),D&&D(this.lastMoveEvent,y)},this.handlePointerMove=(y,b)=>{this.lastMoveEvent=y,this.lastMoveEventInfo=v1(b,this.transformPagePoint),zt.update(this.updatePoint,!0)},this.handlePointerUp=(y,b)=>{this.end();const{onEnd:v,onSessionEnd:E,resumeAnimation:A}=this.handlers;if(this.dragSnapToOrigin&&A&&A(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const S=E1(y.type==="pointercancel"?this.lastMoveEventInfo:v1(b,this.transformPagePoint),this.history);this.startEvent&&v&&v(y,S),E&&E(y,S)},!X2(e))return;this.dragSnapToOrigin=a,this.handlers=n,this.transformPagePoint=s,this.distanceThreshold=c,this.contextWindow=i||window;const u=ap(e),f=v1(u,this.transformPagePoint),{point:h}=f,{timestamp:p}=Mn;this.history=[{...h,timestamp:p}];const{onSessionStart:g}=n;g&&g(e,E1(f,this.history)),this.removeListeners=ip(Gd(this.contextWindow,"pointermove",this.handlePointerMove),Gd(this.contextWindow,"pointerup",this.handlePointerUp),Gd(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Pa(this.updatePoint)}}function v1(t,e){return e?{point:e(t.point)}:t}function P3(t,e){return{x:t.x-e.x,y:t.y-e.y}}function E1({point:t},e){return{point:t,delta:P3(t,N8(e)),offset:P3(t,R9(e)),velocity:$9(e,.1)}}function R9(t){return t[0]}function N8(t){return t[t.length-1]}function $9(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,s=null;const i=N8(t);for(;n>=0&&(s=t[n],!(i.timestamp-s.timestamp>Sr(e)));)n--;if(!s)return{x:0,y:0};const a=Ai(i.timestamp-s.timestamp);if(a===0)return{x:0,y:0};const c={x:(i.x-s.x)/a,y:(i.y-s.y)/a};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}function U9(t,{min:e,max:n},s){return e!==void 0&&t<e?t=s?Ht(e,t,s.min):Math.max(t,e):n!==void 0&&t>n&&(t=s?Ht(n,t,s.max):Math.min(t,n)),t}function L3(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function P9(t,{top:e,left:n,bottom:s,right:i}){return{x:L3(t.x,n,i),y:L3(t.y,e,s)}}function k3(t,e){let n=e.min-t.min,s=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,s]=[s,n]),{min:n,max:s}}function L9(t,e){return{x:k3(t.x,e.x),y:k3(t.y,e.y)}}function k9(t,e){let n=.5;const s=ts(t),i=ts(e);return i>s?n=hh(e.min,e.max-s,t.min):s>i&&(n=hh(t.min,t.max-i,e.min)),Eo(0,1,n)}function B9(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const cv=.35;function j9(t=cv){return t===!1?t=0:t===!0&&(t=cv),{x:B3(t,"left","right"),y:B3(t,"top","bottom")}}function B3(t,e,n){return{min:j3(t,e),max:j3(t,n)}}function j3(t,e){return typeof t=="number"?t:t[e]||0}const z9=new WeakMap;class H9{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Yt(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:s}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const a=g=>{const{dragSnapToOrigin:y}=this.getProps();y?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(ap(g).point)},c=(g,y)=>{const{drag:b,dragPropagation:v,onDragStart:E}=this.getProps();if(b&&!v&&(this.openDragLock&&this.openDragLock(),this.openDragLock=GP(b),!this.openDragLock))return;this.latestPointerEvent=g,this.latestPanInfo=y,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),wi(S=>{let D=this.getAxisMotionValue(S).get()||0;if(xr.test(D)){const{projection:x}=this.visualElement;if(x&&x.layout){const N=x.layout.layoutBox[S];N&&(D=ts(N)*(parseFloat(D)/100))}}this.originPoint[S]=D}),E&&zt.postRender(()=>E(g,y)),ov(this.visualElement,"transform");const{animationState:A}=this.visualElement;A&&A.setActive("whileDrag",!0)},u=(g,y)=>{this.latestPointerEvent=g,this.latestPanInfo=y;const{dragPropagation:b,dragDirectionLock:v,onDirectionLock:E,onDrag:A}=this.getProps();if(!b&&!this.openDragLock)return;const{offset:S}=y;if(v&&this.currentDirection===null){this.currentDirection=F9(S),this.currentDirection!==null&&E&&E(this.currentDirection);return}this.updateAxis("x",y.point,S),this.updateAxis("y",y.point,S),this.visualElement.render(),A&&A(g,y)},f=(g,y)=>{this.latestPointerEvent=g,this.latestPanInfo=y,this.stop(g,y),this.latestPointerEvent=null,this.latestPanInfo=null},h=()=>wi(g=>this.getAnimationState(g)==="paused"&&this.getAxisMotionValue(g).animation?.play()),{dragSnapToOrigin:p}=this.getProps();this.panSession=new x8(e,{onSessionStart:a,onStart:c,onMove:u,onSessionEnd:f,resumeAnimation:h},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:p,distanceThreshold:s,contextWindow:S8(this.visualElement)})}stop(e,n){const s=e||this.latestPointerEvent,i=n||this.latestPanInfo,a=this.isDragging;if(this.cancel(),!a||!i||!s)return;const{velocity:c}=i;this.startAnimation(c);const{onDragEnd:u}=this.getProps();u&&zt.postRender(()=>u(s,i))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:s}=this.getProps();!s&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,s){const{drag:i}=this.getProps();if(!s||!Wg(e,i,this.currentDirection))return;const a=this.getAxisMotionValue(e);let c=this.originPoint[e]+s[e];this.constraints&&this.constraints[e]&&(c=U9(c,this.constraints[e],this.elastic[e])),a.set(c)}resolveConstraints(){const{dragConstraints:e,dragElastic:n}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,i=this.constraints;e&&Iu(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&s?this.constraints=P9(s.layoutBox,e):this.constraints=!1,this.elastic=j9(n),i!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&wi(a=>{this.constraints!==!1&&this.getAxisMotionValue(a)&&(this.constraints[a]=B9(s.layoutBox[a],this.constraints[a]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Iu(e))return!1;const s=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const a=q7(s,i.root,this.visualElement.getTransformPagePoint());let c=L9(i.layout.layoutBox,a);if(n){const u=n(z7(c));this.hasMutatedConstraints=!!u,u&&(c=l8(u))}return c}startAnimation(e){const{drag:n,dragMomentum:s,dragElastic:i,dragTransition:a,dragSnapToOrigin:c,onDragTransitionEnd:u}=this.getProps(),f=this.constraints||{},h=wi(p=>{if(!Wg(p,n,this.currentDirection))return;let g=f&&f[p]||{};c&&(g={min:0,max:0});const y=i?200:1e6,b=i?40:1e7,v={type:"inertia",velocity:s?e[p]:0,bounceStiffness:y,bounceDamping:b,timeConstant:750,restDelta:1,restSpeed:10,...a,...g};return this.startAxisValueAnimation(p,v)});return Promise.all(h).then(u)}startAxisValueAnimation(e,n){const s=this.getAxisMotionValue(e);return ov(this.visualElement,e),s.start(aE(e,s,0,n,this.visualElement,!1))}stopAnimation(){wi(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){wi(e=>this.getAxisMotionValue(e).animation?.pause())}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,s=this.visualElement.getProps(),i=s[n];return i||this.visualElement.getValue(e,(s.initial?s.initial[e]:void 0)||0)}snapToCursor(e){wi(n=>{const{drag:s}=this.getProps();if(!Wg(n,s,this.currentDirection))return;const{projection:i}=this.visualElement,a=this.getAxisMotionValue(n);if(i&&i.layout){const{min:c,max:u}=i.layout.layoutBox[n];a.set(e[n]-Ht(c,u,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:s}=this.visualElement;if(!Iu(n)||!s||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};wi(c=>{const u=this.getAxisMotionValue(c);if(u&&this.constraints!==!1){const f=u.get();i[c]=k9({min:f,max:f},this.constraints[c])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.resolveConstraints(),wi(c=>{if(!Wg(c,e,null))return;const u=this.getAxisMotionValue(c),{min:f,max:h}=this.constraints[c];u.set(Ht(f,h,i[c]))})}addListeners(){if(!this.visualElement.current)return;z9.set(this.visualElement,this);const e=this.visualElement.current,n=Gd(e,"pointerdown",f=>{const{drag:h,dragListener:p=!0}=this.getProps();h&&p&&this.start(f)}),s=()=>{const{dragConstraints:f}=this.getProps();Iu(f)&&f.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,a=i.addEventListener("measure",s);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),zt.read(s);const c=wh(window,"resize",()=>this.scalePositionWithinConstraints()),u=i.addEventListener("didUpdate",(({delta:f,hasLayoutChanged:h})=>{this.isDragging&&h&&(wi(p=>{const g=this.getAxisMotionValue(p);g&&(this.originPoint[p]+=f[p].translate,g.set(g.get()+f[p].translate))}),this.visualElement.render())}));return()=>{c(),n(),a(),u&&u()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:s=!1,dragPropagation:i=!1,dragConstraints:a=!1,dragElastic:c=cv,dragMomentum:u=!0}=e;return{...e,drag:n,dragDirectionLock:s,dragPropagation:i,dragConstraints:a,dragElastic:c,dragMomentum:u}}}function Wg(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function F9(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class q9 extends ja{constructor(e){super(e),this.removeGroupControls=Si,this.removeListeners=Si,this.controls=new H9(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Si}unmount(){this.removeGroupControls(),this.removeListeners()}}const z3=t=>(e,n)=>{t&&zt.postRender(()=>t(e,n))};class V9 extends ja{constructor(){super(...arguments),this.removePointerDownListener=Si}onPointerDown(e){this.session=new x8(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:S8(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:s,onPanEnd:i}=this.node.getProps();return{onSessionStart:z3(e),onStart:z3(n),onMove:s,onEnd:(a,c)=>{delete this.session,i&&zt.postRender(()=>i(a,c))}}}mount(){this.removePointerDownListener=Gd(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const O0={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function H3(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const gd={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Be.test(t))t=parseFloat(t);else return t;const n=H3(t,e.target.x),s=H3(t,e.target.y);return`${n}% ${s}%`}},W9={correct:(t,{treeScale:e,projectionDelta:n})=>{const s=t,i=La.parse(t);if(i.length>5)return s;const a=La.createTransformer(t),c=typeof i[0]!="number"?1:0,u=n.x.scale*e.x,f=n.y.scale*e.y;i[0+c]/=u,i[1+c]/=f;const h=Ht(u,f,.5);return typeof i[2+c]=="number"&&(i[2+c]/=h),typeof i[3+c]=="number"&&(i[3+c]/=h),a(i)}};let A1=!1;class K9 extends me.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:s,layoutId:i}=this.props,{projection:a}=e;g7(G9),a&&(n.group&&n.group.add(a),s&&s.register&&i&&s.register(a),A1&&a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),O0.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:s,drag:i,isPresent:a}=this.props,{projection:c}=s;return c&&(c.isPresent=a,A1=!0,i||e.layoutDependency!==n||n===void 0||e.isPresent!==a?c.willUpdate():this.safeToRemove(),e.isPresent!==a&&(a?c.promote():c.relegate()||zt.postRender(()=>{const u=c.getStack();(!u||!u.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Y2.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:s}=this.props,{projection:i}=e;A1=!0,i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),s&&s.deregister&&s.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function T8(t){const[e,n]=YI(),s=me.useContext(T2);return X.jsx(K9,{...t,layoutGroup:s,switchLayoutGroup:me.useContext(a8),isPresent:e,safeToRemove:n})}const G9={borderRadius:{...gd,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:gd,borderTopRightRadius:gd,borderBottomLeftRadius:gd,borderBottomRightRadius:gd,boxShadow:W9};function Y9(t,e,n){const s=Xn(t)?t:qu(t);return s.start(aE("",s,e,n)),s.animation}const X9=(t,e)=>t.depth-e.depth;class Q9{constructor(){this.children=[],this.isDirty=!1}add(e){D2(this.children,e),this.isDirty=!0}remove(e){O2(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(X9),this.isDirty=!1,this.children.forEach(e)}}function Z9(t,e){const n=xs.now(),s=({timestamp:i})=>{const a=i-n;a>=e&&(Pa(s),t(a-e))};return zt.setup(s,!0),()=>Pa(s)}const _8=["TopLeft","TopRight","BottomLeft","BottomRight"],J9=_8.length,F3=t=>typeof t=="string"?parseFloat(t):t,q3=t=>typeof t=="number"||Be.test(t);function eL(t,e,n,s,i,a){i?(t.opacity=Ht(0,n.opacity??1,tL(s)),t.opacityExit=Ht(e.opacity??1,0,nL(s))):a&&(t.opacity=Ht(e.opacity??1,n.opacity??1,s));for(let c=0;c<J9;c++){const u=`border${_8[c]}Radius`;let f=V3(e,u),h=V3(n,u);if(f===void 0&&h===void 0)continue;f||(f=0),h||(h=0),f===0||h===0||q3(f)===q3(h)?(t[u]=Math.max(Ht(F3(f),F3(h),s),0),(xr.test(h)||xr.test(f))&&(t[u]+="%")):t[u]=h}(e.rotate||n.rotate)&&(t.rotate=Ht(e.rotate||0,n.rotate||0,s))}function V3(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const tL=I8(0,.5,gI),nL=I8(.5,.95,Si);function I8(t,e,n){return s=>s<t?0:s>e?1:n(hh(t,e,s))}function W3(t,e){t.min=e.min,t.max=e.max}function fi(t,e){W3(t.x,e.x),W3(t.y,e.y)}function K3(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function G3(t,e,n,s,i){return t-=e,t=X0(t,1/n,s),i!==void 0&&(t=X0(t,1/i,s)),t}function sL(t,e=0,n=1,s=.5,i,a=t,c=t){if(xr.test(e)&&(e=parseFloat(e),e=Ht(c.min,c.max,e/100)-c.min),typeof e!="number")return;let u=Ht(a.min,a.max,s);t===a&&(u-=e),t.min=G3(t.min,e,n,u,i),t.max=G3(t.max,e,n,u,i)}function Y3(t,e,[n,s,i],a,c){sL(t,e[n],e[s],e[i],e.scale,a,c)}const iL=["x","scaleX","originX"],rL=["y","scaleY","originY"];function X3(t,e,n,s){Y3(t.x,e,iL,n?n.x:void 0,s?s.x:void 0),Y3(t.y,e,rL,n?n.y:void 0,s?s.y:void 0)}function Q3(t){return t.translate===0&&t.scale===1}function D8(t){return Q3(t.x)&&Q3(t.y)}function Z3(t,e){return t.min===e.min&&t.max===e.max}function oL(t,e){return Z3(t.x,e.x)&&Z3(t.y,e.y)}function J3(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function O8(t,e){return J3(t.x,e.x)&&J3(t.y,e.y)}function e4(t){return ts(t.x)/ts(t.y)}function t4(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class aL{constructor(){this.members=[]}add(e){D2(this.members,e),e.scheduleRender()}remove(e){if(O2(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let s;for(let i=n;i>=0;i--){const a=this.members[i];if(a.isPresent!==!1){s=a;break}}return s?(this.promote(s),!0):!1}promote(e,n){const s=this.lead;if(e!==s&&(this.prevLead=s,this.lead=e,e.show(),s)){s.instance&&s.scheduleRender(),e.scheduleRender(),e.resumeFrom=s,n&&(e.resumeFrom.preserveOpacity=!0),s.snapshot&&(e.snapshot=s.snapshot,e.snapshot.latestValues=s.animationValues||s.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:s}=e;n.onExitComplete&&n.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function cL(t,e,n){let s="";const i=t.x.translate/e.x,a=t.y.translate/e.y,c=n?.z||0;if((i||a||c)&&(s=`translate3d(${i}px, ${a}px, ${c}px) `),(e.x!==1||e.y!==1)&&(s+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:h,rotate:p,rotateX:g,rotateY:y,skewX:b,skewY:v}=n;h&&(s=`perspective(${h}px) ${s}`),p&&(s+=`rotate(${p}deg) `),g&&(s+=`rotateX(${g}deg) `),y&&(s+=`rotateY(${y}deg) `),b&&(s+=`skewX(${b}deg) `),v&&(s+=`skewY(${v}deg) `)}const u=t.x.scale*e.x,f=t.y.scale*e.y;return(u!==1||f!==1)&&(s+=`scale(${u}, ${f})`),s||"none"}const C1=["","X","Y","Z"],lL=1e3;let uL=0;function S1(t,e,n,s){const{latestValues:i}=e;i[t]&&(n[t]=i[t],e.setStaticValue(t,0),s&&(s[t]=0))}function M8(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=y8(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:a}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",zt,!(i||a))}const{parent:s}=t;s&&!s.hasCheckedOptimisedAppear&&M8(s)}function R8({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:s,resetTransform:i}){return class{constructor(c={},u=e?.()){this.id=uL++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(hL),this.nodes.forEach(yL),this.nodes.forEach(wL),this.nodes.forEach(pL)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=u?u.root||u:this,this.path=u?[...u.path,u]:[],this.parent=u,this.depth=u?u.depth+1:0;for(let f=0;f<this.path.length;f++)this.path[f].shouldResetTransform=!0;this.root===this&&(this.nodes=new Q9)}addEventListener(c,u){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new $2),this.eventHandlers.get(c).add(u)}notifyListeners(c,...u){const f=this.eventHandlers.get(c);f&&f.notify(...u)}hasListeners(c){return this.eventHandlers.has(c)}mount(c){if(this.instance)return;this.isSVG=GI(c)&&!e7(c),this.instance=c;const{layoutId:u,layout:f,visualElement:h}=this.options;if(h&&!h.current&&h.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(f||u)&&(this.isLayoutDirty=!0),t){let p,g=0;const y=()=>this.root.updateBlockedByResize=!1;zt.read(()=>{g=window.innerWidth}),t(c,()=>{const b=window.innerWidth;b!==g&&(g=b,this.root.updateBlockedByResize=!0,p&&p(),p=Z9(y,250),O0.hasAnimatedSinceResize&&(O0.hasAnimatedSinceResize=!1,this.nodes.forEach(i4)))})}u&&this.root.registerSharedNode(u,this),this.options.animate!==!1&&h&&(u||f)&&this.addEventListener("didUpdate",({delta:p,hasLayoutChanged:g,hasRelativeLayoutChanged:y,layout:b})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const v=this.options.transition||h.getDefaultTransition()||CL,{onLayoutAnimationStart:E,onLayoutAnimationComplete:A}=h.getProps(),S=!this.targetLayout||!O8(this.targetLayout,b),D=!g&&y;if(this.options.layoutRoot||this.resumeFrom||D||g&&(S||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const x={...K2(v,"layout"),onPlay:E,onComplete:A};(h.shouldReduceMotion||this.options.layoutRoot)&&(x.delay=0,x.type=!1),this.startAnimation(x),this.setAnimationOrigin(p,D)}else g||i4(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=b})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Pa(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(bL),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&M8(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let p=0;p<this.path.length;p++){const g=this.path[p];g.shouldResetTransform=!0,g.updateScroll("snapshot"),g.options.layoutRoot&&g.willUpdate(!1)}const{layoutId:u,layout:f}=this.options;if(u===void 0&&!f)return;const h=this.getTransformTemplate();this.prevTransformTemplateValue=h?h(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(n4);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(s4);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(mL),this.nodes.forEach(fL),this.nodes.forEach(dL)):this.nodes.forEach(s4),this.clearAllSnapshots();const u=xs.now();Mn.delta=Eo(0,1e3/60,u-Mn.timestamp),Mn.timestamp=u,Mn.isProcessing=!0,d1.update.process(Mn),d1.preRender.process(Mn),d1.render.process(Mn),Mn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Y2.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(gL),this.sharedNodes.forEach(vL)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,zt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){zt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!ts(this.snapshot.measuredBox.x)&&!ts(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let f=0;f<this.path.length;f++)this.path[f].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Yt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:u}=this.options;u&&u.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let u=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(u=!1),u&&this.instance){const f=s(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:f,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:f}}}resetTransform(){if(!i)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,u=this.projectionDelta&&!D8(this.projectionDelta),f=this.getTransformTemplate(),h=f?f(this.latestValues,""):void 0,p=h!==this.prevTransformTemplateValue;c&&this.instance&&(u||Tc(this.latestValues)||p)&&(i(this.instance,h),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const u=this.measurePageBox();let f=this.removeElementScroll(u);return c&&(f=this.removeTransform(f)),SL(f),{animationId:this.root.animationId,measuredBox:u,layoutBox:f,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:c}=this.options;if(!c)return Yt();const u=c.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(xL))){const{scroll:h}=this.root;h&&(Du(u.x,h.offset.x),Du(u.y,h.offset.y))}return u}removeElementScroll(c){const u=Yt();if(fi(u,c),this.scroll?.wasRoot)return u;for(let f=0;f<this.path.length;f++){const h=this.path[f],{scroll:p,options:g}=h;h!==this.root&&p&&g.layoutScroll&&(p.wasRoot&&fi(u,c),Du(u.x,p.offset.x),Du(u.y,p.offset.y))}return u}applyTransform(c,u=!1){const f=Yt();fi(f,c);for(let h=0;h<this.path.length;h++){const p=this.path[h];!u&&p.options.layoutScroll&&p.scroll&&p!==p.root&&Ou(f,{x:-p.scroll.offset.x,y:-p.scroll.offset.y}),Tc(p.latestValues)&&Ou(f,p.latestValues)}return Tc(this.latestValues)&&Ou(f,this.latestValues),f}removeTransform(c){const u=Yt();fi(u,c);for(let f=0;f<this.path.length;f++){const h=this.path[f];if(!h.instance||!Tc(h.latestValues))continue;nv(h.latestValues)&&h.updateSnapshot();const p=Yt(),g=h.measurePageBox();fi(p,g),X3(u,h.latestValues,h.snapshot?h.snapshot.layoutBox:void 0,p)}return Tc(this.latestValues)&&X3(u,this.latestValues),u}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Mn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){const u=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=u.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=u.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=u.isSharedProjectionDirty);const f=!!this.resumingFrom||this!==u;if(!(c||f&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:p,layoutId:g}=this.options;if(!(!this.layout||!(p||g))){if(this.resolvedRelativeTargetAt=Mn.timestamp,!this.targetDelta&&!this.relativeTarget){const y=this.getClosestProjectingParent();y&&y.layout&&this.animationProgress!==1?(this.relativeParent=y,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Yt(),this.relativeTargetOrigin=Yt(),Xd(this.relativeTargetOrigin,this.layout.layoutBox,y.layout.layoutBox),fi(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Yt(),this.targetWithTransforms=Yt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),O9(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):fi(this.target,this.layout.layoutBox),f8(this.target,this.targetDelta)):fi(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const y=this.getClosestProjectingParent();y&&!!y.resumingFrom==!!this.resumingFrom&&!y.options.layoutScroll&&y.target&&this.animationProgress!==1?(this.relativeParent=y,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Yt(),this.relativeTargetOrigin=Yt(),Xd(this.relativeTargetOrigin,this.target,y.target),fi(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||nv(this.parent.latestValues)||u8(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const c=this.getLead(),u=!!this.resumingFrom||this!==c;let f=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(f=!1),u&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(f=!1),this.resolvedRelativeTargetAt===Mn.timestamp&&(f=!1),f)return;const{layout:h,layoutId:p}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(h||p))return;fi(this.layoutCorrected,this.layout.layoutBox);const g=this.treeScale.x,y=this.treeScale.y;F7(this.layoutCorrected,this.treeScale,this.path,u),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=Yt());const{target:b}=c;if(!b){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(K3(this.prevProjectionDelta.x,this.projectionDelta.x),K3(this.prevProjectionDelta.y,this.projectionDelta.y)),Yd(this.projectionDelta,this.layoutCorrected,b,this.latestValues),(this.treeScale.x!==g||this.treeScale.y!==y||!t4(this.projectionDelta.x,this.prevProjectionDelta.x)||!t4(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",b))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){if(this.options.visualElement?.scheduleRender(),c){const u=this.getStack();u&&u.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Mu(),this.projectionDelta=Mu(),this.projectionDeltaWithTransform=Mu()}setAnimationOrigin(c,u=!1){const f=this.snapshot,h=f?f.latestValues:{},p={...this.latestValues},g=Mu();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!u;const y=Yt(),b=f?f.source:void 0,v=this.layout?this.layout.source:void 0,E=b!==v,A=this.getStack(),S=!A||A.members.length<=1,D=!!(E&&!S&&this.options.crossfade===!0&&!this.path.some(AL));this.animationProgress=0;let x;this.mixTargetDelta=N=>{const T=N/1e3;r4(g.x,c.x,T),r4(g.y,c.y,T),this.setTargetDelta(g),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Xd(y,this.layout.layoutBox,this.relativeParent.layout.layoutBox),EL(this.relativeTarget,this.relativeTargetOrigin,y,T),x&&oL(this.relativeTarget,x)&&(this.isProjectionDirty=!1),x||(x=Yt()),fi(x,this.relativeTarget)),E&&(this.animationValues=p,eL(p,h,this.latestValues,T,D,S)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=T},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(Pa(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=zt.update(()=>{O0.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=qu(0)),this.currentAnimation=Y9(this.motionValue,[0,1e3],{...c,velocity:0,isSync:!0,onUpdate:u=>{this.mixTargetDelta(u),c.onUpdate&&c.onUpdate(u)},onStop:()=>{},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(lL),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:u,target:f,layout:h,latestValues:p}=c;if(!(!u||!f||!h)){if(this!==c&&this.layout&&h&&$8(this.options.animationType,this.layout.layoutBox,h.layoutBox)){f=this.target||Yt();const g=ts(this.layout.layoutBox.x);f.x.min=c.target.x.min,f.x.max=f.x.min+g;const y=ts(this.layout.layoutBox.y);f.y.min=c.target.y.min,f.y.max=f.y.min+y}fi(u,f),Ou(u,p),Yd(this.projectionDeltaWithTransform,this.layoutCorrected,u,p)}}registerSharedNode(c,u){this.sharedNodes.has(c)||this.sharedNodes.set(c,new aL),this.sharedNodes.get(c).add(u);const h=u.options.initialPromotionConfig;u.promote({transition:h?h.transition:void 0,preserveFollowOpacity:h&&h.shouldPreserveFollowOpacity?h.shouldPreserveFollowOpacity(u):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){const{layoutId:c}=this.options;return c?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:c}=this.options;return c?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:u,preserveFollowOpacity:f}={}){const h=this.getStack();h&&h.promote(this,f),c&&(this.projectionDelta=void 0,this.needsReset=!0),u&&this.setOptions({transition:u})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let u=!1;const{latestValues:f}=c;if((f.z||f.rotate||f.rotateX||f.rotateY||f.rotateZ||f.skewX||f.skewY)&&(u=!0),!u)return;const h={};f.z&&S1("z",c,h,this.animationValues);for(let p=0;p<C1.length;p++)S1(`rotate${C1[p]}`,c,h,this.animationValues),S1(`skew${C1[p]}`,c,h,this.animationValues);c.render();for(const p in h)c.setStaticValue(p,h[p]),this.animationValues&&(this.animationValues[p]=h[p]);c.scheduleRender()}applyProjectionStyles(c,u){if(!this.instance||this.isSVG)return;if(!this.isVisible){c.visibility="hidden";return}const f=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,c.visibility="",c.opacity="",c.pointerEvents=D0(u?.pointerEvents)||"",c.transform=f?f(this.latestValues,""):"none";return}const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){this.options.layoutId&&(c.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,c.pointerEvents=D0(u?.pointerEvents)||""),this.hasProjected&&!Tc(this.latestValues)&&(c.transform=f?f({},""):"none",this.hasProjected=!1);return}c.visibility="";const p=h.animationValues||h.latestValues;this.applyTransformsToTarget();let g=cL(this.projectionDeltaWithTransform,this.treeScale,p);f&&(g=f(p,g)),c.transform=g;const{x:y,y:b}=this.projectionDelta;c.transformOrigin=`${y.origin*100}% ${b.origin*100}% 0`,h.animationValues?c.opacity=h===this?p.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:p.opacityExit:c.opacity=h===this?p.opacity!==void 0?p.opacity:"":p.opacityExit!==void 0?p.opacityExit:0;for(const v in yh){if(p[v]===void 0)continue;const{correct:E,applyTo:A,isCSSVariable:S}=yh[v],D=g==="none"?p[v]:E(p[v],h);if(A){const x=A.length;for(let N=0;N<x;N++)c[A[N]]=D}else S?this.options.visualElement.renderState.vars[v]=D:c[v]=D}this.options.layoutId&&(c.pointerEvents=h===this?D0(u?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>c.currentAnimation?.stop()),this.root.nodes.forEach(n4),this.root.sharedNodes.clear()}}}function fL(t){t.updateLayout()}function dL(t){const e=t.resumeFrom?.snapshot||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:s}=t.layout,{animationType:i}=t.options,a=e.source!==t.layout.source;i==="size"?wi(p=>{const g=a?e.measuredBox[p]:e.layoutBox[p],y=ts(g);g.min=n[p].min,g.max=g.min+y}):$8(i,e.layoutBox,n)&&wi(p=>{const g=a?e.measuredBox[p]:e.layoutBox[p],y=ts(n[p]);g.max=g.min+y,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[p].max=t.relativeTarget[p].min+y)});const c=Mu();Yd(c,n,e.layoutBox);const u=Mu();a?Yd(u,t.applyTransform(s,!0),e.measuredBox):Yd(u,n,e.layoutBox);const f=!D8(c);let h=!1;if(!t.resumeFrom){const p=t.getClosestProjectingParent();if(p&&!p.resumeFrom){const{snapshot:g,layout:y}=p;if(g&&y){const b=Yt();Xd(b,e.layoutBox,g.layoutBox);const v=Yt();Xd(v,n,y.layoutBox),O8(b,v)||(h=!0),p.options.layoutRoot&&(t.relativeTarget=v,t.relativeTargetOrigin=b,t.relativeParent=p)}}}t.notifyListeners("didUpdate",{layout:n,snapshot:e,delta:u,layoutDelta:c,hasLayoutChanged:f,hasRelativeLayoutChanged:h})}else if(t.isLead()){const{onExitComplete:n}=t.options;n&&n()}t.options.transition=void 0}function hL(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function pL(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function gL(t){t.clearSnapshot()}function n4(t){t.clearMeasurements()}function s4(t){t.isLayoutDirty=!1}function mL(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function i4(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function yL(t){t.resolveTargetDelta()}function wL(t){t.calcProjection()}function bL(t){t.resetSkewAndRotation()}function vL(t){t.removeLeadSnapshot()}function r4(t,e,n){t.translate=Ht(e.translate,0,n),t.scale=Ht(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function o4(t,e,n,s){t.min=Ht(e.min,n.min,s),t.max=Ht(e.max,n.max,s)}function EL(t,e,n,s){o4(t.x,e.x,n.x,s),o4(t.y,e.y,n.y,s)}function AL(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const CL={duration:.45,ease:[.4,0,.1,1]},a4=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),c4=a4("applewebkit/")&&!a4("chrome/")?Math.round:Si;function l4(t){t.min=c4(t.min),t.max=c4(t.max)}function SL(t){l4(t.x),l4(t.y)}function $8(t,e,n){return t==="position"||t==="preserve-aspect"&&!D9(e4(e),e4(n),.2)}function xL(t){return t!==t.root&&t.scroll?.wasRoot}const NL=R8({attachResizeListener:(t,e)=>wh(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),x1={current:void 0},U8=R8({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!x1.current){const t=new NL({});t.mount(window),t.setOptions({layoutScroll:!0}),x1.current=t}return x1.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),TL={pan:{Feature:V9},drag:{Feature:q9,ProjectionNode:U8,MeasureLayout:T8}};function u4(t,e,n){const{props:s}=t;t.animationState&&s.whileHover&&t.animationState.setActive("whileHover",n==="Start");const i="onHover"+n,a=s[i];a&&zt.postRender(()=>a(e,ap(e)))}class _L extends ja{mount(){const{current:e}=this.node;e&&(this.unmount=YP(e,(n,s)=>(u4(this.node,s,"Start"),i=>u4(this.node,i,"End"))))}unmount(){}}class IL extends ja{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=ip(wh(this.node.current,"focus",()=>this.onFocus()),wh(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function f4(t,e,n){const{props:s}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&s.whileTap&&t.animationState.setActive("whileTap",n==="Start");const i="onTap"+(n==="End"?"":n),a=s[i];a&&zt.postRender(()=>a(e,ap(e)))}class DL extends ja{mount(){const{current:e}=this.node;e&&(this.unmount=JP(e,(n,s)=>(f4(this.node,s,"Start"),(i,{success:a})=>f4(this.node,i,a?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const lv=new WeakMap,N1=new WeakMap,OL=t=>{const e=lv.get(t.target);e&&e(t)},ML=t=>{t.forEach(OL)};function RL({root:t,...e}){const n=t||document;N1.has(n)||N1.set(n,{});const s=N1.get(n),i=JSON.stringify(e);return s[i]||(s[i]=new IntersectionObserver(ML,{root:t,...e})),s[i]}function $L(t,e,n){const s=RL(e);return lv.set(t,n),s.observe(t),()=>{lv.delete(t),s.unobserve(t)}}const UL={some:0,all:1};class PL extends ja{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:s,amount:i="some",once:a}=e,c={root:n?n.current:void 0,rootMargin:s,threshold:typeof i=="number"?i:UL[i]},u=f=>{const{isIntersecting:h}=f;if(this.isInView===h||(this.isInView=h,a&&!h&&this.hasEnteredView))return;h&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",h);const{onViewportEnter:p,onViewportLeave:g}=this.node.getProps(),y=h?p:g;y&&y(f)};return $L(this.node.current,c,u)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(LL(e,n))&&this.startObserver()}unmount(){}}function LL({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const kL={inView:{Feature:PL},tap:{Feature:DL},focus:{Feature:IL},hover:{Feature:_L}},BL={layout:{ProjectionNode:U8,MeasureLayout:T8}},jL={...S9,...kL,...TL,...BL},Ve=j7(jL,J7);var P8={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},d4=yo.createContext&&yo.createContext(P8),zL=["attr","size","title"];function HL(t,e){if(t==null)return{};var n=FL(t,e),s,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)s=a[i],!(e.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(t,s)&&(n[s]=t[s])}return n}function FL(t,e){if(t==null)return{};var n={};for(var s in t)if(Object.prototype.hasOwnProperty.call(t,s)){if(e.indexOf(s)>=0)continue;n[s]=t[s]}return n}function Q0(){return Q0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},Q0.apply(this,arguments)}function h4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,s)}return n}function Z0(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?h4(Object(n),!0).forEach(function(s){qL(t,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):h4(Object(n)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(n,s))})}return t}function qL(t,e,n){return e=VL(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function VL(t){var e=WL(t,"string");return typeof e=="symbol"?e:e+""}function WL(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var s=n.call(t,e);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function L8(t){return t&&t.map((e,n)=>yo.createElement(e.tag,Z0({key:n},e.attr),L8(e.child)))}function _s(t){return e=>yo.createElement(KL,Q0({attr:Z0({},t.attr)},e),L8(t.child))}function KL(t){var e=n=>{var{attr:s,size:i,title:a}=t,c=HL(t,zL),u=i||n.size||"1em",f;return n.className&&(f=n.className),t.className&&(f=(f?f+" ":"")+t.className),yo.createElement("svg",Q0({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,s,c,{className:f,style:Z0(Z0({color:t.color||n.color},n.style),t.style),height:u,width:u,xmlns:"http://www.w3.org/2000/svg"}),a&&yo.createElement("title",null,a),t.children)};return d4!==void 0?yo.createElement(d4.Consumer,null,n=>e(n)):e(P8)}function k8(t){return _s({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M440.5 88.5l-52 52L415 167c9.4 9.4 9.4 24.6 0 33.9l-17.4 17.4c11.8 26.1 18.4 55.1 18.4 85.6 0 114.9-93.1 208-208 208S0 418.9 0 304 93.1 96 208 96c30.5 0 59.5 6.6 85.6 18.4L311 97c9.4-9.4 24.6-9.4 33.9 0l26.5 26.5 52-52 17.1 17zM500 60h-24c-6.6 0-12 5.4-12 12s5.4 12 12 12h24c6.6 0 12-5.4 12-12s-5.4-12-12-12zM440 0c-6.6 0-12 5.4-12 12v24c0 6.6 5.4 12 12 12s12-5.4 12-12V12c0-6.6-5.4-12-12-12zm33.9 55l17-17c4.7-4.7 4.7-12.3 0-17-4.7-4.7-12.3-4.7-17 0l-17 17c-4.7 4.7-4.7 12.3 0 17 4.8 4.7 12.4 4.7 17 0zm-67.8 0c4.7 4.7 12.3 4.7 17 0 4.7-4.7 4.7-12.3 0-17l-17-17c-4.7-4.7-12.3-4.7-17 0-4.7 4.7-4.7 12.3 0 17l17 17zm67.8 34c-4.7-4.7-12.3-4.7-17 0-4.7 4.7-4.7 12.3 0 17l17 17c4.7 4.7 12.3 4.7 17 0 4.7-4.7 4.7-12.3 0-17l-17-17zM112 272c0-35.3 28.7-64 64-64 8.8 0 16-7.2 16-16s-7.2-16-16-16c-52.9 0-96 43.1-96 96 0 8.8 7.2 16 16 16s16-7.2 16-16z"},child:[]}]})(t)}function cE(t){return _s({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M0 405.3V448c0 35.3 86 64 192 64s192-28.7 192-64v-42.7C342.7 434.4 267.2 448 192 448S41.3 434.4 0 405.3zM320 128c106 0 192-28.7 192-64S426 0 320 0 128 28.7 128 64s86 64 192 64zM0 300.4V352c0 35.3 86 64 192 64s192-28.7 192-64v-51.6c-41.3 34-116.9 51.6-192 51.6S41.3 334.4 0 300.4zm416 11c57.3-11.1 96-31.7 96-55.4v-42.7c-23.2 16.4-57.3 27.6-96 34.5v63.6zM192 160C86 160 0 195.8 0 240s86 80 192 80 192-35.8 192-80-86-80-192-80zm219.3 56.3c60-10.8 100.7-32 100.7-56.3v-42.7c-35.5 25.1-96.5 38.6-160.7 41.8 29.5 14.3 51.2 33.5 60 57.2z"},child:[]}]})(t)}function p4(t){return _s({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M480.07 96H160a160 160 0 1 0 114.24 272h91.52A160 160 0 1 0 480.07 96zM248 268a12 12 0 0 1-12 12h-52v52a12 12 0 0 1-12 12h-24a12 12 0 0 1-12-12v-52H84a12 12 0 0 1-12-12v-24a12 12 0 0 1 12-12h52v-52a12 12 0 0 1 12-12h24a12 12 0 0 1 12 12v52h52a12 12 0 0 1 12 12zm216 76a40 40 0 1 1 40-40 40 40 0 0 1-40 40zm64-96a40 40 0 1 1 40-40 40 40 0 0 1-40 40z"},child:[]}]})(t)}function GL(t){return _s({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M280.37 148.26L96 300.11V464a16 16 0 0 0 16 16l112.06-.29a16 16 0 0 0 15.92-16V368a16 16 0 0 1 16-16h64a16 16 0 0 1 16 16v95.64a16 16 0 0 0 16 16.05L464 480a16 16 0 0 0 16-16V300L295.67 148.26a12.19 12.19 0 0 0-15.3 0zM571.6 251.47L488 182.56V44.05a12 12 0 0 0-12-12h-56a12 12 0 0 0-12 12v72.61L318.47 43a48 48 0 0 0-61 0L4.34 251.47a12 12 0 0 0-1.6 16.9l25.5 31A12 12 0 0 0 45.15 301l235.22-193.74a12.19 12.19 0 0 1 15.3 0L530.9 301a12 12 0 0 0 16.9-1.6l25.5-31a12 12 0 0 0-1.7-16.93z"},child:[]}]})(t)}function YL(t){return _s({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M500.33 0h-47.41a12 12 0 0 0-12 12.57l4 82.76A247.42 247.42 0 0 0 256 8C119.34 8 7.9 119.53 8 256.19 8.1 393.07 119.1 504 256 504a247.1 247.1 0 0 0 166.18-63.91 12 12 0 0 0 .48-17.43l-34-34a12 12 0 0 0-16.38-.55A176 176 0 1 1 402.1 157.8l-101.53-4.87a12 12 0 0 0-12.57 12v47.41a12 12 0 0 0 12 12h200.33a12 12 0 0 0 12-12V12a12 12 0 0 0-12-12z"},child:[]}]})(t)}function XL(t){return _s({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M304 48c0 26.51-21.49 48-48 48s-48-21.49-48-48 21.49-48 48-48 48 21.49 48 48zm-48 368c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zm208-208c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zM96 256c0-26.51-21.49-48-48-48S0 229.49 0 256s21.49 48 48 48 48-21.49 48-48zm12.922 99.078c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48c0-26.509-21.491-48-48-48zm294.156 0c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48c0-26.509-21.49-48-48-48zM108.922 60.922c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.491-48-48-48z"},child:[]}]})(t)}function QL(t){return _s({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M259.3 17.8L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0z"},child:[]}]})(t)}function ZL(t){return _s({attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"},child:[]}]})(t)}function JL(t){return _s({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M552 64H448V24c0-13.3-10.7-24-24-24H152c-13.3 0-24 10.7-24 24v40H24C10.7 64 0 74.7 0 88v56c0 35.7 22.5 72.4 61.9 100.7 31.5 22.7 69.8 37.1 110 41.7C203.3 338.5 240 360 240 360v72h-48c-35.3 0-64 20.7-64 56v12c0 6.6 5.4 12 12 12h296c6.6 0 12-5.4 12-12v-12c0-35.3-28.7-56-64-56h-48v-72s36.7-21.5 68.1-73.6c40.3-4.6 78.6-19 110-41.7 39.3-28.3 61.9-65 61.9-100.7V88c0-13.3-10.7-24-24-24zM99.3 192.8C74.9 175.2 64 155.6 64 144v-16h64.2c1 32.6 5.8 61.2 12.8 86.2-15.1-5.2-29.2-12.4-41.7-21.4zM512 144c0 16.1-17.7 36.1-35.3 48.8-12.5 9-26.7 16.2-41.8 21.4 7-25 11.8-53.6 12.8-86.2H512v16z"},child:[]}]})(t)}function ek(t){return _s({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M461.2 128H80c-8.84 0-16-7.16-16-16s7.16-16 16-16h384c8.84 0 16-7.16 16-16 0-26.51-21.49-48-48-48H64C28.65 32 0 60.65 0 96v320c0 35.35 28.65 64 64 64h397.2c28.02 0 50.8-21.53 50.8-48V176c0-26.47-22.78-48-50.8-48zM416 336c-17.67 0-32-14.33-32-32s14.33-32 32-32 32 14.33 32 32-14.33 32-32 32z"},child:[]}]})(t)}function lE(t){return _s({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M258.396 21.375l-17.503 64.1c-1.133 2.452-1.782 5.172-1.782 8.05 0 10.634 8.62 19.256 19.255 19.256 10.634 0 19.256-8.62 19.256-19.255 0-.72-.045-1.426-.122-2.125h.022l-.05-.18c-.23-1.917-.737-3.746-1.488-5.45l-17.586-64.395zm118.21 31.494l-46.21 45.77c-6.03 3.254-10.126 9.626-10.126 16.956 0 10.633 8.622 19.254 19.255 19.254.668 0 1.327-.034 1.977-.1 7.608 5.175 14.85 11.125 21.6 17.875 57.872 57.872 57.87 151.418 0 209.29-6.75 6.747-13.99 12.694-21.594 17.868-.65-.066-1.308-.1-1.975-.1-10.634 0-19.256 8.623-19.256 19.256 0 7.006 3.757 13.12 9.352 16.49l46.694 46.252-18.545-70.55c6.468-4.81 12.67-10.137 18.536-16.003l6.608-6.61-.334-.332c3.252-3.637 6.305-7.388 9.183-11.23l71.057 18.68-51.63-52.126c6.54-15.08 10.757-30.926 12.636-46.996l70.61-19.282-70.56-19.267c-1.82-15.925-5.937-31.633-12.343-46.59l51.234-51.727-70.318 18.483c-4.842-6.536-10.22-12.8-16.144-18.723-5.794-5.794-11.916-11.063-18.298-15.824l18.587-70.717zm-236.307.005l17.112 65.107c.218 1.76.662 3.45 1.322 5.032l.153.582c-6.38 4.76-12.498 10.023-18.29 15.814-5.92 5.92-11.294 12.18-16.136 18.715L54.024 139.61l51.31 51.802c-6.41 14.945-10.535 30.64-12.376 46.553l-70.562 19.27L92.95 276.5c1.856 16.108 6.06 31.994 12.595 47.105l-51.574 52.07 70.952-18.648c4.722 6.312 9.94 12.368 15.676 18.102 5.815 5.814 11.96 11.102 18.367 15.876-1.004 2.215-1.613 4.646-1.707 7.213l-16.678 63.456 48.91-48.447-.037-.08c3.86-3.52 6.297-8.575 6.297-14.21 0-10.634-8.622-19.256-19.256-19.256-.395 0-.786.015-1.176.04-7.573-5.16-14.783-11.088-21.506-17.81-57.872-57.872-57.872-151.417 0-209.29 6.725-6.723 13.938-12.65 21.514-17.81.39.022.782.036 1.178.036 10.634 0 19.254-8.62 19.254-19.254 0-6.22-2.963-11.736-7.54-15.256L140.3 52.875zm127.436 89.87v49.02l33.602 19.292 46.18-25.045-79.782-43.268zm-18.69.312l-79.722 42.957 46.31 24.955 33.413-19.062v-48.85zM159.9 202.164v114.012l46.346-24.975v-64.063L159.9 202.164zm196.985.027l-46.342 25.134v63.7l46.342 25.136V202.19zm-98.367 5.83l-33.584 19.158v64.285l33.584 19.162 33.336-19.145v-64.318l-33.336-19.14zm43.082 99.416l-33.864 19.445v47.056l78.24-42.432-44.376-24.068zm-86.24.084l-44.495 23.976 78.182 42.127v-46.885L215.36 307.52zm43.005 94.234c-10.634 0-19.254 8.622-19.254 19.256 0 2.74.582 5.342 1.615 7.703l17.67 64.713 17.787-65.12c.57-1.39.965-2.86 1.197-4.388l.06-.23h-.026c.122-.878.207-1.767.207-2.678 0-10.634-8.62-19.256-19.255-19.256z"},child:[]}]})(t)}function B8(t){return _s({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M16 16c48 96 24 120 72 168 0 0 44.864 0 69.53-21.688A135.765 135.765 0 0 0 120.25 256a135.765 135.765 0 0 0 271.5 0 135.765 135.765 0 0 0-36.375-92.906C380.22 183.997 424 184 424 184c48-48 24-72 72-168-96 48-120 24-168 72 0 0 .004 44.6 21.5 69.313a135.765 135.765 0 0 0-186.72-.344C183.987 132.19 184 88 184 88c-48-48-72-24-168-72zm72 312c-48 48-24 72-72 168 96-48 120-24 168-72 0 0 0-48-24-72s-72-24-72-24zm336 0s-48 0-72 24-24 72-24 72c48 48 72 24 168 72-48-96-24-120-72-168z"},child:[]}]})(t)}function uv(t){return _s({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M227.4 34.7c-10.1 0-20.2.2-30.2.5l6.1 65.6-61.1-62.5c-31.3 2.5-62.5 6.6-93.8 12.5l34.2 28.4-48-.6c35.1 100.2 6.9 182.6-.3 292.1L130 476.5c10-1.3 19.9-2.4 29.6-3.3l21.5-42.2 18.6 28.8 41.5-33.5.8 43c82.9-.2 157.7 9.1 235.7 7.9-28.2-73-31.2-143.6-31.9-209.2l-33.3-19.1 32.7-33.9c-.4-21.3-1.3-42-3.6-61.9l-57.4.7 50.2-41.7c-3.8-15.5-9-30.4-16.1-44.7l-29.5-23.9C335 38 281.2 34.6 227.4 34.7zm58.7 37c10.6 24.75 21.1 49.5 31.7 74.3 7.5-10.5 14.9-21 22.4-31.5 16 27.2 32 54.3 48 81.5l-16.2 9.5-33.3-56.7-42.5 59.4-15.2-10.9 24-33.5-21.9-51.5-24.6 40.1 12 22.6-16.5 8.8-18.3-34.5-24.8 58.2-17.2-7.4 32.5-76.2 7.7-18c4.8 9.2 9.6 18.3 14.5 27.4 12.5-20.6 25.1-41.11 37.7-61.6zM91.2 128c6.72 1.6 13.4 3.4 19.2 5.3-2.1 5.9-4.1 11.8-6.2 17.6-5.79-1.6-11.72-3.4-16.9-4.7 1.39-6 2.62-12.1 3.9-18.2zm37.9 13.4c6.3 3.8 12 7.2 17 12.8L132.6 167c-4-3.7-8.6-7-12.8-9.4zm28.7 32.3c2.1 7.4 2.1 15.7 1.6 22.5l-18.5-2.4c.1-5.1.3-10-1-14.5zm-21.2 35.7l17.2 7.1c-3.3 6.6-5.1 12.7-8.6 17.8l-16.3-9c2.6-5.4 5.6-10.8 7.7-15.9zm-16.5 34.1l17.7 6.1c-1.5 5.4-3 11.2-3.6 16.2l-18.6-2c1.3-7.5 2.1-14 4.5-20.3zm207.8 17.4c8.5 1 14.6 3 21.7 7.1l-9.8 16c-4.1-2.8-9.4-3.8-13.5-4.5zm-21.2 1.5c1.1 6.1 2.5 12.2 3.9 18.3-5.9 1.3-11.7 3.3-16.5 5.1l-6.8-17.4c6.7-2.4 13.5-4.7 19.4-6zm-37.9 15.9l11 15.1c-5.6 4-11.8 7.8-16.8 10.6l-8.9-16.4c5.1-2.9 10.6-6.3 14.7-9.3zM135.3 281c1.5 4.7 4.2 9.2 6.9 12.1l-13.8 12.6c-5.5-5.7-9.5-13.5-11.2-20.1zm230.3 3.3c3.5 6.4 6.8 12.7 8.7 19.1l-17.8 5.6c-2-5.4-4.3-10.8-6.8-14.8zm-127.4 10.9l6.9 17.3c-6.4 2.7-12.9 4.8-18.6 6.5l-5-18c5.9-1.6 11.3-3.8 16.7-5.8zm-83.8 6.2c5.3 1.7 10.8 3.4 15.7 4.2-1.2 6.1-2 12.3-2.8 18.5-7-1-14.5-3.3-20.5-5.7zm50 3.5l2.8 18.5c-7.2 1.3-13.4 1.6-19.8 1.9l-.4-18.7c5.9-.2 11.6-.8 17.4-1.7zm174.5 18c1 6.4 1.6 12.9 2.2 19.3l-18.7 1.5c-.4-6-.9-11.9-2-17.8zm-67.6 30.8c18.9 3.5 44.9 16.2 68.9 33.9 7.4-9.9 14.4-20.4 21.3-31.1l30.1 12.9c-4.7 12.3-15 25.6-28.6 37.2 17 16.2 30.9 34.5 37 53-13.8-18.1-31.1-31.8-50.3-42.8-23.4 15.8-52.7 25.9-79.6 20.4 22.9-4.4 40.6-16.6 55.8-32.6-16.5-7.5-33.8-13.9-51.3-20.1z"},child:[]}]})(t)}function j8(t){return _s({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256.156 21.625c-45.605 0-86.876 2.852-117.22 7.563-15.17 2.355-27.554 5.11-36.874 8.53-4.66 1.71-8.568 3.515-11.968 6.094-3.238 2.457-6.65 6.36-6.97 11.75h-.75c0 10.08.362 20.022 1.064 29.813H57.53c-.12-7.952.003-15.922.376-23.875l-26.812-6.28C22.55 161.892 64.1 265.716 140.564 339.655l15.655-29.594c-4.198-3.477-8.25-7.063-12.157-10.75 5.846-6.112 12.293-11.76 19.28-16.843 13.468 13.172 28.182 23.565 43.813 30.655 22.114 17.744 8.053 29.368-23.5 36.25 58.863 10.6 38.948 62.267-14.125 92.313-2.14.27-4.256.523-6.28.812-12.047 1.718-21.876 3.71-29.406 6.25-3.765 1.27-6.958 2.6-9.906 4.656-2.95 2.055-6.626 5.705-6.626 11.406 0 5.702 3.677 9.32 6.626 11.375 2.948 2.055 6.14 3.387 9.906 4.657 7.53 2.54 17.36 4.532 29.406 6.25 24.094 3.436 56.784 5.53 92.906 5.53 36.123 0 68.812-2.094 92.906-5.53 12.048-1.718 21.877-3.71 29.407-6.25 3.764-1.27 6.957-2.602 9.905-4.656 2.948-2.055 6.625-5.674 6.625-11.375 0-5.702-3.677-9.352-6.625-11.407-2.948-2.055-6.14-3.387-9.906-4.656-7.53-2.54-17.36-4.532-29.408-6.25-2.013-.287-4.12-.544-6.25-.813-53.076-30.045-72.99-81.71-14.125-92.312-31.568-6.886-45.63-18.522-23.468-36.28 15.74-7.15 30.547-17.655 44.092-30.97 6.648 4.773 12.84 10.038 18.47 15.72-4.105 4.172-8.338 8.257-12.72 12.217l16.188 29.594c79.118-71.955 116.195-179.53 110.03-285l-27.342 7.97c.45 7.61.64 15.19.562 22.75h-25.594c.702-9.792 1.063-19.735 1.063-29.814h-.75c-.323-5.39-3.763-9.293-7-11.75-3.402-2.58-7.31-4.383-11.97-6.093-9.32-3.422-21.704-6.177-36.875-8.532-30.342-4.71-71.613-7.563-117.22-7.563zm0 18.688c44.822 0 85.426 2.854 114.344 7.343 14.46 2.245 26.06 4.932 33.313 7.594 1.04.382 1.775.75 2.625 1.125-.85.375-1.58.742-2.625 1.125-7.252 2.662-18.854 5.38-33.313 7.625-28.918 4.49-69.522 7.344-114.344 7.344-44.82 0-85.425-2.855-114.344-7.345-14.46-2.245-26.06-4.963-33.312-7.625-1.05-.386-1.77-.748-2.625-1.125.853-.376 1.577-.74 2.625-1.125 7.252-2.662 18.853-5.35 33.313-7.594 28.918-4.49 69.522-7.343 114.343-7.343zm-197.25 71.874H86.25c8.057 57.878 28.23 108.83 56.188 146.25-6.974 5.74-13.407 11.968-19.188 18.688-38.648-46.456-59.042-104.647-64.344-164.938zm367.188 0h27C447.51 171.82 425.336 228.34 388.03 275c-5.44-6.055-11.406-11.73-17.842-16.97 27.81-37.38 47.873-88.175 55.906-145.842z"},child:[]}]})(t)}const z8={MISSING_PARAMETER:"missing_parameter",REMOTE_SERVICE_ERROR:"remote_service_error",INVALID_STATE:"invalid_state",NO_SESSION_DATA:"no_session_data",DOES_NOT_EXIST:"does_not_exist",FAILED_DECRYPTION_ERROR:"failed_decryption_error",INVALID_DID_ERROR:"invalid_did_error",NOT_ENOUGH_FUNDS_ERROR:"not_enough_error",INVALID_AMOUNT_ERROR:"invalid_amount_error",LOGIN_FAILED_ERROR:"login_failed",SIGNATURE_VERIFICATION_ERROR:"signature_verification_failure",CONFLICT_ERROR:"conflict_error",NOT_ENOUGH_PROOF_ERROR:"not_enough_proof_error",BAD_PATH_ERROR:"bad_path_error",VALIDATION_ERROR:"validation_error",PAYLOAD_TOO_LARGE_ERROR:"payload_too_large_error",PRECONDITION_FAILED_ERROR:"precondition_failed_error",UNKNOWN:"unknown"};Object.freeze(z8);class tk extends Error{constructor(e){super();let n=e.message,s=`Error Code: ${e.code}`,i=this.stack;if(i)s+=`Stack Trace:
${i}`;else try{throw new Error}catch(a){i=a.stack}n+=`
If you believe this exception is caused by a bug in stacks.js,
      please file a bug report: https://github.com/blockstack/stacks.js/issues

${s}`,this.message=n,this.code=e.code,this.parameter=e.parameter?e.parameter:void 0}toString(){return`${super.toString()}
    code: ${this.code} param: ${this.parameter?this.parameter:"n/a"}`}}class uE extends tk{constructor(e){super({code:z8.INVALID_STATE,message:e}),this.message=e,this.name="NoSessionDataError"}}function nk(t,e){return dE(H8(t),e)}function H8(t){if(typeof t=="bigint")return t;if(typeof t=="string")return BigInt(t);if(typeof t=="number"){if(!Number.isInteger(t))throw new RangeError("Invalid value. Values of type 'number' must be an integer.");if(t>Number.MAX_SAFE_INTEGER)throw new RangeError(`Invalid value. Values of type 'number' must be less than or equal to ${Number.MAX_SAFE_INTEGER}. For larger values, try using a BigInt instead.`);return BigInt(t)}if(lk(t,Uint8Array))return BigInt(`0x${cp(t)}`);throw new TypeError("intToBigInt: Invalid value type. Must be a number, bigint, BigInt-compatible string, or Uint8Array.")}function sk(t){return/^0x/i.test(t)?t.slice(2):t}function fE(t,e=8){return(typeof t=="bigint"?t:H8(t)).toString(16).padStart(e*2,"0")}function dE(t,e=16){const n=fE(t,e);return Yc(n)}function ik(t,e){if(t<-(BigInt(1)<<e-BigInt(1))||(BigInt(1)<<e-BigInt(1))-BigInt(1)<t)throw`Unable to represent integer in width: ${e}`;return t>=BigInt(0)?BigInt(t):t+(BigInt(1)<<e)}const rk=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function cp(t){if(!(t instanceof Uint8Array))throw new Error("Uint8Array expected");let e="";for(const n of t)e+=rk[n];return e}function Yc(t){if(typeof t!="string")throw new TypeError(`hexToBytes: expected string, got ${typeof t}`);t=sk(t),t=t.length%2?`0${t}`:t;const e=new Uint8Array(t.length/2);for(let n=0;n<e.length;n++){const s=n*2,i=t.slice(s,s+2),a=Number.parseInt(i,16);if(Number.isNaN(a)||a<0)throw new Error("Invalid byte sequence");e[n]=a}return e}function Tm(t){return new TextEncoder().encode(t)}function ok(t){return new TextDecoder().decode(t)}function ak(t){const e=[];for(let n=0;n<t.length;n++)e.push(t.charCodeAt(n)&255);return new Uint8Array(e)}function ck(t){return!Number.isInteger(t)||t<0||t>255}function g4(t){if(t.some(ck))throw new Error("Some values are invalid bytes.");return new Uint8Array(t)}function hE(...t){if(!t.every(s=>s instanceof Uint8Array))throw new Error("Uint8Array list expected");if(t.length===1)return t[0];const e=t.reduce((s,i)=>s+i.length,0),n=new Uint8Array(e);for(let s=0,i=0;s<t.length;s++){const a=t[s];n.set(a,i),i+=a.length}return n}function To(t){return hE(...t.map(e=>typeof e=="number"?g4([e]):e instanceof Array?g4(e):e))}function lk(t,e){return t instanceof e||t?.constructor?.name?.toLowerCase()===e.name}function _m(t,e,n=0){return t[n+3]=e,e>>>=8,t[n+2]=e,e>>>=8,t[n+1]=e,e>>>=8,t[n]=e,t}/*! scure-base - MIT License (c) 2022 Paul Miller (paulmillr.com) */function F8(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function uk(t,...e){if(!F8(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function q8(t,e){return Array.isArray(e)?e.length===0?!0:t?e.every(n=>typeof n=="string"):e.every(n=>Number.isSafeInteger(n)):!1}function bh(t,e){if(typeof e!="string")throw new Error(`${t}: string expected`);return!0}function pE(t){if(!Number.isSafeInteger(t))throw new Error(`invalid integer: ${t}`)}function fv(t){if(!Array.isArray(t))throw new Error("array expected")}function J0(t,e){if(!q8(!0,e))throw new Error(`${t}: array of strings expected`)}function fk(t,e){if(!q8(!1,e))throw new Error(`${t}: array of numbers expected`)}function V8(...t){const e=a=>a,n=(a,c)=>u=>a(c(u)),s=t.map(a=>a.encode).reduceRight(n,e),i=t.map(a=>a.decode).reduce(n,e);return{encode:s,decode:i}}function W8(t){const e=typeof t=="string"?t.split(""):t,n=e.length;J0("alphabet",e);const s=new Map(e.map((i,a)=>[i,a]));return{encode:i=>(fv(i),i.map(a=>{if(!Number.isSafeInteger(a)||a<0||a>=n)throw new Error(`alphabet.encode: digit index outside alphabet "${a}". Allowed: ${t}`);return e[a]})),decode:i=>(fv(i),i.map(a=>{bh("alphabet.decode",a);const c=s.get(a);if(c===void 0)throw new Error(`Unknown letter: "${a}". Allowed: ${t}`);return c}))}}function K8(t=""){return bh("join",t),{encode:e=>(J0("join.decode",e),e.join(t)),decode:e=>(bh("join.decode",e),e.split(t))}}function G8(t,e="="){return pE(t),bh("padding",e),{encode(n){for(J0("padding.encode",n);n.length*t%8;)n.push(e);return n},decode(n){J0("padding.decode",n);let s=n.length;if(s*t%8)throw new Error("padding: invalid, string should have whole number of bytes");for(;s>0&&n[s-1]===e;s--)if((s-1)*t%8===0)throw new Error("padding: invalid, string has too much padding");return n.slice(0,s)}}}const Y8=(t,e)=>e===0?t:Y8(e,t%e),em=(t,e)=>t+(e-Y8(t,e)),T1=(()=>{let t=[];for(let e=0;e<40;e++)t.push(2**e);return t})();function m4(t,e,n,s){if(fv(t),e<=0||e>32)throw new Error(`convertRadix2: wrong from=${e}`);if(n<=0||n>32)throw new Error(`convertRadix2: wrong to=${n}`);if(em(e,n)>32)throw new Error(`convertRadix2: carry overflow from=${e} to=${n} carryBits=${em(e,n)}`);let i=0,a=0;const c=T1[e],u=T1[n]-1,f=[];for(const h of t){if(pE(h),h>=c)throw new Error(`convertRadix2: invalid data word=${h} from=${e}`);if(i=i<<e|h,a+e>32)throw new Error(`convertRadix2: carry overflow pos=${a} from=${e}`);for(a+=e;a>=n;a-=n)f.push((i>>a-n&u)>>>0);const p=T1[a];if(p===void 0)throw new Error("invalid carry");i&=p-1}if(i=i<<n-a&u,!s&&a>=e)throw new Error("Excess padding");if(!s&&i>0)throw new Error(`Non-zero padding: ${i}`);return s&&a>0&&f.push(i>>>0),f}function X8(t,e=!1){if(pE(t),t<=0||t>32)throw new Error("radix2: bits should be in (0..32]");if(em(8,t)>32||em(t,8)>32)throw new Error("radix2: carry overflow");return{encode:n=>{if(!F8(n))throw new Error("radix2.encode input should be Uint8Array");return m4(Array.from(n),8,t,!e)},decode:n=>(fk("radix2.decode",n),Uint8Array.from(m4(n,t,8,e)))}}const dk=V8(X8(5),W8("ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"),G8(5),K8("")),hk=typeof Uint8Array.from([]).toBase64=="function"&&typeof Uint8Array.fromBase64=="function",pk=(t,e)=>{bh("base64",t);const n=/^[A-Za-z0-9=+/]+$/,s="base64";if(t.length>0&&!n.test(t))throw new Error("invalid base64");return Uint8Array.fromBase64(t,{alphabet:s,lastChunkHandling:"strict"})},Q8=hk?{encode(t){return uk(t),t.toBase64()},decode(t){return pk(t)}}:V8(X8(6),W8("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),G8(6),K8("")),Z8="STX_PROVIDER",gk=()=>typeof window>"u"?null:window.localStorage.getItem(Z8),mk=t=>{typeof window<"u"&&window.localStorage.setItem(Z8,t)},yk=()=>{if(typeof window>"u")return[];const t=window.webbtc_stx_providers||[],e=window.wbip_providers||[];return[...t,...e]},wk=(t=[])=>{if(typeof window>"u")return[];const e=yk(),n=t.filter(s=>e.find(a=>a.id===s.id)?!1:!!gE(s.id));return e.concat(n)},bk=()=>{const t=gk();return gE(t)},gE=t=>t?.split(".").reduce((e,n)=>e?.[n],window),vk="modulepreload",Ek=function(t){return"/"+t},y4={},vh=function(e,n,s){let i=Promise.resolve();if(n&&n.length>0){let f=function(h){return Promise.all(h.map(p=>Promise.resolve(p).then(g=>({status:"fulfilled",value:g}),g=>({status:"rejected",reason:g}))))};document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),u=c?.nonce||c?.getAttribute("nonce");i=f(n.map(h=>{if(h=Ek(h),h in y4)return;y4[h]=!0;const p=h.endsWith(".css"),g=p?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${h}"]${g}`))return;const y=document.createElement("link");if(y.rel=p?"stylesheet":vk,p||(y.as="script"),y.crossOrigin="",y.href=h,u&&y.setAttribute("nonce",u),document.head.appendChild(y),p)return new Promise((b,v)=>{y.addEventListener("load",b),y.addEventListener("error",()=>v(new Error(`Unable to preload CSS for ${h}`)))})}))}function a(c){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=c,window.dispatchEvent(u),!u.defaultPrevented)throw c}return i.then(c=>{for(const u of c||[])u.status==="rejected"&&a(u.reason);return e().catch(a)})},Ak="connect-ui",tm={hydratedSelectorName:"hydrated",lazyLoad:!0,updatable:!0,watchCallback:!1};var Ck=Object.defineProperty,Sk=(t,e)=>{for(var n in e)Ck(t,n,{get:e[n],enumerable:!0})},xk="http://www.w3.org/2000/svg",Nk="http://www.w3.org/1999/xhtml",Gi=t=>{if(t.__stencil__getHostRef)return t.__stencil__getHostRef()},yce=(t,e)=>{t.__stencil__getHostRef=()=>e,e.$lazyInstance$=t},Tk=(t,e)=>{const n={$flags$:0,$hostElement$:t,$cmpMeta$:e,$instanceValues$:new Map};n.$onReadyPromise$=new Promise(i=>n.$onReadyResolve$=i),t["s-p"]=[],t["s-rc"]=[];const s=n;return t.__stencil__getHostRef=()=>s,s},w4=(t,e)=>e in t,Wu=(t,e)=>(0,console.error)(t,e),_1=new Map,_k=(t,e,n)=>{const s=t.$tagName$.replace(/-/g,"_"),i=t.$lazyBundleId$;if(!i)return;const a=_1.get(i);if(a)return a[s];{const c=u=>(_1.set(i,u),u[s]);switch(i){case"connect-modal":return vh(()=>import("./connect-modal.entry-D3OZGbXw.js"),[]).then(c,Wu)}}return vh(()=>import(`./${i}.entry.js`),[]).then(c=>(_1.set(i,c),c[s]),c=>{Wu(c,e.$hostElement$)})},nm=new Map,Ik="{visibility:hidden}.hydrated{visibility:inherit}",J8="slot-fb{display:contents}slot-fb[hidden]{display:none}",Un=typeof window<"u"?window:{},Rn={$flags$:0,$resourcesUrl$:"",jmp:t=>t(),raf:t=>requestAnimationFrame(t),ael:(t,e,n,s)=>t.addEventListener(e,n,s),rel:(t,e,n,s)=>t.removeEventListener(e,n,s),ce:(t,e)=>new CustomEvent(t,e)},Dk=t=>Promise.resolve(t),mE=(()=>{try{return new CSSStyleSheet,typeof new CSSStyleSheet().replaceSync=="function"}catch{}return!1})(),dv=mE?!!Un.document&&Object.getOwnPropertyDescriptor(Un.document.adoptedStyleSheets,"length").writable:!1,hv=!1,b4=[],e6=[],Ok=(t,e)=>n=>{t.push(n),hv||(hv=!0,Rn.$flags$&4?yE(pv):Rn.raf(pv))},v4=t=>{for(let e=0;e<t.length;e++)try{t[e](performance.now())}catch(n){Wu(n)}t.length=0},pv=()=>{v4(b4),v4(e6),(hv=b4.length>0)&&Rn.raf(pv)},yE=t=>Dk().then(t),Mk=Ok(e6),wE=t=>(t=typeof t,t==="object"||t==="function");function t6(t){var e,n,s;return(s=(n=(e=t.head)==null?void 0:e.querySelector('meta[name="csp-nonce"]'))==null?void 0:n.getAttribute("content"))!=null?s:void 0}var Rk=t=>t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),$k={};Sk($k,{err:()=>n6,map:()=>Uk,ok:()=>gv,unwrap:()=>Pk,unwrapErr:()=>Lk});var gv=t=>({isOk:!0,isErr:!1,value:t}),n6=t=>({isOk:!1,isErr:!0,value:t});function Uk(t,e){if(t.isOk){const n=e(t.value);return n instanceof Promise?n.then(s=>gv(s)):gv(n)}if(t.isErr){const n=t.value;return n6(n)}throw"should never get here"}var Pk=t=>{if(t.isOk)return t.value;throw t.value},Lk=t=>{if(t.isErr)return t.value;throw t.value};var md;function kk(t){var e;const n=this.attachShadow({mode:"open"});md===void 0&&(md=(e=void 0)!=null?e:null),md&&(dv?n.adoptedStyleSheets.push(md):n.adoptedStyleSheets=[...n.adoptedStyleSheets,md])}var Co=(t,e="")=>()=>{},Bk=(t,e)=>()=>{},Ru=new WeakMap,jk=(t,e,n)=>{let s=nm.get(t);mE&&n?(s=s||new CSSStyleSheet,typeof s=="string"?s=e:s.replaceSync(e)):s=e,nm.set(t,s)},zk=(t,e,n)=>{var s;const i=s6(e),a=nm.get(i);if(!Un.document)return i;if(t=t.nodeType===11?t:Un.document,a)if(typeof a=="string"){t=t.head||t;let c=Ru.get(t),u;if(c||Ru.set(t,c=new Set),!c.has(i)){{u=Un.document.createElement("style"),u.innerHTML=a;const f=(s=Rn.$nonce$)!=null?s:t6(Un.document);if(f!=null&&u.setAttribute("nonce",f),!(e.$flags$&1))if(t.nodeName==="HEAD"){const h=t.querySelectorAll("link[rel=preconnect]"),p=h.length>0?h[h.length-1].nextSibling:t.querySelector("style");t.insertBefore(u,p?.parentNode===t?p:null)}else if("host"in t)if(mE){const h=new CSSStyleSheet;h.replaceSync(a),dv?t.adoptedStyleSheets.unshift(h):t.adoptedStyleSheets=[h,...t.adoptedStyleSheets]}else{const h=t.querySelector("style");h?h.innerHTML=a+h.innerHTML:t.prepend(u)}else t.append(u);e.$flags$&1&&t.insertBefore(u,null)}e.$flags$&4&&(u.innerHTML+=J8),c&&c.add(i)}}else t.adoptedStyleSheets.includes(a)||(dv?t.adoptedStyleSheets.push(a):t.adoptedStyleSheets=[...t.adoptedStyleSheets,a]);return i},Hk=t=>{const e=t.$cmpMeta$,n=t.$hostElement$,s=e.$flags$,i=Co("attachStyles",e.$tagName$),a=zk(n.shadowRoot?n.shadowRoot:n.getRootNode(),e);s&10&&(n["s-sc"]=a,n.classList.add(a+"-h")),i()},s6=(t,e)=>"sc-"+t.$tagName$,Fk=(t,e,...n)=>{let s=null,i=null,a=!1,c=!1;const u=[],f=p=>{for(let g=0;g<p.length;g++)s=p[g],Array.isArray(s)?f(s):s!=null&&typeof s!="boolean"&&((a=typeof t!="function"&&!wE(s))&&(s=String(s)),a&&c?u[u.length-1].$text$+=s:u.push(a?mv(null,s):s),c=a)};if(f(n),e){e.key&&(i=e.key);{const p=e.className||e.class;p&&(e.class=typeof p!="object"?p:Object.keys(p).filter(g=>p[g]).join(" "))}}const h=mv(t,null);return h.$attrs$=e,u.length>0&&(h.$children$=u),h.$key$=i,h},mv=(t,e)=>{const n={$flags$:0,$tag$:t,$text$:e,$elm$:null,$children$:null};return n.$attrs$=null,n.$key$=null,n},qk={},Vk=t=>t&&t.$tag$===qk,bE=t=>{const e=Rk(t);return new RegExp(`(^|[^@]|@(?!supports\\s+selector\\s*\\([^{]*?${e}))(${e}\\b)`,"g")};bE("::slotted");bE(":host");bE(":host-context");var yv=(t,e,n)=>{if(typeof t=="string"&&(e&16||e&8)&&(t.startsWith("{")&&t.endsWith("}")||t.startsWith("[")&&t.endsWith("]")))try{return JSON.parse(t)}catch{}return t!=null&&!wE(t),t},wce=t=>{var e;return(e=Gi(t))==null?void 0:e.$hostElement$},Wk=(t,e,n)=>{const s=Rn.ce(e,n);return t.dispatchEvent(s),s},E4=(t,e,n,s,i,a,c)=>{if(n===s)return;let u=w4(t,e),f=e.toLowerCase();if(e==="class"){const h=t.classList,p=A4(n);let g=A4(s);h.remove(...p.filter(y=>y&&!g.includes(y))),h.add(...g.filter(y=>y&&!p.includes(y)))}else if(e!=="key")if(!u&&e[0]==="o"&&e[1]==="n"){if(e[2]==="-"?e=e.slice(3):w4(Un,f)?e=f.slice(2):e=f[2]+e.slice(3),n||s){const h=e.endsWith(i6);e=e.replace(Gk,""),n&&Rn.rel(t,e,n,h),s&&Rn.ael(t,e,s,h)}}else{const h=wE(s);if((u||h&&s!==null)&&!i)try{if(t.tagName.includes("-"))t[e]!==s&&(t[e]=s);else{const p=s??"";e==="list"?u=!1:(n==null||t[e]!=p)&&(typeof t.__lookupSetter__(e)=="function"?t[e]=p:t.setAttribute(e,p))}}catch{}s==null||s===!1?(s!==!1||t.getAttribute(e)==="")&&t.removeAttribute(e):(!u||a&4||i)&&!h&&t.nodeType===1&&(s=s===!0?"":s,t.setAttribute(e,s))}},Kk=/\s/,A4=t=>(typeof t=="object"&&t&&"baseVal"in t&&(t=t.baseVal),!t||typeof t!="string"?[]:t.split(Kk)),i6="Capture",Gk=new RegExp(i6+"$"),r6=(t,e,n,s)=>{const i=e.$elm$.nodeType===11&&e.$elm$.host?e.$elm$.host:e.$elm$,a=t&&t.$attrs$||{},c=e.$attrs$||{};for(const u of C4(Object.keys(a)))u in c||E4(i,u,a[u],void 0,n,e.$flags$);for(const u of C4(Object.keys(c)))E4(i,u,a[u],c[u],n,e.$flags$)};function C4(t){return t.includes("ref")?[...t.filter(e=>e!=="ref"),"ref"]:t}var vE,qs=!1,sm=(t,e,n)=>{const s=e.$children$[n];let i=0,a,c;if(s.$text$!==null)a=s.$elm$=Un.document.createTextNode(s.$text$);else{if(qs||(qs=s.$tag$==="svg"),!Un.document)throw new Error("You are trying to render a Stencil component in an environment that doesn't support the DOM. Make sure to populate the [`window`](https://developer.mozilla.org/en-US/docs/Web/API/Window/window) object before rendering a component.");if(a=s.$elm$=Un.document.createElementNS(qs?xk:Nk,s.$tag$),qs&&s.$tag$==="foreignObject"&&(qs=!1),r6(null,s,qs),s.$children$)for(i=0;i<s.$children$.length;++i)c=sm(t,s,i),c&&a.appendChild(c);s.$tag$==="svg"?qs=!1:a.tagName==="foreignObject"&&(qs=!0)}return a["s-hn"]=vE,a},o6=(t,e,n,s,i,a)=>{let c=t,u;for(c.shadowRoot&&c.tagName===vE&&(c=c.shadowRoot);i<=a;++i)s[i]&&(u=sm(null,n,i),u&&(s[i].$elm$=u,M0(c,u,e)))},a6=(t,e,n)=>{for(let s=e;s<=n;++s){const i=t[s];if(i){const a=i.$elm$;a&&a.remove()}}},Yk=(t,e,n,s,i=!1)=>{let a=0,c=0,u=0,f=0,h=e.length-1,p=e[0],g=e[h],y=s.length-1,b=s[0],v=s[y],E,A;for(;a<=h&&c<=y;)if(p==null)p=e[++a];else if(g==null)g=e[--h];else if(b==null)b=s[++c];else if(v==null)v=s[--y];else if(Kg(p,b,i))Cu(p,b,i),p=e[++a],b=s[++c];else if(Kg(g,v,i))Cu(g,v,i),g=e[--h],v=s[--y];else if(Kg(p,v,i))Cu(p,v,i),M0(t,p.$elm$,g.$elm$.nextSibling),p=e[++a],v=s[--y];else if(Kg(g,b,i))Cu(g,b,i),M0(t,g.$elm$,p.$elm$),g=e[--h],b=s[++c];else{for(u=-1,f=a;f<=h;++f)if(e[f]&&e[f].$key$!==null&&e[f].$key$===b.$key$){u=f;break}u>=0?(A=e[u],A.$tag$!==b.$tag$?E=sm(e&&e[c],n,u):(Cu(A,b,i),e[u]=void 0,E=A.$elm$),b=s[++c]):(E=sm(e&&e[c],n,c),b=s[++c]),E&&M0(p.$elm$.parentNode,E,p.$elm$)}a>h?o6(t,s[y+1]==null?null:s[y+1].$elm$,n,s,c,y):c>y&&a6(e,a,h)},Kg=(t,e,n=!1)=>t.$tag$===e.$tag$?n?(n&&!t.$key$&&e.$key$&&(t.$key$=e.$key$),!0):t.$key$===e.$key$:!1,Cu=(t,e,n=!1)=>{const s=e.$elm$=t.$elm$,i=t.$children$,a=e.$children$,c=e.$tag$,u=e.$text$;u===null?(qs=c==="svg"?!0:c==="foreignObject"?!1:qs,r6(t,e,qs),i!==null&&a!==null?Yk(s,i,e,a,n):a!==null?(t.$text$!==null&&(s.textContent=""),o6(s,null,e,a,0,a.length-1)):!n&&tm.updatable&&i!==null&&a6(i,0,i.length-1),qs&&c==="svg"&&(qs=!1)):t.$text$!==u&&(s.data=u)},M0=(t,e,n)=>t?.insertBefore(e,n),Xk=(t,e,n=!1)=>{const s=t.$hostElement$,i=t.$vnode$||mv(null,null),c=Vk(e)?e:Fk(null,null,e);if(vE=s.tagName,n&&c.$attrs$)for(const u of Object.keys(c.$attrs$))s.hasAttribute(u)&&!["key","ref","style","class"].includes(u)&&(c.$attrs$[u]=s[u]);c.$tag$=null,c.$flags$|=4,t.$vnode$=c,c.$elm$=i.$elm$=s.shadowRoot||s,Cu(i,c,n)},c6=(t,e)=>{if(e&&!t.$onRenderResolve$&&e["s-p"]){const n=e["s-p"].push(new Promise(s=>t.$onRenderResolve$=()=>{e["s-p"].splice(n-1,1),s()}))}},EE=(t,e)=>{if(t.$flags$|=16,t.$flags$&4){t.$flags$|=512;return}c6(t,t.$ancestorComponent$);const n=()=>Qk(t,e);if(e){queueMicrotask(()=>{n()});return}return Mk(n)},Qk=(t,e)=>{const n=t.$hostElement$,s=Co("scheduleUpdate",t.$cmpMeta$.$tagName$),i=t.$lazyInstance$;if(!i)throw new Error(`Can't render component <${n.tagName.toLowerCase()} /> with invalid Stencil runtime! Make sure this imported component is compiled with a \`externalRuntime: true\` flag. For more information, please refer to https://stenciljs.com/docs/custom-elements#externalruntime`);let a;return e?a=Ma(i,"componentWillLoad",void 0,n):a=Ma(i,"componentWillUpdate",void 0,n),a=S4(a,()=>Ma(i,"componentWillRender",void 0,n)),s(),S4(a,()=>Jk(t,i,e))},S4=(t,e)=>Zk(t)?t.then(e).catch(n=>{console.error(n),e()}):e(),Zk=t=>t instanceof Promise||t&&t.then&&typeof t.then=="function",Jk=async(t,e,n)=>{var s;const i=t.$hostElement$,a=Co("update",t.$cmpMeta$.$tagName$),c=i["s-rc"];n&&Hk(t);const u=Co("render",t.$cmpMeta$.$tagName$);eB(t,e,i,n),c&&(c.map(f=>f()),i["s-rc"]=void 0),u(),a();{const f=(s=i["s-p"])!=null?s:[],h=()=>tB(t);f.length===0?h():(Promise.all(f).then(h),t.$flags$|=4,f.length=0)}},eB=(t,e,n,s)=>{try{e=e.render(),t.$flags$&=-17,t.$flags$|=2,Xk(t,e,s)}catch(i){Wu(i,t.$hostElement$)}return null},tB=t=>{const e=t.$cmpMeta$.$tagName$,n=t.$hostElement$,s=Co("postUpdate",e),i=t.$lazyInstance$,a=t.$ancestorComponent$;Ma(i,"componentDidRender",void 0,n),t.$flags$&64?(Ma(i,"componentDidUpdate",void 0,n),s()):(t.$flags$|=64,nB(n),Ma(i,"componentDidLoad",void 0,n),s(),t.$onReadyResolve$(n),a||l6()),t.$onRenderResolve$&&(t.$onRenderResolve$(),t.$onRenderResolve$=void 0),t.$flags$&512&&yE(()=>EE(t,!1)),t.$flags$&=-517},l6=t=>{yE(()=>Wk(Un,"appload",{detail:{namespace:Ak}}))},Ma=(t,e,n,s)=>{if(t&&t[e])try{return t[e](n)}catch(i){Wu(i,s)}},nB=t=>{var e;return t.classList.add((e=tm.hydratedSelectorName)!=null?e:"hydrated")},sB=(t,e)=>Gi(t).$instanceValues$.get(e),I1=(t,e,n,s)=>{const i=Gi(t);if(!i)return;if(!i)throw new Error(`Couldn't find host element for "${s.$tagName$}" as it is unknown to this Stencil runtime. This usually happens when integrating a 3rd party Stencil component with another Stencil component or application. Please reach out to the maintainers of the 3rd party Stencil component or report this on the Stencil Discord server (https://chat.stenciljs.com) or comment on this similar [GitHub issue](https://github.com/stenciljs/core/issues/5457).`);const a=i.$instanceValues$.get(e),c=i.$flags$,u=i.$lazyInstance$;n=yv(n,s.$members$[e][0]);const f=Number.isNaN(a)&&Number.isNaN(n),h=n!==a&&!f;if((!(c&8)||a===void 0)&&h&&(i.$instanceValues$.set(e,n),u&&(c&18)===2)){if(u.componentShouldUpdate&&u.componentShouldUpdate(n,a,e)===!1)return;EE(i,!1)}},u6=(t,e,n)=>{var s,i;const a=t.prototype;if(e.$members$||tm.watchCallback){const c=Object.entries((s=e.$members$)!=null?s:{});if(c.map(([u,[f]])=>{if(f&31||n&2&&f&32){const{get:h,set:p}=Object.getOwnPropertyDescriptor(a,u)||{};h&&(e.$members$[u][0]|=2048),p&&(e.$members$[u][0]|=4096),(n&1||!h)&&Object.defineProperty(a,u,{get(){{if((e.$members$[u][0]&2048)===0)return sB(this,u);const g=Gi(this),y=g?g.$lazyInstance$:a;return y?y[u]:void 0}},configurable:!0,enumerable:!0}),Object.defineProperty(a,u,{set(g){const y=Gi(this);if(y){if(p){const b=f&32?this[u]:y.$hostElement$[u];typeof b>"u"&&y.$instanceValues$.get(u)?g=y.$instanceValues$.get(u):!y.$instanceValues$.get(u)&&b&&y.$instanceValues$.set(u,b),p.apply(this,[yv(g,f)]),g=f&32?this[u]:y.$hostElement$[u],I1(this,u,g,e);return}{if((n&1)===0||(e.$members$[u][0]&4096)===0){I1(this,u,g,e),n&1&&!y.$lazyInstance$&&y.$onReadyPromise$.then(()=>{e.$members$[u][0]&4096&&y.$lazyInstance$[u]!==y.$instanceValues$.get(u)&&(y.$lazyInstance$[u]=g)});return}const b=()=>{const v=y.$lazyInstance$[u];!y.$instanceValues$.get(u)&&v&&y.$instanceValues$.set(u,v),y.$lazyInstance$[u]=yv(g,f),I1(this,u,y.$lazyInstance$[u],e)};y.$lazyInstance$?b():y.$onReadyPromise$.then(()=>b())}}}})}}),n&1){const u=new Map;a.attributeChangedCallback=function(f,h,p){Rn.jmp(()=>{var g;const y=u.get(f);if(this.hasOwnProperty(y)&&tm.lazyLoad)p=this[y],delete this[y];else{if(a.hasOwnProperty(y)&&typeof this[y]=="number"&&this[y]==p)return;if(y==null){const v=Gi(this),E=v?.$flags$;if(v&&E&&!(E&8)&&E&128&&p!==h){const A=v.$lazyInstance$,S=(g=e.$watchers$)==null?void 0:g[f];S?.forEach(D=>{A[D]!=null&&A[D].call(A,p,h,f)})}return}}const b=Object.getOwnPropertyDescriptor(a,y);p=p===null&&typeof this[y]=="boolean"?!1:p,p!==this[y]&&(!b.get||b.set)&&(this[y]=p)})},t.observedAttributes=Array.from(new Set([...Object.keys((i=e.$watchers$)!=null?i:{}),...c.filter(([f,h])=>h[0]&31).map(([f,h])=>{const p=h[1]||f;return u.set(p,f),p})]))}}return t},iB=async(t,e,n,s)=>{let i;if((e.$flags$&32)===0){if(e.$flags$|=32,n.$lazyBundleId$){const f=_k(n,e);if(f&&"then"in f){const p=Bk();i=await f,p()}else i=f;if(!i)throw new Error(`Constructor for "${n.$tagName$}#${e.$modeName$}" was not found`);i.isProxied||(u6(i,n,2),i.isProxied=!0);const h=Co("createInstance",n.$tagName$);e.$flags$|=8;try{new i(e)}catch(p){Wu(p,t)}e.$flags$&=-9,h(),wv(e.$lazyInstance$,t)}else{i=t.constructor;const f=t.localName;customElements.whenDefined(f).then(()=>e.$flags$|=128)}if(i&&i.style){let f;typeof i.style=="string"&&(f=i.style);const h=s6(n);if(!nm.has(h)){const p=Co("registerStyles",n.$tagName$);jk(h,f,!!(n.$flags$&1)),p()}}}const a=e.$ancestorComponent$,c=()=>EE(e,!0);a&&a["s-rc"]?a["s-rc"].push(c):c()},wv=(t,e)=>{Ma(t,"connectedCallback",void 0,e)},rB=t=>{if((Rn.$flags$&1)===0){const e=Gi(t);if(!e)return;const n=e.$cmpMeta$,s=Co("connectedCallback",n.$tagName$);if(e.$flags$&1)e?.$lazyInstance$?wv(e.$lazyInstance$,t):e?.$onReadyPromise$&&e.$onReadyPromise$.then(()=>wv(e.$lazyInstance$,t));else{e.$flags$|=1;{let i=t;for(;i=i.parentNode||i.host;)if(i["s-p"]){c6(e,e.$ancestorComponent$=i);break}}n.$members$&&Object.entries(n.$members$).map(([i,[a]])=>{if(a&31&&t.hasOwnProperty(i)){const c=t[i];delete t[i],t[i]=c}}),iB(t,e,n)}s()}},x4=(t,e)=>{Ma(t,"disconnectedCallback",void 0,e||t)},oB=async t=>{if((Rn.$flags$&1)===0){const e=Gi(t);e?.$lazyInstance$?x4(e.$lazyInstance$,t):e?.$onReadyPromise$&&e.$onReadyPromise$.then(()=>x4(e.$lazyInstance$,t))}Ru.has(t)&&Ru.delete(t),t.shadowRoot&&Ru.has(t.shadowRoot)&&Ru.delete(t.shadowRoot)},aB=(t,e={})=>{var n;if(!Un.document){console.warn("Stencil: No document found. Skipping bootstrapping lazy components.");return}const s=Co(),i=[],a=e.exclude||[],c=Un.customElements,u=Un.document.head,f=u.querySelector("meta[charset]"),h=Un.document.createElement("style"),p=[];let g,y=!0;Object.assign(Rn,e),Rn.$resourcesUrl$=new URL(e.resourcesUrl||"./",Un.document.baseURI).href;let b=!1;if(t.map(v=>{v[1].map(E=>{const A={$flags$:E[0],$tagName$:E[1],$members$:E[2],$listeners$:E[3]};A.$flags$&4&&(b=!0),A.$members$=E[2];const S=A.$tagName$,D=class extends HTMLElement{constructor(x){if(super(x),this.hasRegisteredEventListeners=!1,x=this,Tk(x,A),A.$flags$&1){if(!x.shadowRoot)kk.call(x,A);else if(x.shadowRoot.mode!=="open")throw new Error(`Unable to re-use existing shadow root for ${A.$tagName$}! Mode is set to ${x.shadowRoot.mode} but Stencil only supports open shadow roots.`)}}connectedCallback(){Gi(this)&&(this.hasRegisteredEventListeners||(this.hasRegisteredEventListeners=!0),g&&(clearTimeout(g),g=null),y?p.push(this):Rn.jmp(()=>rB(this)))}disconnectedCallback(){Rn.jmp(()=>oB(this)),Rn.raf(()=>{var x;const N=Gi(this);if(!N)return;const T=p.findIndex(I=>I===this);T>-1&&p.splice(T,1),((x=N?.$vnode$)==null?void 0:x.$elm$)instanceof Node&&!N.$vnode$.$elm$.isConnected&&delete N.$vnode$.$elm$})}componentOnReady(){var x;return(x=Gi(this))==null?void 0:x.$onReadyPromise$}};A.$lazyBundleId$=v[0],!a.includes(S)&&!c.get(S)&&(i.push(S),c.define(S,u6(D,A,1)))})}),i.length>0&&(b&&(h.textContent+=J8),h.textContent+=i.sort()+Ik,h.innerHTML.length)){h.setAttribute("data-styles","");const v=(n=Rn.$nonce$)!=null?n:t6(Un.document);v!=null&&h.setAttribute("nonce",v),u.insertBefore(h,f?f.nextSibling:u.firstChild)}y=!1,p.length?p.map(v=>v.connectedCallback()):Rn.jmp(()=>g=setTimeout(l6,30)),s()};const cB=()=>{},lB=async(t,e)=>{if(!(typeof window>"u"))return await cB(),aB([["connect-modal",[[257,"connect-modal",{defaultProviders:[16,"default-providers"],installedProviders:[16,"installed-providers"],callback:[16],cancelCallback:[16,"cancel-callback"]}]]]],e)};(function(){if(typeof window<"u"&&window.Reflect!==void 0&&window.customElements!==void 0){var t=HTMLElement;window.HTMLElement=function(){return Reflect.construct(t,[],this.constructor)},HTMLElement.prototype=t.prototype,HTMLElement.prototype.constructor=HTMLElement,Object.setPrototypeOf(HTMLElement,t)}})();const uB=128,fB=128,f6=16;var N4;(function(t){t[t.TokenTransfer=0]="TokenTransfer",t[t.SmartContract=1]="SmartContract",t[t.VersionedSmartContract=6]="VersionedSmartContract",t[t.ContractCall=2]="ContractCall",t[t.PoisonMicroblock=3]="PoisonMicroblock",t[t.Coinbase=4]="Coinbase",t[t.CoinbaseToAltRecipient=5]="CoinbaseToAltRecipient",t[t.TenureChange=7]="TenureChange",t[t.NakamotoCoinbase=8]="NakamotoCoinbase"})(N4||(N4={}));var T4;(function(t){t[t.Clarity1=1]="Clarity1",t[t.Clarity2=2]="Clarity2",t[t.Clarity3=3]="Clarity3"})(T4||(T4={}));var qi;(function(t){t[t.OnChainOnly=1]="OnChainOnly",t[t.OffChainOnly=2]="OffChainOnly",t[t.Any=3]="Any"})(qi||(qi={}));const D1=["onChainOnly","offChainOnly","any"];D1[0]+"",qi.OnChainOnly,D1[1]+"",qi.OffChainOnly,D1[2]+"",qi.Any,qi.OnChainOnly+"",qi.OnChainOnly,qi.OffChainOnly+"",qi.OffChainOnly,qi.Any+"",qi.Any;var _4;(function(t){t[t.Allow=1]="Allow",t[t.Deny=2]="Deny"})(_4||(_4={}));var Ar;(function(t){t[t.STX=0]="STX",t[t.Fungible=1]="Fungible",t[t.NonFungible=2]="NonFungible"})(Ar||(Ar={}));var I4;(function(t){t[t.Standard=4]="Standard",t[t.Sponsored=5]="Sponsored"})(I4||(I4={}));var D4;(function(t){t[t.P2PKH=0]="P2PKH",t[t.P2SH=1]="P2SH",t[t.P2WPKH=2]="P2WPKH",t[t.P2WSH=3]="P2WSH",t[t.P2SHNonSequential=5]="P2SHNonSequential",t[t.P2WSHNonSequential=7]="P2WSHNonSequential"})(D4||(D4={}));var O4;(function(t){t[t.Compressed=0]="Compressed",t[t.Uncompressed=1]="Uncompressed"})(O4||(O4={}));var M4;(function(t){t[t.Equal=1]="Equal",t[t.Greater=2]="Greater",t[t.GreaterEqual=3]="GreaterEqual",t[t.Less=4]="Less",t[t.LessEqual=5]="LessEqual"})(M4||(M4={}));var R4;(function(t){t[t.Sends=16]="Sends",t[t.DoesNotSend=17]="DoesNotSend"})(R4||(R4={}));var Nr;(function(t){t[t.Origin=1]="Origin",t[t.Standard=2]="Standard",t[t.Contract=3]="Contract"})(Nr||(Nr={}));var $4;(function(t){t[t.STX=0]="STX",t[t.Fungible=1]="Fungible",t[t.NonFungible=2]="NonFungible"})($4||($4={}));var U4;(function(t){t[t.BlockFound=0]="BlockFound",t[t.Extended=1]="Extended"})(U4||(U4={}));var P4;(function(t){t[t.PublicKeyCompressed=0]="PublicKeyCompressed",t[t.PublicKeyUncompressed=1]="PublicKeyUncompressed",t[t.SignatureCompressed=2]="SignatureCompressed",t[t.SignatureUncompressed=3]="SignatureUncompressed"})(P4||(P4={}));var L4;(function(t){t.Serialization="Serialization",t.Deserialization="Deserialization",t.SignatureValidation="SignatureValidation",t.FeeTooLow="FeeTooLow",t.BadNonce="BadNonce",t.NotEnoughFunds="NotEnoughFunds",t.NoSuchContract="NoSuchContract",t.NoSuchPublicFunction="NoSuchPublicFunction",t.BadFunctionArgument="BadFunctionArgument",t.ContractAlreadyExists="ContractAlreadyExists",t.PoisonMicroblocksDoNotConflict="PoisonMicroblocksDoNotConflict",t.PoisonMicroblockHasUnknownPubKeyHash="PoisonMicroblockHasUnknownPubKeyHash",t.PoisonMicroblockIsInvalid="PoisonMicroblockIsInvalid",t.BadAddressVersionByte="BadAddressVersionByte",t.NoCoinbaseViaMempool="NoCoinbaseViaMempool",t.ServerFailureNoSuchChainTip="ServerFailureNoSuchChainTip",t.ServerFailureDatabase="ServerFailureDatabase",t.ServerFailureOther="ServerFailureOther"})(L4||(L4={}));class dB extends Error{constructor(e){super(e),this.message=e,this.name=this.constructor.name,Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}}class d6 extends dB{constructor(e){super(e)}}function bv(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`Wrong positive integer: ${t}`)}function hB(t){if(typeof t!="boolean")throw new Error(`Expected boolean, not ${t}`)}function h6(t,...e){if(!(t instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(e.length>0&&!e.includes(t.length))throw new TypeError(`Expected Uint8Array of length ${e}, not of length=${t.length}`)}function pB(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");bv(t.outputLen),bv(t.blockLen)}function gB(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function mB(t,e){h6(t);const n=e.outputLen;if(t.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}const O1={number:bv,bool:hB,bytes:h6,hash:pB,exists:gB,output:mB};/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const M1=t=>new DataView(t.buffer,t.byteOffset,t.byteLength),ur=(t,e)=>t<<32-e|t>>>e,yB=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!yB)throw new Error("Non little-endian hardware is not supported");Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function wB(t){if(typeof t!="string")throw new TypeError(`utf8ToBytes expected string, got ${typeof t}`);return new TextEncoder().encode(t)}function p6(t){if(typeof t=="string"&&(t=wB(t)),!(t instanceof Uint8Array))throw new TypeError(`Expected input type is Uint8Array (got ${typeof t})`);return t}let bB=class{clone(){return this._cloneInto()}};function nl(t){const e=s=>t().update(p6(s)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function vB(t,e,n,s){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,s);const i=BigInt(32),a=BigInt(4294967295),c=Number(n>>i&a),u=Number(n&a),f=s?4:0,h=s?0:4;t.setUint32(e+f,c,s),t.setUint32(e+h,u,s)}class AE extends bB{constructor(e,n,s,i){super(),this.blockLen=e,this.outputLen=n,this.padOffset=s,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=M1(this.buffer)}update(e){O1.exists(this);const{view:n,buffer:s,blockLen:i}=this;e=p6(e);const a=e.length;for(let c=0;c<a;){const u=Math.min(i-this.pos,a-c);if(u===i){const f=M1(e);for(;i<=a-c;c+=i)this.process(f,c);continue}s.set(e.subarray(c,c+u),this.pos),this.pos+=u,c+=u,this.pos===i&&(this.process(n,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){O1.exists(this),O1.output(e,this),this.finished=!0;const{buffer:n,view:s,blockLen:i,isLE:a}=this;let{pos:c}=this;n[c++]=128,this.buffer.subarray(c).fill(0),this.padOffset>i-c&&(this.process(s,0),c=0);for(let g=c;g<i;g++)n[g]=0;vB(s,i-8,BigInt(this.length*8),a),this.process(s,0);const u=M1(e),f=this.outputLen;if(f%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const h=f/4,p=this.get();if(h>p.length)throw new Error("_sha2: outputLen bigger than state");for(let g=0;g<h;g++)u.setUint32(4*g,p[g],a)}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const s=e.slice(0,n);return this.destroy(),s}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:n,buffer:s,length:i,finished:a,destroyed:c,pos:u}=this;return e.length=i,e.pos=u,e.finished=a,e.destroyed=c,i%n&&e.buffer.set(s),e}}const EB=(t,e,n)=>t&e^~t&n,AB=(t,e,n)=>t&e^t&n^e&n,CB=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),oa=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),aa=new Uint32Array(64);class g6 extends AE{constructor(){super(64,32,8,!1),this.A=oa[0]|0,this.B=oa[1]|0,this.C=oa[2]|0,this.D=oa[3]|0,this.E=oa[4]|0,this.F=oa[5]|0,this.G=oa[6]|0,this.H=oa[7]|0}get(){const{A:e,B:n,C:s,D:i,E:a,F:c,G:u,H:f}=this;return[e,n,s,i,a,c,u,f]}set(e,n,s,i,a,c,u,f){this.A=e|0,this.B=n|0,this.C=s|0,this.D=i|0,this.E=a|0,this.F=c|0,this.G=u|0,this.H=f|0}process(e,n){for(let g=0;g<16;g++,n+=4)aa[g]=e.getUint32(n,!1);for(let g=16;g<64;g++){const y=aa[g-15],b=aa[g-2],v=ur(y,7)^ur(y,18)^y>>>3,E=ur(b,17)^ur(b,19)^b>>>10;aa[g]=E+aa[g-7]+v+aa[g-16]|0}let{A:s,B:i,C:a,D:c,E:u,F:f,G:h,H:p}=this;for(let g=0;g<64;g++){const y=ur(u,6)^ur(u,11)^ur(u,25),b=p+y+EB(u,f,h)+CB[g]+aa[g]|0,E=(ur(s,2)^ur(s,13)^ur(s,22))+AB(s,i,a)|0;p=h,h=f,f=u,u=c+b|0,c=a,a=i,i=s,s=b+E|0}s=s+this.A|0,i=i+this.B|0,a=a+this.C|0,c=c+this.D|0,u=u+this.E|0,f=f+this.F|0,h=h+this.G|0,p=p+this.H|0,this.set(s,i,a,c,u,f,h,p)}roundClean(){aa.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}class SB extends g6{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}}nl(()=>new g6);nl(()=>new SB);/*! noble-secp256k1 - MIT License (c) 2019 Paul Miller (paulmillr.com) */const pt=BigInt(0),Xt=BigInt(1),Ta=BigInt(2),R0=BigInt(3),k4=BigInt(8),Cn=Object.freeze({a:pt,b:BigInt(7),P:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),n:BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),h:Xt,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee")}),B4=(t,e)=>(t+e/Ta)/e,Gg={beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar(t){const{n:e}=Cn,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),s=-Xt*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),a=n,c=BigInt("0x100000000000000000000000000000000"),u=B4(a*t,e),f=B4(-s*t,e);let h=_e(t-u*n-f*i,e),p=_e(-u*s-f*a,e);const g=h>c,y=p>c;if(g&&(h=e-h),y&&(p=e-p),h>c||p>c)throw new Error("splitScalarEndo: Endomorphism failed, k="+t);return{k1neg:g,k1:h,k2neg:y,k2:p}}},$u=32,vv=32,j4=$u+1,z4=2*$u+1;function H4(t){const{a:e,b:n}=Cn,s=_e(t*t),i=_e(s*t);return _e(i+e*t+n)}const Yg=Cn.a===pt;function F4(t){if(!(t instanceof ht))throw new TypeError("JacobianPoint expected")}class ht{constructor(e,n,s){this.x=e,this.y=n,this.z=s}static fromAffine(e){if(!(e instanceof bn))throw new TypeError("JacobianPoint#fromAffine: expected Point");return e.equals(bn.ZERO)?ht.ZERO:new ht(e.x,e.y,Xt)}static toAffineBatch(e){const n=IB(e.map(s=>s.z));return e.map((s,i)=>s.toAffine(n[i]))}static normalizeZ(e){return ht.toAffineBatch(e).map(ht.fromAffine)}equals(e){F4(e);const{x:n,y:s,z:i}=this,{x:a,y:c,z:u}=e,f=_e(i*i),h=_e(u*u),p=_e(n*h),g=_e(a*f),y=_e(_e(s*u)*h),b=_e(_e(c*i)*f);return p===g&&y===b}negate(){return new ht(this.x,_e(-this.y),this.z)}double(){const{x:e,y:n,z:s}=this,i=_e(e*e),a=_e(n*n),c=_e(a*a),u=e+a,f=_e(Ta*(_e(u*u)-i-c)),h=_e(R0*i),p=_e(h*h),g=_e(p-Ta*f),y=_e(h*(f-g)-k4*c),b=_e(Ta*n*s);return new ht(g,y,b)}add(e){F4(e);const{x:n,y:s,z:i}=this,{x:a,y:c,z:u}=e;if(a===pt||c===pt)return this;if(n===pt||s===pt)return e;const f=_e(i*i),h=_e(u*u),p=_e(n*h),g=_e(a*f),y=_e(_e(s*u)*h),b=_e(_e(c*i)*f),v=_e(g-p),E=_e(b-y);if(v===pt)return E===pt?this.double():ht.ZERO;const A=_e(v*v),S=_e(v*A),D=_e(p*A),x=_e(E*E-S-Ta*D),N=_e(E*(D-x)-y*S),T=_e(i*u*v);return new ht(x,N,T)}subtract(e){return this.add(e.negate())}multiplyUnsafe(e){const n=ht.ZERO;if(typeof e=="bigint"&&e===pt)return n;let s=K4(e);if(s===Xt)return this;if(!Yg){let g=n,y=this;for(;s>pt;)s&Xt&&(g=g.add(y)),y=y.double(),s>>=Xt;return g}let{k1neg:i,k1:a,k2neg:c,k2:u}=Gg.splitScalar(s),f=n,h=n,p=this;for(;a>pt||u>pt;)a&Xt&&(f=f.add(p)),u&Xt&&(h=h.add(p)),p=p.double(),a>>=Xt,u>>=Xt;return i&&(f=f.negate()),c&&(h=h.negate()),h=new ht(_e(h.x*Gg.beta),h.y,h.z),f.add(h)}precomputeWindow(e){const n=Yg?128/e+1:256/e+1,s=[];let i=this,a=i;for(let c=0;c<n;c++){a=i,s.push(a);for(let u=1;u<2**(e-1);u++)a=a.add(i),s.push(a);i=a.double()}return s}wNAF(e,n){!n&&this.equals(ht.BASE)&&(n=bn.BASE);const s=n&&n._WINDOW_SIZE||1;if(256%s)throw new Error("Point#wNAF: Invalid precomputation window, must be power of 2");let i=n&&Ev.get(n);i||(i=this.precomputeWindow(s),n&&s!==1&&(i=ht.normalizeZ(i),Ev.set(n,i)));let a=ht.ZERO,c=ht.BASE;const u=1+(Yg?128/s:256/s),f=2**(s-1),h=BigInt(2**s-1),p=2**s,g=BigInt(s);for(let y=0;y<u;y++){const b=y*f;let v=Number(e&h);e>>=g,v>f&&(v-=p,e+=Xt);const E=b,A=b+Math.abs(v)-1,S=y%2!==0,D=v<0;v===0?c=c.add(Xg(S,i[E])):a=a.add(Xg(D,i[A]))}return{p:a,f:c}}multiply(e,n){let s=K4(e),i,a;if(Yg){const{k1neg:c,k1:u,k2neg:f,k2:h}=Gg.splitScalar(s);let{p,f:g}=this.wNAF(u,n),{p:y,f:b}=this.wNAF(h,n);p=Xg(c,p),y=Xg(f,y),y=new ht(_e(y.x*Gg.beta),y.y,y.z),i=p.add(y),a=g.add(b)}else{const{p:c,f:u}=this.wNAF(s,n);i=c,a=u}return ht.normalizeZ([i,a])[0]}toAffine(e){const{x:n,y:s,z:i}=this,a=this.equals(ht.ZERO);e==null&&(e=a?k4:CE(i));const c=e,u=_e(c*c),f=_e(u*c),h=_e(n*u),p=_e(s*f),g=_e(i*c);if(a)return bn.ZERO;if(g!==Xt)throw new Error("invZ was invalid");return new bn(h,p)}}ht.BASE=new ht(Cn.Gx,Cn.Gy,Xt);ht.ZERO=new ht(pt,Xt,pt);function Xg(t,e){const n=e.negate();return t?n:e}const Ev=new WeakMap;class bn{constructor(e,n){this.x=e,this.y=n}_setWindowSize(e){this._WINDOW_SIZE=e,Ev.delete(this)}hasEvenY(){return this.y%Ta===pt}static fromCompressedHex(e){const n=e.length===32,s=ju(n?e:e.subarray(1));if(!R1(s))throw new Error("Point is not on curve");const i=H4(s);let a=_B(i);const c=(a&Xt)===Xt;n?c&&(a=_e(-a)):(e[0]&1)===1!==c&&(a=_e(-a));const u=new bn(s,a);return u.assertValidity(),u}static fromUncompressedHex(e){const n=ju(e.subarray(1,$u+1)),s=ju(e.subarray($u+1,$u*2+1)),i=new bn(n,s);return i.assertValidity(),i}static fromHex(e){const n=W4(e),s=n.length,i=n[0];if(s===$u)return this.fromCompressedHex(n);if(s===j4&&(i===2||i===3))return this.fromCompressedHex(n);if(s===z4&&i===4)return this.fromUncompressedHex(n);throw new Error(`Point.fromHex: received invalid point. Expected 32-${j4} compressed bytes or ${z4} uncompressed bytes, not ${s}`)}static fromPrivateKey(e){return bn.BASE.multiply(MB(e))}static fromSignature(e,n,s){const{r:i,s:a}=RB(n);if(![0,1,2,3].includes(s))throw new Error("Cannot recover: invalid recovery bit");const c=OB(W4(e)),{n:u}=Cn,f=s===2||s===3?i+u:i,h=CE(f,u),p=_e(-c*h,u),g=_e(a*h,u),y=s&1?"03":"02",b=bn.fromHex(y+Qd(f)),v=bn.BASE.multiplyAndAddUnsafe(b,p,g);if(!v)throw new Error("Cannot recover signature: point at infinify");return v.assertValidity(),v}toRawBytes(e=!1){return Zd(this.toHex(e))}toHex(e=!1){const n=Qd(this.x);return e?`${this.hasEvenY()?"02":"03"}${n}`:`04${n}${Qd(this.y)}`}toHexX(){return this.toHex(!0).slice(2)}toRawX(){return this.toRawBytes(!0).slice(1)}assertValidity(){const e="Point is not on elliptic curve",{x:n,y:s}=this;if(!R1(n)||!R1(s))throw new Error(e);const i=_e(s*s),a=H4(n);if(_e(i-a)!==pt)throw new Error(e)}equals(e){return this.x===e.x&&this.y===e.y}negate(){return new bn(this.x,_e(-this.y))}double(){return ht.fromAffine(this).double().toAffine()}add(e){return ht.fromAffine(this).add(ht.fromAffine(e)).toAffine()}subtract(e){return this.add(e.negate())}multiply(e){return ht.fromAffine(this).multiply(e,this).toAffine()}multiplyAndAddUnsafe(e,n,s){const i=ht.fromAffine(this),a=n===pt||n===Xt||this!==bn.BASE?i.multiplyUnsafe(n):i.multiply(n),c=ht.fromAffine(e).multiplyUnsafe(s),u=a.add(c);return u.equals(ht.ZERO)?void 0:u.toAffine()}}bn.BASE=new bn(Cn.Gx,Cn.Gy);bn.ZERO=new bn(pt,pt);function q4(t){return Number.parseInt(t[0],16)>=8?"00"+t:t}function V4(t){if(t.length<2||t[0]!==2)throw new Error(`Invalid signature integer tag: ${Eh(t)}`);const e=t[1],n=t.subarray(2,e+2);if(!e||n.length!==e)throw new Error("Invalid signature integer: wrong length");if(n[0]===0&&n[1]<=127)throw new Error("Invalid signature integer: trailing length");return{data:ju(n),left:t.subarray(e+2)}}function xB(t){if(t.length<2||t[0]!=48)throw new Error(`Invalid signature tag: ${Eh(t)}`);if(t[1]!==t.length-2)throw new Error("Invalid signature: incorrect length");const{data:e,left:n}=V4(t.subarray(2)),{data:s,left:i}=V4(n);if(i.length)throw new Error(`Invalid signature: left bytes after parsing: ${Eh(i)}`);return{r:e,s}}class Vc{constructor(e,n){this.r=e,this.s=n,this.assertValidity()}static fromCompact(e){const n=e instanceof Uint8Array,s="Signature.fromCompact";if(typeof e!="string"&&!n)throw new TypeError(`${s}: Expected string or Uint8Array`);const i=n?Eh(e):e;if(i.length!==128)throw new Error(`${s}: Expected 64-byte hex`);return new Vc(im(i.slice(0,64)),im(i.slice(64,128)))}static fromDER(e){const n=e instanceof Uint8Array;if(typeof e!="string"&&!n)throw new TypeError("Signature.fromDER: Expected string or Uint8Array");const{r:s,s:i}=xB(n?e:Zd(e));return new Vc(s,i)}static fromHex(e){return this.fromDER(e)}assertValidity(){const{r:e,s:n}=this;if(!rm(e))throw new Error("Invalid Signature: r must be 0 < r < n");if(!rm(n))throw new Error("Invalid Signature: s must be 0 < s < n")}hasHighS(){const e=Cn.n>>Xt;return this.s>e}normalizeS(){return this.hasHighS()?new Vc(this.r,_e(-this.s,Cn.n)):this}toDERRawBytes(){return Zd(this.toDERHex())}toDERHex(){const e=q4(yd(this.s)),n=q4(yd(this.r)),s=e.length/2,i=n.length/2,a=yd(s),c=yd(i);return`30${yd(i+s+4)}02${c}${n}02${a}${e}`}toRawBytes(){return this.toDERRawBytes()}toHex(){return this.toDERHex()}toCompactRawBytes(){return Zd(this.toCompactHex())}toCompactHex(){return Qd(this.r)+Qd(this.s)}}const NB=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function Eh(t){if(!(t instanceof Uint8Array))throw new Error("Expected Uint8Array");let e="";for(let n=0;n<t.length;n++)e+=NB[t[n]];return e}const TB=BigInt("0x10000000000000000000000000000000000000000000000000000000000000000");function Qd(t){if(typeof t!="bigint")throw new Error("Expected bigint");if(!(pt<=t&&t<TB))throw new Error("Expected number 0 <= n < 2^256");return t.toString(16).padStart(64,"0")}function yd(t){const e=t.toString(16);return e.length&1?`0${e}`:e}function im(t){if(typeof t!="string")throw new TypeError("hexToNumber: expected string, got "+typeof t);return BigInt(`0x${t}`)}function Zd(t){if(typeof t!="string")throw new TypeError("hexToBytes: expected string, got "+typeof t);if(t.length%2)throw new Error("hexToBytes: received invalid unpadded hex"+t.length);const e=new Uint8Array(t.length/2);for(let n=0;n<e.length;n++){const s=n*2,i=t.slice(s,s+2),a=Number.parseInt(i,16);if(Number.isNaN(a)||a<0)throw new Error("Invalid byte sequence");e[n]=a}return e}function ju(t){return im(Eh(t))}function W4(t){return t instanceof Uint8Array?Uint8Array.from(t):Zd(t)}function K4(t){if(typeof t=="number"&&Number.isSafeInteger(t)&&t>0)return BigInt(t);if(typeof t=="bigint"&&rm(t))return t;throw new TypeError("Expected valid private scalar: 0 < scalar < curve.n")}function _e(t,e=Cn.P){const n=t%e;return n>=pt?n:e+n}function di(t,e){const{P:n}=Cn;let s=t;for(;e-- >pt;)s*=s,s%=n;return s}function _B(t){const{P:e}=Cn,n=BigInt(6),s=BigInt(11),i=BigInt(22),a=BigInt(23),c=BigInt(44),u=BigInt(88),f=t*t*t%e,h=f*f*t%e,p=di(h,R0)*h%e,g=di(p,R0)*h%e,y=di(g,Ta)*f%e,b=di(y,s)*y%e,v=di(b,i)*b%e,E=di(v,c)*v%e,A=di(E,u)*E%e,S=di(A,c)*v%e,D=di(S,R0)*h%e,x=di(D,a)*b%e,N=di(x,n)*f%e,T=di(N,Ta);if(T*T%e!==t)throw new Error("Cannot find square root");return T}function CE(t,e=Cn.P){if(t===pt||e<=pt)throw new Error(`invert: expected positive integers, got n=${t} mod=${e}`);let n=_e(t,e),s=e,i=pt,a=Xt;for(;n!==pt;){const u=s/n,f=s%n,h=i-a*u;s=n,n=f,i=a,a=h}if(s!==Xt)throw new Error("invert: does not exist");return _e(i,e)}function IB(t,e=Cn.P){const n=new Array(t.length),s=t.reduce((a,c,u)=>c===pt?a:(n[u]=a,_e(a*c,e)),Xt),i=CE(s,e);return t.reduceRight((a,c,u)=>c===pt?a:(n[u]=_e(a*n[u],e),_e(a*c,e)),i),n}function DB(t){const e=t.length*8-vv*8,n=ju(t);return e>0?n>>BigInt(e):n}function OB(t,e=!1){const n=DB(t);if(e)return n;const{n:s}=Cn;return n>=s?n-s:n}function rm(t){return pt<t&&t<Cn.n}function R1(t){return pt<t&&t<Cn.P}function MB(t){let e;if(typeof t=="bigint")e=t;else if(typeof t=="number"&&Number.isSafeInteger(t)&&t>0)e=BigInt(t);else if(typeof t=="string"){if(t.length!==2*vv)throw new Error("Expected 32 bytes of private key");e=im(t)}else if(t instanceof Uint8Array){if(t.length!==vv)throw new Error("Expected 32 bytes of private key");e=ju(t)}else throw new TypeError("Expected valid private key");if(!rm(e))throw new Error("Expected private key: 0 < key < n");return e}function RB(t){if(t instanceof Vc)return t.assertValidity(),t;try{return Vc.fromDER(t)}catch{return Vc.fromCompact(t)}}bn.BASE._setWindowSize(8);var $1={},U1={},P1={},wd={},G4;function $B(){return G4||(G4=1,Object.defineProperty(wd,"__esModule",{value:!0}),wd.crypto=void 0,wd.crypto={node:void 0,web:typeof self=="object"&&"crypto"in self?self.crypto:void 0}),wd}var Y4;function of(){return Y4||(Y4=1,(function(t){/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */Object.defineProperty(t,"__esModule",{value:!0}),t.randomBytes=t.wrapConstructorWithOpts=t.wrapConstructor=t.checkOpts=t.Hash=t.concatBytes=t.toBytes=t.utf8ToBytes=t.asyncLoop=t.nextTick=t.hexToBytes=t.bytesToHex=t.isLE=t.rotr=t.createView=t.u32=t.u8=void 0;const e=$B(),n=N=>new Uint8Array(N.buffer,N.byteOffset,N.byteLength);t.u8=n;const s=N=>new Uint32Array(N.buffer,N.byteOffset,Math.floor(N.byteLength/4));t.u32=s;const i=N=>new DataView(N.buffer,N.byteOffset,N.byteLength);t.createView=i;const a=(N,T)=>N<<32-T|N>>>T;if(t.rotr=a,t.isLE=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68,!t.isLE)throw new Error("Non little-endian hardware is not supported");const c=Array.from({length:256},(N,T)=>T.toString(16).padStart(2,"0"));function u(N){if(!(N instanceof Uint8Array))throw new Error("Uint8Array expected");let T="";for(let I=0;I<N.length;I++)T+=c[N[I]];return T}t.bytesToHex=u;function f(N){if(typeof N!="string")throw new TypeError("hexToBytes: expected string, got "+typeof N);if(N.length%2)throw new Error("hexToBytes: received invalid unpadded hex");const T=new Uint8Array(N.length/2);for(let I=0;I<T.length;I++){const $=I*2,P=N.slice($,$+2),M=Number.parseInt(P,16);if(Number.isNaN(M)||M<0)throw new Error("Invalid byte sequence");T[I]=M}return T}t.hexToBytes=f;const h=async()=>{};t.nextTick=h;async function p(N,T,I){let $=Date.now();for(let P=0;P<N;P++){I(P);const M=Date.now()-$;M>=0&&M<T||(await(0,t.nextTick)(),$+=M)}}t.asyncLoop=p;function g(N){if(typeof N!="string")throw new TypeError(`utf8ToBytes expected string, got ${typeof N}`);return new TextEncoder().encode(N)}t.utf8ToBytes=g;function y(N){if(typeof N=="string"&&(N=g(N)),!(N instanceof Uint8Array))throw new TypeError(`Expected input type is Uint8Array (got ${typeof N})`);return N}t.toBytes=y;function b(...N){if(!N.every($=>$ instanceof Uint8Array))throw new Error("Uint8Array list expected");if(N.length===1)return N[0];const T=N.reduce(($,P)=>$+P.length,0),I=new Uint8Array(T);for(let $=0,P=0;$<N.length;$++){const M=N[$];I.set(M,P),P+=M.length}return I}t.concatBytes=b;class v{clone(){return this._cloneInto()}}t.Hash=v;const E=N=>Object.prototype.toString.call(N)==="[object Object]"&&N.constructor===Object;function A(N,T){if(T!==void 0&&(typeof T!="object"||!E(T)))throw new TypeError("Options should be object or undefined");return Object.assign(N,T)}t.checkOpts=A;function S(N){const T=$=>N().update(y($)).digest(),I=N();return T.outputLen=I.outputLen,T.blockLen=I.blockLen,T.create=()=>N(),T}t.wrapConstructor=S;function D(N){const T=($,P)=>N(P).update(y($)).digest(),I=N({});return T.outputLen=I.outputLen,T.blockLen=I.blockLen,T.create=$=>N($),T}t.wrapConstructorWithOpts=D;function x(N=32){if(e.crypto.web)return e.crypto.web.getRandomValues(new Uint8Array(N));if(e.crypto.node)return new Uint8Array(e.crypto.node.randomBytes(N).buffer);throw new Error("The environment doesn't have randomBytes function")}t.randomBytes=x})(P1)),P1}var X4;function m6(){return X4||(X4=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.c32decode=t.c32normalize=t.c32encode=t.c32=void 0;const e=of();t.c32="0123456789ABCDEFGHJKMNPQRSTVWXYZ";const n="0123456789abcdef";function s(c,u){if(!c.match(/^[0-9a-fA-F]*$/))throw new Error("Not a hex-encoded string");c.length%2!==0&&(c=`0${c}`),c=c.toLowerCase();let f=[],h=0;for(let b=c.length-1;b>=0;b--)if(h<4){const v=n.indexOf(c[b])>>h;let E=0;b!==0&&(E=n.indexOf(c[b-1]));const A=1+h,S=E%(1<<A)<<5-A,D=t.c32[v+S];h=A,f.unshift(D)}else h=0;let p=0;for(let b=0;b<f.length&&f[b]==="0";b++)p++;f=f.slice(p);const g=new TextDecoder().decode((0,e.hexToBytes)(c)).match(/^\u0000*/),y=g?g[0].length:0;for(let b=0;b<y;b++)f.unshift(t.c32[0]);if(u){const b=u-f.length;for(let v=0;v<b;v++)f.unshift(t.c32[0])}return f.join("")}t.c32encode=s;function i(c){return c.toUpperCase().replace(/O/g,"0").replace(/L|I/g,"1")}t.c32normalize=i;function a(c,u){if(c=i(c),!c.match(`^[${t.c32}]*$`))throw new Error("Not a c32-encoded string");const f=c.match(`^${t.c32[0]}*`),h=f?f[0].length:0;let p=[],g=0,y=0;for(let E=c.length-1;E>=0;E--){y===4&&(p.unshift(n[g]),y=0,g=0);const S=(t.c32.indexOf(c[E])<<y)+g,D=n[S%16];if(y+=1,g=S>>4,g>1<<y)throw new Error("Panic error in decoding.");p.unshift(D)}p.unshift(n[g]),p.length%2===1&&p.unshift("0");let b=0;for(let E=0;E<p.length&&p[E]==="0";E++)b++;p=p.slice(b-b%2);let v=p.join("");for(let E=0;E<h;E++)v=`00${v}`;if(u){const E=u*2-v.length;for(let A=0;A<E;A+=2)v=`00${v}`}return v}t.c32decode=a})(U1)),U1}var yc={},wc={},bd={},qn={},Q4;function UB(){if(Q4)return qn;Q4=1,Object.defineProperty(qn,"__esModule",{value:!0}),qn.output=qn.exists=qn.hash=qn.bytes=qn.bool=qn.number=void 0;function t(u){if(!Number.isSafeInteger(u)||u<0)throw new Error(`Wrong positive integer: ${u}`)}qn.number=t;function e(u){if(typeof u!="boolean")throw new Error(`Expected boolean, not ${u}`)}qn.bool=e;function n(u,...f){if(!(u instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(f.length>0&&!f.includes(u.length))throw new TypeError(`Expected Uint8Array of length ${f}, not of length=${u.length}`)}qn.bytes=n;function s(u){if(typeof u!="function"||typeof u.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");t(u.outputLen),t(u.blockLen)}qn.hash=s;function i(u,f=!0){if(u.destroyed)throw new Error("Hash instance has been destroyed");if(f&&u.finished)throw new Error("Hash#digest() has already been called")}qn.exists=i;function a(u,f){n(u);const h=f.outputLen;if(u.length<h)throw new Error(`digestInto() expects output buffer of length at least ${h}`)}qn.output=a;const c={number:t,bool:e,bytes:n,hash:s,exists:i,output:a};return qn.default=c,qn}var Z4;function PB(){if(Z4)return bd;Z4=1,Object.defineProperty(bd,"__esModule",{value:!0}),bd.SHA2=void 0;const t=UB(),e=of();function n(i,a,c,u){if(typeof i.setBigUint64=="function")return i.setBigUint64(a,c,u);const f=BigInt(32),h=BigInt(4294967295),p=Number(c>>f&h),g=Number(c&h),y=u?4:0,b=u?0:4;i.setUint32(a+y,p,u),i.setUint32(a+b,g,u)}class s extends e.Hash{constructor(a,c,u,f){super(),this.blockLen=a,this.outputLen=c,this.padOffset=u,this.isLE=f,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(a),this.view=(0,e.createView)(this.buffer)}update(a){t.default.exists(this);const{view:c,buffer:u,blockLen:f}=this;a=(0,e.toBytes)(a);const h=a.length;for(let p=0;p<h;){const g=Math.min(f-this.pos,h-p);if(g===f){const y=(0,e.createView)(a);for(;f<=h-p;p+=f)this.process(y,p);continue}u.set(a.subarray(p,p+g),this.pos),this.pos+=g,p+=g,this.pos===f&&(this.process(c,0),this.pos=0)}return this.length+=a.length,this.roundClean(),this}digestInto(a){t.default.exists(this),t.default.output(a,this),this.finished=!0;const{buffer:c,view:u,blockLen:f,isLE:h}=this;let{pos:p}=this;c[p++]=128,this.buffer.subarray(p).fill(0),this.padOffset>f-p&&(this.process(u,0),p=0);for(let E=p;E<f;E++)c[E]=0;n(u,f-8,BigInt(this.length*8),h),this.process(u,0);const g=(0,e.createView)(a),y=this.outputLen;if(y%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const b=y/4,v=this.get();if(b>v.length)throw new Error("_sha2: outputLen bigger than state");for(let E=0;E<b;E++)g.setUint32(4*E,v[E],h)}digest(){const{buffer:a,outputLen:c}=this;this.digestInto(a);const u=a.slice(0,c);return this.destroy(),u}_cloneInto(a){a||(a=new this.constructor),a.set(...this.get());const{blockLen:c,buffer:u,length:f,finished:h,destroyed:p,pos:g}=this;return a.length=f,a.pos=g,a.finished=h,a.destroyed=p,f%c&&a.buffer.set(u),a}}return bd.SHA2=s,bd}var J4;function y6(){if(J4)return wc;J4=1,Object.defineProperty(wc,"__esModule",{value:!0}),wc.sha224=wc.sha256=void 0;const t=PB(),e=of(),n=(h,p,g)=>h&p^~h&g,s=(h,p,g)=>h&p^h&g^p&g,i=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),a=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),c=new Uint32Array(64);class u extends t.SHA2{constructor(){super(64,32,8,!1),this.A=a[0]|0,this.B=a[1]|0,this.C=a[2]|0,this.D=a[3]|0,this.E=a[4]|0,this.F=a[5]|0,this.G=a[6]|0,this.H=a[7]|0}get(){const{A:p,B:g,C:y,D:b,E:v,F:E,G:A,H:S}=this;return[p,g,y,b,v,E,A,S]}set(p,g,y,b,v,E,A,S){this.A=p|0,this.B=g|0,this.C=y|0,this.D=b|0,this.E=v|0,this.F=E|0,this.G=A|0,this.H=S|0}process(p,g){for(let N=0;N<16;N++,g+=4)c[N]=p.getUint32(g,!1);for(let N=16;N<64;N++){const T=c[N-15],I=c[N-2],$=(0,e.rotr)(T,7)^(0,e.rotr)(T,18)^T>>>3,P=(0,e.rotr)(I,17)^(0,e.rotr)(I,19)^I>>>10;c[N]=P+c[N-7]+$+c[N-16]|0}let{A:y,B:b,C:v,D:E,E:A,F:S,G:D,H:x}=this;for(let N=0;N<64;N++){const T=(0,e.rotr)(A,6)^(0,e.rotr)(A,11)^(0,e.rotr)(A,25),I=x+T+n(A,S,D)+i[N]+c[N]|0,P=((0,e.rotr)(y,2)^(0,e.rotr)(y,13)^(0,e.rotr)(y,22))+s(y,b,v)|0;x=D,D=S,S=A,A=E+I|0,E=v,v=b,b=y,y=I+P|0}y=y+this.A|0,b=b+this.B|0,v=v+this.C|0,E=E+this.D|0,A=A+this.E|0,S=S+this.F|0,D=D+this.G|0,x=x+this.H|0,this.set(y,b,v,E,A,S,D,x)}roundClean(){c.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}class f extends u{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}}return wc.sha256=(0,e.wrapConstructor)(()=>new u),wc.sha224=(0,e.wrapConstructor)(()=>new f),wc}var eN;function w6(){if(eN)return yc;eN=1,Object.defineProperty(yc,"__esModule",{value:!0}),yc.c32checkDecode=yc.c32checkEncode=void 0;const t=y6(),e=of(),n=m6();function s(c){const u=(0,t.sha256)((0,t.sha256)((0,e.hexToBytes)(c)));return(0,e.bytesToHex)(u.slice(0,4))}function i(c,u){if(c<0||c>=32)throw new Error("Invalid version (must be between 0 and 31)");if(!u.match(/^[0-9a-fA-F]*$/))throw new Error("Invalid data (not a hex string)");u=u.toLowerCase(),u.length%2!==0&&(u=`0${u}`);let f=c.toString(16);f.length===1&&(f=`0${f}`);const h=s(`${f}${u}`),p=(0,n.c32encode)(`${u}${h}`);return`${n.c32[c]}${p}`}yc.c32checkEncode=i;function a(c){c=(0,n.c32normalize)(c);const u=(0,n.c32decode)(c.slice(1)),f=c[0],h=n.c32.indexOf(f),p=u.slice(-8);let g=h.toString(16);if(g.length===1&&(g=`0${g}`),s(`${g}${u.substring(0,u.length-8)}`)!==p)throw new Error("Invalid c32check string: checksum mismatch");return[h,u.substring(0,u.length-8)]}return yc.c32checkDecode=a,yc}var L1={},bc={},k1,tN;function LB(){if(tN)return k1;tN=1;function t(e){if(e.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),s=0;s<n.length;s++)n[s]=255;for(var i=0;i<e.length;i++){var a=e.charAt(i),c=a.charCodeAt(0);if(n[c]!==255)throw new TypeError(a+" is ambiguous");n[c]=i}var u=e.length,f=e.charAt(0),h=Math.log(u)/Math.log(256),p=Math.log(256)/Math.log(u);function g(v){if(v instanceof Uint8Array||(ArrayBuffer.isView(v)?v=new Uint8Array(v.buffer,v.byteOffset,v.byteLength):Array.isArray(v)&&(v=Uint8Array.from(v))),!(v instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(v.length===0)return"";for(var E=0,A=0,S=0,D=v.length;S!==D&&v[S]===0;)S++,E++;for(var x=(D-S)*p+1>>>0,N=new Uint8Array(x);S!==D;){for(var T=v[S],I=0,$=x-1;(T!==0||I<A)&&$!==-1;$--,I++)T+=256*N[$]>>>0,N[$]=T%u>>>0,T=T/u>>>0;if(T!==0)throw new Error("Non-zero carry");A=I,S++}for(var P=x-A;P!==x&&N[P]===0;)P++;for(var M=f.repeat(E);P<x;++P)M+=e.charAt(N[P]);return M}function y(v){if(typeof v!="string")throw new TypeError("Expected String");if(v.length===0)return new Uint8Array;for(var E=0,A=0,S=0;v[E]===f;)A++,E++;for(var D=(v.length-E)*h+1>>>0,x=new Uint8Array(D);v[E];){var N=v.charCodeAt(E);if(N>255)return;var T=n[N];if(T===255)return;for(var I=0,$=D-1;(T!==0||I<S)&&$!==-1;$--,I++)T+=u*x[$]>>>0,x[$]=T%256>>>0,T=T/256>>>0;if(T!==0)throw new Error("Non-zero carry");S=I,E++}for(var P=D-S;P!==D&&x[P]===0;)P++;for(var M=new Uint8Array(A+(D-P)),z=A;P!==D;)M[z++]=x[P++];return M}function b(v){var E=y(v);if(E)return E;throw new Error("Non-base"+u+" character")}return{encode:g,decodeUnsafe:y,decode:b}}return k1=t,k1}var nN;function kB(){if(nN)return bc;nN=1,Object.defineProperty(bc,"__esModule",{value:!0}),bc.decode=bc.encode=void 0;const t=y6(),e=of(),n=LB(),s="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";function i(c,u="00"){const f=typeof c=="string"?(0,e.hexToBytes)(c):c,h=typeof u=="string"?(0,e.hexToBytes)(u):c;if(!(f instanceof Uint8Array)||!(h instanceof Uint8Array))throw new TypeError("Argument must be of type Uint8Array or string");const p=(0,t.sha256)((0,t.sha256)(new Uint8Array([...h,...f])));return n(s).encode([...h,...f,...p.slice(0,4)])}bc.encode=i;function a(c){const u=n(s).decode(c),f=u.slice(0,1),h=u.slice(1,-4),p=(0,t.sha256)((0,t.sha256)(new Uint8Array([...f,...h])));return u.slice(-4).forEach((g,y)=>{if(g!==p[y])throw new Error("Invalid checksum")}),{prefix:f,data:h}}return bc.decode=a,bc}var sN;function BB(){return sN||(sN=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.c32ToB58=t.b58ToC32=t.c32addressDecode=t.c32address=t.versions=void 0;const e=w6(),n=kB(),s=of();t.versions={mainnet:{p2pkh:22,p2sh:20},testnet:{p2pkh:26,p2sh:21}};const i={};i[0]=t.versions.mainnet.p2pkh,i[5]=t.versions.mainnet.p2sh,i[111]=t.versions.testnet.p2pkh,i[196]=t.versions.testnet.p2sh;const a={};a[t.versions.mainnet.p2pkh]=0,a[t.versions.mainnet.p2sh]=5,a[t.versions.testnet.p2pkh]=111,a[t.versions.testnet.p2sh]=196;function c(p,g){if(!g.match(/^[0-9a-fA-F]{40}$/))throw new Error("Invalid argument: not a hash160 hex string");return`S${(0,e.c32checkEncode)(p,g)}`}t.c32address=c;function u(p){if(p.length<=5)throw new Error("Invalid c32 address: invalid length");if(p[0]!="S")throw new Error('Invalid c32 address: must start with "S"');return(0,e.c32checkDecode)(p.slice(1))}t.c32addressDecode=u;function f(p,g=-1){const y=n.decode(p),b=(0,s.bytesToHex)(y.data),v=parseInt((0,s.bytesToHex)(y.prefix),16);let E;return g<0?(E=v,i[v]!==void 0&&(E=i[v])):E=g,c(E,b)}t.b58ToC32=f;function h(p,g=-1){const y=u(p),b=y[0],v=y[1];let E;g<0?(E=b,a[b]!==void 0&&(E=a[b])):E=g;let A=E.toString(16);return A.length===1&&(A=`0${A}`),n.encode(v,A)}t.c32ToB58=h})(L1)),L1}var iN;function jB(){return iN||(iN=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.b58ToC32=t.c32ToB58=t.versions=t.c32normalize=t.c32addressDecode=t.c32address=t.c32checkDecode=t.c32checkEncode=t.c32decode=t.c32encode=void 0;const e=m6();Object.defineProperty(t,"c32encode",{enumerable:!0,get:function(){return e.c32encode}}),Object.defineProperty(t,"c32decode",{enumerable:!0,get:function(){return e.c32decode}}),Object.defineProperty(t,"c32normalize",{enumerable:!0,get:function(){return e.c32normalize}});const n=w6();Object.defineProperty(t,"c32checkEncode",{enumerable:!0,get:function(){return n.c32checkEncode}}),Object.defineProperty(t,"c32checkDecode",{enumerable:!0,get:function(){return n.c32checkDecode}});const s=BB();Object.defineProperty(t,"c32address",{enumerable:!0,get:function(){return s.c32address}}),Object.defineProperty(t,"c32addressDecode",{enumerable:!0,get:function(){return s.c32addressDecode}}),Object.defineProperty(t,"c32ToB58",{enumerable:!0,get:function(){return s.c32ToB58}}),Object.defineProperty(t,"b58ToC32",{enumerable:!0,get:function(){return s.b58ToC32}}),Object.defineProperty(t,"versions",{enumerable:!0,get:function(){return s.versions}})})($1)),$1}var zB=jB();const HB=new Uint8Array([7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8]),b6=Uint8Array.from({length:16},(t,e)=>e),FB=b6.map(t=>(9*t+5)%16);let SE=[b6],xE=[FB];for(let t=0;t<4;t++)for(let e of[SE,xE])e.push(e[t].map(n=>HB[n]));const v6=[[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8],[12,13,11,15,6,9,9,7,12,15,11,13,7,8,7,7],[13,15,14,11,7,7,6,8,13,14,13,12,5,5,6,9],[14,11,12,14,8,6,5,5,15,12,15,14,9,9,8,6],[15,12,13,13,9,5,8,6,14,11,12,11,8,6,5,5]].map(t=>new Uint8Array(t)),qB=SE.map((t,e)=>t.map(n=>v6[e][n])),VB=xE.map((t,e)=>t.map(n=>v6[e][n])),WB=new Uint32Array([0,1518500249,1859775393,2400959708,2840853838]),KB=new Uint32Array([1352829926,1548603684,1836072691,2053994217,0]),Qg=(t,e)=>t<<e|t>>>32-e;function rN(t,e,n,s){return t===0?e^n^s:t===1?e&n|~e&s:t===2?(e|~n)^s:t===3?e&s|n&~s:e^(n|~s)}const Zg=new Uint32Array(16);class GB extends AE{constructor(){super(64,20,8,!0),this.h0=1732584193,this.h1=-271733879,this.h2=-1732584194,this.h3=271733878,this.h4=-1009589776}get(){const{h0:e,h1:n,h2:s,h3:i,h4:a}=this;return[e,n,s,i,a]}set(e,n,s,i,a){this.h0=e|0,this.h1=n|0,this.h2=s|0,this.h3=i|0,this.h4=a|0}process(e,n){for(let b=0;b<16;b++,n+=4)Zg[b]=e.getUint32(n,!0);let s=this.h0|0,i=s,a=this.h1|0,c=a,u=this.h2|0,f=u,h=this.h3|0,p=h,g=this.h4|0,y=g;for(let b=0;b<5;b++){const v=4-b,E=WB[b],A=KB[b],S=SE[b],D=xE[b],x=qB[b],N=VB[b];for(let T=0;T<16;T++){const I=Qg(s+rN(b,a,u,h)+Zg[S[T]]+E,x[T])+g|0;s=g,g=h,h=Qg(u,10)|0,u=a,a=I}for(let T=0;T<16;T++){const I=Qg(i+rN(v,c,f,p)+Zg[D[T]]+A,N[T])+y|0;i=y,y=p,p=Qg(f,10)|0,f=c,c=I}}this.set(this.h1+u+p|0,this.h2+h+y|0,this.h3+g+i|0,this.h4+s+c|0,this.h0+a+f|0)}roundClean(){Zg.fill(0)}destroy(){this.destroyed=!0,this.buffer.fill(0),this.set(0,0,0,0,0)}}nl(()=>new GB);const Jg=BigInt(2**32-1),Av=BigInt(32);function E6(t,e=!1){return e?{h:Number(t&Jg),l:Number(t>>Av&Jg)}:{h:Number(t>>Av&Jg)|0,l:Number(t&Jg)|0}}function YB(t,e=!1){let n=new Uint32Array(t.length),s=new Uint32Array(t.length);for(let i=0;i<t.length;i++){const{h:a,l:c}=E6(t[i],e);[n[i],s[i]]=[a,c]}return[n,s]}const XB=(t,e)=>BigInt(t>>>0)<<Av|BigInt(e>>>0),QB=(t,e,n)=>t>>>n,ZB=(t,e,n)=>t<<32-n|e>>>n,JB=(t,e,n)=>t>>>n|e<<32-n,ej=(t,e,n)=>t<<32-n|e>>>n,tj=(t,e,n)=>t<<64-n|e>>>n-32,nj=(t,e,n)=>t>>>n-32|e<<64-n,sj=(t,e)=>e,ij=(t,e)=>t,rj=(t,e,n)=>t<<n|e>>>32-n,oj=(t,e,n)=>e<<n|t>>>32-n,aj=(t,e,n)=>e<<n-32|t>>>64-n,cj=(t,e,n)=>t<<n-32|e>>>64-n;function lj(t,e,n,s){const i=(e>>>0)+(s>>>0);return{h:t+n+(i/2**32|0)|0,l:i|0}}const uj=(t,e,n)=>(t>>>0)+(e>>>0)+(n>>>0),fj=(t,e,n,s)=>e+n+s+(t/2**32|0)|0,dj=(t,e,n,s)=>(t>>>0)+(e>>>0)+(n>>>0)+(s>>>0),hj=(t,e,n,s,i)=>e+n+s+i+(t/2**32|0)|0,pj=(t,e,n,s,i)=>(t>>>0)+(e>>>0)+(n>>>0)+(s>>>0)+(i>>>0),gj=(t,e,n,s,i,a)=>e+n+s+i+a+(t/2**32|0)|0,We={fromBig:E6,split:YB,toBig:XB,shrSH:QB,shrSL:ZB,rotrSH:JB,rotrSL:ej,rotrBH:tj,rotrBL:nj,rotr32H:sj,rotr32L:ij,rotlSH:rj,rotlSL:oj,rotlBH:aj,rotlBL:cj,add:lj,add3L:uj,add3H:fj,add4L:dj,add4H:hj,add5H:gj,add5L:pj},[mj,yj]=We.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),ca=new Uint32Array(80),la=new Uint32Array(80);class Im extends AE{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:n,Bh:s,Bl:i,Ch:a,Cl:c,Dh:u,Dl:f,Eh:h,El:p,Fh:g,Fl:y,Gh:b,Gl:v,Hh:E,Hl:A}=this;return[e,n,s,i,a,c,u,f,h,p,g,y,b,v,E,A]}set(e,n,s,i,a,c,u,f,h,p,g,y,b,v,E,A){this.Ah=e|0,this.Al=n|0,this.Bh=s|0,this.Bl=i|0,this.Ch=a|0,this.Cl=c|0,this.Dh=u|0,this.Dl=f|0,this.Eh=h|0,this.El=p|0,this.Fh=g|0,this.Fl=y|0,this.Gh=b|0,this.Gl=v|0,this.Hh=E|0,this.Hl=A|0}process(e,n){for(let x=0;x<16;x++,n+=4)ca[x]=e.getUint32(n),la[x]=e.getUint32(n+=4);for(let x=16;x<80;x++){const N=ca[x-15]|0,T=la[x-15]|0,I=We.rotrSH(N,T,1)^We.rotrSH(N,T,8)^We.shrSH(N,T,7),$=We.rotrSL(N,T,1)^We.rotrSL(N,T,8)^We.shrSL(N,T,7),P=ca[x-2]|0,M=la[x-2]|0,z=We.rotrSH(P,M,19)^We.rotrBH(P,M,61)^We.shrSH(P,M,6),q=We.rotrSL(P,M,19)^We.rotrBL(P,M,61)^We.shrSL(P,M,6),F=We.add4L($,q,la[x-7],la[x-16]),ee=We.add4H(F,I,z,ca[x-7],ca[x-16]);ca[x]=ee|0,la[x]=F|0}let{Ah:s,Al:i,Bh:a,Bl:c,Ch:u,Cl:f,Dh:h,Dl:p,Eh:g,El:y,Fh:b,Fl:v,Gh:E,Gl:A,Hh:S,Hl:D}=this;for(let x=0;x<80;x++){const N=We.rotrSH(g,y,14)^We.rotrSH(g,y,18)^We.rotrBH(g,y,41),T=We.rotrSL(g,y,14)^We.rotrSL(g,y,18)^We.rotrBL(g,y,41),I=g&b^~g&E,$=y&v^~y&A,P=We.add5L(D,T,$,yj[x],la[x]),M=We.add5H(P,S,N,I,mj[x],ca[x]),z=P|0,q=We.rotrSH(s,i,28)^We.rotrBH(s,i,34)^We.rotrBH(s,i,39),F=We.rotrSL(s,i,28)^We.rotrBL(s,i,34)^We.rotrBL(s,i,39),ee=s&a^s&u^a&u,Q=i&c^i&f^c&f;S=E|0,D=A|0,E=b|0,A=v|0,b=g|0,v=y|0,{h:g,l:y}=We.add(h|0,p|0,M|0,z|0),h=u|0,p=f|0,u=a|0,f=c|0,a=s|0,c=i|0;const R=We.add3L(z,F,Q);s=We.add3H(R,M,q,ee),i=R|0}({h:s,l:i}=We.add(this.Ah|0,this.Al|0,s|0,i|0)),{h:a,l:c}=We.add(this.Bh|0,this.Bl|0,a|0,c|0),{h:u,l:f}=We.add(this.Ch|0,this.Cl|0,u|0,f|0),{h,l:p}=We.add(this.Dh|0,this.Dl|0,h|0,p|0),{h:g,l:y}=We.add(this.Eh|0,this.El|0,g|0,y|0),{h:b,l:v}=We.add(this.Fh|0,this.Fl|0,b|0,v|0),{h:E,l:A}=We.add(this.Gh|0,this.Gl|0,E|0,A|0),{h:S,l:D}=We.add(this.Hh|0,this.Hl|0,S|0,D|0),this.set(s,i,a,c,u,f,h,p,g,y,b,v,E,A,S,D)}roundClean(){ca.fill(0),la.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}class wj extends Im{constructor(){super(),this.Ah=-1942145080,this.Al=424955298,this.Bh=1944164710,this.Bl=-1982016298,this.Ch=502970286,this.Cl=855612546,this.Dh=1738396948,this.Dl=1479516111,this.Eh=258812777,this.El=2077511080,this.Fh=2011393907,this.Fl=79989058,this.Gh=1067287976,this.Gl=1780299464,this.Hh=286451373,this.Hl=-1848208735,this.outputLen=28}}class bj extends Im{constructor(){super(),this.Ah=573645204,this.Al=-64227540,this.Bh=-1621794909,this.Bl=-934517566,this.Ch=596883563,this.Cl=1867755857,this.Dh=-1774684391,this.Dl=1497426621,this.Eh=-1775747358,this.El=-1467023389,this.Fh=-1101128155,this.Fl=1401305490,this.Gh=721525244,this.Gl=746961066,this.Hh=246885852,this.Hl=-2117784414,this.outputLen=32}}class vj extends Im{constructor(){super(),this.Ah=-876896931,this.Al=-1056596264,this.Bh=1654270250,this.Bl=914150663,this.Ch=-1856437926,this.Cl=812702999,this.Dh=355462360,this.Dl=-150054599,this.Eh=1731405415,this.El=-4191439,this.Fh=-1900787065,this.Fl=1750603025,this.Gh=-619958771,this.Gl=1694076839,this.Hh=1203062813,this.Hl=-1090891868,this.outputLen=48}}nl(()=>new Im);nl(()=>new wj);nl(()=>new bj);nl(()=>new vj);var Bd={exports:{}};Bd.exports;var oN;function Ej(){return oN||(oN=1,(function(t,e){var n=200,s="__lodash_hash_undefined__",i=9007199254740991,a="[object Arguments]",c="[object Array]",u="[object Boolean]",f="[object Date]",h="[object Error]",p="[object Function]",g="[object GeneratorFunction]",y="[object Map]",b="[object Number]",v="[object Object]",E="[object Promise]",A="[object RegExp]",S="[object Set]",D="[object String]",x="[object Symbol]",N="[object WeakMap]",T="[object ArrayBuffer]",I="[object DataView]",$="[object Float32Array]",P="[object Float64Array]",M="[object Int8Array]",z="[object Int16Array]",q="[object Int32Array]",F="[object Uint8Array]",ee="[object Uint8ClampedArray]",Q="[object Uint16Array]",R="[object Uint32Array]",_=/[\\^$.*+?()[\]{}|]/g,k=/\w*$/,H=/^\[object .+?Constructor\]$/,G=/^(?:0|[1-9]\d*)$/,V={};V[a]=V[c]=V[T]=V[I]=V[u]=V[f]=V[$]=V[P]=V[M]=V[z]=V[q]=V[y]=V[b]=V[v]=V[A]=V[S]=V[D]=V[x]=V[F]=V[ee]=V[Q]=V[R]=!0,V[h]=V[p]=V[N]=!1;var U=typeof Cs=="object"&&Cs&&Cs.Object===Object&&Cs,K=typeof self=="object"&&self&&self.Object===Object&&self,te=U||K||Function("return this")(),ie=e&&!e.nodeType&&e,ue=ie&&!0&&t&&!t.nodeType&&t,pe=ue&&ue.exports===ie;function xe(L,ne){return L.set(ne[0],ne[1]),L}function ke(L,ne){return L.add(ne),L}function Te(L,ne){for(var le=-1,Ee=L?L.length:0;++le<Ee&&ne(L[le],le,L)!==!1;);return L}function mt(L,ne){for(var le=-1,Ee=ne.length,Rt=L.length;++le<Ee;)L[Rt+le]=ne[le];return L}function Ot(L,ne,le,Ee){for(var Rt=-1,cn=L?L.length:0;++Rt<cn;)le=ne(le,L[Rt],Rt,L);return le}function Os(L,ne){for(var le=-1,Ee=Array(L);++le<L;)Ee[le]=ne(le);return Ee}function Rr(L,ne){return L?.[ne]}function Sn(L){var ne=!1;if(L!=null&&typeof L.toString!="function")try{ne=!!(L+"")}catch{}return ne}function Qi(L){var ne=-1,le=Array(L.size);return L.forEach(function(Ee,Rt){le[++ne]=[Rt,Ee]}),le}function $r(L,ne){return function(le){return L(ne(le))}}function fl(L){var ne=-1,le=Array(L.size);return L.forEach(function(Ee){le[++ne]=Ee}),le}var dl=Array.prototype,_o=Function.prototype,Di=Object.prototype,Oi=te["__core-js_shared__"],Ha=(function(){var L=/[^.]+$/.exec(Oi&&Oi.keys&&Oi.keys.IE_PROTO||"");return L?"Symbol(src)_1."+L:""})(),Fa=_o.toString,Mt=Di.hasOwnProperty,Ur=Di.toString,qa=RegExp("^"+Fa.call(Mt).replace(_,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Va=pe?te.Buffer:void 0,Pr=te.Symbol,hl=te.Uint8Array,pl=$r(Object.getPrototypeOf,Object),Jm=Object.create,ey=Di.propertyIsEnumerable,Wa=dl.splice,jn=Object.getOwnPropertySymbols,Zi=Va?Va.isBuffer:void 0,Zn=$r(Object.keys,Object),mf=Br(te,"DataView"),Ka=Br(te,"Map"),yf=Br(te,"Promise"),Io=Br(te,"Set"),Do=Br(te,"WeakMap"),Ji=Br(Object,"create"),Lr=$i(mf),gl=$i(Ka),Ga=$i(yf),ty=$i(Io),Np=$i(Do),ml=Pr?Pr.prototype:void 0,Oo=ml?ml.valueOf:void 0;function kr(L){var ne=-1,le=L?L.length:0;for(this.clear();++ne<le;){var Ee=L[ne];this.set(Ee[0],Ee[1])}}function Tp(){this.__data__=Ji?Ji(null):{}}function _p(L){return this.has(L)&&delete this.__data__[L]}function Ip(L){var ne=this.__data__;if(Ji){var le=ne[L];return le===s?void 0:le}return Mt.call(ne,L)?ne[L]:void 0}function wf(L){var ne=this.__data__;return Ji?ne[L]!==void 0:Mt.call(ne,L)}function bf(L,ne){var le=this.__data__;return le[L]=Ji&&ne===void 0?s:ne,this}kr.prototype.clear=Tp,kr.prototype.delete=_p,kr.prototype.get=Ip,kr.prototype.has=wf,kr.prototype.set=bf;function ei(L){var ne=-1,le=L?L.length:0;for(this.clear();++ne<le;){var Ee=L[ne];this.set(Ee[0],Ee[1])}}function Dp(){this.__data__=[]}function er(L){var ne=this.__data__,le=Mi(ne,L);if(le<0)return!1;var Ee=ne.length-1;return le==Ee?ne.pop():Wa.call(ne,le,1),!0}function an(L){var ne=this.__data__,le=Mi(ne,L);return le<0?void 0:ne[le][1]}function zn(L){return Mi(this.__data__,L)>-1}function Mo(L,ne){var le=this.__data__,Ee=Mi(le,L);return Ee<0?le.push([L,ne]):le[Ee][1]=ne,this}ei.prototype.clear=Dp,ei.prototype.delete=er,ei.prototype.get=an,ei.prototype.has=zn,ei.prototype.set=Mo;function tr(L){var ne=-1,le=L?L.length:0;for(this.clear();++ne<le;){var Ee=L[ne];this.set(Ee[0],Ee[1])}}function ny(){this.__data__={hash:new kr,map:new(Ka||ei),string:new kr}}function sy(L){return Qa(this,L).delete(L)}function Op(L){return Qa(this,L).get(L)}function Ya(L){return Qa(this,L).has(L)}function vf(L,ne){return Qa(this,L).set(L,ne),this}tr.prototype.clear=ny,tr.prototype.delete=sy,tr.prototype.get=Op,tr.prototype.has=Ya,tr.prototype.set=vf;function Ms(L){this.__data__=new ei(L)}function Ro(){this.__data__=new ei}function Xa(L){return this.__data__.delete(L)}function $o(L){return this.__data__.get(L)}function Zt(L){return this.__data__.has(L)}function Mp(L,ne){var le=this.__data__;if(le instanceof ei){var Ee=le.__data__;if(!Ka||Ee.length<n-1)return Ee.push([L,ne]),this;le=this.__data__=new tr(Ee)}return le.set(L,ne),this}Ms.prototype.clear=Ro,Ms.prototype.delete=Xa,Ms.prototype.get=$o,Ms.prototype.has=Zt,Ms.prototype.set=Mp;function Rp(L,ne){var le=Cl(L)||Po(L)?Os(L.length,String):[],Ee=le.length,Rt=!!Ee;for(var cn in L)Mt.call(L,cn)&&!(Rt&&(cn=="length"||cy(cn,Ee)))&&le.push(cn);return le}function nr(L,ne,le){var Ee=L[ne];(!(Mt.call(L,ne)&&Hr(Ee,le))||le===void 0&&!(ne in L))&&(L[ne]=le)}function Mi(L,ne){for(var le=L.length;le--;)if(Hr(L[le][0],ne))return le;return-1}function iy(L,ne){return L&&Cf(ne,Ja(ne),L)}function yl(L,ne,le,Ee,Rt,cn,Jn){var Hn;if(Ee&&(Hn=cn?Ee(L,Rt,cn,Jn):Ee(L)),Hn!==void 0)return Hn;if(!sr(L))return L;var Nl=Cl(L);if(Nl){if(Hn=Pp(L),!ne)return Af(L,Hn)}else{var rr=zr(L),Lo=rr==p||rr==g;if(Za(L))return rs(L,ne);if(rr==v||rr==a||Lo&&!cn){if(Sn(L))return cn?L:{};if(Hn=Lp(Lo?{}:L),!ne)return Sf(L,iy(Hn,L))}else{if(!V[rr])return cn?L:{};Hn=xf(L,rr,yl,ne)}}Jn||(Jn=new Ms);var ec=Jn.get(L);if(ec)return ec;if(Jn.set(L,Hn),!Nl)var _f=le?Uo(L):Ja(L);return Te(_f||L,function(If,Tl){_f&&(Tl=If,If=L[Tl]),nr(Hn,Tl,yl(If,ne,le,Ee,Tl,L,Jn))}),Hn}function $p(L){return sr(L)?Jm(L):{}}function ry(L,ne,le){var Ee=ne(L);return Cl(L)?Ee:mt(Ee,le(L))}function wl(L){return Ur.call(L)}function bl(L){if(!sr(L)||Al(L))return!1;var ne=ni(L)||Sn(L)?qa:H;return ne.test($i(L))}function Ri(L){if(!ti(L))return Zn(L);var ne=[];for(var le in Object(L))Mt.call(L,le)&&le!="constructor"&&ne.push(le);return ne}function rs(L,ne){if(ne)return L.slice();var le=new L.constructor(L.length);return L.copy(le),le}function vl(L){var ne=new L.constructor(L.byteLength);return new hl(ne).set(new hl(L)),ne}function oy(L,ne){var le=ne?vl(L.buffer):L.buffer;return new L.constructor(le,L.byteOffset,L.byteLength)}function Ef(L,ne,le){var Ee=ne?le(Qi(L),!0):Qi(L);return Ot(Ee,xe,new L.constructor)}function Up(L){var ne=new L.constructor(L.source,k.exec(L));return ne.lastIndex=L.lastIndex,ne}function El(L,ne,le){var Ee=ne?le(fl(L),!0):fl(L);return Ot(Ee,ke,new L.constructor)}function ay(L){return Oo?Object(Oo.call(L)):{}}function os(L,ne){var le=ne?vl(L.buffer):L.buffer;return new L.constructor(le,L.byteOffset,L.length)}function Af(L,ne){var le=-1,Ee=L.length;for(ne||(ne=Array(Ee));++le<Ee;)ne[le]=L[le];return ne}function Cf(L,ne,le,Ee){le||(le={});for(var Rt=-1,cn=ne.length;++Rt<cn;){var Jn=ne[Rt],Hn=void 0;nr(le,Jn,Hn===void 0?L[Jn]:Hn)}return le}function Sf(L,ne){return Cf(L,jr(L),ne)}function Uo(L){return ry(L,Ja,jr)}function Qa(L,ne){var le=L.__data__;return ly(ne)?le[typeof ne=="string"?"string":"hash"]:le.map}function Br(L,ne){var le=Rr(L,ne);return bl(le)?le:void 0}var jr=jn?$r(jn,Object):xl,zr=wl;(mf&&zr(new mf(new ArrayBuffer(1)))!=I||Ka&&zr(new Ka)!=y||yf&&zr(yf.resolve())!=E||Io&&zr(new Io)!=S||Do&&zr(new Do)!=N)&&(zr=function(L){var ne=Ur.call(L),le=ne==v?L.constructor:void 0,Ee=le?$i(le):void 0;if(Ee)switch(Ee){case Lr:return I;case gl:return y;case Ga:return E;case ty:return S;case Np:return N}return ne});function Pp(L){var ne=L.length,le=L.constructor(ne);return ne&&typeof L[0]=="string"&&Mt.call(L,"index")&&(le.index=L.index,le.input=L.input),le}function Lp(L){return typeof L.constructor=="function"&&!ti(L)?$p(pl(L)):{}}function xf(L,ne,le,Ee){var Rt=L.constructor;switch(ne){case T:return vl(L);case u:case f:return new Rt(+L);case I:return oy(L,Ee);case $:case P:case M:case z:case q:case F:case ee:case Q:case R:return os(L,Ee);case y:return Ef(L,Ee,le);case b:case D:return new Rt(L);case A:return Up(L);case S:return El(L,Ee,le);case x:return ay(L)}}function cy(L,ne){return ne=ne??i,!!ne&&(typeof L=="number"||G.test(L))&&L>-1&&L%1==0&&L<ne}function ly(L){var ne=typeof L;return ne=="string"||ne=="number"||ne=="symbol"||ne=="boolean"?L!=="__proto__":L===null}function Al(L){return!!Ha&&Ha in L}function ti(L){var ne=L&&L.constructor,le=typeof ne=="function"&&ne.prototype||Di;return L===le}function $i(L){if(L!=null){try{return Fa.call(L)}catch{}try{return L+""}catch{}}return""}function Nf(L){return yl(L,!0,!0)}function Hr(L,ne){return L===ne||L!==L&&ne!==ne}function Po(L){return kp(L)&&Mt.call(L,"callee")&&(!ey.call(L,"callee")||Ur.call(L)==a)}var Cl=Array.isArray;function Sl(L){return L!=null&&Tf(L.length)&&!ni(L)}function kp(L){return ir(L)&&Sl(L)}var Za=Zi||Bp;function ni(L){var ne=sr(L)?Ur.call(L):"";return ne==p||ne==g}function Tf(L){return typeof L=="number"&&L>-1&&L%1==0&&L<=i}function sr(L){var ne=typeof L;return!!L&&(ne=="object"||ne=="function")}function ir(L){return!!L&&typeof L=="object"}function Ja(L){return Sl(L)?Rp(L):Ri(L)}function xl(){return[]}function Bp(){return!1}t.exports=Nf})(Bd,Bd.exports)),Bd.exports}Ej();var wn;(function(t){t.Int="int",t.UInt="uint",t.Buffer="buffer",t.BoolTrue="true",t.BoolFalse="false",t.PrincipalStandard="address",t.PrincipalContract="contract",t.ResponseOk="ok",t.ResponseErr="err",t.OptionalNone="none",t.OptionalSome="some",t.List="list",t.Tuple="tuple",t.StringASCII="ascii",t.StringUTF8="utf8"})(wn||(wn={}));var Cv;(function(t){t[t.int=0]="int",t[t.uint=1]="uint",t[t.buffer=2]="buffer",t[t.true=3]="true",t[t.false=4]="false",t[t.address=5]="address",t[t.contract=6]="contract",t[t.ok=7]="ok",t[t.err=8]="err",t[t.none=9]="none",t[t.some=10]="some",t[t.list=11]="list",t[t.tuple=12]="tuple",t[t.ascii=13]="ascii",t[t.utf8=14]="utf8"})(Cv||(Cv={}));function NE(t){return Cv[t]}var Ws;(function(t){t[t.Address=0]="Address",t[t.Principal=1]="Principal",t[t.LengthPrefixedString=2]="LengthPrefixedString",t[t.MemoString=3]="MemoString",t[t.Asset=4]="Asset",t[t.PostCondition=5]="PostCondition",t[t.PublicKey=6]="PublicKey",t[t.LengthPrefixedList=7]="LengthPrefixedList",t[t.Payload=8]="Payload",t[t.MessageSignature=9]="MessageSignature",t[t.StructuredDataSignature=10]="StructuredDataSignature",t[t.TransactionAuthField=11]="TransactionAuthField"})(Ws||(Ws={}));function Ah(t,e,n){const s=e||1,i=n||uB;if(Hj(t,i))throw new Error(`String length exceeds maximum bytes ${i}`);return{type:Ws.LengthPrefixedString,content:t,lengthPrefixBytes:s,maxLengthBytes:i}}function Aj(t,e,n){return{type:Ws.Asset,address:lp(t),contractName:Ah(e),assetName:Ah(n)}}function lp(t){const e=zB.c32addressDecode(t);return{type:Ws.Address,version:e[0],hash160:e[1]}}function Cj(t,e){const n=lp(t),s=Ah(e);return{type:Ws.Principal,prefix:Nr.Contract,address:n,contractName:s}}function Sj(t){const e=lp(t);return{type:Ws.Principal,prefix:Nr.Standard,address:e}}function Dm(t){const e=[];return e.push(Yc(fE(t.version,1))),e.push(Yc(t.hash160)),To(e)}function xj(t){const e=[];return e.push(t.prefix),(t.prefix===Nr.Standard||t.prefix===Nr.Contract)&&e.push(Dm(t.address)),t.prefix===Nr.Contract&&e.push(Ch(t.contractName)),To(e)}function Ch(t){const e=[],n=Tm(t.content),s=n.byteLength;return e.push(Yc(fE(s,t.lengthPrefixBytes))),e.push(n),To(e)}function Nj(t){const e=[];return e.push(Dm(t.address)),e.push(Ch(t.contractName)),e.push(Ch(t.assetName)),To(e)}function Tj(t){return cp(_j(t))}function _j(t){const e=[];if(e.push(t.conditionType),e.push(xj(t.principal)),(t.conditionType===Ar.Fungible||t.conditionType===Ar.NonFungible)&&e.push(Nj(t.asset)),t.conditionType===Ar.NonFungible&&e.push(af(t.assetName)),e.push(t.conditionCode),t.conditionType===Ar.STX||t.conditionType===Ar.Fungible){if(t.amount>BigInt("0xffffffffffffffff"))throw new d6("The post-condition amount may not be larger than 8 bytes");e.push(nk(t.amount,8))}return To(e)}function aN(t){const[e,n,s]=t.split(/\.|::/);return Aj(e,n,s)}function B1(t){if(t.includes(".")){const[e,n]=t.split(".");return Cj(e,n)}else return Sj(t)}function Mr(t,e){return To([NE(t),e])}function Ij(t){return new Uint8Array([NE(t.type)])}function Dj(t){return t.type===wn.OptionalNone?new Uint8Array([NE(t.type)]):Mr(t.type,af(t.value))}function Oj(t){const e=new Uint8Array(4);return _m(e,Math.ceil(t.value.length/2),0),Mr(t.type,hE(e,Yc(t.value)))}function Mj(t){const e=dE(ik(BigInt(t.value),BigInt(fB)),f6);return Mr(t.type,e)}function Rj(t){const e=dE(BigInt(t.value),f6);return Mr(t.type,e)}function $j(t){return Mr(t.type,Dm(lp(t.value)))}function Uj(t){const[e,n]=Fj(t.value);return Mr(t.type,hE(Dm(lp(e)),Ch(Ah(n))))}function Pj(t){return Mr(t.type,af(t.value))}function Lj(t){const e=[],n=new Uint8Array(4);_m(n,t.value.length,0),e.push(n);for(const s of t.value){const i=af(s);e.push(i)}return Mr(t.type,To(e))}function kj(t){const e=[],n=new Uint8Array(4);_m(n,Object.keys(t.value).length,0),e.push(n);const s=Object.keys(t.value).sort((i,a)=>i.localeCompare(a));for(const i of s){const a=Ah(i);e.push(Ch(a));const c=af(t.value[i]);e.push(c)}return Mr(t.type,To(e))}function A6(t,e){const n=[],s=e=="ascii"?ak(t.value):Tm(t.value),i=new Uint8Array(4);return _m(i,s.length,0),n.push(i),n.push(s),Mr(t.type,To(n))}function Bj(t){return A6(t,"ascii")}function jj(t){return A6(t,"utf8")}function zj(t){return cp(af(t))}function af(t){switch(t.type){case wn.BoolTrue:case wn.BoolFalse:return Ij(t);case wn.OptionalNone:case wn.OptionalSome:return Dj(t);case wn.Buffer:return Oj(t);case wn.UInt:return Rj(t);case wn.Int:return Mj(t);case wn.PrincipalStandard:return $j(t);case wn.PrincipalContract:return Uj(t);case wn.ResponseOk:case wn.ResponseErr:return Pj(t);case wn.List:return Lj(t);case wn.Tuple:return kj(t);case wn.StringASCII:return Bj(t);case wn.StringUTF8:return jj(t);default:throw new d6("Unable to serialize. Invalid Clarity Value.")}}const Hj=(t,e)=>t?Tm(t).length>e:!1;function Fj(t){const[e,n]=t.split(".");if(!e||!n)throw new Error(`Invalid contract identifier: ${t}`);return[e,n]}var Sv;(function(t){t[t.eq=1]="eq",t[t.gt=2]="gt",t[t.lt=4]="lt",t[t.gte=3]="gte",t[t.lte=5]="lte",t[t.sent=16]="sent",t[t["not-sent"]=17]="not-sent"})(Sv||(Sv={}));function qj(t){switch(t.type){case"stx-postcondition":return{type:Ws.PostCondition,conditionType:Ar.STX,principal:t.address==="origin"?{type:Ws.Principal,prefix:Nr.Origin}:B1(t.address),conditionCode:j1(t.condition),amount:BigInt(t.amount)};case"ft-postcondition":return{type:Ws.PostCondition,conditionType:Ar.Fungible,principal:t.address==="origin"?{type:Ws.Principal,prefix:Nr.Origin}:B1(t.address),conditionCode:j1(t.condition),amount:BigInt(t.amount),asset:aN(t.asset)};case"nft-postcondition":return{type:Ws.PostCondition,conditionType:Ar.NonFungible,principal:t.address==="origin"?{type:Ws.Principal,prefix:Nr.Origin}:B1(t.address),conditionCode:j1(t.condition),asset:aN(t.asset),assetName:t.assetId};default:throw new Error("Invalid post condition type")}}function j1(t){return Sv[t]}function cN(t){const e=qj(t);return Tj(e)}const lN=zj;var e0={exports:{}},uN;function Vj(){if(uN)return e0.exports;uN=1;var t=typeof Reflect=="object"?Reflect:null,e=t&&typeof t.apply=="function"?t.apply:function(T,I,$){return Function.prototype.apply.call(T,I,$)},n;t&&typeof t.ownKeys=="function"?n=t.ownKeys:Object.getOwnPropertySymbols?n=function(T){return Object.getOwnPropertyNames(T).concat(Object.getOwnPropertySymbols(T))}:n=function(T){return Object.getOwnPropertyNames(T)};function s(N){console&&console.warn&&console.warn(N)}var i=Number.isNaN||function(T){return T!==T};function a(){a.init.call(this)}e0.exports=a,e0.exports.once=S,a.EventEmitter=a,a.prototype._events=void 0,a.prototype._eventsCount=0,a.prototype._maxListeners=void 0;var c=10;function u(N){if(typeof N!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof N)}Object.defineProperty(a,"defaultMaxListeners",{enumerable:!0,get:function(){return c},set:function(N){if(typeof N!="number"||N<0||i(N))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+N+".");c=N}}),a.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},a.prototype.setMaxListeners=function(T){if(typeof T!="number"||T<0||i(T))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+T+".");return this._maxListeners=T,this};function f(N){return N._maxListeners===void 0?a.defaultMaxListeners:N._maxListeners}a.prototype.getMaxListeners=function(){return f(this)},a.prototype.emit=function(T){for(var I=[],$=1;$<arguments.length;$++)I.push(arguments[$]);var P=T==="error",M=this._events;if(M!==void 0)P=P&&M.error===void 0;else if(!P)return!1;if(P){var z;if(I.length>0&&(z=I[0]),z instanceof Error)throw z;var q=new Error("Unhandled error."+(z?" ("+z.message+")":""));throw q.context=z,q}var F=M[T];if(F===void 0)return!1;if(typeof F=="function")e(F,this,I);else for(var ee=F.length,Q=v(F,ee),$=0;$<ee;++$)e(Q[$],this,I);return!0};function h(N,T,I,$){var P,M,z;if(u(I),M=N._events,M===void 0?(M=N._events=Object.create(null),N._eventsCount=0):(M.newListener!==void 0&&(N.emit("newListener",T,I.listener?I.listener:I),M=N._events),z=M[T]),z===void 0)z=M[T]=I,++N._eventsCount;else if(typeof z=="function"?z=M[T]=$?[I,z]:[z,I]:$?z.unshift(I):z.push(I),P=f(N),P>0&&z.length>P&&!z.warned){z.warned=!0;var q=new Error("Possible EventEmitter memory leak detected. "+z.length+" "+String(T)+" listeners added. Use emitter.setMaxListeners() to increase limit");q.name="MaxListenersExceededWarning",q.emitter=N,q.type=T,q.count=z.length,s(q)}return N}a.prototype.addListener=function(T,I){return h(this,T,I,!1)},a.prototype.on=a.prototype.addListener,a.prototype.prependListener=function(T,I){return h(this,T,I,!0)};function p(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function g(N,T,I){var $={fired:!1,wrapFn:void 0,target:N,type:T,listener:I},P=p.bind($);return P.listener=I,$.wrapFn=P,P}a.prototype.once=function(T,I){return u(I),this.on(T,g(this,T,I)),this},a.prototype.prependOnceListener=function(T,I){return u(I),this.prependListener(T,g(this,T,I)),this},a.prototype.removeListener=function(T,I){var $,P,M,z,q;if(u(I),P=this._events,P===void 0)return this;if($=P[T],$===void 0)return this;if($===I||$.listener===I)--this._eventsCount===0?this._events=Object.create(null):(delete P[T],P.removeListener&&this.emit("removeListener",T,$.listener||I));else if(typeof $!="function"){for(M=-1,z=$.length-1;z>=0;z--)if($[z]===I||$[z].listener===I){q=$[z].listener,M=z;break}if(M<0)return this;M===0?$.shift():E($,M),$.length===1&&(P[T]=$[0]),P.removeListener!==void 0&&this.emit("removeListener",T,q||I)}return this},a.prototype.off=a.prototype.removeListener,a.prototype.removeAllListeners=function(T){var I,$,P;if($=this._events,$===void 0)return this;if($.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):$[T]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete $[T]),this;if(arguments.length===0){var M=Object.keys($),z;for(P=0;P<M.length;++P)z=M[P],z!=="removeListener"&&this.removeAllListeners(z);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(I=$[T],typeof I=="function")this.removeListener(T,I);else if(I!==void 0)for(P=I.length-1;P>=0;P--)this.removeListener(T,I[P]);return this};function y(N,T,I){var $=N._events;if($===void 0)return[];var P=$[T];return P===void 0?[]:typeof P=="function"?I?[P.listener||P]:[P]:I?A(P):v(P,P.length)}a.prototype.listeners=function(T){return y(this,T,!0)},a.prototype.rawListeners=function(T){return y(this,T,!1)},a.listenerCount=function(N,T){return typeof N.listenerCount=="function"?N.listenerCount(T):b.call(N,T)},a.prototype.listenerCount=b;function b(N){var T=this._events;if(T!==void 0){var I=T[N];if(typeof I=="function")return 1;if(I!==void 0)return I.length}return 0}a.prototype.eventNames=function(){return this._eventsCount>0?n(this._events):[]};function v(N,T){for(var I=new Array(T),$=0;$<T;++$)I[$]=N[$];return I}function E(N,T){for(;T+1<N.length;T++)N[T]=N[T+1];N.pop()}function A(N){for(var T=new Array(N.length),I=0;I<T.length;++I)T[I]=N[I].listener||N[I];return T}function S(N,T){return new Promise(function(I,$){function P(z){N.removeListener(T,M),$(z)}function M(){typeof N.removeListener=="function"&&N.removeListener("error",P),I([].slice.call(arguments))}x(N,T,M,{once:!0}),T!=="error"&&D(N,P,{once:!0})})}function D(N,T,I){typeof N.on=="function"&&x(N,"error",T,I)}function x(N,T,I,$){if(typeof N.on=="function")$.once?N.once(T,I):N.on(T,I);else if(typeof N.addEventListener=="function")N.addEventListener(T,function P(M){$.once&&N.removeEventListener(T,P),I(M)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof N)}return e0.exports}var Ti=Vj();const TE=sp(Ti);var z1={};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var xv=function(t,e){return xv=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var i in s)s.hasOwnProperty(i)&&(n[i]=s[i])},xv(t,e)};function Wj(t,e){xv(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var Nv=function(){return Nv=Object.assign||function(e){for(var n,s=1,i=arguments.length;s<i;s++){n=arguments[s];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Nv.apply(this,arguments)};function Kj(t,e){var n={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&e.indexOf(s)<0&&(n[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,s=Object.getOwnPropertySymbols(t);i<s.length;i++)e.indexOf(s[i])<0&&Object.prototype.propertyIsEnumerable.call(t,s[i])&&(n[s[i]]=t[s[i]]);return n}function Gj(t,e,n,s){var i=arguments.length,a=i<3?e:s===null?s=Object.getOwnPropertyDescriptor(e,n):s,c;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(t,e,n,s);else for(var u=t.length-1;u>=0;u--)(c=t[u])&&(a=(i<3?c(a):i>3?c(e,n,a):c(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a}function Yj(t,e){return function(n,s){e(n,s,t)}}function Xj(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function Qj(t,e,n,s){function i(a){return a instanceof n?a:new n(function(c){c(a)})}return new(n||(n=Promise))(function(a,c){function u(p){try{h(s.next(p))}catch(g){c(g)}}function f(p){try{h(s.throw(p))}catch(g){c(g)}}function h(p){p.done?a(p.value):i(p.value).then(u,f)}h((s=s.apply(t,e||[])).next())})}function Zj(t,e){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},s,i,a,c;return c={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function u(h){return function(p){return f([h,p])}}function f(h){if(s)throw new TypeError("Generator is already executing.");for(;n;)try{if(s=1,i&&(a=h[0]&2?i.return:h[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,h[1])).done)return a;switch(i=0,a&&(h=[h[0]&2,a.value]),h[0]){case 0:case 1:a=h;break;case 4:return n.label++,{value:h[1],done:!1};case 5:n.label++,i=h[1],h=[0];continue;case 7:h=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(h[0]===6||h[0]===2)){n=0;continue}if(h[0]===3&&(!a||h[1]>a[0]&&h[1]<a[3])){n.label=h[1];break}if(h[0]===6&&n.label<a[1]){n.label=a[1],a=h;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(h);break}a[2]&&n.ops.pop(),n.trys.pop();continue}h=e.call(t,n)}catch(p){h=[6,p],i=0}finally{s=a=0}if(h[0]&5)throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}}function Jj(t,e,n,s){s===void 0&&(s=n),t[s]=e[n]}function ez(t,e){for(var n in t)n!=="default"&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function Tv(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],s=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&s>=t.length&&(t=void 0),{value:t&&t[s++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function C6(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var s=n.call(t),i,a=[],c;try{for(;(e===void 0||e-- >0)&&!(i=s.next()).done;)a.push(i.value)}catch(u){c={error:u}}finally{try{i&&!i.done&&(n=s.return)&&n.call(s)}finally{if(c)throw c.error}}return a}function tz(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(C6(arguments[e]));return t}function nz(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var s=Array(t),i=0,e=0;e<n;e++)for(var a=arguments[e],c=0,u=a.length;c<u;c++,i++)s[i]=a[c];return s}function Sh(t){return this instanceof Sh?(this.v=t,this):new Sh(t)}function sz(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var s=n.apply(t,e||[]),i,a=[];return i={},c("next"),c("throw"),c("return"),i[Symbol.asyncIterator]=function(){return this},i;function c(y){s[y]&&(i[y]=function(b){return new Promise(function(v,E){a.push([y,b,v,E])>1||u(y,b)})})}function u(y,b){try{f(s[y](b))}catch(v){g(a[0][3],v)}}function f(y){y.value instanceof Sh?Promise.resolve(y.value.v).then(h,p):g(a[0][2],y)}function h(y){u("next",y)}function p(y){u("throw",y)}function g(y,b){y(b),a.shift(),a.length&&u(a[0][0],a[0][1])}}function iz(t){var e,n;return e={},s("next"),s("throw",function(i){throw i}),s("return"),e[Symbol.iterator]=function(){return this},e;function s(i,a){e[i]=t[i]?function(c){return(n=!n)?{value:Sh(t[i](c)),done:i==="return"}:a?a(c):c}:a}}function rz(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof Tv=="function"?Tv(t):t[Symbol.iterator](),n={},s("next"),s("throw"),s("return"),n[Symbol.asyncIterator]=function(){return this},n);function s(a){n[a]=t[a]&&function(c){return new Promise(function(u,f){c=t[a](c),i(u,f,c.done,c.value)})}}function i(a,c,u,f){Promise.resolve(f).then(function(h){a({value:h,done:u})},c)}}function oz(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function az(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function cz(t){return t&&t.__esModule?t:{default:t}}function lz(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}function uz(t,e,n){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,n),n}const fz=Object.freeze(Object.defineProperty({__proto__:null,get __assign(){return Nv},__asyncDelegator:iz,__asyncGenerator:sz,__asyncValues:rz,__await:Sh,__awaiter:Qj,__classPrivateFieldGet:lz,__classPrivateFieldSet:uz,__createBinding:Jj,__decorate:Gj,__exportStar:ez,__extends:Wj,__generator:Zj,__importDefault:cz,__importStar:az,__makeTemplateObject:oz,__metadata:Xj,__param:Yj,__read:C6,__rest:Kj,__spread:tz,__spreadArrays:nz,__values:Tv},Symbol.toStringTag,{value:"Module"})),up=G$(fz);var H1={},vd={},fN;function dz(){if(fN)return vd;fN=1,Object.defineProperty(vd,"__esModule",{value:!0}),vd.delay=void 0;function t(e){return new Promise(n=>{setTimeout(()=>{n(!0)},e)})}return vd.delay=t,vd}var vc={},F1={},Ec={},dN;function hz(){return dN||(dN=1,Object.defineProperty(Ec,"__esModule",{value:!0}),Ec.ONE_THOUSAND=Ec.ONE_HUNDRED=void 0,Ec.ONE_HUNDRED=100,Ec.ONE_THOUSAND=1e3),Ec}var q1={},hN;function pz(){return hN||(hN=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.ONE_YEAR=t.FOUR_WEEKS=t.THREE_WEEKS=t.TWO_WEEKS=t.ONE_WEEK=t.THIRTY_DAYS=t.SEVEN_DAYS=t.FIVE_DAYS=t.THREE_DAYS=t.ONE_DAY=t.TWENTY_FOUR_HOURS=t.TWELVE_HOURS=t.SIX_HOURS=t.THREE_HOURS=t.ONE_HOUR=t.SIXTY_MINUTES=t.THIRTY_MINUTES=t.TEN_MINUTES=t.FIVE_MINUTES=t.ONE_MINUTE=t.SIXTY_SECONDS=t.THIRTY_SECONDS=t.TEN_SECONDS=t.FIVE_SECONDS=t.ONE_SECOND=void 0,t.ONE_SECOND=1,t.FIVE_SECONDS=5,t.TEN_SECONDS=10,t.THIRTY_SECONDS=30,t.SIXTY_SECONDS=60,t.ONE_MINUTE=t.SIXTY_SECONDS,t.FIVE_MINUTES=t.ONE_MINUTE*5,t.TEN_MINUTES=t.ONE_MINUTE*10,t.THIRTY_MINUTES=t.ONE_MINUTE*30,t.SIXTY_MINUTES=t.ONE_MINUTE*60,t.ONE_HOUR=t.SIXTY_MINUTES,t.THREE_HOURS=t.ONE_HOUR*3,t.SIX_HOURS=t.ONE_HOUR*6,t.TWELVE_HOURS=t.ONE_HOUR*12,t.TWENTY_FOUR_HOURS=t.ONE_HOUR*24,t.ONE_DAY=t.TWENTY_FOUR_HOURS,t.THREE_DAYS=t.ONE_DAY*3,t.FIVE_DAYS=t.ONE_DAY*5,t.SEVEN_DAYS=t.ONE_DAY*7,t.THIRTY_DAYS=t.ONE_DAY*30,t.ONE_WEEK=t.SEVEN_DAYS,t.TWO_WEEKS=t.ONE_WEEK*2,t.THREE_WEEKS=t.ONE_WEEK*3,t.FOUR_WEEKS=t.ONE_WEEK*4,t.ONE_YEAR=t.ONE_DAY*365})(q1)),q1}var pN;function S6(){return pN||(pN=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=up;e.__exportStar(hz(),t),e.__exportStar(pz(),t)})(F1)),F1}var gN;function gz(){if(gN)return vc;gN=1,Object.defineProperty(vc,"__esModule",{value:!0}),vc.fromMiliseconds=vc.toMiliseconds=void 0;const t=S6();function e(s){return s*t.ONE_THOUSAND}vc.toMiliseconds=e;function n(s){return Math.floor(s/t.ONE_THOUSAND)}return vc.fromMiliseconds=n,vc}var mN;function mz(){return mN||(mN=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=up;e.__exportStar(dz(),t),e.__exportStar(gz(),t)})(H1)),H1}var su={},yN;function yz(){if(yN)return su;yN=1,Object.defineProperty(su,"__esModule",{value:!0}),su.Watch=void 0;class t{constructor(){this.timestamps=new Map}start(n){if(this.timestamps.has(n))throw new Error(`Watch already started for label: ${n}`);this.timestamps.set(n,{started:Date.now()})}stop(n){const s=this.get(n);if(typeof s.elapsed<"u")throw new Error(`Watch already stopped for label: ${n}`);const i=Date.now()-s.started;this.timestamps.set(n,{started:s.started,elapsed:i})}get(n){const s=this.timestamps.get(n);if(typeof s>"u")throw new Error(`No timestamp found for label: ${n}`);return s}elapsed(n){const s=this.get(n);return s.elapsed||Date.now()-s.started}}return su.Watch=t,su.default=t,su}var V1={},Ed={},wN;function wz(){if(wN)return Ed;wN=1,Object.defineProperty(Ed,"__esModule",{value:!0}),Ed.IWatch=void 0;class t{}return Ed.IWatch=t,Ed}var bN;function bz(){return bN||(bN=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),up.__exportStar(wz(),t)})(V1)),V1}var vN;function vz(){return vN||(vN=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=up;e.__exportStar(mz(),t),e.__exportStar(yz(),t),e.__exportStar(bz(),t),e.__exportStar(S6(),t)})(z1)),z1}var we=vz();class sl{}let Ez=class extends sl{constructor(e){super()}};const EN=we.FIVE_SECONDS,il={pulse:"heartbeat_pulse"};let Az=class x6 extends Ez{constructor(e){super(e),this.events=new Ti.EventEmitter,this.interval=EN,this.interval=e?.interval||EN}static async init(e){const n=new x6(e);return await n.init(),n}async init(){await this.initialize()}stop(){clearInterval(this.intervalRef)}on(e,n){this.events.on(e,n)}once(e,n){this.events.once(e,n)}off(e,n){this.events.off(e,n)}removeListener(e,n){this.events.removeListener(e,n)}async initialize(){this.intervalRef=setInterval(()=>this.pulse(),we.toMiliseconds(this.interval))}pulse(){this.events.emit(il.pulse)}};const Cz=/"(?:_|\\u0{2}5[Ff]){2}(?:p|\\u0{2}70)(?:r|\\u0{2}72)(?:o|\\u0{2}6[Ff])(?:t|\\u0{2}74)(?:o|\\u0{2}6[Ff])(?:_|\\u0{2}5[Ff]){2}"\s*:/,Sz=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/,xz=/^\s*["[{]|^\s*-?\d{1,16}(\.\d{1,17})?([Ee][+-]?\d+)?\s*$/;function Nz(t,e){if(t==="__proto__"||t==="constructor"&&e&&typeof e=="object"&&"prototype"in e){Tz(t);return}return e}function Tz(t){console.warn(`[destr] Dropping "${t}" key to prevent prototype pollution.`)}function t0(t,e={}){if(typeof t!="string")return t;if(t[0]==='"'&&t[t.length-1]==='"'&&t.indexOf("\\")===-1)return t.slice(1,-1);const n=t.trim();if(n.length<=9)switch(n.toLowerCase()){case"true":return!0;case"false":return!1;case"undefined":return;case"null":return null;case"nan":return Number.NaN;case"infinity":return Number.POSITIVE_INFINITY;case"-infinity":return Number.NEGATIVE_INFINITY}if(!xz.test(t)){if(e.strict)throw new SyntaxError("[destr] Invalid JSON");return t}try{if(Cz.test(t)||Sz.test(t)){if(e.strict)throw new Error("[destr] Possible prototype pollution");return JSON.parse(t,Nz)}return JSON.parse(t)}catch(s){if(e.strict)throw s;return t}}function _z(t){return!t||typeof t.then!="function"?Promise.resolve(t):t}function yn(t,...e){try{return _z(t(...e))}catch(n){return Promise.reject(n)}}function Iz(t){const e=typeof t;return t===null||e!=="object"&&e!=="function"}function Dz(t){const e=Object.getPrototypeOf(t);return!e||e.isPrototypeOf(Object)}function $0(t){if(Iz(t))return String(t);if(Dz(t)||Array.isArray(t))return JSON.stringify(t);if(typeof t.toJSON=="function")return $0(t.toJSON());throw new Error("[unstorage] Cannot stringify value!")}const _v="base64:";function Oz(t){return typeof t=="string"?t:_v+$z(t)}function Mz(t){return typeof t!="string"||!t.startsWith(_v)?t:Rz(t.slice(_v.length))}function Rz(t){return globalThis.Buffer?Buffer.from(t,"base64"):Uint8Array.from(globalThis.atob(t),e=>e.codePointAt(0))}function $z(t){return globalThis.Buffer?Buffer.from(t).toString("base64"):globalThis.btoa(String.fromCodePoint(...t))}function bs(t){return t&&t.split("?")[0]?.replace(/[/\\]/g,":").replace(/:+/g,":").replace(/^:|:$/g,"")||""}function Uz(...t){return bs(t.join(":"))}function n0(t){return t=bs(t),t?t+":":""}function Pz(t,e){if(e===void 0)return!0;let n=0,s=t.indexOf(":");for(;s>-1;)n++,s=t.indexOf(":",s+1);return n<=e}function Lz(t,e){return e?t.startsWith(e)&&t[t.length-1]!=="$":t[t.length-1]!=="$"}const kz="memory",Bz=()=>{const t=new Map;return{name:kz,getInstance:()=>t,hasItem(e){return t.has(e)},getItem(e){return t.get(e)??null},getItemRaw(e){return t.get(e)??null},setItem(e,n){t.set(e,n)},setItemRaw(e,n){t.set(e,n)},removeItem(e){t.delete(e)},getKeys(){return[...t.keys()]},clear(){t.clear()},dispose(){t.clear()}}};function jz(t={}){const e={mounts:{"":t.driver||Bz()},mountpoints:[""],watching:!1,watchListeners:[],unwatch:{}},n=h=>{for(const p of e.mountpoints)if(h.startsWith(p))return{base:p,relativeKey:h.slice(p.length),driver:e.mounts[p]};return{base:"",relativeKey:h,driver:e.mounts[""]}},s=(h,p)=>e.mountpoints.filter(g=>g.startsWith(h)||p&&h.startsWith(g)).map(g=>({relativeBase:h.length>g.length?h.slice(g.length):void 0,mountpoint:g,driver:e.mounts[g]})),i=(h,p)=>{if(e.watching){p=bs(p);for(const g of e.watchListeners)g(h,p)}},a=async()=>{if(!e.watching){e.watching=!0;for(const h in e.mounts)e.unwatch[h]=await AN(e.mounts[h],i,h)}},c=async()=>{if(e.watching){for(const h in e.unwatch)await e.unwatch[h]();e.unwatch={},e.watching=!1}},u=(h,p,g)=>{const y=new Map,b=v=>{let E=y.get(v.base);return E||(E={driver:v.driver,base:v.base,items:[]},y.set(v.base,E)),E};for(const v of h){const E=typeof v=="string",A=bs(E?v:v.key),S=E?void 0:v.value,D=E||!v.options?p:{...p,...v.options},x=n(A);b(x).items.push({key:A,value:S,relativeKey:x.relativeKey,options:D})}return Promise.all([...y.values()].map(v=>g(v))).then(v=>v.flat())},f={hasItem(h,p={}){h=bs(h);const{relativeKey:g,driver:y}=n(h);return yn(y.hasItem,g,p)},getItem(h,p={}){h=bs(h);const{relativeKey:g,driver:y}=n(h);return yn(y.getItem,g,p).then(b=>t0(b))},getItems(h,p={}){return u(h,p,g=>g.driver.getItems?yn(g.driver.getItems,g.items.map(y=>({key:y.relativeKey,options:y.options})),p).then(y=>y.map(b=>({key:Uz(g.base,b.key),value:t0(b.value)}))):Promise.all(g.items.map(y=>yn(g.driver.getItem,y.relativeKey,y.options).then(b=>({key:y.key,value:t0(b)})))))},getItemRaw(h,p={}){h=bs(h);const{relativeKey:g,driver:y}=n(h);return y.getItemRaw?yn(y.getItemRaw,g,p):yn(y.getItem,g,p).then(b=>Mz(b))},async setItem(h,p,g={}){if(p===void 0)return f.removeItem(h);h=bs(h);const{relativeKey:y,driver:b}=n(h);b.setItem&&(await yn(b.setItem,y,$0(p),g),b.watch||i("update",h))},async setItems(h,p){await u(h,p,async g=>{if(g.driver.setItems)return yn(g.driver.setItems,g.items.map(y=>({key:y.relativeKey,value:$0(y.value),options:y.options})),p);g.driver.setItem&&await Promise.all(g.items.map(y=>yn(g.driver.setItem,y.relativeKey,$0(y.value),y.options)))})},async setItemRaw(h,p,g={}){if(p===void 0)return f.removeItem(h,g);h=bs(h);const{relativeKey:y,driver:b}=n(h);if(b.setItemRaw)await yn(b.setItemRaw,y,p,g);else if(b.setItem)await yn(b.setItem,y,Oz(p),g);else return;b.watch||i("update",h)},async removeItem(h,p={}){typeof p=="boolean"&&(p={removeMeta:p}),h=bs(h);const{relativeKey:g,driver:y}=n(h);y.removeItem&&(await yn(y.removeItem,g,p),(p.removeMeta||p.removeMata)&&await yn(y.removeItem,g+"$",p),y.watch||i("remove",h))},async getMeta(h,p={}){typeof p=="boolean"&&(p={nativeOnly:p}),h=bs(h);const{relativeKey:g,driver:y}=n(h),b=Object.create(null);if(y.getMeta&&Object.assign(b,await yn(y.getMeta,g,p)),!p.nativeOnly){const v=await yn(y.getItem,g+"$",p).then(E=>t0(E));v&&typeof v=="object"&&(typeof v.atime=="string"&&(v.atime=new Date(v.atime)),typeof v.mtime=="string"&&(v.mtime=new Date(v.mtime)),Object.assign(b,v))}return b},setMeta(h,p,g={}){return this.setItem(h+"$",p,g)},removeMeta(h,p={}){return this.removeItem(h+"$",p)},async getKeys(h,p={}){h=n0(h);const g=s(h,!0);let y=[];const b=[];let v=!0;for(const A of g){A.driver.flags?.maxDepth||(v=!1);const S=await yn(A.driver.getKeys,A.relativeBase,p);for(const D of S){const x=A.mountpoint+bs(D);y.some(N=>x.startsWith(N))||b.push(x)}y=[A.mountpoint,...y.filter(D=>!D.startsWith(A.mountpoint))]}const E=p.maxDepth!==void 0&&!v;return b.filter(A=>(!E||Pz(A,p.maxDepth))&&Lz(A,h))},async clear(h,p={}){h=n0(h),await Promise.all(s(h,!1).map(async g=>{if(g.driver.clear)return yn(g.driver.clear,g.relativeBase,p);if(g.driver.removeItem){const y=await g.driver.getKeys(g.relativeBase||"",p);return Promise.all(y.map(b=>g.driver.removeItem(b,p)))}}))},async dispose(){await Promise.all(Object.values(e.mounts).map(h=>CN(h)))},async watch(h){return await a(),e.watchListeners.push(h),async()=>{e.watchListeners=e.watchListeners.filter(p=>p!==h),e.watchListeners.length===0&&await c()}},async unwatch(){e.watchListeners=[],await c()},mount(h,p){if(h=n0(h),h&&e.mounts[h])throw new Error(`already mounted at ${h}`);return h&&(e.mountpoints.push(h),e.mountpoints.sort((g,y)=>y.length-g.length)),e.mounts[h]=p,e.watching&&Promise.resolve(AN(p,i,h)).then(g=>{e.unwatch[h]=g}).catch(console.error),f},async unmount(h,p=!0){h=n0(h),!(!h||!e.mounts[h])&&(e.watching&&h in e.unwatch&&(e.unwatch[h]?.(),delete e.unwatch[h]),p&&await CN(e.mounts[h]),e.mountpoints=e.mountpoints.filter(g=>g!==h),delete e.mounts[h])},getMount(h=""){h=bs(h)+":";const p=n(h);return{driver:p.driver,base:p.base}},getMounts(h="",p={}){return h=bs(h),s(h,p.parents).map(y=>({driver:y.driver,base:y.mountpoint}))},keys:(h,p={})=>f.getKeys(h,p),get:(h,p={})=>f.getItem(h,p),set:(h,p,g={})=>f.setItem(h,p,g),has:(h,p={})=>f.hasItem(h,p),del:(h,p={})=>f.removeItem(h,p),remove:(h,p={})=>f.removeItem(h,p)};return f}function AN(t,e,n){return t.watch?t.watch((s,i)=>e(s,n+i)):()=>{}}async function CN(t){typeof t.dispose=="function"&&await yn(t.dispose)}function rl(t){return new Promise((e,n)=>{t.oncomplete=t.onsuccess=()=>e(t.result),t.onabort=t.onerror=()=>n(t.error)})}function N6(t,e){let n;const s=()=>{if(n)return n;const i=indexedDB.open(t);return i.onupgradeneeded=()=>i.result.createObjectStore(e),n=rl(i),n.then(a=>{a.onclose=()=>n=void 0},()=>{}),n};return(i,a)=>s().then(c=>a(c.transaction(e,i).objectStore(e)))}let W1;function fp(){return W1||(W1=N6("keyval-store","keyval")),W1}function SN(t,e=fp()){return e("readonly",n=>rl(n.get(t)))}function zz(t,e,n=fp()){return n("readwrite",s=>(s.put(e,t),rl(s.transaction)))}function Hz(t,e=fp()){return e("readwrite",n=>(n.delete(t),rl(n.transaction)))}function Fz(t=fp()){return t("readwrite",e=>(e.clear(),rl(e.transaction)))}function qz(t,e){return t.openCursor().onsuccess=function(){this.result&&(e(this.result),this.result.continue())},rl(t.transaction)}function Vz(t=fp()){return t("readonly",e=>{if(e.getAllKeys)return rl(e.getAllKeys());const n=[];return qz(e,s=>n.push(s.key)).then(()=>n)})}const Wz=t=>JSON.stringify(t,(e,n)=>typeof n=="bigint"?n.toString()+"n":n),Kz=t=>{const e=/([\[:])?(\d{17,}|(?:[9](?:[1-9]07199254740991|0[1-9]7199254740991|00[8-9]199254740991|007[2-9]99254740991|007199[3-9]54740991|0071992[6-9]4740991|00719925[5-9]740991|007199254[8-9]40991|0071992547[5-9]0991|00719925474[1-9]991|00719925474099[2-9])))([,\}\]])/g,n=t.replace(e,'$1"$2n"$3');return JSON.parse(n,(s,i)=>typeof i=="string"&&i.match(/^\d+n$/)?BigInt(i.substring(0,i.length-1)):i)};function Xc(t){if(typeof t!="string")throw new Error(`Cannot safe json parse value of type ${typeof t}`);try{return Kz(t)}catch{return t}}function So(t){return typeof t=="string"?t:Wz(t)||""}const Gz="idb-keyval";var Yz=(t={})=>{const e=t.base&&t.base.length>0?`${t.base}:`:"",n=i=>e+i;let s;return t.dbName&&t.storeName&&(s=N6(t.dbName,t.storeName)),{name:Gz,options:t,async hasItem(i){return!(typeof await SN(n(i),s)>"u")},async getItem(i){return await SN(n(i),s)??null},setItem(i,a){return zz(n(i),a,s)},removeItem(i){return Hz(n(i),s)},getKeys(){return Vz(s)},clear(){return Fz(s)}}};const Xz="WALLET_CONNECT_V2_INDEXED_DB",Qz="keyvaluestorage";let Zz=class{constructor(){this.indexedDb=jz({driver:Yz({dbName:Xz,storeName:Qz})})}async getKeys(){return this.indexedDb.getKeys()}async getEntries(){return(await this.indexedDb.getItems(await this.indexedDb.getKeys())).map(e=>[e.key,e.value])}async getItem(e){const n=await this.indexedDb.getItem(e);if(n!==null)return n}async setItem(e,n){await this.indexedDb.setItem(e,So(n))}async removeItem(e){await this.indexedDb.removeItem(e)}};var K1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},U0={exports:{}};(function(){let t;function e(){}t=e,t.prototype.getItem=function(n){return this.hasOwnProperty(n)?String(this[n]):null},t.prototype.setItem=function(n,s){this[n]=String(s)},t.prototype.removeItem=function(n){delete this[n]},t.prototype.clear=function(){const n=this;Object.keys(n).forEach(function(s){n[s]=void 0,delete n[s]})},t.prototype.key=function(n){return n=n||0,Object.keys(this)[n]},t.prototype.__defineGetter__("length",function(){return Object.keys(this).length}),typeof K1<"u"&&K1.localStorage?U0.exports=K1.localStorage:typeof window<"u"&&window.localStorage?U0.exports=window.localStorage:U0.exports=new e})();function Jz(t){var e;return[t[0],Xc((e=t[1])!=null?e:"")]}let eH=class{constructor(){this.localStorage=U0.exports}async getKeys(){return Object.keys(this.localStorage)}async getEntries(){return Object.entries(this.localStorage).map(Jz)}async getItem(e){const n=this.localStorage.getItem(e);if(n!==null)return Xc(n)}async setItem(e,n){this.localStorage.setItem(e,So(n))}async removeItem(e){this.localStorage.removeItem(e)}};const tH="wc_storage_version",xN=1,nH=async(t,e,n)=>{const s=tH,i=await e.getItem(s);if(i&&i>=xN){n(e);return}const a=await t.getKeys();if(!a.length){n(e);return}const c=[];for(;a.length;){const u=a.shift();if(!u)continue;const f=u.toLowerCase();if(f.includes("wc@")||f.includes("walletconnect")||f.includes("wc_")||f.includes("wallet_connect")){const h=await t.getItem(u);await e.setItem(u,h),c.push(u)}}await e.setItem(s,xN),n(e),sH(t,c)},sH=async(t,e)=>{e.length&&e.forEach(async n=>{await t.removeItem(n)})};let iH=class{constructor(){this.initialized=!1,this.setInitialized=n=>{this.storage=n,this.initialized=!0};const e=new eH;this.storage=e;try{const n=new Zz;nH(e,n,this.setInitialized)}catch{this.initialized=!0}}async getKeys(){return await this.initialize(),this.storage.getKeys()}async getEntries(){return await this.initialize(),this.storage.getEntries()}async getItem(e){return await this.initialize(),this.storage.getItem(e)}async setItem(e,n){return await this.initialize(),this.storage.setItem(e,n)}async removeItem(e){return await this.initialize(),this.storage.removeItem(e)}async initialize(){this.initialized||await new Promise(e=>{const n=setInterval(()=>{this.initialized&&(clearInterval(n),e())},20)})}};var G1,NN;function rH(){if(NN)return G1;NN=1;function t(n){try{return JSON.stringify(n)}catch{return'"[Circular]"'}}G1=e;function e(n,s,i){var a=i&&i.stringify||t,c=1;if(typeof n=="object"&&n!==null){var u=s.length+c;if(u===1)return n;var f=new Array(u);f[0]=a(n);for(var h=1;h<u;h++)f[h]=a(s[h]);return f.join(" ")}if(typeof n!="string")return n;var p=s.length;if(p===0)return n;for(var g="",y=1-c,b=-1,v=n&&n.length||0,E=0;E<v;){if(n.charCodeAt(E)===37&&E+1<v){switch(b=b>-1?b:0,n.charCodeAt(E+1)){case 100:case 102:if(y>=p||s[y]==null)break;b<E&&(g+=n.slice(b,E)),g+=Number(s[y]),b=E+2,E++;break;case 105:if(y>=p||s[y]==null)break;b<E&&(g+=n.slice(b,E)),g+=Math.floor(Number(s[y])),b=E+2,E++;break;case 79:case 111:case 106:if(y>=p||s[y]===void 0)break;b<E&&(g+=n.slice(b,E));var A=typeof s[y];if(A==="string"){g+="'"+s[y]+"'",b=E+2,E++;break}if(A==="function"){g+=s[y].name||"<anonymous>",b=E+2,E++;break}g+=a(s[y]),b=E+2,E++;break;case 115:if(y>=p)break;b<E&&(g+=n.slice(b,E)),g+=String(s[y]),b=E+2,E++;break;case 37:b<E&&(g+=n.slice(b,E)),g+="%",b=E+2,E++,y--;break}++y}++E}return b===-1?n:(b<v&&(g+=n.slice(b)),g)}return G1}var Y1,TN;function oH(){if(TN)return Y1;TN=1;const t=rH();Y1=i;const e=T().console||{},n={mapHttpRequest:v,mapHttpResponse:v,wrapRequestSerializer:E,wrapResponseSerializer:E,wrapErrorSerializer:E,req:v,res:v,err:y};function s(I,$){return Array.isArray(I)?I.filter(function(M){return M!=="!stdSerializers.err"}):I===!0?Object.keys($):!1}function i(I){I=I||{},I.browser=I.browser||{};const $=I.browser.transmit;if($&&typeof $.send!="function")throw Error("pino: transmit option must have a send function");const P=I.browser.write||e;I.browser.write&&(I.browser.asObject=!0);const M=I.serializers||{},z=s(I.browser.serialize,M);let q=I.browser.serialize;Array.isArray(I.browser.serialize)&&I.browser.serialize.indexOf("!stdSerializers.err")>-1&&(q=!1);const F=["error","fatal","warn","info","debug","trace"];typeof P=="function"&&(P.error=P.fatal=P.warn=P.info=P.debug=P.trace=P),I.enabled===!1&&(I.level="silent");const ee=I.level||"info",Q=Object.create(P);Q.log||(Q.log=A),Object.defineProperty(Q,"levelVal",{get:_}),Object.defineProperty(Q,"level",{get:k,set:H});const R={transmit:$,serialize:z,asObject:I.browser.asObject,levels:F,timestamp:b(I)};Q.levels=i.levels,Q.level=ee,Q.setMaxListeners=Q.getMaxListeners=Q.emit=Q.addListener=Q.on=Q.prependListener=Q.once=Q.prependOnceListener=Q.removeListener=Q.removeAllListeners=Q.listeners=Q.listenerCount=Q.eventNames=Q.write=Q.flush=A,Q.serializers=M,Q._serialize=z,Q._stdErrSerialize=q,Q.child=G,$&&(Q._logEvent=g());function _(){return this.level==="silent"?1/0:this.levels.values[this.level]}function k(){return this._level}function H(V){if(V!=="silent"&&!this.levels.values[V])throw Error("unknown level "+V);this._level=V,a(R,Q,"error","log"),a(R,Q,"fatal","error"),a(R,Q,"warn","error"),a(R,Q,"info","log"),a(R,Q,"debug","log"),a(R,Q,"trace","log")}function G(V,U){if(!V)throw new Error("missing bindings for child Pino");U=U||{},z&&V.serializers&&(U.serializers=V.serializers);const K=U.serializers;if(z&&K){var te=Object.assign({},M,K),ie=I.browser.serialize===!0?Object.keys(te):z;delete V.serializers,f([V],ie,te,this._stdErrSerialize)}function ue(pe){this._childLevel=(pe._childLevel|0)+1,this.error=h(pe,V,"error"),this.fatal=h(pe,V,"fatal"),this.warn=h(pe,V,"warn"),this.info=h(pe,V,"info"),this.debug=h(pe,V,"debug"),this.trace=h(pe,V,"trace"),te&&(this.serializers=te,this._serialize=ie),$&&(this._logEvent=g([].concat(pe._logEvent.bindings,V)))}return ue.prototype=this,new ue(this)}return Q}i.levels={values:{fatal:60,error:50,warn:40,info:30,debug:20,trace:10},labels:{10:"trace",20:"debug",30:"info",40:"warn",50:"error",60:"fatal"}},i.stdSerializers=n,i.stdTimeFunctions=Object.assign({},{nullTime:S,epochTime:D,unixTime:x,isoTime:N});function a(I,$,P,M){const z=Object.getPrototypeOf($);$[P]=$.levelVal>$.levels.values[P]?A:z[P]?z[P]:e[P]||e[M]||A,c(I,$,P)}function c(I,$,P){!I.transmit&&$[P]===A||($[P]=(function(M){return function(){const q=I.timestamp(),F=new Array(arguments.length),ee=Object.getPrototypeOf&&Object.getPrototypeOf(this)===e?e:this;for(var Q=0;Q<F.length;Q++)F[Q]=arguments[Q];if(I.serialize&&!I.asObject&&f(F,this._serialize,this.serializers,this._stdErrSerialize),I.asObject?M.call(ee,u(this,P,F,q)):M.apply(ee,F),I.transmit){const R=I.transmit.level||$.level,_=i.levels.values[R],k=i.levels.values[P];if(k<_)return;p(this,{ts:q,methodLevel:P,methodValue:k,transmitValue:i.levels.values[I.transmit.level||$.level],send:I.transmit.send,val:$.levelVal},F)}}})($[P]))}function u(I,$,P,M){I._serialize&&f(P,I._serialize,I.serializers,I._stdErrSerialize);const z=P.slice();let q=z[0];const F={};M&&(F.time=M),F.level=i.levels.values[$];let ee=(I._childLevel|0)+1;if(ee<1&&(ee=1),q!==null&&typeof q=="object"){for(;ee--&&typeof z[0]=="object";)Object.assign(F,z.shift());q=z.length?t(z.shift(),z):void 0}else typeof q=="string"&&(q=t(z.shift(),z));return q!==void 0&&(F.msg=q),F}function f(I,$,P,M){for(const z in I)if(M&&I[z]instanceof Error)I[z]=i.stdSerializers.err(I[z]);else if(typeof I[z]=="object"&&!Array.isArray(I[z]))for(const q in I[z])$&&$.indexOf(q)>-1&&q in P&&(I[z][q]=P[q](I[z][q]))}function h(I,$,P){return function(){const M=new Array(1+arguments.length);M[0]=$;for(var z=1;z<M.length;z++)M[z]=arguments[z-1];return I[P].apply(this,M)}}function p(I,$,P){const M=$.send,z=$.ts,q=$.methodLevel,F=$.methodValue,ee=$.val,Q=I._logEvent.bindings;f(P,I._serialize||Object.keys(I.serializers),I.serializers,I._stdErrSerialize===void 0?!0:I._stdErrSerialize),I._logEvent.ts=z,I._logEvent.messages=P.filter(function(R){return Q.indexOf(R)===-1}),I._logEvent.level.label=q,I._logEvent.level.value=F,M(q,I._logEvent,ee),I._logEvent=g(Q)}function g(I){return{ts:0,messages:[],bindings:I||[],level:{label:"",value:0}}}function y(I){const $={type:I.constructor.name,msg:I.message,stack:I.stack};for(const P in I)$[P]===void 0&&($[P]=I[P]);return $}function b(I){return typeof I.timestamp=="function"?I.timestamp:I.timestamp===!1?S:D}function v(){return{}}function E(I){return I}function A(){}function S(){return!1}function D(){return Date.now()}function x(){return Math.round(Date.now()/1e3)}function N(){return new Date(Date.now()).toISOString()}function T(){function I($){return typeof $<"u"&&$}try{return typeof globalThis<"u"||Object.defineProperty(Object.prototype,"globalThis",{get:function(){return delete Object.prototype.globalThis,this.globalThis=this},configurable:!0}),globalThis}catch{return I(self)||I(window)||I(this)||{}}}return Y1}var Su=oH();const dp=sp(Su),aH={level:"info"},hp="custom_context",_E=1e3*1024;let cH=class{constructor(e){this.nodeValue=e,this.sizeInBytes=new TextEncoder().encode(this.nodeValue).length,this.next=null}get value(){return this.nodeValue}get size(){return this.sizeInBytes}},_N=class{constructor(e){this.head=null,this.tail=null,this.lengthInNodes=0,this.maxSizeInBytes=e,this.sizeInBytes=0}append(e){const n=new cH(e);if(n.size>this.maxSizeInBytes)throw new Error(`[LinkedList] Value too big to insert into list: ${e} with size ${n.size}`);for(;this.size+n.size>this.maxSizeInBytes;)this.shift();this.head?(this.tail&&(this.tail.next=n),this.tail=n):(this.head=n,this.tail=n),this.lengthInNodes++,this.sizeInBytes+=n.size}shift(){if(!this.head)return;const e=this.head;this.head=this.head.next,this.head||(this.tail=null),this.lengthInNodes--,this.sizeInBytes-=e.size}toArray(){const e=[];let n=this.head;for(;n!==null;)e.push(n.value),n=n.next;return e}get length(){return this.lengthInNodes}get size(){return this.sizeInBytes}toOrderedArray(){return Array.from(this)}[Symbol.iterator](){let e=this.head;return{next:()=>{if(!e)return{done:!0,value:null};const n=e.value;return e=e.next,{done:!1,value:n}}}}},T6=class{constructor(e,n=_E){this.level=e??"error",this.levelValue=Su.levels.values[this.level],this.MAX_LOG_SIZE_IN_BYTES=n,this.logs=new _N(this.MAX_LOG_SIZE_IN_BYTES)}forwardToConsole(e,n){n===Su.levels.values.error?console.error(e):n===Su.levels.values.warn?console.warn(e):n===Su.levels.values.debug?console.debug(e):n===Su.levels.values.trace?console.trace(e):console.log(e)}appendToLogs(e){this.logs.append(So({timestamp:new Date().toISOString(),log:e}));const n=typeof e=="string"?JSON.parse(e).level:e.level;n>=this.levelValue&&this.forwardToConsole(e,n)}getLogs(){return this.logs}clearLogs(){this.logs=new _N(this.MAX_LOG_SIZE_IN_BYTES)}getLogArray(){return Array.from(this.logs)}logsToBlob(e){const n=this.getLogArray();return n.push(So({extraMetadata:e})),new Blob(n,{type:"application/json"})}},lH=class{constructor(e,n=_E){this.baseChunkLogger=new T6(e,n)}write(e){this.baseChunkLogger.appendToLogs(e)}getLogs(){return this.baseChunkLogger.getLogs()}clearLogs(){this.baseChunkLogger.clearLogs()}getLogArray(){return this.baseChunkLogger.getLogArray()}logsToBlob(e){return this.baseChunkLogger.logsToBlob(e)}downloadLogsBlobInBrowser(e){const n=URL.createObjectURL(this.logsToBlob(e)),s=document.createElement("a");s.href=n,s.download=`walletconnect-logs-${new Date().toISOString()}.txt`,document.body.appendChild(s),s.click(),document.body.removeChild(s),URL.revokeObjectURL(n)}},uH=class{constructor(e,n=_E){this.baseChunkLogger=new T6(e,n)}write(e){this.baseChunkLogger.appendToLogs(e)}getLogs(){return this.baseChunkLogger.getLogs()}clearLogs(){this.baseChunkLogger.clearLogs()}getLogArray(){return this.baseChunkLogger.getLogArray()}logsToBlob(e){return this.baseChunkLogger.logsToBlob(e)}};var fH=Object.defineProperty,dH=Object.defineProperties,hH=Object.getOwnPropertyDescriptors,IN=Object.getOwnPropertySymbols,pH=Object.prototype.hasOwnProperty,gH=Object.prototype.propertyIsEnumerable,DN=(t,e,n)=>e in t?fH(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,om=(t,e)=>{for(var n in e||(e={}))pH.call(e,n)&&DN(t,n,e[n]);if(IN)for(var n of IN(e))gH.call(e,n)&&DN(t,n,e[n]);return t},am=(t,e)=>dH(t,hH(e));function pp(t){return am(om({},t),{level:t?.level||aH.level})}function mH(t,e=hp){return t[e]||""}function yH(t,e,n=hp){return t[n]=e,t}function Is(t,e=hp){let n="";return typeof t.bindings>"u"?n=mH(t,e):n=t.bindings().context||"",n}function wH(t,e,n=hp){const s=Is(t,n);return s.trim()?`${s}/${e}`:e}function is(t,e,n=hp){const s=wH(t,e,n),i=t.child({context:s});return yH(i,s,n)}function bH(t){var e,n;const s=new lH((e=t.opts)==null?void 0:e.level,t.maxSizeInBytes);return{logger:dp(am(om({},t.opts),{level:"trace",browser:am(om({},(n=t.opts)==null?void 0:n.browser),{write:i=>s.write(i)})})),chunkLoggerController:s}}function vH(t){var e;const n=new uH((e=t.opts)==null?void 0:e.level,t.maxSizeInBytes);return{logger:dp(am(om({},t.opts),{level:"trace"}),n),chunkLoggerController:n}}function _6(t){return typeof t.loggerOverride<"u"&&typeof t.loggerOverride!="string"?{logger:t.loggerOverride,chunkLoggerController:null}:typeof window<"u"?bH(t):vH(t)}var EH=Object.defineProperty,AH=(t,e,n)=>e in t?EH(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,ON=(t,e,n)=>AH(t,typeof e!="symbol"?e+"":e,n);let CH=class extends sl{constructor(e){super(),this.opts=e,ON(this,"protocol","wc"),ON(this,"version",2)}};var SH=Object.defineProperty,xH=(t,e,n)=>e in t?SH(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,NH=(t,e,n)=>xH(t,e+"",n);let TH=class extends sl{constructor(e,n){super(),this.core=e,this.logger=n,NH(this,"records",new Map)}},_H=class{constructor(e,n){this.logger=e,this.core=n}},IH=class extends sl{constructor(e,n){super(),this.relayer=e,this.logger=n}},DH=class extends sl{constructor(e){super()}},OH=class{constructor(e,n,s,i){this.core=e,this.logger=n,this.name=s}},MH=class extends sl{constructor(e,n){super(),this.relayer=e,this.logger=n}},RH=class extends sl{constructor(e,n){super(),this.core=e,this.logger=n}},$H=class{constructor(e,n,s){this.core=e,this.logger=n,this.store=s}},UH=class{constructor(e,n){this.projectId=e,this.logger=n}},PH=class{constructor(e,n,s){this.core=e,this.logger=n,this.telemetryEnabled=s}};var LH=Object.defineProperty,kH=(t,e,n)=>e in t?LH(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,MN=(t,e,n)=>kH(t,typeof e!="symbol"?e+"":e,n);let BH=class{constructor(e){this.opts=e,MN(this,"protocol","wc"),MN(this,"version",2)}},jH=class{constructor(e){this.client=e}};function zH(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function I6(t,...e){if(!zH(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function RN(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function HH(t,e){I6(t);const n=e.outputLen;if(t.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}const iu=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const X1=t=>new DataView(t.buffer,t.byteOffset,t.byteLength);function FH(t){if(typeof t!="string")throw new Error("utf8ToBytes expected string, got "+typeof t);return new Uint8Array(new TextEncoder().encode(t))}function D6(t){return typeof t=="string"&&(t=FH(t)),I6(t),t}let qH=class{clone(){return this._cloneInto()}};function VH(t){const e=s=>t().update(D6(s)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function O6(t=32){if(iu&&typeof iu.getRandomValues=="function")return iu.getRandomValues(new Uint8Array(t));if(iu&&typeof iu.randomBytes=="function")return iu.randomBytes(t);throw new Error("crypto.getRandomValues must be defined")}function WH(t,e,n,s){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,s);const i=BigInt(32),a=BigInt(4294967295),c=Number(n>>i&a),u=Number(n&a),f=s?4:0,h=s?0:4;t.setUint32(e+f,c,s),t.setUint32(e+h,u,s)}let KH=class extends qH{constructor(e,n,s,i){super(),this.blockLen=e,this.outputLen=n,this.padOffset=s,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=X1(this.buffer)}update(e){RN(this);const{view:n,buffer:s,blockLen:i}=this;e=D6(e);const a=e.length;for(let c=0;c<a;){const u=Math.min(i-this.pos,a-c);if(u===i){const f=X1(e);for(;i<=a-c;c+=i)this.process(f,c);continue}s.set(e.subarray(c,c+u),this.pos),this.pos+=u,c+=u,this.pos===i&&(this.process(n,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){RN(this),HH(e,this),this.finished=!0;const{buffer:n,view:s,blockLen:i,isLE:a}=this;let{pos:c}=this;n[c++]=128,this.buffer.subarray(c).fill(0),this.padOffset>i-c&&(this.process(s,0),c=0);for(let g=c;g<i;g++)n[g]=0;WH(s,i-8,BigInt(this.length*8),a),this.process(s,0);const u=X1(e),f=this.outputLen;if(f%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const h=f/4,p=this.get();if(h>p.length)throw new Error("_sha2: outputLen bigger than state");for(let g=0;g<h;g++)u.setUint32(4*g,p[g],a)}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const s=e.slice(0,n);return this.destroy(),s}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:n,buffer:s,length:i,finished:a,destroyed:c,pos:u}=this;return e.length=i,e.pos=u,e.finished=a,e.destroyed=c,i%n&&e.buffer.set(s),e}};const s0=BigInt(2**32-1),Iv=BigInt(32);function M6(t,e=!1){return e?{h:Number(t&s0),l:Number(t>>Iv&s0)}:{h:Number(t>>Iv&s0)|0,l:Number(t&s0)|0}}function GH(t,e=!1){let n=new Uint32Array(t.length),s=new Uint32Array(t.length);for(let i=0;i<t.length;i++){const{h:a,l:c}=M6(t[i],e);[n[i],s[i]]=[a,c]}return[n,s]}const YH=(t,e)=>BigInt(t>>>0)<<Iv|BigInt(e>>>0),XH=(t,e,n)=>t>>>n,QH=(t,e,n)=>t<<32-n|e>>>n,ZH=(t,e,n)=>t>>>n|e<<32-n,JH=(t,e,n)=>t<<32-n|e>>>n,eF=(t,e,n)=>t<<64-n|e>>>n-32,tF=(t,e,n)=>t>>>n-32|e<<64-n,nF=(t,e)=>e,sF=(t,e)=>t,iF=(t,e,n)=>t<<n|e>>>32-n,rF=(t,e,n)=>e<<n|t>>>32-n,oF=(t,e,n)=>e<<n-32|t>>>64-n,aF=(t,e,n)=>t<<n-32|e>>>64-n;function cF(t,e,n,s){const i=(e>>>0)+(s>>>0);return{h:t+n+(i/2**32|0)|0,l:i|0}}const lF=(t,e,n)=>(t>>>0)+(e>>>0)+(n>>>0),uF=(t,e,n,s)=>e+n+s+(t/2**32|0)|0,fF=(t,e,n,s)=>(t>>>0)+(e>>>0)+(n>>>0)+(s>>>0),dF=(t,e,n,s,i)=>e+n+s+i+(t/2**32|0)|0,hF=(t,e,n,s,i)=>(t>>>0)+(e>>>0)+(n>>>0)+(s>>>0)+(i>>>0),pF=(t,e,n,s,i,a)=>e+n+s+i+a+(t/2**32|0)|0,Ke={fromBig:M6,split:GH,toBig:YH,shrSH:XH,shrSL:QH,rotrSH:ZH,rotrSL:JH,rotrBH:eF,rotrBL:tF,rotr32H:nF,rotr32L:sF,rotlSH:iF,rotlSL:rF,rotlBH:oF,rotlBL:aF,add:cF,add3L:lF,add3H:uF,add4L:fF,add4H:dF,add5H:pF,add5L:hF},[gF,mF]=Ke.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),ua=new Uint32Array(80),fa=new Uint32Array(80);let yF=class extends KH{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:n,Bh:s,Bl:i,Ch:a,Cl:c,Dh:u,Dl:f,Eh:h,El:p,Fh:g,Fl:y,Gh:b,Gl:v,Hh:E,Hl:A}=this;return[e,n,s,i,a,c,u,f,h,p,g,y,b,v,E,A]}set(e,n,s,i,a,c,u,f,h,p,g,y,b,v,E,A){this.Ah=e|0,this.Al=n|0,this.Bh=s|0,this.Bl=i|0,this.Ch=a|0,this.Cl=c|0,this.Dh=u|0,this.Dl=f|0,this.Eh=h|0,this.El=p|0,this.Fh=g|0,this.Fl=y|0,this.Gh=b|0,this.Gl=v|0,this.Hh=E|0,this.Hl=A|0}process(e,n){for(let x=0;x<16;x++,n+=4)ua[x]=e.getUint32(n),fa[x]=e.getUint32(n+=4);for(let x=16;x<80;x++){const N=ua[x-15]|0,T=fa[x-15]|0,I=Ke.rotrSH(N,T,1)^Ke.rotrSH(N,T,8)^Ke.shrSH(N,T,7),$=Ke.rotrSL(N,T,1)^Ke.rotrSL(N,T,8)^Ke.shrSL(N,T,7),P=ua[x-2]|0,M=fa[x-2]|0,z=Ke.rotrSH(P,M,19)^Ke.rotrBH(P,M,61)^Ke.shrSH(P,M,6),q=Ke.rotrSL(P,M,19)^Ke.rotrBL(P,M,61)^Ke.shrSL(P,M,6),F=Ke.add4L($,q,fa[x-7],fa[x-16]),ee=Ke.add4H(F,I,z,ua[x-7],ua[x-16]);ua[x]=ee|0,fa[x]=F|0}let{Ah:s,Al:i,Bh:a,Bl:c,Ch:u,Cl:f,Dh:h,Dl:p,Eh:g,El:y,Fh:b,Fl:v,Gh:E,Gl:A,Hh:S,Hl:D}=this;for(let x=0;x<80;x++){const N=Ke.rotrSH(g,y,14)^Ke.rotrSH(g,y,18)^Ke.rotrBH(g,y,41),T=Ke.rotrSL(g,y,14)^Ke.rotrSL(g,y,18)^Ke.rotrBL(g,y,41),I=g&b^~g&E,$=y&v^~y&A,P=Ke.add5L(D,T,$,mF[x],fa[x]),M=Ke.add5H(P,S,N,I,gF[x],ua[x]),z=P|0,q=Ke.rotrSH(s,i,28)^Ke.rotrBH(s,i,34)^Ke.rotrBH(s,i,39),F=Ke.rotrSL(s,i,28)^Ke.rotrBL(s,i,34)^Ke.rotrBL(s,i,39),ee=s&a^s&u^a&u,Q=i&c^i&f^c&f;S=E|0,D=A|0,E=b|0,A=v|0,b=g|0,v=y|0,{h:g,l:y}=Ke.add(h|0,p|0,M|0,z|0),h=u|0,p=f|0,u=a|0,f=c|0,a=s|0,c=i|0;const R=Ke.add3L(z,F,Q);s=Ke.add3H(R,M,q,ee),i=R|0}({h:s,l:i}=Ke.add(this.Ah|0,this.Al|0,s|0,i|0)),{h:a,l:c}=Ke.add(this.Bh|0,this.Bl|0,a|0,c|0),{h:u,l:f}=Ke.add(this.Ch|0,this.Cl|0,u|0,f|0),{h,l:p}=Ke.add(this.Dh|0,this.Dl|0,h|0,p|0),{h:g,l:y}=Ke.add(this.Eh|0,this.El|0,g|0,y|0),{h:b,l:v}=Ke.add(this.Fh|0,this.Fl|0,b|0,v|0),{h:E,l:A}=Ke.add(this.Gh|0,this.Gl|0,E|0,A|0),{h:S,l:D}=Ke.add(this.Hh|0,this.Hl|0,S|0,D|0),this.set(s,i,a,c,u,f,h,p,g,y,b,v,E,A,S,D)}roundClean(){ua.fill(0),fa.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}};const wF=VH(()=>new yF);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const IE=BigInt(0),R6=BigInt(1),bF=BigInt(2);function DE(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function OE(t){if(!DE(t))throw new Error("Uint8Array expected")}function Q1(t,e){if(typeof e!="boolean")throw new Error(t+" boolean expected, got "+e)}const vF=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function ME(t){OE(t);let e="";for(let n=0;n<t.length;n++)e+=vF[t[n]];return e}function $6(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return t===""?IE:BigInt("0x"+t)}const io={_0:48,_9:57,A:65,F:70,a:97,f:102};function $N(t){if(t>=io._0&&t<=io._9)return t-io._0;if(t>=io.A&&t<=io.F)return t-(io.A-10);if(t>=io.a&&t<=io.f)return t-(io.a-10)}function U6(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);const e=t.length,n=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const s=new Uint8Array(n);for(let i=0,a=0;i<n;i++,a+=2){const c=$N(t.charCodeAt(a)),u=$N(t.charCodeAt(a+1));if(c===void 0||u===void 0){const f=t[a]+t[a+1];throw new Error('hex string expected, got non-hex character "'+f+'" at index '+a)}s[i]=c*16+u}return s}function EF(t){return $6(ME(t))}function P0(t){return OE(t),$6(ME(Uint8Array.from(t).reverse()))}function P6(t,e){return U6(t.toString(16).padStart(e*2,"0"))}function Dv(t,e){return P6(t,e).reverse()}function ro(t,e,n){let s;if(typeof e=="string")try{s=U6(e)}catch(a){throw new Error(t+" must be hex string or Uint8Array, cause: "+a)}else if(DE(e))s=Uint8Array.from(e);else throw new Error(t+" must be hex string or Uint8Array");const i=s.length;if(typeof n=="number"&&i!==n)throw new Error(t+" of length "+n+" expected, got "+i);return s}function UN(...t){let e=0;for(let s=0;s<t.length;s++){const i=t[s];OE(i),e+=i.length}const n=new Uint8Array(e);for(let s=0,i=0;s<t.length;s++){const a=t[s];n.set(a,i),i+=a.length}return n}const Z1=t=>typeof t=="bigint"&&IE<=t;function AF(t,e,n){return Z1(t)&&Z1(e)&&Z1(n)&&e<=t&&t<n}function Ad(t,e,n,s){if(!AF(e,n,s))throw new Error("expected valid "+t+": "+n+" <= n < "+s+", got "+e)}function CF(t){let e;for(e=0;t>IE;t>>=R6,e+=1);return e}const SF=t=>(bF<<BigInt(t-1))-R6,xF={bigint:t=>typeof t=="bigint",function:t=>typeof t=="function",boolean:t=>typeof t=="boolean",string:t=>typeof t=="string",stringOrUint8Array:t=>typeof t=="string"||DE(t),isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>typeof t=="function"&&Number.isSafeInteger(t.outputLen)};function RE(t,e,n={}){const s=(i,a,c)=>{const u=xF[a];if(typeof u!="function")throw new Error("invalid validator function");const f=t[i];if(!(c&&f===void 0)&&!u(f,t))throw new Error("param "+String(i)+" is invalid. Expected "+a+", got "+f)};for(const[i,a]of Object.entries(e))s(i,a,!1);for(const[i,a]of Object.entries(n))s(i,a,!0);return t}function PN(t){const e=new WeakMap;return(n,...s)=>{const i=e.get(n);if(i!==void 0)return i;const a=t(n,...s);return e.set(n,a),a}}const An=BigInt(0),Qt=BigInt(1),Oc=BigInt(2),NF=BigInt(3),Ov=BigInt(4),LN=BigInt(5),kN=BigInt(8);function hn(t,e){const n=t%e;return n>=An?n:e+n}function TF(t,e,n){if(e<An)throw new Error("invalid exponent, negatives unsupported");if(n<=An)throw new Error("invalid modulus");if(n===Qt)return An;let s=Qt;for(;e>An;)e&Qt&&(s=s*t%n),t=t*t%n,e>>=Qt;return s}function fr(t,e,n){let s=t;for(;e-- >An;)s*=s,s%=n;return s}function BN(t,e){if(t===An)throw new Error("invert: expected non-zero number");if(e<=An)throw new Error("invert: expected positive modulus, got "+e);let n=hn(t,e),s=e,i=An,a=Qt;for(;n!==An;){const c=s/n,u=s%n,f=i-a*c;s=n,n=u,i=a,a=f}if(s!==Qt)throw new Error("invert: does not exist");return hn(i,e)}function _F(t){const e=(t-Qt)/Oc;let n,s,i;for(n=t-Qt,s=0;n%Oc===An;n/=Oc,s++);for(i=Oc;i<t&&TF(i,e,t)!==t-Qt;i++)if(i>1e3)throw new Error("Cannot find square root: likely non-prime P");if(s===1){const c=(t+Qt)/Ov;return function(u,f){const h=u.pow(f,c);if(!u.eql(u.sqr(h),f))throw new Error("Cannot find square root");return h}}const a=(n+Qt)/Oc;return function(c,u){if(c.pow(u,e)===c.neg(c.ONE))throw new Error("Cannot find square root");let f=s,h=c.pow(c.mul(c.ONE,i),n),p=c.pow(u,a),g=c.pow(u,n);for(;!c.eql(g,c.ONE);){if(c.eql(g,c.ZERO))return c.ZERO;let y=1;for(let v=c.sqr(g);y<f&&!c.eql(v,c.ONE);y++)v=c.sqr(v);const b=c.pow(h,Qt<<BigInt(f-y-1));h=c.sqr(b),p=c.mul(p,b),g=c.mul(g,h),f=y}return p}}function IF(t){if(t%Ov===NF){const e=(t+Qt)/Ov;return function(n,s){const i=n.pow(s,e);if(!n.eql(n.sqr(i),s))throw new Error("Cannot find square root");return i}}if(t%kN===LN){const e=(t-LN)/kN;return function(n,s){const i=n.mul(s,Oc),a=n.pow(i,e),c=n.mul(s,a),u=n.mul(n.mul(c,Oc),a),f=n.mul(c,n.sub(u,n.ONE));if(!n.eql(n.sqr(f),s))throw new Error("Cannot find square root");return f}}return _F(t)}const DF=(t,e)=>(hn(t,e)&Qt)===Qt,OF=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function MF(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},n=OF.reduce((s,i)=>(s[i]="function",s),e);return RE(t,n)}function RF(t,e,n){if(n<An)throw new Error("invalid exponent, negatives unsupported");if(n===An)return t.ONE;if(n===Qt)return e;let s=t.ONE,i=e;for(;n>An;)n&Qt&&(s=t.mul(s,i)),i=t.sqr(i),n>>=Qt;return s}function $F(t,e){const n=new Array(e.length),s=e.reduce((a,c,u)=>t.is0(c)?a:(n[u]=a,t.mul(a,c)),t.ONE),i=t.inv(s);return e.reduceRight((a,c,u)=>t.is0(c)?a:(n[u]=t.mul(a,n[u]),t.mul(a,c)),i),n}function L6(t,e){const n=e!==void 0?e:t.toString(2).length,s=Math.ceil(n/8);return{nBitLength:n,nByteLength:s}}function k6(t,e,n=!1,s={}){if(t<=An)throw new Error("invalid field: expected ORDER > 0, got "+t);const{nBitLength:i,nByteLength:a}=L6(t,e);if(a>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let c;const u=Object.freeze({ORDER:t,isLE:n,BITS:i,BYTES:a,MASK:SF(i),ZERO:An,ONE:Qt,create:f=>hn(f,t),isValid:f=>{if(typeof f!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof f);return An<=f&&f<t},is0:f=>f===An,isOdd:f=>(f&Qt)===Qt,neg:f=>hn(-f,t),eql:(f,h)=>f===h,sqr:f=>hn(f*f,t),add:(f,h)=>hn(f+h,t),sub:(f,h)=>hn(f-h,t),mul:(f,h)=>hn(f*h,t),pow:(f,h)=>RF(u,f,h),div:(f,h)=>hn(f*BN(h,t),t),sqrN:f=>f*f,addN:(f,h)=>f+h,subN:(f,h)=>f-h,mulN:(f,h)=>f*h,inv:f=>BN(f,t),sqrt:s.sqrt||(f=>(c||(c=IF(t)),c(u,f))),invertBatch:f=>$F(u,f),cmov:(f,h,p)=>p?h:f,toBytes:f=>n?Dv(f,a):P6(f,a),fromBytes:f=>{if(f.length!==a)throw new Error("Field.fromBytes: expected "+a+" bytes, got "+f.length);return n?P0(f):EF(f)}});return Object.freeze(u)}const jN=BigInt(0),i0=BigInt(1);function J1(t,e){const n=e.negate();return t?n:e}function B6(t,e){if(!Number.isSafeInteger(t)||t<=0||t>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+t)}function eb(t,e){B6(t,e);const n=Math.ceil(e/t)+1,s=2**(t-1);return{windows:n,windowSize:s}}function UF(t,e){if(!Array.isArray(t))throw new Error("array expected");t.forEach((n,s)=>{if(!(n instanceof e))throw new Error("invalid point at index "+s)})}function PF(t,e){if(!Array.isArray(t))throw new Error("array of scalars expected");t.forEach((n,s)=>{if(!e.isValid(n))throw new Error("invalid scalar at index "+s)})}const tb=new WeakMap,j6=new WeakMap;function nb(t){return j6.get(t)||1}function LF(t,e){return{constTimeNegate:J1,hasPrecomputes(n){return nb(n)!==1},unsafeLadder(n,s,i=t.ZERO){let a=n;for(;s>jN;)s&i0&&(i=i.add(a)),a=a.double(),s>>=i0;return i},precomputeWindow(n,s){const{windows:i,windowSize:a}=eb(s,e),c=[];let u=n,f=u;for(let h=0;h<i;h++){f=u,c.push(f);for(let p=1;p<a;p++)f=f.add(u),c.push(f);u=f.double()}return c},wNAF(n,s,i){const{windows:a,windowSize:c}=eb(n,e);let u=t.ZERO,f=t.BASE;const h=BigInt(2**n-1),p=2**n,g=BigInt(n);for(let y=0;y<a;y++){const b=y*c;let v=Number(i&h);i>>=g,v>c&&(v-=p,i+=i0);const E=b,A=b+Math.abs(v)-1,S=y%2!==0,D=v<0;v===0?f=f.add(J1(S,s[E])):u=u.add(J1(D,s[A]))}return{p:u,f}},wNAFUnsafe(n,s,i,a=t.ZERO){const{windows:c,windowSize:u}=eb(n,e),f=BigInt(2**n-1),h=2**n,p=BigInt(n);for(let g=0;g<c;g++){const y=g*u;if(i===jN)break;let b=Number(i&f);if(i>>=p,b>u&&(b-=h,i+=i0),b===0)continue;let v=s[y+Math.abs(b)-1];b<0&&(v=v.negate()),a=a.add(v)}return a},getPrecomputes(n,s,i){let a=tb.get(s);return a||(a=this.precomputeWindow(s,n),n!==1&&tb.set(s,i(a))),a},wNAFCached(n,s,i){const a=nb(n);return this.wNAF(a,this.getPrecomputes(a,n,i),s)},wNAFCachedUnsafe(n,s,i,a){const c=nb(n);return c===1?this.unsafeLadder(n,s,a):this.wNAFUnsafe(c,this.getPrecomputes(c,n,i),s,a)},setWindowSize(n,s){B6(s,e),j6.set(n,s),tb.delete(n)}}}function kF(t,e,n,s){if(UF(n,t),PF(s,e),n.length!==s.length)throw new Error("arrays of points and scalars must have equal length");const i=t.ZERO,a=CF(BigInt(n.length)),c=a>12?a-3:a>4?a-2:a?2:1,u=(1<<c)-1,f=new Array(u+1).fill(i),h=Math.floor((e.BITS-1)/c)*c;let p=i;for(let g=h;g>=0;g-=c){f.fill(i);for(let b=0;b<s.length;b++){const v=s[b],E=Number(v>>BigInt(g)&BigInt(u));f[E]=f[E].add(n[b])}let y=i;for(let b=f.length-1,v=i;b>0;b--)v=v.add(f[b]),y=y.add(v);if(p=p.add(y),g!==0)for(let b=0;b<c;b++)p=p.double()}return p}function BF(t){return MF(t.Fp),RE(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...L6(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}const ki=BigInt(0),ds=BigInt(1),r0=BigInt(2),jF=BigInt(8),zF={zip215:!0};function HF(t){const e=BF(t);return RE(t,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...e})}function FF(t){const e=HF(t),{Fp:n,n:s,prehash:i,hash:a,randomBytes:c,nByteLength:u,h:f}=e,h=r0<<BigInt(u*8)-ds,p=n.create,g=k6(e.n,e.nBitLength),y=e.uvRatio||((R,_)=>{try{return{isValid:!0,value:n.sqrt(R*n.inv(_))}}catch{return{isValid:!1,value:ki}}}),b=e.adjustScalarBytes||(R=>R),v=e.domain||((R,_,k)=>{if(Q1("phflag",k),_.length||k)throw new Error("Contexts/pre-hash are not supported");return R});function E(R,_){Ad("coordinate "+R,_,ki,h)}function A(R){if(!(R instanceof x))throw new Error("ExtendedPoint expected")}const S=PN((R,_)=>{const{ex:k,ey:H,ez:G}=R,V=R.is0();_==null&&(_=V?jF:n.inv(G));const U=p(k*_),K=p(H*_),te=p(G*_);if(V)return{x:ki,y:ds};if(te!==ds)throw new Error("invZ was invalid");return{x:U,y:K}}),D=PN(R=>{const{a:_,d:k}=e;if(R.is0())throw new Error("bad point: ZERO");const{ex:H,ey:G,ez:V,et:U}=R,K=p(H*H),te=p(G*G),ie=p(V*V),ue=p(ie*ie),pe=p(K*_),xe=p(ie*p(pe+te)),ke=p(ue+p(k*p(K*te)));if(xe!==ke)throw new Error("bad point: equation left != right (1)");const Te=p(H*G),mt=p(V*U);if(Te!==mt)throw new Error("bad point: equation left != right (2)");return!0});class x{constructor(_,k,H,G){this.ex=_,this.ey=k,this.ez=H,this.et=G,E("x",_),E("y",k),E("z",H),E("t",G),Object.freeze(this)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(_){if(_ instanceof x)throw new Error("extended point not allowed");const{x:k,y:H}=_||{};return E("x",k),E("y",H),new x(k,H,ds,p(k*H))}static normalizeZ(_){const k=n.invertBatch(_.map(H=>H.ez));return _.map((H,G)=>H.toAffine(k[G])).map(x.fromAffine)}static msm(_,k){return kF(x,g,_,k)}_setWindowSize(_){I.setWindowSize(this,_)}assertValidity(){D(this)}equals(_){A(_);const{ex:k,ey:H,ez:G}=this,{ex:V,ey:U,ez:K}=_,te=p(k*K),ie=p(V*G),ue=p(H*K),pe=p(U*G);return te===ie&&ue===pe}is0(){return this.equals(x.ZERO)}negate(){return new x(p(-this.ex),this.ey,this.ez,p(-this.et))}double(){const{a:_}=e,{ex:k,ey:H,ez:G}=this,V=p(k*k),U=p(H*H),K=p(r0*p(G*G)),te=p(_*V),ie=k+H,ue=p(p(ie*ie)-V-U),pe=te+U,xe=pe-K,ke=te-U,Te=p(ue*xe),mt=p(pe*ke),Ot=p(ue*ke),Os=p(xe*pe);return new x(Te,mt,Os,Ot)}add(_){A(_);const{a:k,d:H}=e,{ex:G,ey:V,ez:U,et:K}=this,{ex:te,ey:ie,ez:ue,et:pe}=_;if(k===BigInt(-1)){const _o=p((V-G)*(ie+te)),Di=p((V+G)*(ie-te)),Oi=p(Di-_o);if(Oi===ki)return this.double();const Ha=p(U*r0*pe),Fa=p(K*r0*ue),Mt=Fa+Ha,Ur=Di+_o,qa=Fa-Ha,Va=p(Mt*Oi),Pr=p(Ur*qa),hl=p(Mt*qa),pl=p(Oi*Ur);return new x(Va,Pr,pl,hl)}const xe=p(G*te),ke=p(V*ie),Te=p(K*H*pe),mt=p(U*ue),Ot=p((G+V)*(te+ie)-xe-ke),Os=mt-Te,Rr=mt+Te,Sn=p(ke-k*xe),Qi=p(Ot*Os),$r=p(Rr*Sn),fl=p(Ot*Sn),dl=p(Os*Rr);return new x(Qi,$r,dl,fl)}subtract(_){return this.add(_.negate())}wNAF(_){return I.wNAFCached(this,_,x.normalizeZ)}multiply(_){const k=_;Ad("scalar",k,ds,s);const{p:H,f:G}=this.wNAF(k);return x.normalizeZ([H,G])[0]}multiplyUnsafe(_,k=x.ZERO){const H=_;return Ad("scalar",H,ki,s),H===ki?T:this.is0()||H===ds?this:I.wNAFCachedUnsafe(this,H,x.normalizeZ,k)}isSmallOrder(){return this.multiplyUnsafe(f).is0()}isTorsionFree(){return I.unsafeLadder(this,s).is0()}toAffine(_){return S(this,_)}clearCofactor(){const{h:_}=e;return _===ds?this:this.multiplyUnsafe(_)}static fromHex(_,k=!1){const{d:H,a:G}=e,V=n.BYTES;_=ro("pointHex",_,V),Q1("zip215",k);const U=_.slice(),K=_[V-1];U[V-1]=K&-129;const te=P0(U),ie=k?h:n.ORDER;Ad("pointHex.y",te,ki,ie);const ue=p(te*te),pe=p(ue-ds),xe=p(H*ue-G);let{isValid:ke,value:Te}=y(pe,xe);if(!ke)throw new Error("Point.fromHex: invalid y coordinate");const mt=(Te&ds)===ds,Ot=(K&128)!==0;if(!k&&Te===ki&&Ot)throw new Error("Point.fromHex: x=0 and x_0=1");return Ot!==mt&&(Te=p(-Te)),x.fromAffine({x:Te,y:te})}static fromPrivateKey(_){return M(_).point}toRawBytes(){const{x:_,y:k}=this.toAffine(),H=Dv(k,n.BYTES);return H[H.length-1]|=_&ds?128:0,H}toHex(){return ME(this.toRawBytes())}}x.BASE=new x(e.Gx,e.Gy,ds,p(e.Gx*e.Gy)),x.ZERO=new x(ki,ds,ds,ki);const{BASE:N,ZERO:T}=x,I=LF(x,u*8);function $(R){return hn(R,s)}function P(R){return $(P0(R))}function M(R){const _=n.BYTES;R=ro("private key",R,_);const k=ro("hashed private key",a(R),2*_),H=b(k.slice(0,_)),G=k.slice(_,2*_),V=P(H),U=N.multiply(V),K=U.toRawBytes();return{head:H,prefix:G,scalar:V,point:U,pointBytes:K}}function z(R){return M(R).pointBytes}function q(R=new Uint8Array,..._){const k=UN(..._);return P(a(v(k,ro("context",R),!!i)))}function F(R,_,k={}){R=ro("message",R),i&&(R=i(R));const{prefix:H,scalar:G,pointBytes:V}=M(_),U=q(k.context,H,R),K=N.multiply(U).toRawBytes(),te=q(k.context,K,V,R),ie=$(U+te*G);Ad("signature.s",ie,ki,s);const ue=UN(K,Dv(ie,n.BYTES));return ro("result",ue,n.BYTES*2)}const ee=zF;function Q(R,_,k,H=ee){const{context:G,zip215:V}=H,U=n.BYTES;R=ro("signature",R,2*U),_=ro("message",_),k=ro("publicKey",k,U),V!==void 0&&Q1("zip215",V),i&&(_=i(_));const K=P0(R.slice(U,2*U));let te,ie,ue;try{te=x.fromHex(k,V),ie=x.fromHex(R.slice(0,U),V),ue=N.multiplyUnsafe(K)}catch{return!1}if(!V&&te.isSmallOrder())return!1;const pe=q(G,ie.toRawBytes(),te.toRawBytes(),_);return ie.add(te.multiplyUnsafe(pe)).subtract(ue).clearCofactor().equals(x.ZERO)}return N._setWindowSize(8),{CURVE:e,getPublicKey:z,sign:F,verify:Q,ExtendedPoint:x,utils:{getExtendedPublicKey:M,randomPrivateKey:()=>c(n.BYTES),precompute(R=8,_=x.BASE){return _._setWindowSize(R),_.multiply(BigInt(3)),_}}}}BigInt(0),BigInt(1);const $E=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),zN=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");BigInt(0);const qF=BigInt(1),HN=BigInt(2);BigInt(3);const VF=BigInt(5),WF=BigInt(8);function KF(t){const e=BigInt(10),n=BigInt(20),s=BigInt(40),i=BigInt(80),a=$E,c=t*t%a*t%a,u=fr(c,HN,a)*c%a,f=fr(u,qF,a)*t%a,h=fr(f,VF,a)*f%a,p=fr(h,e,a)*h%a,g=fr(p,n,a)*p%a,y=fr(g,s,a)*g%a,b=fr(y,i,a)*y%a,v=fr(b,i,a)*y%a,E=fr(v,e,a)*h%a;return{pow_p_5_8:fr(E,HN,a)*t%a,b2:c}}function GF(t){return t[0]&=248,t[31]&=127,t[31]|=64,t}function YF(t,e){const n=$E,s=hn(e*e*e,n),i=hn(s*s*e,n),a=KF(t*i).pow_p_5_8;let c=hn(t*s*a,n);const u=hn(e*c*c,n),f=c,h=hn(c*zN,n),p=u===t,g=u===hn(-t,n),y=u===hn(-t*zN,n);return p&&(c=f),(g||y)&&(c=h),DF(c,n)&&(c=hn(-c,n)),{isValid:p||g,value:c}}const XF=k6($E,void 0,!0),QF={a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:XF,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:WF,Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:wF,randomBytes:O6,adjustScalarBytes:GF,uvRatio:YF},z6=FF(QF),ZF="EdDSA",JF="JWT",cm=".",Om="base64url",H6="utf8",F6="utf8",eq=":",tq="did",nq="key",FN="base58btc",sq="z",iq="K36",rq=32;function UE(t){return globalThis.Buffer!=null?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):t}function q6(t=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?UE(globalThis.Buffer.allocUnsafe(t)):new Uint8Array(t)}function V6(t,e){e||(e=t.reduce((i,a)=>i+a.length,0));const n=q6(e);let s=0;for(const i of t)n.set(i,s),s+=i.length;return UE(n)}function oq(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),s=0;s<n.length;s++)n[s]=255;for(var i=0;i<t.length;i++){var a=t.charAt(i),c=a.charCodeAt(0);if(n[c]!==255)throw new TypeError(a+" is ambiguous");n[c]=i}var u=t.length,f=t.charAt(0),h=Math.log(u)/Math.log(256),p=Math.log(256)/Math.log(u);function g(v){if(v instanceof Uint8Array||(ArrayBuffer.isView(v)?v=new Uint8Array(v.buffer,v.byteOffset,v.byteLength):Array.isArray(v)&&(v=Uint8Array.from(v))),!(v instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(v.length===0)return"";for(var E=0,A=0,S=0,D=v.length;S!==D&&v[S]===0;)S++,E++;for(var x=(D-S)*p+1>>>0,N=new Uint8Array(x);S!==D;){for(var T=v[S],I=0,$=x-1;(T!==0||I<A)&&$!==-1;$--,I++)T+=256*N[$]>>>0,N[$]=T%u>>>0,T=T/u>>>0;if(T!==0)throw new Error("Non-zero carry");A=I,S++}for(var P=x-A;P!==x&&N[P]===0;)P++;for(var M=f.repeat(E);P<x;++P)M+=t.charAt(N[P]);return M}function y(v){if(typeof v!="string")throw new TypeError("Expected String");if(v.length===0)return new Uint8Array;var E=0;if(v[E]!==" "){for(var A=0,S=0;v[E]===f;)A++,E++;for(var D=(v.length-E)*h+1>>>0,x=new Uint8Array(D);v[E];){var N=n[v.charCodeAt(E)];if(N===255)return;for(var T=0,I=D-1;(N!==0||T<S)&&I!==-1;I--,T++)N+=u*x[I]>>>0,x[I]=N%256>>>0,N=N/256>>>0;if(N!==0)throw new Error("Non-zero carry");S=T,E++}if(v[E]!==" "){for(var $=D-S;$!==D&&x[$]===0;)$++;for(var P=new Uint8Array(A+(D-$)),M=A;$!==D;)P[M++]=x[$++];return P}}}function b(v){var E=y(v);if(E)return E;throw new Error(`Non-${e} character`)}return{encode:g,decodeUnsafe:y,decode:b}}var aq=oq,cq=aq;const W6=t=>{if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")},lq=t=>new TextEncoder().encode(t),uq=t=>new TextDecoder().decode(t);let fq=class{constructor(e,n,s){this.name=e,this.prefix=n,this.baseEncode=s}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}},dq=class{constructor(e,n,s){if(this.name=e,this.prefix=n,n.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=n.codePointAt(0),this.baseDecode=s}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return K6(this,e)}},hq=class{constructor(e){this.decoders=e}or(e){return K6(this,e)}decode(e){const n=e[0],s=this.decoders[n];if(s)return s.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}};const K6=(t,e)=>new hq({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}});let pq=class{constructor(e,n,s,i){this.name=e,this.prefix=n,this.baseEncode=s,this.baseDecode=i,this.encoder=new fq(e,n,s),this.decoder=new dq(e,n,i)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}};const Mm=({name:t,prefix:e,encode:n,decode:s})=>new pq(t,e,n,s),gp=({prefix:t,name:e,alphabet:n})=>{const{encode:s,decode:i}=cq(n,e);return Mm({prefix:t,name:e,encode:s,decode:a=>W6(i(a))})},gq=(t,e,n,s)=>{const i={};for(let p=0;p<e.length;++p)i[e[p]]=p;let a=t.length;for(;t[a-1]==="=";)--a;const c=new Uint8Array(a*n/8|0);let u=0,f=0,h=0;for(let p=0;p<a;++p){const g=i[t[p]];if(g===void 0)throw new SyntaxError(`Non-${s} character`);f=f<<n|g,u+=n,u>=8&&(u-=8,c[h++]=255&f>>u)}if(u>=n||255&f<<8-u)throw new SyntaxError("Unexpected end of data");return c},mq=(t,e,n)=>{const s=e[e.length-1]==="=",i=(1<<n)-1;let a="",c=0,u=0;for(let f=0;f<t.length;++f)for(u=u<<8|t[f],c+=8;c>n;)c-=n,a+=e[i&u>>c];if(c&&(a+=e[i&u<<n-c]),s)for(;a.length*n&7;)a+="=";return a},Ln=({name:t,prefix:e,bitsPerChar:n,alphabet:s})=>Mm({prefix:e,name:t,encode(i){return mq(i,s,n)},decode(i){return gq(i,s,n,t)}}),yq=Mm({prefix:"\0",name:"identity",encode:t=>uq(t),decode:t=>lq(t)});var wq=Object.freeze({__proto__:null,identity:yq});const bq=Ln({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var vq=Object.freeze({__proto__:null,base2:bq});const Eq=Ln({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var Aq=Object.freeze({__proto__:null,base8:Eq});const Cq=gp({prefix:"9",name:"base10",alphabet:"0123456789"});var Sq=Object.freeze({__proto__:null,base10:Cq});const xq=Ln({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),Nq=Ln({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var Tq=Object.freeze({__proto__:null,base16:xq,base16upper:Nq});const _q=Ln({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),Iq=Ln({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),Dq=Ln({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),Oq=Ln({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),Mq=Ln({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),Rq=Ln({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),$q=Ln({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),Uq=Ln({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),Pq=Ln({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var Lq=Object.freeze({__proto__:null,base32:_q,base32upper:Iq,base32pad:Dq,base32padupper:Oq,base32hex:Mq,base32hexupper:Rq,base32hexpad:$q,base32hexpadupper:Uq,base32z:Pq});const kq=gp({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),Bq=gp({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var jq=Object.freeze({__proto__:null,base36:kq,base36upper:Bq});const zq=gp({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),Hq=gp({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var Fq=Object.freeze({__proto__:null,base58btc:zq,base58flickr:Hq});const qq=Ln({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),Vq=Ln({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),Wq=Ln({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),Kq=Ln({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var Gq=Object.freeze({__proto__:null,base64:qq,base64pad:Vq,base64url:Wq,base64urlpad:Kq});const G6=Array.from("🚀🪐☄🛰🌌🌑🌒🌓🌔🌕🌖🌗🌘🌍🌏🌎🐉☀💻🖥💾💿😂❤😍🤣😊🙏💕😭😘👍😅👏😁🔥🥰💔💖💙😢🤔😆🙄💪😉☺👌🤗💜😔😎😇🌹🤦🎉💞✌✨🤷😱😌🌸🙌😋💗💚😏💛🙂💓🤩😄😀🖤😃💯🙈👇🎶😒🤭❣😜💋👀😪😑💥🙋😞😩😡🤪👊🥳😥🤤👉💃😳✋😚😝😴🌟😬🙃🍀🌷😻😓⭐✅🥺🌈😈🤘💦✔😣🏃💐☹🎊💘😠☝😕🌺🎂🌻😐🖕💝🙊😹🗣💫💀👑🎵🤞😛🔴😤🌼😫⚽🤙☕🏆🤫👈😮🙆🍻🍃🐶💁😲🌿🧡🎁⚡🌞🎈❌✊👋😰🤨😶🤝🚶💰🍓💢🤟🙁🚨💨🤬✈🎀🍺🤓😙💟🌱😖👶🥴▶➡❓💎💸⬇😨🌚🦋😷🕺⚠🙅😟😵👎🤲🤠🤧📌🔵💅🧐🐾🍒😗🤑🌊🤯🐷☎💧😯💆👆🎤🙇🍑❄🌴💣🐸💌📍🥀🤢👅💡💩👐📸👻🤐🤮🎼🥵🚩🍎🍊👼💍📣🥂"),Yq=G6.reduce((t,e,n)=>(t[n]=e,t),[]),Xq=G6.reduce((t,e,n)=>(t[e.codePointAt(0)]=n,t),[]);function Qq(t){return t.reduce((e,n)=>(e+=Yq[n],e),"")}function Zq(t){const e=[];for(const n of t){const s=Xq[n.codePointAt(0)];if(s===void 0)throw new Error(`Non-base256emoji character: ${n}`);e.push(s)}return new Uint8Array(e)}const Jq=Mm({prefix:"🚀",name:"base256emoji",encode:Qq,decode:Zq});var eV=Object.freeze({__proto__:null,base256emoji:Jq}),tV=Y6,qN=128,nV=-128,sV=Math.pow(2,31);function Y6(t,e,n){e=e||[],n=n||0;for(var s=n;t>=sV;)e[n++]=t&255|qN,t/=128;for(;t&nV;)e[n++]=t&255|qN,t>>>=7;return e[n]=t|0,Y6.bytes=n-s+1,e}var iV=Mv,rV=128,VN=127;function Mv(t,s){var n=0,s=s||0,i=0,a=s,c,u=t.length;do{if(a>=u)throw Mv.bytes=0,new RangeError("Could not decode varint");c=t[a++],n+=i<28?(c&VN)<<i:(c&VN)*Math.pow(2,i),i+=7}while(c>=rV);return Mv.bytes=a-s,n}var oV=Math.pow(2,7),aV=Math.pow(2,14),cV=Math.pow(2,21),lV=Math.pow(2,28),uV=Math.pow(2,35),fV=Math.pow(2,42),dV=Math.pow(2,49),hV=Math.pow(2,56),pV=Math.pow(2,63),gV=function(t){return t<oV?1:t<aV?2:t<cV?3:t<lV?4:t<uV?5:t<fV?6:t<dV?7:t<hV?8:t<pV?9:10},mV={encode:tV,decode:iV,encodingLength:gV},X6=mV;const WN=(t,e,n=0)=>(X6.encode(t,e,n),e),KN=t=>X6.encodingLength(t),Rv=(t,e)=>{const n=e.byteLength,s=KN(t),i=s+KN(n),a=new Uint8Array(i+n);return WN(t,a,0),WN(n,a,s),a.set(e,i),new yV(t,n,e,a)};let yV=class{constructor(e,n,s,i){this.code=e,this.size=n,this.digest=s,this.bytes=i}};const Q6=({name:t,code:e,encode:n})=>new wV(t,e,n);let wV=class{constructor(e,n,s){this.name=e,this.code=n,this.encode=s}digest(e){if(e instanceof Uint8Array){const n=this.encode(e);return n instanceof Uint8Array?Rv(this.code,n):n.then(s=>Rv(this.code,s))}else throw Error("Unknown type, must be binary type")}};const Z6=t=>async e=>new Uint8Array(await crypto.subtle.digest(t,e)),bV=Q6({name:"sha2-256",code:18,encode:Z6("SHA-256")}),vV=Q6({name:"sha2-512",code:19,encode:Z6("SHA-512")});var EV=Object.freeze({__proto__:null,sha256:bV,sha512:vV});const J6=0,AV="identity",eD=W6,CV=t=>Rv(J6,eD(t)),SV={code:J6,name:AV,encode:eD,digest:CV};var xV=Object.freeze({__proto__:null,identity:SV});new TextEncoder,new TextDecoder;const GN={...wq,...vq,...Aq,...Sq,...Tq,...Lq,...jq,...Fq,...Gq,...eV};({...EV,...xV});function tD(t,e,n,s){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:n},decoder:{decode:s}}}const YN=tD("utf8","u",t=>"u"+new TextDecoder("utf8").decode(t),t=>new TextEncoder().encode(t.substring(1))),sb=tD("ascii","a",t=>{let e="a";for(let n=0;n<t.length;n++)e+=String.fromCharCode(t[n]);return e},t=>{t=t.substring(1);const e=q6(t.length);for(let n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}),nD={utf8:YN,"utf-8":YN,hex:GN.base16,latin1:sb,ascii:sb,binary:sb,...GN};function Rm(t,e="utf8"){const n=nD[e];if(!n)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(t.buffer,t.byteOffset,t.byteLength).toString("utf8"):n.encoder.encode(t).substring(1)}function cf(t,e="utf8"){const n=nD[e];if(!n)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?UE(globalThis.Buffer.from(t,"utf-8")):n.decoder.decode(`${n.prefix}${t}`)}function XN(t){return Xc(Rm(cf(t,Om),H6))}function lm(t){return Rm(cf(So(t),H6),Om)}function sD(t){const e=cf(iq,FN),n=sq+Rm(V6([e,t]),FN);return[tq,nq,n].join(eq)}function NV(t){return Rm(t,Om)}function TV(t){return cf(t,Om)}function _V(t){return cf([lm(t.header),lm(t.payload)].join(cm),F6)}function IV(t){return[lm(t.header),lm(t.payload),NV(t.signature)].join(cm)}function $v(t){const e=t.split(cm),n=XN(e[0]),s=XN(e[1]),i=TV(e[2]),a=cf(e.slice(0,2).join(cm),F6);return{header:n,payload:s,signature:i,data:a}}function QN(t=O6(rq)){const e=z6.getPublicKey(t);return{secretKey:V6([t,e]),publicKey:e}}async function DV(t,e,n,s,i=we.fromMiliseconds(Date.now())){const a={alg:ZF,typ:JF},c=sD(s.publicKey),u=i+n,f={iss:c,sub:t,aud:e,iat:i,exp:u},h=_V({header:a,payload:f}),p=z6.sign(h,s.secretKey.slice(0,32));return IV({header:a,payload:f,signature:p})}var ZN=function(t,e,n){if(n||arguments.length===2)for(var s=0,i=e.length,a;s<i;s++)(a||!(s in e))&&(a||(a=Array.prototype.slice.call(e,0,s)),a[s]=e[s]);return t.concat(a||Array.prototype.slice.call(e))},OV=(function(){function t(e,n,s){this.name=e,this.version=n,this.os=s,this.type="browser"}return t})(),MV=(function(){function t(e){this.version=e,this.type="node",this.name="node",this.os=process.platform}return t})(),RV=(function(){function t(e,n,s,i){this.name=e,this.version=n,this.os=s,this.bot=i,this.type="bot-device"}return t})(),$V=(function(){function t(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null}return t})(),UV=(function(){function t(){this.type="react-native",this.name="react-native",this.version=null,this.os=null}return t})(),PV=/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/,LV=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,JN=3,kV=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["pie",/^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],["pie",/^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/],["netfront",/^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",PV]],eT=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Windows CE",/Windows CE|WinCE|Microsoft Pocket Internet Explorer/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function BV(t){return typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"?new UV:typeof navigator<"u"?zV(navigator.userAgent):FV()}function jV(t){return t!==""&&kV.reduce(function(e,n){var s=n[0],i=n[1];if(e)return e;var a=i.exec(t);return!!a&&[s,a]},!1)}function zV(t){var e=jV(t);if(!e)return null;var n=e[0],s=e[1];if(n==="searchbot")return new $V;var i=s[1]&&s[1].split(".").join("_").split("_").slice(0,3);i?i.length<JN&&(i=ZN(ZN([],i,!0),qV(JN-i.length),!0)):i=[];var a=i.join("."),c=HV(t),u=LV.exec(t);return u&&u[1]?new RV(n,a,c,u[1]):new OV(n,a,c)}function HV(t){for(var e=0,n=eT.length;e<n;e++){var s=eT[e],i=s[0],a=s[1],c=a.exec(t);if(c)return i}return null}function FV(){var t=typeof process<"u"&&process.version;return t?new MV(process.version.slice(1)):null}function qV(t){for(var e=[],n=0;n<t;n++)e.push("0");return e}var Tt={},tT;function iD(){if(tT)return Tt;tT=1,Object.defineProperty(Tt,"__esModule",{value:!0}),Tt.getLocalStorage=Tt.getLocalStorageOrThrow=Tt.getCrypto=Tt.getCryptoOrThrow=Tt.getLocation=Tt.getLocationOrThrow=Tt.getNavigator=Tt.getNavigatorOrThrow=Tt.getDocument=Tt.getDocumentOrThrow=Tt.getFromWindowOrThrow=Tt.getFromWindow=void 0;function t(y){let b;return typeof window<"u"&&typeof window[y]<"u"&&(b=window[y]),b}Tt.getFromWindow=t;function e(y){const b=t(y);if(!b)throw new Error(`${y} is not defined in Window`);return b}Tt.getFromWindowOrThrow=e;function n(){return e("document")}Tt.getDocumentOrThrow=n;function s(){return t("document")}Tt.getDocument=s;function i(){return e("navigator")}Tt.getNavigatorOrThrow=i;function a(){return t("navigator")}Tt.getNavigator=a;function c(){return e("location")}Tt.getLocationOrThrow=c;function u(){return t("location")}Tt.getLocation=u;function f(){return e("crypto")}Tt.getCryptoOrThrow=f;function h(){return t("crypto")}Tt.getCrypto=h;function p(){return e("localStorage")}Tt.getLocalStorageOrThrow=p;function g(){return t("localStorage")}return Tt.getLocalStorage=g,Tt}var xo=iD(),Cd={},nT;function VV(){if(nT)return Cd;nT=1,Object.defineProperty(Cd,"__esModule",{value:!0}),Cd.getWindowMetadata=void 0;const t=iD();function e(){let n,s;try{n=t.getDocumentOrThrow(),s=t.getLocationOrThrow()}catch{return null}function i(){const b=n.getElementsByTagName("link"),v=[];for(let E=0;E<b.length;E++){const A=b[E],S=A.getAttribute("rel");if(S&&S.toLowerCase().indexOf("icon")>-1){const D=A.getAttribute("href");if(D)if(D.toLowerCase().indexOf("https:")===-1&&D.toLowerCase().indexOf("http:")===-1&&D.indexOf("//")!==0){let x=s.protocol+"//"+s.host;if(D.indexOf("/")===0)x+=D;else{const N=s.pathname.split("/");N.pop();const T=N.join("/");x+=T+"/"+D}v.push(x)}else if(D.indexOf("//")===0){const x=s.protocol+D;v.push(x)}else v.push(D)}}return v}function a(...b){const v=n.getElementsByTagName("meta");for(let E=0;E<v.length;E++){const A=v[E],S=["itemprop","property","name"].map(D=>A.getAttribute(D)).filter(D=>D?b.includes(D):!1);if(S.length&&S){const D=A.getAttribute("content");if(D)return D}}return""}function c(){let b=a("name","og:site_name","og:title","twitter:title");return b||(b=n.title),b}function u(){return a("description","og:description","twitter:description","keywords")}const f=c(),h=u(),p=s.origin,g=i();return{description:h,url:p,icons:g,name:f}}return Cd.getWindowMetadata=e,Cd}var WV=VV();function xh(t,{strict:e=!0}={}){return!t||typeof t!="string"?!1:e?/^0x[0-9a-fA-F]*$/.test(t):t.startsWith("0x")}function Uv(t){return xh(t,{strict:!1})?Math.ceil((t.length-2)/2):t.length}const rD="2.31.0";let ib={getDocsUrl:({docsBaseUrl:t,docsPath:e="",docsSlug:n})=>e?`${t??"https://viem.sh"}${e}${n?`#${n}`:""}`:void 0,version:`viem@${rD}`},$m=class Pv extends Error{constructor(e,n={}){const s=n.cause instanceof Pv?n.cause.details:n.cause?.message?n.cause.message:n.details,i=n.cause instanceof Pv&&n.cause.docsPath||n.docsPath,a=ib.getDocsUrl?.({...n,docsPath:i}),c=[e||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...a?[`Docs: ${a}`]:[],...s?[`Details: ${s}`]:[],...ib.version?[`Version: ${ib.version}`]:[]].join(`
`);super(c,n.cause?{cause:n.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),this.details=s,this.docsPath=i,this.metaMessages=n.metaMessages,this.name=n.name??this.name,this.shortMessage=e,this.version=rD}walk(e){return oD(this,e)}};function oD(t,e){return e?.(t)?t:t&&typeof t=="object"&&"cause"in t&&t.cause!==void 0?oD(t.cause,e):e?null:t}let aD=class extends $m{constructor({size:e,targetSize:n,type:s}){super(`${s.charAt(0).toUpperCase()}${s.slice(1).toLowerCase()} size (${e}) exceeds padding size (${n}).`,{name:"SizeExceedsPaddingSizeError"})}};function lf(t,{dir:e,size:n=32}={}){return typeof t=="string"?KV(t,{dir:e,size:n}):GV(t,{dir:e,size:n})}function KV(t,{dir:e,size:n=32}={}){if(n===null)return t;const s=t.replace("0x","");if(s.length>n*2)throw new aD({size:Math.ceil(s.length/2),targetSize:n,type:"hex"});return`0x${s[e==="right"?"padEnd":"padStart"](n*2,"0")}`}function GV(t,{dir:e,size:n=32}={}){if(n===null)return t;if(t.length>n)throw new aD({size:t.length,targetSize:n,type:"bytes"});const s=new Uint8Array(n);for(let i=0;i<n;i++){const a=e==="right";s[a?i:n-i-1]=t[a?i:t.length-i-1]}return s}let YV=class extends $m{constructor({max:e,min:n,signed:s,size:i,value:a}){super(`Number "${a}" is not in safe ${i?`${i*8}-bit ${s?"signed":"unsigned"} `:""}integer range ${e?`(${n} to ${e})`:`(above ${n})`}`,{name:"IntegerOutOfRangeError"})}},XV=class extends $m{constructor({givenSize:e,maxSize:n}){super(`Size cannot exceed ${n} bytes. Given size: ${e} bytes.`,{name:"SizeOverflowError"})}};function uf(t,{size:e}){if(Uv(t)>e)throw new XV({givenSize:Uv(t),maxSize:e})}function Lv(t,e={}){const{signed:n}=e;e.size&&uf(t,{size:e.size});const s=BigInt(t);if(!n)return s;const i=(t.length-2)/2,a=(1n<<BigInt(i)*8n-1n)-1n;return s<=a?s:s-BigInt(`0x${"f".padStart(i*2,"f")}`)-1n}function QV(t,e={}){return Number(Lv(t,e))}const ZV=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function kv(t,e={}){return typeof t=="number"||typeof t=="bigint"?lD(t,e):typeof t=="string"?tW(t,e):typeof t=="boolean"?JV(t,e):cD(t,e)}function JV(t,e={}){const n=`0x${Number(t)}`;return typeof e.size=="number"?(uf(n,{size:e.size}),lf(n,{size:e.size})):n}function cD(t,e={}){let n="";for(let i=0;i<t.length;i++)n+=ZV[t[i]];const s=`0x${n}`;return typeof e.size=="number"?(uf(s,{size:e.size}),lf(s,{dir:"right",size:e.size})):s}function lD(t,e={}){const{signed:n,size:s}=e,i=BigInt(t);let a;s?n?a=(1n<<BigInt(s)*8n-1n)-1n:a=2n**(BigInt(s)*8n)-1n:typeof t=="number"&&(a=BigInt(Number.MAX_SAFE_INTEGER));const c=typeof a=="bigint"&&n?-a-1n:0;if(a&&i>a||i<c){const f=typeof t=="bigint"?"n":"";throw new YV({max:a?`${a}${f}`:void 0,min:`${c}${f}`,signed:n,size:s,value:`${t}${f}`})}const u=`0x${(n&&i<0?(1n<<BigInt(s*8))+BigInt(i):i).toString(16)}`;return s?lf(u,{size:s}):u}const eW=new TextEncoder;function tW(t,e={}){const n=eW.encode(t);return cD(n,e)}const nW=new TextEncoder;function sW(t,e={}){return typeof t=="number"||typeof t=="bigint"?rW(t,e):typeof t=="boolean"?iW(t,e):xh(t)?uD(t,e):fD(t,e)}function iW(t,e={}){const n=new Uint8Array(1);return n[0]=Number(t),typeof e.size=="number"?(uf(n,{size:e.size}),lf(n,{size:e.size})):n}const oo={zero:48,nine:57,A:65,F:70,a:97,f:102};function sT(t){if(t>=oo.zero&&t<=oo.nine)return t-oo.zero;if(t>=oo.A&&t<=oo.F)return t-(oo.A-10);if(t>=oo.a&&t<=oo.f)return t-(oo.a-10)}function uD(t,e={}){let n=t;e.size&&(uf(n,{size:e.size}),n=lf(n,{dir:"right",size:e.size}));let s=n.slice(2);s.length%2&&(s=`0${s}`);const i=s.length/2,a=new Uint8Array(i);for(let c=0,u=0;c<i;c++){const f=sT(s.charCodeAt(u++)),h=sT(s.charCodeAt(u++));if(f===void 0||h===void 0)throw new $m(`Invalid byte sequence ("${s[u-2]}${s[u-1]}" in "${s}").`);a[c]=f*16+h}return a}function rW(t,e){const n=lD(t,e);return uD(n)}function fD(t,e={}){const n=nW.encode(t);return typeof e.size=="number"?(uf(n,{size:e.size}),lf(n,{dir:"right",size:e.size})):n}const o0=BigInt(2**32-1),iT=BigInt(32);function oW(t,e=!1){return e?{h:Number(t&o0),l:Number(t>>iT&o0)}:{h:Number(t>>iT&o0)|0,l:Number(t&o0)|0}}function aW(t,e=!1){const n=t.length;let s=new Uint32Array(n),i=new Uint32Array(n);for(let a=0;a<n;a++){const{h:c,l:u}=oW(t[a],e);[s[a],i[a]]=[c,u]}return[s,i]}const cW=(t,e,n)=>t<<n|e>>>32-n,lW=(t,e,n)=>e<<n|t>>>32-n,uW=(t,e,n)=>e<<n-32|t>>>64-n,fW=(t,e,n)=>t<<n-32|e>>>64-n,ru=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */function dW(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function um(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function Nh(t,...e){if(!dW(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function ele(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.createHasher");um(t.outputLen),um(t.blockLen)}function rT(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function hW(t,e){Nh(t);const n=e.outputLen;if(t.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}function pW(t){return new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4))}function dD(...t){for(let e=0;e<t.length;e++)t[e].fill(0)}function tle(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function nle(t,e){return t<<32-e|t>>>e}const gW=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function mW(t){return t<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255}function yW(t){for(let e=0;e<t.length;e++)t[e]=mW(t[e]);return t}const oT=gW?t=>t:yW;function wW(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}function hD(t){return typeof t=="string"&&(t=wW(t)),Nh(t),t}function sle(...t){let e=0;for(let s=0;s<t.length;s++){const i=t[s];Nh(i),e+=i.length}const n=new Uint8Array(e);for(let s=0,i=0;s<t.length;s++){const a=t[s];n.set(a,i),i+=a.length}return n}class bW{}function vW(t){const e=s=>t().update(hD(s)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function ile(t=32){if(ru&&typeof ru.getRandomValues=="function")return ru.getRandomValues(new Uint8Array(t));if(ru&&typeof ru.randomBytes=="function")return Uint8Array.from(ru.randomBytes(t));throw new Error("crypto.getRandomValues must be defined")}const EW=BigInt(0),Sd=BigInt(1),AW=BigInt(2),CW=BigInt(7),SW=BigInt(256),xW=BigInt(113),pD=[],gD=[],mD=[];for(let t=0,e=Sd,n=1,s=0;t<24;t++){[n,s]=[s,(2*n+3*s)%5],pD.push(2*(5*s+n)),gD.push((t+1)*(t+2)/2%64);let i=EW;for(let a=0;a<7;a++)e=(e<<Sd^(e>>CW)*xW)%SW,e&AW&&(i^=Sd<<(Sd<<BigInt(a))-Sd);mD.push(i)}const yD=aW(mD,!0),NW=yD[0],TW=yD[1],aT=(t,e,n)=>n>32?uW(t,e,n):cW(t,e,n),cT=(t,e,n)=>n>32?fW(t,e,n):lW(t,e,n);function _W(t,e=24){const n=new Uint32Array(10);for(let s=24-e;s<24;s++){for(let c=0;c<10;c++)n[c]=t[c]^t[c+10]^t[c+20]^t[c+30]^t[c+40];for(let c=0;c<10;c+=2){const u=(c+8)%10,f=(c+2)%10,h=n[f],p=n[f+1],g=aT(h,p,1)^n[u],y=cT(h,p,1)^n[u+1];for(let b=0;b<50;b+=10)t[c+b]^=g,t[c+b+1]^=y}let i=t[2],a=t[3];for(let c=0;c<24;c++){const u=gD[c],f=aT(i,a,u),h=cT(i,a,u),p=pD[c];i=t[p],a=t[p+1],t[p]=f,t[p+1]=h}for(let c=0;c<50;c+=10){for(let u=0;u<10;u++)n[u]=t[c+u];for(let u=0;u<10;u++)t[c+u]^=~n[(u+2)%10]&n[(u+4)%10]}t[0]^=NW[s],t[1]^=TW[s]}dD(n)}class PE extends bW{constructor(e,n,s,i=!1,a=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=e,this.suffix=n,this.outputLen=s,this.enableXOF=i,this.rounds=a,um(s),!(0<e&&e<200))throw new Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=pW(this.state)}clone(){return this._cloneInto()}keccak(){oT(this.state32),_W(this.state32,this.rounds),oT(this.state32),this.posOut=0,this.pos=0}update(e){rT(this),e=hD(e),Nh(e);const{blockLen:n,state:s}=this,i=e.length;for(let a=0;a<i;){const c=Math.min(n-this.pos,i-a);for(let u=0;u<c;u++)s[this.pos++]^=e[a++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:n,pos:s,blockLen:i}=this;e[s]^=n,(n&128)!==0&&s===i-1&&this.keccak(),e[i-1]^=128,this.keccak()}writeInto(e){rT(this,!1),Nh(e),this.finish();const n=this.state,{blockLen:s}=this;for(let i=0,a=e.length;i<a;){this.posOut>=s&&this.keccak();const c=Math.min(s-this.posOut,a-i);e.set(n.subarray(this.posOut,this.posOut+c),i),this.posOut+=c,i+=c}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return um(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(hW(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,dD(this.state)}_cloneInto(e){const{blockLen:n,suffix:s,outputLen:i,rounds:a,enableXOF:c}=this;return e||(e=new PE(n,s,i,c,a)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=a,e.suffix=s,e.outputLen=i,e.enableXOF=c,e.destroyed=this.destroyed,e}}const IW=(t,e,n)=>vW(()=>new PE(e,t,n)),DW=IW(1,136,256/8);function wD(t,e){const n=e||"hex",s=DW(xh(t,{strict:!1})?sW(t):t);return n==="bytes"?s:kv(s)}let OW=class extends Map{constructor(e){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=e}get(e){const n=super.get(e);return super.has(e)&&n!==void 0&&(this.delete(e),super.set(e,n)),n}set(e,n){if(super.set(e,n),this.maxSize&&this.size>this.maxSize){const s=this.keys().next().value;s&&this.delete(s)}return this}};const rb=new OW(8192);function MW(t,e){if(rb.has(`${t}.${e}`))return rb.get(`${t}.${e}`);const n=t.substring(2).toLowerCase(),s=wD(fD(n),"bytes"),i=n.split("");for(let c=0;c<40;c+=2)s[c>>1]>>4>=8&&i[c]&&(i[c]=i[c].toUpperCase()),(s[c>>1]&15)>=8&&i[c+1]&&(i[c+1]=i[c+1].toUpperCase());const a=`0x${i.join("")}`;return rb.set(`${t}.${e}`,a),a}function RW(t){const e=wD(`0x${t.substring(4)}`).substring(26);return MW(`0x${e}`)}async function $W({hash:t,signature:e}){const n=xh(t)?t:kv(t),{secp256k1:s}=await vh(async()=>{const{secp256k1:c}=await import("./secp256k1-FlF6D3gG.js");return{secp256k1:c}},[]);return`0x${(()=>{if(typeof e=="object"&&"r"in e&&"s"in e){const{r:h,s:p,v:g,yParity:y}=e,b=Number(y??g),v=lT(b);return new s.Signature(Lv(h),Lv(p)).addRecoveryBit(v)}const c=xh(e)?e:kv(e);if(Uv(c)!==65)throw new Error("invalid signature length");const u=QV(`0x${c.slice(130)}`),f=lT(u);return s.Signature.fromCompact(c.substring(2,130)).addRecoveryBit(f)})().recoverPublicKey(n.substring(2)).toHex(!1)}`}function lT(t){if(t===0||t===1)return t;if(t===27)return 0;if(t===28)return 1;throw new Error("Invalid yParityOrV value")}async function UW({hash:t,signature:e}){return RW(await $W({hash:t,signature:e}))}function PW(t){if(t.length>=255)throw new TypeError("Alphabet too long");const e=new Uint8Array(256);for(let h=0;h<e.length;h++)e[h]=255;for(let h=0;h<t.length;h++){const p=t.charAt(h),g=p.charCodeAt(0);if(e[g]!==255)throw new TypeError(p+" is ambiguous");e[g]=h}const n=t.length,s=t.charAt(0),i=Math.log(n)/Math.log(256),a=Math.log(256)/Math.log(n);function c(h){if(h instanceof Uint8Array||(ArrayBuffer.isView(h)?h=new Uint8Array(h.buffer,h.byteOffset,h.byteLength):Array.isArray(h)&&(h=Uint8Array.from(h))),!(h instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(h.length===0)return"";let p=0,g=0,y=0;const b=h.length;for(;y!==b&&h[y]===0;)y++,p++;const v=(b-y)*a+1>>>0,E=new Uint8Array(v);for(;y!==b;){let D=h[y],x=0;for(let N=v-1;(D!==0||x<g)&&N!==-1;N--,x++)D+=256*E[N]>>>0,E[N]=D%n>>>0,D=D/n>>>0;if(D!==0)throw new Error("Non-zero carry");g=x,y++}let A=v-g;for(;A!==v&&E[A]===0;)A++;let S=s.repeat(p);for(;A<v;++A)S+=t.charAt(E[A]);return S}function u(h){if(typeof h!="string")throw new TypeError("Expected String");if(h.length===0)return new Uint8Array;let p=0,g=0,y=0;for(;h[p]===s;)g++,p++;const b=(h.length-p)*i+1>>>0,v=new Uint8Array(b);for(;p<h.length;){const D=h.charCodeAt(p);if(D>255)return;let x=e[D];if(x===255)return;let N=0;for(let T=b-1;(x!==0||N<y)&&T!==-1;T--,N++)x+=n*v[T]>>>0,v[T]=x%256>>>0,x=x/256>>>0;if(x!==0)throw new Error("Non-zero carry");y=N,p++}let E=b-y;for(;E!==b&&v[E]===0;)E++;const A=new Uint8Array(g+(b-E));let S=g;for(;E!==b;)A[S++]=v[E++];return A}function f(h){const p=u(h);if(p)return p;throw new Error("Non-base"+n+" character")}return{encode:c,decodeUnsafe:u,decode:f}}var LW="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";const ff=PW(LW);function kW(t){const e=t.length;let n=0,s=0;for(;s<e;){let i=t.charCodeAt(s++);if((i&4294967168)===0){n++;continue}else if((i&4294965248)===0)n+=2;else{if(i>=55296&&i<=56319&&s<e){const a=t.charCodeAt(s);(a&64512)===56320&&(++s,i=((i&1023)<<10)+(a&1023)+65536)}(i&4294901760)===0?n+=3:n+=4}}return n}function BW(t,e,n){const s=t.length;let i=n,a=0;for(;a<s;){let c=t.charCodeAt(a++);if((c&4294967168)===0){e[i++]=c;continue}else if((c&4294965248)===0)e[i++]=c>>6&31|192;else{if(c>=55296&&c<=56319&&a<s){const u=t.charCodeAt(a);(u&64512)===56320&&(++a,c=((c&1023)<<10)+(u&1023)+65536)}(c&4294901760)===0?(e[i++]=c>>12&15|224,e[i++]=c>>6&63|128):(e[i++]=c>>18&7|240,e[i++]=c>>12&63|128,e[i++]=c>>6&63|128)}e[i++]=c&63|128}}const jW=new TextEncoder,zW=50;function HW(t,e,n){jW.encodeInto(t,e.subarray(n))}function FW(t,e,n){t.length>zW?HW(t,e,n):BW(t,e,n)}const qW=4096;function bD(t,e,n){let s=e;const i=s+n,a=[];let c="";for(;s<i;){const u=t[s++];if((u&128)===0)a.push(u);else if((u&224)===192){const f=t[s++]&63;a.push((u&31)<<6|f)}else if((u&240)===224){const f=t[s++]&63,h=t[s++]&63;a.push((u&31)<<12|f<<6|h)}else if((u&248)===240){const f=t[s++]&63,h=t[s++]&63,p=t[s++]&63;let g=(u&7)<<18|f<<12|h<<6|p;g>65535&&(g-=65536,a.push(g>>>10&1023|55296),g=56320|g&1023),a.push(g)}else a.push(u);a.length>=qW&&(c+=String.fromCharCode(...a),a.length=0)}return a.length>0&&(c+=String.fromCharCode(...a)),c}const VW=new TextDecoder,WW=200;function KW(t,e,n){const s=t.subarray(e,e+n);return VW.decode(s)}function GW(t,e,n){return n>WW?KW(t,e,n):bD(t,e,n)}class a0{constructor(e,n){this.type=e,this.data=n}}class Vs extends Error{constructor(e){super(e);const n=Object.create(Vs.prototype);Object.setPrototypeOf(this,n),Object.defineProperty(this,"name",{configurable:!0,enumerable:!1,value:Vs.name})}}const xd=4294967295;function YW(t,e,n){const s=n/4294967296,i=n;t.setUint32(e,s),t.setUint32(e+4,i)}function vD(t,e,n){const s=Math.floor(n/4294967296),i=n;t.setUint32(e,s),t.setUint32(e+4,i)}function ED(t,e){const n=t.getInt32(e),s=t.getUint32(e+4);return n*4294967296+s}function XW(t,e){const n=t.getUint32(e),s=t.getUint32(e+4);return n*4294967296+s}const QW=-1,ZW=4294967296-1,JW=17179869184-1;function eK({sec:t,nsec:e}){if(t>=0&&e>=0&&t<=JW)if(e===0&&t<=ZW){const n=new Uint8Array(4);return new DataView(n.buffer).setUint32(0,t),n}else{const n=t/4294967296,s=t&4294967295,i=new Uint8Array(8),a=new DataView(i.buffer);return a.setUint32(0,e<<2|n&3),a.setUint32(4,s),i}else{const n=new Uint8Array(12),s=new DataView(n.buffer);return s.setUint32(0,e),vD(s,4,t),n}}function tK(t){const e=t.getTime(),n=Math.floor(e/1e3),s=(e-n*1e3)*1e6,i=Math.floor(s/1e9);return{sec:n+i,nsec:s-i*1e9}}function nK(t){if(t instanceof Date){const e=tK(t);return eK(e)}else return null}function sK(t){const e=new DataView(t.buffer,t.byteOffset,t.byteLength);switch(t.byteLength){case 4:return{sec:e.getUint32(0),nsec:0};case 8:{const n=e.getUint32(0),s=e.getUint32(4),i=(n&3)*4294967296+s,a=n>>>2;return{sec:i,nsec:a}}case 12:{const n=ED(e,4),s=e.getUint32(0);return{sec:n,nsec:s}}default:throw new Vs(`Unrecognized data size for timestamp (expected 4, 8, or 12): ${t.length}`)}}function iK(t){const e=sK(t);return new Date(e.sec*1e3+e.nsec/1e6)}const rK={type:QW,encode:nK,decode:iK};class fm{constructor(){this.builtInEncoders=[],this.builtInDecoders=[],this.encoders=[],this.decoders=[],this.register(rK)}register({type:e,encode:n,decode:s}){if(e>=0)this.encoders[e]=n,this.decoders[e]=s;else{const i=-1-e;this.builtInEncoders[i]=n,this.builtInDecoders[i]=s}}tryToEncode(e,n){for(let s=0;s<this.builtInEncoders.length;s++){const i=this.builtInEncoders[s];if(i!=null){const a=i(e,n);if(a!=null){const c=-1-s;return new a0(c,a)}}}for(let s=0;s<this.encoders.length;s++){const i=this.encoders[s];if(i!=null){const a=i(e,n);if(a!=null){const c=s;return new a0(c,a)}}}return e instanceof a0?e:null}decode(e,n,s){const i=n<0?this.builtInDecoders[-1-n]:this.decoders[n];return i?i(e,n,s):new a0(n,e)}}fm.defaultCodec=new fm;function oK(t){return t instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&t instanceof SharedArrayBuffer}function Bv(t){return t instanceof Uint8Array?t:ArrayBuffer.isView(t)?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):oK(t)?new Uint8Array(t):Uint8Array.from(t)}const aK=100,cK=2048;let lK=class AD{constructor(e){this.entered=!1,this.extensionCodec=e?.extensionCodec??fm.defaultCodec,this.context=e?.context,this.useBigInt64=e?.useBigInt64??!1,this.maxDepth=e?.maxDepth??aK,this.initialBufferSize=e?.initialBufferSize??cK,this.sortKeys=e?.sortKeys??!1,this.forceFloat32=e?.forceFloat32??!1,this.ignoreUndefined=e?.ignoreUndefined??!1,this.forceIntegerToFloat=e?.forceIntegerToFloat??!1,this.pos=0,this.view=new DataView(new ArrayBuffer(this.initialBufferSize)),this.bytes=new Uint8Array(this.view.buffer)}clone(){return new AD({extensionCodec:this.extensionCodec,context:this.context,useBigInt64:this.useBigInt64,maxDepth:this.maxDepth,initialBufferSize:this.initialBufferSize,sortKeys:this.sortKeys,forceFloat32:this.forceFloat32,ignoreUndefined:this.ignoreUndefined,forceIntegerToFloat:this.forceIntegerToFloat})}reinitializeState(){this.pos=0}encodeSharedRef(e){if(this.entered)return this.clone().encodeSharedRef(e);try{return this.entered=!0,this.reinitializeState(),this.doEncode(e,1),this.bytes.subarray(0,this.pos)}finally{this.entered=!1}}encode(e){if(this.entered)return this.clone().encode(e);try{return this.entered=!0,this.reinitializeState(),this.doEncode(e,1),this.bytes.slice(0,this.pos)}finally{this.entered=!1}}doEncode(e,n){if(n>this.maxDepth)throw new Error(`Too deep objects in depth ${n}`);e==null?this.encodeNil():typeof e=="boolean"?this.encodeBoolean(e):typeof e=="number"?this.forceIntegerToFloat?this.encodeNumberAsFloat(e):this.encodeNumber(e):typeof e=="string"?this.encodeString(e):this.useBigInt64&&typeof e=="bigint"?this.encodeBigInt64(e):this.encodeObject(e,n)}ensureBufferSizeToWrite(e){const n=this.pos+e;this.view.byteLength<n&&this.resizeBuffer(n*2)}resizeBuffer(e){const n=new ArrayBuffer(e),s=new Uint8Array(n),i=new DataView(n);s.set(this.bytes),this.view=i,this.bytes=s}encodeNil(){this.writeU8(192)}encodeBoolean(e){e===!1?this.writeU8(194):this.writeU8(195)}encodeNumber(e){!this.forceIntegerToFloat&&Number.isSafeInteger(e)?e>=0?e<128?this.writeU8(e):e<256?(this.writeU8(204),this.writeU8(e)):e<65536?(this.writeU8(205),this.writeU16(e)):e<4294967296?(this.writeU8(206),this.writeU32(e)):this.useBigInt64?this.encodeNumberAsFloat(e):(this.writeU8(207),this.writeU64(e)):e>=-32?this.writeU8(224|e+32):e>=-128?(this.writeU8(208),this.writeI8(e)):e>=-32768?(this.writeU8(209),this.writeI16(e)):e>=-2147483648?(this.writeU8(210),this.writeI32(e)):this.useBigInt64?this.encodeNumberAsFloat(e):(this.writeU8(211),this.writeI64(e)):this.encodeNumberAsFloat(e)}encodeNumberAsFloat(e){this.forceFloat32?(this.writeU8(202),this.writeF32(e)):(this.writeU8(203),this.writeF64(e))}encodeBigInt64(e){e>=BigInt(0)?(this.writeU8(207),this.writeBigUint64(e)):(this.writeU8(211),this.writeBigInt64(e))}writeStringHeader(e){if(e<32)this.writeU8(160+e);else if(e<256)this.writeU8(217),this.writeU8(e);else if(e<65536)this.writeU8(218),this.writeU16(e);else if(e<4294967296)this.writeU8(219),this.writeU32(e);else throw new Error(`Too long string: ${e} bytes in UTF-8`)}encodeString(e){const s=kW(e);this.ensureBufferSizeToWrite(5+s),this.writeStringHeader(s),FW(e,this.bytes,this.pos),this.pos+=s}encodeObject(e,n){const s=this.extensionCodec.tryToEncode(e,this.context);if(s!=null)this.encodeExtension(s);else if(Array.isArray(e))this.encodeArray(e,n);else if(ArrayBuffer.isView(e))this.encodeBinary(e);else if(typeof e=="object")this.encodeMap(e,n);else throw new Error(`Unrecognized object: ${Object.prototype.toString.apply(e)}`)}encodeBinary(e){const n=e.byteLength;if(n<256)this.writeU8(196),this.writeU8(n);else if(n<65536)this.writeU8(197),this.writeU16(n);else if(n<4294967296)this.writeU8(198),this.writeU32(n);else throw new Error(`Too large binary: ${n}`);const s=Bv(e);this.writeU8a(s)}encodeArray(e,n){const s=e.length;if(s<16)this.writeU8(144+s);else if(s<65536)this.writeU8(220),this.writeU16(s);else if(s<4294967296)this.writeU8(221),this.writeU32(s);else throw new Error(`Too large array: ${s}`);for(const i of e)this.doEncode(i,n+1)}countWithoutUndefined(e,n){let s=0;for(const i of n)e[i]!==void 0&&s++;return s}encodeMap(e,n){const s=Object.keys(e);this.sortKeys&&s.sort();const i=this.ignoreUndefined?this.countWithoutUndefined(e,s):s.length;if(i<16)this.writeU8(128+i);else if(i<65536)this.writeU8(222),this.writeU16(i);else if(i<4294967296)this.writeU8(223),this.writeU32(i);else throw new Error(`Too large map object: ${i}`);for(const a of s){const c=e[a];this.ignoreUndefined&&c===void 0||(this.encodeString(a),this.doEncode(c,n+1))}}encodeExtension(e){if(typeof e.data=="function"){const s=e.data(this.pos+6),i=s.length;if(i>=4294967296)throw new Error(`Too large extension object: ${i}`);this.writeU8(201),this.writeU32(i),this.writeI8(e.type),this.writeU8a(s);return}const n=e.data.length;if(n===1)this.writeU8(212);else if(n===2)this.writeU8(213);else if(n===4)this.writeU8(214);else if(n===8)this.writeU8(215);else if(n===16)this.writeU8(216);else if(n<256)this.writeU8(199),this.writeU8(n);else if(n<65536)this.writeU8(200),this.writeU16(n);else if(n<4294967296)this.writeU8(201),this.writeU32(n);else throw new Error(`Too large extension object: ${n}`);this.writeI8(e.type),this.writeU8a(e.data)}writeU8(e){this.ensureBufferSizeToWrite(1),this.view.setUint8(this.pos,e),this.pos++}writeU8a(e){const n=e.length;this.ensureBufferSizeToWrite(n),this.bytes.set(e,this.pos),this.pos+=n}writeI8(e){this.ensureBufferSizeToWrite(1),this.view.setInt8(this.pos,e),this.pos++}writeU16(e){this.ensureBufferSizeToWrite(2),this.view.setUint16(this.pos,e),this.pos+=2}writeI16(e){this.ensureBufferSizeToWrite(2),this.view.setInt16(this.pos,e),this.pos+=2}writeU32(e){this.ensureBufferSizeToWrite(4),this.view.setUint32(this.pos,e),this.pos+=4}writeI32(e){this.ensureBufferSizeToWrite(4),this.view.setInt32(this.pos,e),this.pos+=4}writeF32(e){this.ensureBufferSizeToWrite(4),this.view.setFloat32(this.pos,e),this.pos+=4}writeF64(e){this.ensureBufferSizeToWrite(8),this.view.setFloat64(this.pos,e),this.pos+=8}writeU64(e){this.ensureBufferSizeToWrite(8),YW(this.view,this.pos,e),this.pos+=8}writeI64(e){this.ensureBufferSizeToWrite(8),vD(this.view,this.pos,e),this.pos+=8}writeBigUint64(e){this.ensureBufferSizeToWrite(8),this.view.setBigUint64(this.pos,e),this.pos+=8}writeBigInt64(e){this.ensureBufferSizeToWrite(8),this.view.setBigInt64(this.pos,e),this.pos+=8}};function uK(t,e){return new lK(e).encodeSharedRef(t)}function ob(t){return`${t<0?"-":""}0x${Math.abs(t).toString(16).padStart(2,"0")}`}const fK=16,dK=16;class hK{constructor(e=fK,n=dK){this.hit=0,this.miss=0,this.maxKeyLength=e,this.maxLengthPerKey=n,this.caches=[];for(let s=0;s<this.maxKeyLength;s++)this.caches.push([])}canBeCached(e){return e>0&&e<=this.maxKeyLength}find(e,n,s){const i=this.caches[s-1];e:for(const a of i){const c=a.bytes;for(let u=0;u<s;u++)if(c[u]!==e[n+u])continue e;return a.str}return null}store(e,n){const s=this.caches[e.length-1],i={bytes:e,str:n};s.length>=this.maxLengthPerKey?s[Math.random()*s.length|0]=i:s.push(i)}decode(e,n,s){const i=this.find(e,n,s);if(i!=null)return this.hit++,i;this.miss++;const a=bD(e,n,s),c=Uint8Array.prototype.slice.call(e,n,n+s);return this.store(c,a),a}}const jv="array",Jd="map_key",CD="map_value",pK=t=>{if(typeof t=="string"||typeof t=="number")return t;throw new Vs("The type of key must be string or number but "+typeof t)};class gK{constructor(){this.stack=[],this.stackHeadPosition=-1}get length(){return this.stackHeadPosition+1}top(){return this.stack[this.stackHeadPosition]}pushArrayState(e){const n=this.getUninitializedStateFromPool();n.type=jv,n.position=0,n.size=e,n.array=new Array(e)}pushMapState(e){const n=this.getUninitializedStateFromPool();n.type=Jd,n.readCount=0,n.size=e,n.map={}}getUninitializedStateFromPool(){if(this.stackHeadPosition++,this.stackHeadPosition===this.stack.length){const e={type:void 0,size:0,array:void 0,position:0,readCount:0,map:void 0,key:null};this.stack.push(e)}return this.stack[this.stackHeadPosition]}release(e){if(this.stack[this.stackHeadPosition]!==e)throw new Error("Invalid stack state. Released state is not on top of the stack.");if(e.type===jv){const s=e;s.size=0,s.array=void 0,s.position=0,s.type=void 0}if(e.type===Jd||e.type===CD){const s=e;s.size=0,s.map=void 0,s.readCount=0,s.type=void 0}this.stackHeadPosition--}reset(){this.stack.length=0,this.stackHeadPosition=-1}}const Nd=-1,LE=new DataView(new ArrayBuffer(0)),mK=new Uint8Array(LE.buffer);try{LE.getInt8(0)}catch(t){if(!(t instanceof RangeError))throw new Error("This module is not supported in the current JavaScript engine because DataView does not throw RangeError on out-of-bounds access")}const uT=new RangeError("Insufficient data"),yK=new hK;let wK=class SD{constructor(e){this.totalPos=0,this.pos=0,this.view=LE,this.bytes=mK,this.headByte=Nd,this.stack=new gK,this.entered=!1,this.extensionCodec=e?.extensionCodec??fm.defaultCodec,this.context=e?.context,this.useBigInt64=e?.useBigInt64??!1,this.rawStrings=e?.rawStrings??!1,this.maxStrLength=e?.maxStrLength??xd,this.maxBinLength=e?.maxBinLength??xd,this.maxArrayLength=e?.maxArrayLength??xd,this.maxMapLength=e?.maxMapLength??xd,this.maxExtLength=e?.maxExtLength??xd,this.keyDecoder=e?.keyDecoder!==void 0?e.keyDecoder:yK,this.mapKeyConverter=e?.mapKeyConverter??pK}clone(){return new SD({extensionCodec:this.extensionCodec,context:this.context,useBigInt64:this.useBigInt64,rawStrings:this.rawStrings,maxStrLength:this.maxStrLength,maxBinLength:this.maxBinLength,maxArrayLength:this.maxArrayLength,maxMapLength:this.maxMapLength,maxExtLength:this.maxExtLength,keyDecoder:this.keyDecoder})}reinitializeState(){this.totalPos=0,this.headByte=Nd,this.stack.reset()}setBuffer(e){const n=Bv(e);this.bytes=n,this.view=new DataView(n.buffer,n.byteOffset,n.byteLength),this.pos=0}appendBuffer(e){if(this.headByte===Nd&&!this.hasRemaining(1))this.setBuffer(e);else{const n=this.bytes.subarray(this.pos),s=Bv(e),i=new Uint8Array(n.length+s.length);i.set(n),i.set(s,n.length),this.setBuffer(i)}}hasRemaining(e){return this.view.byteLength-this.pos>=e}createExtraByteError(e){const{view:n,pos:s}=this;return new RangeError(`Extra ${n.byteLength-s} of ${n.byteLength} byte(s) found at buffer[${e}]`)}decode(e){if(this.entered)return this.clone().decode(e);try{this.entered=!0,this.reinitializeState(),this.setBuffer(e);const n=this.doDecodeSync();if(this.hasRemaining(1))throw this.createExtraByteError(this.pos);return n}finally{this.entered=!1}}*decodeMulti(e){if(this.entered){yield*this.clone().decodeMulti(e);return}try{for(this.entered=!0,this.reinitializeState(),this.setBuffer(e);this.hasRemaining(1);)yield this.doDecodeSync()}finally{this.entered=!1}}async decodeAsync(e){if(this.entered)return this.clone().decodeAsync(e);try{this.entered=!0;let n=!1,s;for await(const u of e){if(n)throw this.entered=!1,this.createExtraByteError(this.totalPos);this.appendBuffer(u);try{s=this.doDecodeSync(),n=!0}catch(f){if(!(f instanceof RangeError))throw f}this.totalPos+=this.pos}if(n){if(this.hasRemaining(1))throw this.createExtraByteError(this.totalPos);return s}const{headByte:i,pos:a,totalPos:c}=this;throw new RangeError(`Insufficient data in parsing ${ob(i)} at ${c} (${a} in the current buffer)`)}finally{this.entered=!1}}decodeArrayStream(e){return this.decodeMultiAsync(e,!0)}decodeStream(e){return this.decodeMultiAsync(e,!1)}async*decodeMultiAsync(e,n){if(this.entered){yield*this.clone().decodeMultiAsync(e,n);return}try{this.entered=!0;let s=n,i=-1;for await(const a of e){if(n&&i===0)throw this.createExtraByteError(this.totalPos);this.appendBuffer(a),s&&(i=this.readArraySize(),s=!1,this.complete());try{for(;yield this.doDecodeSync(),--i!==0;);}catch(c){if(!(c instanceof RangeError))throw c}this.totalPos+=this.pos}}finally{this.entered=!1}}doDecodeSync(){e:for(;;){const e=this.readHeadByte();let n;if(e>=224)n=e-256;else if(e<192)if(e<128)n=e;else if(e<144){const i=e-128;if(i!==0){this.pushMapState(i),this.complete();continue e}else n={}}else if(e<160){const i=e-144;if(i!==0){this.pushArrayState(i),this.complete();continue e}else n=[]}else{const i=e-160;n=this.decodeString(i,0)}else if(e===192)n=null;else if(e===194)n=!1;else if(e===195)n=!0;else if(e===202)n=this.readF32();else if(e===203)n=this.readF64();else if(e===204)n=this.readU8();else if(e===205)n=this.readU16();else if(e===206)n=this.readU32();else if(e===207)this.useBigInt64?n=this.readU64AsBigInt():n=this.readU64();else if(e===208)n=this.readI8();else if(e===209)n=this.readI16();else if(e===210)n=this.readI32();else if(e===211)this.useBigInt64?n=this.readI64AsBigInt():n=this.readI64();else if(e===217){const i=this.lookU8();n=this.decodeString(i,1)}else if(e===218){const i=this.lookU16();n=this.decodeString(i,2)}else if(e===219){const i=this.lookU32();n=this.decodeString(i,4)}else if(e===220){const i=this.readU16();if(i!==0){this.pushArrayState(i),this.complete();continue e}else n=[]}else if(e===221){const i=this.readU32();if(i!==0){this.pushArrayState(i),this.complete();continue e}else n=[]}else if(e===222){const i=this.readU16();if(i!==0){this.pushMapState(i),this.complete();continue e}else n={}}else if(e===223){const i=this.readU32();if(i!==0){this.pushMapState(i),this.complete();continue e}else n={}}else if(e===196){const i=this.lookU8();n=this.decodeBinary(i,1)}else if(e===197){const i=this.lookU16();n=this.decodeBinary(i,2)}else if(e===198){const i=this.lookU32();n=this.decodeBinary(i,4)}else if(e===212)n=this.decodeExtension(1,0);else if(e===213)n=this.decodeExtension(2,0);else if(e===214)n=this.decodeExtension(4,0);else if(e===215)n=this.decodeExtension(8,0);else if(e===216)n=this.decodeExtension(16,0);else if(e===199){const i=this.lookU8();n=this.decodeExtension(i,1)}else if(e===200){const i=this.lookU16();n=this.decodeExtension(i,2)}else if(e===201){const i=this.lookU32();n=this.decodeExtension(i,4)}else throw new Vs(`Unrecognized type byte: ${ob(e)}`);this.complete();const s=this.stack;for(;s.length>0;){const i=s.top();if(i.type===jv)if(i.array[i.position]=n,i.position++,i.position===i.size)n=i.array,s.release(i);else continue e;else if(i.type===Jd){if(n==="__proto__")throw new Vs("The key __proto__ is not allowed");i.key=this.mapKeyConverter(n),i.type=CD;continue e}else if(i.map[i.key]=n,i.readCount++,i.readCount===i.size)n=i.map,s.release(i);else{i.key=null,i.type=Jd;continue e}}return n}}readHeadByte(){return this.headByte===Nd&&(this.headByte=this.readU8()),this.headByte}complete(){this.headByte=Nd}readArraySize(){const e=this.readHeadByte();switch(e){case 220:return this.readU16();case 221:return this.readU32();default:{if(e<160)return e-144;throw new Vs(`Unrecognized array type byte: ${ob(e)}`)}}}pushMapState(e){if(e>this.maxMapLength)throw new Vs(`Max length exceeded: map length (${e}) > maxMapLengthLength (${this.maxMapLength})`);this.stack.pushMapState(e)}pushArrayState(e){if(e>this.maxArrayLength)throw new Vs(`Max length exceeded: array length (${e}) > maxArrayLength (${this.maxArrayLength})`);this.stack.pushArrayState(e)}decodeString(e,n){return!this.rawStrings||this.stateIsMapKey()?this.decodeUtf8String(e,n):this.decodeBinary(e,n)}decodeUtf8String(e,n){if(e>this.maxStrLength)throw new Vs(`Max length exceeded: UTF-8 byte length (${e}) > maxStrLength (${this.maxStrLength})`);if(this.bytes.byteLength<this.pos+n+e)throw uT;const s=this.pos+n;let i;return this.stateIsMapKey()&&this.keyDecoder?.canBeCached(e)?i=this.keyDecoder.decode(this.bytes,s,e):i=GW(this.bytes,s,e),this.pos+=n+e,i}stateIsMapKey(){return this.stack.length>0?this.stack.top().type===Jd:!1}decodeBinary(e,n){if(e>this.maxBinLength)throw new Vs(`Max length exceeded: bin length (${e}) > maxBinLength (${this.maxBinLength})`);if(!this.hasRemaining(e+n))throw uT;const s=this.pos+n,i=this.bytes.subarray(s,s+e);return this.pos+=n+e,i}decodeExtension(e,n){if(e>this.maxExtLength)throw new Vs(`Max length exceeded: ext length (${e}) > maxExtLength (${this.maxExtLength})`);const s=this.view.getInt8(this.pos+n),i=this.decodeBinary(e,n+1);return this.extensionCodec.decode(i,s,this.context)}lookU8(){return this.view.getUint8(this.pos)}lookU16(){return this.view.getUint16(this.pos)}lookU32(){return this.view.getUint32(this.pos)}readU8(){const e=this.view.getUint8(this.pos);return this.pos++,e}readI8(){const e=this.view.getInt8(this.pos);return this.pos++,e}readU16(){const e=this.view.getUint16(this.pos);return this.pos+=2,e}readI16(){const e=this.view.getInt16(this.pos);return this.pos+=2,e}readU32(){const e=this.view.getUint32(this.pos);return this.pos+=4,e}readI32(){const e=this.view.getInt32(this.pos);return this.pos+=4,e}readU64(){const e=XW(this.view,this.pos);return this.pos+=8,e}readI64(){const e=ED(this.view,this.pos);return this.pos+=8,e}readU64AsBigInt(){const e=this.view.getBigUint64(this.pos);return this.pos+=8,e}readI64AsBigInt(){const e=this.view.getBigInt64(this.pos);return this.pos+=8,e}readF32(){const e=this.view.getFloat32(this.pos);return this.pos+=4,e}readF64(){const e=this.view.getFloat64(this.pos);return this.pos+=8,e}};function bK(t,e){return new wK(e).decode(t)}function kE(t){return globalThis.Buffer!=null?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):t}function xD(t=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?kE(globalThis.Buffer.allocUnsafe(t)):new Uint8Array(t)}function eh(t,e){e||(e=t.reduce((i,a)=>i+a.length,0));const n=xD(e);let s=0;for(const i of t)n.set(i,s),s+=i.length;return kE(n)}function vK(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),s=0;s<n.length;s++)n[s]=255;for(var i=0;i<t.length;i++){var a=t.charAt(i),c=a.charCodeAt(0);if(n[c]!==255)throw new TypeError(a+" is ambiguous");n[c]=i}var u=t.length,f=t.charAt(0),h=Math.log(u)/Math.log(256),p=Math.log(256)/Math.log(u);function g(v){if(v instanceof Uint8Array||(ArrayBuffer.isView(v)?v=new Uint8Array(v.buffer,v.byteOffset,v.byteLength):Array.isArray(v)&&(v=Uint8Array.from(v))),!(v instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(v.length===0)return"";for(var E=0,A=0,S=0,D=v.length;S!==D&&v[S]===0;)S++,E++;for(var x=(D-S)*p+1>>>0,N=new Uint8Array(x);S!==D;){for(var T=v[S],I=0,$=x-1;(T!==0||I<A)&&$!==-1;$--,I++)T+=256*N[$]>>>0,N[$]=T%u>>>0,T=T/u>>>0;if(T!==0)throw new Error("Non-zero carry");A=I,S++}for(var P=x-A;P!==x&&N[P]===0;)P++;for(var M=f.repeat(E);P<x;++P)M+=t.charAt(N[P]);return M}function y(v){if(typeof v!="string")throw new TypeError("Expected String");if(v.length===0)return new Uint8Array;var E=0;if(v[E]!==" "){for(var A=0,S=0;v[E]===f;)A++,E++;for(var D=(v.length-E)*h+1>>>0,x=new Uint8Array(D);v[E];){var N=n[v.charCodeAt(E)];if(N===255)return;for(var T=0,I=D-1;(N!==0||T<S)&&I!==-1;I--,T++)N+=u*x[I]>>>0,x[I]=N%256>>>0,N=N/256>>>0;if(N!==0)throw new Error("Non-zero carry");S=T,E++}if(v[E]!==" "){for(var $=D-S;$!==D&&x[$]===0;)$++;for(var P=new Uint8Array(A+(D-$)),M=A;$!==D;)P[M++]=x[$++];return P}}}function b(v){var E=y(v);if(E)return E;throw new Error(`Non-${e} character`)}return{encode:g,decodeUnsafe:y,decode:b}}var EK=vK,AK=EK;const CK=t=>{if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")},SK=t=>new TextEncoder().encode(t),xK=t=>new TextDecoder().decode(t);class NK{constructor(e,n,s){this.name=e,this.prefix=n,this.baseEncode=s}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class TK{constructor(e,n,s){if(this.name=e,this.prefix=n,n.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=n.codePointAt(0),this.baseDecode=s}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return ND(this,e)}}class _K{constructor(e){this.decoders=e}or(e){return ND(this,e)}decode(e){const n=e[0],s=this.decoders[n];if(s)return s.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const ND=(t,e)=>new _K({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}});class IK{constructor(e,n,s,i){this.name=e,this.prefix=n,this.baseEncode=s,this.baseDecode=i,this.encoder=new NK(e,n,s),this.decoder=new TK(e,n,i)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}const Um=({name:t,prefix:e,encode:n,decode:s})=>new IK(t,e,n,s),mp=({prefix:t,name:e,alphabet:n})=>{const{encode:s,decode:i}=AK(n,e);return Um({prefix:t,name:e,encode:s,decode:a=>CK(i(a))})},DK=(t,e,n,s)=>{const i={};for(let p=0;p<e.length;++p)i[e[p]]=p;let a=t.length;for(;t[a-1]==="=";)--a;const c=new Uint8Array(a*n/8|0);let u=0,f=0,h=0;for(let p=0;p<a;++p){const g=i[t[p]];if(g===void 0)throw new SyntaxError(`Non-${s} character`);f=f<<n|g,u+=n,u>=8&&(u-=8,c[h++]=255&f>>u)}if(u>=n||255&f<<8-u)throw new SyntaxError("Unexpected end of data");return c},OK=(t,e,n)=>{const s=e[e.length-1]==="=",i=(1<<n)-1;let a="",c=0,u=0;for(let f=0;f<t.length;++f)for(u=u<<8|t[f],c+=8;c>n;)c-=n,a+=e[i&u>>c];if(c&&(a+=e[i&u<<n-c]),s)for(;a.length*n&7;)a+="=";return a},kn=({name:t,prefix:e,bitsPerChar:n,alphabet:s})=>Um({prefix:e,name:t,encode(i){return OK(i,s,n)},decode(i){return DK(i,s,n,t)}}),MK=Um({prefix:"\0",name:"identity",encode:t=>xK(t),decode:t=>SK(t)}),RK=Object.freeze(Object.defineProperty({__proto__:null,identity:MK},Symbol.toStringTag,{value:"Module"})),$K=kn({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1}),UK=Object.freeze(Object.defineProperty({__proto__:null,base2:$K},Symbol.toStringTag,{value:"Module"})),PK=kn({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3}),LK=Object.freeze(Object.defineProperty({__proto__:null,base8:PK},Symbol.toStringTag,{value:"Module"})),kK=mp({prefix:"9",name:"base10",alphabet:"0123456789"}),BK=Object.freeze(Object.defineProperty({__proto__:null,base10:kK},Symbol.toStringTag,{value:"Module"})),jK=kn({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),zK=kn({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4}),HK=Object.freeze(Object.defineProperty({__proto__:null,base16:jK,base16upper:zK},Symbol.toStringTag,{value:"Module"})),FK=kn({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),qK=kn({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),VK=kn({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),WK=kn({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),KK=kn({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),GK=kn({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),YK=kn({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),XK=kn({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),QK=kn({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),ZK=Object.freeze(Object.defineProperty({__proto__:null,base32:FK,base32hex:KK,base32hexpad:YK,base32hexpadupper:XK,base32hexupper:GK,base32pad:VK,base32padupper:WK,base32upper:qK,base32z:QK},Symbol.toStringTag,{value:"Module"})),JK=mp({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),eG=mp({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"}),tG=Object.freeze(Object.defineProperty({__proto__:null,base36:JK,base36upper:eG},Symbol.toStringTag,{value:"Module"})),nG=mp({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),sG=mp({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),iG=Object.freeze(Object.defineProperty({__proto__:null,base58btc:nG,base58flickr:sG},Symbol.toStringTag,{value:"Module"})),rG=kn({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),oG=kn({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),aG=kn({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),cG=kn({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6}),lG=Object.freeze(Object.defineProperty({__proto__:null,base64:rG,base64pad:oG,base64url:aG,base64urlpad:cG},Symbol.toStringTag,{value:"Module"})),TD=Array.from("🚀🪐☄🛰🌌🌑🌒🌓🌔🌕🌖🌗🌘🌍🌏🌎🐉☀💻🖥💾💿😂❤😍🤣😊🙏💕😭😘👍😅👏😁🔥🥰💔💖💙😢🤔😆🙄💪😉☺👌🤗💜😔😎😇🌹🤦🎉💞✌✨🤷😱😌🌸🙌😋💗💚😏💛🙂💓🤩😄😀🖤😃💯🙈👇🎶😒🤭❣😜💋👀😪😑💥🙋😞😩😡🤪👊🥳😥🤤👉💃😳✋😚😝😴🌟😬🙃🍀🌷😻😓⭐✅🥺🌈😈🤘💦✔😣🏃💐☹🎊💘😠☝😕🌺🎂🌻😐🖕💝🙊😹🗣💫💀👑🎵🤞😛🔴😤🌼😫⚽🤙☕🏆🤫👈😮🙆🍻🍃🐶💁😲🌿🧡🎁⚡🌞🎈❌✊👋😰🤨😶🤝🚶💰🍓💢🤟🙁🚨💨🤬✈🎀🍺🤓😙💟🌱😖👶🥴▶➡❓💎💸⬇😨🌚🦋😷🕺⚠🙅😟😵👎🤲🤠🤧📌🔵💅🧐🐾🍒😗🤑🌊🤯🐷☎💧😯💆👆🎤🙇🍑❄🌴💣🐸💌📍🥀🤢👅💡💩👐📸👻🤐🤮🎼🥵🚩🍎🍊👼💍📣🥂"),uG=TD.reduce((t,e,n)=>(t[n]=e,t),[]),fG=TD.reduce((t,e,n)=>(t[e.codePointAt(0)]=n,t),[]);function dG(t){return t.reduce((e,n)=>(e+=uG[n],e),"")}function hG(t){const e=[];for(const n of t){const s=fG[n.codePointAt(0)];if(s===void 0)throw new Error(`Non-base256emoji character: ${n}`);e.push(s)}return new Uint8Array(e)}const pG=Um({prefix:"🚀",name:"base256emoji",encode:dG,decode:hG}),gG=Object.freeze(Object.defineProperty({__proto__:null,base256emoji:pG},Symbol.toStringTag,{value:"Module"}));new TextEncoder;new TextDecoder;const fT={...RK,...UK,...LK,...BK,...HK,...ZK,...tG,...iG,...lG,...gG};function _D(t,e,n,s){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:n},decoder:{decode:s}}}const dT=_D("utf8","u",t=>"u"+new TextDecoder("utf8").decode(t),t=>new TextEncoder().encode(t.substring(1))),ab=_D("ascii","a",t=>{let e="a";for(let n=0;n<t.length;n++)e+=String.fromCharCode(t[n]);return e},t=>{t=t.substring(1);const e=xD(t.length);for(let n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}),ID={utf8:dT,"utf-8":dT,hex:fT.base16,latin1:ab,ascii:ab,binary:ab,...fT};function Ci(t,e="utf8"){const n=ID[e];if(!n)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?kE(globalThis.Buffer.from(t,"utf-8")):n.decoder.decode(`${n.prefix}${t}`)}function Ts(t,e="utf8"){const n=ID[e];if(!n)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(t.buffer,t.byteOffset,t.byteLength).toString("utf8"):n.encoder.encode(t).substring(1)}const mG={waku:{publish:"waku_publish",batchPublish:"waku_batchPublish",subscribe:"waku_subscribe",batchSubscribe:"waku_batchSubscribe",subscription:"waku_subscription",unsubscribe:"waku_unsubscribe",batchUnsubscribe:"waku_batchUnsubscribe",batchFetchMessages:"waku_batchFetchMessages"},irn:{publish:"irn_publish",batchPublish:"irn_batchPublish",subscribe:"irn_subscribe",batchSubscribe:"irn_batchSubscribe",subscription:"irn_subscription",unsubscribe:"irn_unsubscribe",batchUnsubscribe:"irn_batchUnsubscribe",batchFetchMessages:"irn_batchFetchMessages"},iridium:{publish:"iridium_publish",batchPublish:"iridium_batchPublish",subscribe:"iridium_subscribe",batchSubscribe:"iridium_batchSubscribe",subscription:"iridium_subscription",unsubscribe:"iridium_unsubscribe",batchUnsubscribe:"iridium_batchUnsubscribe",batchFetchMessages:"iridium_batchFetchMessages"}};var cb,hT;function DD(){if(hT)return cb;hT=1;const t="Input must be an string, Buffer or Uint8Array";function e(c){let u;if(c instanceof Uint8Array)u=c;else if(typeof c=="string")u=new TextEncoder().encode(c);else throw new Error(t);return u}function n(c){return Array.prototype.map.call(c,function(u){return(u<16?"0":"")+u.toString(16)}).join("")}function s(c){return(4294967296+c).toString(16).substring(1)}function i(c,u,f){let h=`
`+c+" = ";for(let p=0;p<u.length;p+=2){if(f===32)h+=s(u[p]).toUpperCase(),h+=" ",h+=s(u[p+1]).toUpperCase();else if(f===64)h+=s(u[p+1]).toUpperCase(),h+=s(u[p]).toUpperCase();else throw new Error("Invalid size "+f);p%6===4?h+=`
`+new Array(c.length+4).join(" "):p<u.length-2&&(h+=" ")}console.log(h)}function a(c,u,f){let h=new Date().getTime();const p=new Uint8Array(u);for(let y=0;y<u;y++)p[y]=y%256;const g=new Date().getTime();console.log("Generated random input in "+(g-h)+"ms"),h=g;for(let y=0;y<f;y++){const b=c(p),v=new Date().getTime(),E=v-h;h=v,console.log("Hashed in "+E+"ms: "+b.substring(0,20)+"..."),console.log(Math.round(u/(1<<20)/(E/1e3)*100)/100+" MB PER SECOND")}}return cb={normalizeInput:e,toHex:n,debugPrint:i,testSpeed:a},cb}var lb,pT;function yG(){if(pT)return lb;pT=1;const t=DD();function e(S,D,x){const N=S[D]+S[x];let T=S[D+1]+S[x+1];N>=4294967296&&T++,S[D]=N,S[D+1]=T}function n(S,D,x,N){let T=S[D]+x;x<0&&(T+=4294967296);let I=S[D+1]+N;T>=4294967296&&I++,S[D]=T,S[D+1]=I}function s(S,D){return S[D]^S[D+1]<<8^S[D+2]<<16^S[D+3]<<24}function i(S,D,x,N,T,I){const $=h[T],P=h[T+1],M=h[I],z=h[I+1];e(f,S,D),n(f,S,$,P);let q=f[N]^f[S],F=f[N+1]^f[S+1];f[N]=F,f[N+1]=q,e(f,x,N),q=f[D]^f[x],F=f[D+1]^f[x+1],f[D]=q>>>24^F<<8,f[D+1]=F>>>24^q<<8,e(f,S,D),n(f,S,M,z),q=f[N]^f[S],F=f[N+1]^f[S+1],f[N]=q>>>16^F<<16,f[N+1]=F>>>16^q<<16,e(f,x,N),q=f[D]^f[x],F=f[D+1]^f[x+1],f[D]=F>>>31^q<<1,f[D+1]=q>>>31^F<<1}const a=new Uint32Array([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),c=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3],u=new Uint8Array(c.map(function(S){return S*2})),f=new Uint32Array(32),h=new Uint32Array(32);function p(S,D){let x=0;for(x=0;x<16;x++)f[x]=S.h[x],f[x+16]=a[x];for(f[24]=f[24]^S.t,f[25]=f[25]^S.t/4294967296,D&&(f[28]=~f[28],f[29]=~f[29]),x=0;x<32;x++)h[x]=s(S.b,4*x);for(x=0;x<12;x++)i(0,8,16,24,u[x*16+0],u[x*16+1]),i(2,10,18,26,u[x*16+2],u[x*16+3]),i(4,12,20,28,u[x*16+4],u[x*16+5]),i(6,14,22,30,u[x*16+6],u[x*16+7]),i(0,10,20,30,u[x*16+8],u[x*16+9]),i(2,12,22,24,u[x*16+10],u[x*16+11]),i(4,14,16,26,u[x*16+12],u[x*16+13]),i(6,8,18,28,u[x*16+14],u[x*16+15]);for(x=0;x<16;x++)S.h[x]=S.h[x]^f[x]^f[x+16]}const g=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]);function y(S,D,x,N){if(S===0||S>64)throw new Error("Illegal output length, expected 0 < length <= 64");if(D&&D.length>64)throw new Error("Illegal key, expected Uint8Array with 0 < length <= 64");if(x&&x.length!==16)throw new Error("Illegal salt, expected Uint8Array with length is 16");if(N&&N.length!==16)throw new Error("Illegal personal, expected Uint8Array with length is 16");const T={b:new Uint8Array(128),h:new Uint32Array(16),t:0,c:0,outlen:S};g.fill(0),g[0]=S,D&&(g[1]=D.length),g[2]=1,g[3]=1,x&&g.set(x,32),N&&g.set(N,48);for(let I=0;I<16;I++)T.h[I]=a[I]^s(g,I*4);return D&&(b(T,D),T.c=128),T}function b(S,D){for(let x=0;x<D.length;x++)S.c===128&&(S.t+=S.c,p(S,!1),S.c=0),S.b[S.c++]=D[x]}function v(S){for(S.t+=S.c;S.c<128;)S.b[S.c++]=0;p(S,!0);const D=new Uint8Array(S.outlen);for(let x=0;x<S.outlen;x++)D[x]=S.h[x>>2]>>8*(x&3);return D}function E(S,D,x,N,T){x=x||64,S=t.normalizeInput(S),N&&(N=t.normalizeInput(N)),T&&(T=t.normalizeInput(T));const I=y(x,D,N,T);return b(I,S),v(I)}function A(S,D,x,N,T){const I=E(S,D,x,N,T);return t.toHex(I)}return lb={blake2b:E,blake2bHex:A,blake2bInit:y,blake2bUpdate:b,blake2bFinal:v},lb}var ub,gT;function wG(){if(gT)return ub;gT=1;const t=DD();function e(v,E){return v[E]^v[E+1]<<8^v[E+2]<<16^v[E+3]<<24}function n(v,E,A,S,D,x){c[v]=c[v]+c[E]+D,c[S]=s(c[S]^c[v],16),c[A]=c[A]+c[S],c[E]=s(c[E]^c[A],12),c[v]=c[v]+c[E]+x,c[S]=s(c[S]^c[v],8),c[A]=c[A]+c[S],c[E]=s(c[E]^c[A],7)}function s(v,E){return v>>>E^v<<32-E}const i=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),a=new Uint8Array([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0]),c=new Uint32Array(16),u=new Uint32Array(16);function f(v,E){let A=0;for(A=0;A<8;A++)c[A]=v.h[A],c[A+8]=i[A];for(c[12]^=v.t,c[13]^=v.t/4294967296,E&&(c[14]=~c[14]),A=0;A<16;A++)u[A]=e(v.b,4*A);for(A=0;A<10;A++)n(0,4,8,12,u[a[A*16+0]],u[a[A*16+1]]),n(1,5,9,13,u[a[A*16+2]],u[a[A*16+3]]),n(2,6,10,14,u[a[A*16+4]],u[a[A*16+5]]),n(3,7,11,15,u[a[A*16+6]],u[a[A*16+7]]),n(0,5,10,15,u[a[A*16+8]],u[a[A*16+9]]),n(1,6,11,12,u[a[A*16+10]],u[a[A*16+11]]),n(2,7,8,13,u[a[A*16+12]],u[a[A*16+13]]),n(3,4,9,14,u[a[A*16+14]],u[a[A*16+15]]);for(A=0;A<8;A++)v.h[A]^=c[A]^c[A+8]}function h(v,E){if(!(v>0&&v<=32))throw new Error("Incorrect output length, should be in [1, 32]");const A=E?E.length:0;if(E&&!(A>0&&A<=32))throw new Error("Incorrect key length, should be in [1, 32]");const S={h:new Uint32Array(i),b:new Uint8Array(64),c:0,t:0,outlen:v};return S.h[0]^=16842752^A<<8^v,A>0&&(p(S,E),S.c=64),S}function p(v,E){for(let A=0;A<E.length;A++)v.c===64&&(v.t+=v.c,f(v,!1),v.c=0),v.b[v.c++]=E[A]}function g(v){for(v.t+=v.c;v.c<64;)v.b[v.c++]=0;f(v,!0);const E=new Uint8Array(v.outlen);for(let A=0;A<v.outlen;A++)E[A]=v.h[A>>2]>>8*(A&3)&255;return E}function y(v,E,A){A=A||32,v=t.normalizeInput(v);const S=h(A,E);return p(S,v),g(S)}function b(v,E,A){const S=y(v,E,A);return t.toHex(S)}return ub={blake2s:y,blake2sHex:b,blake2sInit:h,blake2sUpdate:p,blake2sFinal:g},ub}var fb,mT;function bG(){if(mT)return fb;mT=1;const t=yG(),e=wG();return fb={blake2b:t.blake2b,blake2bHex:t.blake2bHex,blake2bInit:t.blake2bInit,blake2bUpdate:t.blake2bUpdate,blake2bFinal:t.blake2bFinal,blake2s:e.blake2s,blake2sHex:e.blake2sHex,blake2sInit:e.blake2sInit,blake2sUpdate:e.blake2sUpdate,blake2sFinal:e.blake2sFinal},fb}var vG=bG(),EG={};const AG=":";function zu(t){const[e,n]=t.split(AG);return{namespace:e,reference:n}}function OD(t,e){return t.includes(":")?[t]:e.chains||[]}var CG=Object.defineProperty,SG=Object.defineProperties,xG=Object.getOwnPropertyDescriptors,yT=Object.getOwnPropertySymbols,NG=Object.prototype.hasOwnProperty,TG=Object.prototype.propertyIsEnumerable,zv=(t,e,n)=>e in t?CG(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,wT=(t,e)=>{for(var n in e||(e={}))NG.call(e,n)&&zv(t,n,e[n]);if(yT)for(var n of yT(e))TG.call(e,n)&&zv(t,n,e[n]);return t},_G=(t,e)=>SG(t,xG(e)),bT=(t,e,n)=>zv(t,typeof e!="symbol"?e+"":e,n);const IG="ReactNative",Ys={reactNative:"react-native",node:"node",browser:"browser",unknown:"unknown"},DG="js";function dm(){return typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"}function za(){return!xo.getDocument()&&!!xo.getNavigator()&&navigator.product===IG}function OG(){return za()&&typeof global<"u"&&typeof(global==null?void 0:global.Platform)<"u"&&(global==null?void 0:global.Platform.OS)==="android"}function MG(){return za()&&typeof global<"u"&&typeof(global==null?void 0:global.Platform)<"u"&&(global==null?void 0:global.Platform.OS)==="ios"}function df(){return!dm()&&!!xo.getNavigator()&&!!xo.getDocument()}function yp(){return za()?Ys.reactNative:dm()?Ys.node:df()?Ys.browser:Ys.unknown}function vT(){var t;try{return za()&&typeof global<"u"&&typeof(global==null?void 0:global.Application)<"u"?(t=global.Application)==null?void 0:t.applicationId:void 0}catch{return}}function RG(t,e){const n=new URLSearchParams(t);for(const s of Object.keys(e).sort())if(e.hasOwnProperty(s)){const i=e[s];i!==void 0&&n.set(s,i)}return n.toString()}function $G(t){var e,n;const s=MD();try{return t!=null&&t.url&&s.url&&new URL(t.url).host!==new URL(s.url).host&&(console.warn(`The configured WalletConnect 'metadata.url':${t.url} differs from the actual page url:${s.url}. This is probably unintended and can lead to issues.`),t.url=s.url),(e=t?.icons)!=null&&e.length&&t.icons.length>0&&(t.icons=t.icons.filter(i=>i!=="")),_G(wT(wT({},s),t),{url:t?.url||s.url,name:t?.name||s.name,description:t?.description||s.description,icons:(n=t?.icons)!=null&&n.length&&t.icons.length>0?t.icons:s.icons})}catch(i){return console.warn("Error populating app metadata",i),t||s}}function MD(){return WV.getWindowMetadata()||{name:"",description:"",url:"",icons:[""]}}function UG(){if(yp()===Ys.reactNative&&typeof global<"u"&&typeof(global==null?void 0:global.Platform)<"u"){const{OS:n,Version:s}=global.Platform;return[n,s].join("-")}const t=BV();if(t===null)return"unknown";const e=t.os?t.os.replace(" ","").toLowerCase():"unknown";return t.type==="browser"?[e,t.name,t.version].join("-"):[e,t.version].join("-")}function PG(){var t;const e=yp();return e===Ys.browser?[e,((t=xo.getLocation())==null?void 0:t.host)||"unknown"].join(":"):e}function RD(t,e,n){const s=UG(),i=PG();return[[t,e].join("-"),[DG,n].join("-"),s,i].join("/")}function LG({protocol:t,version:e,relayUrl:n,sdkVersion:s,auth:i,projectId:a,useOnCloseEvent:c,bundleId:u,packageName:f}){const h=n.split("?"),p=RD(t,e,s),g={auth:i,ua:p,projectId:a,useOnCloseEvent:c,packageName:f||void 0,bundleId:u||void 0},y=RG(h[1]||"",g);return h[0]+"?"+y}function Pc(t,e){return t.filter(n=>e.includes(n)).length===t.length}function Hv(t){return Object.fromEntries(t.entries())}function Fv(t){return new Map(Object.entries(t))}function _c(t=we.FIVE_MINUTES,e){const n=we.toMiliseconds(t||we.FIVE_MINUTES);let s,i,a,c;return{resolve:u=>{a&&s&&(clearTimeout(a),s(u),c=Promise.resolve(u))},reject:u=>{a&&i&&(clearTimeout(a),i(u))},done:()=>new Promise((u,f)=>{if(c)return u(c);a=setTimeout(()=>{const h=new Error(e);c=Promise.reject(h),f(h)},n),s=u,i=f})}}function _a(t,e,n){return new Promise(async(s,i)=>{const a=setTimeout(()=>i(new Error(n)),e);try{const c=await t;s(c)}catch(c){i(c)}clearTimeout(a)})}function $D(t,e){if(typeof e=="string"&&e.startsWith(`${t}:`))return e;if(t.toLowerCase()==="topic"){if(typeof e!="string")throw new Error('Value must be "string" for expirer target type: topic');return`topic:${e}`}else if(t.toLowerCase()==="id"){if(typeof e!="number")throw new Error('Value must be "number" for expirer target type: id');return`id:${e}`}throw new Error(`Unknown expirer target type: ${t}`)}function kG(t){return $D("topic",t)}function BG(t){return $D("id",t)}function UD(t){const[e,n]=t.split(":"),s={id:void 0,topic:void 0};if(e==="topic"&&typeof n=="string")s.topic=n;else if(e==="id"&&Number.isInteger(Number(n)))s.id=Number(n);else throw new Error(`Invalid target, expected id:number or topic:string, got ${e}:${n}`);return s}function dn(t,e){return we.fromMiliseconds(Date.now()+we.toMiliseconds(t))}function Ea(t){return Date.now()>=we.toMiliseconds(t)}function dt(t,e){return`${t}${e?`:${e}`:""}`}function Tr(t=[],e=[]){return[...new Set([...t,...e])]}async function jG({id:t,topic:e,wcDeepLink:n}){var s;try{if(!n)return;const i=typeof n=="string"?JSON.parse(n):n,a=i?.href;if(typeof a!="string")return;const c=zG(a,t,e),u=yp();if(u===Ys.browser){if(!((s=xo.getDocument())!=null&&s.hasFocus())){console.warn("Document does not have focus, skipping deeplink.");return}HG(c)}else u===Ys.reactNative&&typeof(global==null?void 0:global.Linking)<"u"&&await global.Linking.openURL(c)}catch(i){console.error(i)}}function zG(t,e,n){const s=`requestId=${e}&sessionTopic=${n}`;t.endsWith("/")&&(t=t.slice(0,-1));let i=`${t}`;if(t.startsWith("https://t.me")){const a=t.includes("?")?"&startapp=":"?startapp=";i=`${i}${a}${WG(s,!0)}`}else i=`${i}/wc?${s}`;return i}function HG(t){let e="_self";VG()?e="_top":(qG()||t.startsWith("https://")||t.startsWith("http://"))&&(e="_blank"),window.open(t,e,"noreferrer noopener")}async function FG(t,e){let n="";try{if(df()&&(n=localStorage.getItem(e),n))return n;n=await t.getItem(e)}catch(s){console.error(s)}return n}function ET(t,e){if(!t.includes(e))return null;const n=t.split(/([&,?,=])/),s=n.indexOf(e);return n[s+2]}function AT(){return typeof crypto<"u"&&crypto!=null&&crypto.randomUUID?crypto.randomUUID():"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/gu,t=>{const e=Math.random()*16|0;return(t==="x"?e:e&3|8).toString(16)})}function BE(){return typeof process<"u"&&EG.IS_VITEST==="true"}function qG(){return typeof window<"u"&&(!!window.TelegramWebviewProxy||!!window.Telegram||!!window.TelegramWebviewProxyProto)}function VG(){try{return window.self!==window.top}catch{return!1}}function WG(t,e=!1){const n=Buffer.from(t).toString("base64");return e?n.replace(/[=]/g,""):n}function PD(t){return Buffer.from(t,"base64").toString("utf-8")}function KG(t){return new Promise(e=>setTimeout(e,t))}let GG=class{constructor({limit:e}){bT(this,"limit"),bT(this,"set"),this.limit=e,this.set=new Set}add(e){if(!this.set.has(e)){if(this.set.size>=this.limit){const n=this.set.values().next().value;n&&this.set.delete(n)}this.set.add(e)}}has(e){return this.set.has(e)}};const c0=BigInt(2**32-1),CT=BigInt(32);function LD(t,e=!1){return e?{h:Number(t&c0),l:Number(t>>CT&c0)}:{h:Number(t>>CT&c0)|0,l:Number(t&c0)|0}}function kD(t,e=!1){const n=t.length;let s=new Uint32Array(n),i=new Uint32Array(n);for(let a=0;a<n;a++){const{h:c,l:u}=LD(t[a],e);[s[a],i[a]]=[c,u]}return[s,i]}const ST=(t,e,n)=>t>>>n,xT=(t,e,n)=>t<<32-n|e>>>n,Aa=(t,e,n)=>t>>>n|e<<32-n,Ca=(t,e,n)=>t<<32-n|e>>>n,jd=(t,e,n)=>t<<64-n|e>>>n-32,zd=(t,e,n)=>t>>>n-32|e<<64-n,YG=(t,e)=>e,XG=(t,e)=>t,QG=(t,e,n)=>t<<n|e>>>32-n,ZG=(t,e,n)=>e<<n|t>>>32-n,JG=(t,e,n)=>e<<n-32|t>>>64-n,eY=(t,e,n)=>t<<n-32|e>>>64-n;function Vi(t,e,n,s){const i=(e>>>0)+(s>>>0);return{h:t+n+(i/2**32|0)|0,l:i|0}}const jE=(t,e,n)=>(t>>>0)+(e>>>0)+(n>>>0),zE=(t,e,n,s)=>e+n+s+(t/2**32|0)|0,tY=(t,e,n,s)=>(t>>>0)+(e>>>0)+(n>>>0)+(s>>>0),nY=(t,e,n,s,i)=>e+n+s+i+(t/2**32|0)|0,sY=(t,e,n,s,i)=>(t>>>0)+(e>>>0)+(n>>>0)+(s>>>0)+(i>>>0),iY=(t,e,n,s,i,a)=>e+n+s+i+a+(t/2**32|0)|0,ou=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;function HE(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function No(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function xi(t,...e){if(!HE(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function FE(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.createHasher");No(t.outputLen),No(t.blockLen)}function ka(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function qE(t,e){xi(t);const n=e.outputLen;if(t.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}function Th(t){return new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4))}function Ni(...t){for(let e=0;e<t.length;e++)t[e].fill(0)}function db(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function dr(t,e){return t<<32-e|t>>>e}const BD=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function jD(t){return t<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255}const ho=BD?t=>t:t=>jD(t);function rY(t){for(let e=0;e<t.length;e++)t[e]=jD(t[e]);return t}const Sa=BD?t=>t:rY,zD=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",oY=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function _h(t){if(xi(t),zD)return t.toHex();let e="";for(let n=0;n<t.length;n++)e+=oY[t[n]];return e}const ao={_0:48,_9:57,A:65,F:70,a:97,f:102};function NT(t){if(t>=ao._0&&t<=ao._9)return t-ao._0;if(t>=ao.A&&t<=ao.F)return t-(ao.A-10);if(t>=ao.a&&t<=ao.f)return t-(ao.a-10)}function VE(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);if(zD)return Uint8Array.fromHex(t);const e=t.length,n=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const s=new Uint8Array(n);for(let i=0,a=0;i<n;i++,a+=2){const c=NT(t.charCodeAt(a)),u=NT(t.charCodeAt(a+1));if(c===void 0||u===void 0){const f=t[a]+t[a+1];throw new Error('hex string expected, got non-hex character "'+f+'" at index '+a)}s[i]=c*16+u}return s}function aY(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}function Yi(t){return typeof t=="string"&&(t=aY(t)),xi(t),t}function Lc(...t){let e=0;for(let s=0;s<t.length;s++){const i=t[s];xi(i),e+=i.length}const n=new Uint8Array(e);for(let s=0,i=0;s<t.length;s++){const a=t[s];n.set(a,i),i+=a.length}return n}let Pm=class{};function wp(t){const e=s=>t().update(Yi(s)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function cY(t){const e=(s,i)=>t(i).update(Yi(s)).digest(),n=t({});return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=s=>t(s),e}function hf(t=32){if(ou&&typeof ou.getRandomValues=="function")return ou.getRandomValues(new Uint8Array(t));if(ou&&typeof ou.randomBytes=="function")return Uint8Array.from(ou.randomBytes(t));throw new Error("crypto.getRandomValues must be defined")}const lY=BigInt(0),Td=BigInt(1),uY=BigInt(2),fY=BigInt(7),dY=BigInt(256),hY=BigInt(113),HD=[],FD=[],qD=[];for(let t=0,e=Td,n=1,s=0;t<24;t++){[n,s]=[s,(2*n+3*s)%5],HD.push(2*(5*s+n)),FD.push((t+1)*(t+2)/2%64);let i=lY;for(let a=0;a<7;a++)e=(e<<Td^(e>>fY)*hY)%dY,e&uY&&(i^=Td<<(Td<<BigInt(a))-Td);qD.push(i)}const VD=kD(qD,!0),pY=VD[0],gY=VD[1],TT=(t,e,n)=>n>32?JG(t,e,n):QG(t,e,n),_T=(t,e,n)=>n>32?eY(t,e,n):ZG(t,e,n);function mY(t,e=24){const n=new Uint32Array(10);for(let s=24-e;s<24;s++){for(let c=0;c<10;c++)n[c]=t[c]^t[c+10]^t[c+20]^t[c+30]^t[c+40];for(let c=0;c<10;c+=2){const u=(c+8)%10,f=(c+2)%10,h=n[f],p=n[f+1],g=TT(h,p,1)^n[u],y=_T(h,p,1)^n[u+1];for(let b=0;b<50;b+=10)t[c+b]^=g,t[c+b+1]^=y}let i=t[2],a=t[3];for(let c=0;c<24;c++){const u=FD[c],f=TT(i,a,u),h=_T(i,a,u),p=HD[c];i=t[p],a=t[p+1],t[p]=f,t[p+1]=h}for(let c=0;c<50;c+=10){for(let u=0;u<10;u++)n[u]=t[c+u];for(let u=0;u<10;u++)t[c+u]^=~n[(u+2)%10]&n[(u+4)%10]}t[0]^=pY[s],t[1]^=gY[s]}Ni(n)}let yY=class WD extends Pm{constructor(e,n,s,i=!1,a=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=e,this.suffix=n,this.outputLen=s,this.enableXOF=i,this.rounds=a,No(s),!(0<e&&e<200))throw new Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=Th(this.state)}clone(){return this._cloneInto()}keccak(){Sa(this.state32),mY(this.state32,this.rounds),Sa(this.state32),this.posOut=0,this.pos=0}update(e){ka(this),e=Yi(e),xi(e);const{blockLen:n,state:s}=this,i=e.length;for(let a=0;a<i;){const c=Math.min(n-this.pos,i-a);for(let u=0;u<c;u++)s[this.pos++]^=e[a++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:n,pos:s,blockLen:i}=this;e[s]^=n,(n&128)!==0&&s===i-1&&this.keccak(),e[i-1]^=128,this.keccak()}writeInto(e){ka(this,!1),xi(e),this.finish();const n=this.state,{blockLen:s}=this;for(let i=0,a=e.length;i<a;){this.posOut>=s&&this.keccak();const c=Math.min(s-this.posOut,a-i);e.set(n.subarray(this.posOut,this.posOut+c),i),this.posOut+=c,i+=c}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return No(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(qE(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,Ni(this.state)}_cloneInto(e){const{blockLen:n,suffix:s,outputLen:i,rounds:a,enableXOF:c}=this;return e||(e=new WD(n,s,i,c,a)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=a,e.suffix=s,e.outputLen=i,e.enableXOF=c,e.destroyed=this.destroyed,e}};const wY=(t,e,n)=>wp(()=>new yY(e,t,n)),bY=wY(1,136,256/8);function vY(t,e,n,s){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,s);const i=BigInt(32),a=BigInt(4294967295),c=Number(n>>i&a),u=Number(n&a),f=s?4:0,h=s?0:4;t.setUint32(e+f,c,s),t.setUint32(e+h,u,s)}function EY(t,e,n){return t&e^~t&n}function AY(t,e,n){return t&e^t&n^e&n}let KD=class extends Pm{constructor(e,n,s,i){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=e,this.outputLen=n,this.padOffset=s,this.isLE=i,this.buffer=new Uint8Array(e),this.view=db(this.buffer)}update(e){ka(this),e=Yi(e),xi(e);const{view:n,buffer:s,blockLen:i}=this,a=e.length;for(let c=0;c<a;){const u=Math.min(i-this.pos,a-c);if(u===i){const f=db(e);for(;i<=a-c;c+=i)this.process(f,c);continue}s.set(e.subarray(c,c+u),this.pos),this.pos+=u,c+=u,this.pos===i&&(this.process(n,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){ka(this),qE(e,this),this.finished=!0;const{buffer:n,view:s,blockLen:i,isLE:a}=this;let{pos:c}=this;n[c++]=128,Ni(this.buffer.subarray(c)),this.padOffset>i-c&&(this.process(s,0),c=0);for(let g=c;g<i;g++)n[g]=0;vY(s,i-8,BigInt(this.length*8),a),this.process(s,0);const u=db(e),f=this.outputLen;if(f%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const h=f/4,p=this.get();if(h>p.length)throw new Error("_sha2: outputLen bigger than state");for(let g=0;g<h;g++)u.setUint32(4*g,p[g],a)}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const s=e.slice(0,n);return this.destroy(),s}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:n,buffer:s,length:i,finished:a,destroyed:c,pos:u}=this;return e.destroyed=c,e.finished=a,e.length=i,e.pos=u,i%n&&e.buffer.set(s),e}clone(){return this._cloneInto()}};const da=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Vn=Uint32Array.from([3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]),Wn=Uint32Array.from([1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209]),CY=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),ha=new Uint32Array(64);let SY=class extends KD{constructor(e=32){super(64,e,8,!1),this.A=da[0]|0,this.B=da[1]|0,this.C=da[2]|0,this.D=da[3]|0,this.E=da[4]|0,this.F=da[5]|0,this.G=da[6]|0,this.H=da[7]|0}get(){const{A:e,B:n,C:s,D:i,E:a,F:c,G:u,H:f}=this;return[e,n,s,i,a,c,u,f]}set(e,n,s,i,a,c,u,f){this.A=e|0,this.B=n|0,this.C=s|0,this.D=i|0,this.E=a|0,this.F=c|0,this.G=u|0,this.H=f|0}process(e,n){for(let g=0;g<16;g++,n+=4)ha[g]=e.getUint32(n,!1);for(let g=16;g<64;g++){const y=ha[g-15],b=ha[g-2],v=dr(y,7)^dr(y,18)^y>>>3,E=dr(b,17)^dr(b,19)^b>>>10;ha[g]=E+ha[g-7]+v+ha[g-16]|0}let{A:s,B:i,C:a,D:c,E:u,F:f,G:h,H:p}=this;for(let g=0;g<64;g++){const y=dr(u,6)^dr(u,11)^dr(u,25),b=p+y+EY(u,f,h)+CY[g]+ha[g]|0,v=(dr(s,2)^dr(s,13)^dr(s,22))+AY(s,i,a)|0;p=h,h=f,f=u,u=c+b|0,c=a,a=i,i=s,s=b+v|0}s=s+this.A|0,i=i+this.B|0,a=a+this.C|0,c=c+this.D|0,u=u+this.E|0,f=f+this.F|0,h=h+this.G|0,p=p+this.H|0,this.set(s,i,a,c,u,f,h,p)}roundClean(){Ni(ha)}destroy(){this.set(0,0,0,0,0,0,0,0),Ni(this.buffer)}};const GD=kD(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),xY=GD[0],NY=GD[1],pa=new Uint32Array(80),ga=new Uint32Array(80);let WE=class extends KD{constructor(e=64){super(128,e,16,!1),this.Ah=Wn[0]|0,this.Al=Wn[1]|0,this.Bh=Wn[2]|0,this.Bl=Wn[3]|0,this.Ch=Wn[4]|0,this.Cl=Wn[5]|0,this.Dh=Wn[6]|0,this.Dl=Wn[7]|0,this.Eh=Wn[8]|0,this.El=Wn[9]|0,this.Fh=Wn[10]|0,this.Fl=Wn[11]|0,this.Gh=Wn[12]|0,this.Gl=Wn[13]|0,this.Hh=Wn[14]|0,this.Hl=Wn[15]|0}get(){const{Ah:e,Al:n,Bh:s,Bl:i,Ch:a,Cl:c,Dh:u,Dl:f,Eh:h,El:p,Fh:g,Fl:y,Gh:b,Gl:v,Hh:E,Hl:A}=this;return[e,n,s,i,a,c,u,f,h,p,g,y,b,v,E,A]}set(e,n,s,i,a,c,u,f,h,p,g,y,b,v,E,A){this.Ah=e|0,this.Al=n|0,this.Bh=s|0,this.Bl=i|0,this.Ch=a|0,this.Cl=c|0,this.Dh=u|0,this.Dl=f|0,this.Eh=h|0,this.El=p|0,this.Fh=g|0,this.Fl=y|0,this.Gh=b|0,this.Gl=v|0,this.Hh=E|0,this.Hl=A|0}process(e,n){for(let x=0;x<16;x++,n+=4)pa[x]=e.getUint32(n),ga[x]=e.getUint32(n+=4);for(let x=16;x<80;x++){const N=pa[x-15]|0,T=ga[x-15]|0,I=Aa(N,T,1)^Aa(N,T,8)^ST(N,T,7),$=Ca(N,T,1)^Ca(N,T,8)^xT(N,T,7),P=pa[x-2]|0,M=ga[x-2]|0,z=Aa(P,M,19)^jd(P,M,61)^ST(P,M,6),q=Ca(P,M,19)^zd(P,M,61)^xT(P,M,6),F=tY($,q,ga[x-7],ga[x-16]),ee=nY(F,I,z,pa[x-7],pa[x-16]);pa[x]=ee|0,ga[x]=F|0}let{Ah:s,Al:i,Bh:a,Bl:c,Ch:u,Cl:f,Dh:h,Dl:p,Eh:g,El:y,Fh:b,Fl:v,Gh:E,Gl:A,Hh:S,Hl:D}=this;for(let x=0;x<80;x++){const N=Aa(g,y,14)^Aa(g,y,18)^jd(g,y,41),T=Ca(g,y,14)^Ca(g,y,18)^zd(g,y,41),I=g&b^~g&E,$=y&v^~y&A,P=sY(D,T,$,NY[x],ga[x]),M=iY(P,S,N,I,xY[x],pa[x]),z=P|0,q=Aa(s,i,28)^jd(s,i,34)^jd(s,i,39),F=Ca(s,i,28)^zd(s,i,34)^zd(s,i,39),ee=s&a^s&u^a&u,Q=i&c^i&f^c&f;S=E|0,D=A|0,E=b|0,A=v|0,b=g|0,v=y|0,{h:g,l:y}=Vi(h|0,p|0,M|0,z|0),h=u|0,p=f|0,u=a|0,f=c|0,a=s|0,c=i|0;const R=jE(z,F,Q);s=zE(R,M,q,ee),i=R|0}({h:s,l:i}=Vi(this.Ah|0,this.Al|0,s|0,i|0)),{h:a,l:c}=Vi(this.Bh|0,this.Bl|0,a|0,c|0),{h:u,l:f}=Vi(this.Ch|0,this.Cl|0,u|0,f|0),{h,l:p}=Vi(this.Dh|0,this.Dl|0,h|0,p|0),{h:g,l:y}=Vi(this.Eh|0,this.El|0,g|0,y|0),{h:b,l:v}=Vi(this.Fh|0,this.Fl|0,b|0,v|0),{h:E,l:A}=Vi(this.Gh|0,this.Gl|0,E|0,A|0),{h:S,l:D}=Vi(this.Hh|0,this.Hl|0,S|0,D|0),this.set(s,i,a,c,u,f,h,p,g,y,b,v,E,A,S,D)}roundClean(){Ni(pa,ga)}destroy(){Ni(this.buffer),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}},TY=class extends WE{constructor(){super(48),this.Ah=Vn[0]|0,this.Al=Vn[1]|0,this.Bh=Vn[2]|0,this.Bl=Vn[3]|0,this.Ch=Vn[4]|0,this.Cl=Vn[5]|0,this.Dh=Vn[6]|0,this.Dl=Vn[7]|0,this.Eh=Vn[8]|0,this.El=Vn[9]|0,this.Fh=Vn[10]|0,this.Fl=Vn[11]|0,this.Gh=Vn[12]|0,this.Gl=Vn[13]|0,this.Hh=Vn[14]|0,this.Hl=Vn[15]|0}};const Kn=Uint32Array.from([573645204,4230739756,2673172387,3360449730,596883563,1867755857,2520282905,1497426621,2519219938,2827943907,3193839141,1401305490,721525244,746961066,246885852,2177182882]);class _Y extends WE{constructor(){super(32),this.Ah=Kn[0]|0,this.Al=Kn[1]|0,this.Bh=Kn[2]|0,this.Bl=Kn[3]|0,this.Ch=Kn[4]|0,this.Cl=Kn[5]|0,this.Dh=Kn[6]|0,this.Dl=Kn[7]|0,this.Eh=Kn[8]|0,this.El=Kn[9]|0,this.Fh=Kn[10]|0,this.Fl=Kn[11]|0,this.Gh=Kn[12]|0,this.Gl=Kn[13]|0,this.Hh=Kn[14]|0,this.Hl=Kn[15]|0}}const Lm=wp(()=>new SY),IY=wp(()=>new WE),DY=wp(()=>new TY),OY=wp(()=>new _Y),MY=Uint8Array.from([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9]),un=Uint32Array.from([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),Ce=new Uint32Array(32);function ma(t,e,n,s,i,a){const c=i[a],u=i[a+1];let f=Ce[2*t],h=Ce[2*t+1],p=Ce[2*e],g=Ce[2*e+1],y=Ce[2*n],b=Ce[2*n+1],v=Ce[2*s],E=Ce[2*s+1],A=jE(f,p,c);h=zE(A,h,g,u),f=A|0,{Dh:E,Dl:v}={Dh:E^h,Dl:v^f},{Dh:E,Dl:v}={Dh:YG(E,v),Dl:XG(E)},{h:b,l:y}=Vi(b,y,E,v),{Bh:g,Bl:p}={Bh:g^b,Bl:p^y},{Bh:g,Bl:p}={Bh:Aa(g,p,24),Bl:Ca(g,p,24)},Ce[2*t]=f,Ce[2*t+1]=h,Ce[2*e]=p,Ce[2*e+1]=g,Ce[2*n]=y,Ce[2*n+1]=b,Ce[2*s]=v,Ce[2*s+1]=E}function ya(t,e,n,s,i,a){const c=i[a],u=i[a+1];let f=Ce[2*t],h=Ce[2*t+1],p=Ce[2*e],g=Ce[2*e+1],y=Ce[2*n],b=Ce[2*n+1],v=Ce[2*s],E=Ce[2*s+1],A=jE(f,p,c);h=zE(A,h,g,u),f=A|0,{Dh:E,Dl:v}={Dh:E^h,Dl:v^f},{Dh:E,Dl:v}={Dh:Aa(E,v,16),Dl:Ca(E,v,16)},{h:b,l:y}=Vi(b,y,E,v),{Bh:g,Bl:p}={Bh:g^b,Bl:p^y},{Bh:g,Bl:p}={Bh:jd(g,p,63),Bl:zd(g,p,63)},Ce[2*t]=f,Ce[2*t+1]=h,Ce[2*e]=p,Ce[2*e+1]=g,Ce[2*n]=y,Ce[2*n+1]=b,Ce[2*s]=v,Ce[2*s+1]=E}function RY(t,e={},n,s,i){if(No(n),t<0||t>n)throw new Error("outputLen bigger than keyLen");const{key:a,salt:c,personalization:u}=e;if(a!==void 0&&(a.length<1||a.length>n))throw new Error("key length must be undefined or 1.."+n);if(c!==void 0&&c.length!==s)throw new Error("salt must be undefined or "+s);if(u!==void 0&&u.length!==i)throw new Error("personalization must be undefined or "+i)}class $Y extends Pm{constructor(e,n){super(),this.finished=!1,this.destroyed=!1,this.length=0,this.pos=0,No(e),No(n),this.blockLen=e,this.outputLen=n,this.buffer=new Uint8Array(e),this.buffer32=Th(this.buffer)}update(e){ka(this),e=Yi(e),xi(e);const{blockLen:n,buffer:s,buffer32:i}=this,a=e.length,c=e.byteOffset,u=e.buffer;for(let f=0;f<a;){this.pos===n&&(Sa(i),this.compress(i,0,!1),Sa(i),this.pos=0);const h=Math.min(n-this.pos,a-f),p=c+f;if(h===n&&!(p%4)&&f+h<a){const g=new Uint32Array(u,p,Math.floor((a-f)/4));Sa(g);for(let y=0;f+n<a;y+=i.length,f+=n)this.length+=n,this.compress(g,y,!1);Sa(g);continue}s.set(e.subarray(f,f+h),this.pos),this.pos+=h,this.length+=h,f+=h}return this}digestInto(e){ka(this),qE(e,this);const{pos:n,buffer32:s}=this;this.finished=!0,Ni(this.buffer.subarray(n)),Sa(s),this.compress(s,0,!0),Sa(s);const i=Th(e);this.get().forEach((a,c)=>i[c]=ho(a))}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const s=e.slice(0,n);return this.destroy(),s}_cloneInto(e){const{buffer:n,length:s,finished:i,destroyed:a,outputLen:c,pos:u}=this;return e||(e=new this.constructor({dkLen:c})),e.set(...this.get()),e.buffer.set(n),e.destroyed=a,e.finished=i,e.length=s,e.pos=u,e.outputLen=c,e}clone(){return this._cloneInto()}}class UY extends $Y{constructor(e={}){const n=e.dkLen===void 0?64:e.dkLen;super(128,n),this.v0l=un[0]|0,this.v0h=un[1]|0,this.v1l=un[2]|0,this.v1h=un[3]|0,this.v2l=un[4]|0,this.v2h=un[5]|0,this.v3l=un[6]|0,this.v3h=un[7]|0,this.v4l=un[8]|0,this.v4h=un[9]|0,this.v5l=un[10]|0,this.v5h=un[11]|0,this.v6l=un[12]|0,this.v6h=un[13]|0,this.v7l=un[14]|0,this.v7h=un[15]|0,RY(n,e,64,16,16);let{key:s,personalization:i,salt:a}=e,c=0;if(s!==void 0&&(s=Yi(s),c=s.length),this.v0l^=this.outputLen|c<<8|65536|1<<24,a!==void 0){a=Yi(a);const u=Th(a);this.v4l^=ho(u[0]),this.v4h^=ho(u[1]),this.v5l^=ho(u[2]),this.v5h^=ho(u[3])}if(i!==void 0){i=Yi(i);const u=Th(i);this.v6l^=ho(u[0]),this.v6h^=ho(u[1]),this.v7l^=ho(u[2]),this.v7h^=ho(u[3])}if(s!==void 0){const u=new Uint8Array(this.blockLen);u.set(s),this.update(u)}}get(){let{v0l:e,v0h:n,v1l:s,v1h:i,v2l:a,v2h:c,v3l:u,v3h:f,v4l:h,v4h:p,v5l:g,v5h:y,v6l:b,v6h:v,v7l:E,v7h:A}=this;return[e,n,s,i,a,c,u,f,h,p,g,y,b,v,E,A]}set(e,n,s,i,a,c,u,f,h,p,g,y,b,v,E,A){this.v0l=e|0,this.v0h=n|0,this.v1l=s|0,this.v1h=i|0,this.v2l=a|0,this.v2h=c|0,this.v3l=u|0,this.v3h=f|0,this.v4l=h|0,this.v4h=p|0,this.v5l=g|0,this.v5h=y|0,this.v6l=b|0,this.v6h=v|0,this.v7l=E|0,this.v7h=A|0}compress(e,n,s){this.get().forEach((f,h)=>Ce[h]=f),Ce.set(un,16);let{h:i,l:a}=LD(BigInt(this.length));Ce[24]=un[8]^a,Ce[25]=un[9]^i,s&&(Ce[28]=~Ce[28],Ce[29]=~Ce[29]);let c=0;const u=MY;for(let f=0;f<12;f++)ma(0,4,8,12,e,n+2*u[c++]),ya(0,4,8,12,e,n+2*u[c++]),ma(1,5,9,13,e,n+2*u[c++]),ya(1,5,9,13,e,n+2*u[c++]),ma(2,6,10,14,e,n+2*u[c++]),ya(2,6,10,14,e,n+2*u[c++]),ma(3,7,11,15,e,n+2*u[c++]),ya(3,7,11,15,e,n+2*u[c++]),ma(0,5,10,15,e,n+2*u[c++]),ya(0,5,10,15,e,n+2*u[c++]),ma(1,6,11,12,e,n+2*u[c++]),ya(1,6,11,12,e,n+2*u[c++]),ma(2,7,8,13,e,n+2*u[c++]),ya(2,7,8,13,e,n+2*u[c++]),ma(3,4,9,14,e,n+2*u[c++]),ya(3,4,9,14,e,n+2*u[c++]);this.v0l^=Ce[0]^Ce[16],this.v0h^=Ce[1]^Ce[17],this.v1l^=Ce[2]^Ce[18],this.v1h^=Ce[3]^Ce[19],this.v2l^=Ce[4]^Ce[20],this.v2h^=Ce[5]^Ce[21],this.v3l^=Ce[6]^Ce[22],this.v3h^=Ce[7]^Ce[23],this.v4l^=Ce[8]^Ce[24],this.v4h^=Ce[9]^Ce[25],this.v5l^=Ce[10]^Ce[26],this.v5h^=Ce[11]^Ce[27],this.v6l^=Ce[12]^Ce[28],this.v6h^=Ce[13]^Ce[29],this.v7l^=Ce[14]^Ce[30],this.v7h^=Ce[15]^Ce[31],Ni(Ce)}destroy(){this.destroyed=!0,Ni(this.buffer32),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const PY=cY(t=>new UY(t)),LY="https://rpc.walletconnect.org/v1";function YD(t){const e=`Ethereum Signed Message:
${t.length}`,n=new TextEncoder().encode(e+t);return"0x"+Buffer.from(bY(n)).toString("hex")}async function kY(t,e,n,s,i,a){switch(n.t){case"eip191":return await BY(t,e,n.s);case"eip1271":return await jY(t,e,n.s,s,i,a);default:throw new Error(`verifySignature failed: Attempted to verify CacaoSignature with unknown type: ${n.t}`)}}async function BY(t,e,n){return(await UW({hash:YD(e),signature:n})).toLowerCase()===t.toLowerCase()}async function jY(t,e,n,s,i,a){const c=zu(s);if(!c.namespace||!c.reference)throw new Error(`isValidEip1271Signature failed: chainId must be in CAIP-2 format, received: ${s}`);try{const u="0x1626ba7e",f="0000000000000000000000000000000000000000000000000000000000000040",h=n.substring(2),p=(h.length/2).toString(16).padStart(64,"0"),g=(e.startsWith("0x")?e:YD(e)).substring(2),y=u+g+f+p+h,b=await fetch(`${a||LY}/?chainId=${s}&projectId=${i}`,{headers:{"Content-Type":"application/json"},method:"POST",body:JSON.stringify({id:zY(),jsonrpc:"2.0",method:"eth_call",params:[{to:t,data:y},"latest"]})}),{result:v}=await b.json();return v?v.slice(0,u.length).toLowerCase()===u.toLowerCase():!1}catch(u){return console.error("isValidEip1271Signature: ",u),!1}}function zY(){return Date.now()+Math.floor(Math.random()*1e3)}function HY(t){const e=atob(t),n=new Uint8Array(e.length);for(let c=0;c<e.length;c++)n[c]=e.charCodeAt(c);const s=n[0];if(s===0)throw new Error("No signatures found");const i=1+s*64;if(n.length<i)throw new Error("Transaction data too short for claimed signature count");if(n.length<100)throw new Error("Transaction too short");const a=Buffer.from(t,"base64").slice(1,65);return ff.encode(a)}function FY(t){const e=new Uint8Array(Buffer.from(t,"base64")),n=Array.from("TransactionData::").map(a=>a.charCodeAt(0)),s=new Uint8Array(n.length+e.length);s.set(n),s.set(e,n.length);const i=PY(s,{dkLen:32});return ff.encode(i)}function IT(t){const e=new Uint8Array(Lm(qY(t)));return ff.encode(e)}function qY(t){if(t instanceof Uint8Array)return t;if(Array.isArray(t))return new Uint8Array(t);if(typeof t=="object"&&t!=null&&t.data)return new Uint8Array(Object.values(t.data));if(typeof t=="object"&&t)return new Uint8Array(Object.values(t));throw new Error("getNearUint8ArrayFromBytes: Unexpected result type from bytes array")}function DT(t){const e=Buffer.from(t,"base64"),n=bK(e).txn;if(!n)throw new Error("Invalid signed transaction: missing 'txn' field");const s=uK(n),i=Buffer.from("TX"),a=Buffer.concat([i,Buffer.from(s)]),c=OY(a);return dk.encode(c).replace(/=+$/,"")}function hb(t){const e=[];let n=BigInt(t);for(;n>=BigInt(128);)e.push(Number(n&BigInt(127)|BigInt(128))),n>>=BigInt(7);return e.push(Number(n)),Buffer.from(e)}function VY(t){const e=Buffer.from(t.signed.bodyBytes,"base64"),n=Buffer.from(t.signed.authInfoBytes,"base64"),s=Buffer.from(t.signature.signature,"base64"),i=[];i.push(Buffer.from([10])),i.push(hb(e.length)),i.push(e),i.push(Buffer.from([18])),i.push(hb(n.length)),i.push(n),i.push(Buffer.from([26])),i.push(hb(s.length)),i.push(s);const a=Buffer.concat(i),c=Lm(a);return Buffer.from(c).toString("hex").toUpperCase()}var WY=Object.defineProperty,KY=Object.defineProperties,GY=Object.getOwnPropertyDescriptors,OT=Object.getOwnPropertySymbols,YY=Object.prototype.hasOwnProperty,XY=Object.prototype.propertyIsEnumerable,MT=(t,e,n)=>e in t?WY(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,QY=(t,e)=>{for(var n in e||(e={}))YY.call(e,n)&&MT(t,n,e[n]);if(OT)for(var n of OT(e))XY.call(e,n)&&MT(t,n,e[n]);return t},ZY=(t,e)=>KY(t,GY(e));const JY="did:pkh:",KE=t=>t?.split(":"),eX=t=>{const e=t&&KE(t);if(e)return t.includes(JY)?e[3]:e[1]},qv=t=>{const e=t&&KE(t);if(e)return e[2]+":"+e[3]},hm=t=>{const e=t&&KE(t);if(e)return e.pop()};async function RT(t){const{cacao:e,projectId:n}=t,{s,p:i}=e,a=XD(i,i.iss),c=hm(i.iss);return await kY(c,a,s,qv(i.iss),n)}const XD=(t,e)=>{const n=`${t.domain} wants you to sign in with your Ethereum account:`,s=hm(e);if(!t.aud&&!t.uri)throw new Error("Either `aud` or `uri` is required to construct the message");let i=t.statement||void 0;const a=`URI: ${t.aud||t.uri}`,c=`Version: ${t.version}`,u=`Chain ID: ${eX(e)}`,f=`Nonce: ${t.nonce}`,h=`Issued At: ${t.iat}`,p=t.exp?`Expiration Time: ${t.exp}`:void 0,g=t.nbf?`Not Before: ${t.nbf}`:void 0,y=t.requestId?`Request ID: ${t.requestId}`:void 0,b=t.resources?`Resources:${t.resources.map(E=>`
- ${E}`).join("")}`:void 0,v=L0(t.resources);if(v){const E=Ih(v);i=lX(i,E)}return[n,s,"",i,"",a,c,u,f,h,p,g,y,b].filter(E=>E!=null).join(`
`)};function tX(t){return Buffer.from(JSON.stringify(t)).toString("base64")}function nX(t){return JSON.parse(Buffer.from(t,"base64").toString("utf-8"))}function Qc(t){if(!t)throw new Error("No recap provided, value is undefined");if(!t.att)throw new Error("No `att` property found");const e=Object.keys(t.att);if(!(e!=null&&e.length))throw new Error("No resources found in `att` property");e.forEach(n=>{const s=t.att[n];if(Array.isArray(s))throw new Error(`Resource must be an object: ${n}`);if(typeof s!="object")throw new Error(`Resource must be an object: ${n}`);if(!Object.keys(s).length)throw new Error(`Resource object is empty: ${n}`);Object.keys(s).forEach(i=>{const a=s[i];if(!Array.isArray(a))throw new Error(`Ability limits ${i} must be an array of objects, found: ${a}`);if(!a.length)throw new Error(`Value of ${i} is empty array, must be an array with objects`);a.forEach(c=>{if(typeof c!="object")throw new Error(`Ability limits (${i}) must be an array of objects, found: ${c}`)})})})}function sX(t,e,n,s={}){return n?.sort((i,a)=>i.localeCompare(a)),{att:{[t]:iX(e,n,s)}}}function iX(t,e,n={}){e=e?.sort((i,a)=>i.localeCompare(a));const s=e.map(i=>({[`${t}/${i}`]:[n]}));return Object.assign({},...s)}function QD(t){return Qc(t),`urn:recap:${tX(t).replace(/=/g,"")}`}function Ih(t){const e=nX(t.replace("urn:recap:",""));return Qc(e),e}function rX(t,e,n){const s=sX(t,e,n);return QD(s)}function oX(t){return t&&t.includes("urn:recap:")}function aX(t,e){const n=Ih(t),s=Ih(e),i=cX(n,s);return QD(i)}function cX(t,e){Qc(t),Qc(e);const n=Object.keys(t.att).concat(Object.keys(e.att)).sort((i,a)=>i.localeCompare(a)),s={att:{}};return n.forEach(i=>{var a,c;Object.keys(((a=t.att)==null?void 0:a[i])||{}).concat(Object.keys(((c=e.att)==null?void 0:c[i])||{})).sort((u,f)=>u.localeCompare(f)).forEach(u=>{var f,h;s.att[i]=ZY(QY({},s.att[i]),{[u]:((f=t.att[i])==null?void 0:f[u])||((h=e.att[i])==null?void 0:h[u])})})}),s}function lX(t="",e){Qc(e);const n="I further authorize the stated URI to perform the following actions on my behalf: ";if(t.includes(n))return t;const s=[];let i=0;Object.keys(e.att).forEach(u=>{const f=Object.keys(e.att[u]).map(g=>({ability:g.split("/")[0],action:g.split("/")[1]}));f.sort((g,y)=>g.action.localeCompare(y.action));const h={};f.forEach(g=>{h[g.ability]||(h[g.ability]=[]),h[g.ability].push(g.action)});const p=Object.keys(h).map(g=>(i++,`(${i}) '${g}': '${h[g].join("', '")}' for '${u}'.`));s.push(p.join(", ").replace(".,","."))});const a=s.join(" "),c=`${n}${a}`;return`${t?t+" ":""}${c}`}function $T(t){var e;const n=Ih(t);Qc(n);const s=(e=n.att)==null?void 0:e.eip155;return s?Object.keys(s).map(i=>i.split("/")[1]):[]}function UT(t){const e=Ih(t);Qc(e);const n=[];return Object.values(e.att).forEach(s=>{Object.values(s).forEach(i=>{var a;(a=i?.[0])!=null&&a.chains&&n.push(i[0].chains)})}),[...new Set(n.flat())]}function L0(t){if(!t)return;const e=t?.[t.length-1];return oX(e)?e:void 0}/*! noble-ciphers - MIT License (c) 2023 Paul Miller (paulmillr.com) */function ZD(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function Vv(t){if(typeof t!="boolean")throw new Error(`boolean expected, not ${t}`)}function pb(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function As(t,...e){if(!ZD(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function PT(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function uX(t,e){As(t);const n=e.outputLen;if(t.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}function Ra(t){return new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4))}function Ku(...t){for(let e=0;e<t.length;e++)t[e].fill(0)}function fX(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}const dX=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function hX(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}function Wv(t){if(typeof t=="string")t=hX(t);else if(ZD(t))t=Kv(t);else throw new Error("Uint8Array expected, got "+typeof t);return t}function pX(t,e){if(e==null||typeof e!="object")throw new Error("options must be defined");return Object.assign(t,e)}function gX(t,e){if(t.length!==e.length)return!1;let n=0;for(let s=0;s<t.length;s++)n|=t[s]^e[s];return n===0}const mX=(t,e)=>{function n(s,...i){if(As(s),!dX)throw new Error("Non little-endian hardware is not yet supported");if(t.nonceLength!==void 0){const h=i[0];if(!h)throw new Error("nonce / iv required");t.varSizeNonce?As(h):As(h,t.nonceLength)}const a=t.tagLength;a&&i[1]!==void 0&&As(i[1]);const c=e(s,...i),u=(h,p)=>{if(p!==void 0){if(h!==2)throw new Error("cipher output not supported");As(p)}};let f=!1;return{encrypt(h,p){if(f)throw new Error("cannot encrypt() twice with same key + nonce");return f=!0,As(h),u(c.encrypt.length,p),c.encrypt(h,p)},decrypt(h,p){if(As(h),a&&h.length<a)throw new Error("invalid ciphertext length: smaller than tagLength="+a);return u(c.decrypt.length,p),c.decrypt(h,p)}}}return Object.assign(n,t),n};function LT(t,e,n=!0){if(e===void 0)return new Uint8Array(t);if(e.length!==t)throw new Error("invalid output length, expected "+t+", got: "+e.length);if(n&&!wX(e))throw new Error("invalid output, must be aligned");return e}function kT(t,e,n,s){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,s);const i=BigInt(32),a=BigInt(4294967295),c=Number(n>>i&a),u=Number(n&a);t.setUint32(e+4,c,s),t.setUint32(e+0,u,s)}function yX(t,e,n){Vv(n);const s=new Uint8Array(16),i=fX(s);return kT(i,0,BigInt(e),n),kT(i,8,BigInt(t),n),s}function wX(t){return t.byteOffset%4===0}function Kv(t){return Uint8Array.from(t)}const JD=t=>Uint8Array.from(t.split("").map(e=>e.charCodeAt(0))),bX=JD("expand 16-byte k"),vX=JD("expand 32-byte k"),EX=Ra(bX),AX=Ra(vX);function rt(t,e){return t<<e|t>>>32-e}function Gv(t){return t.byteOffset%4===0}const l0=64,CX=16,eO=2**32-1,BT=new Uint32Array;function SX(t,e,n,s,i,a,c,u){const f=i.length,h=new Uint8Array(l0),p=Ra(h),g=Gv(i)&&Gv(a),y=g?Ra(i):BT,b=g?Ra(a):BT;for(let v=0;v<f;c++){if(t(e,n,s,p,c,u),c>=eO)throw new Error("arx: counter overflow");const E=Math.min(l0,f-v);if(g&&E===l0){const A=v/4;if(v%4!==0)throw new Error("arx: invalid block position");for(let S=0,D;S<CX;S++)D=A+S,b[D]=y[D]^p[S];v+=l0;continue}for(let A=0,S;A<E;A++)S=v+A,a[S]=i[S]^h[A];v+=E}}function xX(t,e){const{allowShortKeys:n,extendNonceFn:s,counterLength:i,counterRight:a,rounds:c}=pX({allowShortKeys:!1,counterLength:8,counterRight:!1,rounds:20},e);if(typeof t!="function")throw new Error("core must be a function");return pb(i),pb(c),Vv(a),Vv(n),(u,f,h,p,g=0)=>{As(u),As(f),As(h);const y=h.length;if(p===void 0&&(p=new Uint8Array(y)),As(p),pb(g),g<0||g>=eO)throw new Error("arx: counter overflow");if(p.length<y)throw new Error(`arx: output (${p.length}) is shorter than data (${y})`);const b=[];let v=u.length,E,A;if(v===32)b.push(E=Kv(u)),A=AX;else if(v===16&&n)E=new Uint8Array(32),E.set(u),E.set(u,16),A=EX,b.push(E);else throw new Error(`arx: invalid 32-byte key, got length=${v}`);Gv(f)||b.push(f=Kv(f));const S=Ra(E);if(s){if(f.length!==24)throw new Error("arx: extended nonce must be 24 bytes");s(A,S,Ra(f.subarray(0,16)),S),f=f.subarray(16)}const D=16-i;if(D!==f.length)throw new Error(`arx: nonce must be ${D} or 16 bytes`);if(D!==12){const N=new Uint8Array(12);N.set(f,a?0:12-f.length),f=N,b.push(f)}const x=Ra(f);return SX(t,A,S,x,h,p,g,c),Ku(...b),p}}const In=(t,e)=>t[e++]&255|(t[e++]&255)<<8;class NX{constructor(e){this.blockLen=16,this.outputLen=16,this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.pos=0,this.finished=!1,e=Wv(e),As(e,32);const n=In(e,0),s=In(e,2),i=In(e,4),a=In(e,6),c=In(e,8),u=In(e,10),f=In(e,12),h=In(e,14);this.r[0]=n&8191,this.r[1]=(n>>>13|s<<3)&8191,this.r[2]=(s>>>10|i<<6)&7939,this.r[3]=(i>>>7|a<<9)&8191,this.r[4]=(a>>>4|c<<12)&255,this.r[5]=c>>>1&8190,this.r[6]=(c>>>14|u<<2)&8191,this.r[7]=(u>>>11|f<<5)&8065,this.r[8]=(f>>>8|h<<8)&8191,this.r[9]=h>>>5&127;for(let p=0;p<8;p++)this.pad[p]=In(e,16+2*p)}process(e,n,s=!1){const i=s?0:2048,{h:a,r:c}=this,u=c[0],f=c[1],h=c[2],p=c[3],g=c[4],y=c[5],b=c[6],v=c[7],E=c[8],A=c[9],S=In(e,n+0),D=In(e,n+2),x=In(e,n+4),N=In(e,n+6),T=In(e,n+8),I=In(e,n+10),$=In(e,n+12),P=In(e,n+14);let M=a[0]+(S&8191),z=a[1]+((S>>>13|D<<3)&8191),q=a[2]+((D>>>10|x<<6)&8191),F=a[3]+((x>>>7|N<<9)&8191),ee=a[4]+((N>>>4|T<<12)&8191),Q=a[5]+(T>>>1&8191),R=a[6]+((T>>>14|I<<2)&8191),_=a[7]+((I>>>11|$<<5)&8191),k=a[8]+(($>>>8|P<<8)&8191),H=a[9]+(P>>>5|i),G=0,V=G+M*u+z*(5*A)+q*(5*E)+F*(5*v)+ee*(5*b);G=V>>>13,V&=8191,V+=Q*(5*y)+R*(5*g)+_*(5*p)+k*(5*h)+H*(5*f),G+=V>>>13,V&=8191;let U=G+M*f+z*u+q*(5*A)+F*(5*E)+ee*(5*v);G=U>>>13,U&=8191,U+=Q*(5*b)+R*(5*y)+_*(5*g)+k*(5*p)+H*(5*h),G+=U>>>13,U&=8191;let K=G+M*h+z*f+q*u+F*(5*A)+ee*(5*E);G=K>>>13,K&=8191,K+=Q*(5*v)+R*(5*b)+_*(5*y)+k*(5*g)+H*(5*p),G+=K>>>13,K&=8191;let te=G+M*p+z*h+q*f+F*u+ee*(5*A);G=te>>>13,te&=8191,te+=Q*(5*E)+R*(5*v)+_*(5*b)+k*(5*y)+H*(5*g),G+=te>>>13,te&=8191;let ie=G+M*g+z*p+q*h+F*f+ee*u;G=ie>>>13,ie&=8191,ie+=Q*(5*A)+R*(5*E)+_*(5*v)+k*(5*b)+H*(5*y),G+=ie>>>13,ie&=8191;let ue=G+M*y+z*g+q*p+F*h+ee*f;G=ue>>>13,ue&=8191,ue+=Q*u+R*(5*A)+_*(5*E)+k*(5*v)+H*(5*b),G+=ue>>>13,ue&=8191;let pe=G+M*b+z*y+q*g+F*p+ee*h;G=pe>>>13,pe&=8191,pe+=Q*f+R*u+_*(5*A)+k*(5*E)+H*(5*v),G+=pe>>>13,pe&=8191;let xe=G+M*v+z*b+q*y+F*g+ee*p;G=xe>>>13,xe&=8191,xe+=Q*h+R*f+_*u+k*(5*A)+H*(5*E),G+=xe>>>13,xe&=8191;let ke=G+M*E+z*v+q*b+F*y+ee*g;G=ke>>>13,ke&=8191,ke+=Q*p+R*h+_*f+k*u+H*(5*A),G+=ke>>>13,ke&=8191;let Te=G+M*A+z*E+q*v+F*b+ee*y;G=Te>>>13,Te&=8191,Te+=Q*g+R*p+_*h+k*f+H*u,G+=Te>>>13,Te&=8191,G=(G<<2)+G|0,G=G+V|0,V=G&8191,G=G>>>13,U+=G,a[0]=V,a[1]=U,a[2]=K,a[3]=te,a[4]=ie,a[5]=ue,a[6]=pe,a[7]=xe,a[8]=ke,a[9]=Te}finalize(){const{h:e,pad:n}=this,s=new Uint16Array(10);let i=e[1]>>>13;e[1]&=8191;for(let u=2;u<10;u++)e[u]+=i,i=e[u]>>>13,e[u]&=8191;e[0]+=i*5,i=e[0]>>>13,e[0]&=8191,e[1]+=i,i=e[1]>>>13,e[1]&=8191,e[2]+=i,s[0]=e[0]+5,i=s[0]>>>13,s[0]&=8191;for(let u=1;u<10;u++)s[u]=e[u]+i,i=s[u]>>>13,s[u]&=8191;s[9]-=8192;let a=(i^1)-1;for(let u=0;u<10;u++)s[u]&=a;a=~a;for(let u=0;u<10;u++)e[u]=e[u]&a|s[u];e[0]=(e[0]|e[1]<<13)&65535,e[1]=(e[1]>>>3|e[2]<<10)&65535,e[2]=(e[2]>>>6|e[3]<<7)&65535,e[3]=(e[3]>>>9|e[4]<<4)&65535,e[4]=(e[4]>>>12|e[5]<<1|e[6]<<14)&65535,e[5]=(e[6]>>>2|e[7]<<11)&65535,e[6]=(e[7]>>>5|e[8]<<8)&65535,e[7]=(e[8]>>>8|e[9]<<5)&65535;let c=e[0]+n[0];e[0]=c&65535;for(let u=1;u<8;u++)c=(e[u]+n[u]|0)+(c>>>16)|0,e[u]=c&65535;Ku(s)}update(e){PT(this),e=Wv(e),As(e);const{buffer:n,blockLen:s}=this,i=e.length;for(let a=0;a<i;){const c=Math.min(s-this.pos,i-a);if(c===s){for(;s<=i-a;a+=s)this.process(e,a);continue}n.set(e.subarray(a,a+c),this.pos),this.pos+=c,a+=c,this.pos===s&&(this.process(n,0,!1),this.pos=0)}return this}destroy(){Ku(this.h,this.r,this.buffer,this.pad)}digestInto(e){PT(this),uX(e,this),this.finished=!0;const{buffer:n,h:s}=this;let{pos:i}=this;if(i){for(n[i++]=1;i<16;i++)n[i]=0;this.process(n,0,!0)}this.finalize();let a=0;for(let c=0;c<8;c++)e[a++]=s[c]>>>0,e[a++]=s[c]>>>8;return e}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const s=e.slice(0,n);return this.destroy(),s}}function TX(t){const e=(s,i)=>t(i).update(Wv(s)).digest(),n=t(new Uint8Array(32));return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=s=>t(s),e}const _X=TX(t=>new NX(t));function IX(t,e,n,s,i,a=20){let c=t[0],u=t[1],f=t[2],h=t[3],p=e[0],g=e[1],y=e[2],b=e[3],v=e[4],E=e[5],A=e[6],S=e[7],D=i,x=n[0],N=n[1],T=n[2],I=c,$=u,P=f,M=h,z=p,q=g,F=y,ee=b,Q=v,R=E,_=A,k=S,H=D,G=x,V=N,U=T;for(let te=0;te<a;te+=2)I=I+z|0,H=rt(H^I,16),Q=Q+H|0,z=rt(z^Q,12),I=I+z|0,H=rt(H^I,8),Q=Q+H|0,z=rt(z^Q,7),$=$+q|0,G=rt(G^$,16),R=R+G|0,q=rt(q^R,12),$=$+q|0,G=rt(G^$,8),R=R+G|0,q=rt(q^R,7),P=P+F|0,V=rt(V^P,16),_=_+V|0,F=rt(F^_,12),P=P+F|0,V=rt(V^P,8),_=_+V|0,F=rt(F^_,7),M=M+ee|0,U=rt(U^M,16),k=k+U|0,ee=rt(ee^k,12),M=M+ee|0,U=rt(U^M,8),k=k+U|0,ee=rt(ee^k,7),I=I+q|0,U=rt(U^I,16),_=_+U|0,q=rt(q^_,12),I=I+q|0,U=rt(U^I,8),_=_+U|0,q=rt(q^_,7),$=$+F|0,H=rt(H^$,16),k=k+H|0,F=rt(F^k,12),$=$+F|0,H=rt(H^$,8),k=k+H|0,F=rt(F^k,7),P=P+ee|0,G=rt(G^P,16),Q=Q+G|0,ee=rt(ee^Q,12),P=P+ee|0,G=rt(G^P,8),Q=Q+G|0,ee=rt(ee^Q,7),M=M+z|0,V=rt(V^M,16),R=R+V|0,z=rt(z^R,12),M=M+z|0,V=rt(V^M,8),R=R+V|0,z=rt(z^R,7);let K=0;s[K++]=c+I|0,s[K++]=u+$|0,s[K++]=f+P|0,s[K++]=h+M|0,s[K++]=p+z|0,s[K++]=g+q|0,s[K++]=y+F|0,s[K++]=b+ee|0,s[K++]=v+Q|0,s[K++]=E+R|0,s[K++]=A+_|0,s[K++]=S+k|0,s[K++]=D+H|0,s[K++]=x+G|0,s[K++]=N+V|0,s[K++]=T+U|0}const DX=xX(IX,{counterRight:!1,counterLength:4,allowShortKeys:!1}),OX=new Uint8Array(16),jT=(t,e)=>{t.update(e);const n=e.length%16;n&&t.update(OX.subarray(n))},MX=new Uint8Array(32);function zT(t,e,n,s,i){const a=t(e,n,MX),c=_X.create(a);i&&jT(c,i),jT(c,s);const u=yX(s.length,i?i.length:0,!0);c.update(u);const f=c.digest();return Ku(a,u),f}const RX=t=>(e,n,s)=>({encrypt(i,a){const c=i.length;a=LT(c+16,a,!1),a.set(i);const u=a.subarray(0,-16);t(e,n,u,u,1);const f=zT(t,e,n,u,s);return a.set(f,c),Ku(f),a},decrypt(i,a){a=LT(i.length-16,a,!1);const c=i.subarray(0,-16),u=i.subarray(-16),f=zT(t,e,n,c,s);if(!gX(u,f))throw new Error("invalid tag");return a.set(i.subarray(0,-16)),t(e,n,a,a,1),Ku(f),a}}),tO=mX({blockSize:64,nonceLength:12,tagLength:16},RX(DX));let nO=class extends Pm{constructor(e,n){super(),this.finished=!1,this.destroyed=!1,FE(e);const s=Yi(n);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const i=this.blockLen,a=new Uint8Array(i);a.set(s.length>i?e.create().update(s).digest():s);for(let c=0;c<a.length;c++)a[c]^=54;this.iHash.update(a),this.oHash=e.create();for(let c=0;c<a.length;c++)a[c]^=106;this.oHash.update(a),Ni(a)}update(e){return ka(this),this.iHash.update(e),this}digestInto(e){ka(this),xi(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:s,finished:i,destroyed:a,blockLen:c,outputLen:u}=this;return e=e,e.finished=i,e.destroyed=a,e.blockLen=c,e.outputLen=u,e.oHash=n._cloneInto(e.oHash),e.iHash=s._cloneInto(e.iHash),e}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}};const km=(t,e,n)=>new nO(t,e).update(n).digest();km.create=(t,e)=>new nO(t,e);function $X(t,e,n){return FE(t),n===void 0&&(n=new Uint8Array(t.outputLen)),km(t,Yi(n),Yi(e))}const gb=Uint8Array.from([0]),HT=Uint8Array.of();function UX(t,e,n,s=32){FE(t),No(s);const i=t.outputLen;if(s>255*i)throw new Error("Length should be <= 255*HashLen");const a=Math.ceil(s/i);n===void 0&&(n=HT);const c=new Uint8Array(a*i),u=km.create(t,e),f=u._cloneInto(),h=new Uint8Array(u.outputLen);for(let p=0;p<a;p++)gb[0]=p+1,f.update(p===0?HT:h).update(n).update(gb).digestInto(h),c.set(h,i*p),u._cloneInto(f);return u.destroy(),f.destroy(),Ni(h,gb),c.slice(0,s)}const PX=(t,e,n,s,i)=>UX(t,$X(t,e,n),s,i),Bm=Lm,GE=BigInt(0),Yv=BigInt(1);function pm(t,e){if(typeof e!="boolean")throw new Error(t+" boolean expected, got "+e)}function u0(t){const e=t.toString(16);return e.length&1?"0"+e:e}function sO(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return t===""?GE:BigInt("0x"+t)}function jm(t){return sO(_h(t))}function gm(t){return xi(t),sO(_h(Uint8Array.from(t).reverse()))}function YE(t,e){return VE(t.toString(16).padStart(e*2,"0"))}function XE(t,e){return YE(t,e).reverse()}function Es(t,e,n){let s;if(typeof e=="string")try{s=VE(e)}catch(a){throw new Error(t+" must be hex string or Uint8Array, cause: "+a)}else if(HE(e))s=Uint8Array.from(e);else throw new Error(t+" must be hex string or Uint8Array");const i=s.length;if(typeof n=="number"&&i!==n)throw new Error(t+" of length "+n+" expected, got "+i);return s}const mb=t=>typeof t=="bigint"&&GE<=t;function LX(t,e,n){return mb(t)&&mb(e)&&mb(n)&&e<=t&&t<n}function Xv(t,e,n,s){if(!LX(e,n,s))throw new Error("expected valid "+t+": "+n+" <= n < "+s+", got "+e)}function kX(t){let e;for(e=0;t>GE;t>>=Yv,e+=1);return e}const zm=t=>(Yv<<BigInt(t))-Yv;function BX(t,e,n){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");const s=y=>new Uint8Array(y),i=y=>Uint8Array.of(y);let a=s(t),c=s(t),u=0;const f=()=>{a.fill(1),c.fill(0),u=0},h=(...y)=>n(c,a,...y),p=(y=s(0))=>{c=h(i(0),y),a=h(),y.length!==0&&(c=h(i(1),y),a=h())},g=()=>{if(u++>=1e3)throw new Error("drbg: tried 1000 values");let y=0;const b=[];for(;y<e;){a=h();const v=a.slice();b.push(v),y+=a.length}return Lc(...b)};return(y,b)=>{f(),p(y);let v;for(;!(v=b(g()));)p();return f(),v}}function Hm(t,e,n={}){if(!t||typeof t!="object")throw new Error("expected valid options object");function s(i,a,c){const u=t[i];if(c&&u===void 0)return;const f=typeof u;if(f!==a||u===null)throw new Error(`param "${i}" is invalid: expected ${a}, got ${f}`)}Object.entries(e).forEach(([i,a])=>s(i,a,!1)),Object.entries(n).forEach(([i,a])=>s(i,a,!0))}function FT(t){const e=new WeakMap;return(n,...s)=>{const i=e.get(n);if(i!==void 0)return i;const a=t(n,...s);return e.set(n,a),a}}const Ns=BigInt(0),ns=BigInt(1),kc=BigInt(2),jX=BigInt(3),iO=BigInt(4),rO=BigInt(5),oO=BigInt(8);function Ei(t,e){const n=t%e;return n>=Ns?n:e+n}function Hi(t,e,n){let s=t;for(;e-- >Ns;)s*=s,s%=n;return s}function qT(t,e){if(t===Ns)throw new Error("invert: expected non-zero number");if(e<=Ns)throw new Error("invert: expected positive modulus, got "+e);let n=Ei(t,e),s=e,i=Ns,a=ns;for(;n!==Ns;){const c=s/n,u=s%n,f=i-a*c;s=n,n=u,i=a,a=f}if(s!==ns)throw new Error("invert: does not exist");return Ei(i,e)}function aO(t,e){const n=(t.ORDER+ns)/iO,s=t.pow(e,n);if(!t.eql(t.sqr(s),e))throw new Error("Cannot find square root");return s}function zX(t,e){const n=(t.ORDER-rO)/oO,s=t.mul(e,kc),i=t.pow(s,n),a=t.mul(e,i),c=t.mul(t.mul(a,kc),i),u=t.mul(a,t.sub(c,t.ONE));if(!t.eql(t.sqr(u),e))throw new Error("Cannot find square root");return u}function HX(t){if(t<BigInt(3))throw new Error("sqrt is not defined for small field");let e=t-ns,n=0;for(;e%kc===Ns;)e/=kc,n++;let s=kc;const i=pf(t);for(;VT(i,s)===1;)if(s++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(n===1)return aO;let a=i.pow(s,e);const c=(e+ns)/kc;return function(u,f){if(u.is0(f))return f;if(VT(u,f)!==1)throw new Error("Cannot find square root");let h=n,p=u.mul(u.ONE,a),g=u.pow(f,e),y=u.pow(f,c);for(;!u.eql(g,u.ONE);){if(u.is0(g))return u.ZERO;let b=1,v=u.sqr(g);for(;!u.eql(v,u.ONE);)if(b++,v=u.sqr(v),b===h)throw new Error("Cannot find square root");const E=ns<<BigInt(h-b-1),A=u.pow(p,E);h=b,p=u.sqr(A),g=u.mul(g,p),y=u.mul(y,A)}return y}}function FX(t){return t%iO===jX?aO:t%oO===rO?zX:HX(t)}const qX=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function VX(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"number",BITS:"number"},n=qX.reduce((s,i)=>(s[i]="function",s),e);return Hm(t,n),t}function WX(t,e,n){if(n<Ns)throw new Error("invalid exponent, negatives unsupported");if(n===Ns)return t.ONE;if(n===ns)return e;let s=t.ONE,i=e;for(;n>Ns;)n&ns&&(s=t.mul(s,i)),i=t.sqr(i),n>>=ns;return s}function cO(t,e,n=!1){const s=new Array(e.length).fill(n?t.ZERO:void 0),i=e.reduce((c,u,f)=>t.is0(u)?c:(s[f]=c,t.mul(c,u)),t.ONE),a=t.inv(i);return e.reduceRight((c,u,f)=>t.is0(u)?c:(s[f]=t.mul(c,s[f]),t.mul(c,u)),a),s}function VT(t,e){const n=(t.ORDER-ns)/kc,s=t.pow(e,n),i=t.eql(s,t.ONE),a=t.eql(s,t.ZERO),c=t.eql(s,t.neg(t.ONE));if(!i&&!a&&!c)throw new Error("invalid Legendre symbol result");return i?1:a?0:-1}function KX(t,e){e!==void 0&&No(e);const n=e!==void 0?e:t.toString(2).length,s=Math.ceil(n/8);return{nBitLength:n,nByteLength:s}}function pf(t,e,n=!1,s={}){if(t<=Ns)throw new Error("invalid field: expected ORDER > 0, got "+t);let i,a;if(typeof e=="object"&&e!=null){if(s.sqrt||n)throw new Error("cannot specify opts in two arguments");const p=e;p.BITS&&(i=p.BITS),p.sqrt&&(a=p.sqrt),typeof p.isLE=="boolean"&&(n=p.isLE)}else typeof e=="number"&&(i=e),s.sqrt&&(a=s.sqrt);const{nBitLength:c,nByteLength:u}=KX(t,i);if(u>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let f;const h=Object.freeze({ORDER:t,isLE:n,BITS:c,BYTES:u,MASK:zm(c),ZERO:Ns,ONE:ns,create:p=>Ei(p,t),isValid:p=>{if(typeof p!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof p);return Ns<=p&&p<t},is0:p=>p===Ns,isValidNot0:p=>!h.is0(p)&&h.isValid(p),isOdd:p=>(p&ns)===ns,neg:p=>Ei(-p,t),eql:(p,g)=>p===g,sqr:p=>Ei(p*p,t),add:(p,g)=>Ei(p+g,t),sub:(p,g)=>Ei(p-g,t),mul:(p,g)=>Ei(p*g,t),pow:(p,g)=>WX(h,p,g),div:(p,g)=>Ei(p*qT(g,t),t),sqrN:p=>p*p,addN:(p,g)=>p+g,subN:(p,g)=>p-g,mulN:(p,g)=>p*g,inv:p=>qT(p,t),sqrt:a||(p=>(f||(f=FX(t)),f(h,p))),toBytes:p=>n?XE(p,u):YE(p,u),fromBytes:p=>{if(p.length!==u)throw new Error("Field.fromBytes: expected "+u+" bytes, got "+p.length);return n?gm(p):jm(p)},invertBatch:p=>cO(h,p),cmov:(p,g,y)=>y?g:p});return Object.freeze(h)}function lO(t){if(typeof t!="bigint")throw new Error("field order must be bigint");const e=t.toString(2).length;return Math.ceil(e/8)}function uO(t){const e=lO(t);return e+Math.ceil(e/2)}function GX(t,e,n=!1){const s=t.length,i=lO(e),a=uO(e);if(s<16||s<a||s>1024)throw new Error("expected "+a+"-1024 bytes of input, got "+s);const c=n?gm(t):jm(t),u=Ei(c,e-ns)+ns;return n?XE(u,i):YE(u,i)}const Gu=BigInt(0),Bc=BigInt(1);function th(t,e){const n=e.negate();return t?n:e}function YX(t,e,n){const s=a=>a.pz,i=cO(t.Fp,n.map(s));return n.map((a,c)=>a.toAffine(i[c])).map(t.fromAffine)}function fO(t,e){if(!Number.isSafeInteger(t)||t<=0||t>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+t)}function yb(t,e){fO(t,e);const n=Math.ceil(e/t)+1,s=2**(t-1),i=2**t,a=zm(t),c=BigInt(t);return{windows:n,windowSize:s,mask:a,maxNumber:i,shiftBy:c}}function WT(t,e,n){const{windowSize:s,mask:i,maxNumber:a,shiftBy:c}=n;let u=Number(t&i),f=t>>c;u>s&&(u-=a,f+=Bc);const h=e*s,p=h+Math.abs(u)-1,g=u===0,y=u<0,b=e%2!==0;return{nextN:f,offset:p,isZero:g,isNeg:y,isNegF:b,offsetF:h}}function XX(t,e){if(!Array.isArray(t))throw new Error("array expected");t.forEach((n,s)=>{if(!(n instanceof e))throw new Error("invalid point at index "+s)})}function QX(t,e){if(!Array.isArray(t))throw new Error("array of scalars expected");t.forEach((n,s)=>{if(!e.isValid(n))throw new Error("invalid scalar at index "+s)})}const wb=new WeakMap,dO=new WeakMap;function bb(t){return dO.get(t)||1}function KT(t){if(t!==Gu)throw new Error("invalid wNAF")}function ZX(t,e){return{constTimeNegate:th,hasPrecomputes(n){return bb(n)!==1},unsafeLadder(n,s,i=t.ZERO){let a=n;for(;s>Gu;)s&Bc&&(i=i.add(a)),a=a.double(),s>>=Bc;return i},precomputeWindow(n,s){const{windows:i,windowSize:a}=yb(s,e),c=[];let u=n,f=u;for(let h=0;h<i;h++){f=u,c.push(f);for(let p=1;p<a;p++)f=f.add(u),c.push(f);u=f.double()}return c},wNAF(n,s,i){let a=t.ZERO,c=t.BASE;const u=yb(n,e);for(let f=0;f<u.windows;f++){const{nextN:h,offset:p,isZero:g,isNeg:y,isNegF:b,offsetF:v}=WT(i,f,u);i=h,g?c=c.add(th(b,s[v])):a=a.add(th(y,s[p]))}return KT(i),{p:a,f:c}},wNAFUnsafe(n,s,i,a=t.ZERO){const c=yb(n,e);for(let u=0;u<c.windows&&i!==Gu;u++){const{nextN:f,offset:h,isZero:p,isNeg:g}=WT(i,u,c);if(i=f,!p){const y=s[h];a=a.add(g?y.negate():y)}}return KT(i),a},getPrecomputes(n,s,i){let a=wb.get(s);return a||(a=this.precomputeWindow(s,n),n!==1&&(typeof i=="function"&&(a=i(a)),wb.set(s,a))),a},wNAFCached(n,s,i){const a=bb(n);return this.wNAF(a,this.getPrecomputes(a,n,i),s)},wNAFCachedUnsafe(n,s,i,a){const c=bb(n);return c===1?this.unsafeLadder(n,s,a):this.wNAFUnsafe(c,this.getPrecomputes(c,n,i),s,a)},setWindowSize(n,s){fO(s,e),dO.set(n,s),wb.delete(n)}}}function JX(t,e,n,s){let i=e,a=t.ZERO,c=t.ZERO;for(;n>Gu||s>Gu;)n&Bc&&(a=a.add(i)),s&Bc&&(c=c.add(i)),i=i.double(),n>>=Bc,s>>=Bc;return{p1:a,p2:c}}function eQ(t,e,n,s){XX(n,t),QX(s,e);const i=n.length,a=s.length;if(i!==a)throw new Error("arrays of points and scalars must have equal length");const c=t.ZERO,u=kX(BigInt(i));let f=1;u>12?f=u-3:u>4?f=u-2:u>0&&(f=2);const h=zm(f),p=new Array(Number(h)+1).fill(c),g=Math.floor((e.BITS-1)/f)*f;let y=c;for(let b=g;b>=0;b-=f){p.fill(c);for(let E=0;E<a;E++){const A=s[E],S=Number(A>>BigInt(b)&h);p[S]=p[S].add(n[E])}let v=c;for(let E=p.length-1,A=c;E>0;E--)A=A.add(p[E]),v=v.add(A);if(y=y.add(v),b!==0)for(let E=0;E<f;E++)y=y.double()}return y}function GT(t,e){if(e){if(e.ORDER!==t)throw new Error("Field.ORDER must match order: Fp == p, Fn == n");return VX(e),e}else return pf(t)}function tQ(t,e,n={}){if(!e||typeof e!="object")throw new Error(`expected valid ${t} CURVE object`);for(const c of["p","n","h"]){const u=e[c];if(!(typeof u=="bigint"&&u>Gu))throw new Error(`CURVE.${c} must be positive bigint`)}const s=GT(e.p,n.Fp),i=GT(e.n,n.Fn),a=["Gx","Gy","a","b"];for(const c of a)if(!s.isValid(e[c]))throw new Error(`CURVE.${c} must be valid field element of CURVE.Fp`);return{Fp:s,Fn:i}}BigInt(0),BigInt(1),BigInt(2),BigInt(8);const _d=BigInt(0),au=BigInt(1),f0=BigInt(2);function nQ(t){return Hm(t,{adjustScalarBytes:"function",powPminus2:"function"}),Object.freeze({...t})}function sQ(t){const e=nQ(t),{P:n,type:s,adjustScalarBytes:i,powPminus2:a,randomBytes:c}=e,u=s==="x25519";if(!u&&s!=="x448")throw new Error("invalid type");const f=c||hf,h=u?255:448,p=u?32:56,g=BigInt(u?9:5),y=BigInt(u?121665:39081),b=u?f0**BigInt(254):f0**BigInt(447),v=u?BigInt(8)*f0**BigInt(251)-au:BigInt(4)*f0**BigInt(445)-au,E=b+v+au,A=M=>Ei(M,n),S=D(g);function D(M){return XE(A(M),p)}function x(M){const z=Es("u coordinate",M,p);return u&&(z[31]&=127),A(gm(z))}function N(M){return gm(i(Es("scalar",M,p)))}function T(M,z){const q=P(x(z),N(M));if(q===_d)throw new Error("invalid private or public key received");return D(q)}function I(M){return T(M,S)}function $(M,z,q){const F=A(M*(z-q));return z=A(z-F),q=A(q+F),{x_2:z,x_3:q}}function P(M,z){Xv("u",M,_d,n),Xv("scalar",z,b,E);const q=z,F=M;let ee=au,Q=_d,R=M,_=au,k=_d;for(let G=BigInt(h-1);G>=_d;G--){const V=q>>G&au;k^=V,{x_2:ee,x_3:R}=$(k,ee,R),{x_2:Q,x_3:_}=$(k,Q,_),k=V;const U=ee+Q,K=A(U*U),te=ee-Q,ie=A(te*te),ue=K-ie,pe=R+_,xe=R-_,ke=A(xe*U),Te=A(pe*te),mt=ke+Te,Ot=ke-Te;R=A(mt*mt),_=A(F*A(Ot*Ot)),ee=A(K*ie),Q=A(ue*(K+A(y*ue)))}({x_2:ee,x_3:R}=$(k,ee,R)),{x_2:Q,x_3:_}=$(k,Q,_);const H=a(Q);return A(ee*H)}return{scalarMult:T,scalarMultBase:I,getSharedSecret:(M,z)=>T(M,z),getPublicKey:M=>I(M),utils:{randomPrivateKey:()=>f(p)},GuBytes:S.slice()}}BigInt(0);const iQ=BigInt(1),YT=BigInt(2),rQ=BigInt(3),oQ=BigInt(5);BigInt(8);const hO={p:BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffed"),n:BigInt("0x1000000000000000000000000000000014def9dea2f79cd65812631a5cf5d3ed"),a:BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffec"),d:BigInt("0x52036cee2b6ffe738cc740797779e89800700a4d4141d8ab75eb4dca135978a3"),Gx:BigInt("0x216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a"),Gy:BigInt("0x6666666666666666666666666666666666666666666666666666666666666658")};function aQ(t){const e=BigInt(10),n=BigInt(20),s=BigInt(40),i=BigInt(80),a=hO.p,c=t*t%a*t%a,u=Hi(c,YT,a)*c%a,f=Hi(u,iQ,a)*t%a,h=Hi(f,oQ,a)*f%a,p=Hi(h,e,a)*h%a,g=Hi(p,n,a)*p%a,y=Hi(g,s,a)*g%a,b=Hi(y,i,a)*y%a,v=Hi(b,i,a)*y%a,E=Hi(v,e,a)*h%a;return{pow_p_5_8:Hi(E,YT,a)*t%a,b2:c}}function cQ(t){return t[0]&=248,t[31]&=127,t[31]|=64,t}const Qv=(()=>{const t=hO.p;return sQ({P:t,type:"x25519",powPminus2:e=>{const{pow_p_5_8:n,b2:s}=aQ(e);return Ei(Hi(n,rQ,t)*s,t)},adjustScalarBytes:cQ})})();function XT(t){t.lowS!==void 0&&pm("lowS",t.lowS),t.prehash!==void 0&&pm("prehash",t.prehash)}class lQ extends Error{constructor(e=""){super(e)}}const go={Err:lQ,_tlv:{encode:(t,e)=>{const{Err:n}=go;if(t<0||t>256)throw new n("tlv.encode: wrong tag");if(e.length&1)throw new n("tlv.encode: unpadded data");const s=e.length/2,i=u0(s);if(i.length/2&128)throw new n("tlv.encode: long form length too big");const a=s>127?u0(i.length/2|128):"";return u0(t)+a+i+e},decode(t,e){const{Err:n}=go;let s=0;if(t<0||t>256)throw new n("tlv.encode: wrong tag");if(e.length<2||e[s++]!==t)throw new n("tlv.decode: wrong tlv");const i=e[s++],a=!!(i&128);let c=0;if(!a)c=i;else{const f=i&127;if(!f)throw new n("tlv.decode(long): indefinite length not supported");if(f>4)throw new n("tlv.decode(long): byte length is too big");const h=e.subarray(s,s+f);if(h.length!==f)throw new n("tlv.decode: length bytes not complete");if(h[0]===0)throw new n("tlv.decode(long): zero leftmost byte");for(const p of h)c=c<<8|p;if(s+=f,c<128)throw new n("tlv.decode(long): not minimal encoding")}const u=e.subarray(s,s+c);if(u.length!==c)throw new n("tlv.decode: wrong value length");return{v:u,l:e.subarray(s+c)}}},_int:{encode(t){const{Err:e}=go;if(t<nh)throw new e("integer: negative integers are not allowed");let n=u0(t);if(Number.parseInt(n[0],16)&8&&(n="00"+n),n.length&1)throw new e("unexpected DER parsing assertion: unpadded hex");return n},decode(t){const{Err:e}=go;if(t[0]&128)throw new e("invalid signature integer: negative");if(t[0]===0&&!(t[1]&128))throw new e("invalid signature integer: unnecessary leading zero");return jm(t)}},toSig(t){const{Err:e,_int:n,_tlv:s}=go,i=Es("signature",t),{v:a,l:c}=s.decode(48,i);if(c.length)throw new e("invalid signature: left bytes after parsing");const{v:u,l:f}=s.decode(2,a),{v:h,l:p}=s.decode(2,f);if(p.length)throw new e("invalid signature: left bytes after parsing");return{r:n.decode(u),s:n.decode(h)}},hexFromSig(t){const{_tlv:e,_int:n}=go,s=e.encode(2,n.encode(t.r)),i=e.encode(2,n.encode(t.s)),a=s+i;return e.encode(48,a)}},nh=BigInt(0),sh=BigInt(1),uQ=BigInt(2),d0=BigInt(3),fQ=BigInt(4);function dQ(t,e,n){function s(i){const a=t.sqr(i),c=t.mul(a,i);return t.add(t.add(c,t.mul(i,e)),n)}return s}function pO(t,e,n){const{BYTES:s}=t;function i(a){let c;if(typeof a=="bigint")c=a;else{let u=Es("private key",a);if(e){if(!e.includes(u.length*2))throw new Error("invalid private key");const f=new Uint8Array(s);f.set(u,f.length-u.length),u=f}try{c=t.fromBytes(u)}catch{throw new Error(`invalid private key: expected ui8a of size ${s}, got ${typeof a}`)}}if(n&&(c=t.create(c)),!t.isValidNot0(c))throw new Error("invalid private key: out of range [1..N-1]");return c}return i}function hQ(t,e={}){const{Fp:n,Fn:s}=tQ("weierstrass",t,e),{h:i,n:a}=t;Hm(e,{},{allowInfinityPoint:"boolean",clearCofactor:"function",isTorsionFree:"function",fromBytes:"function",toBytes:"function",endo:"object",wrapPrivateKey:"boolean"});const{endo:c}=e;if(c&&(!n.is0(t.a)||typeof c.beta!="bigint"||typeof c.splitScalar!="function"))throw new Error('invalid endo: expected "beta": bigint and "splitScalar": function');function u(){if(!n.isOdd)throw new Error("compression is not supported: Field does not have .isOdd()")}function f(P,M,z){const{x:q,y:F}=M.toAffine(),ee=n.toBytes(q);if(pm("isCompressed",z),z){u();const Q=!n.isOdd(F);return Lc(gO(Q),ee)}else return Lc(Uint8Array.of(4),ee,n.toBytes(F))}function h(P){xi(P);const M=n.BYTES,z=M+1,q=2*M+1,F=P.length,ee=P[0],Q=P.subarray(1);if(F===z&&(ee===2||ee===3)){const R=n.fromBytes(Q);if(!n.isValid(R))throw new Error("bad point: is not on curve, wrong x");const _=y(R);let k;try{k=n.sqrt(_)}catch(G){const V=G instanceof Error?": "+G.message:"";throw new Error("bad point: is not on curve, sqrt error"+V)}u();const H=n.isOdd(k);return(ee&1)===1!==H&&(k=n.neg(k)),{x:R,y:k}}else if(F===q&&ee===4){const R=n.fromBytes(Q.subarray(M*0,M*1)),_=n.fromBytes(Q.subarray(M*1,M*2));if(!b(R,_))throw new Error("bad point: is not on curve");return{x:R,y:_}}else throw new Error(`bad point: got length ${F}, expected compressed=${z} or uncompressed=${q}`)}const p=e.toBytes||f,g=e.fromBytes||h,y=dQ(n,t.a,t.b);function b(P,M){const z=n.sqr(M),q=y(P);return n.eql(z,q)}if(!b(t.Gx,t.Gy))throw new Error("bad curve params: generator point");const v=n.mul(n.pow(t.a,d0),fQ),E=n.mul(n.sqr(t.b),BigInt(27));if(n.is0(n.add(v,E)))throw new Error("bad curve params: a or b");function A(P,M,z=!1){if(!n.isValid(M)||z&&n.is0(M))throw new Error(`bad point coordinate ${P}`);return M}function S(P){if(!(P instanceof T))throw new Error("ProjectivePoint expected")}const D=FT((P,M)=>{const{px:z,py:q,pz:F}=P;if(n.eql(F,n.ONE))return{x:z,y:q};const ee=P.is0();M==null&&(M=ee?n.ONE:n.inv(F));const Q=n.mul(z,M),R=n.mul(q,M),_=n.mul(F,M);if(ee)return{x:n.ZERO,y:n.ZERO};if(!n.eql(_,n.ONE))throw new Error("invZ was invalid");return{x:Q,y:R}}),x=FT(P=>{if(P.is0()){if(e.allowInfinityPoint&&!n.is0(P.py))return;throw new Error("bad point: ZERO")}const{x:M,y:z}=P.toAffine();if(!n.isValid(M)||!n.isValid(z))throw new Error("bad point: x or y not field elements");if(!b(M,z))throw new Error("bad point: equation left != right");if(!P.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});function N(P,M,z,q,F){return z=new T(n.mul(z.px,P),z.py,z.pz),M=th(q,M),z=th(F,z),M.add(z)}class T{constructor(M,z,q){this.px=A("x",M),this.py=A("y",z,!0),this.pz=A("z",q),Object.freeze(this)}static fromAffine(M){const{x:z,y:q}=M||{};if(!M||!n.isValid(z)||!n.isValid(q))throw new Error("invalid affine point");if(M instanceof T)throw new Error("projective point not allowed");return n.is0(z)&&n.is0(q)?T.ZERO:new T(z,q,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(M){return YX(T,"pz",M)}static fromBytes(M){return xi(M),T.fromHex(M)}static fromHex(M){const z=T.fromAffine(g(Es("pointHex",M)));return z.assertValidity(),z}static fromPrivateKey(M){const z=pO(s,e.allowedPrivateKeyLengths,e.wrapPrivateKey);return T.BASE.multiply(z(M))}static msm(M,z){return eQ(T,s,M,z)}precompute(M=8,z=!0){return $.setWindowSize(this,M),z||this.multiply(d0),this}_setWindowSize(M){this.precompute(M)}assertValidity(){x(this)}hasEvenY(){const{y:M}=this.toAffine();if(!n.isOdd)throw new Error("Field doesn't support isOdd");return!n.isOdd(M)}equals(M){S(M);const{px:z,py:q,pz:F}=this,{px:ee,py:Q,pz:R}=M,_=n.eql(n.mul(z,R),n.mul(ee,F)),k=n.eql(n.mul(q,R),n.mul(Q,F));return _&&k}negate(){return new T(this.px,n.neg(this.py),this.pz)}double(){const{a:M,b:z}=t,q=n.mul(z,d0),{px:F,py:ee,pz:Q}=this;let R=n.ZERO,_=n.ZERO,k=n.ZERO,H=n.mul(F,F),G=n.mul(ee,ee),V=n.mul(Q,Q),U=n.mul(F,ee);return U=n.add(U,U),k=n.mul(F,Q),k=n.add(k,k),R=n.mul(M,k),_=n.mul(q,V),_=n.add(R,_),R=n.sub(G,_),_=n.add(G,_),_=n.mul(R,_),R=n.mul(U,R),k=n.mul(q,k),V=n.mul(M,V),U=n.sub(H,V),U=n.mul(M,U),U=n.add(U,k),k=n.add(H,H),H=n.add(k,H),H=n.add(H,V),H=n.mul(H,U),_=n.add(_,H),V=n.mul(ee,Q),V=n.add(V,V),H=n.mul(V,U),R=n.sub(R,H),k=n.mul(V,G),k=n.add(k,k),k=n.add(k,k),new T(R,_,k)}add(M){S(M);const{px:z,py:q,pz:F}=this,{px:ee,py:Q,pz:R}=M;let _=n.ZERO,k=n.ZERO,H=n.ZERO;const G=t.a,V=n.mul(t.b,d0);let U=n.mul(z,ee),K=n.mul(q,Q),te=n.mul(F,R),ie=n.add(z,q),ue=n.add(ee,Q);ie=n.mul(ie,ue),ue=n.add(U,K),ie=n.sub(ie,ue),ue=n.add(z,F);let pe=n.add(ee,R);return ue=n.mul(ue,pe),pe=n.add(U,te),ue=n.sub(ue,pe),pe=n.add(q,F),_=n.add(Q,R),pe=n.mul(pe,_),_=n.add(K,te),pe=n.sub(pe,_),H=n.mul(G,ue),_=n.mul(V,te),H=n.add(_,H),_=n.sub(K,H),H=n.add(K,H),k=n.mul(_,H),K=n.add(U,U),K=n.add(K,U),te=n.mul(G,te),ue=n.mul(V,ue),K=n.add(K,te),te=n.sub(U,te),te=n.mul(G,te),ue=n.add(ue,te),U=n.mul(K,ue),k=n.add(k,U),U=n.mul(pe,ue),_=n.mul(ie,_),_=n.sub(_,U),U=n.mul(ie,K),H=n.mul(pe,H),H=n.add(H,U),new T(_,k,H)}subtract(M){return this.add(M.negate())}is0(){return this.equals(T.ZERO)}multiply(M){const{endo:z}=e;if(!s.isValidNot0(M))throw new Error("invalid scalar: out of range");let q,F;const ee=Q=>$.wNAFCached(this,Q,T.normalizeZ);if(z){const{k1neg:Q,k1:R,k2neg:_,k2:k}=z.splitScalar(M),{p:H,f:G}=ee(R),{p:V,f:U}=ee(k);F=G.add(U),q=N(z.beta,H,V,Q,_)}else{const{p:Q,f:R}=ee(M);q=Q,F=R}return T.normalizeZ([q,F])[0]}multiplyUnsafe(M){const{endo:z}=e,q=this;if(!s.isValid(M))throw new Error("invalid scalar: out of range");if(M===nh||q.is0())return T.ZERO;if(M===sh)return q;if($.hasPrecomputes(this))return this.multiply(M);if(z){const{k1neg:F,k1:ee,k2neg:Q,k2:R}=z.splitScalar(M),{p1:_,p2:k}=JX(T,q,ee,R);return N(z.beta,_,k,F,Q)}else return $.wNAFCachedUnsafe(q,M)}multiplyAndAddUnsafe(M,z,q){const F=this.multiplyUnsafe(z).add(M.multiplyUnsafe(q));return F.is0()?void 0:F}toAffine(M){return D(this,M)}isTorsionFree(){const{isTorsionFree:M}=e;return i===sh?!0:M?M(T,this):$.wNAFCachedUnsafe(this,a).is0()}clearCofactor(){const{clearCofactor:M}=e;return i===sh?this:M?M(T,this):this.multiplyUnsafe(i)}toBytes(M=!0){return pm("isCompressed",M),this.assertValidity(),p(T,this,M)}toRawBytes(M=!0){return this.toBytes(M)}toHex(M=!0){return _h(this.toBytes(M))}toString(){return`<Point ${this.is0()?"ZERO":this.toHex()}>`}}T.BASE=new T(t.Gx,t.Gy,n.ONE),T.ZERO=new T(n.ZERO,n.ONE,n.ZERO),T.Fp=n,T.Fn=s;const I=s.BITS,$=ZX(T,e.endo?Math.ceil(I/2):I);return T}function gO(t){return Uint8Array.of(t?2:3)}function pQ(t,e,n={}){Hm(e,{hash:"function"},{hmac:"function",lowS:"boolean",randomBytes:"function",bits2int:"function",bits2int_modN:"function"});const s=e.randomBytes||hf,i=e.hmac||((q,...F)=>km(e.hash,q,Lc(...F))),{Fp:a,Fn:c}=t,{ORDER:u,BITS:f}=c;function h(q){const F=u>>sh;return q>F}function p(q){return h(q)?c.neg(q):q}function g(q,F){if(!c.isValidNot0(F))throw new Error(`invalid signature ${q}: out of range 1..CURVE.n`)}class y{constructor(F,ee,Q){g("r",F),g("s",ee),this.r=F,this.s=ee,Q!=null&&(this.recovery=Q),Object.freeze(this)}static fromCompact(F){const ee=c.BYTES,Q=Es("compactSignature",F,ee*2);return new y(c.fromBytes(Q.subarray(0,ee)),c.fromBytes(Q.subarray(ee,ee*2)))}static fromDER(F){const{r:ee,s:Q}=go.toSig(Es("DER",F));return new y(ee,Q)}assertValidity(){}addRecoveryBit(F){return new y(this.r,this.s,F)}recoverPublicKey(F){const ee=a.ORDER,{r:Q,s:R,recovery:_}=this;if(_==null||![0,1,2,3].includes(_))throw new Error("recovery id invalid");if(u*uQ<ee&&_>1)throw new Error("recovery id is ambiguous for h>1 curve");const k=_===2||_===3?Q+u:Q;if(!a.isValid(k))throw new Error("recovery id 2 or 3 invalid");const H=a.toBytes(k),G=t.fromHex(Lc(gO((_&1)===0),H)),V=c.inv(k),U=x(Es("msgHash",F)),K=c.create(-U*V),te=c.create(R*V),ie=t.BASE.multiplyUnsafe(K).add(G.multiplyUnsafe(te));if(ie.is0())throw new Error("point at infinify");return ie.assertValidity(),ie}hasHighS(){return h(this.s)}normalizeS(){return this.hasHighS()?new y(this.r,c.neg(this.s),this.recovery):this}toBytes(F){if(F==="compact")return Lc(c.toBytes(this.r),c.toBytes(this.s));if(F==="der")return VE(go.hexFromSig(this));throw new Error("invalid format")}toDERRawBytes(){return this.toBytes("der")}toDERHex(){return _h(this.toBytes("der"))}toCompactRawBytes(){return this.toBytes("compact")}toCompactHex(){return _h(this.toBytes("compact"))}}const b=pO(c,n.allowedPrivateKeyLengths,n.wrapPrivateKey),v={isValidPrivateKey(q){try{return b(q),!0}catch{return!1}},normPrivateKeyToScalar:b,randomPrivateKey:()=>{const q=u;return GX(s(uO(q)),q)},precompute(q=8,F=t.BASE){return F.precompute(q,!1)}};function E(q,F=!0){return t.fromPrivateKey(q).toBytes(F)}function A(q){if(typeof q=="bigint")return!1;if(q instanceof t)return!0;const F=Es("key",q).length,ee=a.BYTES,Q=ee+1,R=2*ee+1;if(!(n.allowedPrivateKeyLengths||c.BYTES===Q))return F===Q||F===R}function S(q,F,ee=!0){if(A(q)===!0)throw new Error("first arg must be private key");if(A(F)===!1)throw new Error("second arg must be public key");return t.fromHex(F).multiply(b(q)).toBytes(ee)}const D=e.bits2int||function(q){if(q.length>8192)throw new Error("input is too large");const F=jm(q),ee=q.length*8-f;return ee>0?F>>BigInt(ee):F},x=e.bits2int_modN||function(q){return c.create(D(q))},N=zm(f);function T(q){return Xv("num < 2^"+f,q,nh,N),c.toBytes(q)}function I(q,F,ee=$){if(["recovered","canonical"].some(ie=>ie in ee))throw new Error("sign() legacy options not supported");const{hash:Q}=e;let{lowS:R,prehash:_,extraEntropy:k}=ee;R==null&&(R=!0),q=Es("msgHash",q),XT(ee),_&&(q=Es("prehashed msgHash",Q(q)));const H=x(q),G=b(F),V=[T(G),T(H)];if(k!=null&&k!==!1){const ie=k===!0?s(a.BYTES):k;V.push(Es("extraEntropy",ie))}const U=Lc(...V),K=H;function te(ie){const ue=D(ie);if(!c.isValidNot0(ue))return;const pe=c.inv(ue),xe=t.BASE.multiply(ue).toAffine(),ke=c.create(xe.x);if(ke===nh)return;const Te=c.create(pe*c.create(K+ke*G));if(Te===nh)return;let mt=(xe.x===ke?0:2)|Number(xe.y&sh),Ot=Te;return R&&h(Te)&&(Ot=p(Te),mt^=1),new y(ke,Ot,mt)}return{seed:U,k2sig:te}}const $={lowS:e.lowS,prehash:!1},P={lowS:e.lowS,prehash:!1};function M(q,F,ee=$){const{seed:Q,k2sig:R}=I(q,F,ee);return BX(e.hash.outputLen,c.BYTES,i)(Q,R)}t.BASE.precompute(8);function z(q,F,ee,Q=P){const R=q;F=Es("msgHash",F),ee=Es("publicKey",ee),XT(Q);const{lowS:_,prehash:k,format:H}=Q;if("strict"in Q)throw new Error("options.strict was renamed to lowS");if(H!==void 0&&!["compact","der","js"].includes(H))throw new Error('format must be "compact", "der" or "js"');const G=typeof R=="string"||HE(R),V=!G&&!H&&typeof R=="object"&&R!==null&&typeof R.r=="bigint"&&typeof R.s=="bigint";if(!G&&!V)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");let U,K;try{if(V)if(H===void 0||H==="js")U=new y(R.r,R.s);else throw new Error("invalid format");if(G){try{H!=="compact"&&(U=y.fromDER(R))}catch(mt){if(!(mt instanceof go.Err))throw mt}!U&&H!=="der"&&(U=y.fromCompact(R))}K=t.fromHex(ee)}catch{return!1}if(!U||_&&U.hasHighS())return!1;k&&(F=e.hash(F));const{r:te,s:ie}=U,ue=x(F),pe=c.inv(ie),xe=c.create(ue*pe),ke=c.create(te*pe),Te=t.BASE.multiplyUnsafe(xe).add(K.multiplyUnsafe(ke));return Te.is0()?!1:c.create(Te.x)===te}return Object.freeze({getPublicKey:E,getSharedSecret:S,sign:M,verify:z,utils:v,Point:t,Signature:y})}function gQ(t){const e={a:t.a,b:t.b,p:t.Fp.ORDER,n:t.n,h:t.h,Gx:t.Gx,Gy:t.Gy},n=t.Fp,s=pf(e.n,t.nBitLength),i={Fp:n,Fn:s,allowedPrivateKeyLengths:t.allowedPrivateKeyLengths,allowInfinityPoint:t.allowInfinityPoint,endo:t.endo,wrapPrivateKey:t.wrapPrivateKey,isTorsionFree:t.isTorsionFree,clearCofactor:t.clearCofactor,fromBytes:t.fromBytes,toBytes:t.toBytes};return{CURVE:e,curveOpts:i}}function mQ(t){const{CURVE:e,curveOpts:n}=gQ(t),s={hash:t.hash,hmac:t.hmac,randomBytes:t.randomBytes,lowS:t.lowS,bits2int:t.bits2int,bits2int_modN:t.bits2int_modN};return{CURVE:e,curveOpts:n,ecdsaOpts:s}}function yQ(t,e){return Object.assign({},e,{ProjectivePoint:e.Point,CURVE:t})}function wQ(t){const{CURVE:e,curveOpts:n,ecdsaOpts:s}=mQ(t),i=hQ(e,n),a=pQ(i,s,n);return yQ(t,a)}function Zv(t,e){const n=s=>wQ({...t,hash:s});return{...n(e),create:n}}const mO={p:BigInt("0xffffffff00000001000000000000000000000000ffffffffffffffffffffffff"),n:BigInt("0xffffffff00000000ffffffffffffffffbce6faada7179e84f3b9cac2fc632551"),h:BigInt(1),a:BigInt("0xffffffff00000001000000000000000000000000fffffffffffffffffffffffc"),b:BigInt("0x5ac635d8aa3a93e7b3ebbd55769886bc651d06b0cc53b0f63bce3c3e27d2604b"),Gx:BigInt("0x6b17d1f2e12c4247f8bce6e563a440f277037d812deb33a0f4a13945d898c296"),Gy:BigInt("0x4fe342e2fe1a7f9b8ee7eb4a7c0f9e162bce33576b315ececbb6406837bf51f5")},yO={p:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffeffffffff0000000000000000ffffffff"),n:BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffc7634d81f4372ddf581a0db248b0a77aecec196accc52973"),h:BigInt(1),a:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffeffffffff0000000000000000fffffffc"),b:BigInt("0xb3312fa7e23ee7e4988e056be3f82d19181d9c6efe8141120314088f5013875ac656398d8a2ed19d2a85c8edd3ec2aef"),Gx:BigInt("0xaa87ca22be8b05378eb1c71ef320ad746e1d3b628ba79b9859f741e082542a385502f25dbf55296c3a545e3872760ab7"),Gy:BigInt("0x3617de4a96262c6f5d9e98bf9292dc29f8f41dbd289a147ce9da3113b5f0b8c00a60b1ce1d7e819d7a431d7c90ea0e5f")},wO={p:BigInt("0x1ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),n:BigInt("0x01fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffa51868783bf2f966b7fcc0148f709a5d03bb5c9b8899c47aebb6fb71e91386409"),h:BigInt(1),a:BigInt("0x1fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc"),b:BigInt("0x0051953eb9618e1c9a1f929a21a0b68540eea2da725b99b315f3b8b489918ef109e156193951ec7e937b1652c0bd3bb1bf073573df883d2c34f1ef451fd46b503f00"),Gx:BigInt("0x00c6858e06b70404e9cd9e3ecb662395b4429c648139053fb521f828af606b4d3dbaa14b5e77efe75928fe1dc127a2ffa8de3348b3c1856a429bf97e7e31c2e5bd66"),Gy:BigInt("0x011839296a789a3bc0045c8a5fb42c7d1bd998f54449579b446817afbd17273e662c97ee72995ef42640c550b9013fad0761353c7086a272c24088be94769fd16650")},bQ=pf(mO.p),vQ=pf(yO.p),EQ=pf(wO.p),AQ=Zv({...mO,Fp:bQ,lowS:!1},Lm);Zv({...yO,Fp:vQ,lowS:!1},DY),Zv({...wO,Fp:EQ,lowS:!1,allowedPrivateKeyLengths:[130,131,132]},IY);const CQ=AQ,bO="base10",ss="base16",Ki="base64pad",xa="base64url",bp="utf8",vO=0,wo=1,vp=2,SQ=0,QT=1,ih=12,QE=32;function xQ(){const t=Qv.utils.randomPrivateKey(),e=Qv.getPublicKey(t);return{privateKey:Ts(t,ss),publicKey:Ts(e,ss)}}function Jv(){const t=hf(QE);return Ts(t,ss)}function NQ(t,e){const n=Qv.getSharedSecret(Ci(t,ss),Ci(e,ss)),s=PX(Bm,n,void 0,void 0,QE);return Ts(s,ss)}function k0(t){const e=Bm(Ci(t,ss));return Ts(e,ss)}function br(t){const e=Bm(Ci(t,bp));return Ts(e,ss)}function EO(t){return Ci(`${t}`,bO)}function Zc(t){return Number(Ts(t,bO))}function AO(t){return t.replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}function CO(t){const e=t.replace(/-/g,"+").replace(/_/g,"/"),n=(4-e.length%4)%4;return e+"=".repeat(n)}function TQ(t){const e=EO(typeof t.type<"u"?t.type:vO);if(Zc(e)===wo&&typeof t.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");const n=typeof t.senderPublicKey<"u"?Ci(t.senderPublicKey,ss):void 0,s=typeof t.iv<"u"?Ci(t.iv,ss):hf(ih),i=Ci(t.symKey,ss),a=tO(i,s).encrypt(Ci(t.message,bp)),c=SO({type:e,sealed:a,iv:s,senderPublicKey:n});return t.encoding===xa?AO(c):c}function _Q(t){const e=Ci(t.symKey,ss),{sealed:n,iv:s}=Dh({encoded:t.encoded,encoding:t.encoding}),i=tO(e,s).decrypt(n);if(i===null)throw new Error("Failed to decrypt");return Ts(i,bp)}function IQ(t,e){const n=EO(vp),s=hf(ih),i=Ci(t,bp),a=SO({type:n,sealed:i,iv:s});return e===xa?AO(a):a}function DQ(t,e){const{sealed:n}=Dh({encoded:t,encoding:e});return Ts(n,bp)}function SO(t){if(Zc(t.type)===vp)return Ts(eh([t.type,t.sealed]),Ki);if(Zc(t.type)===wo){if(typeof t.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");return Ts(eh([t.type,t.senderPublicKey,t.iv,t.sealed]),Ki)}return Ts(eh([t.type,t.iv,t.sealed]),Ki)}function Dh(t){const e=(t.encoding||Ki)===xa?CO(t.encoded):t.encoded,n=Ci(e,Ki),s=n.slice(SQ,QT),i=QT;if(Zc(s)===wo){const f=i+QE,h=f+ih,p=n.slice(i,f),g=n.slice(f,h),y=n.slice(h);return{type:s,sealed:y,iv:g,senderPublicKey:p}}if(Zc(s)===vp){const f=n.slice(i),h=hf(ih);return{type:s,sealed:f,iv:h}}const a=i+ih,c=n.slice(i,a),u=n.slice(a);return{type:s,sealed:u,iv:c}}function OQ(t,e){const n=Dh({encoded:t,encoding:e?.encoding});return xO({type:Zc(n.type),senderPublicKey:typeof n.senderPublicKey<"u"?Ts(n.senderPublicKey,ss):void 0,receiverPublicKey:e?.receiverPublicKey})}function xO(t){const e=t?.type||vO;if(e===wo){if(typeof t?.senderPublicKey>"u")throw new Error("missing sender public key");if(typeof t?.receiverPublicKey>"u")throw new Error("missing receiver public key")}return{type:e,senderPublicKey:t?.senderPublicKey,receiverPublicKey:t?.receiverPublicKey}}function ZT(t){return t.type===wo&&typeof t.senderPublicKey=="string"&&typeof t.receiverPublicKey=="string"}function JT(t){return t.type===vp}function MQ(t){const e=Buffer.from(t.x,"base64"),n=Buffer.from(t.y,"base64");return eh([new Uint8Array([4]),e,n])}function RQ(t,e){const[n,s,i]=t.split("."),a=Buffer.from(CO(i),"base64");if(a.length!==64)throw new Error("Invalid signature length");const c=a.slice(0,32),u=a.slice(32,64),f=`${n}.${s}`,h=Bm(f),p=MQ(e);if(!CQ.verify(eh([c,u]),h,p))throw new Error("Invalid signature");return $v(t).payload}const $Q="irn";function mm(t){return t?.relay||{protocol:$Q}}function Hd(t){const e=mG[t];if(typeof e>"u")throw new Error(`Relay Protocol not supported: ${t}`);return e}function UQ(t,e="-"){const n={},s="relay"+e;return Object.keys(t).forEach(i=>{if(i.startsWith(s)){const a=i.replace(s,""),c=t[i];n[a]=c}}),n}function e_(t){if(!t.includes("wc:")){const h=PD(t);h!=null&&h.includes("wc:")&&(t=h)}t=t.includes("wc://")?t.replace("wc://",""):t,t=t.includes("wc:")?t.replace("wc:",""):t;const e=t.indexOf(":"),n=t.indexOf("?")!==-1?t.indexOf("?"):void 0,s=t.substring(0,e),i=t.substring(e+1,n).split("@"),a=typeof n<"u"?t.substring(n):"",c=new URLSearchParams(a),u={};c.forEach((h,p)=>{u[p]=h});const f=typeof u.methods=="string"?u.methods.split(","):void 0;return{protocol:s,topic:PQ(i[0]),version:parseInt(i[1],10),symKey:u.symKey,relay:UQ(u),methods:f,expiryTimestamp:u.expiryTimestamp?parseInt(u.expiryTimestamp,10):void 0}}function PQ(t){return t.startsWith("//")?t.substring(2):t}function LQ(t,e="-"){const n="relay",s={};return Object.keys(t).forEach(i=>{const a=i,c=n+e+a;t[a]&&(s[c]=t[a])}),s}function t_(t){const e=new URLSearchParams,n=LQ(t.relay);Object.keys(n).sort().forEach(i=>{e.set(i,n[i])}),e.set("symKey",t.symKey),t.expiryTimestamp&&e.set("expiryTimestamp",t.expiryTimestamp.toString()),t.methods&&e.set("methods",t.methods.join(","));const s=e.toString();return`${t.protocol}:${t.topic}@${t.version}?${s}`}function h0(t,e,n){return`${t}?wc_ev=${n}&topic=${e}`}var kQ=Object.defineProperty,BQ=Object.defineProperties,jQ=Object.getOwnPropertyDescriptors,n_=Object.getOwnPropertySymbols,zQ=Object.prototype.hasOwnProperty,HQ=Object.prototype.propertyIsEnumerable,s_=(t,e,n)=>e in t?kQ(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,FQ=(t,e)=>{for(var n in e||(e={}))zQ.call(e,n)&&s_(t,n,e[n]);if(n_)for(var n of n_(e))HQ.call(e,n)&&s_(t,n,e[n]);return t},qQ=(t,e)=>BQ(t,jQ(e));function gf(t){const e=[];return t.forEach(n=>{const[s,i]=n.split(":");e.push(`${s}:${i}`)}),e}function VQ(t){const e=[];return Object.values(t).forEach(n=>{e.push(...gf(n.accounts))}),e}function WQ(t,e){const n=[];return Object.values(t).forEach(s=>{gf(s.accounts).includes(e)&&n.push(...s.methods)}),n}function KQ(t,e){const n=[];return Object.values(t).forEach(s=>{gf(s.accounts).includes(e)&&n.push(...s.events)}),n}function Fm(t){return t.includes(":")}function Uu(t){return Fm(t)?t.split(":")[0]:t}function i_(t){var e,n,s;const i={};if(!_r(t))return i;for(const[a,c]of Object.entries(t)){const u=Fm(a)?[a]:c.chains,f=c.methods||[],h=c.events||[],p=Uu(a);i[p]=qQ(FQ({},i[p]),{chains:Tr(u,(e=i[p])==null?void 0:e.chains),methods:Tr(f,(n=i[p])==null?void 0:n.methods),events:Tr(h,(s=i[p])==null?void 0:s.events)})}return i}function GQ(t){const e={};return t?.forEach(n=>{var s;const[i,a]=n.split(":");e[i]||(e[i]={accounts:[],chains:[],events:[],methods:[]}),e[i].accounts.push(n),(s=e[i].chains)==null||s.push(`${i}:${a}`)}),e}function r_(t,e){e=e.map(s=>s.replace("did:pkh:",""));const n=GQ(e);for(const[s,i]of Object.entries(n))i.methods?i.methods=Tr(i.methods,t):i.methods=t,i.events=["chainChanged","accountsChanged"];return n}function YQ(t,e){var n,s,i,a,c,u;const f=i_(t),h=i_(e),p={},g=Object.keys(f).concat(Object.keys(h));for(const y of g)p[y]={chains:Tr((n=f[y])==null?void 0:n.chains,(s=h[y])==null?void 0:s.chains),methods:Tr((i=f[y])==null?void 0:i.methods,(a=h[y])==null?void 0:a.methods),events:Tr((c=f[y])==null?void 0:c.events,(u=h[y])==null?void 0:u.events)};return p}const XQ={INVALID_METHOD:{message:"Invalid method.",code:1001},INVALID_EVENT:{message:"Invalid event.",code:1002},INVALID_UPDATE_REQUEST:{message:"Invalid update request.",code:1003},INVALID_EXTEND_REQUEST:{message:"Invalid extend request.",code:1004},INVALID_SESSION_SETTLE_REQUEST:{message:"Invalid session settle request.",code:1005},UNAUTHORIZED_METHOD:{message:"Unauthorized method.",code:3001},UNAUTHORIZED_EVENT:{message:"Unauthorized event.",code:3002},UNAUTHORIZED_UPDATE_REQUEST:{message:"Unauthorized update request.",code:3003},UNAUTHORIZED_EXTEND_REQUEST:{message:"Unauthorized extend request.",code:3004},USER_REJECTED:{message:"User rejected.",code:5e3},USER_REJECTED_CHAINS:{message:"User rejected chains.",code:5001},USER_REJECTED_METHODS:{message:"User rejected methods.",code:5002},USER_REJECTED_EVENTS:{message:"User rejected events.",code:5003},UNSUPPORTED_CHAINS:{message:"Unsupported chains.",code:5100},UNSUPPORTED_METHODS:{message:"Unsupported methods.",code:5101},UNSUPPORTED_EVENTS:{message:"Unsupported events.",code:5102},UNSUPPORTED_ACCOUNTS:{message:"Unsupported accounts.",code:5103},UNSUPPORTED_NAMESPACE_KEY:{message:"Unsupported namespace key.",code:5104},USER_DISCONNECTED:{message:"User disconnected.",code:6e3},SESSION_SETTLEMENT_FAILED:{message:"Session settlement failed.",code:7e3},WC_METHOD_UNSUPPORTED:{message:"Unsupported wc_ method.",code:10001}},QQ={NOT_INITIALIZED:{message:"Not initialized.",code:1},NO_MATCHING_KEY:{message:"No matching key.",code:2},RESTORE_WILL_OVERRIDE:{message:"Restore will override.",code:3},RESUBSCRIBED:{message:"Resubscribed.",code:4},MISSING_OR_INVALID:{message:"Missing or invalid.",code:5},EXPIRED:{message:"Expired.",code:6},UNKNOWN_TYPE:{message:"Unknown type.",code:7},MISMATCHED_TOPIC:{message:"Mismatched topic.",code:8},NON_CONFORMING_NAMESPACES:{message:"Non conforming namespaces.",code:9}};function ye(t,e){const{message:n,code:s}=QQ[t];return{message:e?`${n} ${e}`:n,code:s}}function jt(t,e){const{message:n,code:s}=XQ[t];return{message:e?`${n} ${e}`:n,code:s}}function bo(t,e){return!!Array.isArray(t)}function _r(t){return Object.getPrototypeOf(t)===Object.prototype&&Object.keys(t).length}function $n(t){return typeof t>"u"}function on(t,e){return e&&$n(t)?!0:typeof t=="string"&&!!t.trim().length}function ZE(t,e){return e&&$n(t)?!0:typeof t=="number"&&!isNaN(t)}function ZQ(t,e){const{requiredNamespaces:n}=e,s=Object.keys(t.namespaces),i=Object.keys(n);let a=!0;return Pc(i,s)?(s.forEach(c=>{const{accounts:u,methods:f,events:h}=t.namespaces[c],p=gf(u),g=n[c];(!Pc(OD(c,g),p)||!Pc(g.methods,f)||!Pc(g.events,h))&&(a=!1)}),a):!1}function ym(t){return on(t,!1)&&t.includes(":")?t.split(":").length===2:!1}function JQ(t){if(on(t,!1)&&t.includes(":")){const e=t.split(":");if(e.length===3){const n=e[0]+":"+e[1];return!!e[2]&&ym(n)}}return!1}function eZ(t){function e(n){try{return typeof new URL(n)<"u"}catch{return!1}}try{if(on(t,!1)){if(e(t))return!0;const n=PD(t);return e(n)}}catch{}return!1}function tZ(t){var e;return(e=t?.proposer)==null?void 0:e.publicKey}function nZ(t){return t?.topic}function sZ(t,e){let n=null;return on(t?.publicKey,!1)||(n=ye("MISSING_OR_INVALID",`${e} controller public key should be a string`)),n}function o_(t){let e=!0;return bo(t)?t.length&&(e=t.every(n=>on(n,!1))):e=!1,e}function iZ(t,e,n){let s=null;return bo(e)&&e.length?e.forEach(i=>{s||ym(i)||(s=jt("UNSUPPORTED_CHAINS",`${n}, chain ${i} should be a string and conform to "namespace:chainId" format`))}):ym(t)||(s=jt("UNSUPPORTED_CHAINS",`${n}, chains must be defined as "namespace:chainId" e.g. "eip155:1": {...} in the namespace key OR as an array of CAIP-2 chainIds e.g. eip155: { chains: ["eip155:1", "eip155:5"] }`)),s}function rZ(t,e,n){let s=null;return Object.entries(t).forEach(([i,a])=>{if(s)return;const c=iZ(i,OD(i,a),`${e} ${n}`);c&&(s=c)}),s}function oZ(t,e){let n=null;return bo(t)?t.forEach(s=>{n||JQ(s)||(n=jt("UNSUPPORTED_ACCOUNTS",`${e}, account ${s} should be a string and conform to "namespace:chainId:address" format`))}):n=jt("UNSUPPORTED_ACCOUNTS",`${e}, accounts should be an array of strings conforming to "namespace:chainId:address" format`),n}function aZ(t,e){let n=null;return Object.values(t).forEach(s=>{if(n)return;const i=oZ(s?.accounts,`${e} namespace`);i&&(n=i)}),n}function cZ(t,e){let n=null;return o_(t?.methods)?o_(t?.events)||(n=jt("UNSUPPORTED_EVENTS",`${e}, events should be an array of strings or empty array for no events`)):n=jt("UNSUPPORTED_METHODS",`${e}, methods should be an array of strings or empty array for no methods`),n}function NO(t,e){let n=null;return Object.values(t).forEach(s=>{if(n)return;const i=cZ(s,`${e}, namespace`);i&&(n=i)}),n}function lZ(t,e,n){let s=null;if(t&&_r(t)){const i=NO(t,e);i&&(s=i);const a=rZ(t,e,n);a&&(s=a)}else s=ye("MISSING_OR_INVALID",`${e}, ${n} should be an object with data`);return s}function vb(t,e){let n=null;if(t&&_r(t)){const s=NO(t,e);s&&(n=s);const i=aZ(t,e);i&&(n=i)}else n=ye("MISSING_OR_INVALID",`${e}, namespaces should be an object with data`);return n}function TO(t){return on(t.protocol,!0)}function uZ(t,e){let n=!1;return t?t&&bo(t)&&t.length&&t.forEach(s=>{n=TO(s)}):n=!0,n}function fZ(t){return typeof t=="number"}function vs(t){return typeof t<"u"&&typeof t!==null}function dZ(t){return!(!t||typeof t!="object"||!t.code||!ZE(t.code,!1)||!t.message||!on(t.message,!1))}function hZ(t){return!($n(t)||!on(t.method,!1))}function pZ(t){return!($n(t)||$n(t.result)&&$n(t.error)||!ZE(t.id,!1)||!on(t.jsonrpc,!1))}function gZ(t){return!($n(t)||!on(t.name,!1))}function a_(t,e){return!(!ym(e)||!VQ(t).includes(e))}function mZ(t,e,n){return on(n,!1)?WQ(t,e).includes(n):!1}function yZ(t,e,n){return on(n,!1)?KQ(t,e).includes(n):!1}function c_(t,e,n){let s=null;const i=wZ(t),a=bZ(e),c=Object.keys(i),u=Object.keys(a),f=l_(Object.keys(t)),h=l_(Object.keys(e)),p=f.filter(g=>!h.includes(g));return p.length&&(s=ye("NON_CONFORMING_NAMESPACES",`${n} namespaces keys don't satisfy requiredNamespaces.
      Required: ${p.toString()}
      Received: ${Object.keys(e).toString()}`)),Pc(c,u)||(s=ye("NON_CONFORMING_NAMESPACES",`${n} namespaces chains don't satisfy required namespaces.
      Required: ${c.toString()}
      Approved: ${u.toString()}`)),Object.keys(e).forEach(g=>{if(!g.includes(":")||s)return;const y=gf(e[g].accounts);y.includes(g)||(s=ye("NON_CONFORMING_NAMESPACES",`${n} namespaces accounts don't satisfy namespace accounts for ${g}
        Required: ${g}
        Approved: ${y.toString()}`))}),c.forEach(g=>{s||(Pc(i[g].methods,a[g].methods)?Pc(i[g].events,a[g].events)||(s=ye("NON_CONFORMING_NAMESPACES",`${n} namespaces events don't satisfy namespace events for ${g}`)):s=ye("NON_CONFORMING_NAMESPACES",`${n} namespaces methods don't satisfy namespace methods for ${g}`))}),s}function wZ(t){const e={};return Object.keys(t).forEach(n=>{var s;n.includes(":")?e[n]=t[n]:(s=t[n].chains)==null||s.forEach(i=>{e[i]={methods:t[n].methods,events:t[n].events}})}),e}function l_(t){return[...new Set(t.map(e=>e.includes(":")?e.split(":")[0]:e))]}function bZ(t){const e={};return Object.keys(t).forEach(n=>{n.includes(":")?e[n]=t[n]:gf(t[n].accounts)?.forEach(i=>{e[i]={accounts:t[n].accounts.filter(a=>a.includes(`${i}:`)),methods:t[n].methods,events:t[n].events}})}),e}function vZ(t,e){return ZE(t,!1)&&t<=e.max&&t>=e.min}function u_(){const t=yp();return new Promise(e=>{switch(t){case Ys.browser:e(EZ());break;case Ys.reactNative:e(AZ());break;case Ys.node:e(CZ());break;default:e(!0)}})}function EZ(){return df()&&navigator?.onLine}async function AZ(){return za()&&typeof global<"u"&&global!=null&&global.NetInfo?(await(global==null?void 0:global.NetInfo.fetch()))?.isConnected:!0}function CZ(){return!0}function SZ(t){switch(yp()){case Ys.browser:xZ(t);break;case Ys.reactNative:NZ(t);break}}function xZ(t){!za()&&df()&&(window.addEventListener("online",()=>t(!0)),window.addEventListener("offline",()=>t(!1)))}function NZ(t){za()&&typeof global<"u"&&global!=null&&global.NetInfo&&global?.NetInfo.addEventListener(e=>t(e?.isConnected))}function TZ(){var t;return df()&&xo.getDocument()?((t=xo.getDocument())==null?void 0:t.visibilityState)==="visible":!0}const Eb={};class Id{static get(e){return Eb[e]}static set(e,n){Eb[e]=n}static delete(e){delete Eb[e]}}function _Z(t){const e=ff.decode(t);if(e.length<33)throw new Error("Too short to contain a public key");return e.slice(1,33)}function IZ({publicKey:t,signature:e,payload:n}){var s;const i=e2(n.method),a=128|parseInt(((s=n.version)==null?void 0:s.toString())||"4"),c=MZ(n.address),u=n.era==="00"?new Uint8Array([0]):e2(n.era);if(u.length!==1&&u.length!==2)throw new Error("Invalid era length");const f=parseInt(n.nonce,16),h=new Uint8Array([f&255,f>>8&255]),p=BigInt(`0x${OZ(n.tip)}`),g=$Z(p),y=new Uint8Array([0,...t,c,...e,...u,...h,...g,...i]),b=RZ(y.length+1);return new Uint8Array([...b,a,...y])}function DZ(t){const e=e2(t),n=vG.blake2b(e,void 0,32);return"0x"+Buffer.from(n).toString("hex")}function e2(t){return new Uint8Array(t.replace(/^0x/,"").match(/.{1,2}/g).map(e=>parseInt(e,16)))}function OZ(t){return t.startsWith("0x")?t.slice(2):t}function MZ(t){const e=ff.decode(t)[0];return e===42?0:e===60?2:1}function RZ(t){if(t<64)return new Uint8Array([t<<2]);if(t<16384){const e=t<<2|1;return new Uint8Array([e&255,e>>8&255])}else if(t<1<<30){const e=t<<2|2;return new Uint8Array([e&255,e>>8&255,e>>16&255,e>>24&255])}else throw new Error("Compact encoding > 2^30 not supported")}function $Z(t){if(t<BigInt(1)<<BigInt(6))return new Uint8Array([Number(t<<BigInt(2))]);if(t<BigInt(1)<<BigInt(14)){const e=t<<BigInt(2)|BigInt(1);return new Uint8Array([Number(e&BigInt(255)),Number(e>>BigInt(8)&BigInt(255))])}else if(t<BigInt(1)<<BigInt(30)){const e=t<<BigInt(2)|BigInt(2);return new Uint8Array([Number(e&BigInt(255)),Number(e>>BigInt(8)&BigInt(255)),Number(e>>BigInt(16)&BigInt(255)),Number(e>>BigInt(24)&BigInt(255))])}else throw new Error("BigInt compact encoding not supported > 2^30")}function UZ(t){const e=Uint8Array.from(Buffer.from(t.signature,"hex")),n=_Z(t.transaction.address),s=IZ({publicKey:n,signature:e,payload:t.transaction}),i=Buffer.from(s).toString("hex");return DZ(i)}const PZ="PARSE_ERROR",LZ="INVALID_REQUEST",kZ="METHOD_NOT_FOUND",BZ="INVALID_PARAMS",_O="INTERNAL_ERROR",JE="SERVER_ERROR",jZ=[-32700,-32600,-32601,-32602,-32603],rh={[PZ]:{code:-32700,message:"Parse error"},[LZ]:{code:-32600,message:"Invalid Request"},[kZ]:{code:-32601,message:"Method not found"},[BZ]:{code:-32602,message:"Invalid params"},[_O]:{code:-32603,message:"Internal error"},[JE]:{code:-32e3,message:"Server error"}},IO=JE;function zZ(t){return jZ.includes(t)}function f_(t){return Object.keys(rh).includes(t)?rh[t]:rh[IO]}function HZ(t){const e=Object.values(rh).find(n=>n.code===t);return e||rh[IO]}function DO(t,e,n){return t.message.includes("getaddrinfo ENOTFOUND")||t.message.includes("connect ECONNREFUSED")?new Error(`Unavailable ${n} RPC url at ${e}`):t}var Ab={},co={},d_;function FZ(){if(d_)return co;d_=1,Object.defineProperty(co,"__esModule",{value:!0}),co.isBrowserCryptoAvailable=co.getSubtleCrypto=co.getBrowerCrypto=void 0;function t(){return Cs?.crypto||Cs?.msCrypto||{}}co.getBrowerCrypto=t;function e(){const s=t();return s.subtle||s.webkitSubtle}co.getSubtleCrypto=e;function n(){return!!t()&&!!e()}return co.isBrowserCryptoAvailable=n,co}var lo={},h_;function qZ(){if(h_)return lo;h_=1,Object.defineProperty(lo,"__esModule",{value:!0}),lo.isBrowser=lo.isNode=lo.isReactNative=void 0;function t(){return typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"}lo.isReactNative=t;function e(){return typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"}lo.isNode=e;function n(){return!t()&&!e()}return lo.isBrowser=n,lo}var p_;function VZ(){return p_||(p_=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=up;e.__exportStar(FZ(),t),e.__exportStar(qZ(),t)})(Ab)),Ab}var WZ=VZ();function yr(t=3){const e=Date.now()*Math.pow(10,t),n=Math.floor(Math.random()*Math.pow(10,t));return e+n}function jc(t=6){return BigInt(yr(t))}function Ia(t,e,n){return{id:n||yr(),jsonrpc:"2.0",method:t,params:e}}function qm(t,e){return{id:t,jsonrpc:"2.0",result:e}}function Vm(t,e,n){return{id:t,jsonrpc:"2.0",error:KZ(e)}}function KZ(t,e){return typeof t>"u"?f_(_O):(typeof t=="string"&&(t=Object.assign(Object.assign({},f_(JE)),{message:t})),zZ(t.code)&&(t=HZ(t.code)),t)}let GZ=class{},YZ=class extends GZ{constructor(){super()}},XZ=class extends YZ{constructor(e){super()}};const QZ="^https?:",ZZ="^wss?:";function JZ(t){const e=t.match(new RegExp(/^\w+:/,"gi"));if(!(!e||!e.length))return e[0]}function OO(t,e){const n=JZ(t);return typeof n>"u"?!1:new RegExp(e).test(n)}function g_(t){return OO(t,QZ)}function m_(t){return OO(t,ZZ)}function eJ(t){return new RegExp("wss?://localhost(:d{2,5})?").test(t)}function MO(t){return typeof t=="object"&&"id"in t&&"jsonrpc"in t&&t.jsonrpc==="2.0"}function eA(t){return MO(t)&&"method"in t}function Wm(t){return MO(t)&&(wr(t)||vi(t))}function wr(t){return"result"in t}function vi(t){return"error"in t}let _i=class extends XZ{constructor(e){super(e),this.events=new Ti.EventEmitter,this.hasRegisteredEventListeners=!1,this.connection=this.setConnection(e),this.connection.connected&&this.registerEventListeners()}async connect(e=this.connection){await this.open(e)}async disconnect(){await this.close()}on(e,n){this.events.on(e,n)}once(e,n){this.events.once(e,n)}off(e,n){this.events.off(e,n)}removeListener(e,n){this.events.removeListener(e,n)}async request(e,n){return this.requestStrict(Ia(e.method,e.params||[],e.id||jc().toString()),n)}async requestStrict(e,n){return new Promise(async(s,i)=>{if(!this.connection.connected)try{await this.open()}catch(a){i(a)}this.events.on(`${e.id}`,a=>{vi(a)?i(a.error):s(a.result)});try{await this.connection.send(e,n)}catch(a){i(a)}})}setConnection(e=this.connection){return e}onPayload(e){this.events.emit("payload",e),Wm(e)?this.events.emit(`${e.id}`,e):this.events.emit("message",{type:e.method,data:e.params})}onClose(e){e&&e.code===3e3&&this.events.emit("error",new Error(`WebSocket connection closed abnormally with code: ${e.code} ${e.reason?`(${e.reason})`:""}`)),this.events.emit("disconnect")}async open(e=this.connection){this.connection===e&&this.connection.connected||(this.connection.connected&&this.close(),typeof e=="string"&&(await this.connection.open(e),e=this.connection),this.connection=this.setConnection(e),await this.connection.open(),this.registerEventListeners(),this.events.emit("connect"))}async close(){await this.connection.close()}registerEventListeners(){this.hasRegisteredEventListeners||(this.connection.on("payload",e=>this.onPayload(e)),this.connection.on("close",e=>this.onClose(e)),this.connection.on("error",e=>this.events.emit("error",e)),this.connection.on("register_error",e=>this.onClose()),this.hasRegisteredEventListeners=!0)}};const tJ=()=>typeof WebSocket<"u"?WebSocket:typeof global<"u"&&typeof global.WebSocket<"u"?global.WebSocket:typeof window<"u"&&typeof window.WebSocket<"u"?window.WebSocket:typeof self<"u"&&typeof self.WebSocket<"u"?self.WebSocket:require("ws"),nJ=()=>typeof WebSocket<"u"||typeof global<"u"&&typeof global.WebSocket<"u"||typeof window<"u"&&typeof window.WebSocket<"u"||typeof self<"u"&&typeof self.WebSocket<"u",y_=t=>t.split("?")[0],w_=10,sJ=tJ();let iJ=class{constructor(e){if(this.url=e,this.events=new Ti.EventEmitter,this.registering=!1,!m_(e))throw new Error(`Provided URL is not compatible with WebSocket connection: ${e}`);this.url=e}get connected(){return typeof this.socket<"u"}get connecting(){return this.registering}on(e,n){this.events.on(e,n)}once(e,n){this.events.once(e,n)}off(e,n){this.events.off(e,n)}removeListener(e,n){this.events.removeListener(e,n)}async open(e=this.url){await this.register(e)}async close(){return new Promise((e,n)=>{if(typeof this.socket>"u"){n(new Error("Connection already closed"));return}this.socket.onclose=s=>{this.onClose(s),e()},this.socket.close()})}async send(e){typeof this.socket>"u"&&(this.socket=await this.register());try{this.socket.send(So(e))}catch(n){this.onError(e.id,n)}}register(e=this.url){if(!m_(e))throw new Error(`Provided URL is not compatible with WebSocket connection: ${e}`);if(this.registering){const n=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=n||this.events.listenerCount("open")>=n)&&this.events.setMaxListeners(n+1),new Promise((s,i)=>{this.events.once("register_error",a=>{this.resetMaxListeners(),i(a)}),this.events.once("open",()=>{if(this.resetMaxListeners(),typeof this.socket>"u")return i(new Error("WebSocket connection is missing or invalid"));s(this.socket)})})}return this.url=e,this.registering=!0,new Promise((n,s)=>{const i=WZ.isReactNative()?void 0:{rejectUnauthorized:!eJ(e)},a=new sJ(e,[],i);nJ()?a.onerror=c=>{const u=c;s(this.emitError(u.error))}:a.on("error",c=>{s(this.emitError(c))}),a.onopen=()=>{this.onOpen(a),n(a)}})}onOpen(e){e.onmessage=n=>this.onPayload(n),e.onclose=n=>this.onClose(n),this.socket=e,this.registering=!1,this.events.emit("open")}onClose(e){this.socket=void 0,this.registering=!1,this.events.emit("close",e)}onPayload(e){if(typeof e.data>"u")return;const n=typeof e.data=="string"?Xc(e.data):e.data;this.events.emit("payload",n)}onError(e,n){const s=this.parseError(n),i=s.message||s.toString(),a=Vm(e,i);this.events.emit("payload",a)}parseError(e,n=this.url){return DO(e,y_(n),"WS")}resetMaxListeners(){this.events.getMaxListeners()>w_&&this.events.setMaxListeners(w_)}emitError(e){const n=this.parseError(new Error(e?.message||`WebSocket connection failed for host: ${y_(this.url)}`));return this.events.emit("register_error",n),n}};var rJ={};const RO="wc",$O=2,t2="core",Dr=`${RO}@2:${t2}:`,oJ={logger:"error"},aJ={database:":memory:"},cJ="crypto",b_="client_ed25519_seed",lJ=we.ONE_DAY,uJ="keychain",fJ="0.3",dJ="messages",hJ="0.3",v_=we.SIX_HOURS,pJ="publisher",UO="irn",gJ="error",PO="wss://relay.walletconnect.org",mJ="relayer",vn={message:"relayer_message",message_ack:"relayer_message_ack",connect:"relayer_connect",disconnect:"relayer_disconnect",error:"relayer_error",connection_stalled:"relayer_connection_stalled",transport_closed:"relayer_transport_closed",publish:"relayer_publish"},yJ="_subscription",hi={payload:"payload",connect:"connect",disconnect:"disconnect",error:"error"},wJ=.1,n2="2.21.5",Lt={link_mode:"link_mode",relay:"relay"},B0={inbound:"inbound",outbound:"outbound"},bJ="0.3",vJ="WALLETCONNECT_CLIENT_ID",E_="WALLETCONNECT_LINK_MODE_APPS",Hs={created:"subscription_created",deleted:"subscription_deleted",expired:"subscription_expired",disabled:"subscription_disabled",sync:"subscription_sync",resubscribed:"subscription_resubscribed"},EJ="subscription",AJ="0.3",CJ="pairing",SJ="0.3",Dd={wc_pairingDelete:{req:{ttl:we.ONE_DAY,prompt:!1,tag:1e3},res:{ttl:we.ONE_DAY,prompt:!1,tag:1001}},wc_pairingPing:{req:{ttl:we.THIRTY_SECONDS,prompt:!1,tag:1002},res:{ttl:we.THIRTY_SECONDS,prompt:!1,tag:1003}},unregistered_method:{req:{ttl:we.ONE_DAY,prompt:!1,tag:0},res:{ttl:we.ONE_DAY,prompt:!1,tag:0}}},Mc={create:"pairing_create",expire:"pairing_expire",delete:"pairing_delete",ping:"pairing_ping"},Bi={created:"history_created",updated:"history_updated",deleted:"history_deleted",sync:"history_sync"},xJ="history",NJ="0.3",TJ="expirer",bi={created:"expirer_created",deleted:"expirer_deleted",expired:"expirer_expired",sync:"expirer_sync"},_J="0.3",IJ="verify-api",DJ="https://verify.walletconnect.com",LO="https://verify.walletconnect.org",oh=LO,OJ=`${oh}/v3`,MJ=[DJ,LO],RJ="echo",$J="https://echo.walletconnect.com",mr={pairing_started:"pairing_started",pairing_uri_validation_success:"pairing_uri_validation_success",pairing_uri_not_expired:"pairing_uri_not_expired",store_new_pairing:"store_new_pairing",subscribing_pairing_topic:"subscribing_pairing_topic",subscribe_pairing_topic_success:"subscribe_pairing_topic_success",existing_pairing:"existing_pairing",pairing_not_expired:"pairing_not_expired",emit_inactive_pairing:"emit_inactive_pairing",emit_session_proposal:"emit_session_proposal",subscribing_to_pairing_topic:"subscribing_to_pairing_topic"},po={no_wss_connection:"no_wss_connection",no_internet_connection:"no_internet_connection",malformed_pairing_uri:"malformed_pairing_uri",active_pairing_already_exists:"active_pairing_already_exists",subscribe_pairing_topic_failure:"subscribe_pairing_topic_failure",pairing_expired:"pairing_expired",proposal_expired:"proposal_expired",proposal_listener_not_found:"proposal_listener_not_found"},ji={session_approve_started:"session_approve_started",proposal_not_expired:"proposal_not_expired",session_namespaces_validation_success:"session_namespaces_validation_success",create_session_topic:"create_session_topic",subscribing_session_topic:"subscribing_session_topic",subscribe_session_topic_success:"subscribe_session_topic_success",publishing_session_approve:"publishing_session_approve",session_approve_publish_success:"session_approve_publish_success",store_session:"store_session",publishing_session_settle:"publishing_session_settle",session_settle_publish_success:"session_settle_publish_success"},Ac={no_internet_connection:"no_internet_connection",no_wss_connection:"no_wss_connection",proposal_expired:"proposal_expired",subscribe_session_topic_failure:"subscribe_session_topic_failure",session_approve_publish_failure:"session_approve_publish_failure",session_settle_publish_failure:"session_settle_publish_failure",session_approve_namespace_validation_failure:"session_approve_namespace_validation_failure",proposal_not_found:"proposal_not_found"},Cc={authenticated_session_approve_started:"authenticated_session_approve_started",create_authenticated_session_topic:"create_authenticated_session_topic",cacaos_verified:"cacaos_verified",store_authenticated_session:"store_authenticated_session",subscribing_authenticated_session_topic:"subscribing_authenticated_session_topic",subscribe_authenticated_session_topic_success:"subscribe_authenticated_session_topic_success",publishing_authenticated_session_approve:"publishing_authenticated_session_approve"},Od={no_internet_connection:"no_internet_connection",invalid_cacao:"invalid_cacao",subscribe_authenticated_session_topic_failure:"subscribe_authenticated_session_topic_failure",authenticated_session_approve_publish_failure:"authenticated_session_approve_publish_failure",authenticated_session_pending_request_not_found:"authenticated_session_pending_request_not_found"},UJ=.1,PJ="event-client",LJ=86400,kJ="https://pulse.walletconnect.org/batch";function BJ(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),s=0;s<n.length;s++)n[s]=255;for(var i=0;i<t.length;i++){var a=t.charAt(i),c=a.charCodeAt(0);if(n[c]!==255)throw new TypeError(a+" is ambiguous");n[c]=i}var u=t.length,f=t.charAt(0),h=Math.log(u)/Math.log(256),p=Math.log(256)/Math.log(u);function g(v){if(v instanceof Uint8Array||(ArrayBuffer.isView(v)?v=new Uint8Array(v.buffer,v.byteOffset,v.byteLength):Array.isArray(v)&&(v=Uint8Array.from(v))),!(v instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(v.length===0)return"";for(var E=0,A=0,S=0,D=v.length;S!==D&&v[S]===0;)S++,E++;for(var x=(D-S)*p+1>>>0,N=new Uint8Array(x);S!==D;){for(var T=v[S],I=0,$=x-1;(T!==0||I<A)&&$!==-1;$--,I++)T+=256*N[$]>>>0,N[$]=T%u>>>0,T=T/u>>>0;if(T!==0)throw new Error("Non-zero carry");A=I,S++}for(var P=x-A;P!==x&&N[P]===0;)P++;for(var M=f.repeat(E);P<x;++P)M+=t.charAt(N[P]);return M}function y(v){if(typeof v!="string")throw new TypeError("Expected String");if(v.length===0)return new Uint8Array;var E=0;if(v[E]!==" "){for(var A=0,S=0;v[E]===f;)A++,E++;for(var D=(v.length-E)*h+1>>>0,x=new Uint8Array(D);v[E];){var N=n[v.charCodeAt(E)];if(N===255)return;for(var T=0,I=D-1;(N!==0||T<S)&&I!==-1;I--,T++)N+=u*x[I]>>>0,x[I]=N%256>>>0,N=N/256>>>0;if(N!==0)throw new Error("Non-zero carry");S=T,E++}if(v[E]!==" "){for(var $=D-S;$!==D&&x[$]===0;)$++;for(var P=new Uint8Array(A+(D-$)),M=A;$!==D;)P[M++]=x[$++];return P}}}function b(v){var E=y(v);if(E)return E;throw new Error(`Non-${e} character`)}return{encode:g,decodeUnsafe:y,decode:b}}var jJ=BJ,zJ=jJ;const kO=t=>{if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")},HJ=t=>new TextEncoder().encode(t),FJ=t=>new TextDecoder().decode(t);class qJ{constructor(e,n,s){this.name=e,this.prefix=n,this.baseEncode=s}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class VJ{constructor(e,n,s){if(this.name=e,this.prefix=n,n.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=n.codePointAt(0),this.baseDecode=s}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return BO(this,e)}}class WJ{constructor(e){this.decoders=e}or(e){return BO(this,e)}decode(e){const n=e[0],s=this.decoders[n];if(s)return s.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const BO=(t,e)=>new WJ({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}});class KJ{constructor(e,n,s,i){this.name=e,this.prefix=n,this.baseEncode=s,this.baseDecode=i,this.encoder=new qJ(e,n,s),this.decoder=new VJ(e,n,i)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}const Km=({name:t,prefix:e,encode:n,decode:s})=>new KJ(t,e,n,s),Ep=({prefix:t,name:e,alphabet:n})=>{const{encode:s,decode:i}=zJ(n,e);return Km({prefix:t,name:e,encode:s,decode:a=>kO(i(a))})},GJ=(t,e,n,s)=>{const i={};for(let p=0;p<e.length;++p)i[e[p]]=p;let a=t.length;for(;t[a-1]==="=";)--a;const c=new Uint8Array(a*n/8|0);let u=0,f=0,h=0;for(let p=0;p<a;++p){const g=i[t[p]];if(g===void 0)throw new SyntaxError(`Non-${s} character`);f=f<<n|g,u+=n,u>=8&&(u-=8,c[h++]=255&f>>u)}if(u>=n||255&f<<8-u)throw new SyntaxError("Unexpected end of data");return c},YJ=(t,e,n)=>{const s=e[e.length-1]==="=",i=(1<<n)-1;let a="",c=0,u=0;for(let f=0;f<t.length;++f)for(u=u<<8|t[f],c+=8;c>n;)c-=n,a+=e[i&u>>c];if(c&&(a+=e[i&u<<n-c]),s)for(;a.length*n&7;)a+="=";return a},Bn=({name:t,prefix:e,bitsPerChar:n,alphabet:s})=>Km({prefix:e,name:t,encode(i){return YJ(i,s,n)},decode(i){return GJ(i,s,n,t)}}),XJ=Km({prefix:"\0",name:"identity",encode:t=>FJ(t),decode:t=>HJ(t)});var QJ=Object.freeze({__proto__:null,identity:XJ});const ZJ=Bn({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var JJ=Object.freeze({__proto__:null,base2:ZJ});const eee=Bn({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var tee=Object.freeze({__proto__:null,base8:eee});const nee=Ep({prefix:"9",name:"base10",alphabet:"0123456789"});var see=Object.freeze({__proto__:null,base10:nee});const iee=Bn({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),ree=Bn({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var oee=Object.freeze({__proto__:null,base16:iee,base16upper:ree});const aee=Bn({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),cee=Bn({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),lee=Bn({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),uee=Bn({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),fee=Bn({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),dee=Bn({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),hee=Bn({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),pee=Bn({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),gee=Bn({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var mee=Object.freeze({__proto__:null,base32:aee,base32upper:cee,base32pad:lee,base32padupper:uee,base32hex:fee,base32hexupper:dee,base32hexpad:hee,base32hexpadupper:pee,base32z:gee});const yee=Ep({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),wee=Ep({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var bee=Object.freeze({__proto__:null,base36:yee,base36upper:wee});const vee=Ep({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),Eee=Ep({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var Aee=Object.freeze({__proto__:null,base58btc:vee,base58flickr:Eee});const Cee=Bn({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),See=Bn({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),xee=Bn({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),Nee=Bn({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var Tee=Object.freeze({__proto__:null,base64:Cee,base64pad:See,base64url:xee,base64urlpad:Nee});const jO=Array.from("🚀🪐☄🛰🌌🌑🌒🌓🌔🌕🌖🌗🌘🌍🌏🌎🐉☀💻🖥💾💿😂❤😍🤣😊🙏💕😭😘👍😅👏😁🔥🥰💔💖💙😢🤔😆🙄💪😉☺👌🤗💜😔😎😇🌹🤦🎉💞✌✨🤷😱😌🌸🙌😋💗💚😏💛🙂💓🤩😄😀🖤😃💯🙈👇🎶😒🤭❣😜💋👀😪😑💥🙋😞😩😡🤪👊🥳😥🤤👉💃😳✋😚😝😴🌟😬🙃🍀🌷😻😓⭐✅🥺🌈😈🤘💦✔😣🏃💐☹🎊💘😠☝😕🌺🎂🌻😐🖕💝🙊😹🗣💫💀👑🎵🤞😛🔴😤🌼😫⚽🤙☕🏆🤫👈😮🙆🍻🍃🐶💁😲🌿🧡🎁⚡🌞🎈❌✊👋😰🤨😶🤝🚶💰🍓💢🤟🙁🚨💨🤬✈🎀🍺🤓😙💟🌱😖👶🥴▶➡❓💎💸⬇😨🌚🦋😷🕺⚠🙅😟😵👎🤲🤠🤧📌🔵💅🧐🐾🍒😗🤑🌊🤯🐷☎💧😯💆👆🎤🙇🍑❄🌴💣🐸💌📍🥀🤢👅💡💩👐📸👻🤐🤮🎼🥵🚩🍎🍊👼💍📣🥂"),_ee=jO.reduce((t,e,n)=>(t[n]=e,t),[]),Iee=jO.reduce((t,e,n)=>(t[e.codePointAt(0)]=n,t),[]);function Dee(t){return t.reduce((e,n)=>(e+=_ee[n],e),"")}function Oee(t){const e=[];for(const n of t){const s=Iee[n.codePointAt(0)];if(s===void 0)throw new Error(`Non-base256emoji character: ${n}`);e.push(s)}return new Uint8Array(e)}const Mee=Km({prefix:"🚀",name:"base256emoji",encode:Dee,decode:Oee});var Ree=Object.freeze({__proto__:null,base256emoji:Mee}),$ee=zO,A_=128,Uee=-128,Pee=Math.pow(2,31);function zO(t,e,n){e=e||[],n=n||0;for(var s=n;t>=Pee;)e[n++]=t&255|A_,t/=128;for(;t&Uee;)e[n++]=t&255|A_,t>>>=7;return e[n]=t|0,zO.bytes=n-s+1,e}var Lee=s2,kee=128,C_=127;function s2(t,s){var n=0,s=s||0,i=0,a=s,c,u=t.length;do{if(a>=u)throw s2.bytes=0,new RangeError("Could not decode varint");c=t[a++],n+=i<28?(c&C_)<<i:(c&C_)*Math.pow(2,i),i+=7}while(c>=kee);return s2.bytes=a-s,n}var Bee=Math.pow(2,7),jee=Math.pow(2,14),zee=Math.pow(2,21),Hee=Math.pow(2,28),Fee=Math.pow(2,35),qee=Math.pow(2,42),Vee=Math.pow(2,49),Wee=Math.pow(2,56),Kee=Math.pow(2,63),Gee=function(t){return t<Bee?1:t<jee?2:t<zee?3:t<Hee?4:t<Fee?5:t<qee?6:t<Vee?7:t<Wee?8:t<Kee?9:10},Yee={encode:$ee,decode:Lee,encodingLength:Gee},HO=Yee;const S_=(t,e,n=0)=>(HO.encode(t,e,n),e),x_=t=>HO.encodingLength(t),i2=(t,e)=>{const n=e.byteLength,s=x_(t),i=s+x_(n),a=new Uint8Array(i+n);return S_(t,a,0),S_(n,a,s),a.set(e,i),new Xee(t,n,e,a)};class Xee{constructor(e,n,s,i){this.code=e,this.size=n,this.digest=s,this.bytes=i}}const FO=({name:t,code:e,encode:n})=>new Qee(t,e,n);class Qee{constructor(e,n,s){this.name=e,this.code=n,this.encode=s}digest(e){if(e instanceof Uint8Array){const n=this.encode(e);return n instanceof Uint8Array?i2(this.code,n):n.then(s=>i2(this.code,s))}else throw Error("Unknown type, must be binary type")}}const qO=t=>async e=>new Uint8Array(await crypto.subtle.digest(t,e)),Zee=FO({name:"sha2-256",code:18,encode:qO("SHA-256")}),Jee=FO({name:"sha2-512",code:19,encode:qO("SHA-512")});var ete=Object.freeze({__proto__:null,sha256:Zee,sha512:Jee});const VO=0,tte="identity",WO=kO,nte=t=>i2(VO,WO(t)),ste={code:VO,name:tte,encode:WO,digest:nte};var ite=Object.freeze({__proto__:null,identity:ste});new TextEncoder,new TextDecoder;const N_={...QJ,...JJ,...tee,...see,...oee,...mee,...bee,...Aee,...Tee,...Ree};({...ete,...ite});function KO(t){return globalThis.Buffer!=null?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):t}function rte(t=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?KO(globalThis.Buffer.allocUnsafe(t)):new Uint8Array(t)}function GO(t,e,n,s){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:n},decoder:{decode:s}}}const T_=GO("utf8","u",t=>"u"+new TextDecoder("utf8").decode(t),t=>new TextEncoder().encode(t.substring(1))),Cb=GO("ascii","a",t=>{let e="a";for(let n=0;n<t.length;n++)e+=String.fromCharCode(t[n]);return e},t=>{t=t.substring(1);const e=rte(t.length);for(let n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}),ote={utf8:T_,"utf-8":T_,hex:N_.base16,latin1:Cb,ascii:Cb,binary:Cb,...N_};function ate(t,e="utf8"){const n=ote[e];if(!n)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?KO(globalThis.Buffer.from(t,"utf-8")):n.decoder.decode(`${n.prefix}${t}`)}var cte=Object.defineProperty,lte=(t,e,n)=>e in t?cte(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,hr=(t,e,n)=>lte(t,typeof e!="symbol"?e+"":e,n);let ute=class{constructor(e,n){this.core=e,this.logger=n,hr(this,"keychain",new Map),hr(this,"name",uJ),hr(this,"version",fJ),hr(this,"initialized",!1),hr(this,"storagePrefix",Dr),hr(this,"init",async()=>{if(!this.initialized){const s=await this.getKeyChain();typeof s<"u"&&(this.keychain=s),this.initialized=!0}}),hr(this,"has",s=>(this.isInitialized(),this.keychain.has(s))),hr(this,"set",async(s,i)=>{this.isInitialized(),this.keychain.set(s,i),await this.persist()}),hr(this,"get",s=>{this.isInitialized();const i=this.keychain.get(s);if(typeof i>"u"){const{message:a}=ye("NO_MATCHING_KEY",`${this.name}: ${s}`);throw new Error(a)}return i}),hr(this,"del",async s=>{this.isInitialized(),this.keychain.delete(s),await this.persist()}),this.core=e,this.logger=is(n,this.name)}get context(){return Is(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}async setKeyChain(e){await this.core.storage.setItem(this.storageKey,Hv(e))}async getKeyChain(){const e=await this.core.storage.getItem(this.storageKey);return typeof e<"u"?Fv(e):void 0}async persist(){await this.setKeyChain(this.keychain)}isInitialized(){if(!this.initialized){const{message:e}=ye("NOT_INITIALIZED",this.name);throw new Error(e)}}};var fte=Object.defineProperty,dte=(t,e,n)=>e in t?fte(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Dn=(t,e,n)=>dte(t,typeof e!="symbol"?e+"":e,n);class hte{constructor(e,n,s){this.core=e,this.logger=n,Dn(this,"name",cJ),Dn(this,"keychain"),Dn(this,"randomSessionIdentifier",Jv()),Dn(this,"initialized",!1),Dn(this,"init",async()=>{this.initialized||(await this.keychain.init(),this.initialized=!0)}),Dn(this,"hasKeys",i=>(this.isInitialized(),this.keychain.has(i))),Dn(this,"getClientId",async()=>{this.isInitialized();const i=await this.getClientSeed(),a=QN(i);return sD(a.publicKey)}),Dn(this,"generateKeyPair",()=>{this.isInitialized();const i=xQ();return this.setPrivateKey(i.publicKey,i.privateKey)}),Dn(this,"signJWT",async i=>{this.isInitialized();const a=await this.getClientSeed(),c=QN(a),u=this.randomSessionIdentifier;return await DV(u,i,lJ,c)}),Dn(this,"generateSharedKey",(i,a,c)=>{this.isInitialized();const u=this.getPrivateKey(i),f=NQ(u,a);return this.setSymKey(f,c)}),Dn(this,"setSymKey",async(i,a)=>{this.isInitialized();const c=a||k0(i);return await this.keychain.set(c,i),c}),Dn(this,"deleteKeyPair",async i=>{this.isInitialized(),await this.keychain.del(i)}),Dn(this,"deleteSymKey",async i=>{this.isInitialized(),await this.keychain.del(i)}),Dn(this,"encode",async(i,a,c)=>{this.isInitialized();const u=xO(c),f=So(a);if(JT(u))return IQ(f,c?.encoding);if(ZT(u)){const y=u.senderPublicKey,b=u.receiverPublicKey;i=await this.generateSharedKey(y,b)}const h=this.getSymKey(i),{type:p,senderPublicKey:g}=u;return TQ({type:p,symKey:h,message:f,senderPublicKey:g,encoding:c?.encoding})}),Dn(this,"decode",async(i,a,c)=>{this.isInitialized();const u=OQ(a,c);if(JT(u)){const f=DQ(a,c?.encoding);return Xc(f)}if(ZT(u)){const f=u.receiverPublicKey,h=u.senderPublicKey;i=await this.generateSharedKey(f,h)}try{const f=this.getSymKey(i),h=_Q({symKey:f,encoded:a,encoding:c?.encoding});return Xc(h)}catch(f){this.logger.error(`Failed to decode message from topic: '${i}', clientId: '${await this.getClientId()}'`),this.logger.error(f)}}),Dn(this,"getPayloadType",(i,a=Ki)=>{const c=Dh({encoded:i,encoding:a});return Zc(c.type)}),Dn(this,"getPayloadSenderPublicKey",(i,a=Ki)=>{const c=Dh({encoded:i,encoding:a});return c.senderPublicKey?Ts(c.senderPublicKey,ss):void 0}),this.core=e,this.logger=is(n,this.name),this.keychain=s||new ute(this.core,this.logger)}get context(){return Is(this.logger)}async setPrivateKey(e,n){return await this.keychain.set(e,n),e}getPrivateKey(e){return this.keychain.get(e)}async getClientSeed(){let e="";try{e=this.keychain.get(b_)}catch{e=Jv(),await this.keychain.set(b_,e)}return ate(e,"base16")}getSymKey(e){return this.keychain.get(e)}isInitialized(){if(!this.initialized){const{message:e}=ye("NOT_INITIALIZED",this.name);throw new Error(e)}}}var pte=Object.defineProperty,gte=Object.defineProperties,mte=Object.getOwnPropertyDescriptors,__=Object.getOwnPropertySymbols,yte=Object.prototype.hasOwnProperty,wte=Object.prototype.propertyIsEnumerable,r2=(t,e,n)=>e in t?pte(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,bte=(t,e)=>{for(var n in e||(e={}))yte.call(e,n)&&r2(t,n,e[n]);if(__)for(var n of __(e))wte.call(e,n)&&r2(t,n,e[n]);return t},vte=(t,e)=>gte(t,mte(e)),js=(t,e,n)=>r2(t,typeof e!="symbol"?e+"":e,n);class Ete extends _H{constructor(e,n){super(e,n),this.logger=e,this.core=n,js(this,"messages",new Map),js(this,"messagesWithoutClientAck",new Map),js(this,"name",dJ),js(this,"version",hJ),js(this,"initialized",!1),js(this,"storagePrefix",Dr),js(this,"init",async()=>{if(!this.initialized){this.logger.trace("Initialized");try{const s=await this.getRelayerMessages();typeof s<"u"&&(this.messages=s);const i=await this.getRelayerMessagesWithoutClientAck();typeof i<"u"&&(this.messagesWithoutClientAck=i),this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",size:this.messages.size})}catch(s){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(s)}finally{this.initialized=!0}}}),js(this,"set",async(s,i,a)=>{this.isInitialized();const c=br(i);let u=this.messages.get(s);if(typeof u>"u"&&(u={}),typeof u[c]<"u")return c;if(u[c]=i,this.messages.set(s,u),a===B0.inbound){const f=this.messagesWithoutClientAck.get(s)||{};this.messagesWithoutClientAck.set(s,vte(bte({},f),{[c]:i}))}return await this.persist(),c}),js(this,"get",s=>{this.isInitialized();let i=this.messages.get(s);return typeof i>"u"&&(i={}),i}),js(this,"getWithoutAck",s=>{this.isInitialized();const i={};for(const a of s){const c=this.messagesWithoutClientAck.get(a)||{};i[a]=Object.values(c)}return i}),js(this,"has",(s,i)=>{this.isInitialized();const a=this.get(s),c=br(i);return typeof a[c]<"u"}),js(this,"ack",async(s,i)=>{this.isInitialized();const a=this.messagesWithoutClientAck.get(s);if(typeof a>"u")return;const c=br(i);delete a[c],Object.keys(a).length===0?this.messagesWithoutClientAck.delete(s):this.messagesWithoutClientAck.set(s,a),await this.persist()}),js(this,"del",async s=>{this.isInitialized(),this.messages.delete(s),this.messagesWithoutClientAck.delete(s),await this.persist()}),this.logger=is(e,this.name),this.core=n}get context(){return Is(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get storageKeyWithoutClientAck(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name+"_withoutClientAck"}async setRelayerMessages(e){await this.core.storage.setItem(this.storageKey,Hv(e))}async setRelayerMessagesWithoutClientAck(e){await this.core.storage.setItem(this.storageKeyWithoutClientAck,Hv(e))}async getRelayerMessages(){const e=await this.core.storage.getItem(this.storageKey);return typeof e<"u"?Fv(e):void 0}async getRelayerMessagesWithoutClientAck(){const e=await this.core.storage.getItem(this.storageKeyWithoutClientAck);return typeof e<"u"?Fv(e):void 0}async persist(){await this.setRelayerMessages(this.messages),await this.setRelayerMessagesWithoutClientAck(this.messagesWithoutClientAck)}isInitialized(){if(!this.initialized){const{message:e}=ye("NOT_INITIALIZED",this.name);throw new Error(e)}}}var Ate=Object.defineProperty,Cte=Object.defineProperties,Ste=Object.getOwnPropertyDescriptors,I_=Object.getOwnPropertySymbols,xte=Object.prototype.hasOwnProperty,Nte=Object.prototype.propertyIsEnumerable,o2=(t,e,n)=>e in t?Ate(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,p0=(t,e)=>{for(var n in e||(e={}))xte.call(e,n)&&o2(t,n,e[n]);if(I_)for(var n of I_(e))Nte.call(e,n)&&o2(t,n,e[n]);return t},Sb=(t,e)=>Cte(t,Ste(e)),zi=(t,e,n)=>o2(t,typeof e!="symbol"?e+"":e,n);class Tte extends IH{constructor(e,n){super(e,n),this.relayer=e,this.logger=n,zi(this,"events",new Ti.EventEmitter),zi(this,"name",pJ),zi(this,"queue",new Map),zi(this,"publishTimeout",we.toMiliseconds(we.ONE_MINUTE)),zi(this,"initialPublishTimeout",we.toMiliseconds(we.ONE_SECOND*15)),zi(this,"needsTransportRestart",!1),zi(this,"publish",async(s,i,a)=>{var c;this.logger.debug("Publishing Payload"),this.logger.trace({type:"method",method:"publish",params:{topic:s,message:i,opts:a}});const u=a?.ttl||v_,f=mm(a),h=a?.prompt||!1,p=a?.tag||0,g=a?.id||jc().toString(),y={topic:s,message:i,opts:{ttl:u,relay:f,prompt:h,tag:p,id:g,attestation:a?.attestation,tvf:a?.tvf}},b=`Failed to publish payload, please try again. id:${g} tag:${p}`;try{const v=new Promise(async E=>{const A=({id:D})=>{y.opts.id===D&&(this.removeRequestFromQueue(D),this.relayer.events.removeListener(vn.publish,A),E(y))};this.relayer.events.on(vn.publish,A);const S=_a(new Promise((D,x)=>{this.rpcPublish({topic:s,message:i,ttl:u,prompt:h,tag:p,id:g,attestation:a?.attestation,tvf:a?.tvf}).then(D).catch(N=>{this.logger.warn(N,N?.message),x(N)})}),this.initialPublishTimeout,`Failed initial publish, retrying.... id:${g} tag:${p}`);try{await S,this.events.removeListener(vn.publish,A)}catch(D){this.queue.set(g,Sb(p0({},y),{attempt:1})),this.logger.warn(D,D?.message)}});this.logger.trace({type:"method",method:"publish",params:{id:g,topic:s,message:i,opts:a}}),await _a(v,this.publishTimeout,b)}catch(v){if(this.logger.debug("Failed to Publish Payload"),this.logger.error(v),(c=a?.internal)!=null&&c.throwOnFailedPublish)throw v}finally{this.queue.delete(g)}}),zi(this,"on",(s,i)=>{this.events.on(s,i)}),zi(this,"once",(s,i)=>{this.events.once(s,i)}),zi(this,"off",(s,i)=>{this.events.off(s,i)}),zi(this,"removeListener",(s,i)=>{this.events.removeListener(s,i)}),this.relayer=e,this.logger=is(n,this.name),this.registerEventListeners()}get context(){return Is(this.logger)}async rpcPublish(e){var n,s,i,a;const{topic:c,message:u,ttl:f=v_,prompt:h,tag:p,id:g,attestation:y,tvf:b}=e,v={method:Hd(mm().protocol).publish,params:p0({topic:c,message:u,ttl:f,prompt:h,tag:p,attestation:y},b),id:g};$n((n=v.params)==null?void 0:n.prompt)&&((s=v.params)==null||delete s.prompt),$n((i=v.params)==null?void 0:i.tag)&&((a=v.params)==null||delete a.tag),this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"message",direction:"outgoing",request:v});const E=await this.relayer.request(v);return this.relayer.events.emit(vn.publish,e),this.logger.debug("Successfully Published Payload"),E}removeRequestFromQueue(e){this.queue.delete(e)}checkQueue(){this.queue.forEach(async(e,n)=>{const s=e.attempt+1;this.queue.set(n,Sb(p0({},e),{attempt:s}));const{topic:i,message:a,opts:c,attestation:u}=e;this.logger.warn({},`Publisher: queue->publishing: ${e.opts.id}, tag: ${e.opts.tag}, attempt: ${s}`),await this.rpcPublish(Sb(p0({},e),{topic:i,message:a,ttl:c.ttl,prompt:c.prompt,tag:c.tag,id:c.id,attestation:u,tvf:c.tvf})),this.logger.warn({},`Publisher: queue->published: ${e.opts.id}`)})}registerEventListeners(){this.relayer.core.heartbeat.on(il.pulse,()=>{if(this.needsTransportRestart){this.needsTransportRestart=!1,this.relayer.events.emit(vn.connection_stalled);return}this.checkQueue()}),this.relayer.on(vn.message_ack,e=>{this.removeRequestFromQueue(e.id.toString())})}}var _te=Object.defineProperty,Ite=(t,e,n)=>e in t?_te(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,cu=(t,e,n)=>Ite(t,typeof e!="symbol"?e+"":e,n);class Dte{constructor(){cu(this,"map",new Map),cu(this,"set",(e,n)=>{const s=this.get(e);this.exists(e,n)||this.map.set(e,[...s,n])}),cu(this,"get",e=>this.map.get(e)||[]),cu(this,"exists",(e,n)=>this.get(e).includes(n)),cu(this,"delete",(e,n)=>{if(typeof n>"u"){this.map.delete(e);return}if(!this.map.has(e))return;const s=this.get(e);if(!this.exists(e,n))return;const i=s.filter(a=>a!==n);if(!i.length){this.map.delete(e);return}this.map.set(e,i)}),cu(this,"clear",()=>{this.map.clear()})}get topics(){return Array.from(this.map.keys())}}var Ote=Object.defineProperty,Mte=Object.defineProperties,Rte=Object.getOwnPropertyDescriptors,D_=Object.getOwnPropertySymbols,$te=Object.prototype.hasOwnProperty,Ute=Object.prototype.propertyIsEnumerable,a2=(t,e,n)=>e in t?Ote(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Md=(t,e)=>{for(var n in e||(e={}))$te.call(e,n)&&a2(t,n,e[n]);if(D_)for(var n of D_(e))Ute.call(e,n)&&a2(t,n,e[n]);return t},xb=(t,e)=>Mte(t,Rte(e)),_t=(t,e,n)=>a2(t,typeof e!="symbol"?e+"":e,n);class Pte extends MH{constructor(e,n){super(e,n),this.relayer=e,this.logger=n,_t(this,"subscriptions",new Map),_t(this,"topicMap",new Dte),_t(this,"events",new Ti.EventEmitter),_t(this,"name",EJ),_t(this,"version",AJ),_t(this,"pending",new Map),_t(this,"cached",[]),_t(this,"initialized",!1),_t(this,"storagePrefix",Dr),_t(this,"subscribeTimeout",we.toMiliseconds(we.ONE_MINUTE)),_t(this,"initialSubscribeTimeout",we.toMiliseconds(we.ONE_SECOND*15)),_t(this,"clientId"),_t(this,"batchSubscribeTopicsLimit",500),_t(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),this.registerEventListeners(),await this.restore()),this.initialized=!0}),_t(this,"subscribe",async(s,i)=>{this.isInitialized(),this.logger.debug("Subscribing Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:s,opts:i}});try{const a=mm(i),c={topic:s,relay:a,transportType:i?.transportType};this.pending.set(s,c);const u=await this.rpcSubscribe(s,a,i);return typeof u=="string"&&(this.onSubscribe(u,c),this.logger.debug("Successfully Subscribed Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:s,opts:i}})),u}catch(a){throw this.logger.debug("Failed to Subscribe Topic"),this.logger.error(a),a}}),_t(this,"unsubscribe",async(s,i)=>{this.isInitialized(),typeof i?.id<"u"?await this.unsubscribeById(s,i.id,i):await this.unsubscribeByTopic(s,i)}),_t(this,"isSubscribed",s=>new Promise(i=>{i(this.topicMap.topics.includes(s))})),_t(this,"isKnownTopic",s=>new Promise(i=>{i(this.topicMap.topics.includes(s)||this.pending.has(s)||this.cached.some(a=>a.topic===s))})),_t(this,"on",(s,i)=>{this.events.on(s,i)}),_t(this,"once",(s,i)=>{this.events.once(s,i)}),_t(this,"off",(s,i)=>{this.events.off(s,i)}),_t(this,"removeListener",(s,i)=>{this.events.removeListener(s,i)}),_t(this,"start",async()=>{await this.onConnect()}),_t(this,"stop",async()=>{await this.onDisconnect()}),_t(this,"restart",async()=>{await this.restore(),await this.onRestart()}),_t(this,"checkPending",async()=>{if(this.pending.size===0&&(!this.initialized||!this.relayer.connected))return;const s=[];this.pending.forEach(i=>{s.push(i)}),await this.batchSubscribe(s)}),_t(this,"registerEventListeners",()=>{this.relayer.core.heartbeat.on(il.pulse,async()=>{await this.checkPending()}),this.events.on(Hs.created,async s=>{const i=Hs.created;this.logger.info(`Emitting ${i}`),this.logger.debug({type:"event",event:i,data:s}),await this.persist()}),this.events.on(Hs.deleted,async s=>{const i=Hs.deleted;this.logger.info(`Emitting ${i}`),this.logger.debug({type:"event",event:i,data:s}),await this.persist()})}),this.relayer=e,this.logger=is(n,this.name),this.clientId=""}get context(){return Is(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.relayer.core.customStoragePrefix+"//"+this.name}get length(){return this.subscriptions.size}get ids(){return Array.from(this.subscriptions.keys())}get values(){return Array.from(this.subscriptions.values())}get topics(){return this.topicMap.topics}get hasAnyTopics(){return this.topicMap.topics.length>0||this.pending.size>0||this.cached.length>0||this.subscriptions.size>0}hasSubscription(e,n){let s=!1;try{s=this.getSubscription(e).topic===n}catch{}return s}reset(){this.cached=[],this.initialized=!0}onDisable(){this.values.length>0&&(this.cached=this.values),this.subscriptions.clear(),this.topicMap.clear()}async unsubscribeByTopic(e,n){const s=this.topicMap.get(e);await Promise.all(s.map(async i=>await this.unsubscribeById(e,i,n)))}async unsubscribeById(e,n,s){this.logger.debug("Unsubscribing Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:e,id:n,opts:s}});try{const i=mm(s);await this.restartToComplete({topic:e,id:n,relay:i}),await this.rpcUnsubscribe(e,n,i);const a=jt("USER_DISCONNECTED",`${this.name}, ${e}`);await this.onUnsubscribe(e,n,a),this.logger.debug("Successfully Unsubscribed Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:e,id:n,opts:s}})}catch(i){throw this.logger.debug("Failed to Unsubscribe Topic"),this.logger.error(i),i}}async rpcSubscribe(e,n,s){var i;(!s||s?.transportType===Lt.relay)&&await this.restartToComplete({topic:e,id:e,relay:n});const a={method:Hd(n.protocol).subscribe,params:{topic:e}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:a});const c=(i=s?.internal)==null?void 0:i.throwOnFailedPublish;try{const u=await this.getSubscriptionId(e);if(s?.transportType===Lt.link_mode)return setTimeout(()=>{(this.relayer.connected||this.relayer.connecting)&&this.relayer.request(a).catch(p=>this.logger.warn(p))},we.toMiliseconds(we.ONE_SECOND)),u;const f=new Promise(async p=>{const g=y=>{y.topic===e&&(this.events.removeListener(Hs.created,g),p(y.id))};this.events.on(Hs.created,g);try{const y=await _a(new Promise((b,v)=>{this.relayer.request(a).catch(E=>{this.logger.warn(E,E?.message),v(E)}).then(b)}),this.initialSubscribeTimeout,`Subscribing to ${e} failed, please try again`);this.events.removeListener(Hs.created,g),p(y)}catch{}}),h=await _a(f,this.subscribeTimeout,`Subscribing to ${e} failed, please try again`);if(!h&&c)throw new Error(`Subscribing to ${e} failed, please try again`);return h?u:null}catch(u){if(this.logger.debug("Outgoing Relay Subscribe Payload stalled"),this.relayer.events.emit(vn.connection_stalled),c)throw u}return null}async rpcBatchSubscribe(e){if(!e.length)return;const n=e[0].relay,s={method:Hd(n.protocol).batchSubscribe,params:{topics:e.map(i=>i.topic)}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:s});try{await await _a(new Promise(i=>{this.relayer.request(s).catch(a=>this.logger.warn(a)).then(i)}),this.subscribeTimeout,"rpcBatchSubscribe failed, please try again")}catch{this.relayer.events.emit(vn.connection_stalled)}}async rpcBatchFetchMessages(e){if(!e.length)return;const n=e[0].relay,s={method:Hd(n.protocol).batchFetchMessages,params:{topics:e.map(a=>a.topic)}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:s});let i;try{i=await await _a(new Promise((a,c)=>{this.relayer.request(s).catch(u=>{this.logger.warn(u),c(u)}).then(a)}),this.subscribeTimeout,"rpcBatchFetchMessages failed, please try again")}catch{this.relayer.events.emit(vn.connection_stalled)}return i}rpcUnsubscribe(e,n,s){const i={method:Hd(s.protocol).unsubscribe,params:{topic:e,id:n}};return this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:i}),this.relayer.request(i)}onSubscribe(e,n){this.setSubscription(e,xb(Md({},n),{id:e})),this.pending.delete(n.topic)}onBatchSubscribe(e){e.length&&e.forEach(n=>{this.setSubscription(n.id,Md({},n)),this.pending.delete(n.topic)})}async onUnsubscribe(e,n,s){this.events.removeAllListeners(n),this.hasSubscription(n,e)&&this.deleteSubscription(n,s),await this.relayer.messages.del(e)}async setRelayerSubscriptions(e){await this.relayer.core.storage.setItem(this.storageKey,e)}async getRelayerSubscriptions(){return await this.relayer.core.storage.getItem(this.storageKey)}setSubscription(e,n){this.logger.debug("Setting subscription"),this.logger.trace({type:"method",method:"setSubscription",id:e,subscription:n}),this.addSubscription(e,n)}addSubscription(e,n){this.subscriptions.set(e,Md({},n)),this.topicMap.set(n.topic,e),this.events.emit(Hs.created,n)}getSubscription(e){this.logger.debug("Getting subscription"),this.logger.trace({type:"method",method:"getSubscription",id:e});const n=this.subscriptions.get(e);if(!n){const{message:s}=ye("NO_MATCHING_KEY",`${this.name}: ${e}`);throw new Error(s)}return n}deleteSubscription(e,n){this.logger.debug("Deleting subscription"),this.logger.trace({type:"method",method:"deleteSubscription",id:e,reason:n});const s=this.getSubscription(e);this.subscriptions.delete(e),this.topicMap.delete(s.topic,e),this.events.emit(Hs.deleted,xb(Md({},s),{reason:n}))}async persist(){await this.setRelayerSubscriptions(this.values),this.events.emit(Hs.sync)}async onRestart(){if(this.cached.length){const e=[...this.cached],n=Math.ceil(this.cached.length/this.batchSubscribeTopicsLimit);for(let s=0;s<n;s++){const i=e.splice(0,this.batchSubscribeTopicsLimit);await this.batchSubscribe(i)}}this.events.emit(Hs.resubscribed)}async restore(){try{const e=await this.getRelayerSubscriptions();if(typeof e>"u"||!e.length)return;if(this.subscriptions.size){const{message:n}=ye("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(n),this.logger.error(`${this.name}: ${JSON.stringify(this.values)}`),new Error(n)}this.cached=e,this.logger.debug(`Successfully Restored subscriptions for ${this.name}`),this.logger.trace({type:"method",method:"restore",subscriptions:this.values})}catch(e){this.logger.debug(`Failed to Restore subscriptions for ${this.name}`),this.logger.error(e)}}async batchSubscribe(e){e.length&&(await this.rpcBatchSubscribe(e),this.onBatchSubscribe(await Promise.all(e.map(async n=>xb(Md({},n),{id:await this.getSubscriptionId(n.topic)})))))}async batchFetchMessages(e){if(!e.length)return;this.logger.trace(`Fetching batch messages for ${e.length} subscriptions`);const n=await this.rpcBatchFetchMessages(e);n&&n.messages&&(await KG(we.toMiliseconds(we.ONE_SECOND)),await this.relayer.handleBatchMessageEvents(n.messages))}async onConnect(){await this.restart(),this.reset()}onDisconnect(){this.onDisable()}isInitialized(){if(!this.initialized){const{message:e}=ye("NOT_INITIALIZED",this.name);throw new Error(e)}}async restartToComplete(e){!this.relayer.connected&&!this.relayer.connecting&&(this.cached.push(e),await this.relayer.transportOpen())}async getClientId(){return this.clientId||(this.clientId=await this.relayer.core.crypto.getClientId()),this.clientId}async getSubscriptionId(e){return br(e+await this.getClientId())}}var Lte=Object.defineProperty,O_=Object.getOwnPropertySymbols,kte=Object.prototype.hasOwnProperty,Bte=Object.prototype.propertyIsEnumerable,c2=(t,e,n)=>e in t?Lte(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,M_=(t,e)=>{for(var n in e||(e={}))kte.call(e,n)&&c2(t,n,e[n]);if(O_)for(var n of O_(e))Bte.call(e,n)&&c2(t,n,e[n]);return t},ot=(t,e,n)=>c2(t,typeof e!="symbol"?e+"":e,n);class jte extends DH{constructor(e){super(e),ot(this,"protocol","wc"),ot(this,"version",2),ot(this,"core"),ot(this,"logger"),ot(this,"events",new Ti.EventEmitter),ot(this,"provider"),ot(this,"messages"),ot(this,"subscriber"),ot(this,"publisher"),ot(this,"name",mJ),ot(this,"transportExplicitlyClosed",!1),ot(this,"initialized",!1),ot(this,"connectionAttemptInProgress",!1),ot(this,"relayUrl"),ot(this,"projectId"),ot(this,"packageName"),ot(this,"bundleId"),ot(this,"hasExperiencedNetworkDisruption",!1),ot(this,"pingTimeout"),ot(this,"heartBeatTimeout",we.toMiliseconds(we.THIRTY_SECONDS+we.FIVE_SECONDS)),ot(this,"reconnectTimeout"),ot(this,"connectPromise"),ot(this,"reconnectInProgress",!1),ot(this,"requestsInFlight",[]),ot(this,"connectTimeout",we.toMiliseconds(we.ONE_SECOND*15)),ot(this,"request",async n=>{var s,i;this.logger.debug("Publishing Request Payload");const a=n.id||jc().toString();await this.toEstablishConnection();try{this.logger.trace({id:a,method:n.method,topic:(s=n.params)==null?void 0:s.topic},"relayer.request - publishing...");const c=`${a}:${((i=n.params)==null?void 0:i.tag)||""}`;this.requestsInFlight.push(c);const u=await this.provider.request(n);return this.requestsInFlight=this.requestsInFlight.filter(f=>f!==c),u}catch(c){throw this.logger.debug(`Failed to Publish Request: ${a}`),c}}),ot(this,"resetPingTimeout",()=>{dm()&&(clearTimeout(this.pingTimeout),this.pingTimeout=setTimeout(()=>{var n,s,i,a;try{this.logger.debug({},"pingTimeout: Connection stalled, terminating..."),(a=(i=(s=(n=this.provider)==null?void 0:n.connection)==null?void 0:s.socket)==null?void 0:i.terminate)==null||a.call(i)}catch(c){this.logger.warn(c,c?.message)}},this.heartBeatTimeout))}),ot(this,"onPayloadHandler",n=>{this.onProviderPayload(n),this.resetPingTimeout()}),ot(this,"onConnectHandler",()=>{this.logger.warn({},"Relayer connected 🛜"),this.startPingTimeout(),this.events.emit(vn.connect)}),ot(this,"onDisconnectHandler",()=>{this.logger.warn({},"Relayer disconnected 🛑"),this.requestsInFlight=[],this.onProviderDisconnect()}),ot(this,"onProviderErrorHandler",n=>{this.logger.fatal(`Fatal socket error: ${n.message}`),this.events.emit(vn.error,n),this.logger.fatal("Fatal socket error received, closing transport"),this.transportClose()}),ot(this,"registerProviderListeners",()=>{this.provider.on(hi.payload,this.onPayloadHandler),this.provider.on(hi.connect,this.onConnectHandler),this.provider.on(hi.disconnect,this.onDisconnectHandler),this.provider.on(hi.error,this.onProviderErrorHandler)}),this.core=e.core,this.logger=typeof e.logger<"u"&&typeof e.logger!="string"?is(e.logger,this.name):dp(pp({level:e.logger||gJ})),this.messages=new Ete(this.logger,e.core),this.subscriber=new Pte(this,this.logger),this.publisher=new Tte(this,this.logger),this.relayUrl=e?.relayUrl||PO,this.projectId=e.projectId,OG()?this.packageName=vT():MG()&&(this.bundleId=vT()),this.provider={}}async init(){this.logger.trace("Initialized"),this.registerEventListeners(),await Promise.all([this.messages.init(),this.subscriber.init()]),this.initialized=!0,this.transportOpen().catch(e=>this.logger.warn(e,e?.message))}get context(){return Is(this.logger)}get connected(){var e,n,s;return((s=(n=(e=this.provider)==null?void 0:e.connection)==null?void 0:n.socket)==null?void 0:s.readyState)===1||!1}get connecting(){var e,n,s;return((s=(n=(e=this.provider)==null?void 0:e.connection)==null?void 0:n.socket)==null?void 0:s.readyState)===0||this.connectPromise!==void 0||!1}async publish(e,n,s){this.isInitialized(),await this.publisher.publish(e,n,s),await this.recordMessageEvent({topic:e,message:n,publishedAt:Date.now(),transportType:Lt.relay},B0.outbound)}async subscribe(e,n){var s,i,a;this.isInitialized(),(!(n!=null&&n.transportType)||n?.transportType==="relay")&&await this.toEstablishConnection();const c=typeof((s=n?.internal)==null?void 0:s.throwOnFailedPublish)>"u"?!0:(i=n?.internal)==null?void 0:i.throwOnFailedPublish;let u=((a=this.subscriber.topicMap.get(e))==null?void 0:a[0])||"",f;const h=p=>{p.topic===e&&(this.subscriber.off(Hs.created,h),f())};return await Promise.all([new Promise(p=>{f=p,this.subscriber.on(Hs.created,h)}),new Promise(async(p,g)=>{u=await this.subscriber.subscribe(e,M_({internal:{throwOnFailedPublish:c}},n)).catch(y=>{c&&g(y)})||u,p()})]),u}async unsubscribe(e,n){this.isInitialized(),await this.subscriber.unsubscribe(e,n)}on(e,n){this.events.on(e,n)}once(e,n){this.events.once(e,n)}off(e,n){this.events.off(e,n)}removeListener(e,n){this.events.removeListener(e,n)}async transportDisconnect(){this.provider.disconnect&&(this.hasExperiencedNetworkDisruption||this.connected)?await _a(this.provider.disconnect(),2e3,"provider.disconnect()").catch(()=>this.onProviderDisconnect()):this.onProviderDisconnect()}async transportClose(){this.transportExplicitlyClosed=!0,await this.transportDisconnect()}async transportOpen(e){if(!this.subscriber.hasAnyTopics){this.logger.info("Starting WS connection skipped because the client has no topics to work with.");return}if(this.connectPromise?(this.logger.debug({},"Waiting for existing connection attempt to resolve..."),await this.connectPromise,this.logger.debug({},"Existing connection attempt resolved")):(this.connectPromise=new Promise(async(n,s)=>{await this.connect(e).then(n).catch(s).finally(()=>{this.connectPromise=void 0})}),await this.connectPromise),!this.connected)throw new Error(`Couldn't establish socket connection to the relay server: ${this.relayUrl}`)}async restartTransport(e){this.logger.debug({},"Restarting transport..."),!this.connectionAttemptInProgress&&(this.relayUrl=e||this.relayUrl,await this.confirmOnlineStateOrThrow(),await this.transportClose(),await this.transportOpen())}async confirmOnlineStateOrThrow(){if(!await u_())throw new Error("No internet connection detected. Please restart your network and try again.")}async handleBatchMessageEvents(e){if(e?.length===0){this.logger.trace("Batch message events is empty. Ignoring...");return}const n=e.sort((s,i)=>s.publishedAt-i.publishedAt);this.logger.debug(`Batch of ${n.length} message events sorted`);for(const s of n)try{await this.onMessageEvent(s)}catch(i){this.logger.warn(i,"Error while processing batch message event: "+i?.message)}this.logger.trace(`Batch of ${n.length} message events processed`)}async onLinkMessageEvent(e,n){const{topic:s}=e;if(!n.sessionExists){const i=dn(we.FIVE_MINUTES),a={topic:s,expiry:i,relay:{protocol:"irn"},active:!1};await this.core.pairing.pairings.set(s,a)}this.events.emit(vn.message,e),await this.recordMessageEvent(e,B0.inbound)}async connect(e){await this.confirmOnlineStateOrThrow(),e&&e!==this.relayUrl&&(this.relayUrl=e,await this.transportDisconnect()),this.connectionAttemptInProgress=!0,this.transportExplicitlyClosed=!1;let n=1;for(;n<6;){try{if(this.transportExplicitlyClosed)break;this.logger.debug({},`Connecting to ${this.relayUrl}, attempt: ${n}...`),await this.createProvider(),await new Promise(async(s,i)=>{const a=()=>{i(new Error("Connection interrupted while trying to connect"))};this.provider.once(hi.disconnect,a),await _a(new Promise((c,u)=>{this.provider.connect().then(c).catch(u)}),this.connectTimeout,`Socket stalled when trying to connect to ${this.relayUrl}`).catch(c=>{i(c)}).finally(()=>{this.provider.off(hi.disconnect,a),clearTimeout(this.reconnectTimeout)}),await new Promise(async(c,u)=>{const f=()=>{i(new Error("Connection interrupted while trying to subscribe"))};this.provider.once(hi.disconnect,f),await this.subscriber.start().then(c).catch(u).finally(()=>{this.provider.off(hi.disconnect,f)})}),this.hasExperiencedNetworkDisruption=!1,s()})}catch(s){await this.subscriber.stop();const i=s;this.logger.warn({},i.message),this.hasExperiencedNetworkDisruption=!0}finally{this.connectionAttemptInProgress=!1}if(this.connected){this.logger.debug({},`Connected to ${this.relayUrl} successfully on attempt: ${n}`);break}await new Promise(s=>setTimeout(s,we.toMiliseconds(n*1))),n++}}startPingTimeout(){var e,n,s,i,a;if(dm())try{(n=(e=this.provider)==null?void 0:e.connection)!=null&&n.socket&&((a=(i=(s=this.provider)==null?void 0:s.connection)==null?void 0:i.socket)==null||a.on("ping",()=>{this.resetPingTimeout()})),this.resetPingTimeout()}catch(c){this.logger.warn(c,c?.message)}}async createProvider(){this.provider.connection&&this.unregisterProviderListeners();const e=await this.core.crypto.signJWT(this.relayUrl);this.provider=new _i(new iJ(LG({sdkVersion:n2,protocol:this.protocol,version:this.version,relayUrl:this.relayUrl,projectId:this.projectId,auth:e,useOnCloseEvent:!0,bundleId:this.bundleId,packageName:this.packageName}))),this.registerProviderListeners()}async recordMessageEvent(e,n){const{topic:s,message:i}=e;await this.messages.set(s,i,n)}async shouldIgnoreMessageEvent(e){const{topic:n,message:s}=e;if(!s||s.length===0)return this.logger.warn(`Ignoring invalid/empty message: ${s}`),!0;if(!await this.subscriber.isKnownTopic(n))return this.logger.warn(`Ignoring message for unknown topic ${n}`),!0;const i=this.messages.has(n,s);return i&&this.logger.warn(`Ignoring duplicate message: ${s}`),i}async onProviderPayload(e){if(this.logger.debug("Incoming Relay Payload"),this.logger.trace({type:"payload",direction:"incoming",payload:e}),eA(e)){if(!e.method.endsWith(yJ))return;const n=e.params,{topic:s,message:i,publishedAt:a,attestation:c}=n.data,u={topic:s,message:i,publishedAt:a,transportType:Lt.relay,attestation:c};this.logger.debug("Emitting Relayer Payload"),this.logger.trace(M_({type:"event",event:n.id},u)),this.events.emit(n.id,u),await this.acknowledgePayload(e),await this.onMessageEvent(u)}else Wm(e)&&this.events.emit(vn.message_ack,e)}async onMessageEvent(e){await this.shouldIgnoreMessageEvent(e)||(await this.recordMessageEvent(e,B0.inbound),this.events.emit(vn.message,e))}async acknowledgePayload(e){const n=qm(e.id,!0);await this.provider.connection.send(n)}unregisterProviderListeners(){this.provider.off(hi.payload,this.onPayloadHandler),this.provider.off(hi.connect,this.onConnectHandler),this.provider.off(hi.disconnect,this.onDisconnectHandler),this.provider.off(hi.error,this.onProviderErrorHandler),clearTimeout(this.pingTimeout)}async registerEventListeners(){let e=await u_();SZ(async n=>{e!==n&&(e=n,n?await this.transportOpen().catch(s=>this.logger.error(s,s?.message)):(this.hasExperiencedNetworkDisruption=!0,await this.transportDisconnect(),this.transportExplicitlyClosed=!1))}),this.core.heartbeat.on(il.pulse,async()=>{if(!this.transportExplicitlyClosed&&!this.connected&&TZ())try{await this.confirmOnlineStateOrThrow(),await this.transportOpen()}catch(n){this.logger.warn(n,n?.message)}})}async onProviderDisconnect(){clearTimeout(this.pingTimeout),this.events.emit(vn.disconnect),this.connectionAttemptInProgress=!1,!this.reconnectInProgress&&(this.reconnectInProgress=!0,await this.subscriber.stop(),this.subscriber.hasAnyTopics&&(this.transportExplicitlyClosed||(this.reconnectTimeout=setTimeout(async()=>{await this.transportOpen().catch(e=>this.logger.error(e,e?.message)),this.reconnectTimeout=void 0,this.reconnectInProgress=!1},we.toMiliseconds(wJ)))))}isInitialized(){if(!this.initialized){const{message:e}=ye("NOT_INITIALIZED",this.name);throw new Error(e)}}async toEstablishConnection(){if(await this.confirmOnlineStateOrThrow(),!this.connected){if(this.connectPromise){await this.connectPromise;return}await this.connect()}}}function zte(t,e){return t===e||Number.isNaN(t)&&Number.isNaN(e)}function R_(t){return Object.getOwnPropertySymbols(t).filter(e=>Object.prototype.propertyIsEnumerable.call(t,e))}function $_(t){return t==null?t===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(t)}const Hte="[object RegExp]",Fte="[object String]",qte="[object Number]",Vte="[object Boolean]",U_="[object Arguments]",Wte="[object Symbol]",Kte="[object Date]",Gte="[object Map]",Yte="[object Set]",Xte="[object Array]",Qte="[object Function]",Zte="[object ArrayBuffer]",Nb="[object Object]",Jte="[object Error]",ene="[object DataView]",tne="[object Uint8Array]",nne="[object Uint8ClampedArray]",sne="[object Uint16Array]",ine="[object Uint32Array]",rne="[object BigUint64Array]",one="[object Int8Array]",ane="[object Int16Array]",cne="[object Int32Array]",lne="[object BigInt64Array]",une="[object Float32Array]",fne="[object Float64Array]";function dne(){}function P_(t){if(!t||typeof t!="object")return!1;const e=Object.getPrototypeOf(t);return e===null||e===Object.prototype||Object.getPrototypeOf(e)===null?Object.prototype.toString.call(t)==="[object Object]":!1}function hne(t,e,n){return Fd(t,e,void 0,void 0,void 0,void 0,n)}function Fd(t,e,n,s,i,a,c){const u=c(t,e,n,s,i,a);if(u!==void 0)return u;if(typeof t==typeof e)switch(typeof t){case"bigint":case"string":case"boolean":case"symbol":case"undefined":return t===e;case"number":return t===e||Object.is(t,e);case"function":return t===e;case"object":return ah(t,e,a,c)}return ah(t,e,a,c)}function ah(t,e,n,s){if(Object.is(t,e))return!0;let i=$_(t),a=$_(e);if(i===U_&&(i=Nb),a===U_&&(a=Nb),i!==a)return!1;switch(i){case Fte:return t.toString()===e.toString();case qte:{const f=t.valueOf(),h=e.valueOf();return zte(f,h)}case Vte:case Kte:case Wte:return Object.is(t.valueOf(),e.valueOf());case Hte:return t.source===e.source&&t.flags===e.flags;case Qte:return t===e}n=n??new Map;const c=n.get(t),u=n.get(e);if(c!=null&&u!=null)return c===e;n.set(t,e),n.set(e,t);try{switch(i){case Gte:{if(t.size!==e.size)return!1;for(const[f,h]of t.entries())if(!e.has(f)||!Fd(h,e.get(f),f,t,e,n,s))return!1;return!0}case Yte:{if(t.size!==e.size)return!1;const f=Array.from(t.values()),h=Array.from(e.values());for(let p=0;p<f.length;p++){const g=f[p],y=h.findIndex(b=>Fd(g,b,void 0,t,e,n,s));if(y===-1)return!1;h.splice(y,1)}return!0}case Xte:case tne:case nne:case sne:case ine:case rne:case one:case ane:case cne:case lne:case une:case fne:{if(typeof Buffer<"u"&&Buffer.isBuffer(t)!==Buffer.isBuffer(e)||t.length!==e.length)return!1;for(let f=0;f<t.length;f++)if(!Fd(t[f],e[f],f,t,e,n,s))return!1;return!0}case Zte:return t.byteLength!==e.byteLength?!1:ah(new Uint8Array(t),new Uint8Array(e),n,s);case ene:return t.byteLength!==e.byteLength||t.byteOffset!==e.byteOffset?!1:ah(new Uint8Array(t),new Uint8Array(e),n,s);case Jte:return t.name===e.name&&t.message===e.message;case Nb:{if(!(ah(t.constructor,e.constructor,n,s)||P_(t)&&P_(e)))return!1;const f=[...Object.keys(t),...R_(t)],h=[...Object.keys(e),...R_(e)];if(f.length!==h.length)return!1;for(let p=0;p<f.length;p++){const g=f[p],y=t[g];if(!Object.hasOwn(e,g))return!1;const b=e[g];if(!Fd(y,b,g,t,e,n,s))return!1}return!0}default:return!1}}finally{n.delete(t),n.delete(e)}}function pne(t,e){return hne(t,e,dne)}var gne=Object.defineProperty,L_=Object.getOwnPropertySymbols,mne=Object.prototype.hasOwnProperty,yne=Object.prototype.propertyIsEnumerable,l2=(t,e,n)=>e in t?gne(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,k_=(t,e)=>{for(var n in e||(e={}))mne.call(e,n)&&l2(t,n,e[n]);if(L_)for(var n of L_(e))yne.call(e,n)&&l2(t,n,e[n]);return t},hs=(t,e,n)=>l2(t,typeof e!="symbol"?e+"":e,n);class ol extends OH{constructor(e,n,s,i=Dr,a=void 0){super(e,n,s,i),this.core=e,this.logger=n,this.name=s,hs(this,"map",new Map),hs(this,"version",bJ),hs(this,"cached",[]),hs(this,"initialized",!1),hs(this,"getKey"),hs(this,"storagePrefix",Dr),hs(this,"recentlyDeleted",[]),hs(this,"recentlyDeletedLimit",200),hs(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(c=>{this.getKey&&c!==null&&!$n(c)?this.map.set(this.getKey(c),c):tZ(c)?this.map.set(c.id,c):nZ(c)&&this.map.set(c.topic,c)}),this.cached=[],this.initialized=!0)}),hs(this,"set",async(c,u)=>{this.isInitialized(),this.map.has(c)?await this.update(c,u):(this.logger.debug("Setting value"),this.logger.trace({type:"method",method:"set",key:c,value:u}),this.map.set(c,u),await this.persist())}),hs(this,"get",c=>(this.isInitialized(),this.logger.debug("Getting value"),this.logger.trace({type:"method",method:"get",key:c}),this.getData(c))),hs(this,"getAll",c=>(this.isInitialized(),c?this.values.filter(u=>Object.keys(c).every(f=>pne(u[f],c[f]))):this.values)),hs(this,"update",async(c,u)=>{this.isInitialized(),this.logger.debug("Updating value"),this.logger.trace({type:"method",method:"update",key:c,update:u});const f=k_(k_({},this.getData(c)),u);this.map.set(c,f),await this.persist()}),hs(this,"delete",async(c,u)=>{this.isInitialized(),this.map.has(c)&&(this.logger.debug("Deleting value"),this.logger.trace({type:"method",method:"delete",key:c,reason:u}),this.map.delete(c),this.addToRecentlyDeleted(c),await this.persist())}),this.logger=is(n,this.name),this.storagePrefix=i,this.getKey=a}get context(){return Is(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.map.size}get keys(){return Array.from(this.map.keys())}get values(){return Array.from(this.map.values())}addToRecentlyDeleted(e){this.recentlyDeleted.push(e),this.recentlyDeleted.length>=this.recentlyDeletedLimit&&this.recentlyDeleted.splice(0,this.recentlyDeletedLimit/2)}async setDataStore(e){await this.core.storage.setItem(this.storageKey,e)}async getDataStore(){return await this.core.storage.getItem(this.storageKey)}getData(e){const n=this.map.get(e);if(!n){if(this.recentlyDeleted.includes(e)){const{message:i}=ye("MISSING_OR_INVALID",`Record was recently deleted - ${this.name}: ${e}`);throw this.logger.error(i),new Error(i)}const{message:s}=ye("NO_MATCHING_KEY",`${this.name}: ${e}`);throw this.logger.error(s),new Error(s)}return n}async persist(){await this.setDataStore(this.values)}async restore(){try{const e=await this.getDataStore();if(typeof e>"u"||!e.length)return;if(this.map.size){const{message:n}=ye("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(n),new Error(n)}this.cached=e,this.logger.debug(`Successfully Restored value for ${this.name}`),this.logger.trace({type:"method",method:"restore",value:this.values})}catch(e){this.logger.debug(`Failed to Restore value for ${this.name}`),this.logger.error(e)}}isInitialized(){if(!this.initialized){const{message:e}=ye("NOT_INITIALIZED",this.name);throw new Error(e)}}}var wne=Object.defineProperty,bne=(t,e,n)=>e in t?wne(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Je=(t,e,n)=>bne(t,typeof e!="symbol"?e+"":e,n);class vne{constructor(e,n){this.core=e,this.logger=n,Je(this,"name",CJ),Je(this,"version",SJ),Je(this,"events",new TE),Je(this,"pairings"),Je(this,"initialized",!1),Je(this,"storagePrefix",Dr),Je(this,"ignoredPayloadTypes",[wo]),Je(this,"registeredMethods",[]),Je(this,"init",async()=>{this.initialized||(await this.pairings.init(),await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.initialized=!0,this.logger.trace("Initialized"))}),Je(this,"register",({methods:s})=>{this.isInitialized(),this.registeredMethods=[...new Set([...this.registeredMethods,...s])]}),Je(this,"create",async s=>{this.isInitialized();const i=Jv(),a=await this.core.crypto.setSymKey(i),c=dn(we.FIVE_MINUTES),u={protocol:UO},f={topic:a,expiry:c,relay:u,active:!1,methods:s?.methods},h=t_({protocol:this.core.protocol,version:this.core.version,topic:a,symKey:i,relay:u,expiryTimestamp:c,methods:s?.methods});return this.events.emit(Mc.create,f),this.core.expirer.set(a,c),await this.pairings.set(a,f),await this.core.relayer.subscribe(a,{transportType:s?.transportType}),{topic:a,uri:h}}),Je(this,"pair",async s=>{this.isInitialized();const i=this.core.eventClient.createEvent({properties:{topic:s?.uri,trace:[mr.pairing_started]}});this.isValidPair(s,i);const{topic:a,symKey:c,relay:u,expiryTimestamp:f,methods:h}=e_(s.uri);i.props.properties.topic=a,i.addTrace(mr.pairing_uri_validation_success),i.addTrace(mr.pairing_uri_not_expired);let p;if(this.pairings.keys.includes(a)){if(p=this.pairings.get(a),i.addTrace(mr.existing_pairing),p.active)throw i.setError(po.active_pairing_already_exists),new Error(`Pairing already exists: ${a}. Please try again with a new connection URI.`);i.addTrace(mr.pairing_not_expired)}const g=f||dn(we.FIVE_MINUTES),y={topic:a,relay:u,expiry:g,active:!1,methods:h};this.core.expirer.set(a,g),await this.pairings.set(a,y),i.addTrace(mr.store_new_pairing),s.activatePairing&&await this.activate({topic:a}),this.events.emit(Mc.create,y),i.addTrace(mr.emit_inactive_pairing),this.core.crypto.keychain.has(a)||await this.core.crypto.setSymKey(c,a),i.addTrace(mr.subscribing_pairing_topic);try{await this.core.relayer.confirmOnlineStateOrThrow()}catch{i.setError(po.no_internet_connection)}try{await this.core.relayer.subscribe(a,{relay:u})}catch(b){throw i.setError(po.subscribe_pairing_topic_failure),b}return i.addTrace(mr.subscribe_pairing_topic_success),y}),Je(this,"activate",async({topic:s})=>{this.isInitialized();const i=dn(we.FIVE_MINUTES);this.core.expirer.set(s,i),await this.pairings.update(s,{active:!0,expiry:i})}),Je(this,"ping",async s=>{this.isInitialized(),await this.isValidPing(s),this.logger.warn("ping() is deprecated and will be removed in the next major release.");const{topic:i}=s;if(this.pairings.keys.includes(i)){const a=await this.sendRequest(i,"wc_pairingPing",{}),{done:c,resolve:u,reject:f}=_c();this.events.once(dt("pairing_ping",a),({error:h})=>{h?f(h):u()}),await c()}}),Je(this,"updateExpiry",async({topic:s,expiry:i})=>{this.isInitialized(),await this.pairings.update(s,{expiry:i})}),Je(this,"updateMetadata",async({topic:s,metadata:i})=>{this.isInitialized(),await this.pairings.update(s,{peerMetadata:i})}),Je(this,"getPairings",()=>(this.isInitialized(),this.pairings.values)),Je(this,"disconnect",async s=>{this.isInitialized(),await this.isValidDisconnect(s);const{topic:i}=s;this.pairings.keys.includes(i)&&(await this.sendRequest(i,"wc_pairingDelete",jt("USER_DISCONNECTED")),await this.deletePairing(i))}),Je(this,"formatUriFromPairing",s=>{this.isInitialized();const{topic:i,relay:a,expiry:c,methods:u}=s,f=this.core.crypto.keychain.get(i);return t_({protocol:this.core.protocol,version:this.core.version,topic:i,symKey:f,relay:a,expiryTimestamp:c,methods:u})}),Je(this,"sendRequest",async(s,i,a)=>{const c=Ia(i,a),u=await this.core.crypto.encode(s,c),f=Dd[i].req;return this.core.history.set(s,c),this.core.relayer.publish(s,u,f),c.id}),Je(this,"sendResult",async(s,i,a)=>{const c=qm(s,a),u=await this.core.crypto.encode(i,c),f=(await this.core.history.get(i,s)).request.method,h=Dd[f].res;await this.core.relayer.publish(i,u,h),await this.core.history.resolve(c)}),Je(this,"sendError",async(s,i,a)=>{const c=Vm(s,a),u=await this.core.crypto.encode(i,c),f=(await this.core.history.get(i,s)).request.method,h=Dd[f]?Dd[f].res:Dd.unregistered_method.res;await this.core.relayer.publish(i,u,h),await this.core.history.resolve(c)}),Je(this,"deletePairing",async(s,i)=>{await this.core.relayer.unsubscribe(s),await Promise.all([this.pairings.delete(s,jt("USER_DISCONNECTED")),this.core.crypto.deleteSymKey(s),i?Promise.resolve():this.core.expirer.del(s)])}),Je(this,"cleanup",async()=>{const s=this.pairings.getAll().filter(i=>Ea(i.expiry));await Promise.all(s.map(i=>this.deletePairing(i.topic)))}),Je(this,"onRelayEventRequest",async s=>{const{topic:i,payload:a}=s;switch(a.method){case"wc_pairingPing":return await this.onPairingPingRequest(i,a);case"wc_pairingDelete":return await this.onPairingDeleteRequest(i,a);default:return await this.onUnknownRpcMethodRequest(i,a)}}),Je(this,"onRelayEventResponse",async s=>{const{topic:i,payload:a}=s,c=(await this.core.history.get(i,a.id)).request.method;switch(c){case"wc_pairingPing":return this.onPairingPingResponse(i,a);default:return this.onUnknownRpcMethodResponse(c)}}),Je(this,"onPairingPingRequest",async(s,i)=>{const{id:a}=i;try{this.isValidPing({topic:s}),await this.sendResult(a,s,!0),this.events.emit(Mc.ping,{id:a,topic:s})}catch(c){await this.sendError(a,s,c),this.logger.error(c)}}),Je(this,"onPairingPingResponse",(s,i)=>{const{id:a}=i;setTimeout(()=>{wr(i)?this.events.emit(dt("pairing_ping",a),{}):vi(i)&&this.events.emit(dt("pairing_ping",a),{error:i.error})},500)}),Je(this,"onPairingDeleteRequest",async(s,i)=>{const{id:a}=i;try{this.isValidDisconnect({topic:s}),await this.deletePairing(s),this.events.emit(Mc.delete,{id:a,topic:s})}catch(c){await this.sendError(a,s,c),this.logger.error(c)}}),Je(this,"onUnknownRpcMethodRequest",async(s,i)=>{const{id:a,method:c}=i;try{if(this.registeredMethods.includes(c))return;const u=jt("WC_METHOD_UNSUPPORTED",c);await this.sendError(a,s,u),this.logger.error(u)}catch(u){await this.sendError(a,s,u),this.logger.error(u)}}),Je(this,"onUnknownRpcMethodResponse",s=>{this.registeredMethods.includes(s)||this.logger.error(jt("WC_METHOD_UNSUPPORTED",s))}),Je(this,"isValidPair",(s,i)=>{var a;if(!vs(s)){const{message:u}=ye("MISSING_OR_INVALID",`pair() params: ${s}`);throw i.setError(po.malformed_pairing_uri),new Error(u)}if(!eZ(s.uri)){const{message:u}=ye("MISSING_OR_INVALID",`pair() uri: ${s.uri}`);throw i.setError(po.malformed_pairing_uri),new Error(u)}const c=e_(s?.uri);if(!((a=c?.relay)!=null&&a.protocol)){const{message:u}=ye("MISSING_OR_INVALID","pair() uri#relay-protocol");throw i.setError(po.malformed_pairing_uri),new Error(u)}if(!(c!=null&&c.symKey)){const{message:u}=ye("MISSING_OR_INVALID","pair() uri#symKey");throw i.setError(po.malformed_pairing_uri),new Error(u)}if(c!=null&&c.expiryTimestamp&&we.toMiliseconds(c?.expiryTimestamp)<Date.now()){i.setError(po.pairing_expired);const{message:u}=ye("EXPIRED","pair() URI has expired. Please try again with a new connection URI.");throw new Error(u)}}),Je(this,"isValidPing",async s=>{if(!vs(s)){const{message:a}=ye("MISSING_OR_INVALID",`ping() params: ${s}`);throw new Error(a)}const{topic:i}=s;await this.isValidPairingTopic(i)}),Je(this,"isValidDisconnect",async s=>{if(!vs(s)){const{message:a}=ye("MISSING_OR_INVALID",`disconnect() params: ${s}`);throw new Error(a)}const{topic:i}=s;await this.isValidPairingTopic(i)}),Je(this,"isValidPairingTopic",async s=>{if(!on(s,!1)){const{message:i}=ye("MISSING_OR_INVALID",`pairing topic should be a string: ${s}`);throw new Error(i)}if(!this.pairings.keys.includes(s)){const{message:i}=ye("NO_MATCHING_KEY",`pairing topic doesn't exist: ${s}`);throw new Error(i)}if(Ea(this.pairings.get(s).expiry)){await this.deletePairing(s);const{message:i}=ye("EXPIRED",`pairing topic: ${s}`);throw new Error(i)}}),this.core=e,this.logger=is(n,this.name),this.pairings=new ol(this.core,this.logger,this.name,this.storagePrefix)}get context(){return Is(this.logger)}isInitialized(){if(!this.initialized){const{message:e}=ye("NOT_INITIALIZED",this.name);throw new Error(e)}}registerRelayerEvents(){this.core.relayer.on(vn.message,async e=>{const{topic:n,message:s,transportType:i}=e;if(this.pairings.keys.includes(n)&&i!==Lt.link_mode&&!this.ignoredPayloadTypes.includes(this.core.crypto.getPayloadType(s)))try{const a=await this.core.crypto.decode(n,s);eA(a)?(this.core.history.set(n,a),await this.onRelayEventRequest({topic:n,payload:a})):Wm(a)&&(await this.core.history.resolve(a),await this.onRelayEventResponse({topic:n,payload:a}),this.core.history.delete(n,a.id)),await this.core.relayer.messages.ack(n,s)}catch(a){this.logger.error(a)}})}registerExpirerEvents(){this.core.expirer.on(bi.expired,async e=>{const{topic:n}=UD(e.target);n&&this.pairings.keys.includes(n)&&(await this.deletePairing(n,!0),this.events.emit(Mc.expire,{topic:n}))})}}var Ene=Object.defineProperty,Ane=(t,e,n)=>e in t?Ene(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,On=(t,e,n)=>Ane(t,typeof e!="symbol"?e+"":e,n);class Cne extends TH{constructor(e,n){super(e,n),this.core=e,this.logger=n,On(this,"records",new Map),On(this,"events",new Ti.EventEmitter),On(this,"name",xJ),On(this,"version",NJ),On(this,"cached",[]),On(this,"initialized",!1),On(this,"storagePrefix",Dr),On(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(s=>this.records.set(s.id,s)),this.cached=[],this.registerEventListeners(),this.initialized=!0)}),On(this,"set",(s,i,a)=>{if(this.isInitialized(),this.logger.debug("Setting JSON-RPC request history record"),this.logger.trace({type:"method",method:"set",topic:s,request:i,chainId:a}),this.records.has(i.id))return;const c={id:i.id,topic:s,request:{method:i.method,params:i.params||null},chainId:a,expiry:dn(we.THIRTY_DAYS)};this.records.set(c.id,c),this.persist(),this.events.emit(Bi.created,c)}),On(this,"resolve",async s=>{if(this.isInitialized(),this.logger.debug("Updating JSON-RPC response history record"),this.logger.trace({type:"method",method:"update",response:s}),!this.records.has(s.id))return;const i=await this.getRecord(s.id);typeof i.response>"u"&&(i.response=vi(s)?{error:s.error}:{result:s.result},this.records.set(i.id,i),this.persist(),this.events.emit(Bi.updated,i))}),On(this,"get",async(s,i)=>(this.isInitialized(),this.logger.debug("Getting record"),this.logger.trace({type:"method",method:"get",topic:s,id:i}),await this.getRecord(i))),On(this,"delete",(s,i)=>{this.isInitialized(),this.logger.debug("Deleting record"),this.logger.trace({type:"method",method:"delete",id:i}),this.values.forEach(a=>{if(a.topic===s){if(typeof i<"u"&&a.id!==i)return;this.records.delete(a.id),this.events.emit(Bi.deleted,a)}}),this.persist()}),On(this,"exists",async(s,i)=>(this.isInitialized(),this.records.has(i)?(await this.getRecord(i)).topic===s:!1)),On(this,"on",(s,i)=>{this.events.on(s,i)}),On(this,"once",(s,i)=>{this.events.once(s,i)}),On(this,"off",(s,i)=>{this.events.off(s,i)}),On(this,"removeListener",(s,i)=>{this.events.removeListener(s,i)}),this.logger=is(n,this.name)}get context(){return Is(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get size(){return this.records.size}get keys(){return Array.from(this.records.keys())}get values(){return Array.from(this.records.values())}get pending(){const e=[];return this.values.forEach(n=>{if(typeof n.response<"u")return;const s={topic:n.topic,request:Ia(n.request.method,n.request.params,n.id),chainId:n.chainId};return e.push(s)}),e}async setJsonRpcRecords(e){await this.core.storage.setItem(this.storageKey,e)}async getJsonRpcRecords(){return await this.core.storage.getItem(this.storageKey)}getRecord(e){this.isInitialized();const n=this.records.get(e);if(!n){const{message:s}=ye("NO_MATCHING_KEY",`${this.name}: ${e}`);throw new Error(s)}return n}async persist(){await this.setJsonRpcRecords(this.values),this.events.emit(Bi.sync)}async restore(){try{const e=await this.getJsonRpcRecords();if(typeof e>"u"||!e.length)return;if(this.records.size){const{message:n}=ye("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(n),new Error(n)}this.cached=e,this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",records:this.values})}catch(e){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(e)}}registerEventListeners(){this.events.on(Bi.created,e=>{const n=Bi.created;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,record:e})}),this.events.on(Bi.updated,e=>{const n=Bi.updated;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,record:e})}),this.events.on(Bi.deleted,e=>{const n=Bi.deleted;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,record:e})}),this.core.heartbeat.on(il.pulse,()=>{this.cleanup()})}cleanup(){try{this.isInitialized();let e=!1;this.records.forEach(n=>{we.toMiliseconds(n.expiry||0)-Date.now()<=0&&(this.logger.info(`Deleting expired history log: ${n.id}`),this.records.delete(n.id),this.events.emit(Bi.deleted,n,!1),e=!0)}),e&&this.persist()}catch(e){this.logger.warn(e)}}isInitialized(){if(!this.initialized){const{message:e}=ye("NOT_INITIALIZED",this.name);throw new Error(e)}}}var Sne=Object.defineProperty,xne=(t,e,n)=>e in t?Sne(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Gn=(t,e,n)=>xne(t,typeof e!="symbol"?e+"":e,n);class Nne extends RH{constructor(e,n){super(e,n),this.core=e,this.logger=n,Gn(this,"expirations",new Map),Gn(this,"events",new Ti.EventEmitter),Gn(this,"name",TJ),Gn(this,"version",_J),Gn(this,"cached",[]),Gn(this,"initialized",!1),Gn(this,"storagePrefix",Dr),Gn(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(s=>this.expirations.set(s.target,s)),this.cached=[],this.registerEventListeners(),this.initialized=!0)}),Gn(this,"has",s=>{try{const i=this.formatTarget(s);return typeof this.getExpiration(i)<"u"}catch{return!1}}),Gn(this,"set",(s,i)=>{this.isInitialized();const a=this.formatTarget(s),c={target:a,expiry:i};this.expirations.set(a,c),this.checkExpiry(a,c),this.events.emit(bi.created,{target:a,expiration:c})}),Gn(this,"get",s=>{this.isInitialized();const i=this.formatTarget(s);return this.getExpiration(i)}),Gn(this,"del",s=>{if(this.isInitialized(),this.has(s)){const i=this.formatTarget(s),a=this.getExpiration(i);this.expirations.delete(i),this.events.emit(bi.deleted,{target:i,expiration:a})}}),Gn(this,"on",(s,i)=>{this.events.on(s,i)}),Gn(this,"once",(s,i)=>{this.events.once(s,i)}),Gn(this,"off",(s,i)=>{this.events.off(s,i)}),Gn(this,"removeListener",(s,i)=>{this.events.removeListener(s,i)}),this.logger=is(n,this.name)}get context(){return Is(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.expirations.size}get keys(){return Array.from(this.expirations.keys())}get values(){return Array.from(this.expirations.values())}formatTarget(e){if(typeof e=="string")return kG(e);if(typeof e=="number")return BG(e);const{message:n}=ye("UNKNOWN_TYPE",`Target type: ${typeof e}`);throw new Error(n)}async setExpirations(e){await this.core.storage.setItem(this.storageKey,e)}async getExpirations(){return await this.core.storage.getItem(this.storageKey)}async persist(){await this.setExpirations(this.values),this.events.emit(bi.sync)}async restore(){try{const e=await this.getExpirations();if(typeof e>"u"||!e.length)return;if(this.expirations.size){const{message:n}=ye("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(n),new Error(n)}this.cached=e,this.logger.debug(`Successfully Restored expirations for ${this.name}`),this.logger.trace({type:"method",method:"restore",expirations:this.values})}catch(e){this.logger.debug(`Failed to Restore expirations for ${this.name}`),this.logger.error(e)}}getExpiration(e){const n=this.expirations.get(e);if(!n){const{message:s}=ye("NO_MATCHING_KEY",`${this.name}: ${e}`);throw this.logger.warn(s),new Error(s)}return n}checkExpiry(e,n){const{expiry:s}=n;we.toMiliseconds(s)-Date.now()<=0&&this.expire(e,n)}expire(e,n){this.expirations.delete(e),this.events.emit(bi.expired,{target:e,expiration:n})}checkExpirations(){this.core.relayer.connected&&this.expirations.forEach((e,n)=>this.checkExpiry(n,e))}registerEventListeners(){this.core.heartbeat.on(il.pulse,()=>this.checkExpirations()),this.events.on(bi.created,e=>{const n=bi.created;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,data:e}),this.persist()}),this.events.on(bi.expired,e=>{const n=bi.expired;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,data:e}),this.persist()}),this.events.on(bi.deleted,e=>{const n=bi.deleted;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,data:e}),this.persist()})}isInitialized(){if(!this.initialized){const{message:e}=ye("NOT_INITIALIZED",this.name);throw new Error(e)}}}var Tne=Object.defineProperty,_ne=(t,e,n)=>e in t?Tne(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,sn=(t,e,n)=>_ne(t,typeof e!="symbol"?e+"":e,n);class Ine extends $H{constructor(e,n,s){super(e,n,s),this.core=e,this.logger=n,this.store=s,sn(this,"name",IJ),sn(this,"abortController"),sn(this,"isDevEnv"),sn(this,"verifyUrlV3",OJ),sn(this,"storagePrefix",Dr),sn(this,"version",$O),sn(this,"publicKey"),sn(this,"fetchPromise"),sn(this,"init",async()=>{var i;this.isDevEnv||(this.publicKey=await this.store.getItem(this.storeKey),this.publicKey&&we.toMiliseconds((i=this.publicKey)==null?void 0:i.expiresAt)<Date.now()&&(this.logger.debug("verify v2 public key expired"),await this.removePublicKey()))}),sn(this,"register",async i=>{if(!df()||this.isDevEnv)return;const a=window.location.origin,{id:c,decryptedId:u}=i,f=`${this.verifyUrlV3}/attestation?projectId=${this.core.projectId}&origin=${a}&id=${c}&decryptedId=${u}`;try{const h=xo.getDocument(),p=this.startAbortTimer(we.ONE_SECOND*5),g=await new Promise((y,b)=>{const v=()=>{window.removeEventListener("message",A),h.body.removeChild(E),b("attestation aborted")};this.abortController.signal.addEventListener("abort",v);const E=h.createElement("iframe");E.src=f,E.style.display="none",E.addEventListener("error",v,{signal:this.abortController.signal});const A=S=>{if(S.data&&typeof S.data=="string")try{const D=JSON.parse(S.data);if(D.type==="verify_attestation"){if($v(D.attestation).payload.id!==c)return;clearInterval(p),h.body.removeChild(E),this.abortController.signal.removeEventListener("abort",v),window.removeEventListener("message",A),y(D.attestation===null?"":D.attestation)}}catch(D){this.logger.warn(D)}};h.body.appendChild(E),window.addEventListener("message",A,{signal:this.abortController.signal})});return this.logger.debug("jwt attestation",g),g}catch(h){this.logger.warn(h)}return""}),sn(this,"resolve",async i=>{if(this.isDevEnv)return"";const{attestationId:a,hash:c,encryptedId:u}=i;if(a===""){this.logger.debug("resolve: attestationId is empty, skipping");return}if(a){if($v(a).payload.id!==u)return;const h=await this.isValidJwtAttestation(a);if(h){if(!h.isVerified){this.logger.warn("resolve: jwt attestation: origin url not verified");return}return h}}if(!c)return;const f=this.getVerifyUrl(i?.verifyUrl);return this.fetchAttestation(c,f)}),sn(this,"fetchAttestation",async(i,a)=>{this.logger.debug(`resolving attestation: ${i} from url: ${a}`);const c=this.startAbortTimer(we.ONE_SECOND*5),u=await fetch(`${a}/attestation/${i}?v2Supported=true`,{signal:this.abortController.signal});return clearTimeout(c),u.status===200?await u.json():void 0}),sn(this,"getVerifyUrl",i=>{let a=i||oh;return MJ.includes(a)||(this.logger.info(`verify url: ${a}, not included in trusted list, assigning default: ${oh}`),a=oh),a}),sn(this,"fetchPublicKey",async()=>{try{this.logger.debug(`fetching public key from: ${this.verifyUrlV3}`);const i=this.startAbortTimer(we.FIVE_SECONDS),a=await fetch(`${this.verifyUrlV3}/public-key`,{signal:this.abortController.signal});return clearTimeout(i),await a.json()}catch(i){this.logger.warn(i)}}),sn(this,"persistPublicKey",async i=>{this.logger.debug("persisting public key to local storage",i),await this.store.setItem(this.storeKey,i),this.publicKey=i}),sn(this,"removePublicKey",async()=>{this.logger.debug("removing verify v2 public key from storage"),await this.store.removeItem(this.storeKey),this.publicKey=void 0}),sn(this,"isValidJwtAttestation",async i=>{const a=await this.getPublicKey();try{if(a)return this.validateAttestation(i,a)}catch(u){this.logger.error(u),this.logger.warn("error validating attestation")}const c=await this.fetchAndPersistPublicKey();try{if(c)return this.validateAttestation(i,c)}catch(u){this.logger.error(u),this.logger.warn("error validating attestation")}}),sn(this,"getPublicKey",async()=>this.publicKey?this.publicKey:await this.fetchAndPersistPublicKey()),sn(this,"fetchAndPersistPublicKey",async()=>{if(this.fetchPromise)return await this.fetchPromise,this.publicKey;this.fetchPromise=new Promise(async a=>{const c=await this.fetchPublicKey();c&&(await this.persistPublicKey(c),a(c))});const i=await this.fetchPromise;return this.fetchPromise=void 0,i}),sn(this,"validateAttestation",(i,a)=>{const c=RQ(i,a.publicKey),u={hasExpired:we.toMiliseconds(c.exp)<Date.now(),payload:c};if(u.hasExpired)throw this.logger.warn("resolve: jwt attestation expired"),new Error("JWT attestation expired");return{origin:u.payload.origin,isScam:u.payload.isScam,isVerified:u.payload.isVerified}}),this.logger=is(n,this.name),this.abortController=new AbortController,this.isDevEnv=BE(),this.init()}get storeKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//verify:public:key"}get context(){return Is(this.logger)}startAbortTimer(e){return this.abortController=new AbortController,setTimeout(()=>this.abortController.abort(),we.toMiliseconds(e))}}var Dne=Object.defineProperty,One=(t,e,n)=>e in t?Dne(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,B_=(t,e,n)=>One(t,typeof e!="symbol"?e+"":e,n);class Mne extends UH{constructor(e,n){super(e,n),this.projectId=e,this.logger=n,B_(this,"context",RJ),B_(this,"registerDeviceToken",async s=>{const{clientId:i,token:a,notificationType:c,enableEncrypted:u=!1}=s,f=`${$J}/${this.projectId}/clients`;await fetch(f,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({client_id:i,type:c,token:a,always_raw:u})})}),this.logger=is(n,this.context)}}var Rne=Object.defineProperty,j_=Object.getOwnPropertySymbols,$ne=Object.prototype.hasOwnProperty,Une=Object.prototype.propertyIsEnumerable,u2=(t,e,n)=>e in t?Rne(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Rd=(t,e)=>{for(var n in e||(e={}))$ne.call(e,n)&&u2(t,n,e[n]);if(j_)for(var n of j_(e))Une.call(e,n)&&u2(t,n,e[n]);return t},gn=(t,e,n)=>u2(t,typeof e!="symbol"?e+"":e,n);class Pne extends PH{constructor(e,n,s=!0){super(e,n,s),this.core=e,this.logger=n,gn(this,"context",PJ),gn(this,"storagePrefix",Dr),gn(this,"storageVersion",UJ),gn(this,"events",new Map),gn(this,"shouldPersist",!1),gn(this,"init",async()=>{if(!BE())try{const i={eventId:AT(),timestamp:Date.now(),domain:this.getAppDomain(),props:{event:"INIT",type:"",properties:{client_id:await this.core.crypto.getClientId(),user_agent:RD(this.core.relayer.protocol,this.core.relayer.version,n2)}}};await this.sendEvent([i])}catch(i){this.logger.warn(i)}}),gn(this,"createEvent",i=>{const{event:a="ERROR",type:c="",properties:{topic:u,trace:f}}=i,h=AT(),p=this.core.projectId||"",g=Date.now(),y=Rd({eventId:h,timestamp:g,props:{event:a,type:c,properties:{topic:u,trace:f}},bundleId:p,domain:this.getAppDomain()},this.setMethods(h));return this.telemetryEnabled&&(this.events.set(h,y),this.shouldPersist=!0),y}),gn(this,"getEvent",i=>{const{eventId:a,topic:c}=i;if(a)return this.events.get(a);const u=Array.from(this.events.values()).find(f=>f.props.properties.topic===c);if(u)return Rd(Rd({},u),this.setMethods(u.eventId))}),gn(this,"deleteEvent",i=>{const{eventId:a}=i;this.events.delete(a),this.shouldPersist=!0}),gn(this,"setEventListeners",()=>{this.core.heartbeat.on(il.pulse,async()=>{this.shouldPersist&&await this.persist(),this.events.forEach(i=>{we.fromMiliseconds(Date.now())-we.fromMiliseconds(i.timestamp)>LJ&&(this.events.delete(i.eventId),this.shouldPersist=!0)})})}),gn(this,"setMethods",i=>({addTrace:a=>this.addTrace(i,a),setError:a=>this.setError(i,a)})),gn(this,"addTrace",(i,a)=>{const c=this.events.get(i);c&&(c.props.properties.trace.push(a),this.events.set(i,c),this.shouldPersist=!0)}),gn(this,"setError",(i,a)=>{const c=this.events.get(i);c&&(c.props.type=a,c.timestamp=Date.now(),this.events.set(i,c),this.shouldPersist=!0)}),gn(this,"persist",async()=>{await this.core.storage.setItem(this.storageKey,Array.from(this.events.values())),this.shouldPersist=!1}),gn(this,"restore",async()=>{try{const i=await this.core.storage.getItem(this.storageKey)||[];if(!i.length)return;i.forEach(a=>{this.events.set(a.eventId,Rd(Rd({},a),this.setMethods(a.eventId)))})}catch(i){this.logger.warn(i)}}),gn(this,"submit",async()=>{if(!this.telemetryEnabled||this.events.size===0)return;const i=[];for(const[a,c]of this.events)c.props.type&&i.push(c);if(i.length!==0)try{if((await this.sendEvent(i)).ok)for(const a of i)this.events.delete(a.eventId),this.shouldPersist=!0}catch(a){this.logger.warn(a)}}),gn(this,"sendEvent",async i=>{const a=this.getAppDomain()?"":"&sp=desktop";return await fetch(`${kJ}?projectId=${this.core.projectId}&st=events_sdk&sv=js-${n2}${a}`,{method:"POST",body:JSON.stringify(i)})}),gn(this,"getAppDomain",()=>MD().url),this.logger=is(n,this.context),this.telemetryEnabled=s,s?this.restore().then(async()=>{await this.submit(),this.setEventListeners()}):this.persist()}get storageKey(){return this.storagePrefix+this.storageVersion+this.core.customStoragePrefix+"//"+this.context}}var Lne=Object.defineProperty,z_=Object.getOwnPropertySymbols,kne=Object.prototype.hasOwnProperty,Bne=Object.prototype.propertyIsEnumerable,f2=(t,e,n)=>e in t?Lne(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,H_=(t,e)=>{for(var n in e||(e={}))kne.call(e,n)&&f2(t,n,e[n]);if(z_)for(var n of z_(e))Bne.call(e,n)&&f2(t,n,e[n]);return t},It=(t,e,n)=>f2(t,typeof e!="symbol"?e+"":e,n);let jne=class YO extends CH{constructor(e){var n;super(e),It(this,"protocol",RO),It(this,"version",$O),It(this,"name",t2),It(this,"relayUrl"),It(this,"projectId"),It(this,"customStoragePrefix"),It(this,"events",new Ti.EventEmitter),It(this,"logger"),It(this,"heartbeat"),It(this,"relayer"),It(this,"crypto"),It(this,"storage"),It(this,"history"),It(this,"expirer"),It(this,"pairing"),It(this,"verify"),It(this,"echoClient"),It(this,"linkModeSupportedApps"),It(this,"eventClient"),It(this,"initialized",!1),It(this,"logChunkController"),It(this,"on",(u,f)=>this.events.on(u,f)),It(this,"once",(u,f)=>this.events.once(u,f)),It(this,"off",(u,f)=>this.events.off(u,f)),It(this,"removeListener",(u,f)=>this.events.removeListener(u,f)),It(this,"dispatchEnvelope",({topic:u,message:f,sessionExists:h})=>{if(!u||!f)return;const p={topic:u,message:f,publishedAt:Date.now(),transportType:Lt.link_mode};this.relayer.onLinkMessageEvent(p,{sessionExists:h})});const s=this.getGlobalCore(e?.customStoragePrefix);if(s)try{return this.customStoragePrefix=s.customStoragePrefix,this.logger=s.logger,this.heartbeat=s.heartbeat,this.crypto=s.crypto,this.history=s.history,this.expirer=s.expirer,this.storage=s.storage,this.relayer=s.relayer,this.pairing=s.pairing,this.verify=s.verify,this.echoClient=s.echoClient,this.linkModeSupportedApps=s.linkModeSupportedApps,this.eventClient=s.eventClient,this.initialized=s.initialized,this.logChunkController=s.logChunkController,s}catch(u){console.warn("Failed to copy global core",u)}this.projectId=e?.projectId,this.relayUrl=e?.relayUrl||PO,this.customStoragePrefix=e!=null&&e.customStoragePrefix?`:${e.customStoragePrefix}`:"";const i=pp({level:typeof e?.logger=="string"&&e.logger?e.logger:oJ.logger,name:t2}),{logger:a,chunkLoggerController:c}=_6({opts:i,maxSizeInBytes:e?.maxLogBlobSizeInBytes,loggerOverride:e?.logger});this.logChunkController=c,(n=this.logChunkController)!=null&&n.downloadLogsBlobInBrowser&&(window.downloadLogsBlobInBrowser=async()=>{var u,f;(u=this.logChunkController)!=null&&u.downloadLogsBlobInBrowser&&((f=this.logChunkController)==null||f.downloadLogsBlobInBrowser({clientId:await this.crypto.getClientId()}))}),this.logger=is(a,this.name),this.heartbeat=new Az,this.crypto=new hte(this,this.logger,e?.keychain),this.history=new Cne(this,this.logger),this.expirer=new Nne(this,this.logger),this.storage=e!=null&&e.storage?e.storage:new iH(H_(H_({},aJ),e?.storageOptions)),this.relayer=new jte({core:this,logger:this.logger,relayUrl:this.relayUrl,projectId:this.projectId}),this.pairing=new vne(this,this.logger),this.verify=new Ine(this,this.logger,this.storage),this.echoClient=new Mne(this.projectId||"",this.logger),this.linkModeSupportedApps=[],this.eventClient=new Pne(this,this.logger,e?.telemetryEnabled),this.setGlobalCore(this)}static async init(e){const n=new YO(e);await n.initialize();const s=await n.crypto.getClientId();return await n.storage.setItem(vJ,s),n}get context(){return Is(this.logger)}async start(){this.initialized||await this.initialize()}async getLogsBlob(){var e;return(e=this.logChunkController)==null?void 0:e.logsToBlob({clientId:await this.crypto.getClientId()})}async addLinkModeSupportedApp(e){this.linkModeSupportedApps.includes(e)||(this.linkModeSupportedApps.push(e),await this.storage.setItem(E_,this.linkModeSupportedApps))}async initialize(){this.logger.trace("Initialized");try{await this.crypto.init(),await this.history.init(),await this.expirer.init(),await this.relayer.init(),await this.heartbeat.init(),await this.pairing.init(),this.linkModeSupportedApps=await this.storage.getItem(E_)||[],this.initialized=!0,this.logger.info("Core Initialization Success")}catch(e){throw this.logger.warn(`Core Initialization Failure at epoch ${Date.now()}`,e),this.logger.error(e.message),e}}getGlobalCore(e=""){try{if(this.isGlobalCoreDisabled())return;const n=`_walletConnectCore_${e}`,s=`${n}_count`;return globalThis[s]=(globalThis[s]||0)+1,globalThis[s]>1&&console.warn(`WalletConnect Core is already initialized. This is probably a mistake and can lead to unexpected behavior. Init() was called ${globalThis[s]} times.`),globalThis[n]}catch(n){console.warn("Failed to get global WalletConnect core",n);return}}setGlobalCore(e){var n;try{if(this.isGlobalCoreDisabled())return;const s=`_walletConnectCore_${((n=e.opts)==null?void 0:n.customStoragePrefix)||""}`;globalThis[s]=e}catch(s){console.warn("Failed to set global WalletConnect core",s)}}isGlobalCoreDisabled(){try{return typeof process<"u"&&rJ.DISABLE_GLOBAL_CORE==="true"}catch{return!0}}};const zne=jne,XO="wc",QO=2,ZO="client",tA=`${XO}@${QO}:${ZO}:`,Tb={name:ZO,logger:"error"},F_="WALLETCONNECT_DEEPLINK_CHOICE",Hne="proposal",q_="Proposal expired",Fne="session",lu=we.SEVEN_DAYS,qne="engine",mn={wc_sessionPropose:{req:{ttl:we.FIVE_MINUTES,prompt:!0,tag:1100},res:{ttl:we.FIVE_MINUTES,prompt:!1,tag:1101},reject:{ttl:we.FIVE_MINUTES,prompt:!1,tag:1120},autoReject:{ttl:we.FIVE_MINUTES,prompt:!1,tag:1121}},wc_sessionSettle:{req:{ttl:we.FIVE_MINUTES,prompt:!1,tag:1102},res:{ttl:we.FIVE_MINUTES,prompt:!1,tag:1103}},wc_sessionUpdate:{req:{ttl:we.ONE_DAY,prompt:!1,tag:1104},res:{ttl:we.ONE_DAY,prompt:!1,tag:1105}},wc_sessionExtend:{req:{ttl:we.ONE_DAY,prompt:!1,tag:1106},res:{ttl:we.ONE_DAY,prompt:!1,tag:1107}},wc_sessionRequest:{req:{ttl:we.FIVE_MINUTES,prompt:!0,tag:1108},res:{ttl:we.FIVE_MINUTES,prompt:!1,tag:1109}},wc_sessionEvent:{req:{ttl:we.FIVE_MINUTES,prompt:!0,tag:1110},res:{ttl:we.FIVE_MINUTES,prompt:!1,tag:1111}},wc_sessionDelete:{req:{ttl:we.ONE_DAY,prompt:!1,tag:1112},res:{ttl:we.ONE_DAY,prompt:!1,tag:1113}},wc_sessionPing:{req:{ttl:we.ONE_DAY,prompt:!1,tag:1114},res:{ttl:we.ONE_DAY,prompt:!1,tag:1115}},wc_sessionAuthenticate:{req:{ttl:we.ONE_HOUR,prompt:!0,tag:1116},res:{ttl:we.ONE_HOUR,prompt:!1,tag:1117},reject:{ttl:we.FIVE_MINUTES,prompt:!1,tag:1118},autoReject:{ttl:we.FIVE_MINUTES,prompt:!1,tag:1119}}},_b={min:we.FIVE_MINUTES,max:we.SEVEN_DAYS},pr={idle:"IDLE",active:"ACTIVE"},Vne={eth_sendTransaction:{key:""},eth_sendRawTransaction:{key:""},wallet_sendCalls:{key:""},solana_signTransaction:{key:"signature"},solana_signAllTransactions:{key:"transactions"},solana_signAndSendTransaction:{key:"signature"},sui_signAndExecuteTransaction:{key:"digest"},sui_signTransaction:{key:""},hedera_signAndExecuteTransaction:{key:"transactionId"},hedera_executeTransaction:{key:"transactionId"},near_signTransaction:{key:""},near_signTransactions:{key:""},tron_signTransaction:{key:"txID"},xrpl_signTransaction:{key:""},xrpl_signTransactionFor:{key:""},algo_signTxn:{key:""},sendTransfer:{key:"txid"},stacks_stxTransfer:{key:"txId"},polkadot_signTransaction:{key:""},cosmos_signDirect:{key:""}},Wne="request",Kne=["wc_sessionPropose","wc_sessionRequest","wc_authRequest","wc_sessionAuthenticate"],Gne="wc",Yne="auth",Xne="authKeys",Qne="pairingTopics",Zne="requests",Gm=`${Gne}@${1.5}:${Yne}:`,j0=`${Gm}:PUB_KEY`;var Jne=Object.defineProperty,ese=Object.defineProperties,tse=Object.getOwnPropertyDescriptors,V_=Object.getOwnPropertySymbols,nse=Object.prototype.hasOwnProperty,sse=Object.prototype.propertyIsEnumerable,d2=(t,e,n)=>e in t?Jne(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Pt=(t,e)=>{for(var n in e||(e={}))nse.call(e,n)&&d2(t,n,e[n]);if(V_)for(var n of V_(e))sse.call(e,n)&&d2(t,n,e[n]);return t},ps=(t,e)=>ese(t,tse(e)),he=(t,e,n)=>d2(t,typeof e!="symbol"?e+"":e,n);class ise extends jH{constructor(e){super(e),he(this,"name",qne),he(this,"events",new TE),he(this,"initialized",!1),he(this,"requestQueue",{state:pr.idle,queue:[]}),he(this,"sessionRequestQueue",{state:pr.idle,queue:[]}),he(this,"emittedSessionRequests",new GG({limit:500})),he(this,"requestQueueDelay",we.ONE_SECOND),he(this,"expectedPairingMethodMap",new Map),he(this,"recentlyDeletedMap",new Map),he(this,"recentlyDeletedLimit",200),he(this,"relayMessageCache",[]),he(this,"pendingSessions",new Map),he(this,"init",async()=>{this.initialized||(await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.registerPairingEvents(),await this.registerLinkModeListeners(),this.client.core.pairing.register({methods:Object.keys(mn)}),this.initialized=!0,setTimeout(async()=>{await this.processPendingMessageEvents(),this.sessionRequestQueue.queue=this.getPendingSessionRequests(),this.processSessionRequestQueue()},we.toMiliseconds(this.requestQueueDelay)))}),he(this,"connect",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();const s=ps(Pt({},n),{requiredNamespaces:n.requiredNamespaces||{},optionalNamespaces:n.optionalNamespaces||{}});await this.isValidConnect(s),s.optionalNamespaces=YQ(s.requiredNamespaces,s.optionalNamespaces),s.requiredNamespaces={};const{pairingTopic:i,requiredNamespaces:a,optionalNamespaces:c,sessionProperties:u,scopedProperties:f,relays:h}=s;let p=i,g,y=!1;try{if(p){const I=this.client.core.pairing.pairings.get(p);this.client.logger.warn("connect() with existing pairing topic is deprecated and will be removed in the next major release."),y=I.active}}catch(I){throw this.client.logger.error(`connect() -> pairing.get(${p}) failed`),I}if(!p||!y){const{topic:I,uri:$}=await this.client.core.pairing.create();p=I,g=$}if(!p){const{message:I}=ye("NO_MATCHING_KEY",`connect() pairing topic: ${p}`);throw new Error(I)}const b=await this.client.core.crypto.generateKeyPair(),v=mn.wc_sessionPropose.req.ttl||we.FIVE_MINUTES,E=dn(v),A=ps(Pt(Pt({requiredNamespaces:a,optionalNamespaces:c,relays:h??[{protocol:UO}],proposer:{publicKey:b,metadata:this.client.metadata},expiryTimestamp:E,pairingTopic:p},u&&{sessionProperties:u}),f&&{scopedProperties:f}),{id:yr()}),S=dt("session_connect",A.id),{reject:D,resolve:x,done:N}=_c(v,q_),T=({id:I})=>{I===A.id&&(this.client.events.off("proposal_expire",T),this.pendingSessions.delete(A.id),this.events.emit(S,{error:{message:q_,code:0}}))};return this.client.events.on("proposal_expire",T),this.events.once(S,({error:I,session:$})=>{this.client.events.off("proposal_expire",T),I?D(I):$&&x($)}),await this.sendRequest({topic:p,method:"wc_sessionPropose",params:A,throwOnFailedPublish:!0,clientRpcId:A.id}),await this.setProposal(A.id,A),{uri:g,approval:N}}),he(this,"pair",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{return await this.client.core.pairing.pair(n)}catch(s){throw this.client.logger.error("pair() failed"),s}}),he(this,"approve",async n=>{var s,i,a;const c=this.client.core.eventClient.createEvent({properties:{topic:(s=n?.id)==null?void 0:s.toString(),trace:[ji.session_approve_started]}});try{this.isInitialized(),await this.confirmOnlineStateOrThrow()}catch(M){throw c.setError(Ac.no_internet_connection),M}try{await this.isValidProposalId(n?.id)}catch(M){throw this.client.logger.error(`approve() -> proposal.get(${n?.id}) failed`),c.setError(Ac.proposal_not_found),M}try{await this.isValidApprove(n)}catch(M){throw this.client.logger.error("approve() -> isValidApprove() failed"),c.setError(Ac.session_approve_namespace_validation_failure),M}const{id:u,relayProtocol:f,namespaces:h,sessionProperties:p,scopedProperties:g,sessionConfig:y}=n,b=this.client.proposal.get(u);this.client.core.eventClient.deleteEvent({eventId:c.eventId});const{pairingTopic:v,proposer:E,requiredNamespaces:A,optionalNamespaces:S}=b;let D=(i=this.client.core.eventClient)==null?void 0:i.getEvent({topic:v});D||(D=(a=this.client.core.eventClient)==null?void 0:a.createEvent({type:ji.session_approve_started,properties:{topic:v,trace:[ji.session_approve_started,ji.session_namespaces_validation_success]}}));const x=await this.client.core.crypto.generateKeyPair(),N=E.publicKey,T=await this.client.core.crypto.generateSharedKey(x,N),I=Pt(Pt(Pt({relay:{protocol:f??"irn"},namespaces:h,controller:{publicKey:x,metadata:this.client.metadata},expiry:dn(lu)},p&&{sessionProperties:p}),g&&{scopedProperties:g}),y&&{sessionConfig:y}),$=Lt.relay;D.addTrace(ji.subscribing_session_topic);try{await this.client.core.relayer.subscribe(T,{transportType:$})}catch(M){throw D.setError(Ac.subscribe_session_topic_failure),M}D.addTrace(ji.subscribe_session_topic_success);const P=ps(Pt({},I),{topic:T,requiredNamespaces:A,optionalNamespaces:S,pairingTopic:v,acknowledged:!1,self:I.controller,peer:{publicKey:E.publicKey,metadata:E.metadata},controller:x,transportType:Lt.relay});await this.client.session.set(T,P),D.addTrace(ji.store_session);try{D.addTrace(ji.publishing_session_settle),await this.sendRequest({topic:T,method:"wc_sessionSettle",params:I,throwOnFailedPublish:!0}).catch(M=>{throw D?.setError(Ac.session_settle_publish_failure),M}),D.addTrace(ji.session_settle_publish_success),D.addTrace(ji.publishing_session_approve),await this.sendResult({id:u,topic:v,result:{relay:{protocol:f??"irn"},responderPublicKey:x},throwOnFailedPublish:!0}).catch(M=>{throw D?.setError(Ac.session_approve_publish_failure),M}),D.addTrace(ji.session_approve_publish_success)}catch(M){throw this.client.logger.error(M),this.client.session.delete(T,jt("USER_DISCONNECTED")),await this.client.core.relayer.unsubscribe(T),M}return this.client.core.eventClient.deleteEvent({eventId:D.eventId}),await this.client.core.pairing.updateMetadata({topic:v,metadata:E.metadata}),await this.deleteProposal(u),await this.client.core.pairing.activate({topic:v}),await this.setExpiry(T,dn(lu)),{topic:T,acknowledged:()=>Promise.resolve(this.client.session.get(T))}}),he(this,"reject",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidReject(n)}catch(c){throw this.client.logger.error("reject() -> isValidReject() failed"),c}const{id:s,reason:i}=n;let a;try{a=this.client.proposal.get(s).pairingTopic}catch(c){throw this.client.logger.error(`reject() -> proposal.get(${s}) failed`),c}a&&await this.sendError({id:s,topic:a,error:i,rpcOpts:mn.wc_sessionPropose.reject}),await this.deleteProposal(s)}),he(this,"update",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidUpdate(n)}catch(g){throw this.client.logger.error("update() -> isValidUpdate() failed"),g}const{topic:s,namespaces:i}=n,{done:a,resolve:c,reject:u}=_c(),f=yr(),h=jc().toString(),p=this.client.session.get(s).namespaces;return this.events.once(dt("session_update",f),({error:g})=>{g?u(g):c()}),await this.client.session.update(s,{namespaces:i}),await this.sendRequest({topic:s,method:"wc_sessionUpdate",params:{namespaces:i},throwOnFailedPublish:!0,clientRpcId:f,relayRpcId:h}).catch(g=>{this.client.logger.error(g),this.client.session.update(s,{namespaces:p}),u(g)}),{acknowledged:a}}),he(this,"extend",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidExtend(n)}catch(f){throw this.client.logger.error("extend() -> isValidExtend() failed"),f}const{topic:s}=n,i=yr(),{done:a,resolve:c,reject:u}=_c();return this.events.once(dt("session_extend",i),({error:f})=>{f?u(f):c()}),await this.setExpiry(s,dn(lu)),this.sendRequest({topic:s,method:"wc_sessionExtend",params:{},clientRpcId:i,throwOnFailedPublish:!0}).catch(f=>{u(f)}),{acknowledged:a}}),he(this,"request",async n=>{this.isInitialized();try{await this.isValidRequest(n)}catch(A){throw this.client.logger.error("request() -> isValidRequest() failed"),A}const{chainId:s,request:i,topic:a,expiry:c=mn.wc_sessionRequest.req.ttl}=n,u=this.client.session.get(a);u?.transportType===Lt.relay&&await this.confirmOnlineStateOrThrow();const f=yr(),h=jc().toString(),{done:p,resolve:g,reject:y}=_c(c,"Request expired. Please try again.");this.events.once(dt("session_request",f),({error:A,result:S})=>{A?y(A):g(S)});const b="wc_sessionRequest",v=this.getAppLinkIfEnabled(u.peer.metadata,u.transportType);if(v)return await this.sendRequest({clientRpcId:f,relayRpcId:h,topic:a,method:b,params:{request:ps(Pt({},i),{expiryTimestamp:dn(c)}),chainId:s},expiry:c,throwOnFailedPublish:!0,appLink:v}).catch(A=>y(A)),this.client.events.emit("session_request_sent",{topic:a,request:i,chainId:s,id:f}),await p();const E={request:ps(Pt({},i),{expiryTimestamp:dn(c)}),chainId:s};return await Promise.all([new Promise(async A=>{await this.sendRequest({clientRpcId:f,relayRpcId:h,topic:a,method:b,params:E,expiry:c,throwOnFailedPublish:!0,tvf:this.getTVFParams(f,E)}).catch(S=>y(S)),this.client.events.emit("session_request_sent",{topic:a,request:i,chainId:s,id:f}),A()}),new Promise(async A=>{var S;if(!((S=u.sessionConfig)!=null&&S.disableDeepLink)){const D=await FG(this.client.core.storage,F_);await jG({id:f,topic:a,wcDeepLink:D})}A()}),p()]).then(A=>A[2])}),he(this,"respond",async n=>{this.isInitialized(),await this.isValidRespond(n);const{topic:s,response:i}=n,{id:a}=i,c=this.client.session.get(s);c.transportType===Lt.relay&&await this.confirmOnlineStateOrThrow();const u=this.getAppLinkIfEnabled(c.peer.metadata,c.transportType);wr(i)?await this.sendResult({id:a,topic:s,result:i.result,throwOnFailedPublish:!0,appLink:u}):vi(i)&&await this.sendError({id:a,topic:s,error:i.error,appLink:u}),this.cleanupAfterResponse(n)}),he(this,"ping",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidPing(n)}catch(i){throw this.client.logger.error("ping() -> isValidPing() failed"),i}const{topic:s}=n;if(this.client.session.keys.includes(s)){const i=yr(),a=jc().toString(),{done:c,resolve:u,reject:f}=_c();this.events.once(dt("session_ping",i),({error:h})=>{h?f(h):u()}),await Promise.all([this.sendRequest({topic:s,method:"wc_sessionPing",params:{},throwOnFailedPublish:!0,clientRpcId:i,relayRpcId:a}),c()])}else this.client.core.pairing.pairings.keys.includes(s)&&(this.client.logger.warn("ping() on pairing topic is deprecated and will be removed in the next major release."),await this.client.core.pairing.ping({topic:s}))}),he(this,"emit",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow(),await this.isValidEmit(n);const{topic:s,event:i,chainId:a}=n,c=jc().toString(),u=yr();await this.sendRequest({topic:s,method:"wc_sessionEvent",params:{event:i,chainId:a},throwOnFailedPublish:!0,relayRpcId:c,clientRpcId:u})}),he(this,"disconnect",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow(),await this.isValidDisconnect(n);const{topic:s}=n;if(this.client.session.keys.includes(s))await this.sendRequest({topic:s,method:"wc_sessionDelete",params:jt("USER_DISCONNECTED"),throwOnFailedPublish:!0}),await this.deleteSession({topic:s,emitEvent:!1});else if(this.client.core.pairing.pairings.keys.includes(s))await this.client.core.pairing.disconnect({topic:s});else{const{message:i}=ye("MISMATCHED_TOPIC",`Session or pairing topic not found: ${s}`);throw new Error(i)}}),he(this,"find",n=>(this.isInitialized(),this.client.session.getAll().filter(s=>ZQ(s,n)))),he(this,"getPendingSessionRequests",()=>this.client.pendingRequest.getAll()),he(this,"authenticate",async(n,s)=>{var i;this.isInitialized(),this.isValidAuthenticate(n);const a=s&&this.client.core.linkModeSupportedApps.includes(s)&&((i=this.client.metadata.redirect)==null?void 0:i.linkMode),c=a?Lt.link_mode:Lt.relay;c===Lt.relay&&await this.confirmOnlineStateOrThrow();const{chains:u,statement:f="",uri:h,domain:p,nonce:g,type:y,exp:b,nbf:v,methods:E=[],expiry:A}=n,S=[...n.resources||[]],{topic:D,uri:x}=await this.client.core.pairing.create({methods:["wc_sessionAuthenticate"],transportType:c});this.client.logger.info({message:"Generated new pairing",pairing:{topic:D,uri:x}});const N=await this.client.core.crypto.generateKeyPair(),T=k0(N);if(await Promise.all([this.client.auth.authKeys.set(j0,{responseTopic:T,publicKey:N}),this.client.auth.pairingTopics.set(T,{topic:T,pairingTopic:D})]),await this.client.core.relayer.subscribe(T,{transportType:c}),this.client.logger.info(`sending request to new pairing topic: ${D}`),E.length>0){const{namespace:G}=zu(u[0]);let V=rX(G,"request",E);L0(S)&&(V=aX(V,S.pop())),S.push(V)}const I=A&&A>mn.wc_sessionAuthenticate.req.ttl?A:mn.wc_sessionAuthenticate.req.ttl,$={authPayload:{type:y??"caip122",chains:u,statement:f,aud:h,domain:p,version:"1",nonce:g,iat:new Date().toISOString(),exp:b,nbf:v,resources:S},requester:{publicKey:N,metadata:this.client.metadata},expiryTimestamp:dn(I)},P={eip155:{chains:u,methods:[...new Set(["personal_sign",...E])],events:["chainChanged","accountsChanged"]}},M={requiredNamespaces:{},optionalNamespaces:P,relays:[{protocol:"irn"}],pairingTopic:D,proposer:{publicKey:N,metadata:this.client.metadata},expiryTimestamp:dn(mn.wc_sessionPropose.req.ttl),id:yr()},{done:z,resolve:q,reject:F}=_c(I,"Request expired"),ee=yr(),Q=dt("session_connect",M.id),R=dt("session_request",ee),_=async({error:G,session:V})=>{this.events.off(R,k),G?F(G):V&&q({session:V})},k=async G=>{var V,U,K;if(await this.deletePendingAuthRequest(ee,{message:"fulfilled",code:0}),G.error){const Te=jt("WC_METHOD_UNSUPPORTED","wc_sessionAuthenticate");return G.error.code===Te.code?void 0:(this.events.off(Q,_),F(G.error.message))}await this.deleteProposal(M.id),this.events.off(Q,_);const{cacaos:te,responder:ie}=G.result,ue=[],pe=[];for(const Te of te){await RT({cacao:Te,projectId:this.client.core.projectId})||(this.client.logger.error(Te,"Signature verification failed"),F(jt("SESSION_SETTLEMENT_FAILED","Signature verification failed")));const{p:mt}=Te,Ot=L0(mt.resources),Os=[qv(mt.iss)],Rr=hm(mt.iss);if(Ot){const Sn=$T(Ot),Qi=UT(Ot);ue.push(...Sn),Os.push(...Qi)}for(const Sn of Os)pe.push(`${Sn}:${Rr}`)}const xe=await this.client.core.crypto.generateSharedKey(N,ie.publicKey);let ke;ue.length>0&&(ke={topic:xe,acknowledged:!0,self:{publicKey:N,metadata:this.client.metadata},peer:ie,controller:ie.publicKey,expiry:dn(lu),requiredNamespaces:{},optionalNamespaces:{},relay:{protocol:"irn"},pairingTopic:D,namespaces:r_([...new Set(ue)],[...new Set(pe)]),transportType:c},await this.client.core.relayer.subscribe(xe,{transportType:c}),await this.client.session.set(xe,ke),D&&await this.client.core.pairing.updateMetadata({topic:D,metadata:ie.metadata}),ke=this.client.session.get(xe)),(V=this.client.metadata.redirect)!=null&&V.linkMode&&(U=ie.metadata.redirect)!=null&&U.linkMode&&(K=ie.metadata.redirect)!=null&&K.universal&&s&&(this.client.core.addLinkModeSupportedApp(ie.metadata.redirect.universal),this.client.session.update(xe,{transportType:Lt.link_mode})),q({auths:te,session:ke})};this.events.once(Q,_),this.events.once(R,k);let H;try{if(a){const G=Ia("wc_sessionAuthenticate",$,ee);this.client.core.history.set(D,G);const V=await this.client.core.crypto.encode("",G,{type:vp,encoding:xa});H=h0(s,D,V)}else await Promise.all([this.sendRequest({topic:D,method:"wc_sessionAuthenticate",params:$,expiry:n.expiry,throwOnFailedPublish:!0,clientRpcId:ee}),this.sendRequest({topic:D,method:"wc_sessionPropose",params:M,expiry:mn.wc_sessionPropose.req.ttl,throwOnFailedPublish:!0,clientRpcId:M.id})])}catch(G){throw this.events.off(Q,_),this.events.off(R,k),G}return await this.setProposal(M.id,M),await this.setAuthRequest(ee,{request:ps(Pt({},$),{verifyContext:{}}),pairingTopic:D,transportType:c}),{uri:H??x,response:z}}),he(this,"approveSessionAuthenticate",async n=>{const{id:s,auths:i}=n,a=this.client.core.eventClient.createEvent({properties:{topic:s.toString(),trace:[Cc.authenticated_session_approve_started]}});try{this.isInitialized()}catch(A){throw a.setError(Od.no_internet_connection),A}const c=this.getPendingAuthRequest(s);if(!c)throw a.setError(Od.authenticated_session_pending_request_not_found),new Error(`Could not find pending auth request with id ${s}`);const u=c.transportType||Lt.relay;u===Lt.relay&&await this.confirmOnlineStateOrThrow();const f=c.requester.publicKey,h=await this.client.core.crypto.generateKeyPair(),p=k0(f),g={type:wo,receiverPublicKey:f,senderPublicKey:h},y=[],b=[];for(const A of i){if(!await RT({cacao:A,projectId:this.client.core.projectId})){a.setError(Od.invalid_cacao);const T=jt("SESSION_SETTLEMENT_FAILED","Signature verification failed");throw await this.sendError({id:s,topic:p,error:T,encodeOpts:g}),new Error(T.message)}a.addTrace(Cc.cacaos_verified);const{p:S}=A,D=L0(S.resources),x=[qv(S.iss)],N=hm(S.iss);if(D){const T=$T(D),I=UT(D);y.push(...T),x.push(...I)}for(const T of x)b.push(`${T}:${N}`)}const v=await this.client.core.crypto.generateSharedKey(h,f);a.addTrace(Cc.create_authenticated_session_topic);let E;if(y?.length>0){E={topic:v,acknowledged:!0,self:{publicKey:h,metadata:this.client.metadata},peer:{publicKey:f,metadata:c.requester.metadata},controller:f,expiry:dn(lu),authentication:i,requiredNamespaces:{},optionalNamespaces:{},relay:{protocol:"irn"},pairingTopic:c.pairingTopic,namespaces:r_([...new Set(y)],[...new Set(b)]),transportType:u},a.addTrace(Cc.subscribing_authenticated_session_topic);try{await this.client.core.relayer.subscribe(v,{transportType:u})}catch(A){throw a.setError(Od.subscribe_authenticated_session_topic_failure),A}a.addTrace(Cc.subscribe_authenticated_session_topic_success),await this.client.session.set(v,E),a.addTrace(Cc.store_authenticated_session),await this.client.core.pairing.updateMetadata({topic:c.pairingTopic,metadata:c.requester.metadata})}a.addTrace(Cc.publishing_authenticated_session_approve);try{await this.sendResult({topic:p,id:s,result:{cacaos:i,responder:{publicKey:h,metadata:this.client.metadata}},encodeOpts:g,throwOnFailedPublish:!0,appLink:this.getAppLinkIfEnabled(c.requester.metadata,u)})}catch(A){throw a.setError(Od.authenticated_session_approve_publish_failure),A}return await this.client.auth.requests.delete(s,{message:"fulfilled",code:0}),await this.client.core.pairing.activate({topic:c.pairingTopic}),this.client.core.eventClient.deleteEvent({eventId:a.eventId}),{session:E}}),he(this,"rejectSessionAuthenticate",async n=>{this.isInitialized();const{id:s,reason:i}=n,a=this.getPendingAuthRequest(s);if(!a)throw new Error(`Could not find pending auth request with id ${s}`);a.transportType===Lt.relay&&await this.confirmOnlineStateOrThrow();const c=a.requester.publicKey,u=await this.client.core.crypto.generateKeyPair(),f=k0(c),h={type:wo,receiverPublicKey:c,senderPublicKey:u};await this.sendError({id:s,topic:f,error:i,encodeOpts:h,rpcOpts:mn.wc_sessionAuthenticate.reject,appLink:this.getAppLinkIfEnabled(a.requester.metadata,a.transportType)}),await this.client.auth.requests.delete(s,{message:"rejected",code:0}),await this.deleteProposal(s)}),he(this,"formatAuthMessage",n=>{this.isInitialized();const{request:s,iss:i}=n;return XD(s,i)}),he(this,"processRelayMessageCache",()=>{setTimeout(async()=>{if(this.relayMessageCache.length!==0)for(;this.relayMessageCache.length>0;)try{const n=this.relayMessageCache.shift();n&&await this.onRelayMessage(n)}catch(n){this.client.logger.error(n)}},50)}),he(this,"cleanupDuplicatePairings",async n=>{if(n.pairingTopic)try{const s=this.client.core.pairing.pairings.get(n.pairingTopic),i=this.client.core.pairing.pairings.getAll().filter(a=>{var c,u;return((c=a.peerMetadata)==null?void 0:c.url)&&((u=a.peerMetadata)==null?void 0:u.url)===n.peer.metadata.url&&a.topic&&a.topic!==s.topic});if(i.length===0)return;this.client.logger.info(`Cleaning up ${i.length} duplicate pairing(s)`),await Promise.all(i.map(a=>this.client.core.pairing.disconnect({topic:a.topic}))),this.client.logger.info("Duplicate pairings clean up finished")}catch(s){this.client.logger.error(s)}}),he(this,"deleteSession",async n=>{var s;const{topic:i,expirerHasDeleted:a=!1,emitEvent:c=!0,id:u=0}=n,{self:f}=this.client.session.get(i);await this.client.core.relayer.unsubscribe(i),await this.client.session.delete(i,jt("USER_DISCONNECTED")),this.addToRecentlyDeleted(i,"session"),this.client.core.crypto.keychain.has(f.publicKey)&&await this.client.core.crypto.deleteKeyPair(f.publicKey),this.client.core.crypto.keychain.has(i)&&await this.client.core.crypto.deleteSymKey(i),a||this.client.core.expirer.del(i),this.client.core.storage.removeItem(F_).catch(h=>this.client.logger.warn(h)),this.getPendingSessionRequests().forEach(h=>{h.topic===i&&this.deletePendingSessionRequest(h.id,jt("USER_DISCONNECTED"))}),i===((s=this.sessionRequestQueue.queue[0])==null?void 0:s.topic)&&(this.sessionRequestQueue.state=pr.idle),c&&this.client.events.emit("session_delete",{id:u,topic:i})}),he(this,"deleteProposal",async(n,s)=>{if(s)try{const i=this.client.proposal.get(n);this.client.core.eventClient.getEvent({topic:i.pairingTopic})?.setError(Ac.proposal_expired)}catch{}await Promise.all([this.client.proposal.delete(n,jt("USER_DISCONNECTED")),s?Promise.resolve():this.client.core.expirer.del(n)]),this.addToRecentlyDeleted(n,"proposal")}),he(this,"deletePendingSessionRequest",async(n,s,i=!1)=>{await Promise.all([this.client.pendingRequest.delete(n,s),i?Promise.resolve():this.client.core.expirer.del(n)]),this.addToRecentlyDeleted(n,"request"),this.sessionRequestQueue.queue=this.sessionRequestQueue.queue.filter(a=>a.id!==n),i&&(this.sessionRequestQueue.state=pr.idle,this.client.events.emit("session_request_expire",{id:n}))}),he(this,"deletePendingAuthRequest",async(n,s,i=!1)=>{await Promise.all([this.client.auth.requests.delete(n,s),i?Promise.resolve():this.client.core.expirer.del(n)])}),he(this,"setExpiry",async(n,s)=>{this.client.session.keys.includes(n)&&(this.client.core.expirer.set(n,s),await this.client.session.update(n,{expiry:s}))}),he(this,"setProposal",async(n,s)=>{this.client.core.expirer.set(n,dn(mn.wc_sessionPropose.req.ttl)),await this.client.proposal.set(n,s)}),he(this,"setAuthRequest",async(n,s)=>{const{request:i,pairingTopic:a,transportType:c=Lt.relay}=s;this.client.core.expirer.set(n,i.expiryTimestamp),await this.client.auth.requests.set(n,{authPayload:i.authPayload,requester:i.requester,expiryTimestamp:i.expiryTimestamp,id:n,pairingTopic:a,verifyContext:i.verifyContext,transportType:c})}),he(this,"setPendingSessionRequest",async n=>{const{id:s,topic:i,params:a,verifyContext:c}=n,u=a.request.expiryTimestamp||dn(mn.wc_sessionRequest.req.ttl);this.client.core.expirer.set(s,u),await this.client.pendingRequest.set(s,{id:s,topic:i,params:a,verifyContext:c})}),he(this,"sendRequest",async n=>{const{topic:s,method:i,params:a,expiry:c,relayRpcId:u,clientRpcId:f,throwOnFailedPublish:h,appLink:p,tvf:g}=n,y=Ia(i,a,f);let b;const v=!!p;try{const S=v?xa:Ki;b=await this.client.core.crypto.encode(s,y,{encoding:S})}catch(S){throw await this.cleanup(),this.client.logger.error(`sendRequest() -> core.crypto.encode() for topic ${s} failed`),S}let E;if(Kne.includes(i)){const S=br(JSON.stringify(y)),D=br(b);E=await this.client.core.verify.register({id:D,decryptedId:S})}const A=mn[i].req;if(A.attestation=E,c&&(A.ttl=c),u&&(A.id=u),this.client.core.history.set(s,y),v){const S=h0(p,s,b);await global.Linking.openURL(S,this.client.name)}else{const S=mn[i].req;c&&(S.ttl=c),u&&(S.id=u),S.tvf=ps(Pt({},g),{correlationId:y.id}),h?(S.internal=ps(Pt({},S.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(s,b,S)):this.client.core.relayer.publish(s,b,S).catch(D=>this.client.logger.error(D))}return y.id}),he(this,"sendResult",async n=>{const{id:s,topic:i,result:a,throwOnFailedPublish:c,encodeOpts:u,appLink:f}=n,h=qm(s,a);let p;const g=f&&typeof(global==null?void 0:global.Linking)<"u";try{const v=g?xa:Ki;p=await this.client.core.crypto.encode(i,h,ps(Pt({},u||{}),{encoding:v}))}catch(v){throw await this.cleanup(),this.client.logger.error(`sendResult() -> core.crypto.encode() for topic ${i} failed`),v}let y,b;try{y=await this.client.core.history.get(i,s);const v=y.request;try{b=this.getTVFParams(s,v.params,a)}catch(E){this.client.logger.warn(`sendResult() -> getTVFParams() failed: ${E?.message}`)}}catch(v){throw this.client.logger.error(`sendResult() -> history.get(${i}, ${s}) failed`),v}if(g){const v=h0(f,i,p);await global.Linking.openURL(v,this.client.name)}else{const v=y.request.method,E=mn[v].res;E.tvf=ps(Pt({},b),{correlationId:s}),c?(E.internal=ps(Pt({},E.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(i,p,E)):this.client.core.relayer.publish(i,p,E).catch(A=>this.client.logger.error(A))}await this.client.core.history.resolve(h)}),he(this,"sendError",async n=>{const{id:s,topic:i,error:a,encodeOpts:c,rpcOpts:u,appLink:f}=n,h=Vm(s,a);let p;const g=f&&typeof(global==null?void 0:global.Linking)<"u";try{const b=g?xa:Ki;p=await this.client.core.crypto.encode(i,h,ps(Pt({},c||{}),{encoding:b}))}catch(b){throw await this.cleanup(),this.client.logger.error(`sendError() -> core.crypto.encode() for topic ${i} failed`),b}let y;try{y=await this.client.core.history.get(i,s)}catch(b){throw this.client.logger.error(`sendError() -> history.get(${i}, ${s}) failed`),b}if(g){const b=h0(f,i,p);await global.Linking.openURL(b,this.client.name)}else{const b=y.request.method,v=u||mn[b].res;this.client.core.relayer.publish(i,p,v)}await this.client.core.history.resolve(h)}),he(this,"cleanup",async()=>{const n=[],s=[];this.client.session.getAll().forEach(i=>{let a=!1;Ea(i.expiry)&&(a=!0),this.client.core.crypto.keychain.has(i.topic)||(a=!0),a&&n.push(i.topic)}),this.client.proposal.getAll().forEach(i=>{Ea(i.expiryTimestamp)&&s.push(i.id)}),await Promise.all([...n.map(i=>this.deleteSession({topic:i})),...s.map(i=>this.deleteProposal(i))])}),he(this,"onProviderMessageEvent",async n=>{!this.initialized||this.relayMessageCache.length>0?this.relayMessageCache.push(n):await this.onRelayMessage(n)}),he(this,"onRelayEventRequest",async n=>{this.requestQueue.queue.push(n),await this.processRequestsQueue()}),he(this,"processRequestsQueue",async()=>{if(this.requestQueue.state===pr.active){this.client.logger.info("Request queue already active, skipping...");return}for(this.client.logger.info(`Request queue starting with ${this.requestQueue.queue.length} requests`);this.requestQueue.queue.length>0;){this.requestQueue.state=pr.active;const n=this.requestQueue.queue.shift();if(n)try{await this.processRequest(n)}catch(s){this.client.logger.warn(s)}}this.requestQueue.state=pr.idle}),he(this,"processRequest",async n=>{const{topic:s,payload:i,attestation:a,transportType:c,encryptedId:u}=n,f=i.method;if(!this.shouldIgnorePairingRequest({topic:s,requestMethod:f}))switch(f){case"wc_sessionPropose":return await this.onSessionProposeRequest({topic:s,payload:i,attestation:a,encryptedId:u});case"wc_sessionSettle":return await this.onSessionSettleRequest(s,i);case"wc_sessionUpdate":return await this.onSessionUpdateRequest(s,i);case"wc_sessionExtend":return await this.onSessionExtendRequest(s,i);case"wc_sessionPing":return await this.onSessionPingRequest(s,i);case"wc_sessionDelete":return await this.onSessionDeleteRequest(s,i);case"wc_sessionRequest":return await this.onSessionRequest({topic:s,payload:i,attestation:a,encryptedId:u,transportType:c});case"wc_sessionEvent":return await this.onSessionEventRequest(s,i);case"wc_sessionAuthenticate":return await this.onSessionAuthenticateRequest({topic:s,payload:i,attestation:a,encryptedId:u,transportType:c});default:return this.client.logger.info(`Unsupported request method ${f}`)}}),he(this,"onRelayEventResponse",async n=>{const{topic:s,payload:i,transportType:a}=n,c=(await this.client.core.history.get(s,i.id)).request.method;switch(c){case"wc_sessionPropose":return this.onSessionProposeResponse(s,i,a);case"wc_sessionSettle":return this.onSessionSettleResponse(s,i);case"wc_sessionUpdate":return this.onSessionUpdateResponse(s,i);case"wc_sessionExtend":return this.onSessionExtendResponse(s,i);case"wc_sessionPing":return this.onSessionPingResponse(s,i);case"wc_sessionRequest":return this.onSessionRequestResponse(s,i);case"wc_sessionAuthenticate":return this.onSessionAuthenticateResponse(s,i);default:return this.client.logger.info(`Unsupported response method ${c}`)}}),he(this,"onRelayEventUnknownPayload",n=>{const{topic:s}=n,{message:i}=ye("MISSING_OR_INVALID",`Decoded payload on topic ${s} is not identifiable as a JSON-RPC request or a response.`);throw new Error(i)}),he(this,"shouldIgnorePairingRequest",n=>{const{topic:s,requestMethod:i}=n,a=this.expectedPairingMethodMap.get(s);return!a||a.includes(i)?!1:!!(a.includes("wc_sessionAuthenticate")&&this.client.events.listenerCount("session_authenticate")>0)}),he(this,"onSessionProposeRequest",async n=>{const{topic:s,payload:i,attestation:a,encryptedId:c}=n,{params:u,id:f}=i;try{const h=this.client.core.eventClient.getEvent({topic:s});this.client.events.listenerCount("session_proposal")===0&&(console.warn("No listener for session_proposal event"),h?.setError(po.proposal_listener_not_found)),this.isValidConnect(Pt({},i.params));const p=u.expiryTimestamp||dn(mn.wc_sessionPropose.req.ttl),g=Pt({id:f,pairingTopic:s,expiryTimestamp:p,attestation:a,encryptedId:c},u);await this.setProposal(f,g);const y=await this.getVerifyContext({attestationId:a,hash:br(JSON.stringify(i)),encryptedId:c,metadata:g.proposer.metadata});h?.addTrace(mr.emit_session_proposal),this.client.events.emit("session_proposal",{id:f,params:g,verifyContext:y})}catch(h){await this.sendError({id:f,topic:s,error:h,rpcOpts:mn.wc_sessionPropose.autoReject}),this.client.logger.error(h)}}),he(this,"onSessionProposeResponse",async(n,s,i)=>{const{id:a}=s;if(wr(s)){const{result:c}=s;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",result:c});const u=this.client.proposal.get(a);this.client.logger.trace({type:"method",method:"onSessionProposeResponse",proposal:u});const f=u.proposer.publicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",selfPublicKey:f});const h=c.responderPublicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",peerPublicKey:h});const p=await this.client.core.crypto.generateSharedKey(f,h);this.pendingSessions.set(a,{sessionTopic:p,pairingTopic:n,proposalId:a,publicKey:f});const g=await this.client.core.relayer.subscribe(p,{transportType:i});this.client.logger.trace({type:"method",method:"onSessionProposeResponse",subscriptionId:g}),await this.client.core.pairing.activate({topic:n})}else if(vi(s)){await this.deleteProposal(a);const c=dt("session_connect",a);if(this.events.listenerCount(c)===0)throw new Error(`emitting ${c} without any listeners, 954`);this.events.emit(c,{error:s.error})}}),he(this,"onSessionSettleRequest",async(n,s)=>{const{id:i,params:a}=s;try{this.isValidSessionSettleRequest(a);const{relay:c,controller:u,expiry:f,namespaces:h,sessionProperties:p,scopedProperties:g,sessionConfig:y}=s.params,b=[...this.pendingSessions.values()].find(A=>A.sessionTopic===n);if(!b)return this.client.logger.error(`Pending session not found for topic ${n}`);const v=this.client.proposal.get(b.proposalId),E=ps(Pt(Pt(Pt({topic:n,relay:c,expiry:f,namespaces:h,acknowledged:!0,pairingTopic:b.pairingTopic,requiredNamespaces:v.requiredNamespaces,optionalNamespaces:v.optionalNamespaces,controller:u.publicKey,self:{publicKey:b.publicKey,metadata:this.client.metadata},peer:{publicKey:u.publicKey,metadata:u.metadata}},p&&{sessionProperties:p}),g&&{scopedProperties:g}),y&&{sessionConfig:y}),{transportType:Lt.relay});await this.client.session.set(E.topic,E),await this.setExpiry(E.topic,E.expiry),await this.client.core.pairing.updateMetadata({topic:b.pairingTopic,metadata:E.peer.metadata}),this.client.events.emit("session_connect",{session:E}),this.events.emit(dt("session_connect",b.proposalId),{session:E}),this.pendingSessions.delete(b.proposalId),this.deleteProposal(b.proposalId,!1),this.cleanupDuplicatePairings(E),await this.sendResult({id:s.id,topic:n,result:!0})}catch(c){await this.sendError({id:i,topic:n,error:c}),this.client.logger.error(c)}}),he(this,"onSessionSettleResponse",async(n,s)=>{const{id:i}=s;wr(s)?(await this.client.session.update(n,{acknowledged:!0}),this.events.emit(dt("session_approve",i),{})):vi(s)&&(await this.client.session.delete(n,jt("USER_DISCONNECTED")),this.events.emit(dt("session_approve",i),{error:s.error}))}),he(this,"onSessionUpdateRequest",async(n,s)=>{const{params:i,id:a}=s;try{const c=`${n}_session_update`,u=Id.get(c);if(u&&this.isRequestOutOfSync(u,a)){this.client.logger.warn(`Discarding out of sync request - ${a}`),this.sendError({id:a,topic:n,error:jt("INVALID_UPDATE_REQUEST")});return}this.isValidUpdate(Pt({topic:n},i));try{Id.set(c,a),await this.client.session.update(n,{namespaces:i.namespaces}),await this.sendResult({id:a,topic:n,result:!0})}catch(f){throw Id.delete(c),f}this.client.events.emit("session_update",{id:a,topic:n,params:i})}catch(c){await this.sendError({id:a,topic:n,error:c}),this.client.logger.error(c)}}),he(this,"isRequestOutOfSync",(n,s)=>s.toString().slice(0,-3)<n.toString().slice(0,-3)),he(this,"onSessionUpdateResponse",(n,s)=>{const{id:i}=s,a=dt("session_update",i);if(this.events.listenerCount(a)===0)throw new Error(`emitting ${a} without any listeners`);wr(s)?this.events.emit(dt("session_update",i),{}):vi(s)&&this.events.emit(dt("session_update",i),{error:s.error})}),he(this,"onSessionExtendRequest",async(n,s)=>{const{id:i}=s;try{this.isValidExtend({topic:n}),await this.setExpiry(n,dn(lu)),await this.sendResult({id:i,topic:n,result:!0}),this.client.events.emit("session_extend",{id:i,topic:n})}catch(a){await this.sendError({id:i,topic:n,error:a}),this.client.logger.error(a)}}),he(this,"onSessionExtendResponse",(n,s)=>{const{id:i}=s,a=dt("session_extend",i);if(this.events.listenerCount(a)===0)throw new Error(`emitting ${a} without any listeners`);wr(s)?this.events.emit(dt("session_extend",i),{}):vi(s)&&this.events.emit(dt("session_extend",i),{error:s.error})}),he(this,"onSessionPingRequest",async(n,s)=>{const{id:i}=s;try{this.isValidPing({topic:n}),await this.sendResult({id:i,topic:n,result:!0,throwOnFailedPublish:!0}),this.client.events.emit("session_ping",{id:i,topic:n})}catch(a){await this.sendError({id:i,topic:n,error:a}),this.client.logger.error(a)}}),he(this,"onSessionPingResponse",(n,s)=>{const{id:i}=s,a=dt("session_ping",i);setTimeout(()=>{if(this.events.listenerCount(a)===0)throw new Error(`emitting ${a} without any listeners 2176`);wr(s)?this.events.emit(dt("session_ping",i),{}):vi(s)&&this.events.emit(dt("session_ping",i),{error:s.error})},500)}),he(this,"onSessionDeleteRequest",async(n,s)=>{const{id:i}=s;try{this.isValidDisconnect({topic:n,reason:s.params}),Promise.all([new Promise(a=>{this.client.core.relayer.once(vn.publish,async()=>{a(await this.deleteSession({topic:n,id:i}))})}),this.sendResult({id:i,topic:n,result:!0}),this.cleanupPendingSentRequestsForTopic({topic:n,error:jt("USER_DISCONNECTED")})]).catch(a=>this.client.logger.error(a))}catch(a){this.client.logger.error(a)}}),he(this,"onSessionRequest",async n=>{var s,i,a;const{topic:c,payload:u,attestation:f,encryptedId:h,transportType:p}=n,{id:g,params:y}=u;try{await this.isValidRequest(Pt({topic:c},y));const b=this.client.session.get(c),v=await this.getVerifyContext({attestationId:f,hash:br(JSON.stringify(Ia("wc_sessionRequest",y,g))),encryptedId:h,metadata:b.peer.metadata,transportType:p}),E={id:g,topic:c,params:y,verifyContext:v};await this.setPendingSessionRequest(E),p===Lt.link_mode&&(s=b.peer.metadata.redirect)!=null&&s.universal&&this.client.core.addLinkModeSupportedApp((i=b.peer.metadata.redirect)==null?void 0:i.universal),(a=this.client.signConfig)!=null&&a.disableRequestQueue?this.emitSessionRequest(E):(this.addSessionRequestToSessionRequestQueue(E),this.processSessionRequestQueue())}catch(b){await this.sendError({id:g,topic:c,error:b}),this.client.logger.error(b)}}),he(this,"onSessionRequestResponse",(n,s)=>{const{id:i}=s,a=dt("session_request",i);if(this.events.listenerCount(a)===0)throw new Error(`emitting ${a} without any listeners`);wr(s)?this.events.emit(dt("session_request",i),{result:s.result}):vi(s)&&this.events.emit(dt("session_request",i),{error:s.error})}),he(this,"onSessionEventRequest",async(n,s)=>{const{id:i,params:a}=s;try{const c=`${n}_session_event_${a.event.name}`,u=Id.get(c);if(u&&this.isRequestOutOfSync(u,i)){this.client.logger.info(`Discarding out of sync request - ${i}`);return}this.isValidEmit(Pt({topic:n},a)),this.client.events.emit("session_event",{id:i,topic:n,params:a}),Id.set(c,i)}catch(c){await this.sendError({id:i,topic:n,error:c}),this.client.logger.error(c)}}),he(this,"onSessionAuthenticateResponse",(n,s)=>{const{id:i}=s;this.client.logger.trace({type:"method",method:"onSessionAuthenticateResponse",topic:n,payload:s}),wr(s)?this.events.emit(dt("session_request",i),{result:s.result}):vi(s)&&this.events.emit(dt("session_request",i),{error:s.error})}),he(this,"onSessionAuthenticateRequest",async n=>{var s;const{topic:i,payload:a,attestation:c,encryptedId:u,transportType:f}=n;try{const{requester:h,authPayload:p,expiryTimestamp:g}=a.params,y=await this.getVerifyContext({attestationId:c,hash:br(JSON.stringify(a)),encryptedId:u,metadata:h.metadata,transportType:f}),b={requester:h,pairingTopic:i,id:a.id,authPayload:p,verifyContext:y,expiryTimestamp:g};await this.setAuthRequest(a.id,{request:b,pairingTopic:i,transportType:f}),f===Lt.link_mode&&(s=h.metadata.redirect)!=null&&s.universal&&this.client.core.addLinkModeSupportedApp(h.metadata.redirect.universal),this.client.events.emit("session_authenticate",{topic:i,params:a.params,id:a.id,verifyContext:y})}catch(h){this.client.logger.error(h);const p=a.params.requester.publicKey,g=await this.client.core.crypto.generateKeyPair(),y=this.getAppLinkIfEnabled(a.params.requester.metadata,f),b={type:wo,receiverPublicKey:p,senderPublicKey:g};await this.sendError({id:a.id,topic:i,error:h,encodeOpts:b,rpcOpts:mn.wc_sessionAuthenticate.autoReject,appLink:y})}}),he(this,"addSessionRequestToSessionRequestQueue",n=>{this.sessionRequestQueue.queue.push(n)}),he(this,"cleanupAfterResponse",n=>{this.deletePendingSessionRequest(n.response.id,{message:"fulfilled",code:0}),setTimeout(()=>{this.sessionRequestQueue.state=pr.idle,this.processSessionRequestQueue()},we.toMiliseconds(this.requestQueueDelay))}),he(this,"cleanupPendingSentRequestsForTopic",({topic:n,error:s})=>{const i=this.client.core.history.pending;i.length>0&&i.filter(a=>a.topic===n&&a.request.method==="wc_sessionRequest").forEach(a=>{const c=a.request.id,u=dt("session_request",c);if(this.events.listenerCount(u)===0)throw new Error(`emitting ${u} without any listeners`);this.events.emit(dt("session_request",a.request.id),{error:s})})}),he(this,"processSessionRequestQueue",()=>{if(this.sessionRequestQueue.state===pr.active){this.client.logger.info("session request queue is already active.");return}const n=this.sessionRequestQueue.queue[0];if(!n){this.client.logger.info("session request queue is empty.");return}try{this.emitSessionRequest(n)}catch(s){this.client.logger.error(s)}}),he(this,"emitSessionRequest",n=>{if(this.emittedSessionRequests.has(n.id)){this.client.logger.warn({id:n.id},`Skipping emitting \`session_request\` event for duplicate request. id: ${n.id}`);return}this.sessionRequestQueue.state=pr.active,this.emittedSessionRequests.add(n.id),this.client.events.emit("session_request",n)}),he(this,"onPairingCreated",n=>{if(n.methods&&this.expectedPairingMethodMap.set(n.topic,n.methods),n.active)return;const s=this.client.proposal.getAll().find(i=>i.pairingTopic===n.topic);s&&this.onSessionProposeRequest({topic:n.topic,payload:Ia("wc_sessionPropose",ps(Pt({},s),{requiredNamespaces:s.requiredNamespaces,optionalNamespaces:s.optionalNamespaces,relays:s.relays,proposer:s.proposer,sessionProperties:s.sessionProperties,scopedProperties:s.scopedProperties}),s.id),attestation:s.attestation,encryptedId:s.encryptedId})}),he(this,"isValidConnect",async n=>{if(!vs(n)){const{message:h}=ye("MISSING_OR_INVALID",`connect() params: ${JSON.stringify(n)}`);throw new Error(h)}const{pairingTopic:s,requiredNamespaces:i,optionalNamespaces:a,sessionProperties:c,scopedProperties:u,relays:f}=n;if($n(s)||await this.isValidPairingTopic(s),!uZ(f)){const{message:h}=ye("MISSING_OR_INVALID",`connect() relays: ${f}`);throw new Error(h)}if(!$n(i)&&_r(i)!==0){const h="requiredNamespaces are deprecated and are automatically assigned to optionalNamespaces";["fatal","error","silent"].includes(this.client.logger.level)?console.warn(h):this.client.logger.warn(h),this.validateNamespaces(i,"requiredNamespaces")}if(!$n(a)&&_r(a)!==0&&this.validateNamespaces(a,"optionalNamespaces"),$n(c)||this.validateSessionProps(c,"sessionProperties"),!$n(u)){this.validateSessionProps(u,"scopedProperties");const h=Object.keys(i||{}).concat(Object.keys(a||{}));if(!Object.keys(u).every(p=>h.includes(p.split(":")[0])))throw new Error(`Scoped properties must be a subset of required/optional namespaces, received: ${JSON.stringify(u)}, required/optional namespaces: ${JSON.stringify(h)}`)}}),he(this,"validateNamespaces",(n,s)=>{const i=lZ(n,"connect()",s);if(i)throw new Error(i.message)}),he(this,"isValidApprove",async n=>{if(!vs(n))throw new Error(ye("MISSING_OR_INVALID",`approve() params: ${n}`).message);const{id:s,namespaces:i,relayProtocol:a,sessionProperties:c,scopedProperties:u}=n;this.checkRecentlyDeleted(s),await this.isValidProposalId(s);const f=this.client.proposal.get(s),h=vb(i,"approve()");if(h)throw new Error(h.message);const p=c_(f.requiredNamespaces,i,"approve()");if(p)throw new Error(p.message);if(!on(a,!0)){const{message:g}=ye("MISSING_OR_INVALID",`approve() relayProtocol: ${a}`);throw new Error(g)}if($n(c)||this.validateSessionProps(c,"sessionProperties"),!$n(u)){this.validateSessionProps(u,"scopedProperties");const g=new Set(Object.keys(i));if(!Object.keys(u).every(y=>g.has(y.split(":")[0])))throw new Error(`Scoped properties must be a subset of approved namespaces, received: ${JSON.stringify(u)}, approved namespaces: ${Array.from(g).join(", ")}`)}}),he(this,"isValidReject",async n=>{if(!vs(n)){const{message:a}=ye("MISSING_OR_INVALID",`reject() params: ${n}`);throw new Error(a)}const{id:s,reason:i}=n;if(this.checkRecentlyDeleted(s),await this.isValidProposalId(s),!dZ(i)){const{message:a}=ye("MISSING_OR_INVALID",`reject() reason: ${JSON.stringify(i)}`);throw new Error(a)}}),he(this,"isValidSessionSettleRequest",n=>{if(!vs(n)){const{message:h}=ye("MISSING_OR_INVALID",`onSessionSettleRequest() params: ${n}`);throw new Error(h)}const{relay:s,controller:i,namespaces:a,expiry:c}=n;if(!TO(s)){const{message:h}=ye("MISSING_OR_INVALID","onSessionSettleRequest() relay protocol should be a string");throw new Error(h)}const u=sZ(i,"onSessionSettleRequest()");if(u)throw new Error(u.message);const f=vb(a,"onSessionSettleRequest()");if(f)throw new Error(f.message);if(Ea(c)){const{message:h}=ye("EXPIRED","onSessionSettleRequest()");throw new Error(h)}}),he(this,"isValidUpdate",async n=>{if(!vs(n)){const{message:f}=ye("MISSING_OR_INVALID",`update() params: ${n}`);throw new Error(f)}const{topic:s,namespaces:i}=n;this.checkRecentlyDeleted(s),await this.isValidSessionTopic(s);const a=this.client.session.get(s),c=vb(i,"update()");if(c)throw new Error(c.message);const u=c_(a.requiredNamespaces,i,"update()");if(u)throw new Error(u.message)}),he(this,"isValidExtend",async n=>{if(!vs(n)){const{message:i}=ye("MISSING_OR_INVALID",`extend() params: ${n}`);throw new Error(i)}const{topic:s}=n;this.checkRecentlyDeleted(s),await this.isValidSessionTopic(s)}),he(this,"isValidRequest",async n=>{if(!vs(n)){const{message:f}=ye("MISSING_OR_INVALID",`request() params: ${n}`);throw new Error(f)}const{topic:s,request:i,chainId:a,expiry:c}=n;this.checkRecentlyDeleted(s),await this.isValidSessionTopic(s);const{namespaces:u}=this.client.session.get(s);if(!a_(u,a)){const{message:f}=ye("MISSING_OR_INVALID",`request() chainId: ${a}`);throw new Error(f)}if(!hZ(i)){const{message:f}=ye("MISSING_OR_INVALID",`request() ${JSON.stringify(i)}`);throw new Error(f)}if(!mZ(u,a,i.method)){const{message:f}=ye("MISSING_OR_INVALID",`request() method: ${i.method}`);throw new Error(f)}if(c&&!vZ(c,_b)){const{message:f}=ye("MISSING_OR_INVALID",`request() expiry: ${c}. Expiry must be a number (in seconds) between ${_b.min} and ${_b.max}`);throw new Error(f)}}),he(this,"isValidRespond",async n=>{var s;if(!vs(n)){const{message:c}=ye("MISSING_OR_INVALID",`respond() params: ${n}`);throw new Error(c)}const{topic:i,response:a}=n;try{await this.isValidSessionTopic(i)}catch(c){throw(s=n?.response)!=null&&s.id&&this.cleanupAfterResponse(n),c}if(!pZ(a)){const{message:c}=ye("MISSING_OR_INVALID",`respond() response: ${JSON.stringify(a)}`);throw new Error(c)}}),he(this,"isValidPing",async n=>{if(!vs(n)){const{message:i}=ye("MISSING_OR_INVALID",`ping() params: ${n}`);throw new Error(i)}const{topic:s}=n;await this.isValidSessionOrPairingTopic(s)}),he(this,"isValidEmit",async n=>{if(!vs(n)){const{message:u}=ye("MISSING_OR_INVALID",`emit() params: ${n}`);throw new Error(u)}const{topic:s,event:i,chainId:a}=n;await this.isValidSessionTopic(s);const{namespaces:c}=this.client.session.get(s);if(!a_(c,a)){const{message:u}=ye("MISSING_OR_INVALID",`emit() chainId: ${a}`);throw new Error(u)}if(!gZ(i)){const{message:u}=ye("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(i)}`);throw new Error(u)}if(!yZ(c,a,i.name)){const{message:u}=ye("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(i)}`);throw new Error(u)}}),he(this,"isValidDisconnect",async n=>{if(!vs(n)){const{message:i}=ye("MISSING_OR_INVALID",`disconnect() params: ${n}`);throw new Error(i)}const{topic:s}=n;await this.isValidSessionOrPairingTopic(s)}),he(this,"isValidAuthenticate",n=>{const{chains:s,uri:i,domain:a,nonce:c}=n;if(!Array.isArray(s)||s.length===0)throw new Error("chains is required and must be a non-empty array");if(!on(i,!1))throw new Error("uri is required parameter");if(!on(a,!1))throw new Error("domain is required parameter");if(!on(c,!1))throw new Error("nonce is required parameter");if([...new Set(s.map(f=>zu(f).namespace))].length>1)throw new Error("Multi-namespace requests are not supported. Please request single namespace only.");const{namespace:u}=zu(s[0]);if(u!=="eip155")throw new Error("Only eip155 namespace is supported for authenticated sessions. Please use .connect() for non-eip155 chains.")}),he(this,"getVerifyContext",async n=>{const{attestationId:s,hash:i,encryptedId:a,metadata:c,transportType:u}=n,f={verified:{verifyUrl:c.verifyUrl||oh,validation:"UNKNOWN",origin:c.url||""}};try{if(u===Lt.link_mode){const p=this.getAppLinkIfEnabled(c,u);return f.verified.validation=p&&new URL(p).origin===new URL(c.url).origin?"VALID":"INVALID",f}const h=await this.client.core.verify.resolve({attestationId:s,hash:i,encryptedId:a,verifyUrl:c.verifyUrl});h&&(f.verified.origin=h.origin,f.verified.isScam=h.isScam,f.verified.validation=h.origin===new URL(c.url).origin?"VALID":"INVALID")}catch(h){this.client.logger.warn(h)}return this.client.logger.debug(`Verify context: ${JSON.stringify(f)}`),f}),he(this,"validateSessionProps",(n,s)=>{Object.values(n).forEach((i,a)=>{if(i==null){const{message:c}=ye("MISSING_OR_INVALID",`${s} must contain an existing value for each key. Received: ${i} for key ${Object.keys(n)[a]}`);throw new Error(c)}})}),he(this,"getPendingAuthRequest",n=>{const s=this.client.auth.requests.get(n);return typeof s=="object"?s:void 0}),he(this,"addToRecentlyDeleted",(n,s)=>{if(this.recentlyDeletedMap.set(n,s),this.recentlyDeletedMap.size>=this.recentlyDeletedLimit){let i=0;const a=this.recentlyDeletedLimit/2;for(const c of this.recentlyDeletedMap.keys()){if(i++>=a)break;this.recentlyDeletedMap.delete(c)}}}),he(this,"checkRecentlyDeleted",n=>{const s=this.recentlyDeletedMap.get(n);if(s){const{message:i}=ye("MISSING_OR_INVALID",`Record was recently deleted - ${s}: ${n}`);throw new Error(i)}}),he(this,"isLinkModeEnabled",(n,s)=>{var i,a,c,u,f,h,p,g,y;return!n||s!==Lt.link_mode?!1:((a=(i=this.client.metadata)==null?void 0:i.redirect)==null?void 0:a.linkMode)===!0&&((u=(c=this.client.metadata)==null?void 0:c.redirect)==null?void 0:u.universal)!==void 0&&((h=(f=this.client.metadata)==null?void 0:f.redirect)==null?void 0:h.universal)!==""&&((p=n?.redirect)==null?void 0:p.universal)!==void 0&&((g=n?.redirect)==null?void 0:g.universal)!==""&&((y=n?.redirect)==null?void 0:y.linkMode)===!0&&this.client.core.linkModeSupportedApps.includes(n.redirect.universal)&&typeof(global==null?void 0:global.Linking)<"u"}),he(this,"getAppLinkIfEnabled",(n,s)=>{var i;return this.isLinkModeEnabled(n,s)?(i=n?.redirect)==null?void 0:i.universal:void 0}),he(this,"handleLinkModeMessage",({url:n})=>{if(!n||!n.includes("wc_ev")||!n.includes("topic"))return;const s=ET(n,"topic")||"",i=decodeURIComponent(ET(n,"wc_ev")||""),a=this.client.session.keys.includes(s);a&&this.client.session.update(s,{transportType:Lt.link_mode}),this.client.core.dispatchEnvelope({topic:s,message:i,sessionExists:a})}),he(this,"registerLinkModeListeners",async()=>{var n;if(BE()||za()&&(n=this.client.metadata.redirect)!=null&&n.linkMode){const s=global==null?void 0:global.Linking;if(typeof s<"u"){s.addEventListener("url",this.handleLinkModeMessage,this.client.name);const i=await s.getInitialURL();i&&setTimeout(()=>{this.handleLinkModeMessage({url:i})},50)}}}),he(this,"getTVFParams",(n,s,i)=>{var a,c,u;if(!((a=s.request)!=null&&a.method))return{};const f={correlationId:n,rpcMethods:[s.request.method],chainId:s.chainId};try{const h=this.extractTxHashesFromResult(s.request,i);f.txHashes=h,f.contractAddresses=this.isValidContractData(s.request.params)?[(u=(c=s.request.params)==null?void 0:c[0])==null?void 0:u.to]:[]}catch(h){this.client.logger.warn("Error getting TVF params",h)}return f}),he(this,"isValidContractData",n=>{var s;if(!n)return!1;try{const i=n?.data||((s=n?.[0])==null?void 0:s.data);if(!i.startsWith("0x"))return!1;const a=i.slice(2);return/^[0-9a-fA-F]*$/.test(a)?a.length%2===0:!1}catch{}return!1}),he(this,"extractTxHashesFromResult",(n,s)=>{var i;try{if(!s)return[];const a=n.method,c=Vne[a];if(a==="sui_signTransaction")return[FY(s.transactionBytes)];if(a==="near_signTransaction")return[IT(s)];if(a==="near_signTransactions")return s.map(f=>IT(f));if(a==="xrpl_signTransactionFor"||a==="xrpl_signTransaction")return[(i=s.tx_json)==null?void 0:i.hash];if(a==="polkadot_signTransaction")return[UZ({transaction:n.params.transactionPayload,signature:s.signature})];if(a==="algo_signTxn")return bo(s)?s.map(f=>DT(f)):[DT(s)];if(a==="cosmos_signDirect")return[VY(s)];if(typeof s=="string")return[s];const u=s[c.key];if(bo(u))return a==="solana_signAllTransactions"?u.map(f=>HY(f)):u;if(typeof u=="string")return[u]}catch(a){this.client.logger.warn("Error extracting tx hashes from result",a)}return[]})}async processPendingMessageEvents(){try{const e=this.client.session.keys,n=this.client.core.relayer.messages.getWithoutAck(e);for(const[s,i]of Object.entries(n))for(const a of i)try{await this.onProviderMessageEvent({topic:s,message:a,publishedAt:Date.now()})}catch{this.client.logger.warn(`Error processing pending message event for topic: ${s}, message: ${a}`)}}catch(e){this.client.logger.warn("processPendingMessageEvents failed",e)}}isInitialized(){if(!this.initialized){const{message:e}=ye("NOT_INITIALIZED",this.name);throw new Error(e)}}async confirmOnlineStateOrThrow(){await this.client.core.relayer.confirmOnlineStateOrThrow()}registerRelayerEvents(){this.client.core.relayer.on(vn.message,e=>{this.onProviderMessageEvent(e)})}async onRelayMessage(e){const{topic:n,message:s,attestation:i,transportType:a}=e,{publicKey:c}=this.client.auth.authKeys.keys.includes(j0)?this.client.auth.authKeys.get(j0):{publicKey:void 0};try{const u=await this.client.core.crypto.decode(n,s,{receiverPublicKey:c,encoding:a===Lt.link_mode?xa:Ki});eA(u)?(this.client.core.history.set(n,u),await this.onRelayEventRequest({topic:n,payload:u,attestation:i,transportType:a,encryptedId:br(s)})):Wm(u)?(await this.client.core.history.resolve(u),await this.onRelayEventResponse({topic:n,payload:u,transportType:a}),this.client.core.history.delete(n,u.id)):await this.onRelayEventUnknownPayload({topic:n,payload:u,transportType:a}),await this.client.core.relayer.messages.ack(n,s)}catch(u){this.client.logger.error(u)}}registerExpirerEvents(){this.client.core.expirer.on(bi.expired,async e=>{const{topic:n,id:s}=UD(e.target);if(s&&this.client.pendingRequest.keys.includes(s))return await this.deletePendingSessionRequest(s,ye("EXPIRED"),!0);if(s&&this.client.auth.requests.keys.includes(s))return await this.deletePendingAuthRequest(s,ye("EXPIRED"),!0);n?this.client.session.keys.includes(n)&&(await this.deleteSession({topic:n,expirerHasDeleted:!0}),this.client.events.emit("session_expire",{topic:n})):s&&(await this.deleteProposal(s,!0),this.client.events.emit("proposal_expire",{id:s}))})}registerPairingEvents(){this.client.core.pairing.events.on(Mc.create,e=>this.onPairingCreated(e)),this.client.core.pairing.events.on(Mc.delete,e=>{this.addToRecentlyDeleted(e.topic,"pairing")})}isValidPairingTopic(e){if(!on(e,!1)){const{message:n}=ye("MISSING_OR_INVALID",`pairing topic should be a string: ${e}`);throw new Error(n)}if(!this.client.core.pairing.pairings.keys.includes(e)){const{message:n}=ye("NO_MATCHING_KEY",`pairing topic doesn't exist: ${e}`);throw new Error(n)}if(Ea(this.client.core.pairing.pairings.get(e).expiry)){const{message:n}=ye("EXPIRED",`pairing topic: ${e}`);throw new Error(n)}}async isValidSessionTopic(e){if(!on(e,!1)){const{message:n}=ye("MISSING_OR_INVALID",`session topic should be a string: ${e}`);throw new Error(n)}if(this.checkRecentlyDeleted(e),!this.client.session.keys.includes(e)){const{message:n}=ye("NO_MATCHING_KEY",`session topic doesn't exist: ${e}`);throw new Error(n)}if(Ea(this.client.session.get(e).expiry)){await this.deleteSession({topic:e});const{message:n}=ye("EXPIRED",`session topic: ${e}`);throw new Error(n)}if(!this.client.core.crypto.keychain.has(e)){const{message:n}=ye("MISSING_OR_INVALID",`session topic does not exist in keychain: ${e}`);throw await this.deleteSession({topic:e}),new Error(n)}}async isValidSessionOrPairingTopic(e){if(this.checkRecentlyDeleted(e),this.client.session.keys.includes(e))await this.isValidSessionTopic(e);else if(this.client.core.pairing.pairings.keys.includes(e))this.isValidPairingTopic(e);else if(on(e,!1)){const{message:n}=ye("NO_MATCHING_KEY",`session or pairing topic doesn't exist: ${e}`);throw new Error(n)}else{const{message:n}=ye("MISSING_OR_INVALID",`session or pairing topic should be a string: ${e}`);throw new Error(n)}}async isValidProposalId(e){if(!fZ(e)){const{message:n}=ye("MISSING_OR_INVALID",`proposal id should be a number: ${e}`);throw new Error(n)}if(!this.client.proposal.keys.includes(e)){const{message:n}=ye("NO_MATCHING_KEY",`proposal id doesn't exist: ${e}`);throw new Error(n)}if(Ea(this.client.proposal.get(e).expiryTimestamp)){await this.deleteProposal(e);const{message:n}=ye("EXPIRED",`proposal id: ${e}`);throw new Error(n)}}}class rse extends ol{constructor(e,n){super(e,n,Hne,tA),this.core=e,this.logger=n}}let ose=class extends ol{constructor(e,n){super(e,n,Fne,tA),this.core=e,this.logger=n}};class ase extends ol{constructor(e,n){super(e,n,Wne,tA,s=>s.id),this.core=e,this.logger=n}}class cse extends ol{constructor(e,n){super(e,n,Xne,Gm,()=>j0),this.core=e,this.logger=n}}let lse=class extends ol{constructor(e,n){super(e,n,Qne,Gm),this.core=e,this.logger=n}};class use extends ol{constructor(e,n){super(e,n,Zne,Gm,s=>s.id),this.core=e,this.logger=n}}var fse=Object.defineProperty,dse=(t,e,n)=>e in t?fse(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Ib=(t,e,n)=>dse(t,typeof e!="symbol"?e+"":e,n);class hse{constructor(e,n){this.core=e,this.logger=n,Ib(this,"authKeys"),Ib(this,"pairingTopics"),Ib(this,"requests"),this.authKeys=new cse(this.core,this.logger),this.pairingTopics=new lse(this.core,this.logger),this.requests=new use(this.core,this.logger)}async init(){await this.authKeys.init(),await this.pairingTopics.init(),await this.requests.init()}}var pse=Object.defineProperty,gse=(t,e,n)=>e in t?pse(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,et=(t,e,n)=>gse(t,typeof e!="symbol"?e+"":e,n);let mse=class JO extends BH{constructor(e){super(e),et(this,"protocol",XO),et(this,"version",QO),et(this,"name",Tb.name),et(this,"metadata"),et(this,"core"),et(this,"logger"),et(this,"events",new Ti.EventEmitter),et(this,"engine"),et(this,"session"),et(this,"proposal"),et(this,"pendingRequest"),et(this,"auth"),et(this,"signConfig"),et(this,"on",(s,i)=>this.events.on(s,i)),et(this,"once",(s,i)=>this.events.once(s,i)),et(this,"off",(s,i)=>this.events.off(s,i)),et(this,"removeListener",(s,i)=>this.events.removeListener(s,i)),et(this,"removeAllListeners",s=>this.events.removeAllListeners(s)),et(this,"connect",async s=>{try{return await this.engine.connect(s)}catch(i){throw this.logger.error(i.message),i}}),et(this,"pair",async s=>{try{return await this.engine.pair(s)}catch(i){throw this.logger.error(i.message),i}}),et(this,"approve",async s=>{try{return await this.engine.approve(s)}catch(i){throw this.logger.error(i.message),i}}),et(this,"reject",async s=>{try{return await this.engine.reject(s)}catch(i){throw this.logger.error(i.message),i}}),et(this,"update",async s=>{try{return await this.engine.update(s)}catch(i){throw this.logger.error(i.message),i}}),et(this,"extend",async s=>{try{return await this.engine.extend(s)}catch(i){throw this.logger.error(i.message),i}}),et(this,"request",async s=>{try{return await this.engine.request(s)}catch(i){throw this.logger.error(i.message),i}}),et(this,"respond",async s=>{try{return await this.engine.respond(s)}catch(i){throw this.logger.error(i.message),i}}),et(this,"ping",async s=>{try{return await this.engine.ping(s)}catch(i){throw this.logger.error(i.message),i}}),et(this,"emit",async s=>{try{return await this.engine.emit(s)}catch(i){throw this.logger.error(i.message),i}}),et(this,"disconnect",async s=>{try{return await this.engine.disconnect(s)}catch(i){throw this.logger.error(i.message),i}}),et(this,"find",s=>{try{return this.engine.find(s)}catch(i){throw this.logger.error(i.message),i}}),et(this,"getPendingSessionRequests",()=>{try{return this.engine.getPendingSessionRequests()}catch(s){throw this.logger.error(s.message),s}}),et(this,"authenticate",async(s,i)=>{try{return await this.engine.authenticate(s,i)}catch(a){throw this.logger.error(a.message),a}}),et(this,"formatAuthMessage",s=>{try{return this.engine.formatAuthMessage(s)}catch(i){throw this.logger.error(i.message),i}}),et(this,"approveSessionAuthenticate",async s=>{try{return await this.engine.approveSessionAuthenticate(s)}catch(i){throw this.logger.error(i.message),i}}),et(this,"rejectSessionAuthenticate",async s=>{try{return await this.engine.rejectSessionAuthenticate(s)}catch(i){throw this.logger.error(i.message),i}}),this.name=e?.name||Tb.name,this.metadata=$G(e?.metadata),this.signConfig=e?.signConfig;const n=typeof e?.logger<"u"&&typeof e?.logger!="string"?e.logger:dp(pp({level:e?.logger||Tb.logger}));this.core=e?.core||new zne(e),this.logger=is(n,this.name),this.session=new ose(this.core,this.logger),this.proposal=new rse(this.core,this.logger),this.pendingRequest=new ase(this.core,this.logger),this.engine=new ise(this),this.auth=new hse(this.core,this.logger)}static async init(e){const n=new JO(e);return await n.initialize(),n}get context(){return Is(this.logger)}get pairing(){return this.core.pairing.pairings}async initialize(){this.logger.trace("Initialized");try{await this.core.start(),await this.session.init(),await this.proposal.init(),await this.pendingRequest.init(),await this.auth.init(),await this.engine.init(),this.logger.info("SignClient Initialization Success")}catch(e){throw this.logger.info("SignClient Initialization Failure"),this.logger.error(e.message),e}}};var g0={exports:{}},W_;function yse(){return W_||(W_=1,(function(t,e){var n=typeof globalThis<"u"&&globalThis||typeof self<"u"&&self||typeof Cs<"u"&&Cs,s=(function(){function a(){this.fetch=!1,this.DOMException=n.DOMException}return a.prototype=n,new a})();(function(a){(function(c){var u=typeof a<"u"&&a||typeof self<"u"&&self||typeof Cs<"u"&&Cs||{},f={searchParams:"URLSearchParams"in u,iterable:"Symbol"in u&&"iterator"in Symbol,blob:"FileReader"in u&&"Blob"in u&&(function(){try{return new Blob,!0}catch{return!1}})(),formData:"FormData"in u,arrayBuffer:"ArrayBuffer"in u};function h(R){return R&&DataView.prototype.isPrototypeOf(R)}if(f.arrayBuffer)var p=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],g=ArrayBuffer.isView||function(R){return R&&p.indexOf(Object.prototype.toString.call(R))>-1};function y(R){if(typeof R!="string"&&(R=String(R)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(R)||R==="")throw new TypeError('Invalid character in header field name: "'+R+'"');return R.toLowerCase()}function b(R){return typeof R!="string"&&(R=String(R)),R}function v(R){var _={next:function(){var k=R.shift();return{done:k===void 0,value:k}}};return f.iterable&&(_[Symbol.iterator]=function(){return _}),_}function E(R){this.map={},R instanceof E?R.forEach(function(_,k){this.append(k,_)},this):Array.isArray(R)?R.forEach(function(_){if(_.length!=2)throw new TypeError("Headers constructor: expected name/value pair to be length 2, found"+_.length);this.append(_[0],_[1])},this):R&&Object.getOwnPropertyNames(R).forEach(function(_){this.append(_,R[_])},this)}E.prototype.append=function(R,_){R=y(R),_=b(_);var k=this.map[R];this.map[R]=k?k+", "+_:_},E.prototype.delete=function(R){delete this.map[y(R)]},E.prototype.get=function(R){return R=y(R),this.has(R)?this.map[R]:null},E.prototype.has=function(R){return this.map.hasOwnProperty(y(R))},E.prototype.set=function(R,_){this.map[y(R)]=b(_)},E.prototype.forEach=function(R,_){for(var k in this.map)this.map.hasOwnProperty(k)&&R.call(_,this.map[k],k,this)},E.prototype.keys=function(){var R=[];return this.forEach(function(_,k){R.push(k)}),v(R)},E.prototype.values=function(){var R=[];return this.forEach(function(_){R.push(_)}),v(R)},E.prototype.entries=function(){var R=[];return this.forEach(function(_,k){R.push([k,_])}),v(R)},f.iterable&&(E.prototype[Symbol.iterator]=E.prototype.entries);function A(R){if(!R._noBody){if(R.bodyUsed)return Promise.reject(new TypeError("Already read"));R.bodyUsed=!0}}function S(R){return new Promise(function(_,k){R.onload=function(){_(R.result)},R.onerror=function(){k(R.error)}})}function D(R){var _=new FileReader,k=S(_);return _.readAsArrayBuffer(R),k}function x(R){var _=new FileReader,k=S(_),H=/charset=([A-Za-z0-9_-]+)/.exec(R.type),G=H?H[1]:"utf-8";return _.readAsText(R,G),k}function N(R){for(var _=new Uint8Array(R),k=new Array(_.length),H=0;H<_.length;H++)k[H]=String.fromCharCode(_[H]);return k.join("")}function T(R){if(R.slice)return R.slice(0);var _=new Uint8Array(R.byteLength);return _.set(new Uint8Array(R)),_.buffer}function I(){return this.bodyUsed=!1,this._initBody=function(R){this.bodyUsed=this.bodyUsed,this._bodyInit=R,R?typeof R=="string"?this._bodyText=R:f.blob&&Blob.prototype.isPrototypeOf(R)?this._bodyBlob=R:f.formData&&FormData.prototype.isPrototypeOf(R)?this._bodyFormData=R:f.searchParams&&URLSearchParams.prototype.isPrototypeOf(R)?this._bodyText=R.toString():f.arrayBuffer&&f.blob&&h(R)?(this._bodyArrayBuffer=T(R.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):f.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(R)||g(R))?this._bodyArrayBuffer=T(R):this._bodyText=R=Object.prototype.toString.call(R):(this._noBody=!0,this._bodyText=""),this.headers.get("content-type")||(typeof R=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):f.searchParams&&URLSearchParams.prototype.isPrototypeOf(R)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},f.blob&&(this.blob=function(){var R=A(this);if(R)return R;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))}),this.arrayBuffer=function(){if(this._bodyArrayBuffer){var R=A(this);return R||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}else{if(f.blob)return this.blob().then(D);throw new Error("could not read as ArrayBuffer")}},this.text=function(){var R=A(this);if(R)return R;if(this._bodyBlob)return x(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(N(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},f.formData&&(this.formData=function(){return this.text().then(z)}),this.json=function(){return this.text().then(JSON.parse)},this}var $=["CONNECT","DELETE","GET","HEAD","OPTIONS","PATCH","POST","PUT","TRACE"];function P(R){var _=R.toUpperCase();return $.indexOf(_)>-1?_:R}function M(R,_){if(!(this instanceof M))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');_=_||{};var k=_.body;if(R instanceof M){if(R.bodyUsed)throw new TypeError("Already read");this.url=R.url,this.credentials=R.credentials,_.headers||(this.headers=new E(R.headers)),this.method=R.method,this.mode=R.mode,this.signal=R.signal,!k&&R._bodyInit!=null&&(k=R._bodyInit,R.bodyUsed=!0)}else this.url=String(R);if(this.credentials=_.credentials||this.credentials||"same-origin",(_.headers||!this.headers)&&(this.headers=new E(_.headers)),this.method=P(_.method||this.method||"GET"),this.mode=_.mode||this.mode||null,this.signal=_.signal||this.signal||(function(){if("AbortController"in u){var V=new AbortController;return V.signal}})(),this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&k)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(k),(this.method==="GET"||this.method==="HEAD")&&(_.cache==="no-store"||_.cache==="no-cache")){var H=/([?&])_=[^&]*/;if(H.test(this.url))this.url=this.url.replace(H,"$1_="+new Date().getTime());else{var G=/\?/;this.url+=(G.test(this.url)?"&":"?")+"_="+new Date().getTime()}}}M.prototype.clone=function(){return new M(this,{body:this._bodyInit})};function z(R){var _=new FormData;return R.trim().split("&").forEach(function(k){if(k){var H=k.split("="),G=H.shift().replace(/\+/g," "),V=H.join("=").replace(/\+/g," ");_.append(decodeURIComponent(G),decodeURIComponent(V))}}),_}function q(R){var _=new E,k=R.replace(/\r?\n[\t ]+/g," ");return k.split("\r").map(function(H){return H.indexOf(`
`)===0?H.substr(1,H.length):H}).forEach(function(H){var G=H.split(":"),V=G.shift().trim();if(V){var U=G.join(":").trim();try{_.append(V,U)}catch(K){console.warn("Response "+K.message)}}}),_}I.call(M.prototype);function F(R,_){if(!(this instanceof F))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');if(_||(_={}),this.type="default",this.status=_.status===void 0?200:_.status,this.status<200||this.status>599)throw new RangeError("Failed to construct 'Response': The status provided (0) is outside the range [200, 599].");this.ok=this.status>=200&&this.status<300,this.statusText=_.statusText===void 0?"":""+_.statusText,this.headers=new E(_.headers),this.url=_.url||"",this._initBody(R)}I.call(F.prototype),F.prototype.clone=function(){return new F(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new E(this.headers),url:this.url})},F.error=function(){var R=new F(null,{status:200,statusText:""});return R.ok=!1,R.status=0,R.type="error",R};var ee=[301,302,303,307,308];F.redirect=function(R,_){if(ee.indexOf(_)===-1)throw new RangeError("Invalid status code");return new F(null,{status:_,headers:{location:R}})},c.DOMException=u.DOMException;try{new c.DOMException}catch{c.DOMException=function(_,k){this.message=_,this.name=k;var H=Error(_);this.stack=H.stack},c.DOMException.prototype=Object.create(Error.prototype),c.DOMException.prototype.constructor=c.DOMException}function Q(R,_){return new Promise(function(k,H){var G=new M(R,_);if(G.signal&&G.signal.aborted)return H(new c.DOMException("Aborted","AbortError"));var V=new XMLHttpRequest;function U(){V.abort()}V.onload=function(){var ie={statusText:V.statusText,headers:q(V.getAllResponseHeaders()||"")};G.url.indexOf("file://")===0&&(V.status<200||V.status>599)?ie.status=200:ie.status=V.status,ie.url="responseURL"in V?V.responseURL:ie.headers.get("X-Request-URL");var ue="response"in V?V.response:V.responseText;setTimeout(function(){k(new F(ue,ie))},0)},V.onerror=function(){setTimeout(function(){H(new TypeError("Network request failed"))},0)},V.ontimeout=function(){setTimeout(function(){H(new TypeError("Network request timed out"))},0)},V.onabort=function(){setTimeout(function(){H(new c.DOMException("Aborted","AbortError"))},0)};function K(ie){try{return ie===""&&u.location.href?u.location.href:ie}catch{return ie}}if(V.open(G.method,K(G.url),!0),G.credentials==="include"?V.withCredentials=!0:G.credentials==="omit"&&(V.withCredentials=!1),"responseType"in V&&(f.blob?V.responseType="blob":f.arrayBuffer&&(V.responseType="arraybuffer")),_&&typeof _.headers=="object"&&!(_.headers instanceof E||u.Headers&&_.headers instanceof u.Headers)){var te=[];Object.getOwnPropertyNames(_.headers).forEach(function(ie){te.push(y(ie)),V.setRequestHeader(ie,b(_.headers[ie]))}),G.headers.forEach(function(ie,ue){te.indexOf(ue)===-1&&V.setRequestHeader(ue,ie)})}else G.headers.forEach(function(ie,ue){V.setRequestHeader(ue,ie)});G.signal&&(G.signal.addEventListener("abort",U),V.onreadystatechange=function(){V.readyState===4&&G.signal.removeEventListener("abort",U)}),V.send(typeof G._bodyInit>"u"?null:G._bodyInit)})}return Q.polyfill=!0,u.fetch||(u.fetch=Q,u.Headers=E,u.Request=M,u.Response=F),c.Headers=E,c.Request=M,c.Response=F,c.fetch=Q,Object.defineProperty(c,"__esModule",{value:!0}),c})({})})(s),s.fetch.ponyfill=!0,delete s.fetch.polyfill;var i=n.fetch?n:s;e=i.fetch,e.default=i.fetch,e.fetch=i.fetch,e.Headers=i.Headers,e.Request=i.Request,e.Response=i.Response,t.exports=e})(g0,g0.exports)),g0.exports}var wse=yse();const K_=sp(wse);var bse=Object.defineProperty,vse=Object.defineProperties,Ese=Object.getOwnPropertyDescriptors,G_=Object.getOwnPropertySymbols,Ase=Object.prototype.hasOwnProperty,Cse=Object.prototype.propertyIsEnumerable,Y_=(t,e,n)=>e in t?bse(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,X_=(t,e)=>{for(var n in e||(e={}))Ase.call(e,n)&&Y_(t,n,e[n]);if(G_)for(var n of G_(e))Cse.call(e,n)&&Y_(t,n,e[n]);return t},Q_=(t,e)=>vse(t,Ese(e));const Sse={Accept:"application/json","Content-Type":"application/json"},xse="POST",Z_={headers:Sse,method:xse},J_=10;let Xi=class{constructor(e,n=!1){if(this.url=e,this.disableProviderPing=n,this.events=new Ti.EventEmitter,this.isAvailable=!1,this.registering=!1,!g_(e))throw new Error(`Provided URL is not compatible with HTTP connection: ${e}`);this.url=e,this.disableProviderPing=n}get connected(){return this.isAvailable}get connecting(){return this.registering}on(e,n){this.events.on(e,n)}once(e,n){this.events.once(e,n)}off(e,n){this.events.off(e,n)}removeListener(e,n){this.events.removeListener(e,n)}async open(e=this.url){await this.register(e)}async close(){if(!this.isAvailable)throw new Error("Connection already closed");this.onClose()}async send(e){this.isAvailable||await this.register();try{const n=So(e),s=await(await K_(this.url,Q_(X_({},Z_),{body:n}))).json();this.onPayload({data:s})}catch(n){this.onError(e.id,n)}}async register(e=this.url){if(!g_(e))throw new Error(`Provided URL is not compatible with HTTP connection: ${e}`);if(this.registering){const n=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=n||this.events.listenerCount("open")>=n)&&this.events.setMaxListeners(n+1),new Promise((s,i)=>{this.events.once("register_error",a=>{this.resetMaxListeners(),i(a)}),this.events.once("open",()=>{if(this.resetMaxListeners(),typeof this.isAvailable>"u")return i(new Error("HTTP connection is missing or invalid"));s()})})}this.url=e,this.registering=!0;try{if(!this.disableProviderPing){const n=So({id:1,jsonrpc:"2.0",method:"test",params:[]});await K_(e,Q_(X_({},Z_),{body:n}))}this.onOpen()}catch(n){const s=this.parseError(n);throw this.events.emit("register_error",s),this.onClose(),s}}onOpen(){this.isAvailable=!0,this.registering=!1,this.events.emit("open")}onClose(){this.isAvailable=!1,this.registering=!1,this.events.emit("close")}onPayload(e){if(typeof e.data>"u")return;const n=typeof e.data=="string"?Xc(e.data):e.data;this.events.emit("payload",n)}onError(e,n){const s=this.parseError(n),i=s.message||s.toString(),a=Vm(e,i);this.events.emit("payload",a)}parseError(e,n=this.url){return DO(e,n,"HTTP")}resetMaxListeners(){this.events.getMaxListeners()>J_&&this.events.setMaxListeners(J_)}};const e5="error",Nse="wss://relay.walletconnect.org",Tse="wc",_se="universal_provider",m0=`${Tse}@2:${_se}:`,eM="https://rpc.walletconnect.org/v1/",xu="generic",Ise=`${eM}bundler`,Ii={DEFAULT_CHAIN_CHANGED:"default_chain_changed"};function nA(t){return t==null||typeof t!="object"&&typeof t!="function"}function tM(t){return Object.getOwnPropertySymbols(t).filter(e=>Object.prototype.propertyIsEnumerable.call(t,e))}function nM(t){return t==null?t===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(t)}const Dse="[object RegExp]",sM="[object String]",iM="[object Number]",rM="[object Boolean]",oM="[object Arguments]",Ose="[object Symbol]",Mse="[object Date]",Rse="[object Map]",$se="[object Set]",Use="[object Array]",Pse="[object ArrayBuffer]",Lse="[object Object]",kse="[object DataView]",Bse="[object Uint8Array]",jse="[object Uint8ClampedArray]",zse="[object Uint16Array]",Hse="[object Uint32Array]",Fse="[object Int8Array]",qse="[object Int16Array]",Vse="[object Int32Array]",Wse="[object Float32Array]",Kse="[object Float64Array]";function sA(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function Gse(t,e){return Pu(t,void 0,t,new Map,e)}function Pu(t,e,n,s=new Map,i=void 0){const a=i?.(t,e,n,s);if(a!=null)return a;if(nA(t))return t;if(s.has(t))return s.get(t);if(Array.isArray(t)){const c=new Array(t.length);s.set(t,c);for(let u=0;u<t.length;u++)c[u]=Pu(t[u],u,n,s,i);return Object.hasOwn(t,"index")&&(c.index=t.index),Object.hasOwn(t,"input")&&(c.input=t.input),c}if(t instanceof Date)return new Date(t.getTime());if(t instanceof RegExp){const c=new RegExp(t.source,t.flags);return c.lastIndex=t.lastIndex,c}if(t instanceof Map){const c=new Map;s.set(t,c);for(const[u,f]of t)c.set(u,Pu(f,u,n,s,i));return c}if(t instanceof Set){const c=new Set;s.set(t,c);for(const u of t)c.add(Pu(u,void 0,n,s,i));return c}if(typeof Buffer<"u"&&Buffer.isBuffer(t))return t.subarray();if(sA(t)){const c=new(Object.getPrototypeOf(t)).constructor(t.length);s.set(t,c);for(let u=0;u<t.length;u++)c[u]=Pu(t[u],u,n,s,i);return c}if(t instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&t instanceof SharedArrayBuffer)return t.slice(0);if(t instanceof DataView){const c=new DataView(t.buffer.slice(0),t.byteOffset,t.byteLength);return s.set(t,c),Rc(c,t,n,s,i),c}if(typeof File<"u"&&t instanceof File){const c=new File([t],t.name,{type:t.type});return s.set(t,c),Rc(c,t,n,s,i),c}if(t instanceof Blob){const c=new Blob([t],{type:t.type});return s.set(t,c),Rc(c,t,n,s,i),c}if(t instanceof Error){const c=new t.constructor;return s.set(t,c),c.message=t.message,c.name=t.name,c.stack=t.stack,c.cause=t.cause,Rc(c,t,n,s,i),c}if(typeof t=="object"&&Yse(t)){const c=Object.create(Object.getPrototypeOf(t));return s.set(t,c),Rc(c,t,n,s,i),c}return t}function Rc(t,e,n=t,s,i){const a=[...Object.keys(e),...tM(e)];for(let c=0;c<a.length;c++){const u=a[c],f=Object.getOwnPropertyDescriptor(t,u);(f==null||f.writable)&&(t[u]=Pu(e[u],u,n,s,i))}}function Yse(t){switch(nM(t)){case oM:case Use:case Pse:case kse:case rM:case Mse:case Wse:case Kse:case Fse:case qse:case Vse:case Rse:case iM:case Lse:case Dse:case $se:case sM:case Ose:case Bse:case jse:case zse:case Hse:return!0;default:return!1}}function Xse(t,e){return Gse(t,(n,s,i,a)=>{if(typeof t=="object")switch(Object.prototype.toString.call(t)){case iM:case sM:case rM:{const c=new t.constructor(t?.valueOf());return Rc(c,t),c}case oM:{const c={};return Rc(c,t),c.length=t.length,c[Symbol.iterator]=t[Symbol.iterator],c}default:return}})}function t5(t){return Xse(t)}function n5(t){return t!==null&&typeof t=="object"&&nM(t)==="[object Arguments]"}function s5(t){return typeof t=="object"&&t!==null}function Qse(){}function Zse(t){return sA(t)}function Jse(t){if(typeof t!="object"||t==null)return!1;if(Object.getPrototypeOf(t)===null)return!0;if(Object.prototype.toString.call(t)!=="[object Object]"){const n=t[Symbol.toStringTag];return n==null||!Object.getOwnPropertyDescriptor(t,Symbol.toStringTag)?.writable?!1:t.toString()===`[object ${n}]`}let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}function eie(t){if(nA(t))return t;if(Array.isArray(t)||sA(t)||t instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&t instanceof SharedArrayBuffer)return t.slice(0);const e=Object.getPrototypeOf(t),n=e.constructor;if(t instanceof Date||t instanceof Map||t instanceof Set)return new n(t);if(t instanceof RegExp){const s=new n(t);return s.lastIndex=t.lastIndex,s}if(t instanceof DataView)return new n(t.buffer.slice(0));if(t instanceof Error){const s=new n(t.message);return s.stack=t.stack,s.name=t.name,s.cause=t.cause,s}if(typeof File<"u"&&t instanceof File)return new n([t],t.name,{type:t.type,lastModified:t.lastModified});if(typeof t=="object"){const s=Object.create(e);return Object.assign(s,t)}return t}function tie(t,...e){const n=e.slice(0,-1),s=e[e.length-1];let i=t;for(let a=0;a<n.length;a++){const c=n[a];i=h2(i,c,s,new Map)}return i}function h2(t,e,n,s){if(nA(t)&&(t=Object(t)),e==null||typeof e!="object")return t;if(s.has(e))return eie(s.get(e));if(s.set(e,t),Array.isArray(e)){e=e.slice();for(let a=0;a<e.length;a++)e[a]=e[a]??void 0}const i=[...Object.keys(e),...tM(e)];for(let a=0;a<i.length;a++){const c=i[a];let u=e[c],f=t[c];if(n5(u)&&(u={...u}),n5(f)&&(f={...f}),typeof Buffer<"u"&&Buffer.isBuffer(u)&&(u=t5(u)),Array.isArray(u))if(typeof f=="object"&&f!=null){const p=[],g=Reflect.ownKeys(f);for(let y=0;y<g.length;y++){const b=g[y];p[b]=f[b]}f=p}else f=[];const h=n(f,u,c,t,e,s);h!=null?t[c]=h:Array.isArray(u)||s5(f)&&s5(u)?t[c]=h2(f,u,n,s):f==null&&Jse(u)?t[c]=h2({},u,n,s):f==null&&Zse(u)?t[c]=t5(u):(f===void 0||u!==void 0)&&(t[c]=u)}return t}function nie(t,...e){return tie(t,...e,Qse)}var sie=Object.defineProperty,iie=Object.defineProperties,rie=Object.getOwnPropertyDescriptors,i5=Object.getOwnPropertySymbols,oie=Object.prototype.hasOwnProperty,aie=Object.prototype.propertyIsEnumerable,r5=(t,e,n)=>e in t?sie(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,y0=(t,e)=>{for(var n in e||(e={}))oie.call(e,n)&&r5(t,n,e[n]);if(i5)for(var n of i5(e))aie.call(e,n)&&r5(t,n,e[n]);return t},cie=(t,e)=>iie(t,rie(e));function Xs(t,e,n){var s;const i=zu(t);return((s=e.rpcMap)==null?void 0:s[i.reference])||`${eM}?chainId=${i.namespace}:${i.reference}&projectId=${n}`}function al(t){return t.includes(":")?t.split(":")[1]:t}function aM(t){return t.map(e=>`${e.split(":")[0]}:${e.split(":")[1]}`)}function lie(t,e){const n=Object.keys(e.namespaces).filter(i=>i.includes(t));if(!n.length)return[];const s=[];return n.forEach(i=>{const a=e.namespaces[i].accounts;s.push(...a)}),s}function o5(t){return Object.fromEntries(Object.entries(t).filter(([e,n])=>{var s,i;return((s=n?.chains)==null?void 0:s.length)&&((i=n?.chains)==null?void 0:i.length)>0}))}function w0(t={},e={}){const n=o5(a5(t)),s=o5(a5(e));return nie(n,s)}function a5(t){var e,n,s,i,a;const c={};if(!_r(t))return c;for(const[u,f]of Object.entries(t)){const h=Fm(u)?[u]:f.chains,p=f.methods||[],g=f.events||[],y=f.rpcMap||{},b=Uu(u);c[b]=cie(y0(y0({},c[b]),f),{chains:Tr(h,(e=c[b])==null?void 0:e.chains),methods:Tr(p,(n=c[b])==null?void 0:n.methods),events:Tr(g,(s=c[b])==null?void 0:s.events)}),(_r(y)||_r(((i=c[b])==null?void 0:i.rpcMap)||{}))&&(c[b].rpcMap=y0(y0({},y),(a=c[b])==null?void 0:a.rpcMap))}return c}function c5(t){return t.includes(":")?t.split(":")[2]:t}function l5(t){const e={};for(const[n,s]of Object.entries(t)){const i=s.methods||[],a=s.events||[],c=s.accounts||[],u=Fm(n)?[n]:s.chains?s.chains:aM(s.accounts);e[n]={chains:u,methods:i,events:a,accounts:c}}return e}function Db(t){return typeof t=="number"?t:t.includes("0x")?parseInt(t,16):(t=t.includes(":")?t.split(":")[1]:t,isNaN(Number(t))?t:Number(t))}const cM={},lt=t=>cM[t],Ob=(t,e)=>{cM[t]=e};var uie=Object.defineProperty,u5=Object.getOwnPropertySymbols,fie=Object.prototype.hasOwnProperty,die=Object.prototype.propertyIsEnumerable,f5=(t,e,n)=>e in t?uie(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,d5=(t,e)=>{for(var n in e||(e={}))fie.call(e,n)&&f5(t,n,e[n]);if(u5)for(var n of u5(e))die.call(e,n)&&f5(t,n,e[n]);return t};const h5="eip155",hie=["atomic","flow-control","paymasterService","sessionKeys","auxiliaryFunds"],pie=t=>t&&t.startsWith("0x")?BigInt(t).toString(10):t,Mb=t=>t&&t.startsWith("0x")?t:`0x${BigInt(t).toString(16)}`,p5=t=>Object.keys(t).filter(e=>hie.includes(e)).reduce((e,n)=>(e[n]=t[n],e),{}),gie=(t,e,n)=>{const{sessionProperties:s={},scopedProperties:i={}}=t,a={};if(!_r(i)&&!_r(s))return;const c=p5(s);for(const u of n){const f=pie(u);if(!f)continue;a[Mb(f)]=c;const h=i?.[`${h5}:${f}`];if(h){const p=h?.[`${h5}:${f}:${e}`];a[Mb(f)]=d5(d5({},a[Mb(f)]),p5(p||h))}}for(const[u,f]of Object.entries(a))Object.keys(f).length===0&&delete a[u];return Object.keys(a).length>0?a:void 0};var mie=Object.defineProperty,yie=(t,e,n)=>e in t?mie(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,uu=(t,e,n)=>yie(t,typeof e!="symbol"?e+"":e,n);let wie=class{constructor(e){uu(this,"name","polkadot"),uu(this,"client"),uu(this,"httpProviders"),uu(this,"events"),uu(this,"namespace"),uu(this,"chainId"),this.namespace=e.namespace,this.events=lt("events"),this.client=lt("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(e,n),this.chainId=e,this.events.emit(Ii.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getAccounts(){const e=this.namespace.accounts;return e?e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2])||[]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var s;const i=al(n);e[i]=this.createHttpProvider(i,(s=this.namespace.rpcMap)==null?void 0:s[n])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const s=this.createHttpProvider(e,n);s&&(this.httpProviders[e]=s)}createHttpProvider(e,n){const s=n||Xs(e,this.namespace,this.client.core.projectId);if(!s)throw new Error(`No RPC url provided for chainId: ${e}`);return new _i(new Xi(s,lt("disableProviderPing")))}};var bie=Object.defineProperty,vie=Object.defineProperties,Eie=Object.getOwnPropertyDescriptors,g5=Object.getOwnPropertySymbols,Aie=Object.prototype.hasOwnProperty,Cie=Object.prototype.propertyIsEnumerable,p2=(t,e,n)=>e in t?bie(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,m5=(t,e)=>{for(var n in e||(e={}))Aie.call(e,n)&&p2(t,n,e[n]);if(g5)for(var n of g5(e))Cie.call(e,n)&&p2(t,n,e[n]);return t},y5=(t,e)=>vie(t,Eie(e)),fu=(t,e,n)=>p2(t,typeof e!="symbol"?e+"":e,n);let Sie=class{constructor(e){fu(this,"name","eip155"),fu(this,"client"),fu(this,"chainId"),fu(this,"namespace"),fu(this,"httpProviders"),fu(this,"events"),this.namespace=e.namespace,this.events=lt("events"),this.client=lt("client"),this.httpProviders=this.createHttpProviders(),this.chainId=parseInt(this.getDefaultChain())}async request(e){switch(e.request.method){case"eth_requestAccounts":return this.getAccounts();case"eth_accounts":return this.getAccounts();case"wallet_switchEthereumChain":return await this.handleSwitchChain(e);case"eth_chainId":return parseInt(this.getDefaultChain());case"wallet_getCapabilities":return await this.getCapabilities(e);case"wallet_getCallsStatus":return await this.getCallStatus(e)}return this.namespace.methods.includes(e.request.method)?await this.client.request(e):this.getHttpProvider().request(e.request)}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(parseInt(e),n),this.chainId=parseInt(e),this.events.emit(Ii.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId.toString();if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}createHttpProvider(e,n){const s=n||Xs(`${this.name}:${e}`,this.namespace,this.client.core.projectId);if(!s)throw new Error(`No RPC url provided for chainId: ${e}`);return new _i(new Xi(s,lt("disableProviderPing")))}setHttpProvider(e,n){const s=this.createHttpProvider(e,n);s&&(this.httpProviders[e]=s)}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var s;const i=parseInt(al(n));e[i]=this.createHttpProvider(i,(s=this.namespace.rpcMap)==null?void 0:s[n])}),e}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}getHttpProvider(){const e=this.chainId,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}async handleSwitchChain(e){var n,s;let i=e.request.params?(n=e.request.params[0])==null?void 0:n.chainId:"0x0";i=i.startsWith("0x")?i:`0x${i}`;const a=parseInt(i,16);if(this.isChainApproved(a))this.setDefaultChain(`${a}`);else if(this.namespace.methods.includes("wallet_switchEthereumChain"))await this.client.request({topic:e.topic,request:{method:e.request.method,params:[{chainId:i}]},chainId:(s=this.namespace.chains)==null?void 0:s[0]}),this.setDefaultChain(`${a}`);else throw new Error(`Failed to switch to chain 'eip155:${a}'. The chain is not approved or the wallet does not support 'wallet_switchEthereumChain' method.`);return null}isChainApproved(e){return this.namespace.chains.includes(`${this.name}:${e}`)}async getCapabilities(e){var n,s,i,a,c;const u=(s=(n=e.request)==null?void 0:n.params)==null?void 0:s[0],f=((a=(i=e.request)==null?void 0:i.params)==null?void 0:a[1])||[];if(!u)throw new Error("Missing address parameter in `wallet_getCapabilities` request");const h=this.client.session.get(e.topic),p=((c=h?.sessionProperties)==null?void 0:c.capabilities)||{},g=`${u}${f.join(",")}`,y=p?.[g];if(y)return y;let b;try{b=gie(h,u,f)}catch(E){console.warn("Failed to extract capabilities from session",E)}if(b)return b;const v=await this.client.request(e);try{await this.client.session.update(e.topic,{sessionProperties:y5(m5({},h.sessionProperties||{}),{capabilities:y5(m5({},p||{}),{[g]:v})})})}catch(E){console.warn("Failed to update session with capabilities",E)}return v}async getCallStatus(e){var n,s;const i=this.client.session.get(e.topic),a=(n=i.sessionProperties)==null?void 0:n.bundler_name;if(a){const u=this.getBundlerUrl(e.chainId,a);try{return await this.getUserOperationReceipt(u,e)}catch(f){console.warn("Failed to fetch call status from bundler",f,u)}}const c=(s=i.sessionProperties)==null?void 0:s.bundler_url;if(c)try{return await this.getUserOperationReceipt(c,e)}catch(u){console.warn("Failed to fetch call status from custom bundler",u,c)}if(this.namespace.methods.includes(e.request.method))return await this.client.request(e);throw new Error("Fetching call status not approved by the wallet.")}async getUserOperationReceipt(e,n){var s;const i=new URL(e),a=await fetch(i,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Ia("eth_getUserOperationReceipt",[(s=n.request.params)==null?void 0:s[0]]))});if(!a.ok)throw new Error(`Failed to fetch user operation receipt - ${a.status}`);return await a.json()}getBundlerUrl(e,n){return`${Ise}?projectId=${this.client.core.projectId}&chainId=${e}&bundler=${n}`}};var xie=Object.defineProperty,Nie=(t,e,n)=>e in t?xie(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,du=(t,e,n)=>Nie(t,typeof e!="symbol"?e+"":e,n);let Tie=class{constructor(e){du(this,"name","solana"),du(this,"client"),du(this,"httpProviders"),du(this,"events"),du(this,"namespace"),du(this,"chainId"),this.namespace=e.namespace,this.events=lt("events"),this.client=lt("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(e,n),this.chainId=e,this.events.emit(Ii.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var s;const i=al(n);e[i]=this.createHttpProvider(i,(s=this.namespace.rpcMap)==null?void 0:s[n])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const s=this.createHttpProvider(e,n);s&&(this.httpProviders[e]=s)}createHttpProvider(e,n){const s=n||Xs(e,this.namespace,this.client.core.projectId);if(!s)throw new Error(`No RPC url provided for chainId: ${e}`);return new _i(new Xi(s,lt("disableProviderPing")))}};var _ie=Object.defineProperty,Iie=(t,e,n)=>e in t?_ie(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,hu=(t,e,n)=>Iie(t,typeof e!="symbol"?e+"":e,n);let Die=class{constructor(e){hu(this,"name","cosmos"),hu(this,"client"),hu(this,"httpProviders"),hu(this,"events"),hu(this,"namespace"),hu(this,"chainId"),this.namespace=e.namespace,this.events=lt("events"),this.client=lt("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(e,n),this.chainId=e,this.events.emit(Ii.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var s;const i=al(n);e[i]=this.createHttpProvider(i,(s=this.namespace.rpcMap)==null?void 0:s[n])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const s=this.createHttpProvider(e,n);s&&(this.httpProviders[e]=s)}createHttpProvider(e,n){const s=n||Xs(e,this.namespace,this.client.core.projectId);if(!s)throw new Error(`No RPC url provided for chainId: ${e}`);return new _i(new Xi(s,lt("disableProviderPing")))}};var Oie=Object.defineProperty,Mie=(t,e,n)=>e in t?Oie(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,pu=(t,e,n)=>Mie(t,typeof e!="symbol"?e+"":e,n);let Rie=class{constructor(e){pu(this,"name","algorand"),pu(this,"client"),pu(this,"httpProviders"),pu(this,"events"),pu(this,"namespace"),pu(this,"chainId"),this.namespace=e.namespace,this.events=lt("events"),this.client=lt("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){if(!this.httpProviders[e]){const s=n||Xs(`${this.name}:${e}`,this.namespace,this.client.core.projectId);if(!s)throw new Error(`No RPC url provided for chainId: ${e}`);this.setHttpProvider(e,s)}this.chainId=e,this.events.emit(Ii.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var s;e[n]=this.createHttpProvider(n,(s=this.namespace.rpcMap)==null?void 0:s[n])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const s=this.createHttpProvider(e,n);s&&(this.httpProviders[e]=s)}createHttpProvider(e,n){const s=n||Xs(e,this.namespace,this.client.core.projectId);return typeof s>"u"?void 0:new _i(new Xi(s,lt("disableProviderPing")))}};var $ie=Object.defineProperty,Uie=(t,e,n)=>e in t?$ie(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,gu=(t,e,n)=>Uie(t,typeof e!="symbol"?e+"":e,n);class Pie{constructor(e){gu(this,"name","cip34"),gu(this,"client"),gu(this,"httpProviders"),gu(this,"events"),gu(this,"namespace"),gu(this,"chainId"),this.namespace=e.namespace,this.events=lt("events"),this.client=lt("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(e,n),this.chainId=e,this.events.emit(Ii.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{const s=this.getCardanoRPCUrl(n),i=al(n);e[i]=this.createHttpProvider(i,s)}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}getCardanoRPCUrl(e){const n=this.namespace.rpcMap;if(n)return n[e]}setHttpProvider(e,n){const s=this.createHttpProvider(e,n);s&&(this.httpProviders[e]=s)}createHttpProvider(e,n){const s=n||this.getCardanoRPCUrl(e);if(!s)throw new Error(`No RPC url provided for chainId: ${e}`);return new _i(new Xi(s,lt("disableProviderPing")))}}var Lie=Object.defineProperty,kie=(t,e,n)=>e in t?Lie(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,mu=(t,e,n)=>kie(t,typeof e!="symbol"?e+"":e,n);let Bie=class{constructor(e){mu(this,"name","elrond"),mu(this,"client"),mu(this,"httpProviders"),mu(this,"events"),mu(this,"namespace"),mu(this,"chainId"),this.namespace=e.namespace,this.events=lt("events"),this.client=lt("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(e,n),this.chainId=e,this.events.emit(Ii.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var s;const i=al(n);e[i]=this.createHttpProvider(i,(s=this.namespace.rpcMap)==null?void 0:s[n])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const s=this.createHttpProvider(e,n);s&&(this.httpProviders[e]=s)}createHttpProvider(e,n){const s=n||Xs(e,this.namespace,this.client.core.projectId);if(!s)throw new Error(`No RPC url provided for chainId: ${e}`);return new _i(new Xi(s,lt("disableProviderPing")))}};var jie=Object.defineProperty,zie=(t,e,n)=>e in t?jie(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,yu=(t,e,n)=>zie(t,typeof e!="symbol"?e+"":e,n);class Hie{constructor(e){yu(this,"name","multiversx"),yu(this,"client"),yu(this,"httpProviders"),yu(this,"events"),yu(this,"namespace"),yu(this,"chainId"),this.namespace=e.namespace,this.events=lt("events"),this.client=lt("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(e,n),this.chainId=e,this.events.emit(Ii.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var s;const i=al(n);e[i]=this.createHttpProvider(i,(s=this.namespace.rpcMap)==null?void 0:s[n])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const s=this.createHttpProvider(e,n);s&&(this.httpProviders[e]=s)}createHttpProvider(e,n){const s=n||Xs(e,this.namespace,this.client.core.projectId);if(!s)throw new Error(`No RPC url provided for chainId: ${e}`);return new _i(new Xi(s,lt("disableProviderPing")))}}var Fie=Object.defineProperty,qie=(t,e,n)=>e in t?Fie(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,wu=(t,e,n)=>qie(t,typeof e!="symbol"?e+"":e,n);class Vie{constructor(e){wu(this,"name","near"),wu(this,"client"),wu(this,"httpProviders"),wu(this,"events"),wu(this,"namespace"),wu(this,"chainId"),this.namespace=e.namespace,this.events=lt("events"),this.client=lt("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){if(this.chainId=e,!this.httpProviders[e]){const s=n||Xs(`${this.name}:${e}`,this.namespace);if(!s)throw new Error(`No RPC url provided for chainId: ${e}`);this.setHttpProvider(e,s)}this.events.emit(Ii.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const e=this.namespace.accounts;return e?e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2])||[]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var s;e[n]=this.createHttpProvider(n,(s=this.namespace.rpcMap)==null?void 0:s[n])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const s=this.createHttpProvider(e,n);s&&(this.httpProviders[e]=s)}createHttpProvider(e,n){const s=n||Xs(e,this.namespace);return typeof s>"u"?void 0:new _i(new Xi(s,lt("disableProviderPing")))}}var Wie=Object.defineProperty,Kie=(t,e,n)=>e in t?Wie(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,bu=(t,e,n)=>Kie(t,typeof e!="symbol"?e+"":e,n);class Gie{constructor(e){bu(this,"name","tezos"),bu(this,"client"),bu(this,"httpProviders"),bu(this,"events"),bu(this,"namespace"),bu(this,"chainId"),this.namespace=e.namespace,this.events=lt("events"),this.client=lt("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){if(this.chainId=e,!this.httpProviders[e]){const s=n||Xs(`${this.name}:${e}`,this.namespace);if(!s)throw new Error(`No RPC url provided for chainId: ${e}`);this.setHttpProvider(e,s)}this.events.emit(Ii.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const e=this.namespace.accounts;return e?e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2])||[]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{e[n]=this.createHttpProvider(n)}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const s=this.createHttpProvider(e,n);s&&(this.httpProviders[e]=s)}createHttpProvider(e,n){const s=n||Xs(e,this.namespace);return typeof s>"u"?void 0:new _i(new Xi(s))}}var Yie=Object.defineProperty,Xie=(t,e,n)=>e in t?Yie(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,vu=(t,e,n)=>Xie(t,typeof e!="symbol"?e+"":e,n);class Qie{constructor(e){vu(this,"name",xu),vu(this,"client"),vu(this,"httpProviders"),vu(this,"events"),vu(this,"namespace"),vu(this,"chainId"),this.namespace=e.namespace,this.events=lt("events"),this.client=lt("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace.chains=[...new Set((this.namespace.chains||[]).concat(e.chains||[]))],this.namespace.accounts=[...new Set((this.namespace.accounts||[]).concat(e.accounts||[]))],this.namespace.methods=[...new Set((this.namespace.methods||[]).concat(e.methods||[]))],this.namespace.events=[...new Set((this.namespace.events||[]).concat(e.events||[]))],this.httpProviders=this.createHttpProviders()}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider(e.chainId).request(e.request)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(e,n),this.chainId=e,this.events.emit(Ii.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}createHttpProviders(){var e,n;const s={};return(n=(e=this.namespace)==null?void 0:e.accounts)==null||n.forEach(i=>{const a=zu(i);s[`${a.namespace}:${a.reference}`]=this.createHttpProvider(i)}),s}getHttpProvider(e){const n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const s=this.createHttpProvider(e,n);s&&(this.httpProviders[e]=s)}createHttpProvider(e,n){const s=n||Xs(e,this.namespace,this.client.core.projectId);if(!s)throw new Error(`No RPC url provided for chainId: ${e}`);return new _i(new Xi(s,lt("disableProviderPing")))}}var Zie=Object.defineProperty,Jie=Object.defineProperties,ere=Object.getOwnPropertyDescriptors,w5=Object.getOwnPropertySymbols,tre=Object.prototype.hasOwnProperty,nre=Object.prototype.propertyIsEnumerable,g2=(t,e,n)=>e in t?Zie(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,b0=(t,e)=>{for(var n in e||(e={}))tre.call(e,n)&&g2(t,n,e[n]);if(w5)for(var n of w5(e))nre.call(e,n)&&g2(t,n,e[n]);return t},Rb=(t,e)=>Jie(t,ere(e)),pi=(t,e,n)=>g2(t,typeof e!="symbol"?e+"":e,n);class Ym{constructor(e){pi(this,"client"),pi(this,"namespaces"),pi(this,"optionalNamespaces"),pi(this,"sessionProperties"),pi(this,"scopedProperties"),pi(this,"events",new TE),pi(this,"rpcProviders",{}),pi(this,"session"),pi(this,"providerOpts"),pi(this,"logger"),pi(this,"uri"),pi(this,"disableProviderPing",!1),this.providerOpts=e,this.logger=typeof e?.logger<"u"&&typeof e?.logger!="string"?e.logger:dp(pp({level:e?.logger||e5})),this.disableProviderPing=e?.disableProviderPing||!1}static async init(e){const n=new Ym(e);return await n.initialize(),n}async request(e,n,s){const[i,a]=this.validateChain(n);if(!this.session)throw new Error("Please call connect() before request()");return await this.getProvider(i).request({request:b0({},e),chainId:`${i}:${a}`,topic:this.session.topic,expiry:s})}sendAsync(e,n,s,i){const a=new Date().getTime();this.request(e,s,i).then(c=>n(null,qm(a,c))).catch(c=>n(c,void 0))}async enable(){if(!this.client)throw new Error("Sign Client not initialized");return this.session||await this.connect({namespaces:this.namespaces,optionalNamespaces:this.optionalNamespaces,sessionProperties:this.sessionProperties,scopedProperties:this.scopedProperties}),await this.requestAccounts()}async disconnect(){var e;if(!this.session)throw new Error("Please call connect() before enable()");await this.client.disconnect({topic:(e=this.session)==null?void 0:e.topic,reason:jt("USER_DISCONNECTED")}),await this.cleanup()}async connect(e){if(!this.client)throw new Error("Sign Client not initialized");if(this.setNamespaces(e),await this.cleanupPendingPairings(),!e.skipPairing)return await this.pair(e.pairingTopic)}async authenticate(e,n){if(!this.client)throw new Error("Sign Client not initialized");this.setNamespaces(e),await this.cleanupPendingPairings();const{uri:s,response:i}=await this.client.authenticate(e,n);s&&(this.uri=s,this.events.emit("display_uri",s));const a=await i();if(this.session=a.session,this.session){const c=l5(this.session.namespaces);this.namespaces=w0(this.namespaces,c),await this.persist("namespaces",this.namespaces),this.onConnect()}return a}on(e,n){this.events.on(e,n)}once(e,n){this.events.once(e,n)}removeListener(e,n){this.events.removeListener(e,n)}off(e,n){this.events.off(e,n)}get isWalletConnect(){return!0}async pair(e){const{uri:n,approval:s}=await this.client.connect({pairingTopic:e,requiredNamespaces:this.namespaces,optionalNamespaces:this.optionalNamespaces,sessionProperties:this.sessionProperties,scopedProperties:this.scopedProperties});n&&(this.uri=n,this.events.emit("display_uri",n));const i=await s();this.session=i;const a=l5(i.namespaces);return this.namespaces=w0(this.namespaces,a),await this.persist("namespaces",this.namespaces),await this.persist("optionalNamespaces",this.optionalNamespaces),this.onConnect(),this.session}setDefaultChain(e,n){try{if(!this.session)return;const[s,i]=this.validateChain(e),a=this.getProvider(s);a.name===xu?a.setDefaultChain(`${s}:${i}`,n):a.setDefaultChain(i,n)}catch(s){if(!/Please call connect/.test(s.message))throw s}}async cleanupPendingPairings(e={}){this.logger.info("Cleaning up inactive pairings...");const n=this.client.pairing.getAll();if(bo(n)){for(const s of n)e.deletePairings?this.client.core.expirer.set(s.topic,0):await this.client.core.relayer.subscriber.unsubscribe(s.topic);this.logger.info(`Inactive pairings cleared: ${n.length}`)}}abortPairingAttempt(){this.logger.warn("abortPairingAttempt is deprecated. This is now a no-op.")}async checkStorage(){this.namespaces=await this.getFromStore("namespaces")||{},this.optionalNamespaces=await this.getFromStore("optionalNamespaces")||{},this.session&&this.createProviders()}async initialize(){this.logger.trace("Initialized"),await this.createClient(),await this.checkStorage(),this.registerEventListeners()}async createClient(){var e,n;if(this.client=this.providerOpts.client||await mse.init({core:this.providerOpts.core,logger:this.providerOpts.logger||e5,relayUrl:this.providerOpts.relayUrl||Nse,projectId:this.providerOpts.projectId,metadata:this.providerOpts.metadata,storageOptions:this.providerOpts.storageOptions,storage:this.providerOpts.storage,name:this.providerOpts.name,customStoragePrefix:this.providerOpts.customStoragePrefix,telemetryEnabled:this.providerOpts.telemetryEnabled}),this.providerOpts.session)try{this.session=this.client.session.get(this.providerOpts.session.topic)}catch(s){throw this.logger.error("Failed to get session",s),new Error(`The provided session: ${(n=(e=this.providerOpts)==null?void 0:e.session)==null?void 0:n.topic} doesn't exist in the Sign client`)}else{const s=this.client.session.getAll();this.session=s[0]}this.logger.trace("SignClient Initialized")}createProviders(){if(!this.client)throw new Error("Sign Client not initialized");if(!this.session)throw new Error("Session not initialized. Please call connect() before enable()");const e=[...new Set(Object.keys(this.session.namespaces).map(n=>Uu(n)))];Ob("client",this.client),Ob("events",this.events),Ob("disableProviderPing",this.disableProviderPing),e.forEach(n=>{if(!this.session)return;const s=lie(n,this.session);if(s?.length===0)return;const i=aM(s),a=w0(this.namespaces,this.optionalNamespaces),c=Rb(b0({},a[n]),{accounts:s,chains:i});switch(n){case"eip155":this.rpcProviders[n]=new Sie({namespace:c});break;case"algorand":this.rpcProviders[n]=new Rie({namespace:c});break;case"solana":this.rpcProviders[n]=new Tie({namespace:c});break;case"cosmos":this.rpcProviders[n]=new Die({namespace:c});break;case"polkadot":this.rpcProviders[n]=new wie({namespace:c});break;case"cip34":this.rpcProviders[n]=new Pie({namespace:c});break;case"elrond":this.rpcProviders[n]=new Bie({namespace:c});break;case"multiversx":this.rpcProviders[n]=new Hie({namespace:c});break;case"near":this.rpcProviders[n]=new Vie({namespace:c});break;case"tezos":this.rpcProviders[n]=new Gie({namespace:c});break;default:this.rpcProviders[xu]?this.rpcProviders[xu].updateNamespace(c):this.rpcProviders[xu]=new Qie({namespace:c})}})}registerEventListeners(){if(typeof this.client>"u")throw new Error("Sign Client is not initialized");this.client.on("session_ping",e=>{var n;const{topic:s}=e;s===((n=this.session)==null?void 0:n.topic)&&this.events.emit("session_ping",e)}),this.client.on("session_event",e=>{var n;const{params:s,topic:i}=e;if(i!==((n=this.session)==null?void 0:n.topic))return;const{event:a}=s;if(a.name==="accountsChanged"){const c=a.data;c&&bo(c)&&this.events.emit("accountsChanged",c.map(c5))}else if(a.name==="chainChanged"){const c=s.chainId,u=s.event.data,f=Uu(c),h=Db(c)!==Db(u)?`${f}:${Db(u)}`:c;this.onChainChanged(h)}else this.events.emit(a.name,a.data);this.events.emit("session_event",e)}),this.client.on("session_update",({topic:e,params:n})=>{var s,i;if(e!==((s=this.session)==null?void 0:s.topic))return;const{namespaces:a}=n,c=(i=this.client)==null?void 0:i.session.get(e);this.session=Rb(b0({},c),{namespaces:a}),this.onSessionUpdate(),this.events.emit("session_update",{topic:e,params:n})}),this.client.on("session_delete",async e=>{var n;e.topic===((n=this.session)==null?void 0:n.topic)&&(await this.cleanup(),this.events.emit("session_delete",e),this.events.emit("disconnect",Rb(b0({},jt("USER_DISCONNECTED")),{data:e.topic})))}),this.on(Ii.DEFAULT_CHAIN_CHANGED,e=>{this.onChainChanged(e,!0)})}getProvider(e){return this.rpcProviders[e]||this.rpcProviders[xu]}onSessionUpdate(){Object.keys(this.rpcProviders).forEach(e=>{var n;this.getProvider(e).updateNamespace((n=this.session)==null?void 0:n.namespaces[e])})}setNamespaces(e){const{namespaces:n={},optionalNamespaces:s={},sessionProperties:i,scopedProperties:a}=e;this.optionalNamespaces=w0(n,s),this.sessionProperties=i,this.scopedProperties=a}validateChain(e){const[n,s]=e?.split(":")||["",""];if(!this.namespaces||!Object.keys(this.namespaces).length)return[n,s];if(n&&!Object.keys(this.namespaces||{}).map(c=>Uu(c)).includes(n))throw new Error(`Namespace '${n}' is not configured. Please call connect() first with namespace config.`);if(n&&s)return[n,s];const i=Uu(Object.keys(this.namespaces)[0]),a=this.rpcProviders[i].getDefaultChain();return[i,a]}async requestAccounts(){const[e]=this.validateChain();return await this.getProvider(e).requestAccounts()}async onChainChanged(e,n=!1){if(!this.namespaces)return;const[s,i]=this.validateChain(e);if(!i)return;this.updateNamespaceChain(s,i),this.events.emit("chainChanged",i);const a=this.getProvider(s).getDefaultChain();n||this.getProvider(s).setDefaultChain(i),this.emitAccountsChangedOnChainChange({namespace:s,previousChainId:a,newChainId:e}),await this.persist("namespaces",this.namespaces)}emitAccountsChangedOnChainChange({namespace:e,previousChainId:n,newChainId:s}){var i,a;try{if(n===s)return;const c=(a=(i=this.session)==null?void 0:i.namespaces[e])==null?void 0:a.accounts;if(!c)return;const u=c.filter(f=>f.includes(`${s}:`)).map(c5);if(!bo(u))return;this.events.emit("accountsChanged",u)}catch(c){this.logger.warn("Failed to emit accountsChanged on chain change",c)}}updateNamespaceChain(e,n){if(!this.namespaces)return;const s=this.namespaces[e]?e:`${e}:${n}`,i={chains:[],methods:[],events:[],defaultChain:n};this.namespaces[s]?this.namespaces[s]&&(this.namespaces[s].defaultChain=n):this.namespaces[s]=i}onConnect(){this.createProviders(),this.events.emit("connect",{session:this.session})}async cleanup(){this.namespaces=void 0,this.optionalNamespaces=void 0,this.sessionProperties=void 0,await this.deleteFromStore("namespaces"),await this.deleteFromStore("optionalNamespaces"),await this.deleteFromStore("sessionProperties"),this.session=void 0,await this.cleanupPendingPairings({deletePairings:!0}),await this.cleanupStorage()}async persist(e,n){var s;const i=((s=this.session)==null?void 0:s.topic)||"";await this.client.core.storage.setItem(`${m0}/${e}${i}`,n)}async getFromStore(e){var n;const s=((n=this.session)==null?void 0:n.topic)||"";return await this.client.core.storage.getItem(`${m0}/${e}${s}`)}async deleteFromStore(e){var n;const s=((n=this.session)==null?void 0:n.topic)||"";await this.client.core.storage.removeItem(`${m0}/${e}${s}`)}async cleanupStorage(){var e;try{if(((e=this.client)==null?void 0:e.session.length)>0)return;const n=await this.client.core.storage.getKeys();for(const s of n)s.startsWith(m0)&&await this.client.core.storage.removeItem(s)}catch(n){this.logger.warn("Failed to cleanup storage",n)}}}const sre=Ym;var b5={};const de={WC_NAME_SUFFIX:".reown.id",WC_NAME_SUFFIX_LEGACY:".wcn.id",BLOCKCHAIN_API_RPC_URL:"https://rpc.walletconnect.org",PULSE_API_URL:"https://pulse.walletconnect.org",W3M_API_URL:"https://api.web3modal.org",CONNECTOR_ID:{WALLET_CONNECT:"walletConnect",INJECTED:"injected",WALLET_STANDARD:"announced",COINBASE:"coinbaseWallet",COINBASE_SDK:"coinbaseWalletSDK",SAFE:"safe",LEDGER:"ledger",OKX:"okx",EIP6963:"eip6963",AUTH:"ID_AUTH"},CONNECTOR_NAMES:{AUTH:"Auth"},AUTH_CONNECTOR_SUPPORTED_CHAINS:["eip155","solana"],LIMITS:{PENDING_TRANSACTIONS:99},CHAIN:{EVM:"eip155",SOLANA:"solana",POLKADOT:"polkadot",BITCOIN:"bip122"},CHAIN_NAME_MAP:{eip155:"EVM Networks",solana:"Solana",polkadot:"Polkadot",bip122:"Bitcoin",cosmos:"Cosmos",sui:"Sui",stacks:"Stacks"},ADAPTER_TYPES:{BITCOIN:"bitcoin",SOLANA:"solana",WAGMI:"wagmi",ETHERS:"ethers",ETHERS5:"ethers5"},USDT_CONTRACT_ADDRESSES:["0xdac17f958d2ee523a2206206994597c13d831ec7","0xc2132d05d31c914a87c6611c10748aeb04b58e8f","0x9702230a8ea53601f5cd2dc00fdbc13d4df4a8c7","0x919C1c267BC06a7039e03fcc2eF738525769109c","0x48065fbBE25f71C9282ddf5e1cD6D6A887483D5e","0x55d398326f99059fF775485246999027B3197955","0xfd086bc7cd5c481dcc9c85ebe478a1c0b69fcbb9"],HTTP_STATUS_CODES:{SERVER_ERROR:500,TOO_MANY_REQUESTS:429,SERVICE_UNAVAILABLE:503,FORBIDDEN:403},UNSUPPORTED_NETWORK_NAME:"Unknown Network",SECURE_SITE_SDK_ORIGIN:(typeof process<"u"&&typeof b5<"u"?b5.NEXT_PUBLIC_SECURE_SITE_ORIGIN:void 0)||"https://secure.walletconnect.org",REMOTE_FEATURES_ALERTS:{MULTI_WALLET_NOT_ENABLED:{DEFAULT:{displayMessage:"Multi-Wallet Not Enabled",debugMessage:"Multi-wallet support is not enabled. Please enable it in your AppKit configuration at cloud.reown.com."},CONNECTIONS_HOOK:{displayMessage:"Multi-Wallet Not Enabled",debugMessage:"Multi-wallet support is not enabled. Please enable it in your AppKit configuration at cloud.reown.com to use the useAppKitConnections hook."},CONNECTION_HOOK:{displayMessage:"Multi-Wallet Not Enabled",debugMessage:"Multi-wallet support is not enabled. Please enable it in your AppKit configuration at cloud.reown.com to use the useAppKitConnection hook."}}}},lM={caipNetworkIdToNumber(t){return t?Number(t.split(":")[1]):void 0},parseEvmChainId(t){return typeof t=="string"?this.caipNetworkIdToNumber(t):t},getNetworksByNamespace(t,e){return t?.filter(n=>n.chainNamespace===e)||[]},getFirstNetworkByNamespace(t,e){return this.getNetworksByNamespace(t,e)[0]},getNetworkNameByCaipNetworkId(t,e){if(!e)return;const n=t.find(i=>i.caipNetworkId===e);if(n)return n.name;const[s]=e.split(":");return de.CHAIN_NAME_MAP?.[s]||void 0}},uM=["eip155","solana","polkadot","bip122","cosmos","sui","stacks"];var ire=20,rre=1,Jc=1e6,v5=1e6,ore=-7,are=21,cre=!1,Ap="[big.js] ",cl=Ap+"Invalid ",Xm=cl+"decimal places",lre=cl+"rounding mode",fM=Ap+"Division by zero",vt={},Ir=void 0,ure=/^-?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i;function dM(){function t(e){var n=this;if(!(n instanceof t))return e===Ir?dM():new t(e);if(e instanceof t)n.s=e.s,n.e=e.e,n.c=e.c.slice();else{if(typeof e!="string"){if(t.strict===!0&&typeof e!="bigint")throw TypeError(cl+"value");e=e===0&&1/e<0?"-0":String(e)}fre(n,e)}n.constructor=t}return t.prototype=vt,t.DP=ire,t.RM=rre,t.NE=ore,t.PE=are,t.strict=cre,t.roundDown=0,t.roundHalfUp=1,t.roundHalfEven=2,t.roundUp=3,t}function fre(t,e){var n,s,i;if(!ure.test(e))throw Error(cl+"number");for(t.s=e.charAt(0)=="-"?(e=e.slice(1),-1):1,(n=e.indexOf("."))>-1&&(e=e.replace(".","")),(s=e.search(/e/i))>0?(n<0&&(n=s),n+=+e.slice(s+1),e=e.substring(0,s)):n<0&&(n=e.length),i=e.length,s=0;s<i&&e.charAt(s)=="0";)++s;if(s==i)t.c=[t.e=0];else{for(;i>0&&e.charAt(--i)=="0";);for(t.e=n-s-1,t.c=[],n=0;s<=i;)t.c[n++]=+e.charAt(s++)}return t}function ll(t,e,n,s){var i=t.c;if(n===Ir&&(n=t.constructor.RM),n!==0&&n!==1&&n!==2&&n!==3)throw Error(lre);if(e<1)s=n===3&&(s||!!i[0])||e===0&&(n===1&&i[0]>=5||n===2&&(i[0]>5||i[0]===5&&(s||i[1]!==Ir))),i.length=1,s?(t.e=t.e-e+1,i[0]=1):i[0]=t.e=0;else if(e<i.length){if(s=n===1&&i[e]>=5||n===2&&(i[e]>5||i[e]===5&&(s||i[e+1]!==Ir||i[e-1]&1))||n===3&&(s||!!i[0]),i.length=e,s){for(;++i[--e]>9;)if(i[e]=0,e===0){++t.e,i.unshift(1);break}}for(e=i.length;!i[--e];)i.pop()}return t}function ul(t,e,n){var s=t.e,i=t.c.join(""),a=i.length;if(e)i=i.charAt(0)+(a>1?"."+i.slice(1):"")+(s<0?"e":"e+")+s;else if(s<0){for(;++s;)i="0"+i;i="0."+i}else if(s>0)if(++s>a)for(s-=a;s--;)i+="0";else s<a&&(i=i.slice(0,s)+"."+i.slice(s));else a>1&&(i=i.charAt(0)+"."+i.slice(1));return t.s<0&&n?"-"+i:i}vt.abs=function(){var t=new this.constructor(this);return t.s=1,t};vt.cmp=function(t){var e,n=this,s=n.c,i=(t=new n.constructor(t)).c,a=n.s,c=t.s,u=n.e,f=t.e;if(!s[0]||!i[0])return s[0]?a:i[0]?-c:0;if(a!=c)return a;if(e=a<0,u!=f)return u>f^e?1:-1;for(c=(u=s.length)<(f=i.length)?u:f,a=-1;++a<c;)if(s[a]!=i[a])return s[a]>i[a]^e?1:-1;return u==f?0:u>f^e?1:-1};vt.div=function(t){var e=this,n=e.constructor,s=e.c,i=(t=new n(t)).c,a=e.s==t.s?1:-1,c=n.DP;if(c!==~~c||c<0||c>Jc)throw Error(Xm);if(!i[0])throw Error(fM);if(!s[0])return t.s=a,t.c=[t.e=0],t;var u,f,h,p,g,y=i.slice(),b=u=i.length,v=s.length,E=s.slice(0,u),A=E.length,S=t,D=S.c=[],x=0,N=c+(S.e=e.e-t.e)+1;for(S.s=a,a=N<0?0:N,y.unshift(0);A++<u;)E.push(0);do{for(h=0;h<10;h++){if(u!=(A=E.length))p=u>A?1:-1;else for(g=-1,p=0;++g<u;)if(i[g]!=E[g]){p=i[g]>E[g]?1:-1;break}if(p<0){for(f=A==u?i:y;A;){if(E[--A]<f[A]){for(g=A;g&&!E[--g];)E[g]=9;--E[g],E[A]+=10}E[A]-=f[A]}for(;!E[0];)E.shift()}else break}D[x++]=p?h:++h,E[0]&&p?E[A]=s[b]||0:E=[s[b]]}while((b++<v||E[0]!==Ir)&&a--);return!D[0]&&x!=1&&(D.shift(),S.e--,N--),x>N&&ll(S,N,n.RM,E[0]!==Ir),S};vt.eq=function(t){return this.cmp(t)===0};vt.gt=function(t){return this.cmp(t)>0};vt.gte=function(t){return this.cmp(t)>-1};vt.lt=function(t){return this.cmp(t)<0};vt.lte=function(t){return this.cmp(t)<1};vt.minus=vt.sub=function(t){var e,n,s,i,a=this,c=a.constructor,u=a.s,f=(t=new c(t)).s;if(u!=f)return t.s=-f,a.plus(t);var h=a.c.slice(),p=a.e,g=t.c,y=t.e;if(!h[0]||!g[0])return g[0]?t.s=-f:h[0]?t=new c(a):t.s=1,t;if(u=p-y){for((i=u<0)?(u=-u,s=h):(y=p,s=g),s.reverse(),f=u;f--;)s.push(0);s.reverse()}else for(n=((i=h.length<g.length)?h:g).length,u=f=0;f<n;f++)if(h[f]!=g[f]){i=h[f]<g[f];break}if(i&&(s=h,h=g,g=s,t.s=-t.s),(f=(n=g.length)-(e=h.length))>0)for(;f--;)h[e++]=0;for(f=e;n>u;){if(h[--n]<g[n]){for(e=n;e&&!h[--e];)h[e]=9;--h[e],h[n]+=10}h[n]-=g[n]}for(;h[--f]===0;)h.pop();for(;h[0]===0;)h.shift(),--y;return h[0]||(t.s=1,h=[y=0]),t.c=h,t.e=y,t};vt.mod=function(t){var e,n=this,s=n.constructor,i=n.s,a=(t=new s(t)).s;if(!t.c[0])throw Error(fM);return n.s=t.s=1,e=t.cmp(n)==1,n.s=i,t.s=a,e?new s(n):(i=s.DP,a=s.RM,s.DP=s.RM=0,n=n.div(t),s.DP=i,s.RM=a,this.minus(n.times(t)))};vt.neg=function(){var t=new this.constructor(this);return t.s=-t.s,t};vt.plus=vt.add=function(t){var e,n,s,i=this,a=i.constructor;if(t=new a(t),i.s!=t.s)return t.s=-t.s,i.minus(t);var c=i.e,u=i.c,f=t.e,h=t.c;if(!u[0]||!h[0])return h[0]||(u[0]?t=new a(i):t.s=i.s),t;if(u=u.slice(),e=c-f){for(e>0?(f=c,s=h):(e=-e,s=u),s.reverse();e--;)s.push(0);s.reverse()}for(u.length-h.length<0&&(s=h,h=u,u=s),e=h.length,n=0;e;u[e]%=10)n=(u[--e]=u[e]+h[e]+n)/10|0;for(n&&(u.unshift(n),++f),e=u.length;u[--e]===0;)u.pop();return t.c=u,t.e=f,t};vt.pow=function(t){var e=this,n=new e.constructor("1"),s=n,i=t<0;if(t!==~~t||t<-v5||t>v5)throw Error(cl+"exponent");for(i&&(t=-t);t&1&&(s=s.times(e)),t>>=1,!!t;)e=e.times(e);return i?n.div(s):s};vt.prec=function(t,e){if(t!==~~t||t<1||t>Jc)throw Error(cl+"precision");return ll(new this.constructor(this),t,e)};vt.round=function(t,e){if(t===Ir)t=0;else if(t!==~~t||t<-Jc||t>Jc)throw Error(Xm);return ll(new this.constructor(this),t+this.e+1,e)};vt.sqrt=function(){var t,e,n,s=this,i=s.constructor,a=s.s,c=s.e,u=new i("0.5");if(!s.c[0])return new i(s);if(a<0)throw Error(Ap+"No square root");a=Math.sqrt(+ul(s,!0,!0)),a===0||a===1/0?(e=s.c.join(""),e.length+c&1||(e+="0"),a=Math.sqrt(e),c=((c+1)/2|0)-(c<0||c&1),t=new i((a==1/0?"5e":(a=a.toExponential()).slice(0,a.indexOf("e")+1))+c)):t=new i(a+""),c=t.e+(i.DP+=4);do n=t,t=u.times(n.plus(s.div(n)));while(n.c.slice(0,c).join("")!==t.c.slice(0,c).join(""));return ll(t,(i.DP-=4)+t.e+1,i.RM)};vt.times=vt.mul=function(t){var e,n=this,s=n.constructor,i=n.c,a=(t=new s(t)).c,c=i.length,u=a.length,f=n.e,h=t.e;if(t.s=n.s==t.s?1:-1,!i[0]||!a[0])return t.c=[t.e=0],t;for(t.e=f+h,c<u&&(e=i,i=a,a=e,h=c,c=u,u=h),e=new Array(h=c+u);h--;)e[h]=0;for(f=u;f--;){for(u=0,h=c+f;h>f;)u=e[h]+a[f]*i[h-f-1]+u,e[h--]=u%10,u=u/10|0;e[h]=u}for(u?++t.e:e.shift(),f=e.length;!e[--f];)e.pop();return t.c=e,t};vt.toExponential=function(t,e){var n=this,s=n.c[0];if(t!==Ir){if(t!==~~t||t<0||t>Jc)throw Error(Xm);for(n=ll(new n.constructor(n),++t,e);n.c.length<t;)n.c.push(0)}return ul(n,!0,!!s)};vt.toFixed=function(t,e){var n=this,s=n.c[0];if(t!==Ir){if(t!==~~t||t<0||t>Jc)throw Error(Xm);for(n=ll(new n.constructor(n),t+n.e+1,e),t=t+n.e+1;n.c.length<t;)n.c.push(0)}return ul(n,!1,!!s)};vt[Symbol.for("nodejs.util.inspect.custom")]=vt.toJSON=vt.toString=function(){var t=this,e=t.constructor;return ul(t,t.e<=e.NE||t.e>=e.PE,!!t.c[0])};vt.toNumber=function(){var t=+ul(this,!0,!0);if(this.constructor.strict===!0&&!this.eq(t.toString()))throw Error(Ap+"Imprecise conversion");return t};vt.toPrecision=function(t,e){var n=this,s=n.constructor,i=n.c[0];if(t!==Ir){if(t!==~~t||t<1||t>Jc)throw Error(cl+"precision");for(n=ll(new s(n),t,e);n.c.length<t;)n.c.push(0)}return ul(n,t<=n.e||n.e<=s.NE||n.e>=s.PE,!!i)};vt.valueOf=function(){var t=this,e=t.constructor;if(e.strict===!0)throw Error(Ap+"valueOf disallowed");return ul(t,t.e<=e.NE||t.e>=e.PE,!0)};var $d=dM();const dre={bigNumber(t){return t?new $d(t):new $d(0)},multiply(t,e){if(t===void 0||e===void 0)return new $d(0);const n=new $d(t),s=new $d(e);return n.times(s)},formatNumberToLocalString(t,e=2){return t===void 0?"0.00":typeof t=="number"?t.toLocaleString("en-US",{maximumFractionDigits:e,minimumFractionDigits:e}):parseFloat(t).toLocaleString("en-US",{maximumFractionDigits:e,minimumFractionDigits:e})},parseLocalStringToNumber(t){return t===void 0?0:parseFloat(t.replace(/,/gu,""))}},hre=[{type:"function",name:"transfer",stateMutability:"nonpayable",inputs:[{name:"_to",type:"address"},{name:"_value",type:"uint256"}],outputs:[{name:"",type:"bool"}]},{type:"function",name:"transferFrom",stateMutability:"nonpayable",inputs:[{name:"_from",type:"address"},{name:"_to",type:"address"},{name:"_value",type:"uint256"}],outputs:[{name:"",type:"bool"}]}],pre=[{type:"function",name:"approve",stateMutability:"nonpayable",inputs:[{name:"spender",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]}],gre=[{type:"function",name:"transfer",stateMutability:"nonpayable",inputs:[{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[]},{type:"function",name:"transferFrom",stateMutability:"nonpayable",inputs:[{name:"sender",type:"address"},{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[{name:"",type:"bool"}]}],mre={getERC20Abi:t=>de.USDT_CONTRACT_ADDRESSES.includes(t)?gre:hre,getSwapAbi:()=>pre},Ks={validateCaipAddress(t){if(t.split(":")?.length!==3)throw new Error("Invalid CAIP Address");return t},parseCaipAddress(t){const e=t.split(":");if(e.length!==3)throw new Error(`Invalid CAIP-10 address: ${t}`);const[n,s,i]=e;if(!n||!s||!i)throw new Error(`Invalid CAIP-10 address: ${t}`);return{chainNamespace:n,chainId:s,address:i}},parseCaipNetworkId(t){const e=t.split(":");if(e.length!==2)throw new Error(`Invalid CAIP-2 network id: ${t}`);const[n,s]=e;if(!n||!s)throw new Error(`Invalid CAIP-2 network id: ${t}`);return{chainNamespace:n,chainId:s}}},$e={WALLET_ID:"@appkit/wallet_id",WALLET_NAME:"@appkit/wallet_name",SOLANA_WALLET:"@appkit/solana_wallet",SOLANA_CAIP_CHAIN:"@appkit/solana_caip_chain",ACTIVE_CAIP_NETWORK_ID:"@appkit/active_caip_network_id",CONNECTED_SOCIAL:"@appkit/connected_social",CONNECTED_SOCIAL_USERNAME:"@appkit-wallet/SOCIAL_USERNAME",RECENT_WALLETS:"@appkit/recent_wallets",DEEPLINK_CHOICE:"WALLETCONNECT_DEEPLINK_CHOICE",ACTIVE_NAMESPACE:"@appkit/active_namespace",CONNECTED_NAMESPACES:"@appkit/connected_namespaces",CONNECTION_STATUS:"@appkit/connection_status",SIWX_AUTH_TOKEN:"@appkit/siwx-auth-token",SIWX_NONCE_TOKEN:"@appkit/siwx-nonce-token",TELEGRAM_SOCIAL_PROVIDER:"@appkit/social_provider",NATIVE_BALANCE_CACHE:"@appkit/native_balance_cache",PORTFOLIO_CACHE:"@appkit/portfolio_cache",ENS_CACHE:"@appkit/ens_cache",IDENTITY_CACHE:"@appkit/identity_cache",PREFERRED_ACCOUNT_TYPES:"@appkit/preferred_account_types",CONNECTIONS:"@appkit/connections",DISCONNECTED_CONNECTOR_IDS:"@appkit/disconnected_connector_ids",HISTORY_TRANSACTIONS_CACHE:"@appkit/history_transactions_cache",TOKEN_PRICE_CACHE:"@appkit/token_price_cache",RECENT_EMAILS:"@appkit/recent_emails"};function $b(t){if(!t)throw new Error("Namespace is required for CONNECTED_CONNECTOR_ID");return`@appkit/${t}:connected_connector_id`}const Me={setItem(t,e){Lu()&&e!==void 0&&localStorage.setItem(t,e)},getItem(t){if(Lu())return localStorage.getItem(t)||void 0},removeItem(t){Lu()&&localStorage.removeItem(t)},clear(){Lu()&&localStorage.clear()}};function Lu(){return typeof window<"u"&&typeof localStorage<"u"}function Da(t,e){return e==="light"?{"--w3m-accent":t?.["--w3m-accent"]||"hsla(231, 100%, 70%, 1)","--w3m-background":"#fff"}:{"--w3m-accent":t?.["--w3m-accent"]||"hsla(230, 100%, 67%, 1)","--w3m-background":"#121313"}}const yre=Symbol(),E5=Object.getPrototypeOf,m2=new WeakMap,wre=t=>t&&(m2.has(t)?m2.get(t):E5(t)===Object.prototype||E5(t)===Array.prototype),bre=t=>wre(t)&&t[yre]||null,A5=(t,e=!0)=>{m2.set(t,e)},wm={},iA=t=>typeof t=="object"&&t!==null,vre=t=>iA(t)&&!Cp.has(t)&&(Array.isArray(t)||!(Symbol.iterator in t))&&!(t instanceof WeakMap)&&!(t instanceof WeakSet)&&!(t instanceof Error)&&!(t instanceof Number)&&!(t instanceof Date)&&!(t instanceof String)&&!(t instanceof RegExp)&&!(t instanceof ArrayBuffer)&&!(t instanceof Promise),hM=(t,e)=>{const n=y2.get(t);if(n?.[0]===e)return n[1];const s=Array.isArray(t)?[]:Object.create(Object.getPrototypeOf(t));return A5(s,!0),y2.set(t,[e,s]),Reflect.ownKeys(t).forEach(i=>{if(Object.getOwnPropertyDescriptor(s,i))return;const a=Reflect.get(t,i),{enumerable:c}=Reflect.getOwnPropertyDescriptor(t,i),u={value:a,enumerable:c,configurable:!0};if(Cp.has(a))A5(a,!1);else if(Ba.has(a)){const[f,h]=Ba.get(a);u.value=hM(f,h())}Object.defineProperty(s,i,u)}),Object.preventExtensions(s)},Ere=(t,e,n,s)=>({deleteProperty(i,a){const c=Reflect.get(i,a);n(a);const u=Reflect.deleteProperty(i,a);return u&&s(["delete",[a],c]),u},set(i,a,c,u){const f=!t()&&Reflect.has(i,a),h=Reflect.get(i,a,u);if(f&&(C5(h,c)||Oh.has(c)&&C5(h,Oh.get(c))))return!0;n(a),iA(c)&&(c=bre(c)||c);const p=!Ba.has(c)&&Cre(c)?Dt(c):c;return e(a,p),Reflect.set(i,a,p,u),s(["set",[a],c,h]),!0}}),Ba=new WeakMap,Cp=new WeakSet,y2=new WeakMap,qd=[1,1],Oh=new WeakMap;let C5=Object.is,Are=(t,e)=>new Proxy(t,e),Cre=vre,Sre=hM,xre=Ere;function Dt(t={}){if(!iA(t))throw new Error("object required");const e=Oh.get(t);if(e)return e;let n=qd[0];const s=new Set,i=(A,S=++qd[0])=>{n!==S&&(n=S,s.forEach(D=>D(A,S)))};let a=qd[1];const c=(A=++qd[1])=>(a!==A&&!s.size&&(a=A,f.forEach(([S])=>{const D=S[1](A);D>n&&(n=D)})),n),u=A=>(S,D)=>{const x=[...S];x[1]=[A,...x[1]],i(x,D)},f=new Map,h=(A,S)=>{const D=!Cp.has(S)&&Ba.get(S);if(D){if((wm?"production":void 0)!=="production"&&f.has(A))throw new Error("prop listener already exists");if(s.size){const x=D[2](u(A));f.set(A,[D,x])}else f.set(A,[D])}},p=A=>{var S;const D=f.get(A);D&&(f.delete(A),(S=D[1])==null||S.call(D))},g=A=>(s.add(A),s.size===1&&f.forEach(([D,x],N)=>{if((wm?"production":void 0)!=="production"&&x)throw new Error("remove already exists");const T=D[2](u(N));f.set(N,[D,T])}),()=>{s.delete(A),s.size===0&&f.forEach(([D,x],N)=>{x&&(x(),f.set(N,[D]))})});let y=!0;const b=xre(()=>y,h,p,i),v=Are(t,b);Oh.set(t,v);const E=[t,c,g];return Ba.set(v,E),Reflect.ownKeys(t).forEach(A=>{const S=Object.getOwnPropertyDescriptor(t,A);"value"in S&&S.writable&&(v[A]=t[A])}),y=!1,v}function Pn(t,e,n){const s=Ba.get(t);(wm?"production":void 0)!=="production"&&!s&&console.warn("Please use proxy object");let i;const a=[],c=s[2];let u=!1;const h=c(p=>{a.push(p),i||(i=Promise.resolve().then(()=>{i=void 0,u&&e(a.splice(0))}))});return u=!0,()=>{u=!1,h()}}function Mh(t){const e=Ba.get(t);(wm?"production":void 0)!=="production"&&!e&&console.warn("Please use proxy object");const[n,s]=e;return Sre(n,s())}function el(t){return Cp.add(t),t}function Nre(){return{proxyStateMap:Ba,refSet:Cp,snapCache:y2,versionHolder:qd,proxyCache:Oh}}function Qn(t,e,n,s){let i=t[e];return Pn(t,()=>{const a=t[e];Object.is(i,a)||n(i=a)})}const{proxyStateMap:Tre,snapCache:_re}=Nre(),v0=t=>Tre.has(t);function Ire(t){const e=[];let n=0;const s=new Map,i=new WeakMap,a=()=>{const h=_re.get(u),p=h?.[1];if(p&&!i.has(p)){const g=new Map(s);i.set(p,g)}},c=h=>i.get(h)||s,u={data:e,index:n,epoch:0,get size(){return v0(this)||a(),c(this).size},get(h){const g=c(this).get(h);if(g===void 0){this.epoch;return}return this.data[g]},has(h){const p=c(this);return this.epoch,p.has(h)},set(h,p){if(!v0(this))throw new Error("Cannot perform mutations on a snapshot");const g=s.get(h);return g===void 0?(s.set(h,this.index),this.data[this.index++]=p):this.data[g]=p,this.epoch++,this},delete(h){if(!v0(this))throw new Error("Cannot perform mutations on a snapshot");const p=s.get(h);return p===void 0?!1:(delete this.data[p],s.delete(h),this.epoch++,!0)},clear(){if(!v0(this))throw new Error("Cannot perform mutations on a snapshot");this.data.length=0,this.index=0,this.epoch++,s.clear()},forEach(h){this.epoch,c(this).forEach((g,y)=>{h(this.data[g],y,this)})},*entries(){this.epoch;const h=c(this);for(const[p,g]of h)yield[p,this.data[g]]},*keys(){this.epoch;const h=c(this);for(const p of h.keys())yield p},*values(){this.epoch;const h=c(this);for(const p of h.values())yield this.data[p]},[Symbol.iterator](){return this.entries()},get[Symbol.toStringTag](){return"Map"},toJSON(){return new Map(this.entries())}},f=Dt(u);return Object.defineProperties(f,{size:{enumerable:!1},index:{enumerable:!1},epoch:{enumerable:!1},data:{enumerable:!1},toJSON:{enumerable:!1}}),Object.seal(f),f}const pM=[{label:"Meld.io",name:"meld",feeRange:"1-2%",url:"https://meldcrypto.com",supportedChains:["eip155","solana"]}],Dre="WXETMuFUQmqqybHuRkSgxv:25B8LJHSfpG6LVjR2ytU5Cwh7Z4Sch2ocoU",gt={FOUR_MINUTES_MS:24e4,TEN_SEC_MS:1e4,ONE_SEC_MS:1e3,BALANCE_SUPPORTED_CHAINS:[de.CHAIN.EVM,de.CHAIN.SOLANA],NAMES_SUPPORTED_CHAIN_NAMESPACES:[de.CHAIN.EVM],NATIVE_TOKEN_ADDRESS:{eip155:"0xeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee",solana:"So11111111111111111111111111111111111111111",polkadot:"0x",bip122:"0x",cosmos:"0x",sui:"0x",stacks:"0x"},CONVERT_SLIPPAGE_TOLERANCE:1,CONNECT_LABELS:{MOBILE:"Open and continue in the wallet app"},SEND_SUPPORTED_NAMESPACES:[de.CHAIN.EVM,de.CHAIN.SOLANA],DEFAULT_REMOTE_FEATURES:{swaps:["1inch"],onramp:["meld"],email:!0,socials:["google","x","discord","farcaster","github","apple","facebook"],activity:!0,reownBranding:!0,multiWallet:!1,emailCapture:!1},DEFAULT_REMOTE_FEATURES_DISABLED:{email:!1,socials:!1,swaps:!1,onramp:!1,activity:!1,reownBranding:!1,emailCapture:!1},DEFAULT_FEATURES:{receive:!0,send:!0,emailShowWallets:!0,connectorTypeOrder:["walletConnect","recent","injected","featured","custom","external","recommended"],analytics:!0,allWallets:!0,legalCheckbox:!1,smartSessions:!1,collapseWallets:!1,walletFeaturesOrder:["onramp","swaps","receive","send"],connectMethodsOrder:void 0,pay:!1},DEFAULT_ACCOUNT_TYPES:{bip122:"payment",eip155:"smartAccount",polkadot:"eoa",solana:"eoa"},ADAPTER_TYPES:{UNIVERSAL:"universal"},SIWX_DEFAULTS:{signOutOnDisconnect:!0}},ge={cacheExpiry:{portfolio:3e4,nativeBalance:3e4,ens:3e5,identity:3e5,transactionsHistory:15e3,tokenPrice:15e3},isCacheExpired(t,e){return Date.now()-t>e},getActiveNetworkProps(){const t=ge.getActiveNamespace(),e=ge.getActiveCaipNetworkId(),n=e?e.split(":")[1]:void 0,s=n?isNaN(Number(n))?n:Number(n):void 0;return{namespace:t,caipNetworkId:e,chainId:s}},setWalletConnectDeepLink({name:t,href:e}){try{Me.setItem($e.DEEPLINK_CHOICE,JSON.stringify({href:e,name:t}))}catch{console.info("Unable to set WalletConnect deep link")}},getWalletConnectDeepLink(){try{const t=Me.getItem($e.DEEPLINK_CHOICE);if(t)return JSON.parse(t)}catch{console.info("Unable to get WalletConnect deep link")}},deleteWalletConnectDeepLink(){try{Me.removeItem($e.DEEPLINK_CHOICE)}catch{console.info("Unable to delete WalletConnect deep link")}},setActiveNamespace(t){try{Me.setItem($e.ACTIVE_NAMESPACE,t)}catch{console.info("Unable to set active namespace")}},setActiveCaipNetworkId(t){try{Me.setItem($e.ACTIVE_CAIP_NETWORK_ID,t),ge.setActiveNamespace(t.split(":")[0])}catch{console.info("Unable to set active caip network id")}},getActiveCaipNetworkId(){try{return Me.getItem($e.ACTIVE_CAIP_NETWORK_ID)}catch{console.info("Unable to get active caip network id");return}},deleteActiveCaipNetworkId(){try{Me.removeItem($e.ACTIVE_CAIP_NETWORK_ID)}catch{console.info("Unable to delete active caip network id")}},deleteConnectedConnectorId(t){try{const e=$b(t);Me.removeItem(e)}catch{console.info("Unable to delete connected connector id")}},setAppKitRecent(t){try{const e=ge.getRecentWallets();e.find(s=>s.id===t.id)||(e.unshift(t),e.length>2&&e.pop(),Me.setItem($e.RECENT_WALLETS,JSON.stringify(e)))}catch{console.info("Unable to set AppKit recent")}},getRecentWallets(){try{const t=Me.getItem($e.RECENT_WALLETS);return t?JSON.parse(t):[]}catch{console.info("Unable to get AppKit recent")}return[]},setConnectedConnectorId(t,e){try{const n=$b(t);Me.setItem(n,e)}catch{console.info("Unable to set Connected Connector Id")}},getActiveNamespace(){try{return Me.getItem($e.ACTIVE_NAMESPACE)}catch{console.info("Unable to get active namespace")}},getConnectedConnectorId(t){if(t)try{const e=$b(t);return Me.getItem(e)}catch{console.info("Unable to get connected connector id in namespace",t)}},setConnectedSocialProvider(t){try{Me.setItem($e.CONNECTED_SOCIAL,t)}catch{console.info("Unable to set connected social provider")}},getConnectedSocialProvider(){try{return Me.getItem($e.CONNECTED_SOCIAL)}catch{console.info("Unable to get connected social provider")}},deleteConnectedSocialProvider(){try{Me.removeItem($e.CONNECTED_SOCIAL)}catch{console.info("Unable to delete connected social provider")}},getConnectedSocialUsername(){try{return Me.getItem($e.CONNECTED_SOCIAL_USERNAME)}catch{console.info("Unable to get connected social username")}},getStoredActiveCaipNetworkId(){return Me.getItem($e.ACTIVE_CAIP_NETWORK_ID)?.split(":")?.[1]},setConnectionStatus(t){try{Me.setItem($e.CONNECTION_STATUS,t)}catch{console.info("Unable to set connection status")}},getConnectionStatus(){try{return Me.getItem($e.CONNECTION_STATUS)}catch{return}},getConnectedNamespaces(){try{const t=Me.getItem($e.CONNECTED_NAMESPACES);return t?.length?t.split(","):[]}catch{return[]}},setConnectedNamespaces(t){try{const e=Array.from(new Set(t));Me.setItem($e.CONNECTED_NAMESPACES,e.join(","))}catch{console.info("Unable to set namespaces in storage")}},addConnectedNamespace(t){try{const e=ge.getConnectedNamespaces();e.includes(t)||(e.push(t),ge.setConnectedNamespaces(e))}catch{console.info("Unable to add connected namespace")}},removeConnectedNamespace(t){try{const e=ge.getConnectedNamespaces(),n=e.indexOf(t);n>-1&&(e.splice(n,1),ge.setConnectedNamespaces(e))}catch{console.info("Unable to remove connected namespace")}},getTelegramSocialProvider(){try{return Me.getItem($e.TELEGRAM_SOCIAL_PROVIDER)}catch{return console.info("Unable to get telegram social provider"),null}},setTelegramSocialProvider(t){try{Me.setItem($e.TELEGRAM_SOCIAL_PROVIDER,t)}catch{console.info("Unable to set telegram social provider")}},removeTelegramSocialProvider(){try{Me.removeItem($e.TELEGRAM_SOCIAL_PROVIDER)}catch{console.info("Unable to remove telegram social provider")}},getBalanceCache(){let t={};try{const e=Me.getItem($e.PORTFOLIO_CACHE);t=e?JSON.parse(e):{}}catch{console.info("Unable to get balance cache")}return t},removeAddressFromBalanceCache(t){try{const e=ge.getBalanceCache();Me.setItem($e.PORTFOLIO_CACHE,JSON.stringify({...e,[t]:void 0}))}catch{console.info("Unable to remove address from balance cache",t)}},getBalanceCacheForCaipAddress(t){try{const n=ge.getBalanceCache()[t];if(n&&!this.isCacheExpired(n.timestamp,this.cacheExpiry.portfolio))return n.balance;ge.removeAddressFromBalanceCache(t)}catch{console.info("Unable to get balance cache for address",t)}},updateBalanceCache(t){try{const e=ge.getBalanceCache();e[t.caipAddress]=t,Me.setItem($e.PORTFOLIO_CACHE,JSON.stringify(e))}catch{console.info("Unable to update balance cache",t)}},getNativeBalanceCache(){let t={};try{const e=Me.getItem($e.NATIVE_BALANCE_CACHE);t=e?JSON.parse(e):{}}catch{console.info("Unable to get balance cache")}return t},removeAddressFromNativeBalanceCache(t){try{const e=ge.getBalanceCache();Me.setItem($e.NATIVE_BALANCE_CACHE,JSON.stringify({...e,[t]:void 0}))}catch{console.info("Unable to remove address from balance cache",t)}},getNativeBalanceCacheForCaipAddress(t){try{const n=ge.getNativeBalanceCache()[t];if(n&&!this.isCacheExpired(n.timestamp,this.cacheExpiry.nativeBalance))return n;console.info("Discarding cache for address",t),ge.removeAddressFromBalanceCache(t)}catch{console.info("Unable to get balance cache for address",t)}},updateNativeBalanceCache(t){try{const e=ge.getNativeBalanceCache();e[t.caipAddress]=t,Me.setItem($e.NATIVE_BALANCE_CACHE,JSON.stringify(e))}catch{console.info("Unable to update balance cache",t)}},getEnsCache(){let t={};try{const e=Me.getItem($e.ENS_CACHE);t=e?JSON.parse(e):{}}catch{console.info("Unable to get ens name cache")}return t},getEnsFromCacheForAddress(t){try{const n=ge.getEnsCache()[t];if(n&&!this.isCacheExpired(n.timestamp,this.cacheExpiry.ens))return n.ens;ge.removeEnsFromCache(t)}catch{console.info("Unable to get ens name from cache",t)}},updateEnsCache(t){try{const e=ge.getEnsCache();e[t.address]=t,Me.setItem($e.ENS_CACHE,JSON.stringify(e))}catch{console.info("Unable to update ens name cache",t)}},removeEnsFromCache(t){try{const e=ge.getEnsCache();Me.setItem($e.ENS_CACHE,JSON.stringify({...e,[t]:void 0}))}catch{console.info("Unable to remove ens name from cache",t)}},getIdentityCache(){let t={};try{const e=Me.getItem($e.IDENTITY_CACHE);t=e?JSON.parse(e):{}}catch{console.info("Unable to get identity cache")}return t},getIdentityFromCacheForAddress(t){try{const n=ge.getIdentityCache()[t];if(n&&!this.isCacheExpired(n.timestamp,this.cacheExpiry.identity))return n.identity;ge.removeIdentityFromCache(t)}catch{console.info("Unable to get identity from cache",t)}},updateIdentityCache(t){try{const e=ge.getIdentityCache();e[t.address]={identity:t.identity,timestamp:t.timestamp},Me.setItem($e.IDENTITY_CACHE,JSON.stringify(e))}catch{console.info("Unable to update identity cache",t)}},removeIdentityFromCache(t){try{const e=ge.getIdentityCache();Me.setItem($e.IDENTITY_CACHE,JSON.stringify({...e,[t]:void 0}))}catch{console.info("Unable to remove identity from cache",t)}},clearAddressCache(){try{Me.removeItem($e.PORTFOLIO_CACHE),Me.removeItem($e.NATIVE_BALANCE_CACHE),Me.removeItem($e.ENS_CACHE),Me.removeItem($e.IDENTITY_CACHE),Me.removeItem($e.HISTORY_TRANSACTIONS_CACHE)}catch{console.info("Unable to clear address cache")}},setPreferredAccountTypes(t){try{Me.setItem($e.PREFERRED_ACCOUNT_TYPES,JSON.stringify(t))}catch{console.info("Unable to set preferred account types",t)}},getPreferredAccountTypes(){try{const t=Me.getItem($e.PREFERRED_ACCOUNT_TYPES);return t?JSON.parse(t):{}}catch{console.info("Unable to get preferred account types")}return{}},setConnections(t,e){try{const n=ge.getConnections(),s=n[e]??[],i=new Map;for(const c of s)i.set(c.connectorId,{...c});for(const c of t){const u=i.get(c.connectorId),f=c.connectorId===de.CONNECTOR_ID.AUTH;if(u&&!f){const h=new Set(u.accounts.map(g=>g.address.toLowerCase())),p=c.accounts.filter(g=>!h.has(g.address.toLowerCase()));u.accounts.push(...p)}else i.set(c.connectorId,{...c})}const a={...n,[e]:Array.from(i.values())};Me.setItem($e.CONNECTIONS,JSON.stringify(a))}catch(n){console.error("Unable to sync connections to storage",n)}},getConnections(){try{const t=Me.getItem($e.CONNECTIONS);return t?JSON.parse(t):{}}catch(t){return console.error("Unable to get connections from storage",t),{}}},deleteAddressFromConnection({connectorId:t,address:e,namespace:n}){try{const s=ge.getConnections(),i=s[n]??[],a=new Map(i.map(u=>[u.connectorId,u])),c=a.get(t);c&&(c.accounts.filter(f=>f.address.toLowerCase()!==e.toLowerCase()).length===0?a.delete(t):a.set(t,{...c,accounts:c.accounts.filter(f=>f.address.toLowerCase()!==e.toLowerCase())})),Me.setItem($e.CONNECTIONS,JSON.stringify({...s,[n]:Array.from(a.values())}))}catch{console.error(`Unable to remove address "${e}" from connector "${t}" in namespace "${n}"`)}},getDisconnectedConnectorIds(){try{const t=Me.getItem($e.DISCONNECTED_CONNECTOR_IDS);return t?JSON.parse(t):{}}catch{console.info("Unable to get disconnected connector ids")}return{}},addDisconnectedConnectorId(t,e){try{const n=ge.getDisconnectedConnectorIds(),s=n[e]??[];s.push(t),Me.setItem($e.DISCONNECTED_CONNECTOR_IDS,JSON.stringify({...n,[e]:Array.from(new Set(s))}))}catch{console.error(`Unable to set disconnected connector id "${t}" for namespace "${e}"`)}},removeDisconnectedConnectorId(t,e){try{const n=ge.getDisconnectedConnectorIds();let s=n[e]??[];s=s.filter(i=>i.toLowerCase()!==t.toLowerCase()),Me.setItem($e.DISCONNECTED_CONNECTOR_IDS,JSON.stringify({...n,[e]:Array.from(new Set(s))}))}catch{console.error(`Unable to remove disconnected connector id "${t}" for namespace "${e}"`)}},isConnectorDisconnected(t,e){try{return(ge.getDisconnectedConnectorIds()[e]??[]).some(i=>i.toLowerCase()===t.toLowerCase())}catch{console.info(`Unable to get disconnected connector id "${t}" for namespace "${e}"`)}return!1},getTransactionsCache(){try{const t=Me.getItem($e.HISTORY_TRANSACTIONS_CACHE);return t?JSON.parse(t):{}}catch{console.info("Unable to get transactions cache")}return{}},getTransactionsCacheForAddress({address:t,chainId:e=""}){try{const s=ge.getTransactionsCache()[t]?.[e];if(s&&!this.isCacheExpired(s.timestamp,this.cacheExpiry.transactionsHistory))return s.transactions;ge.removeTransactionsCache({address:t,chainId:e})}catch{console.info("Unable to get transactions cache")}},updateTransactionsCache({address:t,chainId:e="",timestamp:n,transactions:s}){try{const i=ge.getTransactionsCache();i[t]={...i[t],[e]:{timestamp:n,transactions:s}},Me.setItem($e.HISTORY_TRANSACTIONS_CACHE,JSON.stringify(i))}catch{console.info("Unable to update transactions cache",{address:t,chainId:e,timestamp:n,transactions:s})}},removeTransactionsCache({address:t,chainId:e}){try{const n=ge.getTransactionsCache(),s=n?.[t]||{},{[e]:i,...a}=s;Me.setItem($e.HISTORY_TRANSACTIONS_CACHE,JSON.stringify({...n,[t]:a}))}catch{console.info("Unable to remove transactions cache",{address:t,chainId:e})}},getTokenPriceCache(){try{const t=Me.getItem($e.TOKEN_PRICE_CACHE);return t?JSON.parse(t):{}}catch{console.info("Unable to get token price cache")}return{}},getTokenPriceCacheForAddresses(t){try{const n=ge.getTokenPriceCache()[t.join(",")];if(n&&!this.isCacheExpired(n.timestamp,this.cacheExpiry.tokenPrice))return n.tokenPrice;ge.removeTokenPriceCache(t)}catch{console.info("Unable to get token price cache for addresses",t)}},updateTokenPriceCache(t){try{const e=ge.getTokenPriceCache();e[t.addresses.join(",")]={timestamp:t.timestamp,tokenPrice:t.tokenPrice},Me.setItem($e.TOKEN_PRICE_CACHE,JSON.stringify(e))}catch{console.info("Unable to update token price cache",t)}},removeTokenPriceCache(t){try{const e=ge.getTokenPriceCache();Me.setItem($e.TOKEN_PRICE_CACHE,JSON.stringify({...e,[t.join(",")]:void 0}))}catch{console.info("Unable to remove token price cache",t)}}},Oe={isMobile(){return this.isClient()?!!(window?.matchMedia&&typeof window.matchMedia=="function"&&window.matchMedia("(pointer:coarse)")?.matches||/Android|webOS|iPhone|iPad|iPod|BlackBerry|Opera Mini/u.test(navigator.userAgent)):!1},checkCaipNetwork(t,e=""){return t?.caipNetworkId.toLocaleLowerCase().includes(e.toLowerCase())},isAndroid(){if(!this.isMobile())return!1;const t=window?.navigator.userAgent.toLowerCase();return Oe.isMobile()&&t.includes("android")},isIos(){if(!this.isMobile())return!1;const t=window?.navigator.userAgent.toLowerCase();return t.includes("iphone")||t.includes("ipad")},isSafari(){return this.isClient()?(window?.navigator.userAgent.toLowerCase()).includes("safari"):!1},isClient(){return typeof window<"u"},isPairingExpired(t){return t?t-Date.now()<=gt.TEN_SEC_MS:!0},isAllowedRetry(t,e=gt.ONE_SEC_MS){return Date.now()-t>=e},copyToClopboard(t){navigator.clipboard.writeText(t)},isIframe(){try{return window?.self!==window?.top}catch{return!1}},isSafeApp(){if(Oe.isClient()&&window.self!==window.top)try{const t=window?.location?.ancestorOrigins?.[0],e="https://app.safe.global";if(t){const n=new URL(t),s=new URL(e);return n.hostname===s.hostname}}catch{return!1}return!1},getPairingExpiry(){return Date.now()+gt.FOUR_MINUTES_MS},getNetworkId(t){return t?.split(":")[1]},getPlainAddress(t){return t?.split(":")[2]},async wait(t){return new Promise(e=>{setTimeout(e,t)})},debounce(t,e=500){let n;return(...s)=>{function i(){t(...s)}n&&clearTimeout(n),n=setTimeout(i,e)}},isHttpUrl(t){return t.startsWith("http://")||t.startsWith("https://")},formatNativeUrl(t,e,n=null){if(Oe.isHttpUrl(t))return this.formatUniversalUrl(t,e);let s=t,i=n;s.includes("://")||(s=t.replaceAll("/","").replaceAll(":",""),s=`${s}://`),s.endsWith("/")||(s=`${s}/`),i&&!i?.endsWith("/")&&(i=`${i}/`),this.isTelegram()&&this.isAndroid()&&(e=encodeURIComponent(e));const a=encodeURIComponent(e);return{redirect:`${s}wc?uri=${a}`,redirectUniversalLink:i?`${i}wc?uri=${a}`:void 0,href:s}},formatUniversalUrl(t,e){if(!Oe.isHttpUrl(t))return this.formatNativeUrl(t,e);let n=t;n.endsWith("/")||(n=`${n}/`);const s=encodeURIComponent(e);return{redirect:`${n}wc?uri=${s}`,href:n}},getOpenTargetForPlatform(t){return t==="popupWindow"?t:this.isTelegram()?ge.getTelegramSocialProvider()?"_top":"_blank":t},openHref(t,e,n){window?.open(t,this.getOpenTargetForPlatform(e),n||"noreferrer noopener")},returnOpenHref(t,e,n){return window?.open(t,this.getOpenTargetForPlatform(e),n||"noreferrer noopener")},isTelegram(){return typeof window<"u"&&(!!window.TelegramWebviewProxy||!!window.Telegram||!!window.TelegramWebviewProxyProto)},isPWA(){if(typeof window>"u")return!1;const t=window?.matchMedia&&typeof window.matchMedia=="function"?window.matchMedia("(display-mode: standalone)")?.matches:!1,e=window?.navigator?.standalone;return!!(t||e)},async preloadImage(t){const e=new Promise((n,s)=>{const i=new Image;i.onload=n,i.onerror=s,i.crossOrigin="anonymous",i.src=t});return Promise.race([e,Oe.wait(2e3)])},formatBalance(t,e){let n="0.000";if(typeof t=="string"){const s=Number(t);if(s){const i=Math.floor(s*1e3)/1e3;i&&(n=i.toString())}}return`${n}${e?` ${e}`:""}`},formatBalance2(t,e){let n;if(t==="0")n="0";else if(typeof t=="string"){const s=Number(t);s&&(n=s.toString().match(/^-?\d+(?:\.\d{0,3})?/u)?.[0])}return{value:n??"0",rest:n==="0"?"000":"",symbol:e}},getApiUrl(){return de.W3M_API_URL},getBlockchainApiUrl(){return de.BLOCKCHAIN_API_RPC_URL},getAnalyticsUrl(){return de.PULSE_API_URL},getUUID(){return crypto?.randomUUID?crypto.randomUUID():"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/gu,t=>{const e=Math.random()*16|0;return(t==="x"?e:e&3|8).toString(16)})},parseError(t){return typeof t=="string"?t:typeof t?.issues?.[0]?.message=="string"?t.issues[0].message:t instanceof Error?t.message:"Unknown error"},sortRequestedNetworks(t,e=[]){const n={};return e&&t&&(t.forEach((s,i)=>{n[s]=i}),e.sort((s,i)=>{const a=n[s.id],c=n[i.id];return a!==void 0&&c!==void 0?a-c:a!==void 0?-1:c!==void 0?1:0})),e},calculateBalance(t){let e=0;for(const n of t)e+=n.value??0;return e},formatTokenBalance(t){const e=t.toFixed(2),[n,s]=e.split(".");return{dollars:n,pennies:s}},isAddress(t,e="eip155"){switch(e){case"eip155":if(/^(?:0x)?[0-9a-f]{40}$/iu.test(t)){if(/^(?:0x)?[0-9a-f]{40}$/iu.test(t)||/^(?:0x)?[0-9A-F]{40}$/iu.test(t))return!0}else return!1;return!1;case"solana":return/[1-9A-HJ-NP-Za-km-z]{32,44}$/iu.test(t);default:return!1}},uniqueBy(t,e){const n=new Set;return t.filter(s=>{const i=s[e];return n.has(i)?!1:(n.add(i),!0)})},generateSdkVersion(t,e,n){const i=t.length===0?gt.ADAPTER_TYPES.UNIVERSAL:t.map(a=>a.adapterType).join(",");return`${e}-${i}-${n}`},createAccount(t,e,n,s,i){return{namespace:t,address:e,type:n,publicKey:s,path:i}},isCaipAddress(t){if(typeof t!="string")return!1;const e=t.split(":"),n=e[0];return e.filter(Boolean).length===3&&n in de.CHAIN_NAME_MAP},getAccount(t){return t?typeof t=="string"?{address:t,chainId:void 0}:{address:t.address,chainId:t.chainId}:{address:void 0,chainId:void 0}},isMac(){const t=window?.navigator.userAgent.toLowerCase();return t.includes("macintosh")&&!t.includes("safari")},formatTelegramSocialLoginUrl(t){const e=`--${encodeURIComponent(window?.location.href)}`,n="state=";if(new URL(t).host==="auth.magic.link"){const i="provider_authorization_url=",a=t.substring(t.indexOf(i)+i.length),c=this.injectIntoUrl(decodeURIComponent(a),n,e);return t.replace(a,encodeURIComponent(c))}return this.injectIntoUrl(t,n,e)},injectIntoUrl(t,e,n){const s=t.indexOf(e);if(s===-1)throw new Error(`${e} parameter not found in the URL: ${t}`);const i=t.indexOf("&",s),a=e.length,c=i!==-1?i:t.length,u=t.substring(0,s+a),f=t.substring(s+a,c),h=t.substring(i),p=f+n;return u+p+h}};async function Ud(...t){const e=await fetch(...t);if(!e.ok)throw new Error(`HTTP status code: ${e.status}`,{cause:e});return e}class Sp{constructor({baseUrl:e,clientId:n}){this.baseUrl=e,this.clientId=n}async get({headers:e,signal:n,cache:s,...i}){const a=this.createUrl(i);return(await Ud(a,{method:"GET",headers:e,signal:n,cache:s})).json()}async getBlob({headers:e,signal:n,...s}){const i=this.createUrl(s);return(await Ud(i,{method:"GET",headers:e,signal:n})).blob()}async post({body:e,headers:n,signal:s,...i}){const a=this.createUrl(i);return(await Ud(a,{method:"POST",headers:n,body:e?JSON.stringify(e):void 0,signal:s})).json()}async put({body:e,headers:n,signal:s,...i}){const a=this.createUrl(i);return(await Ud(a,{method:"PUT",headers:n,body:e?JSON.stringify(e):void 0,signal:s})).json()}async delete({body:e,headers:n,signal:s,...i}){const a=this.createUrl(i);return(await Ud(a,{method:"DELETE",headers:n,body:e?JSON.stringify(e):void 0,signal:s})).json()}createUrl({path:e,params:n}){const s=new URL(e,this.baseUrl);return n&&Object.entries(n).forEach(([i,a])=>{a&&s.searchParams.append(i,a)}),this.clientId&&s.searchParams.append("clientId",this.clientId),s}}const Ore={getFeatureValue(t,e){const n=e?.[t];return n===void 0?gt.DEFAULT_FEATURES[t]:n},filterSocialsByPlatform(t){if(!t||!t.length)return t;if(Oe.isTelegram()){if(Oe.isIos())return t.filter(e=>e!=="google");if(Oe.isMac())return t.filter(e=>e!=="x");if(Oe.isAndroid())return t.filter(e=>!["facebook","x"].includes(e))}return t}},Ie=Dt({features:gt.DEFAULT_FEATURES,projectId:"",sdkType:"appkit",sdkVersion:"html-wagmi-undefined",defaultAccountTypes:gt.DEFAULT_ACCOUNT_TYPES,enableNetworkSwitch:!0,experimental_preferUniversalLinks:!1,remoteFeatures:{}}),fe={state:Ie,subscribeKey(t,e){return Qn(Ie,t,e)},setOptions(t){Object.assign(Ie,t)},setRemoteFeatures(t){if(!t)return;const e={...Ie.remoteFeatures,...t};Ie.remoteFeatures=e,Ie.remoteFeatures?.socials&&(Ie.remoteFeatures.socials=Ore.filterSocialsByPlatform(Ie.remoteFeatures.socials)),Ie.features?.pay&&(Ie.remoteFeatures.email=!1,Ie.remoteFeatures.socials=!1)},setFeatures(t){if(!t)return;Ie.features||(Ie.features=gt.DEFAULT_FEATURES);const e={...Ie.features,...t};Ie.features=e,Ie.features?.pay&&Ie.remoteFeatures&&(Ie.remoteFeatures.email=!1,Ie.remoteFeatures.socials=!1)},setProjectId(t){Ie.projectId=t},setCustomRpcUrls(t){Ie.customRpcUrls=t},setAllWallets(t){Ie.allWallets=t},setIncludeWalletIds(t){Ie.includeWalletIds=t},setExcludeWalletIds(t){Ie.excludeWalletIds=t},setFeaturedWalletIds(t){Ie.featuredWalletIds=t},setTokens(t){Ie.tokens=t},setTermsConditionsUrl(t){Ie.termsConditionsUrl=t},setPrivacyPolicyUrl(t){Ie.privacyPolicyUrl=t},setCustomWallets(t){Ie.customWallets=t},setIsSiweEnabled(t){Ie.isSiweEnabled=t},setIsUniversalProvider(t){Ie.isUniversalProvider=t},setSdkVersion(t){Ie.sdkVersion=t},setMetadata(t){Ie.metadata=t},setDisableAppend(t){Ie.disableAppend=t},setEIP6963Enabled(t){Ie.enableEIP6963=t},setDebug(t){Ie.debug=t},setEnableWalletConnect(t){Ie.enableWalletConnect=t},setEnableWalletGuide(t){Ie.enableWalletGuide=t},setEnableAuthLogger(t){Ie.enableAuthLogger=t},setEnableWallets(t){Ie.enableWallets=t},setPreferUniversalLinks(t){Ie.experimental_preferUniversalLinks=t},setSIWX(t){if(t)for(const[e,n]of Object.entries(gt.SIWX_DEFAULTS))t[e]??=n;Ie.siwx=t},setConnectMethodsOrder(t){Ie.features={...Ie.features,connectMethodsOrder:t}},setWalletFeaturesOrder(t){Ie.features={...Ie.features,walletFeaturesOrder:t}},setSocialsOrder(t){Ie.remoteFeatures={...Ie.remoteFeatures,socials:t}},setCollapseWallets(t){Ie.features={...Ie.features,collapseWallets:t}},setEnableEmbedded(t){Ie.enableEmbedded=t},setAllowUnsupportedChain(t){Ie.allowUnsupportedChain=t},setManualWCControl(t){Ie.manualWCControl=t},setEnableNetworkSwitch(t){Ie.enableNetworkSwitch=t},setEnableReconnect(t){Ie.enableReconnect=t},setDefaultAccountTypes(t={}){Object.entries(t).forEach(([e,n])=>{n&&(Ie.defaultAccountTypes[e]=n)})},setUniversalProviderConfigOverride(t){Ie.universalProviderConfigOverride=t},getUniversalProviderConfigOverride(){return Ie.universalProviderConfigOverride},getSnapshot(){return Mh(Ie)}},Mre=Object.freeze({enabled:!0,events:[]}),Rre=new Sp({baseUrl:Oe.getAnalyticsUrl(),clientId:null}),$re=5,Ure=60*1e3,wa=Dt({...Mre}),Pre={state:wa,subscribeKey(t,e){return Qn(wa,t,e)},async sendError(t,e){if(!wa.enabled)return;const n=Date.now();if(wa.events.filter(a=>{const c=new Date(a.properties.timestamp||"").getTime();return n-c<Ure}).length>=$re)return;const i={type:"error",event:e,properties:{errorType:t.name,errorMessage:t.message,stackTrace:t.stack,timestamp:new Date().toISOString()}};wa.events.push(i);try{if(typeof window>"u")return;const{projectId:a,sdkType:c,sdkVersion:u}=fe.state;await Rre.post({path:"/e",params:{projectId:a,st:c,sv:u||"html-wagmi-4.2.2"},body:{eventId:Oe.getUUID(),url:window.location.href,domain:window.location.hostname,timestamp:new Date().toISOString(),props:{type:"error",event:e,errorType:t.name,errorMessage:t.message,stackTrace:t.stack}}})}catch{}},enable(){wa.enabled=!0},disable(){wa.enabled=!1},clearEvents(){wa.events=[]}};class Yu extends Error{constructor(e,n,s){super(e),this.name="AppKitError",this.category=n,this.originalError=s,Object.setPrototypeOf(this,Yu.prototype);let i=!1;if(s instanceof Error&&typeof s.stack=="string"&&s.stack){const a=s.stack,c=a.indexOf(`
`);if(c>-1){const u=a.substring(c+1);this.stack=`${this.name}: ${this.message}
${u}`,i=!0}}i||(Error.captureStackTrace?Error.captureStackTrace(this,Yu):this.stack||(this.stack=`${this.name}: ${this.message}`))}}function S5(t,e){const n=t instanceof Yu?t:new Yu(t instanceof Error?t.message:String(t),e,t);throw Pre.sendError(n,n.category),n}function Zs(t,e="INTERNAL_SDK_ERROR"){const n={};return Object.keys(t).forEach(s=>{const i=t[s];if(typeof i=="function"){let a=i;i.constructor.name==="AsyncFunction"?a=async(...c)=>{try{return await i(...c)}catch(u){return S5(u,e)}}:a=(...c)=>{try{return i(...c)}catch(u){return S5(u,e)}},n[s]=a}else n[s]=i}),n}const Wc={ACCOUNT_TYPES:{EOA:"eoa",SMART_ACCOUNT:"smartAccount"}},vr={PHANTOM:{id:"a797aa35c0fadbfc1a53e7f675162ed5226968b44a19ee3d24385c64d1d3c393",url:"https://phantom.app"},SOLFLARE:{id:"1ca0bdd4747578705b1939af023d120677c64fe6ca76add81fda36e350605e79",url:"https://solflare.com"},COINBASE:{id:"fd20dc426fb37566d803205b19bbc1d4096b248ac04548e3cfb6b3a38bd033aa",url:"https://go.cb-w.com"}},Lre={handleMobileDeeplinkRedirect(t,e){const n=window.location.href,s=encodeURIComponent(n);if(t===vr.PHANTOM.id&&!("phantom"in window)){const i=n.startsWith("https")?"https":"http",a=n.split("/")[2],c=encodeURIComponent(`${i}://${a}`);window.location.href=`${vr.PHANTOM.url}/ul/browse/${s}?ref=${c}`}t===vr.SOLFLARE.id&&!("solflare"in window)&&(window.location.href=`${vr.SOLFLARE.url}/ul/v1/browse/${s}?ref=${s}`),e===de.CHAIN.SOLANA&&t===vr.COINBASE.id&&!("coinbaseSolana"in window)&&(window.location.href=`${vr.COINBASE.url}/dapp?cb_url=${s}`)}},zs=Dt({walletImages:{},networkImages:{},chainImages:{},connectorImages:{},tokenImages:{},currencyImages:{}}),kre={state:zs,subscribeNetworkImages(t){return Pn(zs.networkImages,()=>t(zs.networkImages))},subscribeKey(t,e){return Qn(zs,t,e)},subscribe(t){return Pn(zs,()=>t(zs))},setWalletImage(t,e){zs.walletImages[t]=e},setNetworkImage(t,e){zs.networkImages[t]=e},setChainImage(t,e){zs.chainImages[t]=e},setConnectorImage(t,e){zs.connectorImages={...zs.connectorImages,[t]:e}},setTokenImage(t,e){zs.tokenImages[t]=e},setCurrencyImage(t,e){zs.currencyImages[t]=e}},Wi=Zs(kre),Bre={eip155:"ba0ba0cd-17c6-4806-ad93-f9d174f17900",solana:"a1b58899-f671-4276-6a5e-56ca5bd59700",polkadot:"",bip122:"0b4838db-0161-4ffe-022d-532bf03dba00",cosmos:"",sui:"",stacks:""},Ub=Dt({networkImagePromises:{}}),gM={async fetchWalletImage(t){if(t)return await Ue._fetchWalletImage(t),this.getWalletImageById(t)},async fetchNetworkImage(t){if(!t)return;const e=this.getNetworkImageById(t);return e||(Ub.networkImagePromises[t]||(Ub.networkImagePromises[t]=Ue._fetchNetworkImage(t)),await Ub.networkImagePromises[t],this.getNetworkImageById(t))},getWalletImageById(t){if(t)return Wi.state.walletImages[t]},getWalletImage(t){if(t?.image_url)return t?.image_url;if(t?.image_id)return Wi.state.walletImages[t.image_id]},getNetworkImage(t){if(t?.assets?.imageUrl)return t?.assets?.imageUrl;if(t?.assets?.imageId)return Wi.state.networkImages[t.assets.imageId]},getNetworkImageById(t){if(t)return Wi.state.networkImages[t]},getConnectorImage(t){if(t?.imageUrl)return t.imageUrl;if(t?.info?.icon)return t.info.icon;if(t?.imageId)return Wi.state.connectorImages[t.imageId]},getChainImage(t){return Wi.state.networkImages[Bre[t]]}},ba=Dt({message:"",variant:"info",open:!1}),jre={state:ba,subscribeKey(t,e){return Qn(ba,t,e)},open(t,e){const{debug:n}=fe.state,{code:s,displayMessage:i,debugMessage:a}=t;i&&n&&(ba.message=i,ba.variant=e,ba.open=!0),a&&console.error(typeof a=="function"?a():a,s?{code:s}:void 0)},close(){ba.open=!1,ba.message="",ba.variant="info"}},Yn=Zs(jre),zre=Oe.getAnalyticsUrl(),Hre=new Sp({baseUrl:zre,clientId:null}),Fre=["MODAL_CREATED"],uo=Dt({timestamp:Date.now(),reportedErrors:{},data:{type:"track",event:"MODAL_CREATED"}}),xt={state:uo,subscribe(t){return Pn(uo,()=>t(uo))},getSdkProperties(){const{projectId:t,sdkType:e,sdkVersion:n}=fe.state;return{projectId:t,st:e,sv:n||"html-wagmi-4.2.2"}},async _sendAnalyticsEvent(t){try{const e=De.state.address;if(Fre.includes(t.data.event)||typeof window>"u")return;await Hre.post({path:"/e",params:xt.getSdkProperties(),body:{eventId:Oe.getUUID(),url:window.location.href,domain:window.location.hostname,timestamp:t.timestamp,props:{...t.data,address:e}}}),uo.reportedErrors.FORBIDDEN=!1}catch(e){e instanceof Error&&e.cause instanceof Response&&e.cause.status===de.HTTP_STATUS_CODES.FORBIDDEN&&!uo.reportedErrors.FORBIDDEN&&(Yn.open({displayMessage:"Invalid App Configuration",debugMessage:`Origin ${Lu()?window.origin:"uknown"} not found on Allowlist - update configuration on cloud.reown.com`},"error"),uo.reportedErrors.FORBIDDEN=!0)}},sendEvent(t){uo.timestamp=Date.now(),uo.data=t,(fe.state.features?.analytics||t.event==="INITIALIZE")&&xt._sendAnalyticsEvent(uo)}},qre=Oe.getApiUrl(),gs=new Sp({baseUrl:qre,clientId:null}),Vre=40,x5=4,Wre=20,Fe=Dt({promises:{},page:1,count:0,featured:[],allFeatured:[],recommended:[],allRecommended:[],wallets:[],filteredWallets:[],search:[],isAnalyticsEnabled:!1,excludedWallets:[],isFetchingRecommendedWallets:!1}),Ue={state:Fe,subscribeKey(t,e){return Qn(Fe,t,e)},_getSdkProperties(){const{projectId:t,sdkType:e,sdkVersion:n}=fe.state;return{projectId:t,st:e||"appkit",sv:n||"html-wagmi-4.2.2"}},_filterOutExtensions(t){return fe.state.isUniversalProvider?t.filter(e=>!!(e.mobile_link||e.desktop_link||e.webapp_link)):t},async _fetchWalletImage(t){const e=`${gs.baseUrl}/getWalletImage/${t}`,n=await gs.getBlob({path:e,params:Ue._getSdkProperties()});Wi.setWalletImage(t,URL.createObjectURL(n))},async _fetchNetworkImage(t){const e=`${gs.baseUrl}/public/getAssetImage/${t}`,n=await gs.getBlob({path:e,params:Ue._getSdkProperties()});Wi.setNetworkImage(t,URL.createObjectURL(n))},async _fetchConnectorImage(t){const e=`${gs.baseUrl}/public/getAssetImage/${t}`,n=await gs.getBlob({path:e,params:Ue._getSdkProperties()});Wi.setConnectorImage(t,URL.createObjectURL(n))},async _fetchCurrencyImage(t){const e=`${gs.baseUrl}/public/getCurrencyImage/${t}`,n=await gs.getBlob({path:e,params:Ue._getSdkProperties()});Wi.setCurrencyImage(t,URL.createObjectURL(n))},async _fetchTokenImage(t){const e=`${gs.baseUrl}/public/getTokenImage/${t}`,n=await gs.getBlob({path:e,params:Ue._getSdkProperties()});Wi.setTokenImage(t,URL.createObjectURL(n))},_filterWalletsByPlatform(t){return Oe.isMobile()?t?.filter(n=>n.mobile_link||n.id===vr.COINBASE.id?!0:B.state.activeChain==="solana"&&(n.id===vr.SOLFLARE.id||n.id===vr.PHANTOM.id)):t},async fetchProjectConfig(){return(await gs.get({path:"/appkit/v1/config",params:Ue._getSdkProperties()})).features},async fetchAllowedOrigins(){try{const{allowedOrigins:t}=await gs.get({path:"/projects/v1/origins",params:Ue._getSdkProperties()});return t}catch(t){if(t instanceof Error&&t.cause instanceof Response){const e=t.cause.status;if(e===de.HTTP_STATUS_CODES.TOO_MANY_REQUESTS)throw new Error("RATE_LIMITED",{cause:t});if(e>=de.HTTP_STATUS_CODES.SERVER_ERROR&&e<600)throw new Error("SERVER_ERROR",{cause:t});return[]}return[]}},async fetchNetworkImages(){const e=B.getAllRequestedCaipNetworks()?.map(({assets:n})=>n?.imageId).filter(Boolean).filter(n=>!gM.getNetworkImageById(n));e&&await Promise.allSettled(e.map(n=>Ue._fetchNetworkImage(n)))},async fetchConnectorImages(){const{connectors:t}=be.state,e=t.map(({imageId:n})=>n).filter(Boolean);await Promise.allSettled(e.map(n=>Ue._fetchConnectorImage(n)))},async fetchCurrencyImages(t=[]){await Promise.allSettled(t.map(e=>Ue._fetchCurrencyImage(e)))},async fetchTokenImages(t=[]){await Promise.allSettled(t.map(e=>Ue._fetchTokenImage(e)))},async fetchWallets(t){const e=t.exclude??[];Ue._getSdkProperties().sv.startsWith("html-core-")&&e.push(...Object.values(vr).map(a=>a.id));const s=await gs.get({path:"/getWallets",params:{...Ue._getSdkProperties(),...t,page:String(t.page),entries:String(t.entries),include:t.include?.join(","),exclude:e.join(",")}});return{data:Ue._filterWalletsByPlatform(s?.data)||[],count:s?.count}},async fetchFeaturedWallets(){const{featuredWalletIds:t}=fe.state;if(t?.length){const e={...Ue._getSdkProperties(),page:1,entries:t?.length??x5,include:t},{data:n}=await Ue.fetchWallets(e),s=[...n].sort((a,c)=>t.indexOf(a.id)-t.indexOf(c.id)),i=s.map(a=>a.image_id).filter(Boolean);await Promise.allSettled(i.map(a=>Ue._fetchWalletImage(a))),Fe.featured=s,Fe.allFeatured=s}},async fetchRecommendedWallets(){try{Fe.isFetchingRecommendedWallets=!0;const{includeWalletIds:t,excludeWalletIds:e,featuredWalletIds:n}=fe.state,s=[...e??[],...n??[]].filter(Boolean),i=B.getRequestedCaipNetworkIds().join(","),a={page:1,entries:x5,include:t,exclude:s,chains:i},{data:c,count:u}=await Ue.fetchWallets(a),f=ge.getRecentWallets(),h=c.map(g=>g.image_id).filter(Boolean),p=f.map(g=>g.image_id).filter(Boolean);await Promise.allSettled([...h,...p].map(g=>Ue._fetchWalletImage(g))),Fe.recommended=c,Fe.allRecommended=c,Fe.count=u??0}catch{}finally{Fe.isFetchingRecommendedWallets=!1}},async fetchWalletsByPage({page:t}){const{includeWalletIds:e,excludeWalletIds:n,featuredWalletIds:s}=fe.state,i=B.getRequestedCaipNetworkIds().join(","),a=[...Fe.recommended.map(({id:p})=>p),...n??[],...s??[]].filter(Boolean),c={page:t,entries:Vre,include:e,exclude:a,chains:i},{data:u,count:f}=await Ue.fetchWallets(c),h=u.slice(0,Wre).map(p=>p.image_id).filter(Boolean);await Promise.allSettled(h.map(p=>Ue._fetchWalletImage(p))),Fe.wallets=Oe.uniqueBy([...Fe.wallets,...Ue._filterOutExtensions(u)],"id").filter(p=>p.chains?.some(g=>i.includes(g))),Fe.count=f>Fe.count?f:Fe.count,Fe.page=t},async initializeExcludedWallets({ids:t}){const e={page:1,entries:t.length,include:t},{data:n}=await Ue.fetchWallets(e);n&&n.forEach(s=>{Fe.excludedWallets.push({rdns:s.rdns,name:s.name})})},async searchWallet({search:t,badge:e}){const{includeWalletIds:n,excludeWalletIds:s}=fe.state,i=B.getRequestedCaipNetworkIds().join(",");Fe.search=[];const a={page:1,entries:100,search:t?.trim(),badge_type:e,include:n,exclude:s,chains:i},{data:c}=await Ue.fetchWallets(a);xt.sendEvent({type:"track",event:"SEARCH_WALLET",properties:{badge:e??"",search:t??""}});const u=c.map(f=>f.image_id).filter(Boolean);await Promise.allSettled([...u.map(f=>Ue._fetchWalletImage(f)),Oe.wait(300)]),Fe.search=Ue._filterOutExtensions(c)},initPromise(t,e){const n=Fe.promises[t];return n||(Fe.promises[t]=e())},prefetch({fetchConnectorImages:t=!0,fetchFeaturedWallets:e=!0,fetchRecommendedWallets:n=!0,fetchNetworkImages:s=!0}={}){const i=[t&&Ue.initPromise("connectorImages",Ue.fetchConnectorImages),e&&Ue.initPromise("featuredWallets",Ue.fetchFeaturedWallets),n&&Ue.initPromise("recommendedWallets",Ue.fetchRecommendedWallets),s&&Ue.initPromise("networkImages",Ue.fetchNetworkImages)].filter(Boolean);return Promise.allSettled(i)},prefetchAnalyticsConfig(){fe.state.features?.analytics&&Ue.fetchAnalyticsConfig()},async fetchAnalyticsConfig(){try{const{isAnalyticsEnabled:t}=await gs.get({path:"/getAnalyticsConfig",params:Ue._getSdkProperties()});fe.setFeatures({analytics:t})}catch{fe.setFeatures({analytics:!1})}},filterByNamespaces(t){if(!t?.length){Fe.featured=Fe.allFeatured,Fe.recommended=Fe.allRecommended;return}const e=B.getRequestedCaipNetworkIds().join(",");Fe.featured=Fe.allFeatured.filter(n=>n.chains?.some(s=>e.includes(s))),Fe.recommended=Fe.allRecommended.filter(n=>n.chains?.some(s=>e.includes(s))),Fe.filteredWallets=Fe.wallets.filter(n=>n.chains?.some(s=>e.includes(s)))},clearFilterByNamespaces(){Fe.filteredWallets=[]},setFilterByNamespace(t){if(!t){Fe.featured=Fe.allFeatured,Fe.recommended=Fe.allRecommended;return}const e=B.getRequestedCaipNetworkIds().join(",");Fe.featured=Fe.allFeatured.filter(n=>n.chains?.some(s=>e.includes(s))),Fe.recommended=Fe.allRecommended.filter(n=>n.chains?.some(s=>e.includes(s))),Fe.filteredWallets=Fe.wallets.filter(n=>n.chains?.some(s=>e.includes(s)))}},St=Dt({view:"Connect",history:["Connect"],transactionStack:[]}),Kre={state:St,subscribeKey(t,e){return Qn(St,t,e)},pushTransactionStack(t){St.transactionStack.push(t)},popTransactionStack(t){const e=St.transactionStack.pop();if(!e)return;const{onSuccess:n,onError:s,onCancel:i}=e;switch(t){case"success":n?.();break;case"error":s?.(),je.goBack();break;case"cancel":i?.(),je.goBack();break}},push(t,e){t!==St.view&&(St.view=t,St.history.push(t),St.data=e)},reset(t,e){St.view=t,St.history=[t],St.data=e},replace(t,e){St.history.at(-1)===t||(St.view=t,St.history[St.history.length-1]=t,St.data=e)},goBack(){const t=B.state.activeCaipAddress,e=je.state.view==="ConnectingFarcaster",n=!t&&e;if(St.history.length>1){St.history.pop();const[s]=St.history.slice(-1);s&&(t&&s==="Connect"?St.view="Account":St.view=s)}else tt.close();St.data?.wallet&&(St.data.wallet=void 0),setTimeout(()=>{if(n){De.setFarcasterUrl(void 0,B.state.activeChain);const s=be.getAuthConnector();s?.provider?.reload();const i=Mh(fe.state);s?.provider?.syncDappData?.({metadata:i.metadata,sdkVersion:i.sdkVersion,projectId:i.projectId,sdkType:i.sdkType})}},100)},goBackToIndex(t){if(St.history.length>1){St.history=St.history.slice(0,t+1);const[e]=St.history.slice(-1);e&&(St.view=e)}},goBackOrCloseModal(){je.state.history.length>1?je.goBack():tt.close()}},je=Zs(Kre),fo=Dt({themeMode:"dark",themeVariables:{},w3mThemeVariables:void 0}),w2={state:fo,subscribe(t){return Pn(fo,()=>t(fo))},setThemeMode(t){fo.themeMode=t;try{const e=be.getAuthConnector();if(e){const n=w2.getSnapshot().themeVariables;e.provider.syncTheme({themeMode:t,themeVariables:n,w3mThemeVariables:Da(n,t)})}}catch{console.info("Unable to sync theme to auth connector")}},setThemeVariables(t){fo.themeVariables={...fo.themeVariables,...t};try{const e=be.getAuthConnector();if(e){const n=w2.getSnapshot().themeVariables;e.provider.syncTheme({themeVariables:n,w3mThemeVariables:Da(fo.themeVariables,fo.themeMode)})}}catch{console.info("Unable to sync theme to auth connector")}},getSnapshot(){return Mh(fo)}},Fs=Zs(w2),mM=Object.fromEntries(uM.map(t=>[t,void 0])),Gre=Object.fromEntries(uM.map(t=>[t,!0])),at=Dt({allConnectors:[],connectors:[],activeConnector:void 0,filterByNamespace:void 0,activeConnectorIds:mM,filterByNamespaceMap:Gre}),Yre={state:at,subscribe(t){return Pn(at,()=>{t(at)})},subscribeKey(t,e){return Qn(at,t,e)},initialize(t){t.forEach(e=>{const n=ge.getConnectedConnectorId(e);n&&be.setConnectorId(n,e)})},setActiveConnector(t){t&&(at.activeConnector=el(t))},setConnectors(t){t.filter(i=>!at.allConnectors.some(a=>a.id===i.id&&be.getConnectorName(a.name)===be.getConnectorName(i.name)&&a.chain===i.chain)).forEach(i=>{i.type!=="MULTI_CHAIN"&&at.allConnectors.push(el(i))});const n=be.getEnabledNamespaces(),s=be.getEnabledConnectors(n);at.connectors=be.mergeMultiChainConnectors(s)},filterByNamespaces(t){Object.keys(at.filterByNamespaceMap).forEach(e=>{at.filterByNamespaceMap[e]=!1}),t.forEach(e=>{at.filterByNamespaceMap[e]=!0}),be.updateConnectorsForEnabledNamespaces()},filterByNamespace(t,e){at.filterByNamespaceMap[t]=e,be.updateConnectorsForEnabledNamespaces()},updateConnectorsForEnabledNamespaces(){const t=be.getEnabledNamespaces(),e=be.getEnabledConnectors(t),n=be.areAllNamespacesEnabled();at.connectors=be.mergeMultiChainConnectors(e),n?Ue.clearFilterByNamespaces():Ue.filterByNamespaces(t)},getEnabledNamespaces(){return Object.entries(at.filterByNamespaceMap).filter(([t,e])=>e).map(([t])=>t)},getEnabledConnectors(t){return at.allConnectors.filter(e=>t.includes(e.chain))},areAllNamespacesEnabled(){return Object.values(at.filterByNamespaceMap).every(t=>t)},mergeMultiChainConnectors(t){const e=be.generateConnectorMapByName(t),n=[];return e.forEach(s=>{const i=s[0],a=i?.id===de.CONNECTOR_ID.AUTH;s.length>1&&i?n.push({name:i.name,imageUrl:i.imageUrl,imageId:i.imageId,connectors:[...s],type:a?"AUTH":"MULTI_CHAIN",chain:"eip155",id:i?.id||""}):i&&n.push(i)}),n},generateConnectorMapByName(t){const e=new Map;return t.forEach(n=>{const{name:s}=n,i=be.getConnectorName(s);if(!i)return;const a=e.get(i)||[];a.find(u=>u.chain===n.chain)||a.push(n),e.set(i,a)}),e},getConnectorName(t){return t&&({"Trust Wallet":"Trust"}[t]||t)},getUniqueConnectorsByName(t){const e=[];return t.forEach(n=>{e.find(s=>s.chain===n.chain)||e.push(n)}),e},addConnector(t){if(t.id===de.CONNECTOR_ID.AUTH){const e=t,n=Mh(fe.state),s=Fs.getSnapshot().themeMode,i=Fs.getSnapshot().themeVariables;e?.provider?.syncDappData?.({metadata:n.metadata,sdkVersion:n.sdkVersion,projectId:n.projectId,sdkType:n.sdkType}),e?.provider?.syncTheme({themeMode:s,themeVariables:i,w3mThemeVariables:Da(i,s)}),be.setConnectors([t])}else be.setConnectors([t])},getAuthConnector(t){const e=t||B.state.activeChain,n=at.connectors.find(s=>s.id===de.CONNECTOR_ID.AUTH);if(n)return n?.connectors?.length?n.connectors.find(i=>i.chain===e):n},getAnnouncedConnectorRdns(){return at.connectors.filter(t=>t.type==="ANNOUNCED").map(t=>t.info?.rdns)},getConnectorById(t){return at.allConnectors.find(e=>e.id===t)},getConnector({id:t,rdns:e,namespace:n}){const s=n||B.state.activeChain;return at.allConnectors.filter(a=>a.chain===s).find(a=>a.explorerId===t||a.info?.rdns===e)},syncIfAuthConnector(t){if(t.id!=="ID_AUTH")return;const e=t,n=Mh(fe.state),s=Fs.getSnapshot().themeMode,i=Fs.getSnapshot().themeVariables;e?.provider?.syncDappData?.({metadata:n.metadata,sdkVersion:n.sdkVersion,sdkType:n.sdkType,projectId:n.projectId}),e.provider.syncTheme({themeMode:s,themeVariables:i,w3mThemeVariables:Da(i,s)})},getConnectorsByNamespace(t){const e=at.allConnectors.filter(n=>n.chain===t);return be.mergeMultiChainConnectors(e)},canSwitchToSmartAccount(t){return B.checkIfSmartAccountEnabled()&&Or(t)===Wc.ACCOUNT_TYPES.EOA},selectWalletConnector(t){const e=be.getConnector({id:t.id,rdns:t.rdns});Lre.handleMobileDeeplinkRedirect(e?.explorerId||t.id,B.state.activeChain),e?je.push("ConnectingExternal",{connector:e,wallet:t}):je.push("ConnectingWalletConnect",{wallet:t})},getConnectors(t){return t?be.getConnectorsByNamespace(t):be.mergeMultiChainConnectors(at.allConnectors)},setFilterByNamespace(t){at.filterByNamespace=t,at.connectors=be.getConnectors(t),Ue.setFilterByNamespace(t)},setConnectorId(t,e){t&&(at.activeConnectorIds={...at.activeConnectorIds,[e]:t},ge.setConnectedConnectorId(e,t))},removeConnectorId(t){at.activeConnectorIds={...at.activeConnectorIds,[t]:void 0},ge.deleteConnectedConnectorId(t)},getConnectorId(t){if(t)return at.activeConnectorIds[t]},isConnected(t){return t?!!at.activeConnectorIds[t]:Object.values(at.activeConnectorIds).some(e=>!!e)},resetConnectorIds(){at.activeConnectorIds={...mM}}},be=Zs(Yre),Xre=1e3,Pd={checkNamespaceConnectorId(t,e){return be.getConnectorId(t)===e},isSocialProvider(t){return gt.DEFAULT_REMOTE_FEATURES.socials.includes(t)},connectWalletConnect({walletConnect:t,connector:e,closeModalOnConnect:n=!0,redirectViewOnModalClose:s="Connect",onOpen:i,onConnect:a}){return new Promise((c,u)=>{if(t&&be.setActiveConnector(e),i?.(Oe.isMobile()&&t),s){const h=tt.subscribeKey("open",p=>{p||(je.state.view!==s&&je.replace(s),h(),u(new Error("Modal closed")))})}const f=B.subscribeKey("activeCaipAddress",h=>{h&&(a?.(),n&&tt.close(),f(),c(Ks.parseCaipAddress(h)))})})},connectExternal(t){return new Promise((e,n)=>{const s=B.subscribeKey("activeCaipAddress",i=>{i&&(tt.close(),s(),e(Ks.parseCaipAddress(i)))});ve.connectExternal(t,t.chain).catch(()=>{s(),n(new Error("Connection rejected"))})})},connectSocial({social:t,namespace:e,closeModalOnConnect:n=!0,onOpenFarcaster:s,onConnect:i}){let a=De.state.socialWindow,c=De.state.socialProvider,u=!1,f=null;const h=e||B.state.activeChain,p=B.subscribeKey("activeCaipAddress",g=>{g&&(n&&tt.close(),p())});return new Promise((g,y)=>{async function b(E){if(E.data?.resultUri)if(E.origin===de.SECURE_SITE_SDK_ORIGIN){window.removeEventListener("message",b,!1);try{const A=be.getAuthConnector(h);if(A&&!u){a&&(a.close(),De.setSocialWindow(void 0,h),a=De.state.socialWindow),u=!0;const S=E.data.resultUri;if(c&&xt.sendEvent({type:"track",event:"SOCIAL_LOGIN_REQUEST_USER_DATA",properties:{provider:c}}),c){ge.setConnectedSocialProvider(c),await ve.connectExternal({id:A.id,type:A.type,socialUri:S},A.chain);const D=B.state.activeCaipAddress;if(!D){y(new Error("Failed to connect"));return}g(Ks.parseCaipAddress(D)),xt.sendEvent({type:"track",event:"SOCIAL_LOGIN_SUCCESS",properties:{provider:c,caipNetworkId:B.getActiveCaipNetwork()?.caipNetworkId}})}}}catch{c&&xt.sendEvent({type:"track",event:"SOCIAL_LOGIN_ERROR",properties:{provider:c}}),y(new Error("Failed to connect"))}}else c&&xt.sendEvent({type:"track",event:"SOCIAL_LOGIN_ERROR",properties:{provider:c}})}async function v(){if(t&&(De.setSocialProvider(t,h),c=De.state.socialProvider,xt.sendEvent({type:"track",event:"SOCIAL_LOGIN_STARTED",properties:{provider:c}})),c==="farcaster"){s?.();const E=tt.subscribeKey("open",S=>{!S&&t==="farcaster"&&(y(new Error("Popup closed")),i?.(),E())}),A=be.getAuthConnector();if(A&&!De.state.farcasterUrl)try{const{url:S}=await A.provider.getFarcasterUri();De.setFarcasterUrl(S,h)}catch{y(new Error("Failed to connect to farcaster"))}}else{const E=be.getAuthConnector();f=Oe.returnOpenHref(`${de.SECURE_SITE_SDK_ORIGIN}/loading`,"popupWindow","width=600,height=800,scrollbars=yes");try{if(E&&c){const{uri:A}=await E.provider.getSocialRedirectUri({provider:c});if(f&&A){De.setSocialWindow(f,h),a=De.state.socialWindow,f.location.href=A;const S=setInterval(()=>{a?.closed&&!u&&(y(new Error("Popup closed")),clearInterval(S))},1e3);window.addEventListener("message",b,!1)}else f?.close(),y(new Error("Failed to initiate social connection"))}}catch{y(new Error("Failed to initiate social connection")),f?.close()}}}v()})},connectEmail({closeModalOnConnect:t=!0,redirectViewOnModalClose:e="Connect",onOpen:n,onConnect:s}){return new Promise((i,a)=>{if(n?.(),e){const u=tt.subscribeKey("open",f=>{f||(je.state.view!==e&&je.replace(e),u(),a(new Error("Modal closed")))})}const c=B.subscribeKey("activeCaipAddress",u=>{u&&(s?.(),t&&tt.close(),c(),i(Ks.parseCaipAddress(u)))})})},async updateEmail(){const t=ge.getConnectedConnectorId(B.state.activeChain),e=be.getAuthConnector();if(!e)throw new Error("No auth connector found");if(t!==de.CONNECTOR_ID.AUTH)throw new Error("Not connected to email or social");const n=e.provider.getEmail()??"";return await tt.open({view:"UpdateEmailWallet",data:{email:n,redirectView:void 0}}),new Promise((s,i)=>{const a=setInterval(()=>{const u=e.provider.getEmail()??"";u!==n&&(tt.close(),clearInterval(a),c(),s({email:u}))},Xre),c=tt.subscribeKey("open",u=>{u||(je.state.view!=="Connect"&&je.push("Connect"),clearInterval(a),c(),i(new Error("Modal closed")))})})},canSwitchToSmartAccount(t){return B.checkIfSmartAccountEnabled()&&Or(t)===Wc.ACCOUNT_TYPES.EOA}};function yM(){const t=B.state.activeCaipNetwork?.chainNamespace||"eip155",e=B.state.activeCaipNetwork?.id||1,n=gt.NATIVE_TOKEN_ADDRESS[t];return`${t}:${e}:${n}`}function Or(t){return B.getAccountData(t)?.preferredAccountType}function N5(t){return B.state.activeCaipNetwork}const bm={getConnectionStatus(t,e){const n=be.state.activeConnectorIds[e],s=ve.getConnections(e);return!!n&&t.connectorId===n?"connected":s.some(c=>c.connectorId.toLowerCase()===t.connectorId.toLowerCase())?"active":"disconnected"},excludeConnectorAddressFromConnections({connections:t,connectorId:e,addresses:n}){return t.map(s=>{if((e?s.connectorId.toLowerCase()===e.toLowerCase():!1)&&n){const a=s.accounts.filter(c=>!n.some(f=>f.toLowerCase()===c.address.toLowerCase()));return{...s,accounts:a}}return s})},excludeExistingConnections(t,e){const n=new Set(t);return e.filter(s=>!n.has(s.connectorId))},getConnectionsByConnectorId(t,e){return t.filter(n=>n.connectorId.toLowerCase()===e.toLowerCase())},getConnectionsData(t){const e=!!fe.state.remoteFeatures?.multiWallet,n=be.state.activeConnectorIds[t],s=ve.getConnections(t),a=(ve.state.recentConnections.get(t)??[]).filter(u=>be.getConnectorById(u.connectorId)),c=bm.excludeExistingConnections([...s.map(u=>u.connectorId),...n?[n]:[]],a);return e?{connections:s,recentConnections:c}:{connections:s.filter(u=>u.connectorId.toLowerCase()===n?.toLowerCase()),recentConnections:[]}}},Ic=Object.freeze({message:"",variant:"success",svg:void 0,open:!1,autoClose:!0}),fn=Dt({...Ic}),Qre={state:fn,subscribeKey(t,e){return Qn(fn,t,e)},showLoading(t,e={}){this._showMessage({message:t,variant:"loading",...e})},showSuccess(t){this._showMessage({message:t,variant:"success"})},showSvg(t,e){this._showMessage({message:t,svg:e})},showError(t){const e=Oe.parseError(t);this._showMessage({message:e,variant:"error"})},hide(){fn.message=Ic.message,fn.variant=Ic.variant,fn.svg=Ic.svg,fn.open=Ic.open,fn.autoClose=Ic.autoClose},_showMessage({message:t,svg:e,variant:n="success",autoClose:s=Ic.autoClose}){fn.open?(fn.open=!1,setTimeout(()=>{fn.message=t,fn.variant=n,fn.svg=e,fn.open=!0,fn.autoClose=s},150)):(fn.message=t,fn.variant=n,fn.svg=e,fn.open=!0,fn.autoClose=s)}},Cr=Qre,Bt=Dt({transactions:[],transactionsByYear:{},lastNetworkInView:void 0,loading:!1,empty:!1,next:void 0}),Zre={state:Bt,subscribe(t){return Pn(Bt,()=>t(Bt))},setLastNetworkInView(t){Bt.lastNetworkInView=t},async fetchTransactions(t){if(!t)throw new Error("Transactions can't be fetched without an accountAddress");Bt.loading=!0;try{const e=await Pe.fetchTransactions({account:t,cursor:Bt.next,chainId:B.state.activeCaipNetwork?.caipNetworkId}),n=z0.filterSpamTransactions(e.data),s=z0.filterByConnectedChain(n),i=[...Bt.transactions,...s];Bt.loading=!1,Bt.transactions=i,Bt.transactionsByYear=z0.groupTransactionsByYearAndMonth(Bt.transactionsByYear,s),Bt.empty=i.length===0,Bt.next=e.next?e.next:void 0}catch{const n=B.state.activeChain;xt.sendEvent({type:"track",event:"ERROR_FETCH_TRANSACTIONS",properties:{address:t,projectId:fe.state.projectId,cursor:Bt.next,isSmartAccount:Or(n)===Wc.ACCOUNT_TYPES.SMART_ACCOUNT}}),Cr.showError("Failed to fetch transactions"),Bt.loading=!1,Bt.empty=!0,Bt.next=void 0}},groupTransactionsByYearAndMonth(t={},e=[]){const n=t;return e.forEach(s=>{const i=new Date(s.metadata.minedAt).getFullYear(),a=new Date(s.metadata.minedAt).getMonth(),c=n[i]??{},f=(c[a]??[]).filter(h=>h.id!==s.id);n[i]={...c,[a]:[...f,s].sort((h,p)=>new Date(p.metadata.minedAt).getTime()-new Date(h.metadata.minedAt).getTime())}}),n},filterSpamTransactions(t){return t.filter(e=>!e.transfers.every(s=>s.nft_info?.flags.is_spam===!0))},filterByConnectedChain(t){const e=B.state.activeCaipNetwork?.caipNetworkId;return t.filter(s=>s.metadata.chain===e)},clearCursor(){Bt.next=void 0},resetTransactions(){Bt.transactions=[],Bt.transactionsByYear={},Bt.lastNetworkInView=void 0,Bt.loading=!1,Bt.empty=!1,Bt.next=void 0}},z0=Zs(Zre,"API_ERROR"),ct=Dt({connections:new Map,recentConnections:new Map,isSwitchingConnection:!1,wcError:!1,buffering:!1,status:"disconnected"});let Sc;const Jre={state:ct,subscribe(t){return Pn(ct,()=>t(ct))},subscribeKey(t,e){return Qn(ct,t,e)},_getClient(){return ct._client},setClient(t){ct._client=el(t)},initialize(t){const e=t.filter(n=>!!n.namespace).map(n=>n.namespace);ve.syncStorageConnections(e)},syncStorageConnections(t){const e=ge.getConnections(),n=t??Array.from(B.state.chains.keys());for(const s of n){const i=e[s]??[],a=new Map(ct.recentConnections);a.set(s,i),ct.recentConnections=a}},getConnections(t){return t?ct.connections.get(t)??[]:[]},hasAnyConnection(t){const e=ve.state.connections;return Array.from(e.values()).flatMap(n=>n).some(({connectorId:n})=>n===t)},async connectWalletConnect(){if(Oe.isTelegram()||Oe.isSafari()&&Oe.isIos()){if(Sc){await Sc,Sc=void 0;return}if(!Oe.isPairingExpired(ct?.wcPairingExpiry)){const t=ct.wcUri;ct.wcUri=t;return}Sc=ve._getClient()?.connectWalletConnect?.().catch(()=>{}),ve.state.status="connecting",await Sc,Sc=void 0,ct.wcPairingExpiry=void 0,ve.state.status="connected"}else await ve._getClient()?.connectWalletConnect?.()},async connectExternal(t,e,n=!0){const s=await ve._getClient()?.connectExternal?.(t);return n&&B.setActiveNamespace(e),s},async reconnectExternal(t){await ve._getClient()?.reconnectExternal?.(t);const e=t.chain||B.state.activeChain;e&&be.setConnectorId(t.id,e)},async setPreferredAccountType(t,e){if(!e)return;tt.setLoading(!0,B.state.activeChain);const n=be.getAuthConnector();n&&(De.setPreferredAccountType(t,e),await n.provider.setPreferredAccount(t),ge.setPreferredAccountTypes(Object.entries(B.state.chains).reduce((s,[i,a])=>{const c=i,u=Or(c);return u!==void 0&&(s[c]=u),s},{})),await ve.reconnectExternal(n),tt.setLoading(!1,B.state.activeChain),xt.sendEvent({type:"track",event:"SET_PREFERRED_ACCOUNT_TYPE",properties:{accountType:t,network:B.state.activeCaipNetwork?.caipNetworkId||""}}))},async signMessage(t){return ve._getClient()?.signMessage(t)},parseUnits(t,e){return ve._getClient()?.parseUnits(t,e)},formatUnits(t,e){return ve._getClient()?.formatUnits(t,e)},async sendTransaction(t){return ve._getClient()?.sendTransaction(t)},async getCapabilities(t){return ve._getClient()?.getCapabilities(t)},async grantPermissions(t){return ve._getClient()?.grantPermissions(t)},async walletGetAssets(t){return ve._getClient()?.walletGetAssets(t)??{}},async estimateGas(t){return ve._getClient()?.estimateGas(t)},async writeContract(t){return ve._getClient()?.writeContract(t)},async getEnsAddress(t){return ve._getClient()?.getEnsAddress(t)},async getEnsAvatar(t){return ve._getClient()?.getEnsAvatar(t)},checkInstalled(t){return ve._getClient()?.checkInstalled?.(t)||!1},resetWcConnection(){ct.wcUri=void 0,ct.wcPairingExpiry=void 0,ct.wcLinking=void 0,ct.recentWallet=void 0,ct.status="disconnected",z0.resetTransactions(),ge.deleteWalletConnectDeepLink()},resetUri(){ct.wcUri=void 0,ct.wcPairingExpiry=void 0,Sc=void 0},finalizeWcConnection(){const{wcLinking:t,recentWallet:e}=ve.state;t&&ge.setWalletConnectDeepLink(t),e&&ge.setAppKitRecent(e),xt.sendEvent({type:"track",event:"CONNECT_SUCCESS",properties:{method:t?"mobile":"qrcode",name:je.state.data?.wallet?.name||"Unknown",caipNetworkId:B.getActiveCaipNetwork()?.caipNetworkId}})},setWcBasic(t){ct.wcBasic=t},setUri(t){ct.wcUri=t,ct.wcPairingExpiry=Oe.getPairingExpiry()},setWcLinking(t){ct.wcLinking=t},setWcError(t){ct.wcError=t,ct.buffering=!1},setRecentWallet(t){ct.recentWallet=t},setBuffering(t){ct.buffering=t},setStatus(t){ct.status=t},setIsSwitchingConnection(t){ct.isSwitchingConnection=t},async disconnect({id:t,namespace:e,initialDisconnect:n}={}){try{await ve._getClient()?.disconnect({id:t,chainNamespace:e,initialDisconnect:n})}catch(s){throw new Yu("Failed to disconnect","INTERNAL_SDK_ERROR",s)}},setConnections(t,e){const n=new Map(ct.connections);n.set(e,t),ct.connections=n},async handleAuthAccountSwitch({address:t,namespace:e}){const n=De.state.user?.accounts?.find(i=>i.type==="smartAccount"),s=n&&n.address.toLowerCase()===t.toLowerCase()&&Pd.canSwitchToSmartAccount(e)?"smartAccount":"eoa";await ve.setPreferredAccountType(s,e)},async handleActiveConnection({connection:t,namespace:e,address:n}){const s=be.getConnectorById(t.connectorId),i=t.connectorId===de.CONNECTOR_ID.AUTH;if(!s)throw new Error(`No connector found for connection: ${t.connectorId}`);if(i)i&&n&&await ve.handleAuthAccountSwitch({address:n,namespace:e});else return(await ve.connectExternal({id:s.id,type:s.type,provider:s.provider,address:n,chain:e},e))?.address;return n},async handleDisconnectedConnection({connection:t,namespace:e,address:n,closeModalOnConnect:s}){const i=be.getConnectorById(t.connectorId),a=t.auth?.name?.toLowerCase(),c=t.connectorId===de.CONNECTOR_ID.AUTH,u=t.connectorId===de.CONNECTOR_ID.WALLET_CONNECT;if(!i)throw new Error(`No connector found for connection: ${t.connectorId}`);let f;if(c)if(a&&Pd.isSocialProvider(a)){const{address:h}=await Pd.connectSocial({social:a,closeModalOnConnect:s,onOpenFarcaster(){tt.open({view:"ConnectingFarcaster"})},onConnect(){je.replace("ProfileWallets")}});f=h}else{const{address:h}=await Pd.connectEmail({closeModalOnConnect:s,onOpen(){tt.open({view:"EmailLogin"})},onConnect(){je.replace("ProfileWallets")}});f=h}else if(u){const{address:h}=await Pd.connectWalletConnect({walletConnect:!0,connector:i,closeModalOnConnect:s,onOpen(p){tt.open({view:p?"AllWallets":"ConnectingWalletConnect"})},onConnect(){je.replace("ProfileWallets")}});f=h}else{const h=await ve.connectExternal({id:i.id,type:i.type,provider:i.provider,chain:e},e);h&&(f=h.address)}return c&&n&&await ve.handleAuthAccountSwitch({address:n,namespace:e}),f},async switchConnection({connection:t,address:e,namespace:n,closeModalOnConnect:s,onChange:i}){let a;const c=De.getCaipAddress(n);if(c){const{address:f}=Ks.parseCaipAddress(c);a=f}const u=bm.getConnectionStatus(t,n);switch(u){case"connected":case"active":{const f=await ve.handleActiveConnection({connection:t,namespace:n,address:e});if(a&&f){const h=f.toLowerCase()!==a.toLowerCase();i?.({address:f,namespace:n,hasSwitchedAccount:h,hasSwitchedWallet:u==="active"})}break}case"disconnected":{const f=await ve.handleDisconnectedConnection({connection:t,namespace:n,address:e,closeModalOnConnect:s});f&&i?.({address:f,namespace:n,hasSwitchedAccount:!0,hasSwitchedWallet:!0});break}default:throw new Error(`Invalid connection status: ${u}`)}}},ve=Zs(Jre),Eu=Dt({loading:!1,open:!1,selectedNetworkId:void 0,activeChain:void 0,initialized:!1}),mo={state:Eu,subscribe(t){return Pn(Eu,()=>t(Eu))},subscribeOpen(t){return Qn(Eu,"open",t)},set(t){Object.assign(Eu,{...Eu,...t})}},eoe={async getTokenList(){const t=B.state.activeCaipNetwork;return(await Pe.fetchSwapTokens({chainId:t?.caipNetworkId}))?.tokens?.map(s=>({...s,eip2612:!1,quantity:{decimals:"0",numeric:"0"},price:0,value:0}))||[]},async fetchGasPrice(){const t=B.state.activeCaipNetwork;if(!t)return null;try{switch(t.chainNamespace){case"solana":const e=(await ve?.estimateGas({chainNamespace:"solana"}))?.toString();return{standard:e,fast:e,instant:e};case"eip155":default:return await Pe.fetchGasPrice({chainId:t.caipNetworkId})}}catch{return null}},async fetchSwapAllowance({tokenAddress:t,userAddress:e,sourceTokenAmount:n,sourceTokenDecimals:s}){const i=await Pe.fetchSwapAllowance({tokenAddress:t,userAddress:e});if(i?.allowance&&n&&s){const a=ve.parseUnits(n,s)||0;return BigInt(i.allowance)>=a}return!1},async getMyTokensWithBalance(t){const e=await cA.getMyTokensWithBalance(t);return De.setTokenBalance(e,B.state.activeChain),this.mapBalancesToSwapTokens(e)},mapBalancesToSwapTokens(t){return t?.map(e=>({...e,address:e?.address?e.address:yM(),decimals:parseInt(e.quantity.decimals,10),logoUri:e.iconUrl,eip2612:!1}))||[]}},bt=Dt({tokenBalances:[],loading:!1}),toe={state:bt,subscribe(t){return Pn(bt,()=>t(bt))},subscribeKey(t,e){return Qn(bt,t,e)},setToken(t){t&&(bt.token=el(t))},setTokenAmount(t){bt.sendTokenAmount=t},setReceiverAddress(t){bt.receiverAddress=t},setReceiverProfileImageUrl(t){bt.receiverProfileImageUrl=t},setReceiverProfileName(t){bt.receiverProfileName=t},setNetworkBalanceInUsd(t){bt.networkBalanceInUSD=t},setLoading(t){bt.loading=t},async sendToken(){try{switch(ft.setLoading(!0),B.state.activeCaipNetwork?.chainNamespace){case"eip155":await ft.sendEvmToken();return;case"solana":await ft.sendSolanaToken();return;default:throw new Error("Unsupported chain")}}finally{ft.setLoading(!1)}},async sendEvmToken(){const t=B.state.activeChain;if(!t)throw new Error("SendController:sendEvmToken - activeChainNamespace is required");const e=Or(t);if(!ft.state.sendTokenAmount||!ft.state.receiverAddress)throw new Error("An amount and receiver address are required");if(!ft.state.token)throw new Error("A token is required");ft.state.token?.address?(xt.sendEvent({type:"track",event:"SEND_INITIATED",properties:{isSmartAccount:e===Wc.ACCOUNT_TYPES.SMART_ACCOUNT,token:ft.state.token.address,amount:ft.state.sendTokenAmount,network:B.state.activeCaipNetwork?.caipNetworkId||""}}),await ft.sendERC20Token({receiverAddress:ft.state.receiverAddress,tokenAddress:ft.state.token.address,sendTokenAmount:ft.state.sendTokenAmount,decimals:ft.state.token.quantity.decimals})):(xt.sendEvent({type:"track",event:"SEND_INITIATED",properties:{isSmartAccount:e===Wc.ACCOUNT_TYPES.SMART_ACCOUNT,token:ft.state.token.symbol||"",amount:ft.state.sendTokenAmount,network:B.state.activeCaipNetwork?.caipNetworkId||""}}),await ft.sendNativeToken({receiverAddress:ft.state.receiverAddress,sendTokenAmount:ft.state.sendTokenAmount,decimals:ft.state.token.quantity.decimals}))},async fetchTokenBalance(t){bt.loading=!0;const e=B.state.activeCaipNetwork?.caipNetworkId,n=B.state.activeCaipNetwork?.chainNamespace,s=B.state.activeCaipAddress,i=s?Oe.getPlainAddress(s):void 0;if(bt.lastRetry&&!Oe.isAllowedRetry(bt.lastRetry,30*gt.ONE_SEC_MS))return bt.loading=!1,[];try{if(i&&e&&n){const a=await cA.getMyTokensWithBalance();return bt.tokenBalances=a,bt.lastRetry=void 0,a}}catch(a){bt.lastRetry=Date.now(),t?.(a),Cr.showError("Token Balance Unavailable")}finally{bt.loading=!1}return[]},fetchNetworkBalance(){if(bt.tokenBalances.length===0)return;const t=eoe.mapBalancesToSwapTokens(bt.tokenBalances);if(!t)return;const e=t.find(n=>n.address===yM());e&&(bt.networkBalanceInUSD=e?dre.multiply(e.quantity.numeric,e.price).toString():"0")},async sendNativeToken(t){je.pushTransactionStack({});const e=t.receiverAddress,n=De.state.address,s=ve.parseUnits(t.sendTokenAmount.toString(),Number(t.decimals));await ve.sendTransaction({chainNamespace:de.CHAIN.EVM,to:e,address:n,data:"0x",value:s??BigInt(0)}),xt.sendEvent({type:"track",event:"SEND_SUCCESS",properties:{isSmartAccount:Or("eip155")===Wc.ACCOUNT_TYPES.SMART_ACCOUNT,token:ft.state.token?.symbol||"",amount:t.sendTokenAmount,network:B.state.activeCaipNetwork?.caipNetworkId||""}}),ve._getClient()?.updateBalance("eip155"),ft.resetSend()},async sendERC20Token(t){je.pushTransactionStack({onSuccess(){je.replace("Account")}});const e=ve.parseUnits(t.sendTokenAmount.toString(),Number(t.decimals));if(De.state.address&&t.sendTokenAmount&&t.receiverAddress&&t.tokenAddress){const n=Oe.getPlainAddress(t.tokenAddress);if(!n)throw new Error("SendController:sendERC20Token - tokenAddress is required");await ve.writeContract({fromAddress:De.state.address,tokenAddress:n,args:[t.receiverAddress,e??BigInt(0)],method:"transfer",abi:mre.getERC20Abi(n),chainNamespace:de.CHAIN.EVM}),ft.resetSend()}},async sendSolanaToken(){if(!ft.state.sendTokenAmount||!ft.state.receiverAddress)throw new Error("An amount and receiver address are required");je.pushTransactionStack({onSuccess(){je.replace("Account")}}),await ve.sendTransaction({chainNamespace:"solana",to:ft.state.receiverAddress,value:ft.state.sendTokenAmount}),ve._getClient()?.updateBalance("solana"),ft.resetSend()},resetSend(){bt.token=void 0,bt.sendTokenAmount=void 0,bt.receiverAddress=void 0,bt.receiverProfileImageUrl=void 0,bt.receiverProfileName=void 0,bt.loading=!1,bt.tokenBalances=[]}},ft=Zs(toe),Pb={currentTab:0,tokenBalance:[],smartAccountDeployed:!1,addressLabels:new Map,user:void 0,preferredAccountType:void 0},E0={caipNetwork:void 0,supportsAllNetworks:!0,smartAccountEnabledNetworks:[]},Ae=Dt({chains:Ire(),activeCaipAddress:void 0,activeChain:void 0,activeCaipNetwork:void 0,noAdapters:!1,universalAdapter:{networkControllerClient:void 0,connectionControllerClient:void 0},isSwitchingNamespace:!1}),noe={state:Ae,subscribe(t){return Pn(Ae,()=>{t(Ae)})},subscribeKey(t,e){return Qn(Ae,t,e)},subscribeChainProp(t,e,n){let s;return Pn(Ae.chains,()=>{const i=n||Ae.activeChain;if(i){const a=Ae.chains.get(i)?.[t];s!==a&&(s=a,e(a))}})},initialize(t,e,n){const{chainId:s,namespace:i}=ge.getActiveNetworkProps(),a=e?.find(p=>p.id.toString()===s?.toString()),u=t.find(p=>p?.namespace===i)||t?.[0],f=t.map(p=>p.namespace).filter(p=>p!==void 0),h=fe.state.enableEmbedded?new Set([...f]):new Set([...e?.map(p=>p.chainNamespace)??[]]);(t?.length===0||!u)&&(Ae.noAdapters=!0),Ae.noAdapters||(Ae.activeChain=u?.namespace,Ae.activeCaipNetwork=a,B.setChainNetworkData(u?.namespace,{caipNetwork:a}),Ae.activeChain&&mo.set({activeChain:u?.namespace})),h.forEach(p=>{const g=e?.filter(v=>v.chainNamespace===p),y=ge.getPreferredAccountTypes()||{},b={...fe.state.defaultAccountTypes,...y};B.state.chains.set(p,{namespace:p,networkState:Dt({...E0,caipNetwork:g?.[0]}),accountState:Dt({...Pb,preferredAccountType:b[p]}),caipNetworks:g??[],...n}),B.setRequestedCaipNetworks(g??[],p)})},removeAdapter(t){if(Ae.activeChain===t){const e=Array.from(Ae.chains.entries()).find(([n])=>n!==t);if(e){const n=e[1]?.caipNetworks?.[0];n&&B.setActiveCaipNetwork(n)}}Ae.chains.delete(t)},addAdapter(t,{networkControllerClient:e,connectionControllerClient:n},s){if(!t.namespace)throw new Error("ChainController:addAdapter - adapter must have a namespace");Ae.chains.set(t.namespace,{namespace:t.namespace,networkState:{...E0,caipNetwork:s[0]},accountState:Pb,caipNetworks:s,connectionControllerClient:n,networkControllerClient:e}),B.setRequestedCaipNetworks(s?.filter(i=>i.chainNamespace===t.namespace)??[],t.namespace)},addNetwork(t){const e=Ae.chains.get(t.chainNamespace);if(e){const n=[...e.caipNetworks||[]];e.caipNetworks?.find(s=>s.id===t.id)||n.push(t),Ae.chains.set(t.chainNamespace,{...e,caipNetworks:n}),B.setRequestedCaipNetworks(n,t.chainNamespace),be.filterByNamespace(t.chainNamespace,!0)}},removeNetwork(t,e){const n=Ae.chains.get(t);if(n){const s=Ae.activeCaipNetwork?.id===e,i=[...n.caipNetworks?.filter(a=>a.id!==e)||[]];s&&n?.caipNetworks?.[0]&&B.setActiveCaipNetwork(n.caipNetworks[0]),Ae.chains.set(t,{...n,caipNetworks:i}),B.setRequestedCaipNetworks(i||[],t),i.length===0&&be.filterByNamespace(t,!1)}},setAdapterNetworkState(t,e){const n=Ae.chains.get(t);n&&(n.networkState={...n.networkState||E0,...e},Ae.chains.set(t,n))},setChainAccountData(t,e,n=!0){if(!t)throw new Error("Chain is required to update chain account data");const s=Ae.chains.get(t);if(s){const i={...s.accountState||Pb,...e};Ae.chains.set(t,{...s,accountState:i}),(Ae.chains.size===1||Ae.activeChain===t)&&(e.caipAddress&&(Ae.activeCaipAddress=e.caipAddress),De.replaceState(i))}},setChainNetworkData(t,e){if(!t)return;const n=Ae.chains.get(t);if(n){const s={...n.networkState||E0,...e};Ae.chains.set(t,{...n,networkState:s})}},setAccountProp(t,e,n,s=!0){B.setChainAccountData(n,{[t]:e},s)},setActiveNamespace(t){Ae.activeChain=t;const e=t?Ae.chains.get(t):void 0,n=e?.networkState?.caipNetwork;n?.id&&t&&(Ae.activeCaipAddress=e?.accountState?.caipAddress,Ae.activeCaipNetwork=n,B.setChainNetworkData(t,{caipNetwork:n}),ge.setActiveCaipNetworkId(n?.caipNetworkId),mo.set({activeChain:t,selectedNetworkId:n?.caipNetworkId}))},setActiveCaipNetwork(t){if(!t)return;Ae.activeChain!==t.chainNamespace&&B.setIsSwitchingNamespace(!0);const e=Ae.chains.get(t.chainNamespace);Ae.activeChain=t.chainNamespace,Ae.activeCaipNetwork=t,B.setChainNetworkData(t.chainNamespace,{caipNetwork:t}),e?.accountState?.address?Ae.activeCaipAddress=`${t.chainNamespace}:${t.id}:${e?.accountState?.address}`:Ae.activeCaipAddress=void 0,B.setAccountProp("caipAddress",Ae.activeCaipAddress,t.chainNamespace),e&&De.replaceState(e.accountState),ft.resetSend(),mo.set({activeChain:Ae.activeChain,selectedNetworkId:Ae.activeCaipNetwork?.caipNetworkId}),ge.setActiveCaipNetworkId(t.caipNetworkId),!B.checkIfSupportedNetwork(t.chainNamespace)&&fe.state.enableNetworkSwitch&&!fe.state.allowUnsupportedChain&&!ve.state.wcBasic&&B.showUnsupportedChainUI()},addCaipNetwork(t){if(!t)return;const e=Ae.chains.get(t.chainNamespace);e&&e?.caipNetworks?.push(t)},async switchActiveNamespace(t){if(!t)return;const e=t!==B.state.activeChain,n=B.getNetworkData(t)?.caipNetwork,s=B.getCaipNetworkByNamespace(t,n?.id);e&&s&&await B.switchActiveNetwork(s)},async switchActiveNetwork(t){const e=B.state.activeChain;if(!e)throw new Error("ChainController:switchActiveNetwork - namespace is required");const s=!B.state.chains.get(e)?.caipNetworks?.some(a=>a.id===Ae.activeCaipNetwork?.id),i=B.getNetworkControllerClient(t.chainNamespace);if(i){try{await i.switchCaipNetwork(t),s&&tt.close()}catch{je.goBack()}xt.sendEvent({type:"track",event:"SWITCH_NETWORK",properties:{network:t.caipNetworkId}})}},getNetworkControllerClient(t){const e=t||Ae.activeChain;if(!e)throw new Error("ChainController:getNetworkControllerClient - chain is required");const n=Ae.chains.get(e);if(!n)throw new Error("Chain adapter not found");if(!n.networkControllerClient)throw new Error("NetworkController client not set");return n.networkControllerClient},getConnectionControllerClient(t){const e=t||Ae.activeChain;if(!e)throw new Error("Chain is required to get connection controller client");const n=Ae.chains.get(e);if(!n?.connectionControllerClient)throw new Error("ConnectionController client not set");return n.connectionControllerClient},getNetworkProp(t,e){const n=Ae.chains.get(e)?.networkState;if(n)return n[t]},getRequestedCaipNetworks(t){const e=Ae.chains.get(t),{approvedCaipNetworkIds:n=[],requestedCaipNetworks:s=[]}=e?.networkState||{};return Oe.sortRequestedNetworks(n,s).filter(c=>c?.id)},getAllRequestedCaipNetworks(){const t=[];return Ae.chains.forEach(e=>{if(!e.namespace)throw new Error("ChainController:getAllRequestedCaipNetworks - chainAdapter must have a namespace");const n=B.getRequestedCaipNetworks(e.namespace);t.push(...n)}),t},setRequestedCaipNetworks(t,e){B.setAdapterNetworkState(e,{requestedCaipNetworks:t});const s=B.getAllRequestedCaipNetworks().map(a=>a.chainNamespace),i=Array.from(new Set(s));be.filterByNamespaces(i)},getAllApprovedCaipNetworkIds(){const t=[];return Ae.chains.forEach(e=>{if(!e.namespace)throw new Error("ChainController:getAllApprovedCaipNetworkIds - chainAdapter must have a namespace");const n=B.getApprovedCaipNetworkIds(e.namespace);t.push(...n)}),t},getActiveCaipNetwork(t){return t?Ae.chains.get(t)?.networkState?.caipNetwork:Ae.activeCaipNetwork},getActiveCaipAddress(){return Ae.activeCaipAddress},getApprovedCaipNetworkIds(t){return Ae.chains.get(t)?.networkState?.approvedCaipNetworkIds||[]},async setApprovedCaipNetworksData(t){const n=await B.getNetworkControllerClient()?.getApprovedCaipNetworksData();B.setAdapterNetworkState(t,{approvedCaipNetworkIds:n?.approvedCaipNetworkIds,supportsAllNetworks:n?.supportsAllNetworks})},checkIfSupportedNetwork(t,e){const n=e||Ae.activeCaipNetwork?.caipNetworkId,s=B.getRequestedCaipNetworks(t);return s.length?s?.some(i=>i.caipNetworkId===n):!0},checkIfSupportedChainId(t){return Ae.activeChain?B.getRequestedCaipNetworks(Ae.activeChain)?.some(n=>n.id===t):!0},setSmartAccountEnabledNetworks(t,e){B.setAdapterNetworkState(e,{smartAccountEnabledNetworks:t})},checkIfSmartAccountEnabled(){const t=lM.caipNetworkIdToNumber(Ae.activeCaipNetwork?.caipNetworkId),e=Ae.activeChain;return!e||!t?!1:!!B.getNetworkProp("smartAccountEnabledNetworks",e)?.includes(Number(t))},showUnsupportedChainUI(){tt.open({view:"UnsupportedChain"})},checkIfNamesSupported(){const t=Ae.activeCaipNetwork;return!!(t?.chainNamespace&&gt.NAMES_SUPPORTED_CHAIN_NAMESPACES.includes(t.chainNamespace))},resetNetwork(t){B.setAdapterNetworkState(t,{approvedCaipNetworkIds:void 0,supportsAllNetworks:!0})},resetAccount(t){const e=t;if(!e)throw new Error("Chain is required to set account prop");const n=B.state.chains.get(e)?.accountState?.preferredAccountType,s=fe.state.defaultAccountTypes[e];Ae.activeCaipAddress=void 0,B.setChainAccountData(e,{smartAccountDeployed:!1,currentTab:0,caipAddress:void 0,address:void 0,balance:void 0,balanceSymbol:void 0,profileName:void 0,profileImage:void 0,addressExplorerUrl:void 0,tokenBalance:[],connectedWalletInfo:void 0,preferredAccountType:s||n,socialProvider:void 0,socialWindow:void 0,farcasterUrl:void 0,user:void 0,status:"disconnected"}),be.removeConnectorId(e)},setIsSwitchingNamespace(t){Ae.isSwitchingNamespace=t},getFirstCaipNetworkSupportsAuthConnector(){const t=[];let e;if(Ae.chains.forEach(n=>{de.AUTH_CONNECTOR_SUPPORTED_CHAINS.find(s=>s===n.namespace)&&n.namespace&&t.push(n.namespace)}),t.length>0){const n=t[0];return e=n?Ae.chains.get(n)?.caipNetworks?.[0]:void 0,e}},getAccountData(t){const e=t||Ae.activeChain;if(e)return B.state.chains.get(e)?.accountState},getNetworkData(t){const e=t||Ae.activeChain;if(e)return B.state.chains.get(e)?.networkState},getCaipNetworkByNamespace(t,e){if(!t)return;const n=B.state.chains.get(t),s=n?.caipNetworks?.find(i=>i.id===e);return s||n?.networkState?.caipNetwork||n?.caipNetworks?.[0]},getRequestedCaipNetworkIds(){const t=be.state.filterByNamespace;return(t?[Ae.chains.get(t)]:Array.from(Ae.chains.values())).flatMap(n=>n?.caipNetworks||[]).map(n=>n.caipNetworkId)},getCaipNetworks(t){return t?B.getRequestedCaipNetworks(t):B.getAllRequestedCaipNetworks()},setLastConnectedSIWECaipNetwork(t){Ae.lastConnectedSIWECaipNetwork=t},getLastConnectedSIWECaipNetwork(){return Ae.lastConnectedSIWECaipNetwork}},B=Zs(noe),soe={purchaseCurrencies:[{id:"2b92315d-eab7-5bef-84fa-089a131333f5",name:"USD Coin",symbol:"USDC",networks:[{name:"ethereum-mainnet",display_name:"Ethereum",chain_id:"1",contract_address:"0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48"},{name:"polygon-mainnet",display_name:"Polygon",chain_id:"137",contract_address:"0x2791Bca1f2de4661ED88A30C99A7a9449Aa84174"}]},{id:"2b92315d-eab7-5bef-84fa-089a131333f5",name:"Ether",symbol:"ETH",networks:[{name:"ethereum-mainnet",display_name:"Ethereum",chain_id:"1",contract_address:"0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48"},{name:"polygon-mainnet",display_name:"Polygon",chain_id:"137",contract_address:"0x2791Bca1f2de4661ED88A30C99A7a9449Aa84174"}]}],paymentCurrencies:[{id:"USD",payment_method_limits:[{id:"card",min:"10.00",max:"7500.00"},{id:"ach_bank_account",min:"10.00",max:"25000.00"}]},{id:"EUR",payment_method_limits:[{id:"card",min:"10.00",max:"7500.00"},{id:"ach_bank_account",min:"10.00",max:"25000.00"}]}]},wM=Oe.getBlockchainApiUrl(),ms=Dt({clientId:null,api:new Sp({baseUrl:wM,clientId:null}),supportedChains:{http:[],ws:[]}}),Pe={state:ms,async get(t){const{st:e,sv:n}=Pe.getSdkProperties(),s=fe.state.projectId,i={...t.params||{},st:e,sv:n,projectId:s};return ms.api.get({...t,params:i})},getSdkProperties(){const{sdkType:t,sdkVersion:e}=fe.state;return{st:t||"unknown",sv:e||"unknown"}},async isNetworkSupported(t){if(!t)return!1;try{ms.supportedChains.http.length||await Pe.getSupportedNetworks()}catch{return!1}return ms.supportedChains.http.includes(t)},async getSupportedNetworks(){try{const t=await Pe.get({path:"v1/supported-chains"});return ms.supportedChains=t,t}catch{return ms.supportedChains}},async fetchIdentity({address:t,caipNetworkId:e}){if(!await Pe.isNetworkSupported(e))return{avatar:"",name:""};const s=ge.getIdentityFromCacheForAddress(t);if(s)return s;const i=await Pe.get({path:`/v1/identity/${t}`,params:{sender:B.state.activeCaipAddress?Oe.getPlainAddress(B.state.activeCaipAddress):void 0}});return ge.updateIdentityCache({address:t,identity:i,timestamp:Date.now()}),i},async fetchTransactions({account:t,cursor:e,signal:n,cache:s,chainId:i}){if(!await Pe.isNetworkSupported(B.state.activeCaipNetwork?.caipNetworkId))return{data:[],next:void 0};const c=ge.getTransactionsCacheForAddress({address:t,chainId:i});if(c)return c;const u=await Pe.get({path:`/v1/account/${t}/history`,params:{cursor:e,chainId:i},signal:n,cache:s});return ge.updateTransactionsCache({address:t,chainId:i,timestamp:Date.now(),transactions:u}),u},async fetchSwapQuote({amount:t,userAddress:e,from:n,to:s,gasPrice:i}){return await Pe.isNetworkSupported(B.state.activeCaipNetwork?.caipNetworkId)?Pe.get({path:"/v1/convert/quotes",headers:{"Content-Type":"application/json"},params:{amount:t,userAddress:e,from:n,to:s,gasPrice:i}}):{quotes:[]}},async fetchSwapTokens({chainId:t}){return await Pe.isNetworkSupported(B.state.activeCaipNetwork?.caipNetworkId)?Pe.get({path:"/v1/convert/tokens",params:{chainId:t}}):{tokens:[]}},async fetchTokenPrice({addresses:t}){if(!await Pe.isNetworkSupported(B.state.activeCaipNetwork?.caipNetworkId))return{fungibles:[]};const n=ge.getTokenPriceCacheForAddresses(t);if(n)return n;const s=await ms.api.post({path:"/v1/fungible/price",body:{currency:"usd",addresses:t,projectId:fe.state.projectId},headers:{"Content-Type":"application/json"}});return ge.updateTokenPriceCache({addresses:t,timestamp:Date.now(),tokenPrice:s}),s},async fetchSwapAllowance({tokenAddress:t,userAddress:e}){return await Pe.isNetworkSupported(B.state.activeCaipNetwork?.caipNetworkId)?Pe.get({path:"/v1/convert/allowance",params:{tokenAddress:t,userAddress:e},headers:{"Content-Type":"application/json"}}):{allowance:"0"}},async fetchGasPrice({chainId:t}){const{st:e,sv:n}=Pe.getSdkProperties();if(!await Pe.isNetworkSupported(B.state.activeCaipNetwork?.caipNetworkId))throw new Error("Network not supported for Gas Price");return Pe.get({path:"/v1/convert/gas-price",headers:{"Content-Type":"application/json"},params:{chainId:t,st:e,sv:n}})},async generateSwapCalldata({amount:t,from:e,to:n,userAddress:s,disableEstimate:i}){if(!await Pe.isNetworkSupported(B.state.activeCaipNetwork?.caipNetworkId))throw new Error("Network not supported for Swaps");return ms.api.post({path:"/v1/convert/build-transaction",headers:{"Content-Type":"application/json"},body:{amount:t,eip155:{slippage:gt.CONVERT_SLIPPAGE_TOLERANCE},projectId:fe.state.projectId,from:e,to:n,userAddress:s,disableEstimate:i}})},async generateApproveCalldata({from:t,to:e,userAddress:n}){const{st:s,sv:i}=Pe.getSdkProperties();if(!await Pe.isNetworkSupported(B.state.activeCaipNetwork?.caipNetworkId))throw new Error("Network not supported for Swaps");return Pe.get({path:"/v1/convert/build-approve",headers:{"Content-Type":"application/json"},params:{userAddress:n,from:t,to:e,st:s,sv:i}})},async getBalance(t,e,n){const{st:s,sv:i}=Pe.getSdkProperties();if(!await Pe.isNetworkSupported(B.state.activeCaipNetwork?.caipNetworkId))return Cr.showError("Token Balance Unavailable"),{balances:[]};const c=`${e}:${t}`,u=ge.getBalanceCacheForCaipAddress(c);if(u)return u;const f=await Pe.get({path:`/v1/account/${t}/balance`,params:{currency:"usd",chainId:e,forceUpdate:n,st:s,sv:i}});return ge.updateBalanceCache({caipAddress:c,balance:f,timestamp:Date.now()}),f},async lookupEnsName(t){return await Pe.isNetworkSupported(B.state.activeCaipNetwork?.caipNetworkId)?Pe.get({path:`/v1/profile/account/${t}`,params:{apiVersion:"2"}}):{addresses:{},attributes:[]}},async reverseLookupEnsName({address:t}){return await Pe.isNetworkSupported(B.state.activeCaipNetwork?.caipNetworkId)?Pe.get({path:`/v1/profile/reverse/${t}`,params:{sender:De.state.address,apiVersion:"2"}}):[]},async getEnsNameSuggestions(t){return await Pe.isNetworkSupported(B.state.activeCaipNetwork?.caipNetworkId)?Pe.get({path:`/v1/profile/suggestions/${t}`,params:{zone:"reown.id"}}):{suggestions:[]}},async registerEnsName({coinType:t,address:e,message:n,signature:s}){return await Pe.isNetworkSupported(B.state.activeCaipNetwork?.caipNetworkId)?ms.api.post({path:"/v1/profile/account",body:{coin_type:t,address:e,message:n,signature:s},headers:{"Content-Type":"application/json"}}):{success:!1}},async generateOnRampURL({destinationWallets:t,partnerUserId:e,defaultNetwork:n,purchaseAmount:s,paymentAmount:i}){return await Pe.isNetworkSupported(B.state.activeCaipNetwork?.caipNetworkId)?(await ms.api.post({path:"/v1/generators/onrampurl",params:{projectId:fe.state.projectId},body:{destinationWallets:t,defaultNetwork:n,partnerUserId:e,defaultExperience:"buy",presetCryptoAmount:s,presetFiatAmount:i}})).url:""},async getOnrampOptions(){if(!await Pe.isNetworkSupported(B.state.activeCaipNetwork?.caipNetworkId))return{paymentCurrencies:[],purchaseCurrencies:[]};try{return await Pe.get({path:"/v1/onramp/options"})}catch{return soe}},async getOnrampQuote({purchaseCurrency:t,paymentCurrency:e,amount:n,network:s}){try{return await Pe.isNetworkSupported(B.state.activeCaipNetwork?.caipNetworkId)?await ms.api.post({path:"/v1/onramp/quote",params:{projectId:fe.state.projectId},body:{purchaseCurrency:t,paymentCurrency:e,amount:n,network:s}}):null}catch{return{networkFee:{amount:n,currency:e.id},paymentSubtotal:{amount:n,currency:e.id},paymentTotal:{amount:n,currency:e.id},purchaseAmount:{amount:n,currency:e.id},quoteId:"mocked-quote-id"}}},async getSmartSessions(t){return await Pe.isNetworkSupported(B.state.activeCaipNetwork?.caipNetworkId)?Pe.get({path:`/v1/sessions/${t}`}):[]},async revokeSmartSession(t,e,n){return await Pe.isNetworkSupported(B.state.activeCaipNetwork?.caipNetworkId)?ms.api.post({path:`/v1/sessions/${t}/revoke`,params:{projectId:fe.state.projectId},body:{pci:e,signature:n}}):{success:!1}},setClientId(t){ms.clientId=t,ms.api=new Sp({baseUrl:wM,clientId:t})}};function ioe(t,{strict:e=!0}={}){return!t||typeof t!="string"?!1:e?/^0x[0-9a-fA-F]*$/.test(t):t.startsWith("0x")}function T5(t){return ioe(t,{strict:!1})?Math.ceil((t.length-2)/2):t.length}const bM="2.38.2";let Lb={getDocsUrl:({docsBaseUrl:t,docsPath:e="",docsSlug:n})=>e?`${t??"https://viem.sh"}${e}${n?`#${n}`:""}`:void 0,version:`viem@${bM}`};class Qs extends Error{constructor(e,n={}){const s=n.cause instanceof Qs?n.cause.details:n.cause?.message?n.cause.message:n.details,i=n.cause instanceof Qs&&n.cause.docsPath||n.docsPath,a=Lb.getDocsUrl?.({...n,docsPath:i}),c=[e||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...a?[`Docs: ${a}`]:[],...s?[`Details: ${s}`]:[],...Lb.version?[`Version: ${Lb.version}`]:[]].join(`
`);super(c,n.cause?{cause:n.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),this.details=s,this.docsPath=i,this.metaMessages=n.metaMessages,this.name=n.name??this.name,this.shortMessage=e,this.version=bM}walk(e){return vM(this,e)}}function vM(t,e){return e?.(t)?t:t&&typeof t=="object"&&"cause"in t&&t.cause!==void 0?vM(t.cause,e):e?null:t}class EM extends Qs{constructor({size:e,targetSize:n,type:s}){super(`${s.charAt(0).toUpperCase()}${s.slice(1).toLowerCase()} size (${e}) exceeds padding size (${n}).`,{name:"SizeExceedsPaddingSizeError"})}}function rA(t,{dir:e,size:n=32}={}){return typeof t=="string"?roe(t,{dir:e,size:n}):ooe(t,{dir:e,size:n})}function roe(t,{dir:e,size:n=32}={}){if(n===null)return t;const s=t.replace("0x","");if(s.length>n*2)throw new EM({size:Math.ceil(s.length/2),targetSize:n,type:"hex"});return`0x${s[e==="right"?"padEnd":"padStart"](n*2,"0")}`}function ooe(t,{dir:e,size:n=32}={}){if(n===null)return t;if(t.length>n)throw new EM({size:t.length,targetSize:n,type:"bytes"});const s=new Uint8Array(n);for(let i=0;i<n;i++){const a=e==="right";s[a?i:n-i-1]=t[a?i:t.length-i-1]}return s}class aoe extends Qs{constructor({max:e,min:n,signed:s,size:i,value:a}){super(`Number "${a}" is not in safe ${i?`${i*8}-bit ${s?"signed":"unsigned"} `:""}integer range ${e?`(${n} to ${e})`:`(above ${n})`}`,{name:"IntegerOutOfRangeError"})}}class coe extends Qs{constructor({givenSize:e,maxSize:n}){super(`Size cannot exceed ${n} bytes. Given size: ${e} bytes.`,{name:"SizeOverflowError"})}}function AM(t,{size:e}){if(T5(t)>e)throw new coe({givenSize:T5(t),maxSize:e})}const loe=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function _5(t,e={}){return typeof t=="number"||typeof t=="bigint"?foe(t,e):typeof t=="string"?SM(t,e):typeof t=="boolean"?uoe(t,e):CM(t,e)}function uoe(t,e={}){const n=`0x${Number(t)}`;return typeof e.size=="number"?(AM(n,{size:e.size}),rA(n,{size:e.size})):n}function CM(t,e={}){let n="";for(let i=0;i<t.length;i++)n+=loe[t[i]];const s=`0x${n}`;return typeof e.size=="number"?(AM(s,{size:e.size}),rA(s,{dir:"right",size:e.size})):s}function foe(t,e={}){const{signed:n,size:s}=e,i=BigInt(t);let a;s?n?a=(1n<<BigInt(s)*8n-1n)-1n:a=2n**(BigInt(s)*8n)-1n:typeof t=="number"&&(a=BigInt(Number.MAX_SAFE_INTEGER));const c=typeof a=="bigint"&&n?-a-1n:0;if(a&&i>a||i<c){const f=typeof t=="bigint"?"n":"";throw new aoe({max:a?`${a}${f}`:void 0,min:`${c}${f}`,signed:n,size:s,value:`${t}${f}`})}const u=`0x${(n&&i<0?(1n<<BigInt(s*8))+BigInt(i):i).toString(16)}`;return s?rA(u,{size:s}):u}const doe=new TextEncoder;function SM(t,e={}){const n=doe.encode(t);return CM(n,e)}class hoe extends Map{constructor(e){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=e}get(e){const n=super.get(e);return super.has(e)&&n!==void 0&&(this.delete(e),super.set(e,n)),n}set(e,n){if(super.set(e,n),this.maxSize&&this.size>this.maxSize){const s=this.keys().next().value;s&&this.delete(s)}return this}}const Kc=(t,e,n)=>JSON.stringify(t,(s,i)=>typeof i=="bigint"?i.toString():i,n);function poe(t,e){let n=t.toString();const s=n.startsWith("-");s&&(n=n.slice(1)),n=n.padStart(e,"0");let[i,a]=[n.slice(0,n.length-e),n.slice(n.length-e)];return a=a.replace(/(0+)$/,""),`${s?"-":""}${i||"0"}${a?`.${a}`:""}`}const oA=t=>t;class ch extends Qs{constructor({body:e,cause:n,details:s,headers:i,status:a,url:c}){super("HTTP request failed.",{cause:n,details:s,metaMessages:[a&&`Status: ${a}`,`URL: ${oA(c)}`,e&&`Request body: ${Kc(e)}`].filter(Boolean),name:"HttpRequestError"}),Object.defineProperty(this,"body",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"headers",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"status",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.body=e,this.headers=i,this.status=a,this.url=c}}class xM extends Qs{constructor({body:e,error:n,url:s}){super("RPC Request failed.",{cause:n,details:n.message,metaMessages:[`URL: ${oA(s)}`,`Request body: ${Kc(e)}`],name:"RpcRequestError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.code=n.code,this.data=n.data}}class I5 extends Qs{constructor({body:e,url:n}){super("The request took too long to respond.",{details:"The request timed out.",metaMessages:[`URL: ${oA(n)}`,`Request body: ${Kc(e)}`],name:"TimeoutError"})}}const goe=-1;class Ds extends Qs{constructor(e,{code:n,docsPath:s,metaMessages:i,name:a,shortMessage:c}){super(c,{cause:e,docsPath:s,metaMessages:i||e?.metaMessages,name:a||"RpcError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name=a||e.name,this.code=e instanceof xM?e.code:n??goe}}class Js extends Ds{constructor(e,n){super(e,n),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=n.data}}class Rh extends Ds{constructor(e){super(e,{code:Rh.code,name:"ParseRpcError",shortMessage:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."})}}Object.defineProperty(Rh,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32700});class $h extends Ds{constructor(e){super(e,{code:$h.code,name:"InvalidRequestRpcError",shortMessage:"JSON is not a valid request object."})}}Object.defineProperty($h,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32600});class Uh extends Ds{constructor(e,{method:n}={}){super(e,{code:Uh.code,name:"MethodNotFoundRpcError",shortMessage:`The method${n?` "${n}"`:""} does not exist / is not available.`})}}Object.defineProperty(Uh,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32601});class Ph extends Ds{constructor(e){super(e,{code:Ph.code,name:"InvalidParamsRpcError",shortMessage:["Invalid parameters were provided to the RPC method.","Double check you have provided the correct parameters."].join(`
`)})}}Object.defineProperty(Ph,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32602});class Xu extends Ds{constructor(e){super(e,{code:Xu.code,name:"InternalRpcError",shortMessage:"An internal error was received."})}}Object.defineProperty(Xu,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32603});class Lh extends Ds{constructor(e){super(e,{code:Lh.code,name:"InvalidInputRpcError",shortMessage:["Missing or invalid parameters.","Double check you have provided the correct parameters."].join(`
`)})}}Object.defineProperty(Lh,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32e3});class kh extends Ds{constructor(e){super(e,{code:kh.code,name:"ResourceNotFoundRpcError",shortMessage:"Requested resource not found."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ResourceNotFoundRpcError"})}}Object.defineProperty(kh,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32001});class Bh extends Ds{constructor(e){super(e,{code:Bh.code,name:"ResourceUnavailableRpcError",shortMessage:"Requested resource not available."})}}Object.defineProperty(Bh,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32002});class Qu extends Ds{constructor(e){super(e,{code:Qu.code,name:"TransactionRejectedRpcError",shortMessage:"Transaction creation failed."})}}Object.defineProperty(Qu,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32003});class zc extends Ds{constructor(e,{method:n}={}){super(e,{code:zc.code,name:"MethodNotSupportedRpcError",shortMessage:`Method${n?` "${n}"`:""} is not supported.`})}}Object.defineProperty(zc,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32004});class Zu extends Ds{constructor(e){super(e,{code:Zu.code,name:"LimitExceededRpcError",shortMessage:"Request exceeds defined limit."})}}Object.defineProperty(Zu,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32005});class jh extends Ds{constructor(e){super(e,{code:jh.code,name:"JsonRpcVersionUnsupportedError",shortMessage:"Version of JSON-RPC protocol is not supported."})}}Object.defineProperty(jh,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32006});class Gc extends Js{constructor(e){super(e,{code:Gc.code,name:"UserRejectedRequestError",shortMessage:"User rejected the request."})}}Object.defineProperty(Gc,"code",{enumerable:!0,configurable:!0,writable:!0,value:4001});class zh extends Js{constructor(e){super(e,{code:zh.code,name:"UnauthorizedProviderError",shortMessage:"The requested method and/or account has not been authorized by the user."})}}Object.defineProperty(zh,"code",{enumerable:!0,configurable:!0,writable:!0,value:4100});class Hh extends Js{constructor(e,{method:n}={}){super(e,{code:Hh.code,name:"UnsupportedProviderMethodError",shortMessage:`The Provider does not support the requested method${n?` " ${n}"`:""}.`})}}Object.defineProperty(Hh,"code",{enumerable:!0,configurable:!0,writable:!0,value:4200});class Fh extends Js{constructor(e){super(e,{code:Fh.code,name:"ProviderDisconnectedError",shortMessage:"The Provider is disconnected from all chains."})}}Object.defineProperty(Fh,"code",{enumerable:!0,configurable:!0,writable:!0,value:4900});class qh extends Js{constructor(e){super(e,{code:qh.code,name:"ChainDisconnectedError",shortMessage:"The Provider is not connected to the requested chain."})}}Object.defineProperty(qh,"code",{enumerable:!0,configurable:!0,writable:!0,value:4901});class Vh extends Js{constructor(e){super(e,{code:Vh.code,name:"SwitchChainError",shortMessage:"An error occurred when attempting to switch chain."})}}Object.defineProperty(Vh,"code",{enumerable:!0,configurable:!0,writable:!0,value:4902});class Wh extends Js{constructor(e){super(e,{code:Wh.code,name:"UnsupportedNonOptionalCapabilityError",shortMessage:"This Wallet does not support a capability that was not marked as optional."})}}Object.defineProperty(Wh,"code",{enumerable:!0,configurable:!0,writable:!0,value:5700});class Kh extends Js{constructor(e){super(e,{code:Kh.code,name:"UnsupportedChainIdError",shortMessage:"This Wallet does not support the requested chain ID."})}}Object.defineProperty(Kh,"code",{enumerable:!0,configurable:!0,writable:!0,value:5710});class Gh extends Js{constructor(e){super(e,{code:Gh.code,name:"DuplicateIdError",shortMessage:"There is already a bundle submitted with this ID."})}}Object.defineProperty(Gh,"code",{enumerable:!0,configurable:!0,writable:!0,value:5720});class Yh extends Js{constructor(e){super(e,{code:Yh.code,name:"UnknownBundleIdError",shortMessage:"This bundle id is unknown / has not been submitted"})}}Object.defineProperty(Yh,"code",{enumerable:!0,configurable:!0,writable:!0,value:5730});class Xh extends Js{constructor(e){super(e,{code:Xh.code,name:"BundleTooLargeError",shortMessage:"The call bundle is too large for the Wallet to process."})}}Object.defineProperty(Xh,"code",{enumerable:!0,configurable:!0,writable:!0,value:5740});class Qh extends Js{constructor(e){super(e,{code:Qh.code,name:"AtomicReadyWalletRejectedUpgradeError",shortMessage:"The Wallet can support atomicity after an upgrade, but the user rejected the upgrade."})}}Object.defineProperty(Qh,"code",{enumerable:!0,configurable:!0,writable:!0,value:5750});class Zh extends Js{constructor(e){super(e,{code:Zh.code,name:"AtomicityNotSupportedError",shortMessage:"The wallet does not support atomic execution but the request requires it."})}}Object.defineProperty(Zh,"code",{enumerable:!0,configurable:!0,writable:!0,value:5760});class moe extends Ds{constructor(e){super(e,{name:"UnknownRpcError",shortMessage:"An unknown RPC error occurred."})}}class aA extends Qs{constructor({cause:e,message:n}={}){const s=n?.replace("execution reverted: ","")?.replace("execution reverted","");super(`Execution reverted ${s?`with reason: ${s}`:"for an unknown reason"}.`,{cause:e,name:"ExecutionRevertedError"})}}Object.defineProperty(aA,"code",{enumerable:!0,configurable:!0,writable:!0,value:3});Object.defineProperty(aA,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/execution reverted/});function yoe(){let t=()=>{},e=()=>{};return{promise:new Promise((s,i)=>{t=s,e=i}),resolve:t,reject:e}}const kb=new Map;function woe({fn:t,id:e,shouldSplitBatch:n,wait:s=0,sort:i}){const a=async()=>{const p=f();c();const g=p.map(({args:y})=>y);g.length!==0&&t(g).then(y=>{i&&Array.isArray(y)&&y.sort(i);for(let b=0;b<p.length;b++){const{resolve:v}=p[b];v?.([y[b],y])}}).catch(y=>{for(let b=0;b<p.length;b++){const{reject:v}=p[b];v?.(y)}})},c=()=>kb.delete(e),u=()=>f().map(({args:p})=>p),f=()=>kb.get(e)||[],h=p=>kb.set(e,[...f(),p]);return{flush:c,async schedule(p){const{promise:g,resolve:y,reject:b}=yoe();return n?.([...u(),p])&&a(),f().length>0?(h({args:p,resolve:y,reject:b}),g):(h({args:p,resolve:y,reject:b}),setTimeout(a,s),g)}}}async function NM(t){return new Promise(e=>setTimeout(e,t))}function boe(t,{delay:e=100,retryCount:n=2,shouldRetry:s=()=>!0}={}){return new Promise((i,a)=>{const c=async({count:u=0}={})=>{const f=async({error:h})=>{const p=typeof e=="function"?e({count:u,error:h}):e;p&&await NM(p),c({count:u+1})};try{const h=await t();i(h)}catch(h){if(u<n&&await s({count:u,error:h}))return f({error:h});a(h)}};c()})}const b2=256;let A0=b2,C0;function voe(t=11){if(!C0||A0+t>b2*2){C0="",A0=0;for(let e=0;e<b2;e++)C0+=(256+Math.random()*256|0).toString(16).substring(1)}return C0.substring(A0,A0+++t)}const S0=new hoe(8192);function Eoe(t,{enabled:e=!0,id:n}){if(!e||!n)return t();if(S0.get(n))return S0.get(n);const s=t().finally(()=>S0.delete(n));return S0.set(n,s),s}function Aoe(t,e={}){return async(n,s={})=>{const{dedupe:i=!1,methods:a,retryDelay:c=150,retryCount:u=3,uid:f}={...e,...s},{method:h}=n;if(a?.exclude?.includes(h))throw new zc(new Error("method not supported"),{method:h});if(a?.include&&!a.include.includes(h))throw new zc(new Error("method not supported"),{method:h});const p=i?SM(`${f}.${Kc(n)}`):void 0;return Eoe(()=>boe(async()=>{try{return await t(n)}catch(g){const y=g;switch(y.code){case Rh.code:throw new Rh(y);case $h.code:throw new $h(y);case Uh.code:throw new Uh(y,{method:n.method});case Ph.code:throw new Ph(y);case Xu.code:throw new Xu(y);case Lh.code:throw new Lh(y);case kh.code:throw new kh(y);case Bh.code:throw new Bh(y);case Qu.code:throw new Qu(y);case zc.code:throw new zc(y,{method:n.method});case Zu.code:throw new Zu(y);case jh.code:throw new jh(y);case Gc.code:throw new Gc(y);case zh.code:throw new zh(y);case Hh.code:throw new Hh(y);case Fh.code:throw new Fh(y);case qh.code:throw new qh(y);case Vh.code:throw new Vh(y);case Wh.code:throw new Wh(y);case Kh.code:throw new Kh(y);case Gh.code:throw new Gh(y);case Yh.code:throw new Yh(y);case Xh.code:throw new Xh(y);case Qh.code:throw new Qh(y);case Zh.code:throw new Zh(y);case 5e3:throw new Gc(y);default:throw g instanceof Qs?g:new moe(y)}}},{delay:({count:g,error:y})=>{if(y&&y instanceof ch){const b=y?.headers?.get("Retry-After");if(b?.match(/\d/))return Number.parseInt(b,10)*1e3}return~~(1<<g)*c},retryCount:u,shouldRetry:({error:g})=>Coe(g)}),{enabled:i,id:p})}}function Coe(t){return"code"in t&&typeof t.code=="number"?t.code===-1||t.code===Zu.code||t.code===Xu.code:t instanceof ch&&t.status?t.status===403||t.status===408||t.status===413||t.status===429||t.status===500||t.status===502||t.status===503||t.status===504:!0}function Soe(t,{errorInstance:e=new Error("timed out"),timeout:n,signal:s}){return new Promise((i,a)=>{(async()=>{let c;try{const u=new AbortController;n>0&&(c=setTimeout(()=>{s&&u.abort()},n)),i(await t({signal:u?.signal||null}))}catch(u){u?.name==="AbortError"&&a(e),a(u)}finally{clearTimeout(c)}})()})}function xoe(){return{current:0,take(){return this.current++},reset(){this.current=0}}}const D5=xoe();function Noe(t,e={}){return{async request(n){const{body:s,fetchFn:i=e.fetchFn??fetch,onRequest:a=e.onRequest,onResponse:c=e.onResponse,timeout:u=e.timeout??1e4}=n,f={...e.fetchOptions??{},...n.fetchOptions??{}},{headers:h,method:p,signal:g}=f;try{const y=await Soe(async({signal:v})=>{const E={...f,body:Array.isArray(s)?Kc(s.map(x=>({jsonrpc:"2.0",id:x.id??D5.take(),...x}))):Kc({jsonrpc:"2.0",id:s.id??D5.take(),...s}),headers:{"Content-Type":"application/json",...h},method:p||"POST",signal:g||(u>0?v:null)},A=new Request(t,E),S=await a?.(A,E)??{...E,url:t};return await i(S.url??t,S)},{errorInstance:new I5({body:s,url:t}),timeout:u,signal:!0});c&&await c(y);let b;if(y.headers.get("Content-Type")?.startsWith("application/json"))b=await y.json();else{b=await y.text();try{b=JSON.parse(b||"{}")}catch(v){if(y.ok)throw v;b={error:b}}}if(!y.ok)throw new ch({body:s,details:Kc(b.error)||y.statusText,headers:y.headers,status:y.status,url:t});return b}catch(y){throw y instanceof ch||y instanceof I5?y:new ch({body:s,cause:y,url:t})}}}}function TM({key:t,methods:e,name:n,request:s,retryCount:i=3,retryDelay:a=150,timeout:c,type:u},f){const h=voe();return{config:{key:t,methods:e,name:n,request:s,retryCount:i,retryDelay:a,timeout:c,type:u},request:Aoe(s,{methods:e,retryCount:i,retryDelay:a,uid:h}),value:f}}function O5(t,e={}){const{key:n="fallback",name:s="Fallback",rank:i=!1,shouldThrow:a=Toe,retryCount:c,retryDelay:u}=e;return(({chain:f,pollingInterval:h=4e3,timeout:p,...g})=>{let y=t,b=()=>{};const v=TM({key:n,name:s,async request({method:E,params:A}){let S;const D=async(x=0)=>{const N=y[x]({...g,chain:f,retryCount:0,timeout:p});try{const T=await N.request({method:E,params:A});return b({method:E,params:A,response:T,transport:N,status:"success"}),T}catch(T){if(b({error:T,method:E,params:A,transport:N,status:"error"}),a(T)||x===y.length-1||(S??=y.slice(x+1).some(I=>{const{include:$,exclude:P}=I({chain:f}).config.methods||{};return $?$.includes(E):P?!P.includes(E):!0}),!S))throw T;return D(x+1)}};return D()},retryCount:c,retryDelay:u,type:"fallback"},{onResponse:E=>b=E,transports:y.map(E=>E({chain:f,retryCount:0}))});if(i){const E=typeof i=="object"?i:{};_oe({chain:f,interval:E.interval??h,onTransports:A=>y=A,ping:E.ping,sampleCount:E.sampleCount,timeout:E.timeout,transports:y,weights:E.weights})}return v})}function Toe(t){return!!("code"in t&&typeof t.code=="number"&&(t.code===Qu.code||t.code===Gc.code||aA.nodeMessage.test(t.message)||t.code===5e3))}function _oe({chain:t,interval:e=4e3,onTransports:n,ping:s,sampleCount:i=10,timeout:a=1e3,transports:c,weights:u={}}){const{stability:f=.7,latency:h=.3}=u,p=[],g=async()=>{const y=await Promise.all(c.map(async E=>{const A=E({chain:t,retryCount:0,timeout:a}),S=Date.now();let D,x;try{await(s?s({transport:A}):A.request({method:"net_listening"})),x=1}catch{x=0}finally{D=Date.now()}return{latency:D-S,success:x}}));p.push(y),p.length>i&&p.shift();const b=Math.max(...p.map(E=>Math.max(...E.map(({latency:A})=>A)))),v=c.map((E,A)=>{const S=p.map(I=>I[A].latency),x=1-S.reduce((I,$)=>I+$,0)/S.length/b,N=p.map(I=>I[A].success),T=N.reduce((I,$)=>I+$,0)/N.length;return T===0?[0,A]:[h*x+f*T,A]}).sort((E,A)=>A[0]-E[0]);n(v.map(([,E])=>c[E])),await NM(e),g()};g()}class Ioe extends Qs{constructor(){super("No URL was provided to the Transport. Please provide a valid RPC URL to the Transport.",{docsPath:"/docs/clients/intro",name:"UrlRequiredError"})}}function x0(t,e={}){const{batch:n,fetchFn:s,fetchOptions:i,key:a="http",methods:c,name:u="HTTP JSON-RPC",onFetchRequest:f,onFetchResponse:h,retryDelay:p,raw:g}=e;return({chain:y,retryCount:b,timeout:v})=>{const{batchSize:E=1e3,wait:A=0}=typeof n=="object"?n:{},S=e.retryCount??b,D=v??e.timeout??1e4,x=t||y?.rpcUrls.default.http[0];if(!x)throw new Ioe;const N=Noe(x,{fetchFn:s,fetchOptions:i,onRequest:f,onResponse:h,timeout:D});return TM({key:a,methods:c,name:u,async request({method:T,params:I}){const $={method:T,params:I},{schedule:P}=woe({id:x,wait:A,shouldSplitBatch(F){return F.length>E},fn:F=>N.request({body:F}),sort:(F,ee)=>F.id-ee.id}),M=async F=>n?P(F):[await N.request({body:F})],[{error:z,result:q}]=await M($);if(g)return{error:z,result:q};if(z)throw new xM({body:$,error:z,url:x});return q},retryCount:S,retryDelay:p,timeout:D,type:"http"},{fetchOptions:i,url:x})}}const Bb={createBalance(t,e){const n={name:t.metadata.name||"",symbol:t.metadata.symbol||"",decimals:t.metadata.decimals||0,value:t.metadata.value||0,price:t.metadata.price||0,iconUrl:t.metadata.iconUrl||""};return{name:n.name,symbol:n.symbol,chainId:e,address:t.address==="native"?void 0:this.convertAddressToCAIP10Address(t.address,e),value:n.value,price:n.price,quantity:{decimals:n.decimals.toString(),numeric:this.convertHexToBalance({hex:t.balance,decimals:n.decimals})},iconUrl:n.iconUrl}},convertHexToBalance({hex:t,decimals:e}){return poe(BigInt(t),e)},convertAddressToCAIP10Address(t,e){return`${e}:${t}`},createCAIP2ChainId(t,e){return`${e}:${parseInt(t,16)}`},getChainIdHexFromCAIP2ChainId(t){const e=t.split(":");if(e.length<2||!e[1])return"0x0";const n=e[1],s=parseInt(n,10);return isNaN(s)?"0x0":`0x${s.toString(16)}`},isWalletGetAssetsResponse(t){return typeof t!="object"||t===null?!1:Object.values(t).every(e=>Array.isArray(e)&&e.every(n=>this.isValidAsset(n)))},isValidAsset(t){return typeof t=="object"&&t!==null&&typeof t.address=="string"&&typeof t.balance=="string"&&(t.type==="ERC20"||t.type==="NATIVE")&&typeof t.metadata=="object"&&t.metadata!==null&&typeof t.metadata.name=="string"&&typeof t.metadata.symbol=="string"&&typeof t.metadata.decimals=="number"&&typeof t.metadata.price=="number"&&typeof t.metadata.iconUrl=="string"}},cA={async getMyTokensWithBalance(t){const e=De.state.address,n=B.state.activeCaipNetwork,s=be.getConnectorId("eip155")===de.CONNECTOR_ID.AUTH;if(!e||!n)return[];const i=`${n.caipNetworkId}:${e}`,a=ge.getBalanceCacheForCaipAddress(i);if(a)return a.balances;if(n.chainNamespace===de.CHAIN.EVM&&s){const u=await this.getEIP155Balances(e,n);if(u)return this.filterLowQualityTokens(u)}const c=await Pe.getBalance(e,n.caipNetworkId,t);return this.filterLowQualityTokens(c.balances)},async getEIP155Balances(t,e){try{const n=Bb.getChainIdHexFromCAIP2ChainId(e.caipNetworkId);if(!(await ve.getCapabilities(t))?.[n]?.assetDiscovery?.supported)return null;const i=await ve.walletGetAssets({account:t,chainFilter:[n]});if(!Bb.isWalletGetAssetsResponse(i))return null;const c=(i[n]||[]).map(u=>Bb.createBalance(u,e.caipNetworkId));return ge.updateBalanceCache({caipAddress:`${e.caipNetworkId}:${t}`,balance:{balances:c},timestamp:Date.now()}),c}catch{return null}},filterLowQualityTokens(t){return t.filter(e=>e.quantity.decimals!=="0")}},gr=Dt({currentTab:0,tokenBalance:[],smartAccountDeployed:!1,addressLabels:new Map}),Doe={state:gr,replaceState(t){t&&Object.assign(gr,el(t))},subscribe(t){return B.subscribeChainProp("accountState",e=>{if(e)return t(e)})},subscribeKey(t,e,n){let s;return B.subscribeChainProp("accountState",i=>{if(i){const a=i[t];s!==a&&(s=a,e(a))}},n)},setStatus(t,e){B.setAccountProp("status",t,e)},getCaipAddress(t){if(t)return B.state.chains.get(t)?.accountState?.caipAddress},setCaipAddress(t,e){const n=t?Oe.getPlainAddress(t):void 0;e===B.state.activeChain&&(B.state.activeCaipAddress=t),B.setAccountProp("caipAddress",t,e),B.setAccountProp("address",n,e)},setBalance(t,e,n){B.setAccountProp("balance",t,n),B.setAccountProp("balanceSymbol",e,n)},setProfileName(t,e){B.setAccountProp("profileName",t,e)},setProfileImage(t,e){B.setAccountProp("profileImage",t,e)},setUser(t,e){B.setAccountProp("user",t,e)},setAddressExplorerUrl(t,e){B.setAccountProp("addressExplorerUrl",t,e)},setSmartAccountDeployed(t,e){B.setAccountProp("smartAccountDeployed",t,e)},setCurrentTab(t){B.setAccountProp("currentTab",t,B.state.activeChain)},setTokenBalance(t,e){t&&B.setAccountProp("tokenBalance",t,e)},setShouldUpdateToAddress(t,e){B.setAccountProp("shouldUpdateToAddress",t,e)},addAddressLabel(t,e,n){if(!n)return;const s=B.state.chains.get(n)?.accountState?.addressLabels||new Map;s.set(t,e),B.setAccountProp("addressLabels",s,n)},removeAddressLabel(t,e){if(!e)return;const n=B.state.chains.get(e)?.accountState?.addressLabels||new Map;n.delete(t),B.setAccountProp("addressLabels",n,e)},setConnectedWalletInfo(t,e){B.setAccountProp("connectedWalletInfo",t,e,!1)},setPreferredAccountType(t,e){B.setAccountProp("preferredAccountType",t,e)},setSocialProvider(t,e){t&&B.setAccountProp("socialProvider",t,e)},setSocialWindow(t,e){B.setAccountProp("socialWindow",t?el(t):void 0,e)},setFarcasterUrl(t,e){B.setAccountProp("farcasterUrl",t,e)},async fetchTokenBalance(t){gr.balanceLoading=!0;const e=B.state.activeCaipNetwork?.caipNetworkId,n=B.state.activeCaipNetwork?.chainNamespace,s=B.state.activeCaipAddress,i=s?Oe.getPlainAddress(s):void 0;if(gr.lastRetry&&!Oe.isAllowedRetry(gr.lastRetry,30*gt.ONE_SEC_MS))return gr.balanceLoading=!1,[];try{if(i&&e&&n){const a=await cA.getMyTokensWithBalance();return De.setTokenBalance(a,n),gr.lastRetry=void 0,gr.balanceLoading=!1,a}}catch(a){gr.lastRetry=Date.now(),t?.(a),Cr.showError("Token Balance Unavailable")}finally{gr.balanceLoading=!1}return[]},resetAccount(t){B.resetAccount(t)}},De=Zs(Doe),Ooe={onSwitchNetwork({network:t,ignoreSwitchConfirmation:e=!1}){const n=B.state.activeCaipNetwork,s=je.state.data;if(t.id===n?.id)return;const a=De.getCaipAddress(B.state.activeChain),c=t.chainNamespace!==B.state.activeChain,u=De.getCaipAddress(t.chainNamespace),h=be.getConnectorId(B.state.activeChain)===de.CONNECTOR_ID.AUTH,p=de.AUTH_CONNECTOR_SUPPORTED_CHAINS.find(g=>g===t.chainNamespace);e||h&&p?je.push("SwitchNetwork",{...s,network:t}):a&&c&&!u?je.push("SwitchActiveChain",{switchToChain:t.chainNamespace,navigateTo:"Connect",navigateWithReplace:!0,network:t}):je.push("SwitchNetwork",{...s,network:t})}},ys=Dt({loading:!1,loadingNamespaceMap:new Map,open:!1,shake:!1,namespace:void 0}),Moe={state:ys,subscribe(t){return Pn(ys,()=>t(ys))},subscribeKey(t,e){return Qn(ys,t,e)},async open(t){const e=t?.namespace,n=B.state.activeChain,s=e&&e!==n,i=B.getAccountData(t?.namespace)?.caipAddress;if(ve.state.wcBasic?Ue.prefetch({fetchNetworkImages:!1,fetchConnectorImages:!1}):await Ue.prefetch(),be.setFilterByNamespace(t?.namespace),tt.setLoading(!0,e),e&&s){const a=B.getNetworkData(e)?.caipNetwork||B.getRequestedCaipNetworks(e)[0];a&&Ooe.onSwitchNetwork({network:a,ignoreSwitchConfirmation:!0})}else{const a=B.state.noAdapters;fe.state.manualWCControl||a&&!i?Oe.isMobile()?je.reset("AllWallets"):je.reset("ConnectingWalletConnectBasic"):t?.view?je.reset(t.view,t.data):i?je.reset("Account"):je.reset("Connect")}ys.open=!0,mo.set({open:!0}),xt.sendEvent({type:"track",event:"MODAL_OPEN",properties:{connected:!!i}})},close(){const t=fe.state.enableEmbedded,e=!!B.state.activeCaipAddress;ys.open&&xt.sendEvent({type:"track",event:"MODAL_CLOSE",properties:{connected:e}}),ys.open=!1,je.reset("Connect"),tt.clearLoading(),t?e?je.replace("Account"):je.push("Connect"):mo.set({open:!1}),ve.resetUri()},setLoading(t,e){e&&ys.loadingNamespaceMap.set(e,t),ys.loading=t,mo.set({loading:t})},clearLoading(){ys.loadingNamespaceMap.clear(),ys.loading=!1,mo.set({loading:!1})},shake(){ys.shake||(ys.shake=!0,setTimeout(()=>{ys.shake=!1},500))}},tt=Zs(Moe),lh={id:"2b92315d-eab7-5bef-84fa-089a131333f5",name:"USD Coin",symbol:"USDC",networks:[{name:"ethereum-mainnet",display_name:"Ethereum",chain_id:"1",contract_address:"0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48"},{name:"polygon-mainnet",display_name:"Polygon",chain_id:"137",contract_address:"0x2791Bca1f2de4661ED88A30C99A7a9449Aa84174"}]},v2={id:"USD",payment_method_limits:[{id:"card",min:"10.00",max:"7500.00"},{id:"ach_bank_account",min:"10.00",max:"25000.00"}]},Roe={providers:pM,selectedProvider:null,error:null,purchaseCurrency:lh,paymentCurrency:v2,purchaseCurrencies:[lh],paymentCurrencies:[],quotesLoading:!1},nt=Dt(Roe),$oe={state:nt,subscribe(t){return Pn(nt,()=>t(nt))},subscribeKey(t,e){return Qn(nt,t,e)},setSelectedProvider(t){if(t&&t.name==="meld"){const e=B.state.activeChain,n=e===de.CHAIN.SOLANA?"SOL":"USDC",s=e?B.state.chains.get(e)?.accountState?.address??"":"",i=new URL(t.url);i.searchParams.append("publicKey",Dre),i.searchParams.append("destinationCurrencyCode",n),i.searchParams.append("walletAddress",s),i.searchParams.append("externalCustomerId",fe.state.projectId),nt.selectedProvider={...t,url:i.toString()}}else nt.selectedProvider=t},setOnrampProviders(t){if(Array.isArray(t)&&t.every(e=>typeof e=="string")){const e=t,n=pM.filter(s=>e.includes(s.name));nt.providers=n}else nt.providers=[]},setPurchaseCurrency(t){nt.purchaseCurrency=t},setPaymentCurrency(t){nt.paymentCurrency=t},setPurchaseAmount(t){E2.state.purchaseAmount=t},setPaymentAmount(t){E2.state.paymentAmount=t},async getAvailableCurrencies(){const t=await Pe.getOnrampOptions();nt.purchaseCurrencies=t.purchaseCurrencies,nt.paymentCurrencies=t.paymentCurrencies,nt.paymentCurrency=t.paymentCurrencies[0]||v2,nt.purchaseCurrency=t.purchaseCurrencies[0]||lh,await Ue.fetchCurrencyImages(t.paymentCurrencies.map(e=>e.id)),await Ue.fetchTokenImages(t.purchaseCurrencies.map(e=>e.symbol))},async getQuote(){nt.quotesLoading=!0;try{const t=await Pe.getOnrampQuote({purchaseCurrency:nt.purchaseCurrency,paymentCurrency:nt.paymentCurrency,amount:nt.paymentAmount?.toString()||"0",network:nt.purchaseCurrency?.symbol});return nt.quotesLoading=!1,nt.purchaseAmount=Number(t?.purchaseAmount.amount),t}catch(t){return nt.error=t.message,nt.quotesLoading=!1,null}finally{nt.quotesLoading=!1}},resetState(){nt.selectedProvider=null,nt.error=null,nt.purchaseCurrency=lh,nt.paymentCurrency=v2,nt.purchaseCurrencies=[lh],nt.paymentCurrencies=[],nt.paymentAmount=void 0,nt.purchaseAmount=void 0,nt.quotesLoading=!1}},E2=Zs($oe),M5=2147483648,Uoe={convertEVMChainIdToCoinType(t){if(t>=M5)throw new Error("Invalid chainId");return(M5|t)>>>0}},gi=Dt({suggestions:[],loading:!1}),Poe={state:gi,subscribe(t){return Pn(gi,()=>t(gi))},subscribeKey(t,e){return Qn(gi,t,e)},async resolveName(t){try{return await Pe.lookupEnsName(t)}catch(e){const n=e;throw new Error(n?.reasons?.[0]?.description||"Error resolving name")}},async isNameRegistered(t){try{return await Pe.lookupEnsName(t),!0}catch{return!1}},async getSuggestions(t){try{gi.loading=!0,gi.suggestions=[];const e=await Pe.getEnsNameSuggestions(t);return gi.suggestions=e.suggestions.map(n=>({...n,name:n.name}))||[],gi.suggestions}catch(e){const n=uh.parseEnsApiError(e,"Error fetching name suggestions");throw new Error(n)}finally{gi.loading=!1}},async getNamesForAddress(t){try{if(!B.state.activeCaipNetwork)return[];const n=ge.getEnsFromCacheForAddress(t);if(n)return n;const s=await Pe.reverseLookupEnsName({address:t});return ge.updateEnsCache({address:t,ens:s,timestamp:Date.now()}),s}catch(e){const n=uh.parseEnsApiError(e,"Error fetching names for address");throw new Error(n)}},async registerName(t){const e=B.state.activeCaipNetwork,n=De.state.address,s=be.getAuthConnector();if(!e)throw new Error("Network not found");if(!n||!s)throw new Error("Address or auth connector not found");gi.loading=!0;try{const i=JSON.stringify({name:t,attributes:{},timestamp:Math.floor(Date.now()/1e3)});je.pushTransactionStack({onCancel(){je.replace("RegisterAccountName")}});const a=await ve.signMessage(i);gi.loading=!1;const c=e.id;if(!c)throw new Error("Network not found");const u=Uoe.convertEVMChainIdToCoinType(Number(c));await Pe.registerEnsName({coinType:u,address:n,signature:a,message:i}),De.setProfileName(t,e.chainNamespace),je.replace("RegisterAccountNameSuccess")}catch(i){const a=uh.parseEnsApiError(i,`Error registering name ${t}`);throw je.replace("RegisterAccountName"),new Error(a)}finally{gi.loading=!1}},validateName(t){return/^[a-zA-Z0-9-]{4,}$/u.test(t)},parseEnsApiError(t,e){return t?.reasons?.[0]?.description||e}},uh=Zs(Poe);let xc=null;const Er={getSIWX(){return fe.state.siwx},async initializeIfEnabled(t=B.getActiveCaipAddress()){const e=fe.state.siwx;if(!(e&&t))return;const[n,s,i]=t.split(":");if(B.checkIfSupportedNetwork(n,`${n}:${s}`))try{if(fe.state.remoteFeatures?.emailCapture){const c=B.getAccountData(n)?.user;await tt.open({view:"DataCapture",data:{email:c?.email??void 0}});return}if(xc&&await xc,(await e.getSessions(`${n}:${s}`,i)).length)return;await tt.open({view:"SIWXSignMessage"})}catch(a){console.error("SIWXUtil:initializeIfEnabled",a),xt.sendEvent({type:"track",event:"SIWX_AUTH_ERROR",properties:this.getSIWXEventProperties()}),await ve._getClient()?.disconnect().catch(console.error),je.reset("Connect"),Cr.showError("A problem occurred while trying initialize authentication")}},async requestSignMessage(){const t=fe.state.siwx,e=Oe.getPlainAddress(B.getActiveCaipAddress()),n=N5(),s=ve._getClient();if(!t)throw new Error("SIWX is not enabled");if(!e)throw new Error("No ActiveCaipAddress found");if(!n)throw new Error("No ActiveCaipNetwork or client found");if(!s)throw new Error("No ConnectionController client found");try{const i=await t.createMessage({chainId:n.caipNetworkId,accountAddress:e}),a=i.toString();be.getConnectorId(n.chainNamespace)===de.CONNECTOR_ID.AUTH&&je.pushTransactionStack({});const u=await s.signMessage(a);await t.addSession({data:i,message:a,signature:u}),B.setLastConnectedSIWECaipNetwork(n),tt.close(),xt.sendEvent({type:"track",event:"SIWX_AUTH_SUCCESS",properties:this.getSIWXEventProperties()})}catch(i){const a=this.getSIWXEventProperties();(!tt.state.open||je.state.view==="ApproveTransaction")&&await tt.open({view:"SIWXSignMessage"}),Cr.showError("Error signing message"),xt.sendEvent({type:"track",event:"SIWX_AUTH_ERROR",properties:a}),console.error("SWIXUtil:requestSignMessage",i)}},async cancelSignMessage(){try{const t=this.getSIWX();if(t?.getRequired?.()){const n=B.getLastConnectedSIWECaipNetwork();if(n){const s=await t?.getSessions(n?.caipNetworkId,Oe.getPlainAddress(B.getActiveCaipAddress())||"");s&&s.length>0?await B.switchActiveNetwork(n):await ve.disconnect()}else await ve.disconnect()}else tt.close();tt.close(),xt.sendEvent({event:"CLICK_CANCEL_SIWX",type:"track",properties:this.getSIWXEventProperties()})}catch(t){console.error("SIWXUtil:cancelSignMessage",t)}},async getAllSessions(){const t=this.getSIWX(),e=B.getAllRequestedCaipNetworks(),n=[];return await Promise.all(e.map(async s=>{const i=await t?.getSessions(s.caipNetworkId,Oe.getPlainAddress(B.getActiveCaipAddress())||"");i&&n.push(...i)})),n},async getSessions(t){const e=fe.state.siwx;let n=t?.address;if(!n){const i=B.getActiveCaipAddress();n=Oe.getPlainAddress(i)}let s=t?.caipNetworkId;return s||(s=B.getActiveCaipNetwork()?.caipNetworkId),e&&n&&s?e.getSessions(s,n):[]},async isSIWXCloseDisabled(){const t=this.getSIWX();if(t){const e=je.state.view==="ApproveTransaction",n=je.state.view==="SIWXSignMessage";if(e||n)return t.getRequired?.()&&(await this.getSessions()).length===0}return!1},async authConnectorAuthenticate({authConnector:t,chainId:e,socialUri:n,preferredAccountType:s,chainNamespace:i}){const a=Er.getSIWX();if(!a||!i.includes(de.CHAIN.EVM)||fe.state.remoteFeatures?.emailCapture){const p=await t.connect({chainId:e,socialUri:n,preferredAccountType:s});return{address:p.address,chainId:p.chainId,accounts:p.accounts}}const c=`${i}:${e}`,u=await a.createMessage({chainId:c,accountAddress:"<<AccountAddress>>"}),f={accountAddress:u.accountAddress,chainId:u.chainId,domain:u.domain,uri:u.uri,version:u.version,nonce:u.nonce,notBefore:u.notBefore,statement:u.statement,resources:u.resources,requestId:u.requestId,issuedAt:u.issuedAt,expirationTime:u.expirationTime,serializedMessage:u.toString()},h=await t.connect({chainId:e,socialUri:n,siwxMessage:f,preferredAccountType:s});return f.accountAddress=h.address,f.serializedMessage=h.message||"",h.signature&&h.message&&await Er.addEmbeddedWalletSession(f,h.message,h.signature),{address:h.address,chainId:h.chainId,accounts:h.accounts}},async addEmbeddedWalletSession(t,e,n){if(xc)return xc;const s=Er.getSIWX();return s?(xc=s.addSession({data:t,message:e,signature:n}).finally(()=>{xc=null}),xc):Promise.resolve()},async universalProviderAuthenticate({universalProvider:t,chains:e,methods:n}){const s=Er.getSIWX(),i=new Set(e.map(u=>u.split(":")[0]));if(!s||i.size!==1||!i.has("eip155"))return!1;const a=await s.createMessage({chainId:N5()?.caipNetworkId||"",accountAddress:""}),c=await t.authenticate({nonce:a.nonce,domain:a.domain,uri:a.uri,exp:a.expirationTime,iat:a.issuedAt,nbf:a.notBefore,requestId:a.requestId,version:a.version,resources:a.resources,statement:a.statement,chainId:a.chainId,methods:n,chains:[a.chainId,...e.filter(u=>u!==a.chainId)]});if(Cr.showLoading("Authenticating...",{autoClose:!1}),De.setConnectedWalletInfo({...c.session.peer.metadata,name:c.session.peer.metadata.name,icon:c.session.peer.metadata.icons?.[0],type:"WALLET_CONNECT"},Array.from(i)[0]),c?.auths?.length){const u=c.auths.map(f=>{const h=t.client.formatAuthMessage({request:f.p,iss:f.p.iss});return{data:{...f.p,accountAddress:f.p.iss.split(":").slice(-1).join(""),chainId:f.p.iss.split(":").slice(2,4).join(":"),uri:f.p.aud,version:f.p.version||a.version,expirationTime:f.p.exp,issuedAt:f.p.iat,notBefore:f.p.nbf},message:h,signature:f.s.s,cacao:f}});try{await s.setSessions(u),xt.sendEvent({type:"track",event:"SIWX_AUTH_SUCCESS",properties:Er.getSIWXEventProperties()})}catch(f){throw console.error("SIWX:universalProviderAuth - failed to set sessions",f),xt.sendEvent({type:"track",event:"SIWX_AUTH_ERROR",properties:Er.getSIWXEventProperties()}),await t.disconnect().catch(console.error),f}finally{Cr.hide()}}return!0},getSIWXEventProperties(){const t=B.state.activeChain;if(!t)throw new Error("SIWXUtil:getSIWXEventProperties - namespace is required");return{network:B.state.activeCaipNetwork?.caipNetworkId||"",isSmartAccount:Or(t)===Wc.ACCOUNT_TYPES.SMART_ACCOUNT}},async clearSessions(){const t=this.getSIWX();t&&await t.setSessions([])}},Dc={EIP155:de.CHAIN.EVM,CONNECTOR_TYPE_WALLET_CONNECT:"WALLET_CONNECT",CONNECTOR_TYPE_INJECTED:"INJECTED",CONNECTOR_TYPE_ANNOUNCED:"ANNOUNCED"},Jh={NetworkImageIds:{1:"ba0ba0cd-17c6-4806-ad93-f9d174f17900",42161:"3bff954d-5cb0-47a0-9a23-d20192e74600",43114:"30c46e53-e989-45fb-4549-be3bd4eb3b00",56:"93564157-2e8e-4ce7-81df-b264dbee9b00",250:"06b26297-fe0c-4733-5d6b-ffa5498aac00",10:"ab9c186a-c52f-464b-2906-ca59d760a400",137:"41d04d42-da3b-4453-8506-668cc0727900",5e3:"e86fae9b-b770-4eea-e520-150e12c81100",295:"6a97d510-cac8-4e58-c7ce-e8681b044c00",11155111:"e909ea0a-f92a-4512-c8fc-748044ea6800",84532:"a18a7ecd-e307-4360-4746-283182228e00",1301:"4eeea7ef-0014-4649-5d1d-07271a80f600",130:"2257980a-3463-48c6-cbac-a42d2a956e00",10143:"0a728e83-bacb-46db-7844-948f05434900",100:"02b53f6a-e3d4-479e-1cb4-21178987d100",9001:"f926ff41-260d-4028-635e-91913fc28e00",324:"b310f07f-4ef7-49f3-7073-2a0a39685800",314:"5a73b3dd-af74-424e-cae0-0de859ee9400",4689:"34e68754-e536-40da-c153-6ef2e7188a00",1088:"3897a66d-40b9-4833-162f-a2c90531c900",1284:"161038da-44ae-4ec7-1208-0ea569454b00",1285:"f1d73bb6-5450-4e18-38f7-fb6484264a00",7777777:"845c60df-d429-4991-e687-91ae45791600",42220:"ab781bbc-ccc6-418d-d32d-789b15da1f00",8453:"7289c336-3981-4081-c5f4-efc26ac64a00",1313161554:"3ff73439-a619-4894-9262-4470c773a100",2020:"b8101fc0-9c19-4b6f-ec65-f6dfff106e00",2021:"b8101fc0-9c19-4b6f-ec65-f6dfff106e00",80094:"e329c2c9-59b0-4a02-83e4-212ff3779900",2741:"fc2427d1-5af9-4a9c-8da5-6f94627cd900","5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp":"a1b58899-f671-4276-6a5e-56ca5bd59700","4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z":"a1b58899-f671-4276-6a5e-56ca5bd59700",EtWTRABZaYq6iMfeYKouRu166VU2xqa1:"a1b58899-f671-4276-6a5e-56ca5bd59700","000000000019d6689c085ae165831e93":"0b4838db-0161-4ffe-022d-532bf03dba00","000000000933ea01ad0ee984209779ba":"39354064-d79b-420b-065d-f980c4b78200"},ConnectorImageIds:{[de.CONNECTOR_ID.COINBASE]:"0c2840c3-5b04-4c44-9661-fbd4b49e1800",[de.CONNECTOR_ID.COINBASE_SDK]:"0c2840c3-5b04-4c44-9661-fbd4b49e1800",[de.CONNECTOR_ID.SAFE]:"461db637-8616-43ce-035a-d89b8a1d5800",[de.CONNECTOR_ID.LEDGER]:"54a1aa77-d202-4f8d-0fb2-5d2bb6db0300",[de.CONNECTOR_ID.WALLET_CONNECT]:"ef1a1fcf-7fe8-4d69-bd6d-fda1345b4400",[de.CONNECTOR_ID.INJECTED]:"07ba87ed-43aa-4adf-4540-9e6a2b9cae00"},ConnectorNamesMap:{[de.CONNECTOR_ID.INJECTED]:"Browser Wallet",[de.CONNECTOR_ID.WALLET_CONNECT]:"WalletConnect",[de.CONNECTOR_ID.COINBASE]:"Coinbase",[de.CONNECTOR_ID.COINBASE_SDK]:"Coinbase",[de.CONNECTOR_ID.LEDGER]:"Ledger",[de.CONNECTOR_ID.SAFE]:"Safe"}},Gs={getCaipTokens(t){if(!t)return;const e={};return Object.entries(t).forEach(([n,s])=>{e[`${Dc.EIP155}:${n}`]=s}),e},isLowerCaseMatch(t,e){return t?.toLowerCase()===e?.toLowerCase()},getActiveNamespaceConnectedToAuth(){const t=B.state.activeChain;return de.AUTH_CONNECTOR_SUPPORTED_CHAINS.find(e=>be.getConnectorId(e)===de.CONNECTOR_ID.AUTH&&e===t)},withRetry({conditionFn:t,intervalMs:e,maxRetries:n}){let s=0;return new Promise(i=>{async function a(){return s+=1,await t()?i(!0):s>=n?i(!1):(setTimeout(a,e),null)}a()})}},Loe=new AbortController,mi={EmbeddedWalletAbortController:Loe,UniversalProviderErrors:{UNAUTHORIZED_DOMAIN_NOT_ALLOWED:{message:"Unauthorized: origin not allowed",alertErrorKey:"ORIGIN_NOT_ALLOWED"},JWT_VALIDATION_ERROR:{message:"JWT validation error: JWT Token is not yet valid",alertErrorKey:"JWT_TOKEN_NOT_VALID"},INVALID_KEY:{message:"Unauthorized: invalid key",alertErrorKey:"INVALID_PROJECT_ID"}},ALERT_ERRORS:{SWITCH_NETWORK_NOT_FOUND:{code:"APKT001",displayMessage:"Network Not Found",debugMessage:"The specified network is not recognized. Please ensure it is included in the `networks` array of your `createAppKit` configuration."},ORIGIN_NOT_ALLOWED:{code:"APKT002",displayMessage:"Invalid App Configuration",debugMessage:()=>`The origin ${Lu()?window.origin:"unknown"} is not in your allow list. Please update your allowed domains at https://dashboard.reown.com.`},IFRAME_LOAD_FAILED:{code:"APKT003",displayMessage:"Network Error: Wallet Load Failed",debugMessage:()=>"Failed to load the embedded wallet. This may be due to network issues or server downtime. Please check your network connection and try again shortly. Contact support if the issue persists."},IFRAME_REQUEST_TIMEOUT:{code:"APKT004",displayMessage:"Wallet Request Timeout",debugMessage:()=>"The request to the embedded wallet timed out. Please check your network connection and try again shortly. Contact support if the issue persists."},UNVERIFIED_DOMAIN:{code:"APKT005",displayMessage:"Unverified Domain",debugMessage:()=>"Embedded wallet load failed. Ensure your domain is verified in https://dashboard.reown.com."},JWT_TOKEN_NOT_VALID:{code:"APKT006",displayMessage:"Session Expired",debugMessage:"Your session is invalid or expired. Please check your system’s date and time settings, then reconnect."},INVALID_PROJECT_ID:{code:"APKT007",displayMessage:"Invalid Project ID",debugMessage:"The specified project ID is invalid. Please visit https://dashboard.reown.com to obtain a valid project ID."},PROJECT_ID_NOT_CONFIGURED:{code:"APKT008",displayMessage:"Project ID Missing",debugMessage:"No project ID is configured. You can create and configure a project ID at https://dashboard.reown.com."},SERVER_ERROR_APP_CONFIGURATION:{code:"APKT009",displayMessage:"Server Error",debugMessage:t=>`Unable to fetch App Configuration. ${t}. Please check your network connection and try again shortly. Contact support if the issue persists.`},RATE_LIMITED_APP_CONFIGURATION:{code:"APKT010",displayMessage:"Rate Limited",debugMessage:"You have been rate limited while retrieving App Configuration. Please wait a few minutes and try again. Contact support if the issue persists."}},ALERT_WARNINGS:{LOCAL_CONFIGURATION_IGNORED:{debugMessage:t=>`[Reown Config Notice] ${t}`}}},koe={createLogger(t,e="error"){const n=pp({level:e}),{logger:s}=_6({opts:n});return s.error=(...i)=>{for(const a of i)if(a instanceof Error){t(a,...i);return}t(void 0,...i)},s}},Boe="rpc.walletconnect.org";function R5(t,e){const n=new URL("https://rpc.walletconnect.org/v1/");return n.searchParams.set("chainId",t),n.searchParams.set("projectId",e),n.toString()}const jb=["near:mainnet","solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp","eip155:1101","eip155:56","eip155:42161","eip155:7777777","eip155:59144","eip155:324","solana:EtWTRABZaYq6iMfeYKouRu166VU2xqa1","eip155:5000","solana:4sgjmw1sunhzsxgspuhpqldx6wiyjntz","eip155:80084","eip155:5003","eip155:100","eip155:8453","eip155:42220","eip155:1313161555","eip155:17000","eip155:1","eip155:300","eip155:1313161554","eip155:1329","eip155:84532","eip155:421614","eip155:11155111","eip155:8217","eip155:43114","solana:4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z","eip155:999999999","eip155:11155420","eip155:80002","eip155:97","eip155:43113","eip155:137","eip155:10","eip155:1301","bip122:000000000019d6689c085ae165831e93","bip122:000000000933ea01ad0ee984209779ba"],Nu={extendRpcUrlWithProjectId(t,e){let n=!1;try{n=new URL(t).host===Boe}catch{n=!1}if(n){const s=new URL(t);return s.searchParams.has("projectId")||s.searchParams.set("projectId",e),s.toString()}return t},isCaipNetwork(t){return"chainNamespace"in t&&"caipNetworkId"in t},getChainNamespace(t){return this.isCaipNetwork(t)?t.chainNamespace:de.CHAIN.EVM},getCaipNetworkId(t){return this.isCaipNetwork(t)?t.caipNetworkId:`${de.CHAIN.EVM}:${t.id}`},getDefaultRpcUrl(t,e,n){const s=t.rpcUrls?.default?.http?.[0];return jb.includes(e)?R5(e,n):s||""},extendCaipNetwork(t,{customNetworkImageUrls:e,projectId:n,customRpcUrls:s}){const i=this.getChainNamespace(t),a=this.getCaipNetworkId(t),c=t.rpcUrls?.default?.http?.[0],u=this.getDefaultRpcUrl(t,a,n),f=t?.rpcUrls?.chainDefault?.http?.[0]||c,h=s?.[a]?.map(y=>y.url)||[],p=[...h,...u?[u]:[]],g=[...h];return f&&!g.includes(f)&&g.push(f),{...t,chainNamespace:i,caipNetworkId:a,assets:{imageId:Jh.NetworkImageIds[t.id],imageUrl:e?.[t.id]},rpcUrls:{...t.rpcUrls,default:{http:p},chainDefault:{http:g}}}},extendCaipNetworks(t,{customNetworkImageUrls:e,projectId:n,customRpcUrls:s}){return t.map(i=>Nu.extendCaipNetwork(i,{customNetworkImageUrls:e,customRpcUrls:s,projectId:n}))},getViemTransport(t,e,n){const s=[];return n?.forEach(i=>{s.push(x0(i.url,i.config))}),jb.includes(t.caipNetworkId)&&s.push(x0(R5(t.caipNetworkId,e),{fetchOptions:{headers:{"Content-Type":"text/plain"}}})),t?.rpcUrls?.default?.http?.forEach(i=>{s.push(x0(i))}),O5(s)},extendWagmiTransports(t,e,n){if(jb.includes(t.caipNetworkId)){const s=this.getDefaultRpcUrl(t,t.caipNetworkId,e);return O5([n,x0(s)])}return n},getUnsupportedNetwork(t){return{id:t.split(":")[1],caipNetworkId:t,name:de.UNSUPPORTED_NETWORK_NAME,chainNamespace:t.split(":")[0],nativeCurrency:{name:"",decimals:0,symbol:""},rpcUrls:{default:{http:[]}}}},getCaipNetworkFromStorage(t){const e=ge.getActiveCaipNetworkId(),n=B.getAllRequestedCaipNetworks(),s=Array.from(B.state.chains?.keys()||[]),i=e?.split(":")[0],a=i?s.includes(i):!1,c=n?.find(f=>f.caipNetworkId===e);return a&&!c&&e?this.getUnsupportedNetwork(e):c||t||n?.[0]}},vm={eip155:void 0,solana:void 0,polkadot:void 0,bip122:void 0,cosmos:void 0,sui:void 0,stacks:void 0},ws=Dt({providers:{...vm},providerIds:{...vm}}),Gt={state:ws,subscribeKey(t,e){return Qn(ws,t,e)},subscribe(t){return Pn(ws,()=>{t(ws)})},subscribeProviders(t){return Pn(ws.providers,()=>t(ws.providers))},setProvider(t,e){t&&e&&(ws.providers[t]=el(e))},getProvider(t){if(t)return ws.providers[t]},setProviderId(t,e){e&&(ws.providerIds[t]=e)},getProviderId(t){if(t)return ws.providerIds[t]},reset(){ws.providers={...vm},ws.providerIds={...vm}},resetChain(t){ws.providers[t]=void 0,ws.providerIds[t]=void 0}},joe={VIEW_DIRECTION:{Next:"next",Prev:"prev"},DEFAULT_CONNECT_METHOD_ORDER:["email","social","wallet"],ANIMATION_DURATIONS:{HeaderText:120,ModalHeight:150,ViewTransition:150}},A2={filterOutDuplicatesByRDNS(t){const e=fe.state.enableEIP6963?be.state.connectors:[],n=ge.getRecentWallets(),s=e.map(u=>u.info?.rdns).filter(Boolean),i=n.map(u=>u.rdns).filter(Boolean),a=s.concat(i);if(a.includes("io.metamask.mobile")&&Oe.isMobile()){const u=a.indexOf("io.metamask.mobile");a[u]="io.metamask"}return t.filter(u=>!(u?.rdns&&a.includes(String(u.rdns))||!u?.rdns&&e.some(h=>h.name===u.name)))},filterOutDuplicatesByIds(t){const e=be.state.connectors.filter(u=>u.type==="ANNOUNCED"||u.type==="INJECTED"),n=ge.getRecentWallets(),s=e.map(u=>u.explorerId),i=n.map(u=>u.id),a=s.concat(i);return t.filter(u=>!a.includes(u?.id))},filterOutDuplicateWallets(t){const e=this.filterOutDuplicatesByRDNS(t);return this.filterOutDuplicatesByIds(e)},markWalletsAsInstalled(t){const{connectors:e}=be.state,{featuredWalletIds:n}=fe.state,s=e.filter(c=>c.type==="ANNOUNCED").reduce((c,u)=>(u.info?.rdns&&(c[u.info.rdns]=!0),c),{});return t.map(c=>({...c,installed:!!c.rdns&&!!s[c.rdns??""]})).sort((c,u)=>{const f=Number(u.installed)-Number(c.installed);if(f!==0)return f;if(n?.length){const h=n.indexOf(c.id),p=n.indexOf(u.id);if(h!==-1&&p!==-1)return h-p;if(h!==-1)return-1;if(p!==-1)return 1}return 0})},getConnectOrderMethod(t,e){const n=t?.connectMethodsOrder||fe.state.features?.connectMethodsOrder,s=e||be.state.connectors;if(n)return n;const{injected:i,announced:a}=H0.getConnectorsByType(s,Ue.state.recommended,Ue.state.featured),c=i.filter(H0.showConnector),u=a.filter(H0.showConnector);return c.length||u.length?["wallet","email","social"]:joe.DEFAULT_CONNECT_METHOD_ORDER},isExcluded(t){const e=!!t.rdns&&Ue.state.excludedWallets.some(s=>s.rdns===t.rdns),n=!!t.name&&Ue.state.excludedWallets.some(s=>Gs.isLowerCaseMatch(s.name,t.name));return e||n},markWalletsWithDisplayIndex(t){return t.map((e,n)=>({...e,display_index:n}))}},H0={getConnectorsByType(t,e,n){const{customWallets:s}=fe.state,i=ge.getRecentWallets(),a=A2.filterOutDuplicateWallets(e),c=A2.filterOutDuplicateWallets(n),u=t.filter(g=>g.type==="MULTI_CHAIN"),f=t.filter(g=>g.type==="ANNOUNCED"),h=t.filter(g=>g.type==="INJECTED"),p=t.filter(g=>g.type==="EXTERNAL");return{custom:s,recent:i,external:p,multiChain:u,announced:f,injected:h,recommended:a,featured:c}},showConnector(t){const e=t.info?.rdns,n=!!e&&Ue.state.excludedWallets.some(i=>!!i.rdns&&i.rdns===e),s=!!t.name&&Ue.state.excludedWallets.some(i=>Gs.isLowerCaseMatch(i.name,t.name));return!(t.type==="INJECTED"&&(t.name==="Browser Wallet"&&(!Oe.isMobile()||Oe.isMobile()&&!e&&!ve.checkInstalled())||n||s)||(t.type==="ANNOUNCED"||t.type==="EXTERNAL")&&(n||s))},getIsConnectedWithWC(){return Array.from(B.state.chains.values()).some(n=>be.getConnectorId(n.namespace)===de.CONNECTOR_ID.WALLET_CONNECT)},getConnectorTypeOrder({recommended:t,featured:e,custom:n,recent:s,announced:i,injected:a,multiChain:c,external:u,overriddenConnectors:f=fe.state.features?.connectorTypeOrder??[]}){const g=[{type:"walletConnect",isEnabled:fe.state.enableWalletConnect},{type:"recent",isEnabled:s.length>0},{type:"injected",isEnabled:[...a,...i,...c].length>0},{type:"featured",isEnabled:e.length>0},{type:"custom",isEnabled:n&&n.length>0},{type:"external",isEnabled:u.length>0},{type:"recommended",isEnabled:t.length>0}].filter(E=>E.isEnabled),y=new Set(g.map(E=>E.type)),b=f.filter(E=>y.has(E)).map(E=>({type:E,isEnabled:!0})),v=g.filter(({type:E})=>!b.some(({type:S})=>S===E));return Array.from(new Set([...b,...v].map(({type:E})=>E)))},getAuthName({email:t,socialUsername:e,socialProvider:n}){return e?n&&n==="discord"&&e.endsWith("0")?e.slice(0,-1):e:t.length>30?`${t.slice(0,-3)}...`:t},async fetchProviderData(t){try{if(t.name==="Browser Wallet"&&!Oe.isMobile())return{accounts:[],chainId:void 0};if(t.id===de.CONNECTOR_ID.AUTH)return{accounts:[],chainId:void 0};const[e,n]=await Promise.all([t.provider?.request({method:"eth_accounts"}),t.provider?.request({method:"eth_chainId"}).then(s=>Number(s))]);return{accounts:e,chainId:n}}catch(e){return console.warn(`Failed to fetch provider data for ${t.name}`,e),{accounts:[],chainId:void 0}}}};/**
 * @license
 * Copyright 2019 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const F0=globalThis,lA=F0.ShadowRoot&&(F0.ShadyCSS===void 0||F0.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,uA=Symbol(),$5=new WeakMap;let _M=class{constructor(e,n,s){if(this._$cssResult$=!0,s!==uA)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=e,this.t=n}get styleSheet(){let e=this.o;const n=this.t;if(lA&&e===void 0){const s=n!==void 0&&n.length===1;s&&(e=$5.get(n)),e===void 0&&((this.o=e=new CSSStyleSheet).replaceSync(this.cssText),s&&$5.set(n,e))}return e}toString(){return this.cssText}};const yi=t=>new _M(typeof t=="string"?t:t+"",void 0,uA),Hu=(t,...e)=>{const n=t.length===1?t[0]:e.reduce(((s,i,a)=>s+(c=>{if(c._$cssResult$===!0)return c.cssText;if(typeof c=="number")return c;throw Error("Value passed to 'css' function must be a 'css' function result: "+c+". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.")})(i)+t[a+1]),t[0]);return new _M(n,t,uA)},zoe=(t,e)=>{if(lA)t.adoptedStyleSheets=e.map((n=>n instanceof CSSStyleSheet?n:n.styleSheet));else for(const n of e){const s=document.createElement("style"),i=F0.litNonce;i!==void 0&&s.setAttribute("nonce",i),s.textContent=n.cssText,t.appendChild(s)}},U5=lA?t=>t:t=>t instanceof CSSStyleSheet?(e=>{let n="";for(const s of e.cssRules)n+=s.cssText;return yi(n)})(t):t;/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const{is:Hoe,defineProperty:Foe,getOwnPropertyDescriptor:qoe,getOwnPropertyNames:Voe,getOwnPropertySymbols:Woe,getPrototypeOf:Koe}=Object,Qm=globalThis,P5=Qm.trustedTypes,Goe=P5?P5.emptyScript:"",Yoe=Qm.reactiveElementPolyfillSupport,fh=(t,e)=>t,C2={toAttribute(t,e){switch(e){case Boolean:t=t?Goe:null;break;case Object:case Array:t=t==null?t:JSON.stringify(t)}return t},fromAttribute(t,e){let n=t;switch(e){case Boolean:n=t!==null;break;case Number:n=t===null?null:Number(t);break;case Object:case Array:try{n=JSON.parse(t)}catch{n=null}}return n}},IM=(t,e)=>!Hoe(t,e),L5={attribute:!0,type:String,converter:C2,reflect:!1,useDefault:!1,hasChanged:IM};Symbol.metadata??=Symbol("metadata"),Qm.litPropertyMetadata??=new WeakMap;let Tu=class extends HTMLElement{static addInitializer(e){this._$Ei(),(this.l??=[]).push(e)}static get observedAttributes(){return this.finalize(),this._$Eh&&[...this._$Eh.keys()]}static createProperty(e,n=L5){if(n.state&&(n.attribute=!1),this._$Ei(),this.prototype.hasOwnProperty(e)&&((n=Object.create(n)).wrapped=!0),this.elementProperties.set(e,n),!n.noAccessor){const s=Symbol(),i=this.getPropertyDescriptor(e,s,n);i!==void 0&&Foe(this.prototype,e,i)}}static getPropertyDescriptor(e,n,s){const{get:i,set:a}=qoe(this.prototype,e)??{get(){return this[n]},set(c){this[n]=c}};return{get:i,set(c){const u=i?.call(this);a?.call(this,c),this.requestUpdate(e,u,s)},configurable:!0,enumerable:!0}}static getPropertyOptions(e){return this.elementProperties.get(e)??L5}static _$Ei(){if(this.hasOwnProperty(fh("elementProperties")))return;const e=Koe(this);e.finalize(),e.l!==void 0&&(this.l=[...e.l]),this.elementProperties=new Map(e.elementProperties)}static finalize(){if(this.hasOwnProperty(fh("finalized")))return;if(this.finalized=!0,this._$Ei(),this.hasOwnProperty(fh("properties"))){const n=this.properties,s=[...Voe(n),...Woe(n)];for(const i of s)this.createProperty(i,n[i])}const e=this[Symbol.metadata];if(e!==null){const n=litPropertyMetadata.get(e);if(n!==void 0)for(const[s,i]of n)this.elementProperties.set(s,i)}this._$Eh=new Map;for(const[n,s]of this.elementProperties){const i=this._$Eu(n,s);i!==void 0&&this._$Eh.set(i,n)}this.elementStyles=this.finalizeStyles(this.styles)}static finalizeStyles(e){const n=[];if(Array.isArray(e)){const s=new Set(e.flat(1/0).reverse());for(const i of s)n.unshift(U5(i))}else e!==void 0&&n.push(U5(e));return n}static _$Eu(e,n){const s=n.attribute;return s===!1?void 0:typeof s=="string"?s:typeof e=="string"?e.toLowerCase():void 0}constructor(){super(),this._$Ep=void 0,this.isUpdatePending=!1,this.hasUpdated=!1,this._$Em=null,this._$Ev()}_$Ev(){this._$ES=new Promise((e=>this.enableUpdating=e)),this._$AL=new Map,this._$E_(),this.requestUpdate(),this.constructor.l?.forEach((e=>e(this)))}addController(e){(this._$EO??=new Set).add(e),this.renderRoot!==void 0&&this.isConnected&&e.hostConnected?.()}removeController(e){this._$EO?.delete(e)}_$E_(){const e=new Map,n=this.constructor.elementProperties;for(const s of n.keys())this.hasOwnProperty(s)&&(e.set(s,this[s]),delete this[s]);e.size>0&&(this._$Ep=e)}createRenderRoot(){const e=this.shadowRoot??this.attachShadow(this.constructor.shadowRootOptions);return zoe(e,this.constructor.elementStyles),e}connectedCallback(){this.renderRoot??=this.createRenderRoot(),this.enableUpdating(!0),this._$EO?.forEach((e=>e.hostConnected?.()))}enableUpdating(e){}disconnectedCallback(){this._$EO?.forEach((e=>e.hostDisconnected?.()))}attributeChangedCallback(e,n,s){this._$AK(e,s)}_$ET(e,n){const s=this.constructor.elementProperties.get(e),i=this.constructor._$Eu(e,s);if(i!==void 0&&s.reflect===!0){const a=(s.converter?.toAttribute!==void 0?s.converter:C2).toAttribute(n,s.type);this._$Em=e,a==null?this.removeAttribute(i):this.setAttribute(i,a),this._$Em=null}}_$AK(e,n){const s=this.constructor,i=s._$Eh.get(e);if(i!==void 0&&this._$Em!==i){const a=s.getPropertyOptions(i),c=typeof a.converter=="function"?{fromAttribute:a.converter}:a.converter?.fromAttribute!==void 0?a.converter:C2;this._$Em=i;const u=c.fromAttribute(n,a.type);this[i]=u??this._$Ej?.get(i)??u,this._$Em=null}}requestUpdate(e,n,s){if(e!==void 0){const i=this.constructor,a=this[e];if(s??=i.getPropertyOptions(e),!((s.hasChanged??IM)(a,n)||s.useDefault&&s.reflect&&a===this._$Ej?.get(e)&&!this.hasAttribute(i._$Eu(e,s))))return;this.C(e,n,s)}this.isUpdatePending===!1&&(this._$ES=this._$EP())}C(e,n,{useDefault:s,reflect:i,wrapped:a},c){s&&!(this._$Ej??=new Map).has(e)&&(this._$Ej.set(e,c??n??this[e]),a!==!0||c!==void 0)||(this._$AL.has(e)||(this.hasUpdated||s||(n=void 0),this._$AL.set(e,n)),i===!0&&this._$Em!==e&&(this._$Eq??=new Set).add(e))}async _$EP(){this.isUpdatePending=!0;try{await this._$ES}catch(n){Promise.reject(n)}const e=this.scheduleUpdate();return e!=null&&await e,!this.isUpdatePending}scheduleUpdate(){return this.performUpdate()}performUpdate(){if(!this.isUpdatePending)return;if(!this.hasUpdated){if(this.renderRoot??=this.createRenderRoot(),this._$Ep){for(const[i,a]of this._$Ep)this[i]=a;this._$Ep=void 0}const s=this.constructor.elementProperties;if(s.size>0)for(const[i,a]of s){const{wrapped:c}=a,u=this[i];c!==!0||this._$AL.has(i)||u===void 0||this.C(i,void 0,a,u)}}let e=!1;const n=this._$AL;try{e=this.shouldUpdate(n),e?(this.willUpdate(n),this._$EO?.forEach((s=>s.hostUpdate?.())),this.update(n)):this._$EM()}catch(s){throw e=!1,this._$EM(),s}e&&this._$AE(n)}willUpdate(e){}_$AE(e){this._$EO?.forEach((n=>n.hostUpdated?.())),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(e)),this.updated(e)}_$EM(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$ES}shouldUpdate(e){return!0}update(e){this._$Eq&&=this._$Eq.forEach((n=>this._$ET(n,this[n]))),this._$EM()}updated(e){}firstUpdated(e){}};Tu.elementStyles=[],Tu.shadowRootOptions={mode:"open"},Tu[fh("elementProperties")]=new Map,Tu[fh("finalized")]=new Map,Yoe?.({ReactiveElement:Tu}),(Qm.reactiveElementVersions??=[]).push("2.1.1");/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const fA=globalThis,Em=fA.trustedTypes,k5=Em?Em.createPolicy("lit-html",{createHTML:t=>t}):void 0,DM="$lit$",Na=`lit$${Math.random().toFixed(9).slice(2)}$`,OM="?"+Na,Xoe=`<${OM}>`,tl=document,ep=()=>tl.createComment(""),tp=t=>t===null||typeof t!="object"&&typeof t!="function",dA=Array.isArray,Qoe=t=>dA(t)||typeof t?.[Symbol.iterator]=="function",zb=`[ 	
\f\r]`,Ld=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,B5=/-->/g,j5=/>/g,Nc=RegExp(`>|${zb}(?:([^\\s"'>=/]+)(${zb}*=${zb}*(?:[^ 	
\f\r"'\`<>=]|("|')|))|$)`,"g"),z5=/'/g,H5=/"/g,MM=/^(?:script|style|textarea|title)$/i,RM=t=>(e,...n)=>({_$litType$:t,strings:e,values:n}),Dle=RM(1),Ole=RM(2),Ju=Symbol.for("lit-noChange"),En=Symbol.for("lit-nothing"),F5=new WeakMap,Hc=tl.createTreeWalker(tl,129);function $M(t,e){if(!dA(t)||!t.hasOwnProperty("raw"))throw Error("invalid template strings array");return k5!==void 0?k5.createHTML(e):e}const Zoe=(t,e)=>{const n=t.length-1,s=[];let i,a=e===2?"<svg>":e===3?"<math>":"",c=Ld;for(let u=0;u<n;u++){const f=t[u];let h,p,g=-1,y=0;for(;y<f.length&&(c.lastIndex=y,p=c.exec(f),p!==null);)y=c.lastIndex,c===Ld?p[1]==="!--"?c=B5:p[1]!==void 0?c=j5:p[2]!==void 0?(MM.test(p[2])&&(i=RegExp("</"+p[2],"g")),c=Nc):p[3]!==void 0&&(c=Nc):c===Nc?p[0]===">"?(c=i??Ld,g=-1):p[1]===void 0?g=-2:(g=c.lastIndex-p[2].length,h=p[1],c=p[3]===void 0?Nc:p[3]==='"'?H5:z5):c===H5||c===z5?c=Nc:c===B5||c===j5?c=Ld:(c=Nc,i=void 0);const b=c===Nc&&t[u+1].startsWith("/>")?" ":"";a+=c===Ld?f+Xoe:g>=0?(s.push(h),f.slice(0,g)+DM+f.slice(g)+Na+b):f+Na+(g===-2?u:b)}return[$M(t,a+(t[n]||"<?>")+(e===2?"</svg>":e===3?"</math>":"")),s]};let S2=class UM{constructor({strings:e,_$litType$:n},s){let i;this.parts=[];let a=0,c=0;const u=e.length-1,f=this.parts,[h,p]=Zoe(e,n);if(this.el=UM.createElement(h,s),Hc.currentNode=this.el.content,n===2||n===3){const g=this.el.content.firstChild;g.replaceWith(...g.childNodes)}for(;(i=Hc.nextNode())!==null&&f.length<u;){if(i.nodeType===1){if(i.hasAttributes())for(const g of i.getAttributeNames())if(g.endsWith(DM)){const y=p[c++],b=i.getAttribute(g).split(Na),v=/([.?@])?(.*)/.exec(y);f.push({type:1,index:a,name:v[2],strings:b,ctor:v[1]==="."?eae:v[1]==="?"?tae:v[1]==="@"?nae:Zm}),i.removeAttribute(g)}else g.startsWith(Na)&&(f.push({type:6,index:a}),i.removeAttribute(g));if(MM.test(i.tagName)){const g=i.textContent.split(Na),y=g.length-1;if(y>0){i.textContent=Em?Em.emptyScript:"";for(let b=0;b<y;b++)i.append(g[b],ep()),Hc.nextNode(),f.push({type:2,index:++a});i.append(g[y],ep())}}}else if(i.nodeType===8)if(i.data===OM)f.push({type:2,index:a});else{let g=-1;for(;(g=i.data.indexOf(Na,g+1))!==-1;)f.push({type:7,index:a}),g+=Na.length-1}a++}}static createElement(e,n){const s=tl.createElement("template");return s.innerHTML=e,s}};function ef(t,e,n=t,s){if(e===Ju)return e;let i=s!==void 0?n._$Co?.[s]:n._$Cl;const a=tp(e)?void 0:e._$litDirective$;return i?.constructor!==a&&(i?._$AO?.(!1),a===void 0?i=void 0:(i=new a(t),i._$AT(t,n,s)),s!==void 0?(n._$Co??=[])[s]=i:n._$Cl=i),i!==void 0&&(e=ef(t,i._$AS(t,e.values),i,s)),e}class Joe{constructor(e,n){this._$AV=[],this._$AN=void 0,this._$AD=e,this._$AM=n}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(e){const{el:{content:n},parts:s}=this._$AD,i=(e?.creationScope??tl).importNode(n,!0);Hc.currentNode=i;let a=Hc.nextNode(),c=0,u=0,f=s[0];for(;f!==void 0;){if(c===f.index){let h;f.type===2?h=new hA(a,a.nextSibling,this,e):f.type===1?h=new f.ctor(a,f.name,f.strings,this,e):f.type===6&&(h=new sae(a,this,e)),this._$AV.push(h),f=s[++u]}c!==f?.index&&(a=Hc.nextNode(),c++)}return Hc.currentNode=tl,i}p(e){let n=0;for(const s of this._$AV)s!==void 0&&(s.strings!==void 0?(s._$AI(e,s,n),n+=s.strings.length-2):s._$AI(e[n])),n++}}let hA=class PM{get _$AU(){return this._$AM?._$AU??this._$Cv}constructor(e,n,s,i){this.type=2,this._$AH=En,this._$AN=void 0,this._$AA=e,this._$AB=n,this._$AM=s,this.options=i,this._$Cv=i?.isConnected??!0}get parentNode(){let e=this._$AA.parentNode;const n=this._$AM;return n!==void 0&&e?.nodeType===11&&(e=n.parentNode),e}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(e,n=this){e=ef(this,e,n),tp(e)?e===En||e==null||e===""?(this._$AH!==En&&this._$AR(),this._$AH=En):e!==this._$AH&&e!==Ju&&this._(e):e._$litType$!==void 0?this.$(e):e.nodeType!==void 0?this.T(e):Qoe(e)?this.k(e):this._(e)}O(e){return this._$AA.parentNode.insertBefore(e,this._$AB)}T(e){this._$AH!==e&&(this._$AR(),this._$AH=this.O(e))}_(e){this._$AH!==En&&tp(this._$AH)?this._$AA.nextSibling.data=e:this.T(tl.createTextNode(e)),this._$AH=e}$(e){const{values:n,_$litType$:s}=e,i=typeof s=="number"?this._$AC(e):(s.el===void 0&&(s.el=S2.createElement($M(s.h,s.h[0]),this.options)),s);if(this._$AH?._$AD===i)this._$AH.p(n);else{const a=new Joe(i,this),c=a.u(this.options);a.p(n),this.T(c),this._$AH=a}}_$AC(e){let n=F5.get(e.strings);return n===void 0&&F5.set(e.strings,n=new S2(e)),n}k(e){dA(this._$AH)||(this._$AH=[],this._$AR());const n=this._$AH;let s,i=0;for(const a of e)i===n.length?n.push(s=new PM(this.O(ep()),this.O(ep()),this,this.options)):s=n[i],s._$AI(a),i++;i<n.length&&(this._$AR(s&&s._$AB.nextSibling,i),n.length=i)}_$AR(e=this._$AA.nextSibling,n){for(this._$AP?.(!1,!0,n);e!==this._$AB;){const s=e.nextSibling;e.remove(),e=s}}setConnected(e){this._$AM===void 0&&(this._$Cv=e,this._$AP?.(e))}},Zm=class{get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}constructor(e,n,s,i,a){this.type=1,this._$AH=En,this._$AN=void 0,this.element=e,this.name=n,this._$AM=i,this.options=a,s.length>2||s[0]!==""||s[1]!==""?(this._$AH=Array(s.length-1).fill(new String),this.strings=s):this._$AH=En}_$AI(e,n=this,s,i){const a=this.strings;let c=!1;if(a===void 0)e=ef(this,e,n,0),c=!tp(e)||e!==this._$AH&&e!==Ju,c&&(this._$AH=e);else{const u=e;let f,h;for(e=a[0],f=0;f<a.length-1;f++)h=ef(this,u[s+f],n,f),h===Ju&&(h=this._$AH[f]),c||=!tp(h)||h!==this._$AH[f],h===En?e=En:e!==En&&(e+=(h??"")+a[f+1]),this._$AH[f]=h}c&&!i&&this.j(e)}j(e){e===En?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,e??"")}};class eae extends Zm{constructor(){super(...arguments),this.type=3}j(e){this.element[this.name]=e===En?void 0:e}}class tae extends Zm{constructor(){super(...arguments),this.type=4}j(e){this.element.toggleAttribute(this.name,!!e&&e!==En)}}class nae extends Zm{constructor(e,n,s,i,a){super(e,n,s,i,a),this.type=5}_$AI(e,n=this){if((e=ef(this,e,n,0)??En)===Ju)return;const s=this._$AH,i=e===En&&s!==En||e.capture!==s.capture||e.once!==s.once||e.passive!==s.passive,a=e!==En&&(s===En||i);i&&this.element.removeEventListener(this.name,this,s),a&&this.element.addEventListener(this.name,this,e),this._$AH=e}handleEvent(e){typeof this._$AH=="function"?this._$AH.call(this.options?.host??this.element,e):this._$AH.handleEvent(e)}}class sae{constructor(e,n,s){this.element=e,this.type=6,this._$AN=void 0,this._$AM=n,this.options=s}get _$AU(){return this._$AM._$AU}_$AI(e){ef(this,e)}}const iae=fA.litHtmlPolyfillSupport;iae?.(S2,hA),(fA.litHtmlVersions??=[]).push("3.3.1");const rae=(t,e,n)=>{const s=n?.renderBefore??e;let i=s._$litPart$;if(i===void 0){const a=n?.renderBefore??null;s._$litPart$=i=new hA(e.insertBefore(ep(),a),a,void 0,n??{})}return i._$AI(t),i};/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const pA=globalThis;class q0 extends Tu{constructor(){super(...arguments),this.renderOptions={host:this},this._$Do=void 0}createRenderRoot(){const e=super.createRenderRoot();return this.renderOptions.renderBefore??=e.firstChild,e}update(e){const n=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(e),this._$Do=rae(n,this.renderRoot,this.renderOptions)}connectedCallback(){super.connectedCallback(),this._$Do?.setConnected(!0)}disconnectedCallback(){super.disconnectedCallback(),this._$Do?.setConnected(!1)}render(){return Ju}}q0._$litElement$=!0,q0.finalized=!0,pA.litElementHydrateSupport?.({LitElement:q0});const oae=pA.litElementPolyfillSupport;oae?.({LitElement:q0});(pA.litElementVersions??=[]).push("4.2.1");let dh,$a,Ua;function Rle(t,e){dh=document.createElement("style"),$a=document.createElement("style"),Ua=document.createElement("style"),dh.textContent=Fu(t).core.cssText,$a.textContent=Fu(t).dark.cssText,Ua.textContent=Fu(t).light.cssText,document.head.appendChild(dh),document.head.appendChild($a),document.head.appendChild(Ua),LM(e)}function LM(t){$a&&Ua&&(t==="light"?($a.removeAttribute("media"),Ua.media="enabled"):(Ua.removeAttribute("media"),$a.media="enabled"))}function aae(t){dh&&$a&&Ua&&(dh.textContent=Fu(t).core.cssText,$a.textContent=Fu(t).dark.cssText,Ua.textContent=Fu(t).light.cssText)}function Fu(t){return{core:Hu`
      @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap');
      @keyframes w3m-shake {
        0% {
          transform: scale(1) rotate(0deg);
        }
        20% {
          transform: scale(1) rotate(-1deg);
        }
        40% {
          transform: scale(1) rotate(1.5deg);
        }
        60% {
          transform: scale(1) rotate(-1.5deg);
        }
        80% {
          transform: scale(1) rotate(1deg);
        }
        100% {
          transform: scale(1) rotate(0deg);
        }
      }
      @keyframes w3m-iframe-fade-out {
        0% {
          opacity: 1;
        }
        100% {
          opacity: 0;
        }
      }
      @keyframes w3m-iframe-zoom-in {
        0% {
          transform: translateY(50px);
          opacity: 0;
        }
        100% {
          transform: translateY(0px);
          opacity: 1;
        }
      }
      @keyframes w3m-iframe-zoom-in-mobile {
        0% {
          transform: scale(0.95);
          opacity: 0;
        }
        100% {
          transform: scale(1);
          opacity: 1;
        }
      }
      :root {
        --w3m-modal-width: 360px;
        --w3m-color-mix-strength: ${yi(t?.["--w3m-color-mix-strength"]?`${t["--w3m-color-mix-strength"]}%`:"0%")};
        --w3m-font-family: ${yi(t?.["--w3m-font-family"]||"Inter, Segoe UI, Roboto, Oxygen, Ubuntu, Cantarell, Fira Sans, Droid Sans, Helvetica Neue, sans-serif;")};
        --w3m-font-size-master: ${yi(t?.["--w3m-font-size-master"]||"10px")};
        --w3m-border-radius-master: ${yi(t?.["--w3m-border-radius-master"]||"4px")};
        --w3m-z-index: ${yi(t?.["--w3m-z-index"]||999)};

        --wui-font-family: var(--w3m-font-family);

        --wui-font-size-mini: calc(var(--w3m-font-size-master) * 0.8);
        --wui-font-size-micro: var(--w3m-font-size-master);
        --wui-font-size-tiny: calc(var(--w3m-font-size-master) * 1.2);
        --wui-font-size-small: calc(var(--w3m-font-size-master) * 1.4);
        --wui-font-size-paragraph: calc(var(--w3m-font-size-master) * 1.6);
        --wui-font-size-medium: calc(var(--w3m-font-size-master) * 1.8);
        --wui-font-size-large: calc(var(--w3m-font-size-master) * 2);
        --wui-font-size-title-6: calc(var(--w3m-font-size-master) * 2.2);
        --wui-font-size-medium-title: calc(var(--w3m-font-size-master) * 2.4);
        --wui-font-size-2xl: calc(var(--w3m-font-size-master) * 4);

        --wui-border-radius-5xs: var(--w3m-border-radius-master);
        --wui-border-radius-4xs: calc(var(--w3m-border-radius-master) * 1.5);
        --wui-border-radius-3xs: calc(var(--w3m-border-radius-master) * 2);
        --wui-border-radius-xxs: calc(var(--w3m-border-radius-master) * 3);
        --wui-border-radius-xs: calc(var(--w3m-border-radius-master) * 4);
        --wui-border-radius-s: calc(var(--w3m-border-radius-master) * 5);
        --wui-border-radius-m: calc(var(--w3m-border-radius-master) * 7);
        --wui-border-radius-l: calc(var(--w3m-border-radius-master) * 9);
        --wui-border-radius-3xl: calc(var(--w3m-border-radius-master) * 20);

        --wui-font-weight-light: 400;
        --wui-font-weight-regular: 500;
        --wui-font-weight-medium: 600;
        --wui-font-weight-bold: 700;

        --wui-letter-spacing-2xl: -1.6px;
        --wui-letter-spacing-medium-title: -0.96px;
        --wui-letter-spacing-title-6: -0.88px;
        --wui-letter-spacing-large: -0.8px;
        --wui-letter-spacing-medium: -0.72px;
        --wui-letter-spacing-paragraph: -0.64px;
        --wui-letter-spacing-small: -0.56px;
        --wui-letter-spacing-tiny: -0.48px;
        --wui-letter-spacing-micro: -0.2px;
        --wui-letter-spacing-mini: -0.16px;

        --wui-spacing-0: 0px;
        --wui-spacing-4xs: 2px;
        --wui-spacing-3xs: 4px;
        --wui-spacing-xxs: 6px;
        --wui-spacing-2xs: 7px;
        --wui-spacing-xs: 8px;
        --wui-spacing-1xs: 10px;
        --wui-spacing-s: 12px;
        --wui-spacing-m: 14px;
        --wui-spacing-l: 16px;
        --wui-spacing-2l: 18px;
        --wui-spacing-xl: 20px;
        --wui-spacing-xxl: 24px;
        --wui-spacing-2xl: 32px;
        --wui-spacing-3xl: 40px;
        --wui-spacing-4xl: 90px;
        --wui-spacing-5xl: 95px;

        --wui-icon-box-size-xxs: 14px;
        --wui-icon-box-size-xs: 20px;
        --wui-icon-box-size-sm: 24px;
        --wui-icon-box-size-md: 32px;
        --wui-icon-box-size-mdl: 36px;
        --wui-icon-box-size-lg: 40px;
        --wui-icon-box-size-2lg: 48px;
        --wui-icon-box-size-xl: 64px;

        --wui-icon-size-inherit: inherit;
        --wui-icon-size-xxs: 10px;
        --wui-icon-size-xs: 12px;
        --wui-icon-size-sm: 14px;
        --wui-icon-size-md: 16px;
        --wui-icon-size-mdl: 18px;
        --wui-icon-size-lg: 20px;
        --wui-icon-size-xl: 24px;
        --wui-icon-size-xxl: 28px;

        --wui-wallet-image-size-inherit: inherit;
        --wui-wallet-image-size-sm: 40px;
        --wui-wallet-image-size-md: 56px;
        --wui-wallet-image-size-lg: 80px;

        --wui-visual-size-size-inherit: inherit;
        --wui-visual-size-sm: 40px;
        --wui-visual-size-md: 55px;
        --wui-visual-size-lg: 80px;

        --wui-box-size-md: 100px;
        --wui-box-size-lg: 120px;

        --wui-ease-out-power-2: cubic-bezier(0, 0, 0.22, 1);
        --wui-ease-out-power-1: cubic-bezier(0, 0, 0.55, 1);

        --wui-ease-in-power-3: cubic-bezier(0.66, 0, 1, 1);
        --wui-ease-in-power-2: cubic-bezier(0.45, 0, 1, 1);
        --wui-ease-in-power-1: cubic-bezier(0.3, 0, 1, 1);

        --wui-ease-inout-power-1: cubic-bezier(0.45, 0, 0.55, 1);

        --wui-duration-lg: 200ms;
        --wui-duration-md: 125ms;
        --wui-duration-sm: 75ms;

        --wui-path-network-sm: path(
          'M15.4 2.1a5.21 5.21 0 0 1 5.2 0l11.61 6.7a5.21 5.21 0 0 1 2.61 4.52v13.4c0 1.87-1 3.59-2.6 4.52l-11.61 6.7c-1.62.93-3.6.93-5.22 0l-11.6-6.7a5.21 5.21 0 0 1-2.61-4.51v-13.4c0-1.87 1-3.6 2.6-4.52L15.4 2.1Z'
        );

        --wui-path-network-md: path(
          'M43.4605 10.7248L28.0485 1.61089C25.5438 0.129705 22.4562 0.129705 19.9515 1.61088L4.53951 10.7248C2.03626 12.2051 0.5 14.9365 0.5 17.886V36.1139C0.5 39.0635 2.03626 41.7949 4.53951 43.2752L19.9515 52.3891C22.4562 53.8703 25.5438 53.8703 28.0485 52.3891L43.4605 43.2752C45.9637 41.7949 47.5 39.0635 47.5 36.114V17.8861C47.5 14.9365 45.9637 12.2051 43.4605 10.7248Z'
        );

        --wui-path-network-lg: path(
          'M78.3244 18.926L50.1808 2.45078C45.7376 -0.150261 40.2624 -0.150262 35.8192 2.45078L7.6756 18.926C3.23322 21.5266 0.5 26.3301 0.5 31.5248V64.4752C0.5 69.6699 3.23322 74.4734 7.6756 77.074L35.8192 93.5492C40.2624 96.1503 45.7376 96.1503 50.1808 93.5492L78.3244 77.074C82.7668 74.4734 85.5 69.6699 85.5 64.4752V31.5248C85.5 26.3301 82.7668 21.5266 78.3244 18.926Z'
        );

        --wui-width-network-sm: 36px;
        --wui-width-network-md: 48px;
        --wui-width-network-lg: 86px;

        --wui-height-network-sm: 40px;
        --wui-height-network-md: 54px;
        --wui-height-network-lg: 96px;

        --wui-icon-size-network-xs: 12px;
        --wui-icon-size-network-sm: 16px;
        --wui-icon-size-network-md: 24px;
        --wui-icon-size-network-lg: 42px;

        --wui-color-inherit: inherit;

        --wui-color-inverse-100: #fff;
        --wui-color-inverse-000: #000;

        --wui-cover: rgba(20, 20, 20, 0.8);

        --wui-color-modal-bg: var(--wui-color-modal-bg-base);

        --wui-color-accent-100: var(--wui-color-accent-base-100);
        --wui-color-accent-090: var(--wui-color-accent-base-090);
        --wui-color-accent-080: var(--wui-color-accent-base-080);

        --wui-color-success-100: var(--wui-color-success-base-100);
        --wui-color-success-125: var(--wui-color-success-base-125);

        --wui-color-warning-100: var(--wui-color-warning-base-100);

        --wui-color-error-100: var(--wui-color-error-base-100);
        --wui-color-error-125: var(--wui-color-error-base-125);

        --wui-color-blue-100: var(--wui-color-blue-base-100);
        --wui-color-blue-90: var(--wui-color-blue-base-90);

        --wui-icon-box-bg-error-100: var(--wui-icon-box-bg-error-base-100);
        --wui-icon-box-bg-blue-100: var(--wui-icon-box-bg-blue-base-100);
        --wui-icon-box-bg-success-100: var(--wui-icon-box-bg-success-base-100);
        --wui-icon-box-bg-inverse-100: var(--wui-icon-box-bg-inverse-base-100);

        --wui-all-wallets-bg-100: var(--wui-all-wallets-bg-100);

        --wui-avatar-border: var(--wui-avatar-border-base);

        --wui-thumbnail-border: var(--wui-thumbnail-border-base);

        --wui-wallet-button-bg: var(--wui-wallet-button-bg-base);

        --wui-box-shadow-blue: var(--wui-color-accent-glass-020);
      }

      @supports (background: color-mix(in srgb, white 50%, black)) {
        :root {
          --wui-color-modal-bg: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-modal-bg-base)
          );

          --wui-box-shadow-blue: color-mix(in srgb, var(--wui-color-accent-100) 20%, transparent);

          --wui-color-accent-100: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 100%,
            transparent
          );
          --wui-color-accent-090: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 90%,
            transparent
          );
          --wui-color-accent-080: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 80%,
            transparent
          );
          --wui-color-accent-glass-090: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 90%,
            transparent
          );
          --wui-color-accent-glass-080: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 80%,
            transparent
          );
          --wui-color-accent-glass-020: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 20%,
            transparent
          );
          --wui-color-accent-glass-015: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 15%,
            transparent
          );
          --wui-color-accent-glass-010: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 10%,
            transparent
          );
          --wui-color-accent-glass-005: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 5%,
            transparent
          );
          --wui-color-accent-002: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 2%,
            transparent
          );

          --wui-color-fg-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-100)
          );
          --wui-color-fg-125: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-125)
          );
          --wui-color-fg-150: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-150)
          );
          --wui-color-fg-175: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-175)
          );
          --wui-color-fg-200: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-200)
          );
          --wui-color-fg-225: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-225)
          );
          --wui-color-fg-250: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-250)
          );
          --wui-color-fg-275: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-275)
          );
          --wui-color-fg-300: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-300)
          );
          --wui-color-fg-325: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-325)
          );
          --wui-color-fg-350: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-350)
          );

          --wui-color-bg-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-100)
          );
          --wui-color-bg-125: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-125)
          );
          --wui-color-bg-150: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-150)
          );
          --wui-color-bg-175: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-175)
          );
          --wui-color-bg-200: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-200)
          );
          --wui-color-bg-225: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-225)
          );
          --wui-color-bg-250: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-250)
          );
          --wui-color-bg-275: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-275)
          );
          --wui-color-bg-300: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-300)
          );
          --wui-color-bg-325: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-325)
          );
          --wui-color-bg-350: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-350)
          );

          --wui-color-success-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-success-base-100)
          );
          --wui-color-success-125: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-success-base-125)
          );

          --wui-color-warning-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-warning-base-100)
          );

          --wui-color-error-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-error-base-100)
          );
          --wui-color-blue-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-blue-base-100)
          );
          --wui-color-blue-90: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-blue-base-90)
          );
          --wui-color-error-125: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-error-base-125)
          );

          --wui-icon-box-bg-error-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-icon-box-bg-error-base-100)
          );
          --wui-icon-box-bg-accent-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-icon-box-bg-blue-base-100)
          );
          --wui-icon-box-bg-success-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-icon-box-bg-success-base-100)
          );
          --wui-icon-box-bg-inverse-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-icon-box-bg-inverse-base-100)
          );

          --wui-all-wallets-bg-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-all-wallets-bg-100)
          );

          --wui-avatar-border: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-avatar-border-base)
          );

          --wui-thumbnail-border: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-thumbnail-border-base)
          );

          --wui-wallet-button-bg: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-wallet-button-bg-base)
          );
        }
      }
    `,light:Hu`
      :root {
        --w3m-color-mix: ${yi(t?.["--w3m-color-mix"]||"#fff")};
        --w3m-accent: ${yi(Da(t,"dark")["--w3m-accent"])};
        --w3m-default: #fff;

        --wui-color-modal-bg-base: ${yi(Da(t,"dark")["--w3m-background"])};
        --wui-color-accent-base-100: var(--w3m-accent);

        --wui-color-blueberry-100: hsla(230, 100%, 67%, 1);
        --wui-color-blueberry-090: hsla(231, 76%, 61%, 1);
        --wui-color-blueberry-080: hsla(230, 59%, 55%, 1);
        --wui-color-blueberry-050: hsla(231, 100%, 70%, 0.1);

        --wui-color-fg-100: #e4e7e7;
        --wui-color-fg-125: #d0d5d5;
        --wui-color-fg-150: #a8b1b1;
        --wui-color-fg-175: #a8b0b0;
        --wui-color-fg-200: #949e9e;
        --wui-color-fg-225: #868f8f;
        --wui-color-fg-250: #788080;
        --wui-color-fg-275: #788181;
        --wui-color-fg-300: #6e7777;
        --wui-color-fg-325: #9a9a9a;
        --wui-color-fg-350: #363636;

        --wui-color-bg-100: #141414;
        --wui-color-bg-125: #191a1a;
        --wui-color-bg-150: #1e1f1f;
        --wui-color-bg-175: #222525;
        --wui-color-bg-200: #272a2a;
        --wui-color-bg-225: #2c3030;
        --wui-color-bg-250: #313535;
        --wui-color-bg-275: #363b3b;
        --wui-color-bg-300: #3b4040;
        --wui-color-bg-325: #252525;
        --wui-color-bg-350: #ffffff;

        --wui-color-success-base-100: #26d962;
        --wui-color-success-base-125: #30a46b;

        --wui-color-warning-base-100: #f3a13f;

        --wui-color-error-base-100: #f25a67;
        --wui-color-error-base-125: #df4a34;

        --wui-color-blue-base-100: rgba(102, 125, 255, 1);
        --wui-color-blue-base-90: rgba(102, 125, 255, 0.9);

        --wui-color-success-glass-001: rgba(38, 217, 98, 0.01);
        --wui-color-success-glass-002: rgba(38, 217, 98, 0.02);
        --wui-color-success-glass-005: rgba(38, 217, 98, 0.05);
        --wui-color-success-glass-010: rgba(38, 217, 98, 0.1);
        --wui-color-success-glass-015: rgba(38, 217, 98, 0.15);
        --wui-color-success-glass-020: rgba(38, 217, 98, 0.2);
        --wui-color-success-glass-025: rgba(38, 217, 98, 0.25);
        --wui-color-success-glass-030: rgba(38, 217, 98, 0.3);
        --wui-color-success-glass-060: rgba(38, 217, 98, 0.6);
        --wui-color-success-glass-080: rgba(38, 217, 98, 0.8);

        --wui-color-success-glass-reown-020: rgba(48, 164, 107, 0.2);

        --wui-color-warning-glass-reown-020: rgba(243, 161, 63, 0.2);

        --wui-color-error-glass-001: rgba(242, 90, 103, 0.01);
        --wui-color-error-glass-002: rgba(242, 90, 103, 0.02);
        --wui-color-error-glass-005: rgba(242, 90, 103, 0.05);
        --wui-color-error-glass-010: rgba(242, 90, 103, 0.1);
        --wui-color-error-glass-015: rgba(242, 90, 103, 0.15);
        --wui-color-error-glass-020: rgba(242, 90, 103, 0.2);
        --wui-color-error-glass-025: rgba(242, 90, 103, 0.25);
        --wui-color-error-glass-030: rgba(242, 90, 103, 0.3);
        --wui-color-error-glass-060: rgba(242, 90, 103, 0.6);
        --wui-color-error-glass-080: rgba(242, 90, 103, 0.8);

        --wui-color-error-glass-reown-020: rgba(223, 74, 52, 0.2);

        --wui-color-gray-glass-001: rgba(255, 255, 255, 0.01);
        --wui-color-gray-glass-002: rgba(255, 255, 255, 0.02);
        --wui-color-gray-glass-005: rgba(255, 255, 255, 0.05);
        --wui-color-gray-glass-010: rgba(255, 255, 255, 0.1);
        --wui-color-gray-glass-015: rgba(255, 255, 255, 0.15);
        --wui-color-gray-glass-020: rgba(255, 255, 255, 0.2);
        --wui-color-gray-glass-025: rgba(255, 255, 255, 0.25);
        --wui-color-gray-glass-030: rgba(255, 255, 255, 0.3);
        --wui-color-gray-glass-060: rgba(255, 255, 255, 0.6);
        --wui-color-gray-glass-080: rgba(255, 255, 255, 0.8);
        --wui-color-gray-glass-090: rgba(255, 255, 255, 0.9);

        --wui-color-dark-glass-100: rgba(42, 42, 42, 1);

        --wui-icon-box-bg-error-base-100: #3c2426;
        --wui-icon-box-bg-blue-base-100: #20303f;
        --wui-icon-box-bg-success-base-100: #1f3a28;
        --wui-icon-box-bg-inverse-base-100: #243240;

        --wui-all-wallets-bg-100: #222b35;

        --wui-avatar-border-base: #252525;

        --wui-thumbnail-border-base: #252525;

        --wui-wallet-button-bg-base: var(--wui-color-bg-125);

        --w3m-card-embedded-shadow-color: rgb(17 17 18 / 25%);
      }
    `,dark:Hu`
      :root {
        --w3m-color-mix: ${yi(t?.["--w3m-color-mix"]||"#000")};
        --w3m-accent: ${yi(Da(t,"light")["--w3m-accent"])};
        --w3m-default: #000;

        --wui-color-modal-bg-base: ${yi(Da(t,"light")["--w3m-background"])};
        --wui-color-accent-base-100: var(--w3m-accent);

        --wui-color-blueberry-100: hsla(231, 100%, 70%, 1);
        --wui-color-blueberry-090: hsla(231, 97%, 72%, 1);
        --wui-color-blueberry-080: hsla(231, 92%, 74%, 1);

        --wui-color-fg-100: #141414;
        --wui-color-fg-125: #2d3131;
        --wui-color-fg-150: #474d4d;
        --wui-color-fg-175: #636d6d;
        --wui-color-fg-200: #798686;
        --wui-color-fg-225: #828f8f;
        --wui-color-fg-250: #8b9797;
        --wui-color-fg-275: #95a0a0;
        --wui-color-fg-300: #9ea9a9;
        --wui-color-fg-325: #9a9a9a;
        --wui-color-fg-350: #d0d0d0;

        --wui-color-bg-100: #ffffff;
        --wui-color-bg-125: #f5fafa;
        --wui-color-bg-150: #f3f8f8;
        --wui-color-bg-175: #eef4f4;
        --wui-color-bg-200: #eaf1f1;
        --wui-color-bg-225: #e5eded;
        --wui-color-bg-250: #e1e9e9;
        --wui-color-bg-275: #dce7e7;
        --wui-color-bg-300: #d8e3e3;
        --wui-color-bg-325: #f3f3f3;
        --wui-color-bg-350: #202020;

        --wui-color-success-base-100: #26b562;
        --wui-color-success-base-125: #30a46b;

        --wui-color-warning-base-100: #f3a13f;

        --wui-color-error-base-100: #f05142;
        --wui-color-error-base-125: #df4a34;

        --wui-color-blue-base-100: rgba(102, 125, 255, 1);
        --wui-color-blue-base-90: rgba(102, 125, 255, 0.9);

        --wui-color-success-glass-001: rgba(38, 181, 98, 0.01);
        --wui-color-success-glass-002: rgba(38, 181, 98, 0.02);
        --wui-color-success-glass-005: rgba(38, 181, 98, 0.05);
        --wui-color-success-glass-010: rgba(38, 181, 98, 0.1);
        --wui-color-success-glass-015: rgba(38, 181, 98, 0.15);
        --wui-color-success-glass-020: rgba(38, 181, 98, 0.2);
        --wui-color-success-glass-025: rgba(38, 181, 98, 0.25);
        --wui-color-success-glass-030: rgba(38, 181, 98, 0.3);
        --wui-color-success-glass-060: rgba(38, 181, 98, 0.6);
        --wui-color-success-glass-080: rgba(38, 181, 98, 0.8);

        --wui-color-success-glass-reown-020: rgba(48, 164, 107, 0.2);

        --wui-color-warning-glass-reown-020: rgba(243, 161, 63, 0.2);

        --wui-color-error-glass-001: rgba(240, 81, 66, 0.01);
        --wui-color-error-glass-002: rgba(240, 81, 66, 0.02);
        --wui-color-error-glass-005: rgba(240, 81, 66, 0.05);
        --wui-color-error-glass-010: rgba(240, 81, 66, 0.1);
        --wui-color-error-glass-015: rgba(240, 81, 66, 0.15);
        --wui-color-error-glass-020: rgba(240, 81, 66, 0.2);
        --wui-color-error-glass-025: rgba(240, 81, 66, 0.25);
        --wui-color-error-glass-030: rgba(240, 81, 66, 0.3);
        --wui-color-error-glass-060: rgba(240, 81, 66, 0.6);
        --wui-color-error-glass-080: rgba(240, 81, 66, 0.8);

        --wui-color-error-glass-reown-020: rgba(223, 74, 52, 0.2);

        --wui-icon-box-bg-error-base-100: #f4dfdd;
        --wui-icon-box-bg-blue-base-100: #d9ecfb;
        --wui-icon-box-bg-success-base-100: #daf0e4;
        --wui-icon-box-bg-inverse-base-100: #dcecfc;

        --wui-all-wallets-bg-100: #e8f1fa;

        --wui-avatar-border-base: #f3f4f4;

        --wui-thumbnail-border-base: #eaefef;

        --wui-wallet-button-bg-base: var(--wui-color-bg-125);

        --wui-color-gray-glass-001: rgba(0, 0, 0, 0.01);
        --wui-color-gray-glass-002: rgba(0, 0, 0, 0.02);
        --wui-color-gray-glass-005: rgba(0, 0, 0, 0.05);
        --wui-color-gray-glass-010: rgba(0, 0, 0, 0.1);
        --wui-color-gray-glass-015: rgba(0, 0, 0, 0.15);
        --wui-color-gray-glass-020: rgba(0, 0, 0, 0.2);
        --wui-color-gray-glass-025: rgba(0, 0, 0, 0.25);
        --wui-color-gray-glass-030: rgba(0, 0, 0, 0.3);
        --wui-color-gray-glass-060: rgba(0, 0, 0, 0.6);
        --wui-color-gray-glass-080: rgba(0, 0, 0, 0.8);
        --wui-color-gray-glass-090: rgba(0, 0, 0, 0.9);

        --wui-color-dark-glass-100: rgba(233, 233, 233, 1);

        --w3m-card-embedded-shadow-color: rgb(224 225 233 / 25%);
      }
    `}}const $le=Hu`
  *,
  *::after,
  *::before,
  :host {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
    font-style: normal;
    text-rendering: optimizeSpeed;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    -webkit-tap-highlight-color: transparent;
    font-family: var(--wui-font-family);
    backface-visibility: hidden;
  }
`,Ule=Hu`
  button,
  a {
    cursor: pointer;
    display: flex;
    justify-content: center;
    align-items: center;
    position: relative;
    transition:
      color var(--wui-duration-lg) var(--wui-ease-out-power-1),
      background-color var(--wui-duration-lg) var(--wui-ease-out-power-1),
      border var(--wui-duration-lg) var(--wui-ease-out-power-1),
      border-radius var(--wui-duration-lg) var(--wui-ease-out-power-1),
      box-shadow var(--wui-duration-lg) var(--wui-ease-out-power-1);
    will-change: background-color, color, border, box-shadow, border-radius;
    outline: none;
    border: none;
    column-gap: var(--wui-spacing-3xs);
    background-color: transparent;
    text-decoration: none;
  }

  wui-flex {
    transition: border-radius var(--wui-duration-lg) var(--wui-ease-out-power-1);
    will-change: border-radius;
  }

  button:disabled > wui-wallet-image,
  button:disabled > wui-all-wallets-image,
  button:disabled > wui-network-image,
  button:disabled > wui-image,
  button:disabled > wui-transaction-visual,
  button:disabled > wui-logo {
    filter: grayscale(1);
  }

  @media (hover: hover) and (pointer: fine) {
    button:hover:enabled {
      background-color: var(--wui-color-gray-glass-005);
    }

    button:active:enabled {
      background-color: var(--wui-color-gray-glass-010);
    }
  }

  button:disabled > wui-icon-box {
    opacity: 0.5;
  }

  input {
    border: none;
    outline: none;
    appearance: none;
  }
`,Ple=Hu`
  .wui-color-inherit {
    color: var(--wui-color-inherit);
  }

  .wui-color-accent-100 {
    color: var(--wui-color-accent-100);
  }

  .wui-color-error-100 {
    color: var(--wui-color-error-100);
  }

  .wui-color-blue-100 {
    color: var(--wui-color-blue-100);
  }

  .wui-color-blue-90 {
    color: var(--wui-color-blue-90);
  }

  .wui-color-error-125 {
    color: var(--wui-color-error-125);
  }

  .wui-color-success-100 {
    color: var(--wui-color-success-100);
  }

  .wui-color-success-125 {
    color: var(--wui-color-success-125);
  }

  .wui-color-inverse-100 {
    color: var(--wui-color-inverse-100);
  }

  .wui-color-inverse-000 {
    color: var(--wui-color-inverse-000);
  }

  .wui-color-fg-100 {
    color: var(--wui-color-fg-100);
  }

  .wui-color-fg-200 {
    color: var(--wui-color-fg-200);
  }

  .wui-color-fg-300 {
    color: var(--wui-color-fg-300);
  }

  .wui-color-fg-325 {
    color: var(--wui-color-fg-325);
  }

  .wui-color-fg-350 {
    color: var(--wui-color-fg-350);
  }

  .wui-bg-color-inherit {
    background-color: var(--wui-color-inherit);
  }

  .wui-bg-color-blue-100 {
    background-color: var(--wui-color-accent-100);
  }

  .wui-bg-color-error-100 {
    background-color: var(--wui-color-error-100);
  }

  .wui-bg-color-error-125 {
    background-color: var(--wui-color-error-125);
  }

  .wui-bg-color-success-100 {
    background-color: var(--wui-color-success-100);
  }

  .wui-bg-color-success-125 {
    background-color: var(--wui-color-success-100);
  }

  .wui-bg-color-inverse-100 {
    background-color: var(--wui-color-inverse-100);
  }

  .wui-bg-color-inverse-000 {
    background-color: var(--wui-color-inverse-000);
  }

  .wui-bg-color-fg-100 {
    background-color: var(--wui-color-fg-100);
  }

  .wui-bg-color-fg-200 {
    background-color: var(--wui-color-fg-200);
  }

  .wui-bg-color-fg-300 {
    background-color: var(--wui-color-fg-300);
  }

  .wui-color-fg-325 {
    background-color: var(--wui-color-fg-325);
  }

  .wui-color-fg-350 {
    background-color: var(--wui-color-fg-350);
  }
`,V0={hexStringToNumber(t){const e=t.startsWith("0x")?t.slice(2):t;return parseInt(e,16)},numberToHexString(t){return`0x${t.toString(16)}`},async getUserInfo(t){const[e,n]=await Promise.all([V0.getAddresses(t),V0.getChainId(t)]);return{chainId:n,addresses:e}},async getChainId(t){const e=await t.request({method:"eth_chainId"});return Number(e)},async getAddress(t){const[e]=await t.request({method:"eth_accounts"});return e},async getAddresses(t){return await t.request({method:"eth_accounts"})},async addEthereumChain(t,e){const n=e.rpcUrls.chainDefault?.http||[];await t.request({method:"wallet_addEthereumChain",params:[{chainId:V0.numberToHexString(e.id),rpcUrls:[...n],chainName:e.name,nativeCurrency:{name:e.nativeCurrency.name,decimals:e.nativeCurrency.decimals,symbol:e.nativeCurrency.symbol},blockExplorerUrls:[e.blockExplorers?.default.url],iconUrls:[Jh.NetworkImageIds[e.id]]}]})}},Au={ACCOUNT_INDEXES:{PAYMENT:0,ORDINAL:1}};function xp(t){return{formatters:void 0,fees:void 0,serializers:void 0,...t}}const q5=xp({id:"5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp",name:"Solana",network:"solana-mainnet",nativeCurrency:{name:"Solana",symbol:"SOL",decimals:9},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}},blockExplorers:{default:{name:"Solscan",url:"https://solscan.io"}},testnet:!1,chainNamespace:"solana",caipNetworkId:"solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp",deprecatedCaipNetworkId:"solana:4sGjMW1sUnHzSxGspuhpqLDx6wiyjNtZ"}),V5=xp({id:"EtWTRABZaYq6iMfeYKouRu166VU2xqa1",name:"Solana Devnet",network:"solana-devnet",nativeCurrency:{name:"Solana",symbol:"SOL",decimals:9},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}},blockExplorers:{default:{name:"Solscan",url:"https://solscan.io"}},testnet:!0,chainNamespace:"solana",caipNetworkId:"solana:EtWTRABZaYq6iMfeYKouRu166VU2xqa1",deprecatedCaipNetworkId:"solana:8E9rvCKLFQia2Y35HXjjpWzj8weVo44K"});xp({id:"4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z",name:"Solana Testnet",network:"solana-testnet",nativeCurrency:{name:"Solana",symbol:"SOL",decimals:9},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}},blockExplorers:{default:{name:"Solscan",url:"https://solscan.io"}},testnet:!0,chainNamespace:"solana",caipNetworkId:"solana:4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z"});const kM=xp({id:"000000000019d6689c085ae165831e93",caipNetworkId:"bip122:000000000019d6689c085ae165831e93",chainNamespace:"bip122",name:"Bitcoin",nativeCurrency:{name:"Bitcoin",symbol:"BTC",decimals:8},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}}});xp({id:"000000000933ea01ad0ee984209779ba",caipNetworkId:"bip122:000000000933ea01ad0ee984209779ba",chainNamespace:"bip122",name:"Bitcoin Testnet",nativeCurrency:{name:"Bitcoin",symbol:"BTC",decimals:8},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}},testnet:!0});const cae={solana:["solana_signMessage","solana_signTransaction","solana_requestAccounts","solana_getAccounts","solana_signAllTransactions","solana_signAndSendTransaction"],eip155:["eth_accounts","eth_requestAccounts","eth_sendRawTransaction","eth_sign","eth_signTransaction","eth_signTypedData","eth_signTypedData_v3","eth_signTypedData_v4","eth_sendTransaction","personal_sign","wallet_switchEthereumChain","wallet_addEthereumChain","wallet_getPermissions","wallet_requestPermissions","wallet_registerOnboarding","wallet_watchAsset","wallet_scanQRCode","wallet_getCallsStatus","wallet_showCallsStatus","wallet_sendCalls","wallet_getCapabilities","wallet_grantPermissions","wallet_revokePermissions","wallet_getAssets"],bip122:["sendTransfer","signMessage","signPsbt","getAccountAddresses"]},vo={getMethodsByChainNamespace(t){return cae[t]||[]},createDefaultNamespace(t){return{methods:this.getMethodsByChainNamespace(t),events:["accountsChanged","chainChanged"],chains:[],rpcMap:{}}},applyNamespaceOverrides(t,e){if(!e)return{...t};const n={...t},s=new Set;if(e.methods&&Object.keys(e.methods).forEach(i=>s.add(i)),e.chains&&Object.keys(e.chains).forEach(i=>s.add(i)),e.events&&Object.keys(e.events).forEach(i=>s.add(i)),e.rpcMap&&Object.keys(e.rpcMap).forEach(i=>{const[a]=i.split(":");a&&s.add(a)}),s.forEach(i=>{n[i]||(n[i]=this.createDefaultNamespace(i))}),e.methods&&Object.entries(e.methods).forEach(([i,a])=>{n[i]&&(n[i].methods=a)}),e.chains&&Object.entries(e.chains).forEach(([i,a])=>{n[i]&&(n[i].chains=a)}),e.events&&Object.entries(e.events).forEach(([i,a])=>{n[i]&&(n[i].events=a)}),e.rpcMap){const i=new Set;Object.entries(e.rpcMap).forEach(([a,c])=>{const[u,f]=a.split(":");!u||!f||!n[u]||(n[u].rpcMap||(n[u].rpcMap={}),i.has(u)||(n[u].rpcMap={},i.add(u)),n[u].rpcMap[f]=c)})}return n},createNamespaces(t,e){const n=t.reduce((s,i)=>{const{id:a,chainNamespace:c,rpcUrls:u}=i,f=u.default.http[0];s[c]||(s[c]=this.createDefaultNamespace(c));const h=`${c}:${a}`,p=s[c];switch(p.chains.push(h),h){case q5.caipNetworkId:p.chains.push(q5.deprecatedCaipNetworkId);break;case V5.caipNetworkId:p.chains.push(V5.deprecatedCaipNetworkId);break}return p?.rpcMap&&f&&(p.rpcMap[a]=f),s},{});return this.applyNamespaceOverrides(n,e)},resolveReownName:async t=>{const e=await uh.resolveName(t);return(Object.values(e?.addresses)||[])[0]?.address||!1},getChainsFromNamespaces(t={}){return Object.values(t).flatMap(e=>{const n=e.chains||[],s=e.accounts.map(i=>{const[a,c]=i.split(":");return`${a}:${c}`});return Array.from(new Set([...n,...s]))})},isSessionEventData(t){return typeof t=="object"&&t!==null&&"id"in t&&"topic"in t&&"params"in t&&typeof t.params=="object"&&t.params!==null&&"chainId"in t.params&&"event"in t.params&&typeof t.params.event=="object"&&t.params.event!==null},isOriginAllowed(t,e,n){for(const s of[...e,...n])if(s.includes("*")){const a=`^${s.replace(/[.*+?^${}()|[\]\\]/gu,"\\$&").replace(/\\\*/gu,".*")}$`;if(new RegExp(a,"u").test(t))return!0}else try{if(new URL(s).origin===t)return!0}catch{if(s===t)return!0}return!1},listenWcProvider({universalProvider:t,namespace:e,onConnect:n,onDisconnect:s,onAccountsChanged:i,onChainChanged:a,onDisplayUri:c}){n&&t.on("connect",()=>{const u=vo.getWalletConnectAccounts(t,e);n(u)}),s&&t.on("disconnect",()=>{s()}),i&&t.on("session_event",u=>{if(vo.isSessionEventData(u)){const{name:f,data:h}=u.params.event;if(f==="accountsChanged"&&Array.isArray(h)){const p=h.filter(g=>Oe.isCaipAddress(g)).map(g=>Ks.parseCaipAddress(g)).filter(g=>g.chainNamespace===e);i(p)}}}),a&&t.on("chainChanged",u=>{a(u)}),c&&t.on("display_uri",u=>{c(u)})},getWalletConnectAccounts(t,e){const n=new Set,s=t?.session?.namespaces?.[e]?.accounts?.map(i=>Ks.parseCaipAddress(i)).filter(({address:i})=>n.has(i.toLowerCase())?!1:(n.add(i.toLowerCase()),!0));return s&&s.length>0?s:[]}};class lae{constructor(e){this.namespace=e.namespace}async syncConnections(e){switch(this.namespace){case de.CHAIN.EVM:await this.syncEVMConnections(e);break;case de.CHAIN.SOLANA:await this.syncSolanaConnections(e);break;case de.CHAIN.BITCOIN:await this.syncBitcoinConnections(e);break;default:throw new Error(`Unsupported chain namespace: ${this.namespace}`)}}async syncEVMConnections({connectors:e,caipNetworks:n,universalProvider:s,getConnectionStatusInfo:i,onConnection:a,onListenProvider:c}){await Promise.all(e.filter(u=>{const{hasDisconnected:f,hasConnected:h}=i(u.id);return!f&&h}).map(async u=>{if(u.id===de.CONNECTOR_ID.WALLET_CONNECT){const f=vo.getWalletConnectAccounts(s,this.namespace),h=n.find(p=>p.chainNamespace===this.namespace&&p.id.toString()===f[0]?.chainId?.toString());f.length>0&&a({connectorId:u.id,accounts:f.map(p=>({address:p.address})),caipNetwork:h})}else{const{accounts:f,chainId:h}=await H0.fetchProviderData(u);if(f.length>0&&h){const p=n.find(g=>g.chainNamespace===this.namespace&&g.id.toString()===h.toString());a({connectorId:u.id,accounts:f.map(g=>({address:g})),caipNetwork:p}),u.provider&&u.id!==de.CONNECTOR_ID.AUTH&&u.id!==de.CONNECTOR_ID.WALLET_CONNECT&&c(u.id,u.provider)}}}))}async syncSolanaConnections({connectors:e,caipNetwork:n,universalProvider:s,getConnectionStatusInfo:i,onConnection:a,onListenProvider:c}){await Promise.all(e.filter(u=>{const{hasDisconnected:f,hasConnected:h}=i(u.id);return!f&&h}).map(async u=>{if(u.id===de.CONNECTOR_ID.WALLET_CONNECT){const f=vo.getWalletConnectAccounts(s,this.namespace);f.length>0&&a({connectorId:u.id,accounts:f.map(h=>({address:h.address})),caipNetwork:n})}else{const f=await u.connect({chainId:n?.id});f&&(a({connectorId:u.id,accounts:[{address:f}],caipNetwork:n}),c(u.id,u.provider))}}))}async syncBitcoinConnections({connectors:e,caipNetwork:n,universalProvider:s,getConnectionStatusInfo:i,onConnection:a,onListenProvider:c}){await Promise.all(e.filter(u=>{const{hasDisconnected:f,hasConnected:h}=i(u.id);return!f&&h}).map(async u=>{if(u.id===de.CONNECTOR_ID.WALLET_CONNECT){const y=vo.getWalletConnectAccounts(s,this.namespace);y.length>0&&a({connectorId:u.id,accounts:y.map(b=>({address:b.address})),caipNetwork:n});return}const f=await u.connect();let p=(await u.getAccountAddresses())?.map(y=>Oe.createAccount(de.CHAIN.BITCOIN,y.address,y.purpose||"payment",y.publicKey,y.path));if(p&&p.length>1&&(p=[{namespace:de.CHAIN.BITCOIN,publicKey:p[Au.ACCOUNT_INDEXES.PAYMENT]?.publicKey??"",path:p[Au.ACCOUNT_INDEXES.PAYMENT]?.path??"",address:p[Au.ACCOUNT_INDEXES.PAYMENT]?.address??"",type:"payment"},{namespace:de.CHAIN.BITCOIN,publicKey:p[Au.ACCOUNT_INDEXES.ORDINAL]?.publicKey??"",path:p[Au.ACCOUNT_INDEXES.ORDINAL]?.path??"",address:p[Au.ACCOUNT_INDEXES.ORDINAL]?.address??"",type:"ordinal"}]),!(u.chains.find(y=>y.id===n?.id)||u.chains[0]))throw new Error("The connector does not support any of the requested chains");f&&(c(u.id,u.provider),a({connectorId:u.id,accounts:p.map(y=>({address:y.address,type:y.type})),caipNetwork:n}))}))}getConnection({address:e,connectorId:n,connections:s,connectors:i}){if(n){const c=s.find(h=>Gs.isLowerCaseMatch(h.connectorId,n));if(!c)return null;const u=i.find(h=>Gs.isLowerCaseMatch(h.id,c.connectorId)),f=e?c.accounts.find(h=>Gs.isLowerCaseMatch(h.address,e)):c.accounts[0];return{...c,account:f,connector:u}}const a=s.find(c=>c.accounts.length>0&&i.some(u=>Gs.isLowerCaseMatch(u.id,c.connectorId)));if(a){const[c]=a.accounts,u=i.find(f=>Gs.isLowerCaseMatch(f.id,a.connectorId));return{...a,account:c,connector:u}}return null}}const Vd={ERROR_CODE_UNRECOGNIZED_CHAIN_ID:4902,ERROR_CODE_DEFAULT:5e3,ERROR_INVALID_CHAIN_ID:32603,DEFAULT_ALLOWED_ANCESTORS:["http://localhost:*","https://localhost:*","http://127.0.0.1:*","https://127.0.0.1:*","https://*.pages.dev","https://*.vercel.app","https://*.ngrok-free.app","https://secure-mobile.walletconnect.com","https://secure-mobile.walletconnect.org"]};class BM{constructor({provider:e,namespace:n}){this.id=de.CONNECTOR_ID.WALLET_CONNECT,this.name=Jh.ConnectorNamesMap[de.CONNECTOR_ID.WALLET_CONNECT],this.type="WALLET_CONNECT",this.imageId=Jh.ConnectorImageIds[de.CONNECTOR_ID.WALLET_CONNECT],this.getCaipNetworks=B.getCaipNetworks.bind(B),this.caipNetworks=this.getCaipNetworks(),this.provider=e,this.chain=n}get chains(){return this.getCaipNetworks()}async connectWalletConnect(){if(!await this.authenticate()){const n=this.getCaipNetworks(),s=fe.state.universalProviderConfigOverride,i=vo.createNamespaces(n,s);await this.provider.connect({optionalNamespaces:i})}return{clientId:await this.provider.client.core.crypto.getClientId(),session:this.provider.session}}async disconnect(){await this.provider.disconnect()}async authenticate(){const e=this.chains.map(n=>n.caipNetworkId);return Er.universalProviderAuthenticate({universalProvider:this.provider,chains:e,methods:uae})}}const uae=["eth_accounts","eth_requestAccounts","eth_sendRawTransaction","eth_sign","eth_signTransaction","eth_signTypedData","eth_signTypedData_v3","eth_signTypedData_v4","eth_sendTransaction","personal_sign","wallet_switchEthereumChain","wallet_addEthereumChain","wallet_getPermissions","wallet_requestPermissions","wallet_registerOnboarding","wallet_watchAsset","wallet_scanQRCode","wallet_getCallsStatus","wallet_sendCalls","wallet_getCapabilities","wallet_grantPermissions","wallet_revokePermissions","wallet_getAssets"],fae=[de.CONNECTOR_ID.AUTH,de.CONNECTOR_ID.WALLET_CONNECT];class dae{constructor(e){this.availableConnectors=[],this.availableConnections=[],this.providerHandlers={},this.eventListeners=new Map,this.getCaipNetworks=n=>B.getCaipNetworks(n),this.getConnectorId=n=>be.getConnectorId(n),e&&this.construct(e),e?.namespace&&(this.connectionManager=new lae({namespace:e.namespace}))}construct(e){this.projectId=e.projectId,this.namespace=e.namespace,this.adapterType=e.adapterType}get connectors(){return this.availableConnectors}get connections(){return this.availableConnections}get networks(){return this.getCaipNetworks(this.namespace)}onAuthConnected({accounts:e,chainId:n}){const s=this.getCaipNetworks().filter(i=>i.chainNamespace===this.namespace).find(i=>i.id.toString()===n?.toString());e&&s&&this.addConnection({connectorId:de.CONNECTOR_ID.AUTH,accounts:e,caipNetwork:s})}setAuthProvider(e){e.onConnect(this.onAuthConnected.bind(this)),e.onSocialConnected(this.onAuthConnected.bind(this)),this.addConnector({id:de.CONNECTOR_ID.AUTH,type:"AUTH",name:de.CONNECTOR_NAMES.AUTH,provider:e,imageId:Jh.ConnectorImageIds[de.CONNECTOR_ID.AUTH],chain:this.namespace,chains:[]})}addConnector(...e){const n=new Set;this.availableConnectors=[...e,...this.availableConnectors].filter(s=>n.has(s.id)?!1:(n.add(s.id),!0)),this.emit("connectors",this.availableConnectors)}addConnection(...e){const n=new Set;this.availableConnections=[...e,...this.availableConnections].filter(s=>n.has(s.connectorId.toLowerCase())?!1:(n.add(s.connectorId.toLowerCase()),!0)),this.emit("connections",this.availableConnections)}deleteConnection(e){this.availableConnections=this.availableConnections.filter(n=>!Gs.isLowerCaseMatch(n.connectorId,e)),this.emit("connections",this.availableConnections)}clearConnections(e=!1){this.availableConnections=[],e&&this.emit("connections",this.availableConnections)}setStatus(e,n){De.setStatus(e,n)}on(e,n){this.eventListeners.has(e)||this.eventListeners.set(e,new Set),this.eventListeners.get(e)?.add(n)}off(e,n){const s=this.eventListeners.get(e);s&&s.delete(n)}removeAllEventListeners(){this.eventListeners.forEach(e=>{e.clear()})}emit(e,n){const s=this.eventListeners.get(e);s&&s.forEach(i=>i(n))}async connectWalletConnect(e){return{clientId:(await this.getWalletConnectConnector().connectWalletConnect()).clientId}}async switchNetwork(e){const{caipNetwork:n,providerType:s}=e;if(!e.provider)return;const i="provider"in e.provider?e.provider.provider:e.provider;if(s==="WALLET_CONNECT"){i.setDefaultChain(n.caipNetworkId);return}if(i&&s==="AUTH"){const a=i,c=Or(n.chainNamespace);await a.switchNetwork({chainId:n.caipNetworkId});const u=await a.getUser({chainId:n.caipNetworkId,preferredAccountType:c});this.emit("switchNetwork",u)}}getWalletConnectConnector(){const e=this.connectors.find(n=>n instanceof BM);if(!e)throw new Error("WalletConnectConnector not found");return e}onConnect(e,n){if(e.length>0){const{address:s,chainId:i}=Oe.getAccount(e[0]),a=this.getCaipNetworks().filter(u=>u.chainNamespace===this.namespace).find(u=>u.id.toString()===i?.toString()),c=this.connectors.find(u=>u.id===n);s&&(this.emit("accountChanged",{address:s,chainId:i,connector:c}),this.addConnection({connectorId:n,accounts:e.map(u=>{const{address:f}=Oe.getAccount(u);return{address:f}}),caipNetwork:a}))}}onAccountsChanged(e,n,s=!0){if(e.length>0){const{address:i}=Oe.getAccount(e[0]),a=this.connectionManager?.getConnection({connectorId:n,connections:this.connections,connectors:this.connectors});i&&Gs.isLowerCaseMatch(this.getConnectorId(de.CHAIN.EVM),n)&&this.emit("accountChanged",{address:i,chainId:a?.caipNetwork?.id,connector:a?.connector}),this.addConnection({connectorId:n,accounts:e.map(c=>{const{address:u}=Oe.getAccount(c);return{address:u}}),caipNetwork:a?.caipNetwork})}else s&&this.onDisconnect(n)}onDisconnect(e){this.removeProviderListeners(e),this.deleteConnection(e),Gs.isLowerCaseMatch(this.getConnectorId(de.CHAIN.EVM),e)&&this.emitFirstAvailableConnection(),this.connections.length===0&&this.emit("disconnect")}onChainChanged(e,n){const s=typeof e=="string"&&e.startsWith("0x")?V0.hexStringToNumber(e).toString():e.toString(),i=this.connectionManager?.getConnection({connectorId:n,connections:this.connections,connectors:this.connectors}),a=this.getCaipNetworks().filter(c=>c.chainNamespace===this.namespace).find(c=>c.id.toString()===s);i&&this.addConnection({connectorId:n,accounts:i.accounts,caipNetwork:a}),Gs.isLowerCaseMatch(this.getConnectorId(de.CHAIN.EVM),n)&&this.emit("switchNetwork",{chainId:s})}listenProviderEvents(e,n){if(fae.includes(e))return;const s=c=>this.onAccountsChanged(c,e),i=c=>this.onChainChanged(c,e),a=()=>this.onDisconnect(e);this.providerHandlers[e]||(n.on("disconnect",a),n.on("accountsChanged",s),n.on("chainChanged",i),this.providerHandlers[e]={provider:n,disconnect:a,accountsChanged:s,chainChanged:i})}removeProviderListeners(e){if(this.providerHandlers[e]){const{provider:n,disconnect:s,accountsChanged:i,chainChanged:a}=this.providerHandlers[e];n.removeListener("disconnect",s),n.removeListener("accountsChanged",i),n.removeListener("chainChanged",a),this.providerHandlers[e]=null}}emitFirstAvailableConnection(){const e=this.connectionManager?.getConnection({connections:this.connections,connectors:this.connectors});if(e){const[n]=e.accounts;this.emit("accountChanged",{address:n?.address,chainId:e.caipNetwork?.id,connector:e.connector})}}}class hae extends dae{async setUniversalProvider(e){if(!this.namespace)throw new Error("UniversalAdapter:setUniversalProvider - namespace is required");return this.addConnector(new BM({provider:e,caipNetworks:this.getCaipNetworks(),namespace:this.namespace})),Promise.resolve()}async connect(e){return Promise.resolve({id:"WALLET_CONNECT",type:"WALLET_CONNECT",chainId:Number(e.chainId),provider:this.provider,address:""})}async disconnect(){try{await this.getWalletConnectConnector().disconnect(),this.emit("disconnect")}catch(e){console.warn("UniversalAdapter:disconnect - error",e)}return{connections:[]}}syncConnections(){return Promise.resolve()}async getAccounts({namespace:e}){const s=this.provider?.session?.namespaces?.[e]?.accounts?.map(i=>{const[,,a]=i.split(":");return a}).filter((i,a,c)=>c.indexOf(i)===a)||[];return Promise.resolve({accounts:s.map(i=>Oe.createAccount(e,i,e==="bip122"?"payment":"eoa"))})}async syncConnectors(){return Promise.resolve()}async getBalance(e){if(!(e.caipNetwork&&gt.BALANCE_SUPPORTED_CHAINS.includes(e.caipNetwork?.chainNamespace))||e.caipNetwork?.testnet)return{balance:"0.00",symbol:e.caipNetwork?.nativeCurrency.symbol||""};if(De.state.balanceLoading&&e.chainId===B.state.activeCaipNetwork?.id)return{balance:De.state.balance||"0.00",symbol:De.state.balanceSymbol||""};const i=(await De.fetchTokenBalance()).find(a=>a.chainId===`${e.caipNetwork?.chainNamespace}:${e.chainId}`&&a.symbol===e.caipNetwork?.nativeCurrency.symbol);return{balance:i?.quantity.numeric||"0.00",symbol:i?.symbol||e.caipNetwork?.nativeCurrency.symbol||""}}async signMessage(e){const{provider:n,message:s,address:i}=e;if(!n)throw new Error("UniversalAdapter:signMessage - provider is undefined");let a="";return B.state.activeCaipNetwork?.chainNamespace===de.CHAIN.SOLANA?a=(await n.request({method:"solana_signMessage",params:{message:ff.encode(new TextEncoder().encode(s)),pubkey:i}},B.state.activeCaipNetwork?.caipNetworkId)).signature:a=await n.request({method:"personal_sign",params:[s,i]},B.state.activeCaipNetwork?.caipNetworkId),{signature:a}}async estimateGas(){return Promise.resolve({gas:BigInt(0)})}async sendTransaction(){return Promise.resolve({hash:""})}walletGetAssets(e){return Promise.resolve({})}async writeContract(){return Promise.resolve({hash:""})}emitFirstAvailableConnection(){}parseUnits(){return 0n}formatUnits(){return"0"}async getCapabilities(){return Promise.resolve({})}async grantPermissions(){return Promise.resolve({})}async revokePermissions(){return Promise.resolve("0x")}async syncConnection(){return Promise.resolve({id:"WALLET_CONNECT",type:"WALLET_CONNECT",chainId:1,provider:this.provider,address:""})}async switchNetwork(e){const{caipNetwork:n}=e,s=this.getWalletConnectConnector();if(n.chainNamespace===de.CHAIN.EVM)try{await s.provider?.request({method:"wallet_switchEthereumChain",params:[{chainId:_5(n.id)}]})}catch(i){if(i.code===Vd.ERROR_CODE_UNRECOGNIZED_CHAIN_ID||i.code===Vd.ERROR_INVALID_CHAIN_ID||i.code===Vd.ERROR_CODE_DEFAULT||i?.data?.originalError?.code===Vd.ERROR_CODE_UNRECOGNIZED_CHAIN_ID)try{await s.provider?.request({method:"wallet_addEthereumChain",params:[{chainId:_5(n.id),rpcUrls:[n?.rpcUrls.chainDefault?.http],chainName:n.name,nativeCurrency:n.nativeCurrency,blockExplorerUrls:[n.blockExplorers?.default.url]}]})}catch{throw new Error("Chain is not supported")}}s.provider.setDefaultChain(n.caipNetworkId)}getWalletConnectProvider(){return this.connectors.find(s=>s.type==="WALLET_CONNECT")?.provider}}const pae=["email","socials","swaps","onramp","activity","reownBranding","multiWallet","emailCapture"],N0={email:{apiFeatureName:"social_login",localFeatureName:"email",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:t=>{if(!t?.config)return!1;const e=t.config;return!!t.isEnabled&&e.includes("email")},processFallback:t=>t===void 0?gt.DEFAULT_REMOTE_FEATURES.email:!!t},socials:{apiFeatureName:"social_login",localFeatureName:"socials",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:t=>{if(!t?.config)return!1;const e=t.config;return t.isEnabled&&e.length>0?e.filter(n=>n!=="email"):!1},processFallback:t=>t===void 0?gt.DEFAULT_REMOTE_FEATURES.socials:typeof t=="boolean"?t?gt.DEFAULT_REMOTE_FEATURES.socials:!1:t},swaps:{apiFeatureName:"swap",localFeatureName:"swaps",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:t=>{if(!t?.config)return!1;const e=t.config;return t.isEnabled&&e.length>0?e:!1},processFallback:t=>t===void 0?gt.DEFAULT_REMOTE_FEATURES.swaps:typeof t=="boolean"?t?gt.DEFAULT_REMOTE_FEATURES.swaps:!1:t},onramp:{apiFeatureName:"onramp",localFeatureName:"onramp",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:t=>{if(!t?.config)return!1;const e=t.config;return t.isEnabled&&e.length>0?e:!1},processFallback:t=>t===void 0?gt.DEFAULT_REMOTE_FEATURES.onramp:typeof t=="boolean"?t?gt.DEFAULT_REMOTE_FEATURES.onramp:!1:t},activity:{apiFeatureName:"activity",localFeatureName:"history",returnType:!1,isLegacy:!0,isAvailableOnBasic:!1,processApi:t=>!!t.isEnabled,processFallback:t=>t===void 0?gt.DEFAULT_REMOTE_FEATURES.activity:!!t},reownBranding:{apiFeatureName:"reown_branding",localFeatureName:"reownBranding",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:t=>!!t.isEnabled,processFallback:t=>t===void 0?gt.DEFAULT_REMOTE_FEATURES.reownBranding:!!t},emailCapture:{apiFeatureName:"email_capture",localFeatureName:"emailCapture",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:t=>t.isEnabled&&(t.config??[]),processFallback:t=>!1},multiWallet:{apiFeatureName:"multi_wallet",localFeatureName:"multiWallet",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:t=>!!t.isEnabled,processFallback:()=>gt.DEFAULT_REMOTE_FEATURES.multiWallet}},gae={localSettingsOverridden:new Set,getApiConfig(t,e){return e?.find(n=>n.id===t)},addWarning(t,e){if(t!==void 0){const n=N0[e],s=n.isLegacy?`"features.${n.localFeatureName}" (now "${e}")`:`"features.${e}"`;this.localSettingsOverridden.add(s)}},processFeature(t,e,n,s,i){const a=N0[t],c=e[a.localFeatureName];if(i&&!a.isAvailableOnBasic)return!1;if(s){const u=this.getApiConfig(a.apiFeatureName,n);return u?.config===null?this.processFallbackFeature(t,c):u?.config?(c!==void 0&&this.addWarning(c,t),this.processApiFeature(t,u)):!1}return this.processFallbackFeature(t,c)},processApiFeature(t,e){return N0[t].processApi(e)},processFallbackFeature(t,e){return N0[t].processFallback(e)},async fetchRemoteFeatures(t){const e=t.basic??!1,n=t.features||{};this.localSettingsOverridden.clear();let s=null,i=!1;try{s=await Ue.fetchProjectConfig(),i=s!=null}catch(c){console.warn("[Reown Config] Failed to fetch remote project configuration. Using local/default values.",c)}const a=i&&!e?gt.DEFAULT_REMOTE_FEATURES:gt.DEFAULT_REMOTE_FEATURES_DISABLED;try{for(const c of pae){const u=this.processFeature(c,n,s,i,e);Object.assign(a,{[c]:u})}}catch(c){return console.warn("[Reown Config] Failed to process the configuration from Cloud. Using default values.",c),gt.DEFAULT_REMOTE_FEATURES}if(i&&this.localSettingsOverridden.size>0){const c=`Your local configuration for ${Array.from(this.localSettingsOverridden).join(", ")} was ignored because a remote configuration was successfully fetched. Please manage these features via your project dashboard on dashboard.reown.com.`;Yn.open({debugMessage:mi.ALERT_WARNINGS.LOCAL_CONFIGURATION_IGNORED.debugMessage(c)},"warning")}return a}};class mae{constructor(e){this.chainNamespaces=[],this.remoteFeatures={},this.reportedAlertErrors={},this.getCaipNetwork=(n,s)=>{if(n){const i=B.getCaipNetworks(n)?.find(u=>u.id===s);if(i)return i;const a=B.getNetworkData(n)?.caipNetwork;return a||B.getRequestedCaipNetworks(n).filter(u=>u.chainNamespace===n)?.[0]}return B.state.activeCaipNetwork||this.defaultCaipNetwork},this.getCaipNetworkId=()=>{const n=this.getCaipNetwork();if(n)return n.id},this.getCaipNetworks=n=>B.getCaipNetworks(n),this.getActiveChainNamespace=()=>B.state.activeChain,this.setRequestedCaipNetworks=(n,s)=>{B.setRequestedCaipNetworks(n,s)},this.getApprovedCaipNetworkIds=()=>B.getAllApprovedCaipNetworkIds(),this.getCaipAddress=n=>B.state.activeChain===n||!n?B.state.activeCaipAddress:B.state.chains.get(n)?.accountState?.caipAddress,this.setClientId=n=>{Pe.setClientId(n)},this.getProvider=n=>Gt.getProvider(n),this.getProviderType=n=>Gt.getProviderId(n),this.getPreferredAccountType=n=>Or(n),this.setCaipAddress=(n,s)=>{De.setCaipAddress(n,s)},this.setBalance=(n,s,i)=>{De.setBalance(n,s,i)},this.setProfileName=(n,s)=>{De.setProfileName(n,s)},this.setProfileImage=(n,s)=>{De.setProfileImage(n,s)},this.setUser=(n,s)=>{De.setUser(n,s)},this.resetAccount=n=>{De.resetAccount(n)},this.setCaipNetwork=n=>{B.setActiveCaipNetwork(n)},this.setCaipNetworkOfNamespace=(n,s)=>{B.setChainNetworkData(s,{caipNetwork:n})},this.setStatus=(n,s)=>{De.setStatus(n,s),be.isConnected()?ge.setConnectionStatus("connected"):ge.setConnectionStatus("disconnected")},this.getAddressByChainNamespace=n=>B.state.chains.get(n)?.accountState?.address,this.setConnectors=n=>{const s=[...be.state.allConnectors,...n];be.setConnectors(s)},this.setConnections=(n,s)=>{ge.setConnections(n,s),ve.setConnections(n,s)},this.fetchIdentity=n=>Pe.fetchIdentity(n),this.getReownName=n=>uh.getNamesForAddress(n),this.getConnectors=()=>be.getConnectors(),this.getConnectorImage=n=>gM.getConnectorImage(n),this.getConnections=n=>this.remoteFeatures.multiWallet?bm.getConnectionsData(n).connections:(Yn.open(de.REMOTE_FEATURES_ALERTS.MULTI_WALLET_NOT_ENABLED.DEFAULT,"info"),[]),this.getRecentConnections=n=>this.remoteFeatures.multiWallet?bm.getConnectionsData(n).recentConnections:(Yn.open(de.REMOTE_FEATURES_ALERTS.MULTI_WALLET_NOT_ENABLED.DEFAULT,"info"),[]),this.switchConnection=async n=>{if(!this.remoteFeatures.multiWallet){Yn.open(de.REMOTE_FEATURES_ALERTS.MULTI_WALLET_NOT_ENABLED.DEFAULT,"info");return}await ve.switchConnection(n)},this.deleteConnection=n=>{if(!this.remoteFeatures.multiWallet){Yn.open(de.REMOTE_FEATURES_ALERTS.MULTI_WALLET_NOT_ENABLED.DEFAULT,"info");return}ge.deleteAddressFromConnection(n),ve.syncStorageConnections()},this.setConnectedWalletInfo=(n,s)=>{const i=Gt.getProviderId(s),a=n?{...n,type:i}:void 0;De.setConnectedWalletInfo(a,s)},this.getIsConnectedState=()=>!!B.state.activeCaipAddress,this.addAddressLabel=(n,s,i)=>{De.addAddressLabel(n,s,i)},this.removeAddressLabel=(n,s)=>{De.removeAddressLabel(n,s)},this.getAddress=n=>B.state.activeChain===n||!n?De.state.address:B.state.chains.get(n)?.accountState?.address,this.setApprovedCaipNetworksData=n=>B.setApprovedCaipNetworksData(n),this.resetNetwork=n=>{B.resetNetwork(n)},this.addConnector=n=>{be.addConnector(n)},this.resetWcConnection=()=>{ve.resetWcConnection()},this.setAddressExplorerUrl=(n,s)=>{De.setAddressExplorerUrl(n,s)},this.setSmartAccountDeployed=(n,s)=>{De.setSmartAccountDeployed(n,s)},this.setPreferredAccountType=(n,s)=>{B.setAccountProp("preferredAccountType",n,s)},this.setEIP6963Enabled=n=>{fe.setEIP6963Enabled(n)},this.handleUnsafeRPCRequest=()=>{if(this.isOpen()){if(this.isTransactionStackEmpty())return;this.redirect("ApproveTransaction")}else this.open({view:"ApproveTransaction"})},this.options=e,this.version=e.sdkVersion,this.caipNetworks=this.extendCaipNetworks(e),this.chainNamespaces=this.getChainNamespacesSet(e.adapters,this.caipNetworks),this.defaultCaipNetwork=this.extendDefaultCaipNetwork(e),this.chainAdapters=this.createAdapters(e.adapters),this.readyPromise=this.initialize(e)}getChainNamespacesSet(e,n){const s=e?.map(a=>a.namespace).filter(a=>!!a);if(s?.length)return[...new Set(s)];const i=n?.map(a=>a.chainNamespace);return[...new Set(i)]}async initialize(e){this.initializeProjectSettings(e),this.initControllers(e),await this.initChainAdapters(),this.sendInitializeEvent(e),fe.state.enableReconnect?(await this.syncExistingConnection(),await this.syncAdapterConnections()):await this.unSyncExistingConnection(),this.remoteFeatures=await gae.fetchRemoteFeatures(e),fe.setRemoteFeatures(this.remoteFeatures),this.remoteFeatures.onramp&&E2.setOnrampProviders(this.remoteFeatures.onramp),(fe.state.remoteFeatures?.email||Array.isArray(fe.state.remoteFeatures?.socials)&&fe.state.remoteFeatures?.socials.length>0)&&await this.checkAllowedOrigins()}async checkAllowedOrigins(){try{const e=await Ue.fetchAllowedOrigins();if(!e||!Oe.isClient()){Yn.open(mi.ALERT_ERRORS.PROJECT_ID_NOT_CONFIGURED,"error");return}const n=window.location.origin;vo.isOriginAllowed(n,e,Vd.DEFAULT_ALLOWED_ANCESTORS)||Yn.open(mi.ALERT_ERRORS.ORIGIN_NOT_ALLOWED,"error")}catch(e){if(!(e instanceof Error)){Yn.open(mi.ALERT_ERRORS.PROJECT_ID_NOT_CONFIGURED,"error");return}switch(e.message){case"RATE_LIMITED":Yn.open(mi.ALERT_ERRORS.RATE_LIMITED_APP_CONFIGURATION,"error");break;case"SERVER_ERROR":{const n=e.cause instanceof Error?e.cause:e;Yn.open({displayMessage:mi.ALERT_ERRORS.SERVER_ERROR_APP_CONFIGURATION.displayMessage,debugMessage:mi.ALERT_ERRORS.SERVER_ERROR_APP_CONFIGURATION.debugMessage(n.message)},"error");break}default:Yn.open(mi.ALERT_ERRORS.PROJECT_ID_NOT_CONFIGURED,"error")}}}sendInitializeEvent(e){const{...n}=e;delete n.adapters,delete n.universalProvider,xt.sendEvent({type:"track",event:"INITIALIZE",properties:{...n,networks:e.networks.map(s=>s.id),siweConfig:{options:e.siweConfig?.options||{}}}})}initControllers(e){this.initializeOptionsController(e),this.initializeChainController(e),this.initializeThemeController(e),this.initializeConnectionController(e),this.initializeConnectorController()}initializeThemeController(e){e.themeMode&&Fs.setThemeMode(e.themeMode),e.themeVariables&&Fs.setThemeVariables(e.themeVariables)}initializeChainController(e){if(!this.connectionControllerClient||!this.networkControllerClient)throw new Error("ConnectionControllerClient and NetworkControllerClient must be set");B.initialize(e.adapters??[],this.caipNetworks,{connectionControllerClient:this.connectionControllerClient,networkControllerClient:this.networkControllerClient});const n=this.getDefaultNetwork();n&&B.setActiveCaipNetwork(n)}initializeConnectionController(e){ve.initialize(e.adapters??[]),ve.setWcBasic(e.basic??!1)}initializeConnectorController(){be.initialize(this.chainNamespaces)}initializeProjectSettings(e){fe.setProjectId(e.projectId),fe.setSdkVersion(e.sdkVersion)}initializeOptionsController(e){fe.setDebug(e.debug!==!1),fe.setEnableWalletConnect(e.enableWalletConnect!==!1),fe.setEnableWalletGuide(e.enableWalletGuide!==!1),fe.setEnableWallets(e.enableWallets!==!1),fe.setEIP6963Enabled(e.enableEIP6963!==!1),fe.setEnableNetworkSwitch(e.enableNetworkSwitch!==!1),fe.setEnableReconnect(e.enableReconnect!==!1),fe.setEnableAuthLogger(e.enableAuthLogger!==!1),fe.setCustomRpcUrls(e.customRpcUrls),fe.setEnableEmbedded(e.enableEmbedded),fe.setAllWallets(e.allWallets),fe.setIncludeWalletIds(e.includeWalletIds),fe.setExcludeWalletIds(e.excludeWalletIds),fe.setFeaturedWalletIds(e.featuredWalletIds),fe.setTokens(e.tokens),fe.setTermsConditionsUrl(e.termsConditionsUrl),fe.setPrivacyPolicyUrl(e.privacyPolicyUrl),fe.setCustomWallets(e.customWallets),fe.setFeatures(e.features),fe.setAllowUnsupportedChain(e.allowUnsupportedChain),fe.setUniversalProviderConfigOverride(e.universalProviderConfigOverride),fe.setPreferUniversalLinks(e.experimental_preferUniversalLinks),fe.setDefaultAccountTypes(e.defaultAccountTypes);const n=this.getDefaultMetaData();if(!e.metadata&&n&&(e.metadata=n),fe.setMetadata(e.metadata),fe.setDisableAppend(e.disableAppend),fe.setEnableEmbedded(e.enableEmbedded),fe.setSIWX(e.siwx),!e.projectId){Yn.open(mi.ALERT_ERRORS.PROJECT_ID_NOT_CONFIGURED,"error");return}if(e.adapters?.find(i=>i.namespace===de.CHAIN.EVM)&&e.siweConfig){if(e.siwx)throw new Error("Cannot set both `siweConfig` and `siwx` options");fe.setSIWX(e.siweConfig.mapToSIWX())}}getDefaultMetaData(){return Oe.isClient()?{name:document.getElementsByTagName("title")?.[0]?.textContent||"",description:document.querySelector('meta[property="og:description"]')?.content||"",url:window.location.origin,icons:[document.querySelector('link[rel~="icon"]')?.href||""]}:null}setUnsupportedNetwork(e){const n=this.getActiveChainNamespace();if(n){const s=Nu.getUnsupportedNetwork(`${n}:${e}`);B.setActiveCaipNetwork(s)}}getDefaultNetwork(){return Nu.getCaipNetworkFromStorage(this.defaultCaipNetwork)}extendCaipNetwork(e,n){return Nu.extendCaipNetwork(e,{customNetworkImageUrls:n.chainImages,projectId:n.projectId})}extendCaipNetworks(e){return Nu.extendCaipNetworks(e.networks,{customNetworkImageUrls:e.chainImages,customRpcUrls:e.customRpcUrls,projectId:e.projectId})}extendDefaultCaipNetwork(e){const n=e.networks.find(i=>i.id===e.defaultNetwork?.id);return n?Nu.extendCaipNetwork(n,{customNetworkImageUrls:e.chainImages,customRpcUrls:e.customRpcUrls,projectId:e.projectId}):void 0}async disconnectNamespace(e,n){try{this.setLoading(!0,e);let s={connections:[]};const i=this.getAdapter(e);return(B.state.chains.get(e)?.accountState?.caipAddress||!fe.state.enableReconnect)&&i?.disconnect&&(s=await i.disconnect({id:n})),this.setLoading(!1,e),s}catch(s){throw this.setLoading(!1,e),new Error(`Failed to disconnect chains: ${s.message}`)}}createClients(){this.connectionControllerClient={connectWalletConnect:async()=>{const e=B.state.activeChain,n=this.getAdapter(e),s=this.getCaipNetwork(e)?.id,i=ve.getConnections(e),a=this.remoteFeatures.multiWallet,c=i.length>0;if(!n)throw new Error("Adapter not found");const u=await n.connectWalletConnect(s);(!c||!a)&&this.close(),this.setClientId(u?.clientId||null),ge.setConnectedNamespaces([...B.state.chains.keys()]),await this.syncWalletConnectAccount(),await Er.initializeIfEnabled()},connectExternal:async({id:e,address:n,info:s,type:i,provider:a,chain:c,caipNetwork:u,socialUri:f})=>{const h=B.state.activeChain,p=c||h,g=this.getAdapter(p);if(c&&c!==h&&!u){const v=this.getCaipNetworks().find(E=>E.chainNamespace===c);v&&this.setCaipNetwork(v)}if(!p)throw new Error("connectExternal: namespace not found");if(!g)throw new Error("connectExternal: adapter not found");const y=this.getCaipNetwork(p),b=await g.connect({id:e,address:n,info:s,type:i,provider:a,socialUri:f,chainId:u?.id||y?.id,rpcUrl:u?.rpcUrls?.default?.http?.[0]||y?.rpcUrls?.default?.http?.[0]});if(b)return ge.addConnectedNamespace(p),this.syncProvider({...b,chainNamespace:p}),this.setStatus("connected",p),this.syncConnectedWalletInfo(p),ge.removeDisconnectedConnectorId(e,p),{address:b.address}},reconnectExternal:async({id:e,info:n,type:s,provider:i})=>{const a=B.state.activeChain,c=this.getAdapter(a);if(!a)throw new Error("reconnectExternal: namespace not found");if(!c)throw new Error("reconnectExternal: adapter not found");c?.reconnect&&(await c?.reconnect({id:e,info:n,type:s,provider:i,chainId:this.getCaipNetwork()?.id}),ge.addConnectedNamespace(a),this.syncConnectedWalletInfo(a))},disconnect:async e=>{const{id:n,chainNamespace:s,initialDisconnect:i}=e||{},a=s||B.state.activeChain,c=be.getConnectorId(a),u=n===de.CONNECTOR_ID.AUTH||c===de.CONNECTOR_ID.AUTH,f=n===de.CONNECTOR_ID.WALLET_CONNECT||c===de.CONNECTOR_ID.WALLET_CONNECT;try{const h=Array.from(B.state.chains.keys());let p=s?[s]:h;(f||u)&&(p=h);const g=p.map(async v=>{const E=be.getConnectorId(v),A=await this.disconnectNamespace(v,n||E);A&&(u&&ge.deleteConnectedSocialProvider(),A.connections.forEach(S=>{ge.addDisconnectedConnectorId(S.connectorId,v)})),i&&this.onDisconnectNamespace({chainNamespace:v,closeModal:!1})}),y=await Promise.allSettled(g);ft.resetSend(),ve.resetWcConnection(),Er.getSIWX()?.signOutOnDisconnect&&await Er.clearSessions(),be.setFilterByNamespace(void 0),ve.syncStorageConnections();const b=y.filter(v=>v.status==="rejected");if(b.length>0)throw new Error(b.map(v=>v.reason.message).join(", "));xt.sendEvent({type:"track",event:"DISCONNECT_SUCCESS",properties:{namespace:s||"all"}})}catch(h){throw new Error(`Failed to disconnect chains: ${h.message}`)}},checkInstalled:e=>e?e.some(n=>!!window.ethereum?.[String(n)]):!!window.ethereum,signMessage:async e=>{const n=B.state.activeChain,s=this.getAdapter(B.state.activeChain);if(!n)throw new Error("signMessage: namespace not found");if(!s)throw new Error("signMessage: adapter not found");return(await s?.signMessage({message:e,address:De.state.address,provider:Gt.getProvider(n)}))?.signature||""},sendTransaction:async e=>{const n=e.chainNamespace;if(!n)throw new Error("sendTransaction: namespace not found");if(gt.SEND_SUPPORTED_NAMESPACES.includes(n)){const s=this.getAdapter(n);if(!s)throw new Error("sendTransaction: adapter not found");const i=Gt.getProvider(n);return(await s?.sendTransaction({...e,caipNetwork:this.getCaipNetwork(),provider:i}))?.hash||""}return""},estimateGas:async e=>{const n=e.chainNamespace;if(n===de.CHAIN.EVM){const s=this.getAdapter(n);if(!s)throw new Error("estimateGas: adapter is required but got undefined");const i=Gt.getProvider(n),a=this.getCaipNetwork();if(!a)throw new Error("estimateGas: caipNetwork is required but got undefined");return(await s?.estimateGas({...e,provider:i,caipNetwork:a}))?.gas||0n}return 0n},getEnsAvatar:async()=>{const e=B.state.activeChain;if(!e)throw new Error("getEnsAvatar: namespace is required but got undefined");return await this.syncIdentity({address:De.state.address,chainId:Number(this.getCaipNetwork()?.id),chainNamespace:e}),De.state.profileImage||!1},getEnsAddress:async e=>await vo.resolveReownName(e),writeContract:async e=>{const n=B.state.activeChain,s=this.getAdapter(n);if(!n)throw new Error("writeContract: namespace is required but got undefined");if(!s)throw new Error("writeContract: adapter is required but got undefined");const i=this.getCaipNetwork(),a=this.getCaipAddress(),c=Gt.getProvider(n);if(!i||!a)throw new Error("writeContract: caipNetwork or caipAddress is required but got undefined");return(await s?.writeContract({...e,caipNetwork:i,provider:c,caipAddress:a}))?.hash},parseUnits:(e,n)=>{const s=this.getAdapter(B.state.activeChain);if(!s)throw new Error("parseUnits: adapter is required but got undefined");return s?.parseUnits({value:e,decimals:n})??0n},formatUnits:(e,n)=>{const s=this.getAdapter(B.state.activeChain);if(!s)throw new Error("formatUnits: adapter is required but got undefined");return s?.formatUnits({value:e,decimals:n})??"0"},getCapabilities:async e=>{const n=this.getAdapter(B.state.activeChain);if(!n)throw new Error("getCapabilities: adapter is required but got undefined");return await n?.getCapabilities(e)},grantPermissions:async e=>{const n=this.getAdapter(B.state.activeChain);if(!n)throw new Error("grantPermissions: adapter is required but got undefined");return await n?.grantPermissions(e)},revokePermissions:async e=>{const n=this.getAdapter(B.state.activeChain);if(!n)throw new Error("revokePermissions: adapter is required but got undefined");return n?.revokePermissions?await n.revokePermissions(e):"0x"},walletGetAssets:async e=>{const n=this.getAdapter(B.state.activeChain);if(!n)throw new Error("walletGetAssets: adapter is required but got undefined");return await n?.walletGetAssets(e)??{}},updateBalance:e=>{const n=this.getCaipNetwork(e);!n||!De.state.address||this.updateNativeBalance(De.state.address,n?.id,e)}},this.networkControllerClient={switchCaipNetwork:async e=>await this.switchCaipNetwork(e),getApprovedCaipNetworksData:async()=>this.getApprovedCaipNetworksData()},ve.setClient(this.connectionControllerClient)}getApprovedCaipNetworksData(){if(Gt.getProviderId(B.state.activeChain)===Dc.CONNECTOR_TYPE_WALLET_CONNECT){const n=this.universalProvider?.session?.namespaces;return{supportsAllNetworks:this.universalProvider?.session?.peer?.metadata.name==="MetaMask Wallet",approvedCaipNetworkIds:this.getChainsFromNamespaces(n)}}return{supportsAllNetworks:!0,approvedCaipNetworkIds:[]}}async switchCaipNetwork(e){if(!e)return;const n=e.chainNamespace;if(this.getAddressByChainNamespace(e.chainNamespace)){const i=Gt.getProvider(n),a=Gt.getProviderId(n);if(e.chainNamespace===B.state.activeChain)await this.getAdapter(n)?.switchNetwork({caipNetwork:e,provider:i,providerType:a});else if(this.setCaipNetwork(e),a===Dc.CONNECTOR_TYPE_WALLET_CONNECT)this.syncWalletConnectAccount();else{const c=this.getAddressByChainNamespace(n);c&&this.syncAccount({address:c,chainId:e.id,chainNamespace:n})}}else this.setCaipNetwork(e)}getChainsFromNamespaces(e={}){return Object.values(e).flatMap(n=>{const s=n.chains||[],i=n.accounts.map(a=>{const{chainId:c,chainNamespace:u}=Ks.parseCaipAddress(a);return`${u}:${c}`});return Array.from(new Set([...s,...i]))})}createAdapters(e){return this.createClients(),this.chainNamespaces.reduce((n,s)=>{const i=e?.find(a=>a.namespace===s);return i?(i.construct({namespace:s,projectId:this.options?.projectId,networks:this.getCaipNetworks()}),n[s]=i):n[s]=new hae({namespace:s,networks:this.getCaipNetworks()}),n},{})}async initChainAdapter(e){this.onConnectors(e),this.listenAdapter(e),await this.chainAdapters?.[e].syncConnectors(this.options,this),await this.createUniversalProviderForAdapter(e)}async initChainAdapters(){await Promise.all(this.chainNamespaces.map(async e=>{await this.initChainAdapter(e)}))}onConnectors(e){this.getAdapter(e)?.on("connectors",this.setConnectors.bind(this))}listenAdapter(e){const n=this.getAdapter(e);if(!n)return;const s=ge.getConnectionStatus();fe.state.enableReconnect===!1?this.setStatus("disconnected",e):s==="connected"?this.setStatus("connecting",e):s==="disconnected"?(ge.clearAddressCache(),this.setStatus(s,e)):this.setStatus(s,e),n.on("switchNetwork",({address:i,chainId:a})=>{const c=this.getCaipNetworks().find(h=>h.id.toString()===a.toString()||h.caipNetworkId.toString()===a.toString()),u=B.state.activeChain===e,f=B.state.chains.get(e)?.accountState?.address;if(c){const h=u&&i?i:f;h&&this.syncAccount({address:h,chainId:c.id,chainNamespace:e})}else this.setUnsupportedNetwork(a)}),n.on("disconnect",()=>{const i=this.remoteFeatures.multiWallet,a=Array.from(ve.state.connections.values()).flat();this.onDisconnectNamespace({chainNamespace:e,closeModal:!i||a.length===0})}),n.on("connections",i=>{this.setConnections(i,e)}),n.on("pendingTransactions",()=>{const i=De.state.address,a=B.state.activeCaipNetwork;!i||!a?.id||this.updateNativeBalance(i,a.id,a.chainNamespace)}),n.on("accountChanged",({address:i,chainId:a,connector:c})=>{const u=B.state.activeChain===e;c?.provider&&(this.syncProvider({id:c.id,type:c.type,provider:c.provider,chainNamespace:e}),this.syncConnectedWalletInfo(e)),u&&a?this.syncAccount({address:i,chainId:a,chainNamespace:e}):u&&B.state.activeCaipNetwork?.id?this.syncAccount({address:i,chainId:B.state.activeCaipNetwork?.id,chainNamespace:e}):this.syncAccountInfo(i,a,e),ge.addConnectedNamespace(e)})}async createUniversalProviderForAdapter(e){await this.getUniversalProvider(),this.universalProvider&&await this.chainAdapters?.[e]?.setUniversalProvider?.(this.universalProvider)}async syncExistingConnection(){await Promise.allSettled(this.chainNamespaces.map(e=>this.syncNamespaceConnection(e)))}async unSyncExistingConnection(){try{await Promise.allSettled(this.chainNamespaces.map(e=>ve.disconnect({namespace:e,initialDisconnect:!0})))}catch(e){console.error("Error disconnecting existing connections:",e)}}async syncNamespaceConnection(e){try{e===de.CHAIN.EVM&&Oe.isSafeApp()&&be.setConnectorId(de.CONNECTOR_ID.SAFE,e);const n=be.getConnectorId(e);switch(this.setStatus("connecting",e),n){case de.CONNECTOR_ID.WALLET_CONNECT:await this.syncWalletConnectAccount();break;case de.CONNECTOR_ID.AUTH:break;default:await this.syncAdapterConnection(e)}}catch(n){console.warn("AppKit couldn't sync existing connection",n),this.setStatus("disconnected",e)}}onDisconnectNamespace(e){const{chainNamespace:n,closeModal:s}=e||{};B.resetAccount(n),B.resetNetwork(n),ge.removeConnectedNamespace(n);const i=Array.from(B.state.chains.keys());(n?[n]:i).forEach(c=>ge.addDisconnectedConnectorId(be.getConnectorId(c)||"",c)),be.removeConnectorId(n),Gt.resetChain(n),this.setUser(void 0,n),this.setStatus("disconnected",n),this.setConnectedWalletInfo(void 0,n),s!==!1&&tt.close()}async syncAdapterConnections(){await Promise.allSettled(this.chainNamespaces.map(e=>{const n=this.getCaipAddress(e),s=this.getCaipNetwork(e);return this.chainAdapters?.[e].syncConnections({connectToFirstConnector:!n,caipNetwork:s,getConnectorStorageInfo(i){const c=ge.getConnections()[e]??[];return{hasDisconnected:ge.isConnectorDisconnected(i,e),hasConnected:c.some(u=>Gs.isLowerCaseMatch(u.connectorId,i))}}})}))}async syncAdapterConnection(e){const n=this.getAdapter(e),s=be.getConnectorId(e),i=this.getCaipNetwork(e),c=be.getConnectors(e).find(u=>u.id===s);try{if(!n||!c)throw new Error(`Adapter or connector not found for namespace ${e}`);if(!i?.id)throw new Error("CaipNetwork not found");const u=await n?.syncConnection({namespace:e,id:c.id,chainId:i.id,rpcUrl:i?.rpcUrls?.default?.http?.[0]});u?(this.syncProvider({...u,chainNamespace:e}),await this.syncAccount({...u,chainNamespace:e}),this.setStatus("connected",e)):this.setStatus("disconnected",e)}catch{this.onDisconnectNamespace({chainNamespace:e,closeModal:!1})}}async syncWalletConnectAccount(){const e=Object.keys(this.universalProvider?.session?.namespaces||{}),n=this.chainNamespaces.map(async s=>{const i=this.getAdapter(s);if(!i)return;const a=this.universalProvider?.session?.namespaces?.[s]?.accounts||[],c=B.state.activeCaipNetwork?.id,u=a.find(f=>{const{chainId:h}=Ks.parseCaipAddress(f);return h===c?.toString()})||a[0];if(u){const f=Ks.validateCaipAddress(u),{chainId:h,address:p}=Ks.parseCaipAddress(f);if(Gt.setProviderId(s,Dc.CONNECTOR_TYPE_WALLET_CONNECT),this.caipNetworks&&B.state.activeCaipNetwork&&i.namespace!==de.CHAIN.EVM){const g=i.getWalletConnectProvider({caipNetworks:this.getCaipNetworks(),provider:this.universalProvider,activeCaipNetwork:B.state.activeCaipNetwork});Gt.setProvider(s,g)}else Gt.setProvider(s,this.universalProvider);be.setConnectorId(de.CONNECTOR_ID.WALLET_CONNECT,s),ge.addConnectedNamespace(s),await this.syncAccount({address:p,chainId:h,chainNamespace:s})}else e.includes(s)&&this.setStatus("disconnected",s);this.syncConnectedWalletInfo(s),await B.setApprovedCaipNetworksData(s)});await Promise.all(n)}syncProvider({type:e,provider:n,id:s,chainNamespace:i}){Gt.setProviderId(i,e),Gt.setProvider(i,n),be.setConnectorId(s,i)}async syncAccount(e){const n=e.chainNamespace===B.state.activeChain,s=B.getCaipNetworkByNamespace(e.chainNamespace,e.chainId),{address:i,chainId:a,chainNamespace:c}=e,{chainId:u}=ge.getActiveNetworkProps(),f=a||u,h=B.state.activeCaipNetwork?.name===de.UNSUPPORTED_NETWORK_NAME,p=B.getNetworkProp("supportsAllNetworks",c);if(this.setStatus("connected",c),!(h&&!p)&&f){let g=this.getCaipNetworks().find(v=>v.id.toString()===f.toString()),y=this.getCaipNetworks().find(v=>v.chainNamespace===c);if(!p&&!g&&!y){const v=this.getApprovedCaipNetworkIds()||[],E=v.find(S=>Ks.parseCaipNetworkId(S)?.chainId===f.toString()),A=v.find(S=>Ks.parseCaipNetworkId(S)?.chainNamespace===c);g=this.getCaipNetworks().find(S=>S.caipNetworkId===E),y=this.getCaipNetworks().find(S=>S.caipNetworkId===A||"deprecatedCaipNetworkId"in S&&S.deprecatedCaipNetworkId===A)}const b=g||y;b?.chainNamespace===B.state.activeChain?fe.state.enableNetworkSwitch&&!fe.state.allowUnsupportedChain&&B.state.activeCaipNetwork?.name===de.UNSUPPORTED_NETWORK_NAME?B.showUnsupportedChainUI():this.setCaipNetwork(b):n||s&&this.setCaipNetworkOfNamespace(s,c),this.syncConnectedWalletInfo(c),Gs.isLowerCaseMatch(i,De.state.address)||this.syncAccountInfo(i,b?.id,c),n?await this.syncBalance({address:i,chainId:b?.id,chainNamespace:c}):await this.syncBalance({address:i,chainId:s?.id,chainNamespace:c})}}async syncAccountInfo(e,n,s){const i=this.getCaipAddress(s),a=n||i?.split(":")[1];if(!a)return;const c=`${s}:${a}:${e}`;this.setCaipAddress(c,s),await this.syncIdentity({address:e,chainId:a,chainNamespace:s})}async syncReownName(e,n){try{const s=await this.getReownName(e);if(s[0]){const i=s[0];this.setProfileName(i.name,n)}else this.setProfileName(null,n)}catch{this.setProfileName(null,n)}}syncConnectedWalletInfo(e){const n=be.getConnectorId(e),s=Gt.getProviderId(e);if(s===Dc.CONNECTOR_TYPE_ANNOUNCED||s===Dc.CONNECTOR_TYPE_INJECTED){if(n){const a=this.getConnectors().find(c=>{const u=c.id===n,f=c.info?.rdns===n,h=c.connectors?.some(p=>p.id===n||p.info?.rdns===n);return u||f||!!h});if(a){const{info:c,name:u,imageUrl:f}=a,h=f||this.getConnectorImage(a);this.setConnectedWalletInfo({name:u,icon:h,...c},e)}}}else if(s===Dc.CONNECTOR_TYPE_WALLET_CONNECT){const i=Gt.getProvider(e);i?.session&&this.setConnectedWalletInfo({...i.session.peer.metadata,name:i.session.peer.metadata.name,icon:i.session.peer.metadata.icons?.[0]},e)}else if(n&&(n===de.CONNECTOR_ID.COINBASE_SDK||n===de.CONNECTOR_ID.COINBASE)){const i=this.getConnectors().find(f=>f.id===n),a=i?.name||"Coinbase Wallet",c=i?.imageUrl||this.getConnectorImage(i),u=i?.info;this.setConnectedWalletInfo({...u,name:a,icon:c},e)}}async syncBalance(e){!lM.getNetworksByNamespace(this.getCaipNetworks(),e.chainNamespace).find(s=>s.id.toString()===e.chainId?.toString())||!e.chainId||await this.updateNativeBalance(e.address,e.chainId,e.chainNamespace)}async ready(){await this.readyPromise}async updateNativeBalance(e,n,s){const i=this.getAdapter(s),a=B.getCaipNetworkByNamespace(s,n);if(i){const c=await i.getBalance({address:e,chainId:n,caipNetwork:a,tokens:this.options.tokens});return this.setBalance(c.balance,c.symbol,s),c}}async initializeUniversalAdapter(){const e=koe.createLogger((s,...i)=>{s&&this.handleAlertError(s),console.error(...i)}),n={projectId:this.options?.projectId,metadata:{name:this.options?.metadata?this.options?.metadata.name:"",description:this.options?.metadata?this.options?.metadata.description:"",url:this.options?.metadata?this.options?.metadata.url:"",icons:this.options?.metadata?this.options?.metadata.icons:[""]},logger:e};fe.setManualWCControl(!!this.options?.manualWCControl),this.universalProvider=this.options.universalProvider??await Ym.init(n),fe.state.enableReconnect===!1&&this.universalProvider.session&&await this.universalProvider.disconnect(),this.listenWalletConnect()}listenWalletConnect(){this.universalProvider&&this.chainNamespaces.forEach(e=>{vo.listenWcProvider({universalProvider:this.universalProvider,namespace:e,onDisplayUri:n=>{ve.setUri(n)},onConnect:()=>{ve.finalizeWcConnection()},onDisconnect:()=>{B.state.noAdapters&&this.resetAccount(e),ve.resetWcConnection()},onChainChanged:n=>{const s=B.state.activeChain,i=s&&be.state.activeConnectorIds[s]===de.CONNECTOR_ID.WALLET_CONNECT;if(s===e&&(B.state.noAdapters||i)){const a=this.getCaipNetworks().find(u=>u.id.toString()===n.toString()||u.caipNetworkId.toString()===n.toString()),c=this.getCaipNetwork();if(!a){this.setUnsupportedNetwork(n);return}c?.id.toString()!==a?.id.toString()&&c?.chainNamespace===a?.chainNamespace&&this.setCaipNetwork(a)}},onAccountsChanged:n=>{const s=B.state.activeChain,i=s&&be.state.activeConnectorIds[s]===de.CONNECTOR_ID.WALLET_CONNECT;if(s===e&&(B.state.noAdapters||i)&&n.length>0){const a=n[0];this.syncAccount({address:a.address,chainId:a.chainId,chainNamespace:a.chainNamespace})}}})})}createUniversalProvider(){return!this.universalProviderInitPromise&&Oe.isClient()&&this.options?.projectId&&(this.universalProviderInitPromise=this.initializeUniversalAdapter()),this.universalProviderInitPromise}async getUniversalProvider(){if(!this.universalProvider)try{await this.createUniversalProvider()}catch(e){xt.sendEvent({type:"error",event:"INTERNAL_SDK_ERROR",properties:{errorType:"UniversalProviderInitError",errorMessage:e instanceof Error?e.message:"Unknown",uncaught:!1}}),console.error("AppKit:getUniversalProvider - Cannot create provider",e)}return this.universalProvider}handleAlertError(e){const n=Object.entries(mi.UniversalProviderErrors).find(([,{message:u}])=>e.message.includes(u)),[s,i]=n??[],{message:a,alertErrorKey:c}=i??{};if(s&&a&&!this.reportedAlertErrors[s]){const u=mi.ALERT_ERRORS[c];u&&(Yn.open(u,"error"),this.reportedAlertErrors[s]=!0)}}getAdapter(e){if(e)return this.chainAdapters?.[e]}createAdapter(e){if(!e)return;const n=e.namespace;if(!n)return;this.createClients();const s=e;s.namespace=n,s.construct({namespace:n,projectId:this.options?.projectId,networks:this.getCaipNetworks()}),this.chainNamespaces.includes(n)||this.chainNamespaces.push(n),this.chainAdapters&&(this.chainAdapters[n]=s)}async open(e){if(await this.injectModalUi(),e?.uri&&ve.setUri(e.uri),e?.arguments)switch(e?.view){case"Swap":return tt.open({...e,data:{swap:e.arguments}})}return tt.open(e)}async close(){await this.injectModalUi(),tt.close()}setLoading(e,n){tt.setLoading(e,n)}async disconnect(e){await ve.disconnect({namespace:e})}getSIWX(){return fe.state.siwx}getError(){return""}getChainId(){return B.state.activeCaipNetwork?.id}async switchNetwork(e){const n=this.getCaipNetworks().find(s=>s.id===e.id);if(!n){Yn.open(mi.ALERT_ERRORS.SWITCH_NETWORK_NOT_FOUND,"error");return}await B.switchActiveNetwork(n)}getWalletProvider(){return B.state.activeChain?Gt.state.providers[B.state.activeChain]:null}getWalletProviderType(){return Gt.getProviderId(B.state.activeChain)}subscribeProviders(e){return Gt.subscribeProviders(e)}getThemeMode(){return Fs.state.themeMode}getThemeVariables(){return Fs.state.themeVariables}setThemeMode(e){Fs.setThemeMode(e),LM(Fs.state.themeMode)}setTermsConditionsUrl(e){fe.setTermsConditionsUrl(e)}setPrivacyPolicyUrl(e){fe.setPrivacyPolicyUrl(e)}setThemeVariables(e){Fs.setThemeVariables(e),aae(Fs.state.themeVariables)}subscribeTheme(e){return Fs.subscribe(e)}subscribeConnections(e){return this.remoteFeatures.multiWallet?ve.subscribe(e):(Yn.open(de.REMOTE_FEATURES_ALERTS.MULTI_WALLET_NOT_ENABLED.DEFAULT,"info"),()=>{})}getWalletInfo(e){return e?B.state.chains.get(e)?.accountState?.connectedWalletInfo:De.state.connectedWalletInfo}getAccount(e){const n=e||B.state.activeChain,s=be.getAuthConnector(n),i=B.getAccountData(n),a=ge.getConnectedConnectorId(B.state.activeChain),c=ve.getConnections(n);if(!n)throw new Error("AppKit:getAccount - namespace is required");const u=c.flatMap(f=>f.accounts.map(({address:h,type:p})=>Oe.createAccount(n,h,p||"eoa")));if(i)return{allAccounts:u,caipAddress:i.caipAddress,address:Oe.getPlainAddress(i.caipAddress),isConnected:!!i.caipAddress,status:i.status,embeddedWalletInfo:s&&a===de.CONNECTOR_ID.AUTH?{user:i.user?{...i.user,username:ge.getConnectedSocialUsername()}:void 0,authProvider:i.socialProvider||"email",accountType:Or(n),isSmartAccountDeployed:!!i.smartAccountDeployed}:void 0}}subscribeAccount(e,n){const s=()=>{const i=this.getAccount(n);i&&e(i)};n?B.subscribeChainProp("accountState",s,n):B.subscribe(s),be.subscribe(s)}subscribeNetwork(e){return B.subscribe(({activeCaipNetwork:n})=>{e({caipNetwork:n,chainId:n?.id,caipNetworkId:n?.caipNetworkId})})}subscribeWalletInfo(e,n){return n?De.subscribeKey("connectedWalletInfo",e,n):De.subscribeKey("connectedWalletInfo",e)}subscribeShouldUpdateToAddress(e){De.subscribeKey("shouldUpdateToAddress",e)}subscribeCaipNetworkChange(e){B.subscribeKey("activeCaipNetwork",e)}getState(){return mo.state}getRemoteFeatures(){return fe.state.remoteFeatures}subscribeState(e){return mo.subscribe(e)}subscribeRemoteFeatures(e){return fe.subscribeKey("remoteFeatures",e)}showErrorMessage(e){Cr.showError(e)}showSuccessMessage(e){Cr.showSuccess(e)}getEvent(){return{...xt.state}}subscribeEvents(e){return xt.subscribe(e)}replace(e){je.replace(e)}redirect(e){je.push(e)}popTransactionStack(e){je.popTransactionStack(e)}isOpen(){return tt.state.open}isTransactionStackEmpty(){return je.state.transactionStack.length===0}static getInstance(){return this.instance}updateFeatures(e){fe.setFeatures(e)}updateRemoteFeatures(e){fe.setRemoteFeatures(e)}updateOptions(e){const s={...fe.state||{},...e};fe.setOptions(s)}setConnectMethodsOrder(e){fe.setConnectMethodsOrder(e)}setWalletFeaturesOrder(e){fe.setWalletFeaturesOrder(e)}setCollapseWallets(e){fe.setCollapseWallets(e)}setSocialsOrder(e){fe.setSocialsOrder(e)}getConnectMethodsOrder(){return A2.getConnectOrderMethod(fe.state.features,be.getConnectors())}addNetwork(e,n){if(this.chainAdapters&&!this.chainAdapters[e])throw new Error(`Adapter for namespace ${e} doesn't exist`);const s=this.extendCaipNetwork(n,this.options);this.getCaipNetworks().find(i=>i.id===s.id)||B.addNetwork(s)}removeNetwork(e,n){if(this.chainAdapters&&!this.chainAdapters[e])throw new Error(`Adapter for namespace ${e} doesn't exist`);this.getCaipNetworks().find(i=>i.id===n)&&B.removeNetwork(e,n)}}let W5=!1;class yae extends mae{async open(e){be.isConnected()||await super.open(e)}async close(){await super.close(),this.options.manualWCControl&&ve.finalizeWcConnection()}async syncIdentity(e){return Promise.resolve()}async syncBalance(e){return Promise.resolve()}async injectModalUi(){if(!W5&&Oe.isClient()){if(await vh(()=>import("./basic-Cuzk0mim.js"),__vite__mapDeps([0,1])),await vh(()=>import("./w3m-modal-BYjGAmai.js"),__vite__mapDeps([2,1])),!document.querySelector("w3m-modal")){const n=document.createElement("w3m-modal");!fe.state.disableAppend&&!fe.state.enableEmbedded&&document.body.insertAdjacentElement("beforeend",n)}W5=!0}}}const wae="1.7.17";function bae(t){return new yae({...t,basic:!0,sdkVersion:`html-core-${wae}`})}class gA{constructor({appKit:e,provider:n,config:s}){this.appKit=e,this.provider=n,this.config=s}static async init(e){const n=await sre.init({projectId:e.projectId,metadata:e.metadata}),s={networks:e.networks.flatMap(a=>a.chains),projectId:e.projectId,metadata:e.metadata,universalProvider:n,manualWCControl:!0},i=bae(s);return new gA({appKit:i,provider:n,config:e})}async connect(){const e=this.config?.networks.reduce((n,s)=>(n[s.namespace]={...s||{},methods:s?.methods||[],events:s?.events||[],chains:s?.chains?.map(i=>i.caipNetworkId)||[]},n),{});try{await this.appKit.open();const n=await this.provider.connect({optionalNamespaces:e});if(!n)throw new Error("Error connecting to wallet: No session found");return await this.appKit.close(),{session:n}}catch(n){throw await this.appKit.close(),new Error(`Error connecting to wallet: ${n instanceof Error?n.message:"Unknown error"}`)}}async disconnect(){await this.appKit.disconnect(),await this.provider.disconnect()}async request(e,n){return await this.provider.request(e,n)}}var vae=Object.defineProperty,Eae=Object.defineProperties,Aae=Object.getOwnPropertyDescriptors,Am=Object.getOwnPropertySymbols,jM=Object.prototype.hasOwnProperty,zM=Object.prototype.propertyIsEnumerable,K5=(t,e,n)=>e in t?vae(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Ss=(t,e)=>{for(var n in e||(e={}))jM.call(e,n)&&K5(t,n,e[n]);if(Am)for(var n of Am(e))zM.call(e,n)&&K5(t,n,e[n]);return t},Oa=(t,e)=>Eae(t,Aae(e)),Cae=(t,e)=>{var n={};for(var s in t)jM.call(t,s)&&e.indexOf(s)<0&&(n[s]=t[s]);if(t!=null&&Am)for(var s of Am(t))e.indexOf(s)<0&&zM.call(t,s)&&(n[s]=t[s]);return n},ku=class HM extends Error{constructor(e,n,s,i){super(e),this.message=e,this.code=n,this.data=s,this.cause=i,this.name="JsonRpcError",this.message=e,this.code=n,this.data=s,this.cause=i}static fromResponse(e){return new HM(e.message,e.code,e.data)}toString(){return`${this.name} (${this.code}): ${this.message}${this.data?`: ${JSON.stringify(this.data)}`:""}`}},Sae=(t=>(t[t.ParseError=-32700]="ParseError",t[t.InvalidRequest=-32600]="InvalidRequest",t[t.MethodNotFound=-32601]="MethodNotFound",t[t.InvalidParams=-32602]="InvalidParams",t[t.InternalError=-32603]="InternalError",t[t.UserRejection=-32e3]="UserRejection",t[t.MethodAddressMismatch=-32001]="MethodAddressMismatch",t[t.MethodAccessDenied=-32002]="MethodAccessDenied",t[t.UnknownError=-31e3]="UnknownError",t[t.UserCanceled=-31001]="UserCanceled",t))(Sae||{}),FM="asigna-stx",Hb=(t,e)=>new Promise(n=>{function s(i){i.data.source===FM&&i.data[e]&&(n(i.data[e]),window.removeEventListener("message",s))}window.addEventListener("message",s),window.top.postMessage(Nae(t,e),"*")}),xae={authenticationRequest:async t=>Hb(t,"authenticationRequest"),transactionRequest:async t=>Hb(t,"transactionRequest"),request:async(t,e)=>Hb(e,t)},Nae=(t,e)=>({source:FM,[e]:t}),Tae=()=>{typeof window>"u"||window.top!==window.self&&(window.AsignaProvider=xae)};Tae();var _ae=[{id:"LeatherProvider",name:"Leather",icon:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTI4IiBoZWlnaHQ9IjEyOCIgdmlld0JveD0iMCAwIDEyOCAxMjgiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSIxMjgiIGhlaWdodD0iMTI4IiByeD0iMjYuODM4NyIgZmlsbD0iIzEyMTAwRiIvPgo8cGF0aCBkPSJNNzQuOTE3MSA1Mi43MTE0QzgyLjQ3NjYgNTEuNTQwOCA5My40MDg3IDQzLjU4MDQgOTMuNDA4NyAzNy4zNzYxQzkzLjQwODcgMzUuNTAzMSA5MS44OTY4IDM0LjIxNTQgODkuNjg3MSAzNC4yMTU0Qzg1LjUwMDQgMzQuMjE1NCA3OC40MDYxIDQwLjUzNjggNzQuOTE3MSA1Mi43MTE0Wk0zOS45MTEgODMuNDk5MUMzMC4wMjU2IDgzLjQ5OTEgMjkuMjExNSA5My4zMzI0IDM5LjA5NjkgOTMuMzMyNEM0My41MTYzIDkzLjMzMjQgNDguODY2MSA5MS41NzY0IDUxLjY1NzMgODguNDE1N0M0Ny41ODY4IDg0LjkwMzggNDQuMjE0MSA4My40OTkxIDM5LjkxMSA4My40OTkxWk0xMDIuODI5IDc5LjI4NDhDMTAzLjQxIDk1Ljc5MDcgOTUuMDM2OSAxMDUuMDM5IDgwLjg0ODQgMTA1LjAzOUM3Mi40NzQ4IDEwNS4wMzkgNjguMjg4MSAxMDEuODc4IDU5LjMzMyA5Ni4wMjQ5QzU0LjY4MSAxMDEuMTc2IDQ1Ljg0MjMgMTA1LjAzOSAzOC41MTU0IDEwNS4wMzlDMTMuMjc4NSAxMDUuMDM5IDE0LjMyNTIgNzIuODQ2MyA0MC4wMjczIDcyLjg0NjNDNDUuMzc3MSA3Mi44NDYzIDQ5LjkxMjggNzQuMjUxMSA1NS43Mjc3IDc3Ljg4TDU5LjU2NTYgNjQuNDE3N0M0My43NDg5IDYwLjA4NjQgMzUuODQwNSA0Ny45MTE4IDQzLjYzMjYgMzAuNDY5M0g1Ni4xOTI5QzQ5LjIxNSA0Mi4wNTg2IDUzLjk4MzIgNTEuNjU3OCA2Mi44MjIgNTIuNzExNEM2Ny41OTAzIDM1LjczNzIgNzcuODI0NiAyMi41MDkgOTEuNDMxNiAyMi41MDlDOTkuMTA3NCAyMi41MDkgMTA1LjE1NSAyNy41NDI4IDEwNS4xNTUgMzYuNjczN0MxMDUuMTU1IDUxLjMwNjYgODYuMDgxOSA2My4yNDcxIDcxLjY2MDcgNjQuNDE3N0w2NS43Mjk1IDg1LjM3MjFDNzIuNDc0OCA5My4yMTUzIDkxLjE5OSAxMDAuODI0IDkxLjE5OSA3OS4yODQ4SDEwMi44MjlaIiBmaWxsPSIjRjVGMUVEIi8+Cjwvc3ZnPgo=",webUrl:"https://leather.io",chromeWebStoreUrl:"https://chrome.google.com/webstore/detail/hiro-wallet/ldinpeekobnhjjdofggfgjlcehhmanlj",mozillaAddOnsUrl:"https://leather.io/install-extension"},{id:"XverseProviders.BitcoinProvider",name:"Xverse Wallet",icon:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI2MDAiIGhlaWdodD0iNjAwIj48ZyBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPjxwYXRoIGZpbGw9IiMxNzE3MTciIGQ9Ik0wIDBoNjAwdjYwMEgweiIvPjxwYXRoIGZpbGw9IiNGRkYiIGZpbGwtcnVsZT0ibm9uemVybyIgZD0iTTQ0MCA0MzUuNHYtNTFjMC0yLS44LTMuOS0yLjItNS4zTDIyMCAxNjIuMmE3LjYgNy42IDAgMCAwLTUuNC0yLjJoLTUxLjFjLTIuNSAwLTQuNiAyLTQuNiA0LjZ2NDcuM2MwIDIgLjggNCAyLjIgNS40bDc4LjIgNzcuOGE0LjYgNC42IDAgMCAxIDAgNi41bC03OSA3OC43Yy0xIC45LTEuNCAyLTEuNCAzLjJ2NTJjMCAyLjQgMiA0LjUgNC42IDQuNUgyNDljMi42IDAgNC42LTIgNC42LTQuNlY0MDVjMC0xLjIuNS0yLjQgMS40LTMuM2w0Mi40LTQyLjJhNC42IDQuNiAwIDAgMSA2LjQgMGw3OC43IDc4LjRhNy42IDcuNiAwIDAgMCA1LjQgMi4yaDQ3LjVjMi41IDAgNC42LTIgNC42LTQuNloiLz48cGF0aCBmaWxsPSIjRUU3QTMwIiBmaWxsLXJ1bGU9Im5vbnplcm8iIGQ9Ik0zMjUuNiAyMjcuMmg0Mi44YzIuNiAwIDQuNiAyLjEgNC42IDQuNnY0Mi42YzAgNCA1IDYuMSA4IDMuMmw1OC43LTU4LjVjLjgtLjggMS4zLTIgMS4zLTMuMnYtNTEuMmMwLTIuNi0yLTQuNi00LjYtNC42TDM4NCAxNjBjLTEuMiAwLTIuNC41LTMuMyAxLjNsLTU4LjQgNTguMWE0LjYgNC42IDAgMCAwIDMuMiA3LjhaIi8+PC9nPjwvc3ZnPg==",webUrl:"https://xverse.app",chromeWebStoreUrl:"https://chrome.google.com/webstore/detail/xverse-wallet/idnnbdplmphpflfnlkomgpfbpcgelopg",googlePlayStoreUrl:"https://play.google.com/store/apps/details?id=com.secretkeylabs.xverse",iOSAppStoreUrl:"https://apps.apple.com/app/xverse-bitcoin-web3-wallet/id1552272513",mozillaAddOnsUrl:"https://www.xverse.app/download"},{id:"AsignaProvider",name:"Asigna Multisig",icon:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMiIgaGVpZ2h0PSIzMiIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMDEwMCIgZD0iTTAgMGgzMnYzMkgweiIvPjxwYXRoIGZpbGw9InVybCgjYSkiIGQ9Ik0xNS4xMSA1LjU1YTMgMyAwIDAgMC0xLjgyIDEuM2wtLjA1LjA4LS40My43Mi0uMDcuMTEtLjUuODUtLjA1LjA5LTEuMjkgMi4xOC0uMDQuMDctLjQ3LjgtLjA2LjEtLjQ2Ljc4LS4wNy4xMS0xLjYzIDIuNzYtLjA3LjExLS4zOC42Ni0uMDUuMDgtLjczIDEuMjQtLjM1LjYtLjQuNjctLjA1LjA5TDUuMSAyMC43bC0uMTEuMTgtLjE0LjIzLS4wNy4xMy0uMzMuNTUtLjA0LjA3di4wMWExLjI2IDEuMjYgMCAwIDAtLjE0LjQ3IDEuMzEgMS4zMSAwIDAgMCAxLjI0IDEuNGgxLjVsLjA1LS4wNi4wNC0uMDYuODctMS4yMS4wNS0uMDguNzctMS4wNy4wNS0uMDcuNC0uNTcuMDUtLjA2LjI0LS4zNGExLjUyIDEuNTIgMCAwIDEgMS4zOS0uNjIgMS41IDEuNSAwIDAgMSAuNjQuMiAxLjQ3IDEuNDcgMCAwIDEgLjczIDEuMjcgMS40NCAxLjQ0IDAgMCAxLS4yNy44NGwtLjYzLjg4LS4wNS4wNy0uMzIuNDUtLjA2LjA4LS4wOC4xMi0uMTIuMTYtLjA1LjA4aDIuMTNhMi4zMiAyLjMyIDAgMCAwIDEuNzctLjk2bDEuMTgtMS42My43Ny0xLjA4IDEuMy0xLjhhMS4yNCAxLjI0IDAgMCAxIC41NS0uNDNsLjA4LS4wM2ExLjMgMS4zIDAgMCAxIC4zLS4wNiAxLjI4IDEuMjggMCAwIDEgMS4xNS41NGwuMTEuMmExLjEzIDEuMTMgMCAwIDEgLjEuNDEgMS4xOSAxLjE5IDAgMCAxLS4yMy43N2wtLjAzLjA1LS41Ny44LS43Ljk4LS4yNy4zN2ExLjIyIDEuMjIgMCAwIDAtLjIuNSAxLjA1IDEuMDUgMCAwIDAtLjAyLjIzdi4wNmExLjE3IDEuMTcgMCAwIDAgLjE0LjQzbC4wMi4wNS4wNy4xYTEuNDQgMS40NCAwIDAgMCAuMS4xMWwuMDUuMDYuMDEuMDFhMS44IDEuOCAwIDAgMCAuMTQuMWMwIC4wMi4wMi4wMy4wNC4wM2ExIDEgMCAwIDAgLjA4LjA1bC4wNy4wNGExLjI1IDEuMjUgMCAwIDAgLjUuMWg2LjljLjEgMCAuMi0uMDEuMjktLjAzbC4wNi0uMDJhMS4yNyAxLjI3IDAgMCAwIC4yNy0uMS41Ny41NyAwIDAgMCAuMDctLjAzIDEuMjEgMS4yMSAwIDAgMCAuMjYtLjE5bC4wOC0uMDdhLjkyLjkyIDAgMCAwIC4xNS0uMTkgMS41NSAxLjU1IDAgMCAwIC4wOS0uMTdsLjAyLS4wNWExLjIyIDEuMjIgMCAwIDAgLjA4LS4yNnYtLjA0bC4wMi0uMDh2LS4wOGExLjMyIDEuMzIgMCAwIDAtLjItLjc0bC0xLjYtMi42NC0uMDYtLjEtLjItLjMyLS4zMy0uNTR2LS4wMWwtLjA1LS4wOC0xLjMtMi4xNS0uMDctLjEtLjA0LS4wNi0uOC0xLjMyLS4wNC0uMDctLjItLjM0LS4xLS4xNC0uMS0uMTYtLjUzLS45LS4xMy0uMi0uMDktLjE0LTIuMTctMy41Ny0uMDQtLjA3LS43Mi0xLjE5LS4wNS0uMDctLjQtLjY1YTIuNjUgMi42NSAwIDAgMC0uMy0uNCAyLjk2IDIuOTYgMCAwIDAtLjk3LS43NCAzLjA0IDMuMDQgMCAwIDAtMS4zLS4zYy0uMjUgMC0uNS4wNC0uNzQuMVoiLz48cGF0aCBmaWxsPSJ1cmwoI2IpIiBkPSJNMTkgMTYuM2E1LjQ1IDUuNDUgMCAwIDAtLjgzIDEuNTZsLS4wNC4xNWExLjM2IDEuMzYgMCAwIDEgLjI4LS4xNiAxLjI0IDEuMjQgMCAwIDEgLjM4LS4wOGguMWExLjI4IDEuMjggMCAwIDEgMS4wNS41NGMuMDQuMDYuMDguMTMuMS4yYTEuMjQgMS4yNCAwIDAgMSAuMDkuMjcgMS4xOSAxLjE5IDAgMCAxLS4yLjkxbC0uMDQuMDUtLjU3Ljc5LS43Ljk5LS4yNy4zN2ExLjIzIDEuMjMgMCAwIDAtLjIuNDIgMS4wNiAxLjA2IDAgMCAwLS4wMi4zMXYuMDZhMS4xNyAxLjE3IDAgMCAwIC4xNi40Ny45My45MyAwIDAgMCAuMDcuMSAxLjUgMS41IDAgMCAwIC4xLjEybC4wNS4wNmguMDFhMS45NCAxLjk0IDAgMCAwIC4wOS4wOCAxIDEgMCAwIDAgLjE3LjFsLjA3LjA0YTEuMjUgMS4yNSAwIDAgMCAuNS4xaDYuOWMuMSAwIC4yIDAgLjI4LS4wMmwuMDctLjAyYTEuMzIgMS4zMiAwIDAgMCAuMzQtLjEzbC4xNi0uMS4wMy0uMDNhMS4yOSAxLjI5IDAgMCAwIC4yLS4yIDIuNDMgMi40MyAwIDAgMCAuMTItLjE3Yy4wMy0uMDMuMDUtLjA4LjA3LS4xMmwuMDItLjA1YTEuMjEgMS4yMSAwIDAgMCAuMDktLjN2LS4wOGwuMDEtLjA5YTEuMzIgMS4zMiAwIDAgMC0uMi0uNzNsLTEuNi0yLjY0LS4wNi0uMS0uMi0uMzItLjMzLS41NHYtLjAybC0uMDUtLjA3LTEuMy0yLjE1LS4xMi0uMDctLjA3LS4wNGE0Ljk0IDQuOTQgMCAwIDAtMi40Ni0uNjdjLTEuMDMgMC0xLjc2LjU3LTIuMjYgMS4yWiIvPjxwYXRoIGZpbGw9IiNmZmYiIGQ9Ik0xMi4yOSAyMS4wOGMwIC4yOS0uMDkuNTgtLjI3Ljg0bC0xLjMxIDEuODRIN2wyLjUyLTMuNTNhMS41NCAxLjU0IDAgMCAxIDIuMS0uMzZjLjQzLjI4LjY2Ljc0LjY2IDEuMloiLz48cGF0aCBmaWxsPSIjMDAwIiBkPSJNMTEuMTYgMjEuMjVhLjU2LjU2IDAgMCAxLS41Ny41NS41Ni41NiAwIDAgMS0uNTctLjU2LjU2LjU2IDAgMCAxIC41Ny0uNTUuNTYuNTYgMCAwIDEgLjU3LjU2WiIvPjxkZWZzPjxsaW5lYXJHcmFkaWVudCBpZD0iYSIgeDE9IjE1LjIzIiB4Mj0iMTkuMyIgeTE9IjI1Ljc4IiB5Mj0iNi4xMSIgZ3JhZGllbnRVbml0cz0idXNlclNwYWNlT25Vc2UiPjxzdG9wIHN0b3AtY29sb3I9IiM2NTIyRjQiLz48c3RvcCBvZmZzZXQ9Ii41NSIgc3RvcC1jb2xvcj0iIzlCNkJGRiIvPjxzdG9wIG9mZnNldD0iMSIgc3RvcC1jb2xvcj0iI0E1ODVGRiIvPjwvbGluZWFyR3JhZGllbnQ+PGxpbmVhckdyYWRpZW50IGlkPSJiIiB4MT0iMjIuNTkiIHgyPSIyNC44IiB5MT0iMjQuNzEiIHkyPSIxNS41MyIgZ3JhZGllbnRVbml0cz0idXNlclNwYWNlT25Vc2UiPjxzdG9wIHN0b3AtY29sb3I9IiM0MjFGOEIiLz48c3RvcCBvZmZzZXQ9Ii41NSIgc3RvcC1jb2xvcj0iIzcyMzBGRiIvPjxzdG9wIG9mZnNldD0iMSIgc3RvcC1jb2xvcj0iIzk3NzNGRiIvPjwvbGluZWFyR3JhZGllbnQ+PC9kZWZzPjwvc3ZnPg==",webUrl:"https://asigna.io",chromeWebStoreUrl:"https://stx.asigna.io/"},{id:"FordefiProviders.UtxoProvider",name:"Fordefi",icon:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDIiIGhlaWdodD0iNDIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CiAgPHBhdGggZmlsbD0iIzEwMTExNCIgZD0iTTAgMGg0MnY0MkgweiIvPgogIDxwYXRoIGQ9Ik0xOS40NyAyNi44OUg1djMuNTdhNC41NyA0LjU3IDAgMCAwIDQuNTggNC41N2g1LjgzbDQuMDYtOC4xNFoiIGZpbGw9IiM3OTk0RkYiLz4KICA8cGF0aCBkPSJNNSAxNy40aDI3LjU4bC0zLjIgNi43OEg1VjE3LjRaIiBmaWxsPSIjNDg2REZGIi8+CiAgPHBhdGggZD0iTTE0LjY3IDdINXY3LjY4aDMzVjdoLTkuNjd2NS43NGgtMlY3aC05LjY3djUuNzRoLTEuOTlWN1oiIGZpbGw9IiM1Q0QxRkEiLz4KPC9zdmc+Cg==",webUrl:"https://www.fordefi.com/",chromeWebStoreUrl:"https://chromewebstore.google.com/detail/fordefi/hcmehenccjdmfbojapcbcofkgdpbnlle"}],Iae={id:"WalletConnectProvider",name:"WalletConnect",icon:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI0MDAiIGhlaWdodD0iNDAwIiBmaWxsPSJub25lIj48bWFzayBpZD0iYSIgd2lkdGg9IjQwMCIgaGVpZ2h0PSI0MDAiIHg9IjAiIHk9IjAiIG1hc2tVbml0cz0idXNlclNwYWNlT25Vc2UiIHN0eWxlPSJtYXNrLXR5cGU6bHVtaW5hbmNlIj48cGF0aCBmaWxsPSIjZmZmIiBkPSJNMCAwaDQwMHY0MDBIMFYwWiIvPjwvbWFzaz48ZyBtYXNrPSJ1cmwoI2EpIj48cGF0aCBmaWxsPSIjMzM5NkZGIiBkPSJNNDAwIDQwMEgwVjBoNDAwdjQwMFoiLz48cGF0aCBmaWxsPSIjZmZmIiBkPSJNMTIyLjUyIDE0OC45N2M0Mi43OS00MS43MyAxMTIuMTctNDEuNzMgMTU0Ljk2IDBsNS4xNSA1LjAyYTUuMjUgNS4yNSAwIDAgMSAwIDcuNTVsLTE3LjYyIDE3LjE4YTIuNzkgMi43OSAwIDAgMS0zLjg3IDBsLTcuMDktNi45Yy0yOS44NS0yOS4xMi03OC4yNS0yOS4xMi0xMDguMSAwbC03LjYgNy40YTIuNzkgMi43OSAwIDAgMS0zLjg3IDBsLTE3LjYxLTE3LjE5YTUuMjUgNS4yNSAwIDAgMSAwLTcuNTVsNS42NS01LjUxWm0xOTEuNCAzNS41MiAxNS42OCAxNS4zYTUuMjUgNS4yNSAwIDAgMSAwIDcuNTVsLTcwLjcgNjguOTRhNS41OCA1LjU4IDAgMCAxLTcuNzUgMGwtNTAuMTgtNDguOTNhMS40IDEuNCAwIDAgMC0xLjk0IDBsLTUwLjE4IDQ4LjkzYTUuNTggNS41OCAwIDAgMS03Ljc0IDBsLTcwLjctNjguOTRhNS4yNSA1LjI1IDAgMCAxIDAtNy41NmwxNS42Ny0xNS4yOWE1LjU4IDUuNTggMCAwIDEgNy43NSAwbDUwLjE4IDQ4Ljk0Yy41NC41MiAxLjQuNTIgMS45NCAwbDUwLjE4LTQ4Ljk0YTUuNTggNS41OCAwIDAgMSA3Ljc0IDBsNTAuMTggNDguOTRjLjU0LjUyIDEuNC41MiAxLjk0IDBsNTAuMTgtNDguOTRhNS41OCA1LjU4IDAgMCAxIDcuNzUgMFoiLz48L2c+PC9zdmc+",webUrl:"https://walletconnect.com/",chromeWebStoreUrl:""},Dae=Kae,qM="@stacks/connect",Oae={addresses:{stx:[],btc:[]},version:"0.0.1"},G5=t=>[...new Map(t.map(e=>[e.address,e])).values()].map(e=>{var n=Cae(e,[]);return"publicKey"in n&&delete n.publicKey,"derivationPath"in n&&delete n.derivationPath,"tweakedPublicKey"in n&&delete n.tweakedPublicKey,n});function Mae(t){try{let e=Rae()||Oae,n=Oa(Ss({},e),{updatedAt:Date.now(),addresses:Ss(Ss({},e.addresses),t.addresses&&{stx:t.addresses.stx&&G5([...e.addresses.stx,...t.addresses.stx]),btc:t.addresses.btc&&G5([...e.addresses.btc,...t.addresses.btc])})});localStorage.setItem(qM,cp(Tm(JSON.stringify(n))))}catch(e){console.warn("Failed to store data in localStorage:",e)}}function Rae(){try{let t=localStorage.getItem(qM);return t?JSON.parse(ok(Yc(t))):null}catch(t){return console.warn("Failed to get data from localStorage:",t),null}}var $ae=["stx_signMessage","stx_signTransaction","stx_signStructuredMessage","stx_getAccounts","stx_getAddresses","stx_updateProfile","stx_transferStx","stx_transferSip10Ft","stx_transferSip9Nft","stx_callContract","stx_deployContract","sendTransfer","signPsbt","getAddresses"],x2={id:1,chainNamespace:"stacks",caipNetworkId:"stacks:1",name:"Stacks",nativeCurrency:{name:"STX",symbol:"STX",decimals:6},rpcUrls:{default:{http:["https://api.mainnet.hiro.so"]}}},Uae={projectId:"your_project_id",metadata:{name:"Universal Connector",description:"Universal Connector",url:"https://appkit.reown.com",icons:["https://appkit.reown.com/icon.png"]},networks:[{namespace:"stacks",chains:[x2],methods:$ae,events:["stx_chainChanged","stx_accountsChanged"]},{namespace:"bip122",chains:[kM],methods:["signMessage","sendTransfer","signPsbt","getAccountAddresses"],events:["bip122_addressesChanged"]}]};function Y5(t){return{jsonrpc:"2.0",id:1,result:t}}var Pae=class{constructor(t){this.connector=t}async connect(){try{let{session:t}=await this.connector.connect();return t}catch(t){throw console.error(">> WalletConnectProvider connect error",t),t}}get stacksAddresses(){var t;let e=(t=this.connector.provider)==null?void 0:t.session,n=e?.sessionProperties.stacks_getAddresses,s=JSON.parse(n||"[]"),i=[...e.namespaces.stacks.accounts.map(a=>({address:a.split(":")[2],publicKey:""}))||[],...s||[]].sort(a=>a.publicKey?1:-1);return Array.from(new Map(i.map(a=>[a.address,a])).values())}get btcAddresses(){var t;let e=(t=this.connector.provider)==null?void 0:t.session,n=e?.sessionProperties.bip122_getAccountAddresses,s=JSON.parse(n||"{}"),i=e.namespaces.bip122.accounts.map(c=>({address:c.split(":")[2],publicKey:""})),a=[...s?.payment.map(c=>Oa(Ss({},c),{purpose:"payment"}))||[],...s?.ordinal.map(c=>Oa(Ss({},c),{purpose:"ordinal"}))||[],...i||[]].sort(c=>c.publicKey?1:-1).sort((c,u)=>c?.address.length-u?.address.length);return Array.from(new Map(a.map(c=>[c.address,c])).values())}async getAddresses(){var t;let e=(t=this.connector.provider)==null?void 0:t.session;e||(e=await this.connect());let n=this.stacksAddresses||[],s=this.btcAddresses||[];return{addresses:[...n,...s]}}validateRpcMethod(t){var e,n,s,i;if(["getAddresses","stx_getAccounts","stx_getAddresses"].includes(t))return;if(!((e=this.connector.provider)!=null&&e.session))throw new Error("WalletConnectProvider not connected. Please connect first.");let a=(n=this.connector.provider)==null?void 0:n.session.namespaces,c=((s=a.stacks)==null?void 0:s.methods)||[],u=((i=a.bip122)==null?void 0:i.methods)||[];if(![...c,...u].includes(t))throw new Error(`WalletConnectProvider does not support method ${t}. Please use a supported method.`)}getTargetCaipNetworkId(t){var e,n,s,i,a,c,u,f;if(["getAddresses","stx_getAccounts","stx_getAddresses"].includes(t)||(i=(s=(n=(e=this.connector.provider)==null?void 0:e.session)==null?void 0:n.namespaces)==null?void 0:s.stacks)!=null&&i.methods.includes(t))return x2.caipNetworkId;if((f=(u=(c=(a=this.connector.provider)==null?void 0:a.session)==null?void 0:c.namespaces)==null?void 0:u.bip122)!=null&&f.methods.includes(t))return kM.caipNetworkId;throw new Error(`WalletConnectProvider does not support method ${t}. Please use a supported method.`)}async request(t,e){var n,s,i,a;try{this.validateRpcMethod(t);let c=this.getTargetCaipNetworkId(t);switch(t){case"getAddresses":case"stx_getAddresses":case"stx_getAccounts":let u=await this.getAddresses();return Y5(u);case"stx_signMessage":let f=((a=(i=(s=(n=this.connector.provider)==null?void 0:n.session)==null?void 0:s.namespaces)==null?void 0:i.stacks)==null?void 0:a.accounts[0]).split(":")[2],h=await this.connector.request({method:t,params:Ss({address:f},e)},c);return Y5(h);default:return await this.connector.request({method:t,params:e},c)}}catch(c){throw console.error(">> WalletConnectProvider request error",c),c}}async disconnect(){await this.connector.disconnect()}},Lae=async t=>{let e=await gA.init(Oa(Ss({},Uae),{projectId:t})),n=new Pae(e);window.WalletConnectProvider=n};async function X5(t,e,n){var s;try{let i=await t.request(e,n);if("error"in i)throw ku.fromResponse(i.error);return i.result}catch(i){if(i instanceof ku)throw i;if("jsonrpc"in i)throw ku.fromResponse(i.error);let a=(s=i.code)!=null?s:-31e3;throw new ku(i.message,a,i.data,i)}}function kae(t){return t?async function(e,n,s){let i=await X5(e,n,s);if((n==="getAddresses"||n==="wallet_connect")&&"addresses"in i){let{stx:a,btc:c}=Wae(i.addresses).reduce((u,f)=>(u[f.address.startsWith("S")?"stx":"btc"].push(f),u),{stx:[],btc:[]});Mae({addresses:{stx:a,btc:c}})}return i}:X5}async function Bae(...t){let{options:e,method:n,params:s}=jae(t),i=_ae;e!=null&&e.walletConnectProjectId&&(await Lae(e.walletConnectProjectId).catch(console.error),i=[...i,Iae]);let a=Object.assign({provider:bk(),defaultProviders:i,forceWalletSelect:!1,persistWalletSelect:!0,enableOverrides:!0,enableLocalStorage:!0},Fae(e)),c=qae(a.enableOverrides,kae(a.enableLocalStorage));if(a.provider&&!a.forceWalletSelect){let{method:u,params:f}=J5(a.provider,n,s,a.enableOverrides);return await c(a.provider,u,tI(f))}if(typeof window<"u")return lB(),new Promise((u,f)=>{let h=document.createElement("connect-modal");h.defaultProviders=Q5(a.approvedProviderIds,i),h.installedProviders=Q5(a.approvedProviderIds,wk(i));let p=document.body.style.overflow;document.body.style.overflow="hidden";let g=()=>{h.remove(),document.body.style.overflow=p};h.callback=b=>{g();let v=gE(b),{method:E,params:A}=J5(v,n,s,a.enableOverrides),S=Vae(a.persistWalletSelect,b);u(c(v,E,tI(A)).then(S))},h.cancelCallback=()=>{g(),f(new ku("User canceled the request",-31001))},document.body.appendChild(h);let y=b=>{b.key==="Escape"&&(document.removeEventListener("keydown",y),h.remove(),f(new ku("User canceled the request",-31001)))};document.addEventListener("keydown",y)})}function jae(t){return typeof t[0]=="string"?{method:t[0],params:t[1]}:{options:t[0],method:t[1],params:t[2]}}function Q5(t,e){return t?e.filter(n=>t.includes(n.id)):e}function T0(t){return zae(t)||Hae(t)}function zae(t){return"signMultipleTransactions"in t&&"createRepeatInscriptions"in t&&!(t!=null&&t.isLeather)&&!(t!=null&&t.isFordefi)}function Hae(t){return"isFordefi"in t&&!!t.isFordefi}function Z5(t){return"isLeather"in t&&!!t.isLeather}function Fae(t){if(t===void 0)return{};let e={};for(let[n,s]of Object.entries(t))s!==void 0&&(e[n]=s);return e}function qae(t,e){return t?async(n,s,i)=>{let a=await e(n,s,i),c=Ss({},a);return a!==null&&"txId"in a&&a.txId&&!("txid"in c)&&(c.txid=a.txId),a!==null&&"hex"in a&&a.hex&&typeof a.hex=="string"&&!("psbt"in c)&&(c.psbt=Q8.encode(Yc(a.hex))),c}:e}function J5(t,e,n,s=!0){if(!s)return{method:e,params:n};if(T0(t)&&["getAddresses","stx_getAddresses"].includes(e))return{method:"wallet_connect",params:n};if(T0(t)&&e==="sendTransfer"){let i=Oa(Ss({},n),{recipients:n.recipients.map(a=>Oa(Ss({},a),{amount:Number(a.amount)})),network:void 0});return{method:e,params:i}}if(T0(t)&&e==="signPsbt"){let i=n.signInputs;if(!i)return{method:e,params:n};let a={};for(let u of i)typeof u!="number"&&u.address&&(a[u.address]||(a[u.address]=[]),a[u.address].push(u.index));let c={psbt:n.psbt,signInputs:a,broadcast:n.broadcast};return{method:e,params:c}}if(!T0(t)&&e==="stx_signMessage"){let i=Ss({},n);return delete i.publicKey,{method:e,params:i}}if(Z5(t)&&e==="sendTransfer"){let i=Oa(Ss({},n),{recipients:n.recipients.map(a=>Oa(Ss({},a),{amount:a.amount.toString()}))});return{method:e,params:i}}if(Z5(t)&&e==="signPsbt"){let i={hex:cp(Q8.decode(n.psbt)),signAtIndex:n.signInputs.map(a=>typeof a=="number"?a:a.index),allowedSighash:n.allowedSighash,broadcast:n.broadcast,network:n.network};return{method:e,params:i}}return{method:e,params:n}}var eI=["stx-postcondition","ft-postcondition","nft-postcondition"];function tI(t){if(!t||typeof t!="object")return t;let e=Ss({},t);for(let[n,s]of Object.entries(t)){if(typeof s=="bigint"){e[n]=s.toString();continue}if(s){if(Array.isArray(s)){e[n]=s.map(i=>typeof i=="bigint"?i.toString():!i||typeof i!="object"||!("type"in i)?i:eI.includes(i.type)?cN(i):lN(i));continue}typeof s=="object"&&"type"in s&&(e[n]=eI.includes(s.type)?cN(s):lN(s))}}return JSON.parse(JSON.stringify(e))}function Vae(t,e){return function(n){if(t)try{mk(e)}catch{}return n}}function Wae(t){return t.slice().sort((e,n)=>{let s="purpose"in e&&e.purpose==="payment",i="purpose"in n&&n.purpose==="payment";return s&&!i?-1:!s&&i?1:0})}typeof window<"u"&&(window.__CONNECT_VERSION__="__VERSION__");var Kae=async(t,e)=>{var n,s,i,a,c,u;let{onFinish:f,onCancel:h,userSession:p}=t,g=Zae(p);g.isUserSignedIn()&&g.signUserOut();try{let y=await Bae({provider:e,forceWalletSelect:!0},"getAddresses"),b=g.store.getSessionData();(n=b.userData)!=null||(b.userData={profile:{}}),(i=(s=b.userData).profile)!=null||(s.profile={}),(c=(a=b.userData.profile).stxAddress)!=null||(a.stxAddress={mainnet:"",testnet:""});let v=y.addresses.find(S=>S?.symbol==="STX"||S.address.startsWith("S")).address.toUpperCase(),E=v[1]==="P"||v[1]==="M";Object.assign(b.userData.profile.stxAddress,{[E?"mainnet":"testnet"]:v});let A=(u=y.addresses.find(S=>{var D;return(D=S?.address)!=null&&D.startsWith("S")?!1:S.purpose==="payment"?!0:nI(S?.address)?y.addresses.every(x=>{var N;return((N=x?.address)==null?void 0:N.startsWith("S"))||nI(x?.address)}):!0}))==null?void 0:u.address;A&&(b.userData.profile.btcAddress=A),g.store.setSessionData(b),f?.({userSession:g,authResponsePayload:b.userData})}catch(y){console.error("[Connect] Error during auth request",y),h?.(y)}},Gae="blockstack-session",Yae=class{constructor(t,e,n,s,i,a){}},VM=class{constructor(t){t!=null&&t.appConfig&&(this.appConfig=t.appConfig),typeof window>"u"&&typeof self>"u"?this.store=new Xae:this.store=new Qae}makeAuthRequestToken(){}generateAndStoreTransitKey(){}getAuthResponseToken(){}isSignInPending(){return!1}isUserSignedIn(){return!!this.store.getSessionData().userData}async handlePendingSignIn(){return Promise.resolve(this.loadUserData())}loadUserData(){let t=this.store.getSessionData().userData;if(!t)throw new uE("No user data found. Did the user sign in?");return t}encryptContent(){}decryptContent(){}signUserOut(t){this.store.deleteSessionData(),t&&typeof location<"u"&&location.href&&(location.href=t)}},WM=class{constructor(t){t&&this.setSessionData(t)}getSessionData(){throw new Error("Abstract class")}setSessionData(t){throw new Error("Abstract class")}deleteSessionData(){throw new Error("Abstract class")}},Xae=class extends WM{constructor(t){super(t),this.sessionData||this.setSessionData({})}getSessionData(){if(!this.sessionData)throw new uE("No session data was found.");return this.sessionData}setSessionData(t){return this.sessionData=t,!0}deleteSessionData(){return this.setSessionData({}),!0}},Qae=class extends WM{constructor(t){var e;super(t),this.key=typeof((e=t?.storeOptions)==null?void 0:e.localStorageKey)=="string"?t.storeOptions.localStorageKey:Gae,localStorage.getItem(this.key)||this.setSessionData({})}getSessionData(){let t=localStorage.getItem(this.key);if(!t)throw new uE("No session data was found in localStorage");return JSON.parse(t)}setSessionData(t){return localStorage.setItem(this.key,JSON.stringify(t)),!0}deleteSessionData(){return localStorage.removeItem(this.key),this.setSessionData({}),!0}},Zae=t=>t||new VM;function nI(t){let e=["bc1p","tb1p","bcrt1p"],n=[62,62,64],s=e.findIndex(i=>t.startsWith(i));return s===-1?!1:t.length===n[s]}var Jae=(t=>(t.ContractCall="contract_call",t.ContractDeploy="smart_contract",t.STXTransfer="token_transfer",t))(Jae||{}),ece=(t=>(t.BUFFER="buffer",t.UINT="uint",t.INT="int",t.PRINCIPAL="principal",t.BOOL="bool",t))(ece||{}),tce=(t=>(t[t.DEFAULT=0]="DEFAULT",t[t.ALL=1]="ALL",t[t.NONE=2]="NONE",t[t.SINGLE=3]="SINGLE",t[t.ANYONECANPAY=128]="ANYONECANPAY",t))(tce||{});const nce=new Yae(["store_write","publish_data"]),np=new VM({appConfig:nce}),sce=(t,e)=>{Dae({onFinish:n=>{const s=n.userSession.loadUserData();t(s.profile.stxAddress.testnet)},onCancel:()=>{e&&e()},userSession:np})},ice=()=>{np.signUserOut("/")},rce=()=>np.isUserSignedIn(),oce=()=>np.isUserSignedIn()?np.loadUserData().profile.stxAddress.testnet:null,ace=async t=>new Promise(e=>{setTimeout(()=>{console.log("Quest Pass minted for:",t),e({success:!0,txId:"mock-tx-"+Date.now(),message:"Quest Pass NFT minted successfully!"})},2e3)}),cce=async(t,e)=>new Promise(n=>{setTimeout(()=>{console.log(`Quest Badge Level ${e} minted for:`,t),n({success:!0,txId:"mock-tx-"+Date.now(),message:`Quest Badge Level ${e} minted successfully!`})},2e3)}),KM=()=>{const{walletConnected:t,walletAddress:e,connectWallet:n,disconnectWallet:s}=tf();yo.useEffect(()=>{if(rce()){const u=oce();u&&n(u)}},[]);const i=()=>{sce(u=>{n(u)},()=>{console.log("Wallet connection cancelled")})},a=()=>{ice(),s()},c=u=>u?`${u.slice(0,6)}...${u.slice(-4)}`:"";return X.jsx("div",{className:"flex items-center gap-4",children:t?X.jsxs("div",{className:"flex items-center gap-3",children:[X.jsx("div",{className:"bg-game-blue/20 border-2 border-game-yellow px-4 py-2 rounded-lg",children:X.jsx("span",{className:"font-retro text-sm",children:c(e)})}),X.jsx(Ve.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:a,className:"bg-red-600 text-white px-4 py-2 rounded-lg font-pixel text-xs hover:bg-red-700 transition-all",children:"Disconnect"})]}):X.jsxs(Ve.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:i,className:"flex items-center gap-2 bg-game-yellow text-game-dark px-6 py-3 rounded-lg font-pixel text-xs hover:box-shadow-neon transition-all",children:[X.jsx(ek,{}),"Connect Wallet"]})})},lce=({onStartGame:t,onMintPass:e})=>{const{walletConnected:n,questPassMinted:s}=tf();return X.jsxs("div",{className:"min-h-screen bg-game-dark flex flex-col items-center justify-center p-8",children:[X.jsxs(Ve.div,{initial:{opacity:0,y:-50},animate:{opacity:1,y:0},transition:{duration:.8},className:"text-center",children:[X.jsx(Ve.h1,{className:"font-pixel text-4xl md:text-6xl text-game-yellow text-shadow-glow mb-4",animate:{scale:[1,1.05,1]},transition:{duration:2,repeat:1/0},children:"🧱 BLOCK QUEST"}),X.jsx(Ve.p,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.3},className:"font-retro text-xl text-white mb-8 max-w-2xl",children:"A blockchain mining adventure on Stacks (Bitcoin Layer 2)"}),X.jsx("div",{className:"mb-12 flex justify-center",children:X.jsx(KM,{})}),X.jsxs(Ve.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.5},className:"bg-game-blue/10 border-2 border-game-yellow rounded-lg p-8 mb-8 max-w-3xl",children:[X.jsx("h2",{className:"font-pixel text-2xl text-game-yellow mb-6",children:"How to Play"}),X.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 text-left",children:[X.jsxs("div",{className:"flex items-start gap-3",children:[X.jsx(cE,{className:"text-game-yellow text-3xl mt-1"}),X.jsxs("div",{children:[X.jsx("h3",{className:"font-pixel text-sm text-white mb-2",children:"Mine Blocks"}),X.jsx("p",{className:"font-retro text-gray-300",children:"Click tiles to discover coins (60%), crystals (20%), empty blocks (15%), or traps (5%)"})]})]}),X.jsxs("div",{className:"flex items-start gap-3",children:[X.jsx(lE,{className:"text-blue-400 text-3xl mt-1"}),X.jsxs("div",{children:[X.jsx("h3",{className:"font-pixel text-sm text-white mb-2",children:"Level Up"}),X.jsx("p",{className:"font-retro text-gray-300",children:"Earn XP from mining. Every 500 XP = Level Up!"})]})]}),X.jsxs("div",{className:"flex items-start gap-3",children:[X.jsx(uv,{className:"text-green-400 text-3xl mt-1"}),X.jsxs("div",{children:[X.jsx("h3",{className:"font-pixel text-sm text-white mb-2",children:"Mint NFTs"}),X.jsx("p",{className:"font-retro text-gray-300",children:"Get Quest Pass to start, then mint Quest Badges as you level up"})]})]}),X.jsxs("div",{className:"flex items-start gap-3",children:[X.jsx(p4,{className:"text-purple-400 text-3xl mt-1"}),X.jsxs("div",{children:[X.jsx("h3",{className:"font-pixel text-sm text-white mb-2",children:"Compete"}),X.jsx("p",{className:"font-retro text-gray-300",children:"Climb the leaderboard and prove you're the ultimate miner!"})]})]})]})]}),X.jsxs("div",{className:"flex flex-col md:flex-row gap-6 justify-center items-center",children:[X.jsxs(Ve.button,{whileHover:{scale:1.1},whileTap:{scale:.95},onClick:t,disabled:!n,className:`flex items-center gap-3 px-8 py-4 rounded-lg font-pixel text-lg transition-all ${n?"bg-game-yellow text-game-dark hover:box-shadow-neon cursor-pointer":"bg-gray-600 text-gray-400 cursor-not-allowed"}`,children:[X.jsx(p4,{}),"Start Quest"]}),n&&!s&&X.jsxs(Ve.button,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},whileHover:{scale:1.1},whileTap:{scale:.95},onClick:e,className:"flex items-center gap-3 bg-green-600 text-white px-8 py-4 rounded-lg font-pixel text-lg hover:bg-green-700 transition-all",children:[X.jsx(uv,{}),"Mint Quest Pass"]})]}),!n&&X.jsx(Ve.p,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.8},className:"font-retro text-gray-400 mt-6",children:"⚠️ Connect your wallet to start playing"})]}),X.jsx(Ve.footer,{initial:{opacity:0},animate:{opacity:1},transition:{delay:1},className:"absolute bottom-4 text-center font-retro text-gray-500",children:"Built on Stacks • Powered by Bitcoin"})]})},uce=({onLevelUp:t})=>{const{mineBlock:e,minedBlocks:n}=tf(),[s,i]=me.useState(null),[a,c]=me.useState({}),u=10,f=Array.from({length:u*u},(y,b)=>b),h=y=>{if(n.includes(y))return;const b=e(y);b&&(i(y),c(v=>({...v,[y]:b.result})),setTimeout(()=>{i(null),b.levelUp&&t(b.newLevel)},800))},p=y=>{const b=a[y];if(!b)return"?";switch(b){case"coin":return X.jsx(cE,{className:"text-yellow-400 text-2xl"});case"crystal":return X.jsx(lE,{className:"text-blue-400 text-2xl"});case"trap":return X.jsx(k8,{className:"text-red-500 text-2xl"});case"empty":return X.jsx("span",{className:"text-gray-500 text-2xl",children:"∅"});default:return"?"}},g=y=>{if(!n.includes(y))return"bg-gradient-to-br from-gray-700 to-gray-800 hover:from-gray-600 hover:to-gray-700";switch(a[y]){case"coin":return"bg-gradient-to-br from-yellow-600 to-yellow-800";case"crystal":return"bg-gradient-to-br from-blue-600 to-blue-800";case"trap":return"bg-gradient-to-br from-red-600 to-red-800";case"empty":return"bg-gradient-to-br from-gray-600 to-gray-800";default:return"bg-gray-700"}};return X.jsx("div",{className:"flex justify-center items-center p-4",children:X.jsx("div",{className:"grid grid-cols-10 gap-1 md:gap-2 max-w-4xl",children:f.map(y=>{const b=n.includes(y),v=s===y;return X.jsx(Ve.button,{onClick:()=>h(y),disabled:b,className:`
                w-10 h-10 md:w-14 md:h-14 lg:w-16 lg:h-16
                rounded-lg border-2 border-game-yellow/30
                flex items-center justify-center
                transition-all duration-300
                ${g(y)}
                ${b?"cursor-not-allowed":"cursor-pointer hover:border-game-yellow"}
                ${v?"border-game-yellow box-shadow-neon":""}
              `,whileHover:b?{}:{scale:1.1},whileTap:b?{}:{scale:.9},animate:v?{rotateY:[0,180],scale:[1,1.2,1]}:{},transition:{duration:.6},children:X.jsx(Z2,{mode:"wait",children:b?X.jsx(Ve.div,{initial:{opacity:0,scale:0},animate:{opacity:1,scale:1},exit:{opacity:0,scale:0},transition:{duration:.3},children:p(y)},"result"):X.jsx(Ve.span,{className:"text-game-yellow text-2xl md:text-3xl font-pixel",animate:{opacity:[.5,1,.5]},transition:{duration:2,repeat:1/0},children:"?"},"question")})},y)})})})},fce=({onMintBadge:t})=>{const{coins:e,crystals:n,traps:s,level:i,xp:a,questBadges:c}=tf(),u=i*500,f=a/u*100;return X.jsxs("div",{className:"bg-game-blue/10 border-2 border-game-yellow rounded-lg p-6 w-full max-w-md",children:[X.jsx("h2",{className:"font-pixel text-xl text-game-yellow mb-6 text-center",children:"Inventory"}),X.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[X.jsxs(Ve.div,{whileHover:{scale:1.05},className:"bg-yellow-900/30 border border-yellow-600 rounded-lg p-4 flex items-center gap-3",children:[X.jsx(cE,{className:"text-yellow-400 text-3xl"}),X.jsxs("div",{children:[X.jsx("p",{className:"font-retro text-gray-300 text-sm",children:"Coins"}),X.jsx("p",{className:"font-pixel text-xl text-white",children:e})]})]}),X.jsxs(Ve.div,{whileHover:{scale:1.05},className:"bg-blue-900/30 border border-blue-600 rounded-lg p-4 flex items-center gap-3",children:[X.jsx(lE,{className:"text-blue-400 text-3xl"}),X.jsxs("div",{children:[X.jsx("p",{className:"font-retro text-gray-300 text-sm",children:"Crystals"}),X.jsx("p",{className:"font-pixel text-xl text-white",children:n})]})]}),X.jsxs(Ve.div,{whileHover:{scale:1.05},className:"bg-red-900/30 border border-red-600 rounded-lg p-4 flex items-center gap-3",children:[X.jsx(k8,{className:"text-red-400 text-3xl"}),X.jsxs("div",{children:[X.jsx("p",{className:"font-retro text-gray-300 text-sm",children:"Traps"}),X.jsx("p",{className:"font-pixel text-xl text-white",children:s})]})]}),X.jsxs(Ve.div,{whileHover:{scale:1.05},className:"bg-purple-900/30 border border-purple-600 rounded-lg p-4 flex items-center gap-3",children:[X.jsx(B8,{className:"text-purple-400 text-3xl"}),X.jsxs("div",{children:[X.jsx("p",{className:"font-retro text-gray-300 text-sm",children:"Level"}),X.jsx("p",{className:"font-pixel text-xl text-white",children:i})]})]})]}),X.jsxs("div",{className:"mb-6",children:[X.jsxs("div",{className:"flex justify-between items-center mb-2",children:[X.jsx("span",{className:"font-retro text-sm text-gray-300",children:"XP Progress"}),X.jsxs("span",{className:"font-retro text-sm text-game-yellow",children:[a," / ",u]})]}),X.jsx("div",{className:"w-full bg-gray-700 rounded-full h-4 overflow-hidden border border-game-yellow/50",children:X.jsx(Ve.div,{className:"bg-gradient-to-r from-game-yellow to-yellow-600 h-full",initial:{width:0},animate:{width:`${f}%`},transition:{duration:.5}})})]}),c.length>0&&X.jsxs("div",{className:"mb-4",children:[X.jsxs("h3",{className:"font-pixel text-sm text-game-yellow mb-3 flex items-center gap-2",children:[X.jsx(JL,{className:"text-yellow-400"}),"Quest Badges"]}),X.jsx("div",{className:"flex flex-wrap gap-2",children:c.map((h,p)=>X.jsx(Ve.div,{initial:{scale:0},animate:{scale:1},className:"bg-gradient-to-br from-yellow-600 to-orange-600 border-2 border-yellow-400 rounded-lg px-3 py-2",children:X.jsxs("span",{className:"font-pixel text-xs text-white",children:["Lvl ",h.level]})},p))})]}),i>c.length&&X.jsxs(Ve.button,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},whileHover:{scale:1.05},whileTap:{scale:.95},onClick:t,className:"w-full bg-gradient-to-r from-green-600 to-green-700 text-white px-6 py-3 rounded-lg font-pixel text-xs hover:from-green-500 hover:to-green-600 transition-all border-2 border-green-400",children:["🏆 Mint Level ",i," Badge"]})]})},dce=({isOpen:t,level:e,onClose:n,onMintBadge:s})=>X.jsx(Z2,{children:t&&X.jsx(Ve.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/80 flex items-center justify-center z-50 p-4",children:X.jsxs(Ve.div,{initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0},exit:{scale:0,rotate:180},transition:{type:"spring",duration:.8},className:"bg-gradient-to-br from-game-dark to-purple-900 border-4 border-game-yellow rounded-lg p-8 max-w-md w-full text-center relative overflow-hidden",children:[[...Array(20)].map((i,a)=>X.jsx(Ve.div,{className:"absolute",initial:{opacity:0,scale:0},animate:{opacity:[0,1,0],scale:[0,1,0],x:Math.random()*400-200,y:Math.random()*400-200},transition:{duration:2,delay:Math.random()*.5,repeat:1/0,repeatDelay:Math.random()*2},children:X.jsx(QL,{className:"text-game-yellow"})},a)),X.jsx(Ve.div,{animate:{scale:[1,1.2,1]},transition:{duration:1,repeat:1/0},className:"relative z-10",children:X.jsx(B8,{className:"text-8xl text-game-yellow mx-auto mb-4"})}),X.jsx(Ve.h2,{className:"font-pixel text-3xl text-game-yellow mb-2 relative z-10",animate:{scale:[1,1.05,1]},transition:{duration:.5,repeat:1/0},children:"LEVEL UP!"}),X.jsxs(Ve.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"font-retro text-2xl text-white mb-6 relative z-10",children:["You've reached Level ",e,"!"]}),X.jsxs(Ve.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},className:"bg-game-blue/20 border border-game-yellow/50 rounded-lg p-4 mb-6 relative z-10",children:[X.jsx(j8,{className:"text-yellow-400 text-4xl mx-auto mb-2"}),X.jsxs("p",{className:"font-retro text-gray-300",children:["Congratulations! You can now mint your Level ",e," Quest Badge NFT to commemorate this achievement!"]})]}),X.jsxs("div",{className:"flex gap-4 relative z-10",children:[X.jsx(Ve.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:n,className:"flex-1 bg-gray-600 text-white px-6 py-3 rounded-lg font-pixel text-xs hover:bg-gray-700 transition-all",children:"Continue"}),X.jsx(Ve.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{n(),s()},className:"flex-1 bg-gradient-to-r from-green-600 to-green-700 text-white px-6 py-3 rounded-lg font-pixel text-xs hover:from-green-500 hover:to-green-600 transition-all border-2 border-green-400",children:"Mint Badge"})]})]})})}),GM=({isOpen:t,onClose:e,type:n,level:s,onConfirm:i})=>{const[a,c]=me.useState(!1),[u,f]=me.useState(!1),h=async()=>{c(!0),await i(),c(!1),f(!0),setTimeout(()=>{f(!1),e()},2e3)},p=n==="pass",g=p?"Mint Quest Pass":`Mint Quest Badge Level ${s}`,y=p?"Your Quest Pass NFT grants you access to the Block Quest adventure. This is your proof of participation on the blockchain!":`Congratulations on reaching Level ${s}! Mint your Quest Badge NFT to commemorate this achievement on the blockchain.`,b=p?X.jsx(uv,{className:"text-6xl"}):X.jsx(j8,{className:"text-6xl"});return X.jsx(Z2,{children:t&&X.jsx(Ve.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/80 flex items-center justify-center z-50 p-4",onClick:e,children:X.jsxs(Ve.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.8,opacity:0},onClick:v=>v.stopPropagation(),className:"bg-game-dark border-4 border-game-yellow rounded-lg p-8 max-w-md w-full relative",children:[X.jsx("button",{onClick:e,className:"absolute top-4 right-4 text-gray-400 hover:text-white transition-colors",children:X.jsx(ZL,{className:"text-2xl"})}),X.jsx("div",{className:"text-center",children:u?X.jsxs(Ve.div,{initial:{scale:0},animate:{scale:1},className:"text-green-400",children:[X.jsx(Ve.div,{animate:{rotate:360},transition:{duration:1},children:"✅"}),X.jsx("h2",{className:"font-pixel text-2xl mt-4",children:"Success!"}),X.jsx("p",{className:"font-retro text-lg mt-2",children:"NFT Minted Successfully"})]}):X.jsxs(X.Fragment,{children:[X.jsx(Ve.div,{animate:{scale:[1,1.1,1]},transition:{duration:2,repeat:1/0},className:"text-game-yellow mb-4 flex justify-center",children:b}),X.jsx("h2",{className:"font-pixel text-2xl text-game-yellow mb-4",children:g}),X.jsx("p",{className:"font-retro text-gray-300 mb-6",children:y}),X.jsxs("div",{className:"bg-game-blue/20 border border-game-yellow/50 rounded-lg p-4 mb-6",children:[X.jsx("p",{className:"font-retro text-sm text-gray-400 mb-2",children:"NFT Details:"}),X.jsxs("ul",{className:"font-retro text-sm text-white space-y-1 text-left",children:[X.jsxs("li",{children:["• Type: ",p?"Quest Pass":"Quest Badge"]}),!p&&X.jsxs("li",{children:["• Level: ",s]}),X.jsx("li",{children:"• Network: Stacks Testnet"}),X.jsx("li",{children:"• Gas Fee: ~0.001 STX"})]})]}),X.jsxs("div",{className:"flex gap-4",children:[X.jsx(Ve.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:e,disabled:a,className:"flex-1 bg-gray-600 text-white px-6 py-3 rounded-lg font-pixel text-xs hover:bg-gray-700 transition-all disabled:opacity-50",children:"Cancel"}),X.jsx(Ve.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:h,disabled:a,className:"flex-1 bg-game-yellow text-game-dark px-6 py-3 rounded-lg font-pixel text-xs hover:box-shadow-neon transition-all disabled:opacity-50 flex items-center justify-center gap-2",children:a?X.jsxs(X.Fragment,{children:[X.jsx(XL,{className:"animate-spin"}),"Minting..."]}):"Mint NFT"})]})]})})]})})})},hce=({onBackHome:t})=>{const{level:e,resetGame:n,walletAddress:s,mintQuestBadge:i}=tf(),[a,c]=me.useState(!1),[u,f]=me.useState(!1),[h,p]=me.useState(1),g=E=>{p(E),c(!0)},y=()=>{f(!0)},b=async()=>{(await cce(s,e)).success&&i(e)},v=()=>{window.confirm("Are you sure you want to reset your progress? This cannot be undone.")&&n()};return X.jsxs("div",{className:"min-h-screen bg-game-dark p-4",children:[X.jsx("div",{className:"max-w-7xl mx-auto mb-6",children:X.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center gap-4 bg-game-blue/10 border-2 border-game-yellow rounded-lg p-4",children:[X.jsx(Ve.h1,{className:"font-pixel text-2xl md:text-3xl text-game-yellow",animate:{opacity:[.8,1,.8]},transition:{duration:2,repeat:1/0},children:"🧱 BLOCK QUEST"}),X.jsxs("div",{className:"flex items-center gap-3",children:[X.jsx(KM,{}),X.jsxs(Ve.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:v,className:"bg-orange-600 text-white px-4 py-2 rounded-lg font-pixel text-xs hover:bg-orange-700 transition-all flex items-center gap-2",children:[X.jsx(YL,{}),"Reset"]}),X.jsxs(Ve.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:t,className:"bg-game-blue text-white px-4 py-2 rounded-lg font-pixel text-xs hover:bg-blue-700 transition-all flex items-center gap-2",children:[X.jsx(GL,{}),"Home"]})]})]})}),X.jsx("div",{className:"max-w-7xl mx-auto",children:X.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[X.jsx("div",{className:"lg:col-span-2",children:X.jsxs(Ve.div,{initial:{opacity:0,x:-50},animate:{opacity:1,x:0},className:"bg-game-blue/10 border-2 border-game-yellow rounded-lg p-4",children:[X.jsx("h2",{className:"font-pixel text-xl text-game-yellow mb-4 text-center",children:"Mining Grid"}),X.jsx(uce,{onLevelUp:g}),X.jsx("p",{className:"font-retro text-center text-gray-400 mt-4",children:"Click blocks to mine treasures! 💰 Coins • 💎 Crystals • 💀 Traps"})]})}),X.jsx(Ve.div,{initial:{opacity:0,x:50},animate:{opacity:1,x:0},className:"flex justify-center lg:justify-start",children:X.jsx(fce,{onMintBadge:y})})]})}),X.jsx(dce,{isOpen:a,level:h,onClose:()=>c(!1),onMintBadge:y}),X.jsx(GM,{isOpen:u,onClose:()=>f(!1),type:"badge",level:e,onConfirm:b})]})};function pce(){const[t,e]=me.useState("home"),[n,s]=me.useState(!1),{walletAddress:i,mintQuestPass:a}=tf(),c=()=>{e("game")},u=()=>{e("home")},f=()=>{s(!0)},h=async()=>{(await ace(i)).success&&a()};return X.jsxs(X.Fragment,{children:[t==="home"?X.jsx(lce,{onStartGame:c,onMintPass:f}):X.jsx(hce,{onBackHome:u}),X.jsx(GM,{isOpen:n,onClose:()=>s(!1),type:"pass",onConfirm:h})]})}function gce(){return X.jsx(oU,{children:X.jsx(pce,{})})}rU.createRoot(document.getElementById("root")).render(X.jsx(yo.StrictMode,{children:X.jsx(gce,{})}));export{vW as $,Ue as A,Er as B,be as C,Yn as D,xt as E,joe as F,De as G,Gs as H,Rle as I,IM as J,C2 as K,Ju as L,tt as M,bW as N,fe as O,Ks as P,tle as Q,je as R,ge as S,Fs as T,rT as U,hD as V,A2 as W,Nh as X,hW as Y,dD as Z,vh as _,$le as a,nle as a0,ele as a1,um as a2,ile as a3,sle as a4,q0 as b,Oe as c,ve as d,Ule as e,de as f,wce as g,Fk as h,Hu as i,H0 as j,gM as k,B as l,Wi as m,Cr as n,gt as o,sp as p,Ole as q,yce as r,Nu as s,En as t,Ple as u,Dt as v,Zs as w,Dle as x,Qn as y,Pn as z};
