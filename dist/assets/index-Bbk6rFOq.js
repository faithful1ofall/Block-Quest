const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/basic-B_3PngJL.js","assets/index-6L8Ni3sC.js","assets/w3m-modal-BxHtVqyc.js"])))=>i.map(i=>d[i]);
(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))s(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const c of a.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function s(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();var Ss=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function np(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Z$(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var e=t.default;if(typeof e=="function"){var n=function s(){var i=!1;try{i=this instanceof s}catch{}return i?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(s){var i=Object.getOwnPropertyDescriptor(t,s);Object.defineProperty(n,s,i.get?i:{enumerable:!0,get:function(){return t[s]}})}),n}var a1={exports:{}},hd={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gx;function J$(){if(Gx)return hd;Gx=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,i,a){var c=null;if(a!==void 0&&(c=""+a),i.key!==void 0&&(c=""+i.key),"key"in i){a={};for(var u in i)u!=="key"&&(a[u]=i[u])}else a=i;return i=a.ref,{$$typeof:t,type:s,key:c,ref:i!==void 0?i:null,props:a}}return hd.Fragment=e,hd.jsx=n,hd.jsxs=n,hd}var Yx;function eU(){return Yx||(Yx=1,a1.exports=J$()),a1.exports}var X=eU(),c1={exports:{}},ze={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xx;function tU(){if(Xx)return ze;Xx=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),c=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),g=Symbol.for("react.activity"),y=Symbol.iterator;function b(U){return U===null||typeof U!="object"?null:(U=y&&U[y]||U["@@iterator"],typeof U=="function"?U:null)}var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E=Object.assign,A={};function x(U,K,te){this.props=U,this.context=K,this.refs=A,this.updater=te||v}x.prototype.isReactComponent={},x.prototype.setState=function(U,K){if(typeof U!="object"&&typeof U!="function"&&U!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,U,K,"setState")},x.prototype.forceUpdate=function(U){this.updater.enqueueForceUpdate(this,U,"forceUpdate")};function D(){}D.prototype=x.prototype;function S(U,K,te){this.props=U,this.context=K,this.refs=A,this.updater=te||v}var N=S.prototype=new D;N.constructor=S,E(N,x.prototype),N.isPureReactComponent=!0;var T=Array.isArray;function I(){}var $={H:null,A:null,T:null,S:null},P=Object.prototype.hasOwnProperty;function M(U,K,te){var ie=te.ref;return{$$typeof:t,type:U,key:K,ref:ie!==void 0?ie:null,props:te}}function z(U,K){return M(U.type,K,U.props)}function q(U){return typeof U=="object"&&U!==null&&U.$$typeof===t}function F(U){var K={"=":"=0",":":"=2"};return"$"+U.replace(/[=:]/g,function(te){return K[te]})}var ee=/\/+/g;function Q(U,K){return typeof U=="object"&&U!==null&&U.key!=null?F(""+U.key):K.toString(36)}function R(U){switch(U.status){case"fulfilled":return U.value;case"rejected":throw U.reason;default:switch(typeof U.status=="string"?U.then(I,I):(U.status="pending",U.then(function(K){U.status==="pending"&&(U.status="fulfilled",U.value=K)},function(K){U.status==="pending"&&(U.status="rejected",U.reason=K)})),U.status){case"fulfilled":return U.value;case"rejected":throw U.reason}}throw U}function _(U,K,te,ie,ue){var pe=typeof U;(pe==="undefined"||pe==="boolean")&&(U=null);var xe=!1;if(U===null)xe=!0;else switch(pe){case"bigint":case"string":case"number":xe=!0;break;case"object":switch(U.$$typeof){case t:case e:xe=!0;break;case p:return xe=U._init,_(xe(U._payload),K,te,ie,ue)}}if(xe)return ue=ue(U),xe=ie===""?"."+Q(U,0):ie,T(ue)?(te="",xe!=null&&(te=xe.replace(ee,"$&/")+"/"),_(ue,K,te,"",function(mt){return mt})):ue!=null&&(q(ue)&&(ue=z(ue,te+(ue.key==null||U&&U.key===ue.key?"":(""+ue.key).replace(ee,"$&/")+"/")+xe)),K.push(ue)),1;xe=0;var ke=ie===""?".":ie+":";if(T(U))for(var Te=0;Te<U.length;Te++)ie=U[Te],pe=ke+Q(ie,Te),xe+=_(ie,K,te,pe,ue);else if(Te=b(U),typeof Te=="function")for(U=Te.call(U),Te=0;!(ie=U.next()).done;)ie=ie.value,pe=ke+Q(ie,Te++),xe+=_(ie,K,te,pe,ue);else if(pe==="object"){if(typeof U.then=="function")return _(R(U),K,te,ie,ue);throw K=String(U),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(U).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.")}return xe}function k(U,K,te){if(U==null)return U;var ie=[],ue=0;return _(U,ie,"","",function(pe){return K.call(te,pe,ue++)}),ie}function H(U){if(U._status===-1){var K=U._result;K=K(),K.then(function(te){(U._status===0||U._status===-1)&&(U._status=1,U._result=te)},function(te){(U._status===0||U._status===-1)&&(U._status=2,U._result=te)}),U._status===-1&&(U._status=0,U._result=K)}if(U._status===1)return U._result.default;throw U._result}var G=typeof reportError=="function"?reportError:function(U){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var K=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof U=="object"&&U!==null&&typeof U.message=="string"?String(U.message):String(U),error:U});if(!window.dispatchEvent(K))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",U);return}console.error(U)},V={map:k,forEach:function(U,K,te){k(U,function(){K.apply(this,arguments)},te)},count:function(U){var K=0;return k(U,function(){K++}),K},toArray:function(U){return k(U,function(K){return K})||[]},only:function(U){if(!q(U))throw Error("React.Children.only expected to receive a single React element child.");return U}};return ze.Activity=g,ze.Children=V,ze.Component=x,ze.Fragment=n,ze.Profiler=i,ze.PureComponent=S,ze.StrictMode=s,ze.Suspense=f,ze.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=$,ze.__COMPILER_RUNTIME={__proto__:null,c:function(U){return $.H.useMemoCache(U)}},ze.cache=function(U){return function(){return U.apply(null,arguments)}},ze.cacheSignal=function(){return null},ze.cloneElement=function(U,K,te){if(U==null)throw Error("The argument must be a React element, but you passed "+U+".");var ie=E({},U.props),ue=U.key;if(K!=null)for(pe in K.key!==void 0&&(ue=""+K.key),K)!P.call(K,pe)||pe==="key"||pe==="__self"||pe==="__source"||pe==="ref"&&K.ref===void 0||(ie[pe]=K[pe]);var pe=arguments.length-2;if(pe===1)ie.children=te;else if(1<pe){for(var xe=Array(pe),ke=0;ke<pe;ke++)xe[ke]=arguments[ke+2];ie.children=xe}return M(U.type,ue,ie)},ze.createContext=function(U){return U={$$typeof:c,_currentValue:U,_currentValue2:U,_threadCount:0,Provider:null,Consumer:null},U.Provider=U,U.Consumer={$$typeof:a,_context:U},U},ze.createElement=function(U,K,te){var ie,ue={},pe=null;if(K!=null)for(ie in K.key!==void 0&&(pe=""+K.key),K)P.call(K,ie)&&ie!=="key"&&ie!=="__self"&&ie!=="__source"&&(ue[ie]=K[ie]);var xe=arguments.length-2;if(xe===1)ue.children=te;else if(1<xe){for(var ke=Array(xe),Te=0;Te<xe;Te++)ke[Te]=arguments[Te+2];ue.children=ke}if(U&&U.defaultProps)for(ie in xe=U.defaultProps,xe)ue[ie]===void 0&&(ue[ie]=xe[ie]);return M(U,pe,ue)},ze.createRef=function(){return{current:null}},ze.forwardRef=function(U){return{$$typeof:u,render:U}},ze.isValidElement=q,ze.lazy=function(U){return{$$typeof:p,_payload:{_status:-1,_result:U},_init:H}},ze.memo=function(U,K){return{$$typeof:h,type:U,compare:K===void 0?null:K}},ze.startTransition=function(U){var K=$.T,te={};$.T=te;try{var ie=U(),ue=$.S;ue!==null&&ue(te,ie),typeof ie=="object"&&ie!==null&&typeof ie.then=="function"&&ie.then(I,G)}catch(pe){G(pe)}finally{K!==null&&te.types!==null&&(K.types=te.types),$.T=K}},ze.unstable_useCacheRefresh=function(){return $.H.useCacheRefresh()},ze.use=function(U){return $.H.use(U)},ze.useActionState=function(U,K,te){return $.H.useActionState(U,K,te)},ze.useCallback=function(U,K){return $.H.useCallback(U,K)},ze.useContext=function(U){return $.H.useContext(U)},ze.useDebugValue=function(){},ze.useDeferredValue=function(U,K){return $.H.useDeferredValue(U,K)},ze.useEffect=function(U,K){return $.H.useEffect(U,K)},ze.useEffectEvent=function(U){return $.H.useEffectEvent(U)},ze.useId=function(){return $.H.useId()},ze.useImperativeHandle=function(U,K,te){return $.H.useImperativeHandle(U,K,te)},ze.useInsertionEffect=function(U,K){return $.H.useInsertionEffect(U,K)},ze.useLayoutEffect=function(U,K){return $.H.useLayoutEffect(U,K)},ze.useMemo=function(U,K){return $.H.useMemo(U,K)},ze.useOptimistic=function(U,K){return $.H.useOptimistic(U,K)},ze.useReducer=function(U,K,te){return $.H.useReducer(U,K,te)},ze.useRef=function(U){return $.H.useRef(U)},ze.useState=function(U){return $.H.useState(U)},ze.useSyncExternalStore=function(U,K,te){return $.H.useSyncExternalStore(U,K,te)},ze.useTransition=function(){return $.H.useTransition()},ze.version="19.2.0",ze}var Qx;function T2(){return Qx||(Qx=1,c1.exports=tU()),c1.exports}var me=T2();const wo=np(me);var l1={exports:{}},pd={},u1={exports:{}},f1={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zx;function nU(){return Zx||(Zx=1,(function(t){function e(_,k){var H=_.length;_.push(k);e:for(;0<H;){var G=H-1>>>1,V=_[G];if(0<i(V,k))_[G]=k,_[H]=V,H=G;else break e}}function n(_){return _.length===0?null:_[0]}function s(_){if(_.length===0)return null;var k=_[0],H=_.pop();if(H!==k){_[0]=H;e:for(var G=0,V=_.length,U=V>>>1;G<U;){var K=2*(G+1)-1,te=_[K],ie=K+1,ue=_[ie];if(0>i(te,H))ie<V&&0>i(ue,te)?(_[G]=ue,_[ie]=H,G=ie):(_[G]=te,_[K]=H,G=K);else if(ie<V&&0>i(ue,H))_[G]=ue,_[ie]=H,G=ie;else break e}}return k}function i(_,k){var H=_.sortIndex-k.sortIndex;return H!==0?H:_.id-k.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var c=Date,u=c.now();t.unstable_now=function(){return c.now()-u}}var f=[],h=[],p=1,g=null,y=3,b=!1,v=!1,E=!1,A=!1,x=typeof setTimeout=="function"?setTimeout:null,D=typeof clearTimeout=="function"?clearTimeout:null,S=typeof setImmediate<"u"?setImmediate:null;function N(_){for(var k=n(h);k!==null;){if(k.callback===null)s(h);else if(k.startTime<=_)s(h),k.sortIndex=k.expirationTime,e(f,k);else break;k=n(h)}}function T(_){if(E=!1,N(_),!v)if(n(f)!==null)v=!0,I||(I=!0,F());else{var k=n(h);k!==null&&R(T,k.startTime-_)}}var I=!1,$=-1,P=5,M=-1;function z(){return A?!0:!(t.unstable_now()-M<P)}function q(){if(A=!1,I){var _=t.unstable_now();M=_;var k=!0;try{e:{v=!1,E&&(E=!1,D($),$=-1),b=!0;var H=y;try{t:{for(N(_),g=n(f);g!==null&&!(g.expirationTime>_&&z());){var G=g.callback;if(typeof G=="function"){g.callback=null,y=g.priorityLevel;var V=G(g.expirationTime<=_);if(_=t.unstable_now(),typeof V=="function"){g.callback=V,N(_),k=!0;break t}g===n(f)&&s(f),N(_)}else s(f);g=n(f)}if(g!==null)k=!0;else{var U=n(h);U!==null&&R(T,U.startTime-_),k=!1}}break e}finally{g=null,y=H,b=!1}k=void 0}}finally{k?F():I=!1}}}var F;if(typeof S=="function")F=function(){S(q)};else if(typeof MessageChannel<"u"){var ee=new MessageChannel,Q=ee.port2;ee.port1.onmessage=q,F=function(){Q.postMessage(null)}}else F=function(){x(q,0)};function R(_,k){$=x(function(){_(t.unstable_now())},k)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(_){_.callback=null},t.unstable_forceFrameRate=function(_){0>_||125<_?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<_?Math.floor(1e3/_):5},t.unstable_getCurrentPriorityLevel=function(){return y},t.unstable_next=function(_){switch(y){case 1:case 2:case 3:var k=3;break;default:k=y}var H=y;y=k;try{return _()}finally{y=H}},t.unstable_requestPaint=function(){A=!0},t.unstable_runWithPriority=function(_,k){switch(_){case 1:case 2:case 3:case 4:case 5:break;default:_=3}var H=y;y=_;try{return k()}finally{y=H}},t.unstable_scheduleCallback=function(_,k,H){var G=t.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?G+H:G):H=G,_){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=H+V,_={id:p++,callback:k,priorityLevel:_,startTime:H,expirationTime:V,sortIndex:-1},H>G?(_.sortIndex=H,e(h,_),n(f)===null&&_===n(h)&&(E?(D($),$=-1):E=!0,R(T,H-G))):(_.sortIndex=V,e(f,_),v||b||(v=!0,I||(I=!0,F()))),_},t.unstable_shouldYield=z,t.unstable_wrapCallback=function(_){var k=y;return function(){var H=y;y=k;try{return _.apply(this,arguments)}finally{y=H}}}})(f1)),f1}var Jx;function sU(){return Jx||(Jx=1,u1.exports=nU()),u1.exports}var d1={exports:{}},Fn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var e3;function iU(){if(e3)return Fn;e3=1;var t=T2();function e(f){var h="https://react.dev/errors/"+f;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)h+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+f+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function a(f,h,p){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:g==null?null:""+g,children:f,containerInfo:h,implementation:p}}var c=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(f,h){if(f==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return Fn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Fn.createPortal=function(f,h){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(e(299));return a(f,h,null,p)},Fn.flushSync=function(f){var h=c.T,p=s.p;try{if(c.T=null,s.p=2,f)return f()}finally{c.T=h,s.p=p,s.d.f()}},Fn.preconnect=function(f,h){typeof f=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,s.d.C(f,h))},Fn.prefetchDNS=function(f){typeof f=="string"&&s.d.D(f)},Fn.preinit=function(f,h){if(typeof f=="string"&&h&&typeof h.as=="string"){var p=h.as,g=u(p,h.crossOrigin),y=typeof h.integrity=="string"?h.integrity:void 0,b=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;p==="style"?s.d.S(f,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:g,integrity:y,fetchPriority:b}):p==="script"&&s.d.X(f,{crossOrigin:g,integrity:y,fetchPriority:b,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},Fn.preinitModule=function(f,h){if(typeof f=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var p=u(h.as,h.crossOrigin);s.d.M(f,{crossOrigin:p,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&s.d.M(f)},Fn.preload=function(f,h){if(typeof f=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var p=h.as,g=u(p,h.crossOrigin);s.d.L(f,p,{crossOrigin:g,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},Fn.preloadModule=function(f,h){if(typeof f=="string")if(h){var p=u(h.as,h.crossOrigin);s.d.m(f,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:p,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else s.d.m(f)},Fn.requestFormReset=function(f){s.d.r(f)},Fn.unstable_batchedUpdates=function(f,h){return f(h)},Fn.useFormState=function(f,h,p){return c.H.useFormState(f,h,p)},Fn.useFormStatus=function(){return c.H.useHostTransitionStatus()},Fn.version="19.2.0",Fn}var t3;function rU(){if(t3)return d1.exports;t3=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),d1.exports=iU(),d1.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var n3;function oU(){if(n3)return pd;n3=1;var t=sU(),e=T2(),n=rU();function s(r){var o="https://react.dev/errors/"+r;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)o+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+r+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function a(r){var o=r,l=r;if(r.alternate)for(;o.return;)o=o.return;else{r=o;do o=r,(o.flags&4098)!==0&&(l=o.return),r=o.return;while(r)}return o.tag===3?l:null}function c(r){if(r.tag===13){var o=r.memoizedState;if(o===null&&(r=r.alternate,r!==null&&(o=r.memoizedState)),o!==null)return o.dehydrated}return null}function u(r){if(r.tag===31){var o=r.memoizedState;if(o===null&&(r=r.alternate,r!==null&&(o=r.memoizedState)),o!==null)return o.dehydrated}return null}function f(r){if(a(r)!==r)throw Error(s(188))}function h(r){var o=r.alternate;if(!o){if(o=a(r),o===null)throw Error(s(188));return o!==r?null:r}for(var l=r,d=o;;){var m=l.return;if(m===null)break;var w=m.alternate;if(w===null){if(d=m.return,d!==null){l=d;continue}break}if(m.child===w.child){for(w=m.child;w;){if(w===l)return f(m),r;if(w===d)return f(m),o;w=w.sibling}throw Error(s(188))}if(l.return!==d.return)l=m,d=w;else{for(var C=!1,O=m.child;O;){if(O===l){C=!0,l=m,d=w;break}if(O===d){C=!0,d=m,l=w;break}O=O.sibling}if(!C){for(O=w.child;O;){if(O===l){C=!0,l=w,d=m;break}if(O===d){C=!0,d=w,l=m;break}O=O.sibling}if(!C)throw Error(s(189))}}if(l.alternate!==d)throw Error(s(190))}if(l.tag!==3)throw Error(s(188));return l.stateNode.current===l?r:o}function p(r){var o=r.tag;if(o===5||o===26||o===27||o===6)return r;for(r=r.child;r!==null;){if(o=p(r),o!==null)return o;r=r.sibling}return null}var g=Object.assign,y=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),v=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),A=Symbol.for("react.strict_mode"),x=Symbol.for("react.profiler"),D=Symbol.for("react.consumer"),S=Symbol.for("react.context"),N=Symbol.for("react.forward_ref"),T=Symbol.for("react.suspense"),I=Symbol.for("react.suspense_list"),$=Symbol.for("react.memo"),P=Symbol.for("react.lazy"),M=Symbol.for("react.activity"),z=Symbol.for("react.memo_cache_sentinel"),q=Symbol.iterator;function F(r){return r===null||typeof r!="object"?null:(r=q&&r[q]||r["@@iterator"],typeof r=="function"?r:null)}var ee=Symbol.for("react.client.reference");function Q(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===ee?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case E:return"Fragment";case x:return"Profiler";case A:return"StrictMode";case T:return"Suspense";case I:return"SuspenseList";case M:return"Activity"}if(typeof r=="object")switch(r.$$typeof){case v:return"Portal";case S:return r.displayName||"Context";case D:return(r._context.displayName||"Context")+".Consumer";case N:var o=r.render;return r=r.displayName,r||(r=o.displayName||o.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case $:return o=r.displayName||null,o!==null?o:Q(r.type)||"Memo";case P:o=r._payload,r=r._init;try{return Q(r(o))}catch{}}return null}var R=Array.isArray,_=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,k=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,H={pending:!1,data:null,method:null,action:null},G=[],V=-1;function U(r){return{current:r}}function K(r){0>V||(r.current=G[V],G[V]=null,V--)}function te(r,o){V++,G[V]=r.current,r.current=o}var ie=U(null),ue=U(null),pe=U(null),xe=U(null);function ke(r,o){switch(te(pe,o),te(ue,r),te(ie,null),o.nodeType){case 9:case 11:r=(r=o.documentElement)&&(r=r.namespaceURI)?yx(r):0;break;default:if(r=o.tagName,o=o.namespaceURI)o=yx(o),r=wx(o,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}K(ie),te(ie,r)}function Te(){K(ie),K(ue),K(pe)}function mt(r){r.memoizedState!==null&&te(xe,r);var o=ie.current,l=wx(o,r.type);o!==l&&(te(ue,r),te(ie,l))}function Ot(r){ue.current===r&&(K(ie),K(ue)),xe.current===r&&(K(xe),ld._currentValue=H)}var Os,Rr;function Sn(r){if(Os===void 0)try{throw Error()}catch(l){var o=l.stack.trim().match(/\n( *(at )?)/);Os=o&&o[1]||"",Rr=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Os+r+Rr}var Qi=!1;function $r(r,o){if(!r||Qi)return"";Qi=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var d={DetermineComponentFrameRoot:function(){try{if(o){var ce=function(){throw Error()};if(Object.defineProperty(ce.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ce,[])}catch(re){var se=re}Reflect.construct(r,[],ce)}else{try{ce.call()}catch(re){se=re}r.call(ce.prototype)}}else{try{throw Error()}catch(re){se=re}(ce=r())&&typeof ce.catch=="function"&&ce.catch(function(){})}}catch(re){if(re&&se&&typeof re.stack=="string")return[re.stack,se.stack]}return[null,null]}};d.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var m=Object.getOwnPropertyDescriptor(d.DetermineComponentFrameRoot,"name");m&&m.configurable&&Object.defineProperty(d.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var w=d.DetermineComponentFrameRoot(),C=w[0],O=w[1];if(C&&O){var j=C.split(`
`),J=O.split(`
`);for(m=d=0;d<j.length&&!j[d].includes("DetermineComponentFrameRoot");)d++;for(;m<J.length&&!J[m].includes("DetermineComponentFrameRoot");)m++;if(d===j.length||m===J.length)for(d=j.length-1,m=J.length-1;1<=d&&0<=m&&j[d]!==J[m];)m--;for(;1<=d&&0<=m;d--,m--)if(j[d]!==J[m]){if(d!==1||m!==1)do if(d--,m--,0>m||j[d]!==J[m]){var oe=`
`+j[d].replace(" at new "," at ");return r.displayName&&oe.includes("<anonymous>")&&(oe=oe.replace("<anonymous>",r.displayName)),oe}while(1<=d&&0<=m);break}}}finally{Qi=!1,Error.prepareStackTrace=l}return(l=r?r.displayName||r.name:"")?Sn(l):""}function fl(r,o){switch(r.tag){case 26:case 27:case 5:return Sn(r.type);case 16:return Sn("Lazy");case 13:return r.child!==o&&o!==null?Sn("Suspense Fallback"):Sn("Suspense");case 19:return Sn("SuspenseList");case 0:case 15:return $r(r.type,!1);case 11:return $r(r.type.render,!1);case 1:return $r(r.type,!0);case 31:return Sn("Activity");default:return""}}function dl(r){try{var o="",l=null;do o+=fl(r,l),l=r,r=r.return;while(r);return o}catch(d){return`
Error generating stack: `+d.message+`
`+d.stack}}var Io=Object.prototype.hasOwnProperty,Di=t.unstable_scheduleCallback,Oi=t.unstable_cancelCallback,Ha=t.unstable_shouldYield,Fa=t.unstable_requestPaint,Mt=t.unstable_now,Ur=t.unstable_getCurrentPriorityLevel,qa=t.unstable_ImmediatePriority,Va=t.unstable_UserBlockingPriority,Pr=t.unstable_NormalPriority,hl=t.unstable_LowPriority,pl=t.unstable_IdlePriority,ey=t.log,ty=t.unstable_setDisableYieldValue,Wa=null,jn=null;function Zi(r){if(typeof ey=="function"&&ty(r),jn&&typeof jn.setStrictMode=="function")try{jn.setStrictMode(Wa,r)}catch{}}var Zn=Math.clz32?Math.clz32:yf,mf=Math.log,Ka=Math.LN2;function yf(r){return r>>>=0,r===0?32:31-(mf(r)/Ka|0)|0}var Do=256,Oo=262144,Ji=4194304;function Lr(r){var o=r&42;if(o!==0)return o;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return r&261888;case 262144:case 524288:case 1048576:case 2097152:return r&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function gl(r,o,l){var d=r.pendingLanes;if(d===0)return 0;var m=0,w=r.suspendedLanes,C=r.pingedLanes;r=r.warmLanes;var O=d&134217727;return O!==0?(d=O&~w,d!==0?m=Lr(d):(C&=O,C!==0?m=Lr(C):l||(l=O&~r,l!==0&&(m=Lr(l))))):(O=d&~w,O!==0?m=Lr(O):C!==0?m=Lr(C):l||(l=d&~r,l!==0&&(m=Lr(l)))),m===0?0:o!==0&&o!==m&&(o&w)===0&&(w=m&-m,l=o&-o,w>=l||w===32&&(l&4194048)!==0)?o:m}function Ga(r,o){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&o)===0}function ny(r,o){switch(r){case 1:case 2:case 4:case 8:case 64:return o+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function xp(){var r=Ji;return Ji<<=1,(Ji&62914560)===0&&(Ji=4194304),r}function ml(r){for(var o=[],l=0;31>l;l++)o.push(r);return o}function Mo(r,o){r.pendingLanes|=o,o!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function kr(r,o,l,d,m,w){var C=r.pendingLanes;r.pendingLanes=l,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=l,r.entangledLanes&=l,r.errorRecoveryDisabledLanes&=l,r.shellSuspendCounter=0;var O=r.entanglements,j=r.expirationTimes,J=r.hiddenUpdates;for(l=C&~l;0<l;){var oe=31-Zn(l),ce=1<<oe;O[oe]=0,j[oe]=-1;var se=J[oe];if(se!==null)for(J[oe]=null,oe=0;oe<se.length;oe++){var re=se[oe];re!==null&&(re.lane&=-536870913)}l&=~ce}d!==0&&Np(r,d,0),w!==0&&m===0&&r.tag!==0&&(r.suspendedLanes|=w&~(C&~o))}function Np(r,o,l){r.pendingLanes|=o,r.suspendedLanes&=~o;var d=31-Zn(o);r.entangledLanes|=o,r.entanglements[d]=r.entanglements[d]|1073741824|l&261930}function Tp(r,o){var l=r.entangledLanes|=o;for(r=r.entanglements;l;){var d=31-Zn(l),m=1<<d;m&o|r[d]&o&&(r[d]|=o),l&=~m}}function _p(r,o){var l=o&-o;return l=(l&42)!==0?1:wf(l),(l&(r.suspendedLanes|o))!==0?0:l}function wf(r){switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=128;break;case 268435456:r=134217728;break;default:r=0}return r}function bf(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function ei(){var r=k.p;return r!==0?r:(r=window.event,r===void 0?32:zx(r.type))}function Ip(r,o){var l=k.p;try{return k.p=r,o()}finally{k.p=l}}var er=Math.random().toString(36).slice(2),an="__reactFiber$"+er,zn="__reactProps$"+er,Ro="__reactContainer$"+er,tr="__reactEvents$"+er,sy="__reactListeners$"+er,iy="__reactHandles$"+er,Dp="__reactResources$"+er,Ya="__reactMarker$"+er;function vf(r){delete r[an],delete r[zn],delete r[tr],delete r[sy],delete r[iy]}function Ms(r){var o=r[an];if(o)return o;for(var l=r.parentNode;l;){if(o=l[Ro]||l[an]){if(l=o.alternate,o.child!==null||l!==null&&l.child!==null)for(r=xx(r);r!==null;){if(l=r[an])return l;r=xx(r)}return o}r=l,l=r.parentNode}return null}function $o(r){if(r=r[an]||r[Ro]){var o=r.tag;if(o===5||o===6||o===13||o===31||o===26||o===27||o===3)return r}return null}function Xa(r){var o=r.tag;if(o===5||o===26||o===27||o===6)return r.stateNode;throw Error(s(33))}function Uo(r){var o=r[Dp];return o||(o=r[Dp]={hoistableStyles:new Map,hoistableScripts:new Map}),o}function Zt(r){r[Ya]=!0}var Op=new Set,Mp={};function nr(r,o){Mi(r,o),Mi(r+"Capture",o)}function Mi(r,o){for(Mp[r]=o,r=0;r<o.length;r++)Op.add(o[r])}var ry=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),yl={},Rp={};function oy(r){return Io.call(Rp,r)?!0:Io.call(yl,r)?!1:ry.test(r)?Rp[r]=!0:(yl[r]=!0,!1)}function wl(r,o,l){if(oy(o))if(l===null)r.removeAttribute(o);else{switch(typeof l){case"undefined":case"function":case"symbol":r.removeAttribute(o);return;case"boolean":var d=o.toLowerCase().slice(0,5);if(d!=="data-"&&d!=="aria-"){r.removeAttribute(o);return}}r.setAttribute(o,""+l)}}function bl(r,o,l){if(l===null)r.removeAttribute(o);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(o);return}r.setAttribute(o,""+l)}}function Ri(r,o,l,d){if(d===null)r.removeAttribute(l);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(l);return}r.setAttributeNS(o,l,""+d)}}function os(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function vl(r){var o=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function ay(r,o,l){var d=Object.getOwnPropertyDescriptor(r.constructor.prototype,o);if(!r.hasOwnProperty(o)&&typeof d<"u"&&typeof d.get=="function"&&typeof d.set=="function"){var m=d.get,w=d.set;return Object.defineProperty(r,o,{configurable:!0,get:function(){return m.call(this)},set:function(C){l=""+C,w.call(this,C)}}),Object.defineProperty(r,o,{enumerable:d.enumerable}),{getValue:function(){return l},setValue:function(C){l=""+C},stopTracking:function(){r._valueTracker=null,delete r[o]}}}}function Ef(r){if(!r._valueTracker){var o=vl(r)?"checked":"value";r._valueTracker=ay(r,o,""+r[o])}}function $p(r){if(!r)return!1;var o=r._valueTracker;if(!o)return!0;var l=o.getValue(),d="";return r&&(d=vl(r)?r.checked?"true":"false":r.value),r=d,r!==l?(o.setValue(r),!0):!1}function El(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var cy=/[\n"\\]/g;function as(r){return r.replace(cy,function(o){return"\\"+o.charCodeAt(0).toString(16)+" "})}function Af(r,o,l,d,m,w,C,O){r.name="",C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"?r.type=C:r.removeAttribute("type"),o!=null?C==="number"?(o===0&&r.value===""||r.value!=o)&&(r.value=""+os(o)):r.value!==""+os(o)&&(r.value=""+os(o)):C!=="submit"&&C!=="reset"||r.removeAttribute("value"),o!=null?Sf(r,C,os(o)):l!=null?Sf(r,C,os(l)):d!=null&&r.removeAttribute("value"),m==null&&w!=null&&(r.defaultChecked=!!w),m!=null&&(r.checked=m&&typeof m!="function"&&typeof m!="symbol"),O!=null&&typeof O!="function"&&typeof O!="symbol"&&typeof O!="boolean"?r.name=""+os(O):r.removeAttribute("name")}function Cf(r,o,l,d,m,w,C,O){if(w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"&&(r.type=w),o!=null||l!=null){if(!(w!=="submit"&&w!=="reset"||o!=null)){Ef(r);return}l=l!=null?""+os(l):"",o=o!=null?""+os(o):l,O||o===r.value||(r.value=o),r.defaultValue=o}d=d??m,d=typeof d!="function"&&typeof d!="symbol"&&!!d,r.checked=O?r.checked:!!d,r.defaultChecked=!!d,C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"&&(r.name=C),Ef(r)}function Sf(r,o,l){o==="number"&&El(r.ownerDocument)===r||r.defaultValue===""+l||(r.defaultValue=""+l)}function Po(r,o,l,d){if(r=r.options,o){o={};for(var m=0;m<l.length;m++)o["$"+l[m]]=!0;for(l=0;l<r.length;l++)m=o.hasOwnProperty("$"+r[l].value),r[l].selected!==m&&(r[l].selected=m),m&&d&&(r[l].defaultSelected=!0)}else{for(l=""+os(l),o=null,m=0;m<r.length;m++){if(r[m].value===l){r[m].selected=!0,d&&(r[m].defaultSelected=!0);return}o!==null||r[m].disabled||(o=r[m])}o!==null&&(o.selected=!0)}}function Qa(r,o,l){if(o!=null&&(o=""+os(o),o!==r.value&&(r.value=o),l==null)){r.defaultValue!==o&&(r.defaultValue=o);return}r.defaultValue=l!=null?""+os(l):""}function Br(r,o,l,d){if(o==null){if(d!=null){if(l!=null)throw Error(s(92));if(R(d)){if(1<d.length)throw Error(s(93));d=d[0]}l=d}l==null&&(l=""),o=l}l=os(o),r.defaultValue=l,d=r.textContent,d===l&&d!==""&&d!==null&&(r.value=d),Ef(r)}function jr(r,o){if(o){var l=r.firstChild;if(l&&l===r.lastChild&&l.nodeType===3){l.nodeValue=o;return}}r.textContent=o}var zr=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Up(r,o,l){var d=o.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?d?r.setProperty(o,""):o==="float"?r.cssFloat="":r[o]="":d?r.setProperty(o,l):typeof l!="number"||l===0||zr.has(o)?o==="float"?r.cssFloat=l:r[o]=(""+l).trim():r[o]=l+"px"}function Pp(r,o,l){if(o!=null&&typeof o!="object")throw Error(s(62));if(r=r.style,l!=null){for(var d in l)!l.hasOwnProperty(d)||o!=null&&o.hasOwnProperty(d)||(d.indexOf("--")===0?r.setProperty(d,""):d==="float"?r.cssFloat="":r[d]="");for(var m in o)d=o[m],o.hasOwnProperty(m)&&l[m]!==d&&Up(r,m,d)}else for(var w in o)o.hasOwnProperty(w)&&Up(r,w,o[w])}function xf(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ly=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),uy=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Al(r){return uy.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}function ti(){}var $i=null;function Nf(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var Hr=null,Lo=null;function Cl(r){var o=$o(r);if(o&&(r=o.stateNode)){var l=r[zn]||null;e:switch(r=o.stateNode,o.type){case"input":if(Af(r,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),o=l.name,l.type==="radio"&&o!=null){for(l=r;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+as(""+o)+'"][type="radio"]'),o=0;o<l.length;o++){var d=l[o];if(d!==r&&d.form===r.form){var m=d[zn]||null;if(!m)throw Error(s(90));Af(d,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name)}}for(o=0;o<l.length;o++)d=l[o],d.form===r.form&&$p(d)}break e;case"textarea":Qa(r,l.value,l.defaultValue);break e;case"select":o=l.value,o!=null&&Po(r,!!l.multiple,o,!1)}}}var Sl=!1;function Lp(r,o,l){if(Sl)return r(o,l);Sl=!0;try{var d=r(o);return d}finally{if(Sl=!1,(Hr!==null||Lo!==null)&&(vg(),Hr&&(o=Hr,r=Lo,Lo=Hr=null,Cl(o),r)))for(o=0;o<r.length;o++)Cl(r[o])}}function Za(r,o){var l=r.stateNode;if(l===null)return null;var d=l[zn]||null;if(d===null)return null;l=d[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(r=r.type,d=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!d;break e;default:r=!1}if(r)return null;if(l&&typeof l!="function")throw Error(s(231,o,typeof l));return l}var ni=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Tf=!1;if(ni)try{var sr={};Object.defineProperty(sr,"passive",{get:function(){Tf=!0}}),window.addEventListener("test",sr,sr),window.removeEventListener("test",sr,sr)}catch{Tf=!1}var ir=null,Ja=null,xl=null;function kp(){if(xl)return xl;var r,o=Ja,l=o.length,d,m="value"in ir?ir.value:ir.textContent,w=m.length;for(r=0;r<l&&o[r]===m[r];r++);var C=l-r;for(d=1;d<=C&&o[l-d]===m[w-d];d++);return xl=m.slice(r,1<d?1-d:void 0)}function L(r){var o=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&o===13&&(r=13)):r=o,r===10&&(r=13),32<=r||r===13?r:0}function ne(){return!0}function le(){return!1}function Ee(r){function o(l,d,m,w,C){this._reactName=l,this._targetInst=m,this.type=d,this.nativeEvent=w,this.target=C,this.currentTarget=null;for(var O in r)r.hasOwnProperty(O)&&(l=r[O],this[O]=l?l(w):w[O]);return this.isDefaultPrevented=(w.defaultPrevented!=null?w.defaultPrevented:w.returnValue===!1)?ne:le,this.isPropagationStopped=le,this}return g(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=ne)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=ne)},persist:function(){},isPersistent:ne}),o}var Rt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cn=Ee(Rt),Jn=g({},Rt,{view:0,detail:0}),Hn=Ee(Jn),Nl,rr,ko,ec=g({},Jn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:dy,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==ko&&(ko&&r.type==="mousemove"?(Nl=r.screenX-ko.screenX,rr=r.screenY-ko.screenY):rr=Nl=0,ko=r),Nl)},movementY:function(r){return"movementY"in r?r.movementY:rr}}),_f=Ee(ec),If=g({},ec,{dataTransfer:0}),Tl=Ee(If),JM=g({},Jn,{relatedTarget:0}),fy=Ee(JM),eR=g({},Rt,{animationName:0,elapsedTime:0,pseudoElement:0}),tR=Ee(eR),nR=g({},Rt,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),sR=Ee(nR),iR=g({},Rt,{data:0}),EA=Ee(iR),rR={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},oR={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},aR={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function cR(r){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(r):(r=aR[r])?!!o[r]:!1}function dy(){return cR}var lR=g({},Jn,{key:function(r){if(r.key){var o=rR[r.key]||r.key;if(o!=="Unidentified")return o}return r.type==="keypress"?(r=L(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?oR[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:dy,charCode:function(r){return r.type==="keypress"?L(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?L(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),uR=Ee(lR),fR=g({},ec,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),AA=Ee(fR),dR=g({},Jn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:dy}),hR=Ee(dR),pR=g({},Rt,{propertyName:0,elapsedTime:0,pseudoElement:0}),gR=Ee(pR),mR=g({},ec,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),yR=Ee(mR),wR=g({},Rt,{newState:0,oldState:0}),bR=Ee(wR),vR=[9,13,27,32],hy=ni&&"CompositionEvent"in window,Df=null;ni&&"documentMode"in document&&(Df=document.documentMode);var ER=ni&&"TextEvent"in window&&!Df,CA=ni&&(!hy||Df&&8<Df&&11>=Df),SA=" ",xA=!1;function NA(r,o){switch(r){case"keyup":return vR.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function TA(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var _l=!1;function AR(r,o){switch(r){case"compositionend":return TA(o);case"keypress":return o.which!==32?null:(xA=!0,SA);case"textInput":return r=o.data,r===SA&&xA?null:r;default:return null}}function CR(r,o){if(_l)return r==="compositionend"||!hy&&NA(r,o)?(r=kp(),xl=Ja=ir=null,_l=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return CA&&o.locale!=="ko"?null:o.data;default:return null}}var SR={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function _A(r){var o=r&&r.nodeName&&r.nodeName.toLowerCase();return o==="input"?!!SR[r.type]:o==="textarea"}function IA(r,o,l,d){Hr?Lo?Lo.push(d):Lo=[d]:Hr=d,o=Tg(o,"onChange"),0<o.length&&(l=new cn("onChange","change",null,l,d),r.push({event:l,listeners:o}))}var Of=null,Mf=null;function xR(r){fx(r,0)}function Bp(r){var o=Xa(r);if($p(o))return r}function DA(r,o){if(r==="change")return o}var OA=!1;if(ni){var py;if(ni){var gy="oninput"in document;if(!gy){var MA=document.createElement("div");MA.setAttribute("oninput","return;"),gy=typeof MA.oninput=="function"}py=gy}else py=!1;OA=py&&(!document.documentMode||9<document.documentMode)}function RA(){Of&&(Of.detachEvent("onpropertychange",$A),Mf=Of=null)}function $A(r){if(r.propertyName==="value"&&Bp(Mf)){var o=[];IA(o,Mf,r,Nf(r)),Lp(xR,o)}}function NR(r,o,l){r==="focusin"?(RA(),Of=o,Mf=l,Of.attachEvent("onpropertychange",$A)):r==="focusout"&&RA()}function TR(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return Bp(Mf)}function _R(r,o){if(r==="click")return Bp(o)}function IR(r,o){if(r==="input"||r==="change")return Bp(o)}function DR(r,o){return r===o&&(r!==0||1/r===1/o)||r!==r&&o!==o}var Rs=typeof Object.is=="function"?Object.is:DR;function Rf(r,o){if(Rs(r,o))return!0;if(typeof r!="object"||r===null||typeof o!="object"||o===null)return!1;var l=Object.keys(r),d=Object.keys(o);if(l.length!==d.length)return!1;for(d=0;d<l.length;d++){var m=l[d];if(!Io.call(o,m)||!Rs(r[m],o[m]))return!1}return!0}function UA(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function PA(r,o){var l=UA(r);r=0;for(var d;l;){if(l.nodeType===3){if(d=r+l.textContent.length,r<=o&&d>=o)return{node:l,offset:o-r};r=d}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=UA(l)}}function LA(r,o){return r&&o?r===o?!0:r&&r.nodeType===3?!1:o&&o.nodeType===3?LA(r,o.parentNode):"contains"in r?r.contains(o):r.compareDocumentPosition?!!(r.compareDocumentPosition(o)&16):!1:!1}function kA(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var o=El(r.document);o instanceof r.HTMLIFrameElement;){try{var l=typeof o.contentWindow.location.href=="string"}catch{l=!1}if(l)r=o.contentWindow;else break;o=El(r.document)}return o}function my(r){var o=r&&r.nodeName&&r.nodeName.toLowerCase();return o&&(o==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||o==="textarea"||r.contentEditable==="true")}var OR=ni&&"documentMode"in document&&11>=document.documentMode,Il=null,yy=null,$f=null,wy=!1;function BA(r,o,l){var d=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;wy||Il==null||Il!==El(d)||(d=Il,"selectionStart"in d&&my(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),$f&&Rf($f,d)||($f=d,d=Tg(yy,"onSelect"),0<d.length&&(o=new cn("onSelect","select",null,o,l),r.push({event:o,listeners:d}),o.target=Il)))}function tc(r,o){var l={};return l[r.toLowerCase()]=o.toLowerCase(),l["Webkit"+r]="webkit"+o,l["Moz"+r]="moz"+o,l}var Dl={animationend:tc("Animation","AnimationEnd"),animationiteration:tc("Animation","AnimationIteration"),animationstart:tc("Animation","AnimationStart"),transitionrun:tc("Transition","TransitionRun"),transitionstart:tc("Transition","TransitionStart"),transitioncancel:tc("Transition","TransitionCancel"),transitionend:tc("Transition","TransitionEnd")},by={},jA={};ni&&(jA=document.createElement("div").style,"AnimationEvent"in window||(delete Dl.animationend.animation,delete Dl.animationiteration.animation,delete Dl.animationstart.animation),"TransitionEvent"in window||delete Dl.transitionend.transition);function nc(r){if(by[r])return by[r];if(!Dl[r])return r;var o=Dl[r],l;for(l in o)if(o.hasOwnProperty(l)&&l in jA)return by[r]=o[l];return r}var zA=nc("animationend"),HA=nc("animationiteration"),FA=nc("animationstart"),MR=nc("transitionrun"),RR=nc("transitionstart"),$R=nc("transitioncancel"),qA=nc("transitionend"),VA=new Map,vy="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");vy.push("scrollEnd");function Ui(r,o){VA.set(r,o),nr(o,[r])}var jp=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var o=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(o))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)},si=[],Ol=0,Ey=0;function zp(){for(var r=Ol,o=Ey=Ol=0;o<r;){var l=si[o];si[o++]=null;var d=si[o];si[o++]=null;var m=si[o];si[o++]=null;var w=si[o];if(si[o++]=null,d!==null&&m!==null){var C=d.pending;C===null?m.next=m:(m.next=C.next,C.next=m),d.pending=m}w!==0&&WA(l,m,w)}}function Hp(r,o,l,d){si[Ol++]=r,si[Ol++]=o,si[Ol++]=l,si[Ol++]=d,Ey|=d,r.lanes|=d,r=r.alternate,r!==null&&(r.lanes|=d)}function Ay(r,o,l,d){return Hp(r,o,l,d),Fp(r)}function sc(r,o){return Hp(r,null,null,o),Fp(r)}function WA(r,o,l){r.lanes|=l;var d=r.alternate;d!==null&&(d.lanes|=l);for(var m=!1,w=r.return;w!==null;)w.childLanes|=l,d=w.alternate,d!==null&&(d.childLanes|=l),w.tag===22&&(r=w.stateNode,r===null||r._visibility&1||(m=!0)),r=w,w=w.return;return r.tag===3?(w=r.stateNode,m&&o!==null&&(m=31-Zn(l),r=w.hiddenUpdates,d=r[m],d===null?r[m]=[o]:d.push(o),o.lane=l|536870912),w):null}function Fp(r){if(50<nd)throw nd=0,Ow=null,Error(s(185));for(var o=r.return;o!==null;)r=o,o=r.return;return r.tag===3?r.stateNode:null}var Ml={};function UR(r,o,l,d){this.tag=r,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function $s(r,o,l,d){return new UR(r,o,l,d)}function Cy(r){return r=r.prototype,!(!r||!r.isReactComponent)}function Fr(r,o){var l=r.alternate;return l===null?(l=$s(r.tag,o,r.key,r.mode),l.elementType=r.elementType,l.type=r.type,l.stateNode=r.stateNode,l.alternate=r,r.alternate=l):(l.pendingProps=o,l.type=r.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=r.flags&65011712,l.childLanes=r.childLanes,l.lanes=r.lanes,l.child=r.child,l.memoizedProps=r.memoizedProps,l.memoizedState=r.memoizedState,l.updateQueue=r.updateQueue,o=r.dependencies,l.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},l.sibling=r.sibling,l.index=r.index,l.ref=r.ref,l.refCleanup=r.refCleanup,l}function KA(r,o){r.flags&=65011714;var l=r.alternate;return l===null?(r.childLanes=0,r.lanes=o,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=l.childLanes,r.lanes=l.lanes,r.child=l.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=l.memoizedProps,r.memoizedState=l.memoizedState,r.updateQueue=l.updateQueue,r.type=l.type,o=l.dependencies,r.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),r}function qp(r,o,l,d,m,w){var C=0;if(d=r,typeof r=="function")Cy(r)&&(C=1);else if(typeof r=="string")C=j$(r,l,ie.current)?26:r==="html"||r==="head"||r==="body"?27:5;else e:switch(r){case M:return r=$s(31,l,o,m),r.elementType=M,r.lanes=w,r;case E:return ic(l.children,m,w,o);case A:C=8,m|=24;break;case x:return r=$s(12,l,o,m|2),r.elementType=x,r.lanes=w,r;case T:return r=$s(13,l,o,m),r.elementType=T,r.lanes=w,r;case I:return r=$s(19,l,o,m),r.elementType=I,r.lanes=w,r;default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case S:C=10;break e;case D:C=9;break e;case N:C=11;break e;case $:C=14;break e;case P:C=16,d=null;break e}C=29,l=Error(s(130,r===null?"null":typeof r,"")),d=null}return o=$s(C,l,o,m),o.elementType=r,o.type=d,o.lanes=w,o}function ic(r,o,l,d){return r=$s(7,r,d,o),r.lanes=l,r}function Sy(r,o,l){return r=$s(6,r,null,o),r.lanes=l,r}function GA(r){var o=$s(18,null,null,0);return o.stateNode=r,o}function xy(r,o,l){return o=$s(4,r.children!==null?r.children:[],r.key,o),o.lanes=l,o.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},o}var YA=new WeakMap;function ii(r,o){if(typeof r=="object"&&r!==null){var l=YA.get(r);return l!==void 0?l:(o={value:r,source:o,stack:dl(o)},YA.set(r,o),o)}return{value:r,source:o,stack:dl(o)}}var Rl=[],$l=0,Vp=null,Uf=0,ri=[],oi=0,Bo=null,or=1,ar="";function qr(r,o){Rl[$l++]=Uf,Rl[$l++]=Vp,Vp=r,Uf=o}function XA(r,o,l){ri[oi++]=or,ri[oi++]=ar,ri[oi++]=Bo,Bo=r;var d=or;r=ar;var m=32-Zn(d)-1;d&=~(1<<m),l+=1;var w=32-Zn(o)+m;if(30<w){var C=m-m%5;w=(d&(1<<C)-1).toString(32),d>>=C,m-=C,or=1<<32-Zn(o)+m|l<<m|d,ar=w+r}else or=1<<w|l<<m|d,ar=r}function Ny(r){r.return!==null&&(qr(r,1),XA(r,1,0))}function Ty(r){for(;r===Vp;)Vp=Rl[--$l],Rl[$l]=null,Uf=Rl[--$l],Rl[$l]=null;for(;r===Bo;)Bo=ri[--oi],ri[oi]=null,ar=ri[--oi],ri[oi]=null,or=ri[--oi],ri[oi]=null}function QA(r,o){ri[oi++]=or,ri[oi++]=ar,ri[oi++]=Bo,or=o.id,ar=o.overflow,Bo=r}var xn=null,$t=null,Ze=!1,jo=null,ai=!1,_y=Error(s(519));function zo(r){var o=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Pf(ii(o,r)),_y}function ZA(r){var o=r.stateNode,l=r.type,d=r.memoizedProps;switch(o[an]=r,o[zn]=d,l){case"dialog":Ye("cancel",o),Ye("close",o);break;case"iframe":case"object":case"embed":Ye("load",o);break;case"video":case"audio":for(l=0;l<id.length;l++)Ye(id[l],o);break;case"source":Ye("error",o);break;case"img":case"image":case"link":Ye("error",o),Ye("load",o);break;case"details":Ye("toggle",o);break;case"input":Ye("invalid",o),Cf(o,d.value,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name,!0);break;case"select":Ye("invalid",o);break;case"textarea":Ye("invalid",o),Br(o,d.value,d.defaultValue,d.children)}l=d.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||o.textContent===""+l||d.suppressHydrationWarning===!0||gx(o.textContent,l)?(d.popover!=null&&(Ye("beforetoggle",o),Ye("toggle",o)),d.onScroll!=null&&Ye("scroll",o),d.onScrollEnd!=null&&Ye("scrollend",o),d.onClick!=null&&(o.onclick=ti),o=!0):o=!1,o||zo(r,!0)}function JA(r){for(xn=r.return;xn;)switch(xn.tag){case 5:case 31:case 13:ai=!1;return;case 27:case 3:ai=!0;return;default:xn=xn.return}}function Ul(r){if(r!==xn)return!1;if(!Ze)return JA(r),Ze=!0,!1;var o=r.tag,l;if((l=o!==3&&o!==27)&&((l=o===5)&&(l=r.type,l=!(l!=="form"&&l!=="button")||Ww(r.type,r.memoizedProps)),l=!l),l&&$t&&zo(r),JA(r),o===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(s(317));$t=Sx(r)}else if(o===31){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(s(317));$t=Sx(r)}else o===27?(o=$t,ta(r.type)?(r=Qw,Qw=null,$t=r):$t=o):$t=xn?li(r.stateNode.nextSibling):null;return!0}function rc(){$t=xn=null,Ze=!1}function Iy(){var r=jo;return r!==null&&(fs===null?fs=r:fs.push.apply(fs,r),jo=null),r}function Pf(r){jo===null?jo=[r]:jo.push(r)}var Dy=U(null),oc=null,Vr=null;function Ho(r,o,l){te(Dy,o._currentValue),o._currentValue=l}function Wr(r){r._currentValue=Dy.current,K(Dy)}function Oy(r,o,l){for(;r!==null;){var d=r.alternate;if((r.childLanes&o)!==o?(r.childLanes|=o,d!==null&&(d.childLanes|=o)):d!==null&&(d.childLanes&o)!==o&&(d.childLanes|=o),r===l)break;r=r.return}}function My(r,o,l,d){var m=r.child;for(m!==null&&(m.return=r);m!==null;){var w=m.dependencies;if(w!==null){var C=m.child;w=w.firstContext;e:for(;w!==null;){var O=w;w=m;for(var j=0;j<o.length;j++)if(O.context===o[j]){w.lanes|=l,O=w.alternate,O!==null&&(O.lanes|=l),Oy(w.return,l,r),d||(C=null);break e}w=O.next}}else if(m.tag===18){if(C=m.return,C===null)throw Error(s(341));C.lanes|=l,w=C.alternate,w!==null&&(w.lanes|=l),Oy(C,l,r),C=null}else C=m.child;if(C!==null)C.return=m;else for(C=m;C!==null;){if(C===r){C=null;break}if(m=C.sibling,m!==null){m.return=C.return,C=m;break}C=C.return}m=C}}function Pl(r,o,l,d){r=null;for(var m=o,w=!1;m!==null;){if(!w){if((m.flags&524288)!==0)w=!0;else if((m.flags&262144)!==0)break}if(m.tag===10){var C=m.alternate;if(C===null)throw Error(s(387));if(C=C.memoizedProps,C!==null){var O=m.type;Rs(m.pendingProps.value,C.value)||(r!==null?r.push(O):r=[O])}}else if(m===xe.current){if(C=m.alternate,C===null)throw Error(s(387));C.memoizedState.memoizedState!==m.memoizedState.memoizedState&&(r!==null?r.push(ld):r=[ld])}m=m.return}r!==null&&My(o,r,l,d),o.flags|=262144}function Wp(r){for(r=r.firstContext;r!==null;){if(!Rs(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function ac(r){oc=r,Vr=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function Nn(r){return eC(oc,r)}function Kp(r,o){return oc===null&&ac(r),eC(r,o)}function eC(r,o){var l=o._currentValue;if(o={context:o,memoizedValue:l,next:null},Vr===null){if(r===null)throw Error(s(308));Vr=o,r.dependencies={lanes:0,firstContext:o},r.flags|=524288}else Vr=Vr.next=o;return l}var PR=typeof AbortController<"u"?AbortController:function(){var r=[],o=this.signal={aborted:!1,addEventListener:function(l,d){r.push(d)}};this.abort=function(){o.aborted=!0,r.forEach(function(l){return l()})}},LR=t.unstable_scheduleCallback,kR=t.unstable_NormalPriority,Jt={$$typeof:S,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ry(){return{controller:new PR,data:new Map,refCount:0}}function Lf(r){r.refCount--,r.refCount===0&&LR(kR,function(){r.controller.abort()})}var kf=null,$y=0,Ll=0,kl=null;function BR(r,o){if(kf===null){var l=kf=[];$y=0,Ll=Lw(),kl={status:"pending",value:void 0,then:function(d){l.push(d)}}}return $y++,o.then(tC,tC),o}function tC(){if(--$y===0&&kf!==null){kl!==null&&(kl.status="fulfilled");var r=kf;kf=null,Ll=0,kl=null;for(var o=0;o<r.length;o++)(0,r[o])()}}function jR(r,o){var l=[],d={status:"pending",value:null,reason:null,then:function(m){l.push(m)}};return r.then(function(){d.status="fulfilled",d.value=o;for(var m=0;m<l.length;m++)(0,l[m])(o)},function(m){for(d.status="rejected",d.reason=m,m=0;m<l.length;m++)(0,l[m])(void 0)}),d}var nC=_.S;_.S=function(r,o){BS=Mt(),typeof o=="object"&&o!==null&&typeof o.then=="function"&&BR(r,o),nC!==null&&nC(r,o)};var cc=U(null);function Uy(){var r=cc.current;return r!==null?r:Nt.pooledCache}function Gp(r,o){o===null?te(cc,cc.current):te(cc,o.pool)}function sC(){var r=Uy();return r===null?null:{parent:Jt._currentValue,pool:r}}var Bl=Error(s(460)),Py=Error(s(474)),Yp=Error(s(542)),Xp={then:function(){}};function iC(r){return r=r.status,r==="fulfilled"||r==="rejected"}function rC(r,o,l){switch(l=r[l],l===void 0?r.push(o):l!==o&&(o.then(ti,ti),o=l),o.status){case"fulfilled":return o.value;case"rejected":throw r=o.reason,aC(r),r;default:if(typeof o.status=="string")o.then(ti,ti);else{if(r=Nt,r!==null&&100<r.shellSuspendCounter)throw Error(s(482));r=o,r.status="pending",r.then(function(d){if(o.status==="pending"){var m=o;m.status="fulfilled",m.value=d}},function(d){if(o.status==="pending"){var m=o;m.status="rejected",m.reason=d}})}switch(o.status){case"fulfilled":return o.value;case"rejected":throw r=o.reason,aC(r),r}throw uc=o,Bl}}function lc(r){try{var o=r._init;return o(r._payload)}catch(l){throw l!==null&&typeof l=="object"&&typeof l.then=="function"?(uc=l,Bl):l}}var uc=null;function oC(){if(uc===null)throw Error(s(459));var r=uc;return uc=null,r}function aC(r){if(r===Bl||r===Yp)throw Error(s(483))}var jl=null,Bf=0;function Qp(r){var o=Bf;return Bf+=1,jl===null&&(jl=[]),rC(jl,r,o)}function jf(r,o){o=o.props.ref,r.ref=o!==void 0?o:null}function Zp(r,o){throw o.$$typeof===y?Error(s(525)):(r=Object.prototype.toString.call(o),Error(s(31,r==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":r)))}function cC(r){function o(Y,W){if(r){var Z=Y.deletions;Z===null?(Y.deletions=[W],Y.flags|=16):Z.push(W)}}function l(Y,W){if(!r)return null;for(;W!==null;)o(Y,W),W=W.sibling;return null}function d(Y){for(var W=new Map;Y!==null;)Y.key!==null?W.set(Y.key,Y):W.set(Y.index,Y),Y=Y.sibling;return W}function m(Y,W){return Y=Fr(Y,W),Y.index=0,Y.sibling=null,Y}function w(Y,W,Z){return Y.index=Z,r?(Z=Y.alternate,Z!==null?(Z=Z.index,Z<W?(Y.flags|=67108866,W):Z):(Y.flags|=67108866,W)):(Y.flags|=1048576,W)}function C(Y){return r&&Y.alternate===null&&(Y.flags|=67108866),Y}function O(Y,W,Z,ae){return W===null||W.tag!==6?(W=Sy(Z,Y.mode,ae),W.return=Y,W):(W=m(W,Z),W.return=Y,W)}function j(Y,W,Z,ae){var Re=Z.type;return Re===E?oe(Y,W,Z.props.children,ae,Z.key):W!==null&&(W.elementType===Re||typeof Re=="object"&&Re!==null&&Re.$$typeof===P&&lc(Re)===W.type)?(W=m(W,Z.props),jf(W,Z),W.return=Y,W):(W=qp(Z.type,Z.key,Z.props,null,Y.mode,ae),jf(W,Z),W.return=Y,W)}function J(Y,W,Z,ae){return W===null||W.tag!==4||W.stateNode.containerInfo!==Z.containerInfo||W.stateNode.implementation!==Z.implementation?(W=xy(Z,Y.mode,ae),W.return=Y,W):(W=m(W,Z.children||[]),W.return=Y,W)}function oe(Y,W,Z,ae,Re){return W===null||W.tag!==7?(W=ic(Z,Y.mode,ae,Re),W.return=Y,W):(W=m(W,Z),W.return=Y,W)}function ce(Y,W,Z){if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return W=Sy(""+W,Y.mode,Z),W.return=Y,W;if(typeof W=="object"&&W!==null){switch(W.$$typeof){case b:return Z=qp(W.type,W.key,W.props,null,Y.mode,Z),jf(Z,W),Z.return=Y,Z;case v:return W=xy(W,Y.mode,Z),W.return=Y,W;case P:return W=lc(W),ce(Y,W,Z)}if(R(W)||F(W))return W=ic(W,Y.mode,Z,null),W.return=Y,W;if(typeof W.then=="function")return ce(Y,Qp(W),Z);if(W.$$typeof===S)return ce(Y,Kp(Y,W),Z);Zp(Y,W)}return null}function se(Y,W,Z,ae){var Re=W!==null?W.key:null;if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return Re!==null?null:O(Y,W,""+Z,ae);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case b:return Z.key===Re?j(Y,W,Z,ae):null;case v:return Z.key===Re?J(Y,W,Z,ae):null;case P:return Z=lc(Z),se(Y,W,Z,ae)}if(R(Z)||F(Z))return Re!==null?null:oe(Y,W,Z,ae,null);if(typeof Z.then=="function")return se(Y,W,Qp(Z),ae);if(Z.$$typeof===S)return se(Y,W,Kp(Y,Z),ae);Zp(Y,Z)}return null}function re(Y,W,Z,ae,Re){if(typeof ae=="string"&&ae!==""||typeof ae=="number"||typeof ae=="bigint")return Y=Y.get(Z)||null,O(W,Y,""+ae,Re);if(typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case b:return Y=Y.get(ae.key===null?Z:ae.key)||null,j(W,Y,ae,Re);case v:return Y=Y.get(ae.key===null?Z:ae.key)||null,J(W,Y,ae,Re);case P:return ae=lc(ae),re(Y,W,Z,ae,Re)}if(R(ae)||F(ae))return Y=Y.get(Z)||null,oe(W,Y,ae,Re,null);if(typeof ae.then=="function")return re(Y,W,Z,Qp(ae),Re);if(ae.$$typeof===S)return re(Y,W,Z,Kp(W,ae),Re);Zp(W,ae)}return null}function Se(Y,W,Z,ae){for(var Re=null,st=null,Ne=W,qe=W=0,Qe=null;Ne!==null&&qe<Z.length;qe++){Ne.index>qe?(Qe=Ne,Ne=null):Qe=Ne.sibling;var it=se(Y,Ne,Z[qe],ae);if(it===null){Ne===null&&(Ne=Qe);break}r&&Ne&&it.alternate===null&&o(Y,Ne),W=w(it,W,qe),st===null?Re=it:st.sibling=it,st=it,Ne=Qe}if(qe===Z.length)return l(Y,Ne),Ze&&qr(Y,qe),Re;if(Ne===null){for(;qe<Z.length;qe++)Ne=ce(Y,Z[qe],ae),Ne!==null&&(W=w(Ne,W,qe),st===null?Re=Ne:st.sibling=Ne,st=Ne);return Ze&&qr(Y,qe),Re}for(Ne=d(Ne);qe<Z.length;qe++)Qe=re(Ne,Y,qe,Z[qe],ae),Qe!==null&&(r&&Qe.alternate!==null&&Ne.delete(Qe.key===null?qe:Qe.key),W=w(Qe,W,qe),st===null?Re=Qe:st.sibling=Qe,st=Qe);return r&&Ne.forEach(function(oa){return o(Y,oa)}),Ze&&qr(Y,qe),Re}function Le(Y,W,Z,ae){if(Z==null)throw Error(s(151));for(var Re=null,st=null,Ne=W,qe=W=0,Qe=null,it=Z.next();Ne!==null&&!it.done;qe++,it=Z.next()){Ne.index>qe?(Qe=Ne,Ne=null):Qe=Ne.sibling;var oa=se(Y,Ne,it.value,ae);if(oa===null){Ne===null&&(Ne=Qe);break}r&&Ne&&oa.alternate===null&&o(Y,Ne),W=w(oa,W,qe),st===null?Re=oa:st.sibling=oa,st=oa,Ne=Qe}if(it.done)return l(Y,Ne),Ze&&qr(Y,qe),Re;if(Ne===null){for(;!it.done;qe++,it=Z.next())it=ce(Y,it.value,ae),it!==null&&(W=w(it,W,qe),st===null?Re=it:st.sibling=it,st=it);return Ze&&qr(Y,qe),Re}for(Ne=d(Ne);!it.done;qe++,it=Z.next())it=re(Ne,Y,qe,it.value,ae),it!==null&&(r&&it.alternate!==null&&Ne.delete(it.key===null?qe:it.key),W=w(it,W,qe),st===null?Re=it:st.sibling=it,st=it);return r&&Ne.forEach(function(Q$){return o(Y,Q$)}),Ze&&qr(Y,qe),Re}function Ct(Y,W,Z,ae){if(typeof Z=="object"&&Z!==null&&Z.type===E&&Z.key===null&&(Z=Z.props.children),typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case b:e:{for(var Re=Z.key;W!==null;){if(W.key===Re){if(Re=Z.type,Re===E){if(W.tag===7){l(Y,W.sibling),ae=m(W,Z.props.children),ae.return=Y,Y=ae;break e}}else if(W.elementType===Re||typeof Re=="object"&&Re!==null&&Re.$$typeof===P&&lc(Re)===W.type){l(Y,W.sibling),ae=m(W,Z.props),jf(ae,Z),ae.return=Y,Y=ae;break e}l(Y,W);break}else o(Y,W);W=W.sibling}Z.type===E?(ae=ic(Z.props.children,Y.mode,ae,Z.key),ae.return=Y,Y=ae):(ae=qp(Z.type,Z.key,Z.props,null,Y.mode,ae),jf(ae,Z),ae.return=Y,Y=ae)}return C(Y);case v:e:{for(Re=Z.key;W!==null;){if(W.key===Re)if(W.tag===4&&W.stateNode.containerInfo===Z.containerInfo&&W.stateNode.implementation===Z.implementation){l(Y,W.sibling),ae=m(W,Z.children||[]),ae.return=Y,Y=ae;break e}else{l(Y,W);break}else o(Y,W);W=W.sibling}ae=xy(Z,Y.mode,ae),ae.return=Y,Y=ae}return C(Y);case P:return Z=lc(Z),Ct(Y,W,Z,ae)}if(R(Z))return Se(Y,W,Z,ae);if(F(Z)){if(Re=F(Z),typeof Re!="function")throw Error(s(150));return Z=Re.call(Z),Le(Y,W,Z,ae)}if(typeof Z.then=="function")return Ct(Y,W,Qp(Z),ae);if(Z.$$typeof===S)return Ct(Y,W,Kp(Y,Z),ae);Zp(Y,Z)}return typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint"?(Z=""+Z,W!==null&&W.tag===6?(l(Y,W.sibling),ae=m(W,Z),ae.return=Y,Y=ae):(l(Y,W),ae=Sy(Z,Y.mode,ae),ae.return=Y,Y=ae),C(Y)):l(Y,W)}return function(Y,W,Z,ae){try{Bf=0;var Re=Ct(Y,W,Z,ae);return jl=null,Re}catch(Ne){if(Ne===Bl||Ne===Yp)throw Ne;var st=$s(29,Ne,null,Y.mode);return st.lanes=ae,st.return=Y,st}finally{}}}var fc=cC(!0),lC=cC(!1),Fo=!1;function Ly(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ky(r,o){r=r.updateQueue,o.updateQueue===r&&(o.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function qo(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function Vo(r,o,l){var d=r.updateQueue;if(d===null)return null;if(d=d.shared,(ut&2)!==0){var m=d.pending;return m===null?o.next=o:(o.next=m.next,m.next=o),d.pending=o,o=Fp(r),WA(r,null,l),o}return Hp(r,d,o,l),Fp(r)}function zf(r,o,l){if(o=o.updateQueue,o!==null&&(o=o.shared,(l&4194048)!==0)){var d=o.lanes;d&=r.pendingLanes,l|=d,o.lanes=l,Tp(r,l)}}function By(r,o){var l=r.updateQueue,d=r.alternate;if(d!==null&&(d=d.updateQueue,l===d)){var m=null,w=null;if(l=l.firstBaseUpdate,l!==null){do{var C={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};w===null?m=w=C:w=w.next=C,l=l.next}while(l!==null);w===null?m=w=o:w=w.next=o}else m=w=o;l={baseState:d.baseState,firstBaseUpdate:m,lastBaseUpdate:w,shared:d.shared,callbacks:d.callbacks},r.updateQueue=l;return}r=l.lastBaseUpdate,r===null?l.firstBaseUpdate=o:r.next=o,l.lastBaseUpdate=o}var jy=!1;function Hf(){if(jy){var r=kl;if(r!==null)throw r}}function Ff(r,o,l,d){jy=!1;var m=r.updateQueue;Fo=!1;var w=m.firstBaseUpdate,C=m.lastBaseUpdate,O=m.shared.pending;if(O!==null){m.shared.pending=null;var j=O,J=j.next;j.next=null,C===null?w=J:C.next=J,C=j;var oe=r.alternate;oe!==null&&(oe=oe.updateQueue,O=oe.lastBaseUpdate,O!==C&&(O===null?oe.firstBaseUpdate=J:O.next=J,oe.lastBaseUpdate=j))}if(w!==null){var ce=m.baseState;C=0,oe=J=j=null,O=w;do{var se=O.lane&-536870913,re=se!==O.lane;if(re?(Xe&se)===se:(d&se)===se){se!==0&&se===Ll&&(jy=!0),oe!==null&&(oe=oe.next={lane:0,tag:O.tag,payload:O.payload,callback:null,next:null});e:{var Se=r,Le=O;se=o;var Ct=l;switch(Le.tag){case 1:if(Se=Le.payload,typeof Se=="function"){ce=Se.call(Ct,ce,se);break e}ce=Se;break e;case 3:Se.flags=Se.flags&-65537|128;case 0:if(Se=Le.payload,se=typeof Se=="function"?Se.call(Ct,ce,se):Se,se==null)break e;ce=g({},ce,se);break e;case 2:Fo=!0}}se=O.callback,se!==null&&(r.flags|=64,re&&(r.flags|=8192),re=m.callbacks,re===null?m.callbacks=[se]:re.push(se))}else re={lane:se,tag:O.tag,payload:O.payload,callback:O.callback,next:null},oe===null?(J=oe=re,j=ce):oe=oe.next=re,C|=se;if(O=O.next,O===null){if(O=m.shared.pending,O===null)break;re=O,O=re.next,re.next=null,m.lastBaseUpdate=re,m.shared.pending=null}}while(!0);oe===null&&(j=ce),m.baseState=j,m.firstBaseUpdate=J,m.lastBaseUpdate=oe,w===null&&(m.shared.lanes=0),Xo|=C,r.lanes=C,r.memoizedState=ce}}function uC(r,o){if(typeof r!="function")throw Error(s(191,r));r.call(o)}function fC(r,o){var l=r.callbacks;if(l!==null)for(r.callbacks=null,r=0;r<l.length;r++)uC(l[r],o)}var zl=U(null),Jp=U(0);function dC(r,o){r=to,te(Jp,r),te(zl,o),to=r|o.baseLanes}function zy(){te(Jp,to),te(zl,zl.current)}function Hy(){to=Jp.current,K(zl),K(Jp)}var Us=U(null),ci=null;function Wo(r){var o=r.alternate;te(Wt,Wt.current&1),te(Us,r),ci===null&&(o===null||zl.current!==null||o.memoizedState!==null)&&(ci=r)}function Fy(r){te(Wt,Wt.current),te(Us,r),ci===null&&(ci=r)}function hC(r){r.tag===22?(te(Wt,Wt.current),te(Us,r),ci===null&&(ci=r)):Ko()}function Ko(){te(Wt,Wt.current),te(Us,Us.current)}function Ps(r){K(Us),ci===r&&(ci=null),K(Wt)}var Wt=U(0);function eg(r){for(var o=r;o!==null;){if(o.tag===13){var l=o.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||Yw(l)||Xw(l)))return o}else if(o.tag===19&&(o.memoizedProps.revealOrder==="forwards"||o.memoizedProps.revealOrder==="backwards"||o.memoizedProps.revealOrder==="unstable_legacy-backwards"||o.memoizedProps.revealOrder==="together")){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===r)break;for(;o.sibling===null;){if(o.return===null||o.return===r)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var Kr=0,He=null,Et=null,en=null,tg=!1,Hl=!1,dc=!1,ng=0,qf=0,Fl=null,zR=0;function Ft(){throw Error(s(321))}function qy(r,o){if(o===null)return!1;for(var l=0;l<o.length&&l<r.length;l++)if(!Rs(r[l],o[l]))return!1;return!0}function Vy(r,o,l,d,m,w){return Kr=w,He=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,_.H=r===null||r.memoizedState===null?XC:ow,dc=!1,w=l(d,m),dc=!1,Hl&&(w=gC(o,l,d,m)),pC(r),w}function pC(r){_.H=Kf;var o=Et!==null&&Et.next!==null;if(Kr=0,en=Et=He=null,tg=!1,qf=0,Fl=null,o)throw Error(s(300));r===null||tn||(r=r.dependencies,r!==null&&Wp(r)&&(tn=!0))}function gC(r,o,l,d){He=r;var m=0;do{if(Hl&&(Fl=null),qf=0,Hl=!1,25<=m)throw Error(s(301));if(m+=1,en=Et=null,r.updateQueue!=null){var w=r.updateQueue;w.lastEffect=null,w.events=null,w.stores=null,w.memoCache!=null&&(w.memoCache.index=0)}_.H=QC,w=o(l,d)}while(Hl);return w}function HR(){var r=_.H,o=r.useState()[0];return o=typeof o.then=="function"?Vf(o):o,r=r.useState()[0],(Et!==null?Et.memoizedState:null)!==r&&(He.flags|=1024),o}function Wy(){var r=ng!==0;return ng=0,r}function Ky(r,o,l){o.updateQueue=r.updateQueue,o.flags&=-2053,r.lanes&=~l}function Gy(r){if(tg){for(r=r.memoizedState;r!==null;){var o=r.queue;o!==null&&(o.pending=null),r=r.next}tg=!1}Kr=0,en=Et=He=null,Hl=!1,qf=ng=0,Fl=null}function es(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return en===null?He.memoizedState=en=r:en=en.next=r,en}function Kt(){if(Et===null){var r=He.alternate;r=r!==null?r.memoizedState:null}else r=Et.next;var o=en===null?He.memoizedState:en.next;if(o!==null)en=o,Et=r;else{if(r===null)throw He.alternate===null?Error(s(467)):Error(s(310));Et=r,r={memoizedState:Et.memoizedState,baseState:Et.baseState,baseQueue:Et.baseQueue,queue:Et.queue,next:null},en===null?He.memoizedState=en=r:en=en.next=r}return en}function sg(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Vf(r){var o=qf;return qf+=1,Fl===null&&(Fl=[]),r=rC(Fl,r,o),o=He,(en===null?o.memoizedState:en.next)===null&&(o=o.alternate,_.H=o===null||o.memoizedState===null?XC:ow),r}function ig(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return Vf(r);if(r.$$typeof===S)return Nn(r)}throw Error(s(438,String(r)))}function Yy(r){var o=null,l=He.updateQueue;if(l!==null&&(o=l.memoCache),o==null){var d=He.alternate;d!==null&&(d=d.updateQueue,d!==null&&(d=d.memoCache,d!=null&&(o={data:d.data.map(function(m){return m.slice()}),index:0})))}if(o==null&&(o={data:[],index:0}),l===null&&(l=sg(),He.updateQueue=l),l.memoCache=o,l=o.data[o.index],l===void 0)for(l=o.data[o.index]=Array(r),d=0;d<r;d++)l[d]=z;return o.index++,l}function Gr(r,o){return typeof o=="function"?o(r):o}function rg(r){var o=Kt();return Xy(o,Et,r)}function Xy(r,o,l){var d=r.queue;if(d===null)throw Error(s(311));d.lastRenderedReducer=l;var m=r.baseQueue,w=d.pending;if(w!==null){if(m!==null){var C=m.next;m.next=w.next,w.next=C}o.baseQueue=m=w,d.pending=null}if(w=r.baseState,m===null)r.memoizedState=w;else{o=m.next;var O=C=null,j=null,J=o,oe=!1;do{var ce=J.lane&-536870913;if(ce!==J.lane?(Xe&ce)===ce:(Kr&ce)===ce){var se=J.revertLane;if(se===0)j!==null&&(j=j.next={lane:0,revertLane:0,gesture:null,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null}),ce===Ll&&(oe=!0);else if((Kr&se)===se){J=J.next,se===Ll&&(oe=!0);continue}else ce={lane:0,revertLane:J.revertLane,gesture:null,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null},j===null?(O=j=ce,C=w):j=j.next=ce,He.lanes|=se,Xo|=se;ce=J.action,dc&&l(w,ce),w=J.hasEagerState?J.eagerState:l(w,ce)}else se={lane:ce,revertLane:J.revertLane,gesture:J.gesture,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null},j===null?(O=j=se,C=w):j=j.next=se,He.lanes|=ce,Xo|=ce;J=J.next}while(J!==null&&J!==o);if(j===null?C=w:j.next=O,!Rs(w,r.memoizedState)&&(tn=!0,oe&&(l=kl,l!==null)))throw l;r.memoizedState=w,r.baseState=C,r.baseQueue=j,d.lastRenderedState=w}return m===null&&(d.lanes=0),[r.memoizedState,d.dispatch]}function Qy(r){var o=Kt(),l=o.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=r;var d=l.dispatch,m=l.pending,w=o.memoizedState;if(m!==null){l.pending=null;var C=m=m.next;do w=r(w,C.action),C=C.next;while(C!==m);Rs(w,o.memoizedState)||(tn=!0),o.memoizedState=w,o.baseQueue===null&&(o.baseState=w),l.lastRenderedState=w}return[w,d]}function mC(r,o,l){var d=He,m=Kt(),w=Ze;if(w){if(l===void 0)throw Error(s(407));l=l()}else l=o();var C=!Rs((Et||m).memoizedState,l);if(C&&(m.memoizedState=l,tn=!0),m=m.queue,ew(bC.bind(null,d,m,r),[r]),m.getSnapshot!==o||C||en!==null&&en.memoizedState.tag&1){if(d.flags|=2048,ql(9,{destroy:void 0},wC.bind(null,d,m,l,o),null),Nt===null)throw Error(s(349));w||(Kr&127)!==0||yC(d,o,l)}return l}function yC(r,o,l){r.flags|=16384,r={getSnapshot:o,value:l},o=He.updateQueue,o===null?(o=sg(),He.updateQueue=o,o.stores=[r]):(l=o.stores,l===null?o.stores=[r]:l.push(r))}function wC(r,o,l,d){o.value=l,o.getSnapshot=d,vC(o)&&EC(r)}function bC(r,o,l){return l(function(){vC(o)&&EC(r)})}function vC(r){var o=r.getSnapshot;r=r.value;try{var l=o();return!Rs(r,l)}catch{return!0}}function EC(r){var o=sc(r,2);o!==null&&ds(o,r,2)}function Zy(r){var o=es();if(typeof r=="function"){var l=r;if(r=l(),dc){Zi(!0);try{l()}finally{Zi(!1)}}}return o.memoizedState=o.baseState=r,o.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gr,lastRenderedState:r},o}function AC(r,o,l,d){return r.baseState=l,Xy(r,Et,typeof d=="function"?d:Gr)}function FR(r,o,l,d,m){if(cg(r))throw Error(s(485));if(r=o.action,r!==null){var w={payload:m,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(C){w.listeners.push(C)}};_.T!==null?l(!0):w.isTransition=!1,d(w),l=o.pending,l===null?(w.next=o.pending=w,CC(o,w)):(w.next=l.next,o.pending=l.next=w)}}function CC(r,o){var l=o.action,d=o.payload,m=r.state;if(o.isTransition){var w=_.T,C={};_.T=C;try{var O=l(m,d),j=_.S;j!==null&&j(C,O),SC(r,o,O)}catch(J){Jy(r,o,J)}finally{w!==null&&C.types!==null&&(w.types=C.types),_.T=w}}else try{w=l(m,d),SC(r,o,w)}catch(J){Jy(r,o,J)}}function SC(r,o,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(d){xC(r,o,d)},function(d){return Jy(r,o,d)}):xC(r,o,l)}function xC(r,o,l){o.status="fulfilled",o.value=l,NC(o),r.state=l,o=r.pending,o!==null&&(l=o.next,l===o?r.pending=null:(l=l.next,o.next=l,CC(r,l)))}function Jy(r,o,l){var d=r.pending;if(r.pending=null,d!==null){d=d.next;do o.status="rejected",o.reason=l,NC(o),o=o.next;while(o!==d)}r.action=null}function NC(r){r=r.listeners;for(var o=0;o<r.length;o++)(0,r[o])()}function TC(r,o){return o}function _C(r,o){if(Ze){var l=Nt.formState;if(l!==null){e:{var d=He;if(Ze){if($t){t:{for(var m=$t,w=ai;m.nodeType!==8;){if(!w){m=null;break t}if(m=li(m.nextSibling),m===null){m=null;break t}}w=m.data,m=w==="F!"||w==="F"?m:null}if(m){$t=li(m.nextSibling),d=m.data==="F!";break e}}zo(d)}d=!1}d&&(o=l[0])}}return l=es(),l.memoizedState=l.baseState=o,d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:TC,lastRenderedState:o},l.queue=d,l=KC.bind(null,He,d),d.dispatch=l,d=Zy(!1),w=rw.bind(null,He,!1,d.queue),d=es(),m={state:o,dispatch:null,action:r,pending:null},d.queue=m,l=FR.bind(null,He,m,w,l),m.dispatch=l,d.memoizedState=r,[o,l,!1]}function IC(r){var o=Kt();return DC(o,Et,r)}function DC(r,o,l){if(o=Xy(r,o,TC)[0],r=rg(Gr)[0],typeof o=="object"&&o!==null&&typeof o.then=="function")try{var d=Vf(o)}catch(C){throw C===Bl?Yp:C}else d=o;o=Kt();var m=o.queue,w=m.dispatch;return l!==o.memoizedState&&(He.flags|=2048,ql(9,{destroy:void 0},qR.bind(null,m,l),null)),[d,w,r]}function qR(r,o){r.action=o}function OC(r){var o=Kt(),l=Et;if(l!==null)return DC(o,l,r);Kt(),o=o.memoizedState,l=Kt();var d=l.queue.dispatch;return l.memoizedState=r,[o,d,!1]}function ql(r,o,l,d){return r={tag:r,create:l,deps:d,inst:o,next:null},o=He.updateQueue,o===null&&(o=sg(),He.updateQueue=o),l=o.lastEffect,l===null?o.lastEffect=r.next=r:(d=l.next,l.next=r,r.next=d,o.lastEffect=r),r}function MC(){return Kt().memoizedState}function og(r,o,l,d){var m=es();He.flags|=r,m.memoizedState=ql(1|o,{destroy:void 0},l,d===void 0?null:d)}function ag(r,o,l,d){var m=Kt();d=d===void 0?null:d;var w=m.memoizedState.inst;Et!==null&&d!==null&&qy(d,Et.memoizedState.deps)?m.memoizedState=ql(o,w,l,d):(He.flags|=r,m.memoizedState=ql(1|o,w,l,d))}function RC(r,o){og(8390656,8,r,o)}function ew(r,o){ag(2048,8,r,o)}function VR(r){He.flags|=4;var o=He.updateQueue;if(o===null)o=sg(),He.updateQueue=o,o.events=[r];else{var l=o.events;l===null?o.events=[r]:l.push(r)}}function $C(r){var o=Kt().memoizedState;return VR({ref:o,nextImpl:r}),function(){if((ut&2)!==0)throw Error(s(440));return o.impl.apply(void 0,arguments)}}function UC(r,o){return ag(4,2,r,o)}function PC(r,o){return ag(4,4,r,o)}function LC(r,o){if(typeof o=="function"){r=r();var l=o(r);return function(){typeof l=="function"?l():o(null)}}if(o!=null)return r=r(),o.current=r,function(){o.current=null}}function kC(r,o,l){l=l!=null?l.concat([r]):null,ag(4,4,LC.bind(null,o,r),l)}function tw(){}function BC(r,o){var l=Kt();o=o===void 0?null:o;var d=l.memoizedState;return o!==null&&qy(o,d[1])?d[0]:(l.memoizedState=[r,o],r)}function jC(r,o){var l=Kt();o=o===void 0?null:o;var d=l.memoizedState;if(o!==null&&qy(o,d[1]))return d[0];if(d=r(),dc){Zi(!0);try{r()}finally{Zi(!1)}}return l.memoizedState=[d,o],d}function nw(r,o,l){return l===void 0||(Kr&1073741824)!==0&&(Xe&261930)===0?r.memoizedState=o:(r.memoizedState=l,r=zS(),He.lanes|=r,Xo|=r,l)}function zC(r,o,l,d){return Rs(l,o)?l:zl.current!==null?(r=nw(r,l,d),Rs(r,o)||(tn=!0),r):(Kr&42)===0||(Kr&1073741824)!==0&&(Xe&261930)===0?(tn=!0,r.memoizedState=l):(r=zS(),He.lanes|=r,Xo|=r,o)}function HC(r,o,l,d,m){var w=k.p;k.p=w!==0&&8>w?w:8;var C=_.T,O={};_.T=O,rw(r,!1,o,l);try{var j=m(),J=_.S;if(J!==null&&J(O,j),j!==null&&typeof j=="object"&&typeof j.then=="function"){var oe=jR(j,d);Wf(r,o,oe,Bs(r))}else Wf(r,o,d,Bs(r))}catch(ce){Wf(r,o,{then:function(){},status:"rejected",reason:ce},Bs())}finally{k.p=w,C!==null&&O.types!==null&&(C.types=O.types),_.T=C}}function WR(){}function sw(r,o,l,d){if(r.tag!==5)throw Error(s(476));var m=FC(r).queue;HC(r,m,o,H,l===null?WR:function(){return qC(r),l(d)})}function FC(r){var o=r.memoizedState;if(o!==null)return o;o={memoizedState:H,baseState:H,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gr,lastRenderedState:H},next:null};var l={};return o.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gr,lastRenderedState:l},next:null},r.memoizedState=o,r=r.alternate,r!==null&&(r.memoizedState=o),o}function qC(r){var o=FC(r);o.next===null&&(o=r.alternate.memoizedState),Wf(r,o.next.queue,{},Bs())}function iw(){return Nn(ld)}function VC(){return Kt().memoizedState}function WC(){return Kt().memoizedState}function KR(r){for(var o=r.return;o!==null;){switch(o.tag){case 24:case 3:var l=Bs();r=qo(l);var d=Vo(o,r,l);d!==null&&(ds(d,o,l),zf(d,o,l)),o={cache:Ry()},r.payload=o;return}o=o.return}}function GR(r,o,l){var d=Bs();l={lane:d,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},cg(r)?GC(o,l):(l=Ay(r,o,l,d),l!==null&&(ds(l,r,d),YC(l,o,d)))}function KC(r,o,l){var d=Bs();Wf(r,o,l,d)}function Wf(r,o,l,d){var m={lane:d,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null};if(cg(r))GC(o,m);else{var w=r.alternate;if(r.lanes===0&&(w===null||w.lanes===0)&&(w=o.lastRenderedReducer,w!==null))try{var C=o.lastRenderedState,O=w(C,l);if(m.hasEagerState=!0,m.eagerState=O,Rs(O,C))return Hp(r,o,m,0),Nt===null&&zp(),!1}catch{}finally{}if(l=Ay(r,o,m,d),l!==null)return ds(l,r,d),YC(l,o,d),!0}return!1}function rw(r,o,l,d){if(d={lane:2,revertLane:Lw(),gesture:null,action:d,hasEagerState:!1,eagerState:null,next:null},cg(r)){if(o)throw Error(s(479))}else o=Ay(r,l,d,2),o!==null&&ds(o,r,2)}function cg(r){var o=r.alternate;return r===He||o!==null&&o===He}function GC(r,o){Hl=tg=!0;var l=r.pending;l===null?o.next=o:(o.next=l.next,l.next=o),r.pending=o}function YC(r,o,l){if((l&4194048)!==0){var d=o.lanes;d&=r.pendingLanes,l|=d,o.lanes=l,Tp(r,l)}}var Kf={readContext:Nn,use:ig,useCallback:Ft,useContext:Ft,useEffect:Ft,useImperativeHandle:Ft,useLayoutEffect:Ft,useInsertionEffect:Ft,useMemo:Ft,useReducer:Ft,useRef:Ft,useState:Ft,useDebugValue:Ft,useDeferredValue:Ft,useTransition:Ft,useSyncExternalStore:Ft,useId:Ft,useHostTransitionStatus:Ft,useFormState:Ft,useActionState:Ft,useOptimistic:Ft,useMemoCache:Ft,useCacheRefresh:Ft};Kf.useEffectEvent=Ft;var XC={readContext:Nn,use:ig,useCallback:function(r,o){return es().memoizedState=[r,o===void 0?null:o],r},useContext:Nn,useEffect:RC,useImperativeHandle:function(r,o,l){l=l!=null?l.concat([r]):null,og(4194308,4,LC.bind(null,o,r),l)},useLayoutEffect:function(r,o){return og(4194308,4,r,o)},useInsertionEffect:function(r,o){og(4,2,r,o)},useMemo:function(r,o){var l=es();o=o===void 0?null:o;var d=r();if(dc){Zi(!0);try{r()}finally{Zi(!1)}}return l.memoizedState=[d,o],d},useReducer:function(r,o,l){var d=es();if(l!==void 0){var m=l(o);if(dc){Zi(!0);try{l(o)}finally{Zi(!1)}}}else m=o;return d.memoizedState=d.baseState=m,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:m},d.queue=r,r=r.dispatch=GR.bind(null,He,r),[d.memoizedState,r]},useRef:function(r){var o=es();return r={current:r},o.memoizedState=r},useState:function(r){r=Zy(r);var o=r.queue,l=KC.bind(null,He,o);return o.dispatch=l,[r.memoizedState,l]},useDebugValue:tw,useDeferredValue:function(r,o){var l=es();return nw(l,r,o)},useTransition:function(){var r=Zy(!1);return r=HC.bind(null,He,r.queue,!0,!1),es().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,o,l){var d=He,m=es();if(Ze){if(l===void 0)throw Error(s(407));l=l()}else{if(l=o(),Nt===null)throw Error(s(349));(Xe&127)!==0||yC(d,o,l)}m.memoizedState=l;var w={value:l,getSnapshot:o};return m.queue=w,RC(bC.bind(null,d,w,r),[r]),d.flags|=2048,ql(9,{destroy:void 0},wC.bind(null,d,w,l,o),null),l},useId:function(){var r=es(),o=Nt.identifierPrefix;if(Ze){var l=ar,d=or;l=(d&~(1<<32-Zn(d)-1)).toString(32)+l,o="_"+o+"R_"+l,l=ng++,0<l&&(o+="H"+l.toString(32)),o+="_"}else l=zR++,o="_"+o+"r_"+l.toString(32)+"_";return r.memoizedState=o},useHostTransitionStatus:iw,useFormState:_C,useActionState:_C,useOptimistic:function(r){var o=es();o.memoizedState=o.baseState=r;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return o.queue=l,o=rw.bind(null,He,!0,l),l.dispatch=o,[r,o]},useMemoCache:Yy,useCacheRefresh:function(){return es().memoizedState=KR.bind(null,He)},useEffectEvent:function(r){var o=es(),l={impl:r};return o.memoizedState=l,function(){if((ut&2)!==0)throw Error(s(440));return l.impl.apply(void 0,arguments)}}},ow={readContext:Nn,use:ig,useCallback:BC,useContext:Nn,useEffect:ew,useImperativeHandle:kC,useInsertionEffect:UC,useLayoutEffect:PC,useMemo:jC,useReducer:rg,useRef:MC,useState:function(){return rg(Gr)},useDebugValue:tw,useDeferredValue:function(r,o){var l=Kt();return zC(l,Et.memoizedState,r,o)},useTransition:function(){var r=rg(Gr)[0],o=Kt().memoizedState;return[typeof r=="boolean"?r:Vf(r),o]},useSyncExternalStore:mC,useId:VC,useHostTransitionStatus:iw,useFormState:IC,useActionState:IC,useOptimistic:function(r,o){var l=Kt();return AC(l,Et,r,o)},useMemoCache:Yy,useCacheRefresh:WC};ow.useEffectEvent=$C;var QC={readContext:Nn,use:ig,useCallback:BC,useContext:Nn,useEffect:ew,useImperativeHandle:kC,useInsertionEffect:UC,useLayoutEffect:PC,useMemo:jC,useReducer:Qy,useRef:MC,useState:function(){return Qy(Gr)},useDebugValue:tw,useDeferredValue:function(r,o){var l=Kt();return Et===null?nw(l,r,o):zC(l,Et.memoizedState,r,o)},useTransition:function(){var r=Qy(Gr)[0],o=Kt().memoizedState;return[typeof r=="boolean"?r:Vf(r),o]},useSyncExternalStore:mC,useId:VC,useHostTransitionStatus:iw,useFormState:OC,useActionState:OC,useOptimistic:function(r,o){var l=Kt();return Et!==null?AC(l,Et,r,o):(l.baseState=r,[r,l.queue.dispatch])},useMemoCache:Yy,useCacheRefresh:WC};QC.useEffectEvent=$C;function aw(r,o,l,d){o=r.memoizedState,l=l(d,o),l=l==null?o:g({},o,l),r.memoizedState=l,r.lanes===0&&(r.updateQueue.baseState=l)}var cw={enqueueSetState:function(r,o,l){r=r._reactInternals;var d=Bs(),m=qo(d);m.payload=o,l!=null&&(m.callback=l),o=Vo(r,m,d),o!==null&&(ds(o,r,d),zf(o,r,d))},enqueueReplaceState:function(r,o,l){r=r._reactInternals;var d=Bs(),m=qo(d);m.tag=1,m.payload=o,l!=null&&(m.callback=l),o=Vo(r,m,d),o!==null&&(ds(o,r,d),zf(o,r,d))},enqueueForceUpdate:function(r,o){r=r._reactInternals;var l=Bs(),d=qo(l);d.tag=2,o!=null&&(d.callback=o),o=Vo(r,d,l),o!==null&&(ds(o,r,l),zf(o,r,l))}};function ZC(r,o,l,d,m,w,C){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(d,w,C):o.prototype&&o.prototype.isPureReactComponent?!Rf(l,d)||!Rf(m,w):!0}function JC(r,o,l,d){r=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(l,d),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(l,d),o.state!==r&&cw.enqueueReplaceState(o,o.state,null)}function hc(r,o){var l=o;if("ref"in o){l={};for(var d in o)d!=="ref"&&(l[d]=o[d])}if(r=r.defaultProps){l===o&&(l=g({},l));for(var m in r)l[m]===void 0&&(l[m]=r[m])}return l}function eS(r){jp(r)}function tS(r){console.error(r)}function nS(r){jp(r)}function lg(r,o){try{var l=r.onUncaughtError;l(o.value,{componentStack:o.stack})}catch(d){setTimeout(function(){throw d})}}function sS(r,o,l){try{var d=r.onCaughtError;d(l.value,{componentStack:l.stack,errorBoundary:o.tag===1?o.stateNode:null})}catch(m){setTimeout(function(){throw m})}}function lw(r,o,l){return l=qo(l),l.tag=3,l.payload={element:null},l.callback=function(){lg(r,o)},l}function iS(r){return r=qo(r),r.tag=3,r}function rS(r,o,l,d){var m=l.type.getDerivedStateFromError;if(typeof m=="function"){var w=d.value;r.payload=function(){return m(w)},r.callback=function(){sS(o,l,d)}}var C=l.stateNode;C!==null&&typeof C.componentDidCatch=="function"&&(r.callback=function(){sS(o,l,d),typeof m!="function"&&(Qo===null?Qo=new Set([this]):Qo.add(this));var O=d.stack;this.componentDidCatch(d.value,{componentStack:O!==null?O:""})})}function YR(r,o,l,d,m){if(l.flags|=32768,d!==null&&typeof d=="object"&&typeof d.then=="function"){if(o=l.alternate,o!==null&&Pl(o,l,m,!0),l=Us.current,l!==null){switch(l.tag){case 31:case 13:return ci===null?Eg():l.alternate===null&&qt===0&&(qt=3),l.flags&=-257,l.flags|=65536,l.lanes=m,d===Xp?l.flags|=16384:(o=l.updateQueue,o===null?l.updateQueue=new Set([d]):o.add(d),$w(r,d,m)),!1;case 22:return l.flags|=65536,d===Xp?l.flags|=16384:(o=l.updateQueue,o===null?(o={transitions:null,markerInstances:null,retryQueue:new Set([d])},l.updateQueue=o):(l=o.retryQueue,l===null?o.retryQueue=new Set([d]):l.add(d)),$w(r,d,m)),!1}throw Error(s(435,l.tag))}return $w(r,d,m),Eg(),!1}if(Ze)return o=Us.current,o!==null?((o.flags&65536)===0&&(o.flags|=256),o.flags|=65536,o.lanes=m,d!==_y&&(r=Error(s(422),{cause:d}),Pf(ii(r,l)))):(d!==_y&&(o=Error(s(423),{cause:d}),Pf(ii(o,l))),r=r.current.alternate,r.flags|=65536,m&=-m,r.lanes|=m,d=ii(d,l),m=lw(r.stateNode,d,m),By(r,m),qt!==4&&(qt=2)),!1;var w=Error(s(520),{cause:d});if(w=ii(w,l),td===null?td=[w]:td.push(w),qt!==4&&(qt=2),o===null)return!0;d=ii(d,l),l=o;do{switch(l.tag){case 3:return l.flags|=65536,r=m&-m,l.lanes|=r,r=lw(l.stateNode,d,r),By(l,r),!1;case 1:if(o=l.type,w=l.stateNode,(l.flags&128)===0&&(typeof o.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(Qo===null||!Qo.has(w))))return l.flags|=65536,m&=-m,l.lanes|=m,m=iS(m),rS(m,r,l,d),By(l,m),!1}l=l.return}while(l!==null);return!1}var uw=Error(s(461)),tn=!1;function Tn(r,o,l,d){o.child=r===null?lC(o,null,l,d):fc(o,r.child,l,d)}function oS(r,o,l,d,m){l=l.render;var w=o.ref;if("ref"in d){var C={};for(var O in d)O!=="ref"&&(C[O]=d[O])}else C=d;return ac(o),d=Vy(r,o,l,C,w,m),O=Wy(),r!==null&&!tn?(Ky(r,o,m),Yr(r,o,m)):(Ze&&O&&Ny(o),o.flags|=1,Tn(r,o,d,m),o.child)}function aS(r,o,l,d,m){if(r===null){var w=l.type;return typeof w=="function"&&!Cy(w)&&w.defaultProps===void 0&&l.compare===null?(o.tag=15,o.type=w,cS(r,o,w,d,m)):(r=qp(l.type,null,d,o,o.mode,m),r.ref=o.ref,r.return=o,o.child=r)}if(w=r.child,!ww(r,m)){var C=w.memoizedProps;if(l=l.compare,l=l!==null?l:Rf,l(C,d)&&r.ref===o.ref)return Yr(r,o,m)}return o.flags|=1,r=Fr(w,d),r.ref=o.ref,r.return=o,o.child=r}function cS(r,o,l,d,m){if(r!==null){var w=r.memoizedProps;if(Rf(w,d)&&r.ref===o.ref)if(tn=!1,o.pendingProps=d=w,ww(r,m))(r.flags&131072)!==0&&(tn=!0);else return o.lanes=r.lanes,Yr(r,o,m)}return fw(r,o,l,d,m)}function lS(r,o,l,d){var m=d.children,w=r!==null?r.memoizedState:null;if(r===null&&o.stateNode===null&&(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),d.mode==="hidden"){if((o.flags&128)!==0){if(w=w!==null?w.baseLanes|l:l,r!==null){for(d=o.child=r.child,m=0;d!==null;)m=m|d.lanes|d.childLanes,d=d.sibling;d=m&~w}else d=0,o.child=null;return uS(r,o,w,l,d)}if((l&536870912)!==0)o.memoizedState={baseLanes:0,cachePool:null},r!==null&&Gp(o,w!==null?w.cachePool:null),w!==null?dC(o,w):zy(),hC(o);else return d=o.lanes=536870912,uS(r,o,w!==null?w.baseLanes|l:l,l,d)}else w!==null?(Gp(o,w.cachePool),dC(o,w),Ko(),o.memoizedState=null):(r!==null&&Gp(o,null),zy(),Ko());return Tn(r,o,m,l),o.child}function Gf(r,o){return r!==null&&r.tag===22||o.stateNode!==null||(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.sibling}function uS(r,o,l,d,m){var w=Uy();return w=w===null?null:{parent:Jt._currentValue,pool:w},o.memoizedState={baseLanes:l,cachePool:w},r!==null&&Gp(o,null),zy(),hC(o),r!==null&&Pl(r,o,d,!0),o.childLanes=m,null}function ug(r,o){return o=dg({mode:o.mode,children:o.children},r.mode),o.ref=r.ref,r.child=o,o.return=r,o}function fS(r,o,l){return fc(o,r.child,null,l),r=ug(o,o.pendingProps),r.flags|=2,Ps(o),o.memoizedState=null,r}function XR(r,o,l){var d=o.pendingProps,m=(o.flags&128)!==0;if(o.flags&=-129,r===null){if(Ze){if(d.mode==="hidden")return r=ug(o,d),o.lanes=536870912,Gf(null,r);if(Fy(o),(r=$t)?(r=Cx(r,ai),r=r!==null&&r.data==="&"?r:null,r!==null&&(o.memoizedState={dehydrated:r,treeContext:Bo!==null?{id:or,overflow:ar}:null,retryLane:536870912,hydrationErrors:null},l=GA(r),l.return=o,o.child=l,xn=o,$t=null)):r=null,r===null)throw zo(o);return o.lanes=536870912,null}return ug(o,d)}var w=r.memoizedState;if(w!==null){var C=w.dehydrated;if(Fy(o),m)if(o.flags&256)o.flags&=-257,o=fS(r,o,l);else if(o.memoizedState!==null)o.child=r.child,o.flags|=128,o=null;else throw Error(s(558));else if(tn||Pl(r,o,l,!1),m=(l&r.childLanes)!==0,tn||m){if(d=Nt,d!==null&&(C=_p(d,l),C!==0&&C!==w.retryLane))throw w.retryLane=C,sc(r,C),ds(d,r,C),uw;Eg(),o=fS(r,o,l)}else r=w.treeContext,$t=li(C.nextSibling),xn=o,Ze=!0,jo=null,ai=!1,r!==null&&QA(o,r),o=ug(o,d),o.flags|=4096;return o}return r=Fr(r.child,{mode:d.mode,children:d.children}),r.ref=o.ref,o.child=r,r.return=o,r}function fg(r,o){var l=o.ref;if(l===null)r!==null&&r.ref!==null&&(o.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(s(284));(r===null||r.ref!==l)&&(o.flags|=4194816)}}function fw(r,o,l,d,m){return ac(o),l=Vy(r,o,l,d,void 0,m),d=Wy(),r!==null&&!tn?(Ky(r,o,m),Yr(r,o,m)):(Ze&&d&&Ny(o),o.flags|=1,Tn(r,o,l,m),o.child)}function dS(r,o,l,d,m,w){return ac(o),o.updateQueue=null,l=gC(o,d,l,m),pC(r),d=Wy(),r!==null&&!tn?(Ky(r,o,w),Yr(r,o,w)):(Ze&&d&&Ny(o),o.flags|=1,Tn(r,o,l,w),o.child)}function hS(r,o,l,d,m){if(ac(o),o.stateNode===null){var w=Ml,C=l.contextType;typeof C=="object"&&C!==null&&(w=Nn(C)),w=new l(d,w),o.memoizedState=w.state!==null&&w.state!==void 0?w.state:null,w.updater=cw,o.stateNode=w,w._reactInternals=o,w=o.stateNode,w.props=d,w.state=o.memoizedState,w.refs={},Ly(o),C=l.contextType,w.context=typeof C=="object"&&C!==null?Nn(C):Ml,w.state=o.memoizedState,C=l.getDerivedStateFromProps,typeof C=="function"&&(aw(o,l,C,d),w.state=o.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof w.getSnapshotBeforeUpdate=="function"||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(C=w.state,typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount(),C!==w.state&&cw.enqueueReplaceState(w,w.state,null),Ff(o,d,w,m),Hf(),w.state=o.memoizedState),typeof w.componentDidMount=="function"&&(o.flags|=4194308),d=!0}else if(r===null){w=o.stateNode;var O=o.memoizedProps,j=hc(l,O);w.props=j;var J=w.context,oe=l.contextType;C=Ml,typeof oe=="object"&&oe!==null&&(C=Nn(oe));var ce=l.getDerivedStateFromProps;oe=typeof ce=="function"||typeof w.getSnapshotBeforeUpdate=="function",O=o.pendingProps!==O,oe||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(O||J!==C)&&JC(o,w,d,C),Fo=!1;var se=o.memoizedState;w.state=se,Ff(o,d,w,m),Hf(),J=o.memoizedState,O||se!==J||Fo?(typeof ce=="function"&&(aw(o,l,ce,d),J=o.memoizedState),(j=Fo||ZC(o,l,j,d,se,J,C))?(oe||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount()),typeof w.componentDidMount=="function"&&(o.flags|=4194308)):(typeof w.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=d,o.memoizedState=J),w.props=d,w.state=J,w.context=C,d=j):(typeof w.componentDidMount=="function"&&(o.flags|=4194308),d=!1)}else{w=o.stateNode,ky(r,o),C=o.memoizedProps,oe=hc(l,C),w.props=oe,ce=o.pendingProps,se=w.context,J=l.contextType,j=Ml,typeof J=="object"&&J!==null&&(j=Nn(J)),O=l.getDerivedStateFromProps,(J=typeof O=="function"||typeof w.getSnapshotBeforeUpdate=="function")||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(C!==ce||se!==j)&&JC(o,w,d,j),Fo=!1,se=o.memoizedState,w.state=se,Ff(o,d,w,m),Hf();var re=o.memoizedState;C!==ce||se!==re||Fo||r!==null&&r.dependencies!==null&&Wp(r.dependencies)?(typeof O=="function"&&(aw(o,l,O,d),re=o.memoizedState),(oe=Fo||ZC(o,l,oe,d,se,re,j)||r!==null&&r.dependencies!==null&&Wp(r.dependencies))?(J||typeof w.UNSAFE_componentWillUpdate!="function"&&typeof w.componentWillUpdate!="function"||(typeof w.componentWillUpdate=="function"&&w.componentWillUpdate(d,re,j),typeof w.UNSAFE_componentWillUpdate=="function"&&w.UNSAFE_componentWillUpdate(d,re,j)),typeof w.componentDidUpdate=="function"&&(o.flags|=4),typeof w.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof w.componentDidUpdate!="function"||C===r.memoizedProps&&se===r.memoizedState||(o.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||C===r.memoizedProps&&se===r.memoizedState||(o.flags|=1024),o.memoizedProps=d,o.memoizedState=re),w.props=d,w.state=re,w.context=j,d=oe):(typeof w.componentDidUpdate!="function"||C===r.memoizedProps&&se===r.memoizedState||(o.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||C===r.memoizedProps&&se===r.memoizedState||(o.flags|=1024),d=!1)}return w=d,fg(r,o),d=(o.flags&128)!==0,w||d?(w=o.stateNode,l=d&&typeof l.getDerivedStateFromError!="function"?null:w.render(),o.flags|=1,r!==null&&d?(o.child=fc(o,r.child,null,m),o.child=fc(o,null,l,m)):Tn(r,o,l,m),o.memoizedState=w.state,r=o.child):r=Yr(r,o,m),r}function pS(r,o,l,d){return rc(),o.flags|=256,Tn(r,o,l,d),o.child}var dw={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function hw(r){return{baseLanes:r,cachePool:sC()}}function pw(r,o,l){return r=r!==null?r.childLanes&~l:0,o&&(r|=ks),r}function gS(r,o,l){var d=o.pendingProps,m=!1,w=(o.flags&128)!==0,C;if((C=w)||(C=r!==null&&r.memoizedState===null?!1:(Wt.current&2)!==0),C&&(m=!0,o.flags&=-129),C=(o.flags&32)!==0,o.flags&=-33,r===null){if(Ze){if(m?Wo(o):Ko(),(r=$t)?(r=Cx(r,ai),r=r!==null&&r.data!=="&"?r:null,r!==null&&(o.memoizedState={dehydrated:r,treeContext:Bo!==null?{id:or,overflow:ar}:null,retryLane:536870912,hydrationErrors:null},l=GA(r),l.return=o,o.child=l,xn=o,$t=null)):r=null,r===null)throw zo(o);return Xw(r)?o.lanes=32:o.lanes=536870912,null}var O=d.children;return d=d.fallback,m?(Ko(),m=o.mode,O=dg({mode:"hidden",children:O},m),d=ic(d,m,l,null),O.return=o,d.return=o,O.sibling=d,o.child=O,d=o.child,d.memoizedState=hw(l),d.childLanes=pw(r,C,l),o.memoizedState=dw,Gf(null,d)):(Wo(o),gw(o,O))}var j=r.memoizedState;if(j!==null&&(O=j.dehydrated,O!==null)){if(w)o.flags&256?(Wo(o),o.flags&=-257,o=mw(r,o,l)):o.memoizedState!==null?(Ko(),o.child=r.child,o.flags|=128,o=null):(Ko(),O=d.fallback,m=o.mode,d=dg({mode:"visible",children:d.children},m),O=ic(O,m,l,null),O.flags|=2,d.return=o,O.return=o,d.sibling=O,o.child=d,fc(o,r.child,null,l),d=o.child,d.memoizedState=hw(l),d.childLanes=pw(r,C,l),o.memoizedState=dw,o=Gf(null,d));else if(Wo(o),Xw(O)){if(C=O.nextSibling&&O.nextSibling.dataset,C)var J=C.dgst;C=J,d=Error(s(419)),d.stack="",d.digest=C,Pf({value:d,source:null,stack:null}),o=mw(r,o,l)}else if(tn||Pl(r,o,l,!1),C=(l&r.childLanes)!==0,tn||C){if(C=Nt,C!==null&&(d=_p(C,l),d!==0&&d!==j.retryLane))throw j.retryLane=d,sc(r,d),ds(C,r,d),uw;Yw(O)||Eg(),o=mw(r,o,l)}else Yw(O)?(o.flags|=192,o.child=r.child,o=null):(r=j.treeContext,$t=li(O.nextSibling),xn=o,Ze=!0,jo=null,ai=!1,r!==null&&QA(o,r),o=gw(o,d.children),o.flags|=4096);return o}return m?(Ko(),O=d.fallback,m=o.mode,j=r.child,J=j.sibling,d=Fr(j,{mode:"hidden",children:d.children}),d.subtreeFlags=j.subtreeFlags&65011712,J!==null?O=Fr(J,O):(O=ic(O,m,l,null),O.flags|=2),O.return=o,d.return=o,d.sibling=O,o.child=d,Gf(null,d),d=o.child,O=r.child.memoizedState,O===null?O=hw(l):(m=O.cachePool,m!==null?(j=Jt._currentValue,m=m.parent!==j?{parent:j,pool:j}:m):m=sC(),O={baseLanes:O.baseLanes|l,cachePool:m}),d.memoizedState=O,d.childLanes=pw(r,C,l),o.memoizedState=dw,Gf(r.child,d)):(Wo(o),l=r.child,r=l.sibling,l=Fr(l,{mode:"visible",children:d.children}),l.return=o,l.sibling=null,r!==null&&(C=o.deletions,C===null?(o.deletions=[r],o.flags|=16):C.push(r)),o.child=l,o.memoizedState=null,l)}function gw(r,o){return o=dg({mode:"visible",children:o},r.mode),o.return=r,r.child=o}function dg(r,o){return r=$s(22,r,null,o),r.lanes=0,r}function mw(r,o,l){return fc(o,r.child,null,l),r=gw(o,o.pendingProps.children),r.flags|=2,o.memoizedState=null,r}function mS(r,o,l){r.lanes|=o;var d=r.alternate;d!==null&&(d.lanes|=o),Oy(r.return,o,l)}function yw(r,o,l,d,m,w){var C=r.memoizedState;C===null?r.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:d,tail:l,tailMode:m,treeForkCount:w}:(C.isBackwards=o,C.rendering=null,C.renderingStartTime=0,C.last=d,C.tail=l,C.tailMode=m,C.treeForkCount=w)}function yS(r,o,l){var d=o.pendingProps,m=d.revealOrder,w=d.tail;d=d.children;var C=Wt.current,O=(C&2)!==0;if(O?(C=C&1|2,o.flags|=128):C&=1,te(Wt,C),Tn(r,o,d,l),d=Ze?Uf:0,!O&&r!==null&&(r.flags&128)!==0)e:for(r=o.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&mS(r,l,o);else if(r.tag===19)mS(r,l,o);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===o)break e;for(;r.sibling===null;){if(r.return===null||r.return===o)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}switch(m){case"forwards":for(l=o.child,m=null;l!==null;)r=l.alternate,r!==null&&eg(r)===null&&(m=l),l=l.sibling;l=m,l===null?(m=o.child,o.child=null):(m=l.sibling,l.sibling=null),yw(o,!1,m,l,w,d);break;case"backwards":case"unstable_legacy-backwards":for(l=null,m=o.child,o.child=null;m!==null;){if(r=m.alternate,r!==null&&eg(r)===null){o.child=m;break}r=m.sibling,m.sibling=l,l=m,m=r}yw(o,!0,l,null,w,d);break;case"together":yw(o,!1,null,null,void 0,d);break;default:o.memoizedState=null}return o.child}function Yr(r,o,l){if(r!==null&&(o.dependencies=r.dependencies),Xo|=o.lanes,(l&o.childLanes)===0)if(r!==null){if(Pl(r,o,l,!1),(l&o.childLanes)===0)return null}else return null;if(r!==null&&o.child!==r.child)throw Error(s(153));if(o.child!==null){for(r=o.child,l=Fr(r,r.pendingProps),o.child=l,l.return=o;r.sibling!==null;)r=r.sibling,l=l.sibling=Fr(r,r.pendingProps),l.return=o;l.sibling=null}return o.child}function ww(r,o){return(r.lanes&o)!==0?!0:(r=r.dependencies,!!(r!==null&&Wp(r)))}function QR(r,o,l){switch(o.tag){case 3:ke(o,o.stateNode.containerInfo),Ho(o,Jt,r.memoizedState.cache),rc();break;case 27:case 5:mt(o);break;case 4:ke(o,o.stateNode.containerInfo);break;case 10:Ho(o,o.type,o.memoizedProps.value);break;case 31:if(o.memoizedState!==null)return o.flags|=128,Fy(o),null;break;case 13:var d=o.memoizedState;if(d!==null)return d.dehydrated!==null?(Wo(o),o.flags|=128,null):(l&o.child.childLanes)!==0?gS(r,o,l):(Wo(o),r=Yr(r,o,l),r!==null?r.sibling:null);Wo(o);break;case 19:var m=(r.flags&128)!==0;if(d=(l&o.childLanes)!==0,d||(Pl(r,o,l,!1),d=(l&o.childLanes)!==0),m){if(d)return yS(r,o,l);o.flags|=128}if(m=o.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),te(Wt,Wt.current),d)break;return null;case 22:return o.lanes=0,lS(r,o,l,o.pendingProps);case 24:Ho(o,Jt,r.memoizedState.cache)}return Yr(r,o,l)}function wS(r,o,l){if(r!==null)if(r.memoizedProps!==o.pendingProps)tn=!0;else{if(!ww(r,l)&&(o.flags&128)===0)return tn=!1,QR(r,o,l);tn=(r.flags&131072)!==0}else tn=!1,Ze&&(o.flags&1048576)!==0&&XA(o,Uf,o.index);switch(o.lanes=0,o.tag){case 16:e:{var d=o.pendingProps;if(r=lc(o.elementType),o.type=r,typeof r=="function")Cy(r)?(d=hc(r,d),o.tag=1,o=hS(null,o,r,d,l)):(o.tag=0,o=fw(null,o,r,d,l));else{if(r!=null){var m=r.$$typeof;if(m===N){o.tag=11,o=oS(null,o,r,d,l);break e}else if(m===$){o.tag=14,o=aS(null,o,r,d,l);break e}}throw o=Q(r)||r,Error(s(306,o,""))}}return o;case 0:return fw(r,o,o.type,o.pendingProps,l);case 1:return d=o.type,m=hc(d,o.pendingProps),hS(r,o,d,m,l);case 3:e:{if(ke(o,o.stateNode.containerInfo),r===null)throw Error(s(387));d=o.pendingProps;var w=o.memoizedState;m=w.element,ky(r,o),Ff(o,d,null,l);var C=o.memoizedState;if(d=C.cache,Ho(o,Jt,d),d!==w.cache&&My(o,[Jt],l,!0),Hf(),d=C.element,w.isDehydrated)if(w={element:d,isDehydrated:!1,cache:C.cache},o.updateQueue.baseState=w,o.memoizedState=w,o.flags&256){o=pS(r,o,d,l);break e}else if(d!==m){m=ii(Error(s(424)),o),Pf(m),o=pS(r,o,d,l);break e}else{switch(r=o.stateNode.containerInfo,r.nodeType){case 9:r=r.body;break;default:r=r.nodeName==="HTML"?r.ownerDocument.body:r}for($t=li(r.firstChild),xn=o,Ze=!0,jo=null,ai=!0,l=lC(o,null,d,l),o.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(rc(),d===m){o=Yr(r,o,l);break e}Tn(r,o,d,l)}o=o.child}return o;case 26:return fg(r,o),r===null?(l=Ix(o.type,null,o.pendingProps,null))?o.memoizedState=l:Ze||(l=o.type,r=o.pendingProps,d=_g(pe.current).createElement(l),d[an]=o,d[zn]=r,_n(d,l,r),Zt(d),o.stateNode=d):o.memoizedState=Ix(o.type,r.memoizedProps,o.pendingProps,r.memoizedState),null;case 27:return mt(o),r===null&&Ze&&(d=o.stateNode=Nx(o.type,o.pendingProps,pe.current),xn=o,ai=!0,m=$t,ta(o.type)?(Qw=m,$t=li(d.firstChild)):$t=m),Tn(r,o,o.pendingProps.children,l),fg(r,o),r===null&&(o.flags|=4194304),o.child;case 5:return r===null&&Ze&&((m=d=$t)&&(d=T$(d,o.type,o.pendingProps,ai),d!==null?(o.stateNode=d,xn=o,$t=li(d.firstChild),ai=!1,m=!0):m=!1),m||zo(o)),mt(o),m=o.type,w=o.pendingProps,C=r!==null?r.memoizedProps:null,d=w.children,Ww(m,w)?d=null:C!==null&&Ww(m,C)&&(o.flags|=32),o.memoizedState!==null&&(m=Vy(r,o,HR,null,null,l),ld._currentValue=m),fg(r,o),Tn(r,o,d,l),o.child;case 6:return r===null&&Ze&&((r=l=$t)&&(l=_$(l,o.pendingProps,ai),l!==null?(o.stateNode=l,xn=o,$t=null,r=!0):r=!1),r||zo(o)),null;case 13:return gS(r,o,l);case 4:return ke(o,o.stateNode.containerInfo),d=o.pendingProps,r===null?o.child=fc(o,null,d,l):Tn(r,o,d,l),o.child;case 11:return oS(r,o,o.type,o.pendingProps,l);case 7:return Tn(r,o,o.pendingProps,l),o.child;case 8:return Tn(r,o,o.pendingProps.children,l),o.child;case 12:return Tn(r,o,o.pendingProps.children,l),o.child;case 10:return d=o.pendingProps,Ho(o,o.type,d.value),Tn(r,o,d.children,l),o.child;case 9:return m=o.type._context,d=o.pendingProps.children,ac(o),m=Nn(m),d=d(m),o.flags|=1,Tn(r,o,d,l),o.child;case 14:return aS(r,o,o.type,o.pendingProps,l);case 15:return cS(r,o,o.type,o.pendingProps,l);case 19:return yS(r,o,l);case 31:return XR(r,o,l);case 22:return lS(r,o,l,o.pendingProps);case 24:return ac(o),d=Nn(Jt),r===null?(m=Uy(),m===null&&(m=Nt,w=Ry(),m.pooledCache=w,w.refCount++,w!==null&&(m.pooledCacheLanes|=l),m=w),o.memoizedState={parent:d,cache:m},Ly(o),Ho(o,Jt,m)):((r.lanes&l)!==0&&(ky(r,o),Ff(o,null,null,l),Hf()),m=r.memoizedState,w=o.memoizedState,m.parent!==d?(m={parent:d,cache:d},o.memoizedState=m,o.lanes===0&&(o.memoizedState=o.updateQueue.baseState=m),Ho(o,Jt,d)):(d=w.cache,Ho(o,Jt,d),d!==m.cache&&My(o,[Jt],l,!0))),Tn(r,o,o.pendingProps.children,l),o.child;case 29:throw o.pendingProps}throw Error(s(156,o.tag))}function Xr(r){r.flags|=4}function bw(r,o,l,d,m){if((o=(r.mode&32)!==0)&&(o=!1),o){if(r.flags|=16777216,(m&335544128)===m)if(r.stateNode.complete)r.flags|=8192;else if(VS())r.flags|=8192;else throw uc=Xp,Py}else r.flags&=-16777217}function bS(r,o){if(o.type!=="stylesheet"||(o.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!$x(o))if(VS())r.flags|=8192;else throw uc=Xp,Py}function hg(r,o){o!==null&&(r.flags|=4),r.flags&16384&&(o=r.tag!==22?xp():536870912,r.lanes|=o,Gl|=o)}function Yf(r,o){if(!Ze)switch(r.tailMode){case"hidden":o=r.tail;for(var l=null;o!==null;)o.alternate!==null&&(l=o),o=o.sibling;l===null?r.tail=null:l.sibling=null;break;case"collapsed":l=r.tail;for(var d=null;l!==null;)l.alternate!==null&&(d=l),l=l.sibling;d===null?o||r.tail===null?r.tail=null:r.tail.sibling=null:d.sibling=null}}function Ut(r){var o=r.alternate!==null&&r.alternate.child===r.child,l=0,d=0;if(o)for(var m=r.child;m!==null;)l|=m.lanes|m.childLanes,d|=m.subtreeFlags&65011712,d|=m.flags&65011712,m.return=r,m=m.sibling;else for(m=r.child;m!==null;)l|=m.lanes|m.childLanes,d|=m.subtreeFlags,d|=m.flags,m.return=r,m=m.sibling;return r.subtreeFlags|=d,r.childLanes=l,o}function ZR(r,o,l){var d=o.pendingProps;switch(Ty(o),o.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ut(o),null;case 1:return Ut(o),null;case 3:return l=o.stateNode,d=null,r!==null&&(d=r.memoizedState.cache),o.memoizedState.cache!==d&&(o.flags|=2048),Wr(Jt),Te(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(r===null||r.child===null)&&(Ul(o)?Xr(o):r===null||r.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,Iy())),Ut(o),null;case 26:var m=o.type,w=o.memoizedState;return r===null?(Xr(o),w!==null?(Ut(o),bS(o,w)):(Ut(o),bw(o,m,null,d,l))):w?w!==r.memoizedState?(Xr(o),Ut(o),bS(o,w)):(Ut(o),o.flags&=-16777217):(r=r.memoizedProps,r!==d&&Xr(o),Ut(o),bw(o,m,r,d,l)),null;case 27:if(Ot(o),l=pe.current,m=o.type,r!==null&&o.stateNode!=null)r.memoizedProps!==d&&Xr(o);else{if(!d){if(o.stateNode===null)throw Error(s(166));return Ut(o),null}r=ie.current,Ul(o)?ZA(o):(r=Nx(m,d,l),o.stateNode=r,Xr(o))}return Ut(o),null;case 5:if(Ot(o),m=o.type,r!==null&&o.stateNode!=null)r.memoizedProps!==d&&Xr(o);else{if(!d){if(o.stateNode===null)throw Error(s(166));return Ut(o),null}if(w=ie.current,Ul(o))ZA(o);else{var C=_g(pe.current);switch(w){case 1:w=C.createElementNS("http://www.w3.org/2000/svg",m);break;case 2:w=C.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;default:switch(m){case"svg":w=C.createElementNS("http://www.w3.org/2000/svg",m);break;case"math":w=C.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;case"script":w=C.createElement("div"),w.innerHTML="<script><\/script>",w=w.removeChild(w.firstChild);break;case"select":w=typeof d.is=="string"?C.createElement("select",{is:d.is}):C.createElement("select"),d.multiple?w.multiple=!0:d.size&&(w.size=d.size);break;default:w=typeof d.is=="string"?C.createElement(m,{is:d.is}):C.createElement(m)}}w[an]=o,w[zn]=d;e:for(C=o.child;C!==null;){if(C.tag===5||C.tag===6)w.appendChild(C.stateNode);else if(C.tag!==4&&C.tag!==27&&C.child!==null){C.child.return=C,C=C.child;continue}if(C===o)break e;for(;C.sibling===null;){if(C.return===null||C.return===o)break e;C=C.return}C.sibling.return=C.return,C=C.sibling}o.stateNode=w;e:switch(_n(w,m,d),m){case"button":case"input":case"select":case"textarea":d=!!d.autoFocus;break e;case"img":d=!0;break e;default:d=!1}d&&Xr(o)}}return Ut(o),bw(o,o.type,r===null?null:r.memoizedProps,o.pendingProps,l),null;case 6:if(r&&o.stateNode!=null)r.memoizedProps!==d&&Xr(o);else{if(typeof d!="string"&&o.stateNode===null)throw Error(s(166));if(r=pe.current,Ul(o)){if(r=o.stateNode,l=o.memoizedProps,d=null,m=xn,m!==null)switch(m.tag){case 27:case 5:d=m.memoizedProps}r[an]=o,r=!!(r.nodeValue===l||d!==null&&d.suppressHydrationWarning===!0||gx(r.nodeValue,l)),r||zo(o,!0)}else r=_g(r).createTextNode(d),r[an]=o,o.stateNode=r}return Ut(o),null;case 31:if(l=o.memoizedState,r===null||r.memoizedState!==null){if(d=Ul(o),l!==null){if(r===null){if(!d)throw Error(s(318));if(r=o.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(s(557));r[an]=o}else rc(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Ut(o),r=!1}else l=Iy(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=l),r=!0;if(!r)return o.flags&256?(Ps(o),o):(Ps(o),null);if((o.flags&128)!==0)throw Error(s(558))}return Ut(o),null;case 13:if(d=o.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(m=Ul(o),d!==null&&d.dehydrated!==null){if(r===null){if(!m)throw Error(s(318));if(m=o.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(s(317));m[an]=o}else rc(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Ut(o),m=!1}else m=Iy(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=m),m=!0;if(!m)return o.flags&256?(Ps(o),o):(Ps(o),null)}return Ps(o),(o.flags&128)!==0?(o.lanes=l,o):(l=d!==null,r=r!==null&&r.memoizedState!==null,l&&(d=o.child,m=null,d.alternate!==null&&d.alternate.memoizedState!==null&&d.alternate.memoizedState.cachePool!==null&&(m=d.alternate.memoizedState.cachePool.pool),w=null,d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(w=d.memoizedState.cachePool.pool),w!==m&&(d.flags|=2048)),l!==r&&l&&(o.child.flags|=8192),hg(o,o.updateQueue),Ut(o),null);case 4:return Te(),r===null&&zw(o.stateNode.containerInfo),Ut(o),null;case 10:return Wr(o.type),Ut(o),null;case 19:if(K(Wt),d=o.memoizedState,d===null)return Ut(o),null;if(m=(o.flags&128)!==0,w=d.rendering,w===null)if(m)Yf(d,!1);else{if(qt!==0||r!==null&&(r.flags&128)!==0)for(r=o.child;r!==null;){if(w=eg(r),w!==null){for(o.flags|=128,Yf(d,!1),r=w.updateQueue,o.updateQueue=r,hg(o,r),o.subtreeFlags=0,r=l,l=o.child;l!==null;)KA(l,r),l=l.sibling;return te(Wt,Wt.current&1|2),Ze&&qr(o,d.treeForkCount),o.child}r=r.sibling}d.tail!==null&&Mt()>wg&&(o.flags|=128,m=!0,Yf(d,!1),o.lanes=4194304)}else{if(!m)if(r=eg(w),r!==null){if(o.flags|=128,m=!0,r=r.updateQueue,o.updateQueue=r,hg(o,r),Yf(d,!0),d.tail===null&&d.tailMode==="hidden"&&!w.alternate&&!Ze)return Ut(o),null}else 2*Mt()-d.renderingStartTime>wg&&l!==536870912&&(o.flags|=128,m=!0,Yf(d,!1),o.lanes=4194304);d.isBackwards?(w.sibling=o.child,o.child=w):(r=d.last,r!==null?r.sibling=w:o.child=w,d.last=w)}return d.tail!==null?(r=d.tail,d.rendering=r,d.tail=r.sibling,d.renderingStartTime=Mt(),r.sibling=null,l=Wt.current,te(Wt,m?l&1|2:l&1),Ze&&qr(o,d.treeForkCount),r):(Ut(o),null);case 22:case 23:return Ps(o),Hy(),d=o.memoizedState!==null,r!==null?r.memoizedState!==null!==d&&(o.flags|=8192):d&&(o.flags|=8192),d?(l&536870912)!==0&&(o.flags&128)===0&&(Ut(o),o.subtreeFlags&6&&(o.flags|=8192)):Ut(o),l=o.updateQueue,l!==null&&hg(o,l.retryQueue),l=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),d=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(d=o.memoizedState.cachePool.pool),d!==l&&(o.flags|=2048),r!==null&&K(cc),null;case 24:return l=null,r!==null&&(l=r.memoizedState.cache),o.memoizedState.cache!==l&&(o.flags|=2048),Wr(Jt),Ut(o),null;case 25:return null;case 30:return null}throw Error(s(156,o.tag))}function JR(r,o){switch(Ty(o),o.tag){case 1:return r=o.flags,r&65536?(o.flags=r&-65537|128,o):null;case 3:return Wr(Jt),Te(),r=o.flags,(r&65536)!==0&&(r&128)===0?(o.flags=r&-65537|128,o):null;case 26:case 27:case 5:return Ot(o),null;case 31:if(o.memoizedState!==null){if(Ps(o),o.alternate===null)throw Error(s(340));rc()}return r=o.flags,r&65536?(o.flags=r&-65537|128,o):null;case 13:if(Ps(o),r=o.memoizedState,r!==null&&r.dehydrated!==null){if(o.alternate===null)throw Error(s(340));rc()}return r=o.flags,r&65536?(o.flags=r&-65537|128,o):null;case 19:return K(Wt),null;case 4:return Te(),null;case 10:return Wr(o.type),null;case 22:case 23:return Ps(o),Hy(),r!==null&&K(cc),r=o.flags,r&65536?(o.flags=r&-65537|128,o):null;case 24:return Wr(Jt),null;case 25:return null;default:return null}}function vS(r,o){switch(Ty(o),o.tag){case 3:Wr(Jt),Te();break;case 26:case 27:case 5:Ot(o);break;case 4:Te();break;case 31:o.memoizedState!==null&&Ps(o);break;case 13:Ps(o);break;case 19:K(Wt);break;case 10:Wr(o.type);break;case 22:case 23:Ps(o),Hy(),r!==null&&K(cc);break;case 24:Wr(Jt)}}function Xf(r,o){try{var l=o.updateQueue,d=l!==null?l.lastEffect:null;if(d!==null){var m=d.next;l=m;do{if((l.tag&r)===r){d=void 0;var w=l.create,C=l.inst;d=w(),C.destroy=d}l=l.next}while(l!==m)}}catch(O){wt(o,o.return,O)}}function Go(r,o,l){try{var d=o.updateQueue,m=d!==null?d.lastEffect:null;if(m!==null){var w=m.next;d=w;do{if((d.tag&r)===r){var C=d.inst,O=C.destroy;if(O!==void 0){C.destroy=void 0,m=o;var j=l,J=O;try{J()}catch(oe){wt(m,j,oe)}}}d=d.next}while(d!==w)}}catch(oe){wt(o,o.return,oe)}}function ES(r){var o=r.updateQueue;if(o!==null){var l=r.stateNode;try{fC(o,l)}catch(d){wt(r,r.return,d)}}}function AS(r,o,l){l.props=hc(r.type,r.memoizedProps),l.state=r.memoizedState;try{l.componentWillUnmount()}catch(d){wt(r,o,d)}}function Qf(r,o){try{var l=r.ref;if(l!==null){switch(r.tag){case 26:case 27:case 5:var d=r.stateNode;break;case 30:d=r.stateNode;break;default:d=r.stateNode}typeof l=="function"?r.refCleanup=l(d):l.current=d}}catch(m){wt(r,o,m)}}function cr(r,o){var l=r.ref,d=r.refCleanup;if(l!==null)if(typeof d=="function")try{d()}catch(m){wt(r,o,m)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(m){wt(r,o,m)}else l.current=null}function CS(r){var o=r.type,l=r.memoizedProps,d=r.stateNode;try{e:switch(o){case"button":case"input":case"select":case"textarea":l.autoFocus&&d.focus();break e;case"img":l.src?d.src=l.src:l.srcSet&&(d.srcset=l.srcSet)}}catch(m){wt(r,r.return,m)}}function vw(r,o,l){try{var d=r.stateNode;E$(d,r.type,l,o),d[zn]=o}catch(m){wt(r,r.return,m)}}function SS(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27&&ta(r.type)||r.tag===4}function Ew(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||SS(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.tag===27&&ta(r.type)||r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function Aw(r,o,l){var d=r.tag;if(d===5||d===6)r=r.stateNode,o?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(r,o):(o=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,o.appendChild(r),l=l._reactRootContainer,l!=null||o.onclick!==null||(o.onclick=ti));else if(d!==4&&(d===27&&ta(r.type)&&(l=r.stateNode,o=null),r=r.child,r!==null))for(Aw(r,o,l),r=r.sibling;r!==null;)Aw(r,o,l),r=r.sibling}function pg(r,o,l){var d=r.tag;if(d===5||d===6)r=r.stateNode,o?l.insertBefore(r,o):l.appendChild(r);else if(d!==4&&(d===27&&ta(r.type)&&(l=r.stateNode),r=r.child,r!==null))for(pg(r,o,l),r=r.sibling;r!==null;)pg(r,o,l),r=r.sibling}function xS(r){var o=r.stateNode,l=r.memoizedProps;try{for(var d=r.type,m=o.attributes;m.length;)o.removeAttributeNode(m[0]);_n(o,d,l),o[an]=r,o[zn]=l}catch(w){wt(r,r.return,w)}}var Qr=!1,nn=!1,Cw=!1,NS=typeof WeakSet=="function"?WeakSet:Set,gn=null;function e$(r,o){if(r=r.containerInfo,qw=Ug,r=kA(r),my(r)){if("selectionStart"in r)var l={start:r.selectionStart,end:r.selectionEnd};else e:{l=(l=r.ownerDocument)&&l.defaultView||window;var d=l.getSelection&&l.getSelection();if(d&&d.rangeCount!==0){l=d.anchorNode;var m=d.anchorOffset,w=d.focusNode;d=d.focusOffset;try{l.nodeType,w.nodeType}catch{l=null;break e}var C=0,O=-1,j=-1,J=0,oe=0,ce=r,se=null;t:for(;;){for(var re;ce!==l||m!==0&&ce.nodeType!==3||(O=C+m),ce!==w||d!==0&&ce.nodeType!==3||(j=C+d),ce.nodeType===3&&(C+=ce.nodeValue.length),(re=ce.firstChild)!==null;)se=ce,ce=re;for(;;){if(ce===r)break t;if(se===l&&++J===m&&(O=C),se===w&&++oe===d&&(j=C),(re=ce.nextSibling)!==null)break;ce=se,se=ce.parentNode}ce=re}l=O===-1||j===-1?null:{start:O,end:j}}else l=null}l=l||{start:0,end:0}}else l=null;for(Vw={focusedElem:r,selectionRange:l},Ug=!1,gn=o;gn!==null;)if(o=gn,r=o.child,(o.subtreeFlags&1028)!==0&&r!==null)r.return=o,gn=r;else for(;gn!==null;){switch(o=gn,w=o.alternate,r=o.flags,o.tag){case 0:if((r&4)!==0&&(r=o.updateQueue,r=r!==null?r.events:null,r!==null))for(l=0;l<r.length;l++)m=r[l],m.ref.impl=m.nextImpl;break;case 11:case 15:break;case 1:if((r&1024)!==0&&w!==null){r=void 0,l=o,m=w.memoizedProps,w=w.memoizedState,d=l.stateNode;try{var Se=hc(l.type,m);r=d.getSnapshotBeforeUpdate(Se,w),d.__reactInternalSnapshotBeforeUpdate=r}catch(Le){wt(l,l.return,Le)}}break;case 3:if((r&1024)!==0){if(r=o.stateNode.containerInfo,l=r.nodeType,l===9)Gw(r);else if(l===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":Gw(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(s(163))}if(r=o.sibling,r!==null){r.return=o.return,gn=r;break}gn=o.return}}function TS(r,o,l){var d=l.flags;switch(l.tag){case 0:case 11:case 15:Jr(r,l),d&4&&Xf(5,l);break;case 1:if(Jr(r,l),d&4)if(r=l.stateNode,o===null)try{r.componentDidMount()}catch(C){wt(l,l.return,C)}else{var m=hc(l.type,o.memoizedProps);o=o.memoizedState;try{r.componentDidUpdate(m,o,r.__reactInternalSnapshotBeforeUpdate)}catch(C){wt(l,l.return,C)}}d&64&&ES(l),d&512&&Qf(l,l.return);break;case 3:if(Jr(r,l),d&64&&(r=l.updateQueue,r!==null)){if(o=null,l.child!==null)switch(l.child.tag){case 27:case 5:o=l.child.stateNode;break;case 1:o=l.child.stateNode}try{fC(r,o)}catch(C){wt(l,l.return,C)}}break;case 27:o===null&&d&4&&xS(l);case 26:case 5:Jr(r,l),o===null&&d&4&&CS(l),d&512&&Qf(l,l.return);break;case 12:Jr(r,l);break;case 31:Jr(r,l),d&4&&DS(r,l);break;case 13:Jr(r,l),d&4&&OS(r,l),d&64&&(r=l.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&(l=l$.bind(null,l),I$(r,l))));break;case 22:if(d=l.memoizedState!==null||Qr,!d){o=o!==null&&o.memoizedState!==null||nn,m=Qr;var w=nn;Qr=d,(nn=o)&&!w?eo(r,l,(l.subtreeFlags&8772)!==0):Jr(r,l),Qr=m,nn=w}break;case 30:break;default:Jr(r,l)}}function _S(r){var o=r.alternate;o!==null&&(r.alternate=null,_S(o)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(o=r.stateNode,o!==null&&vf(o)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var kt=null,cs=!1;function Zr(r,o,l){for(l=l.child;l!==null;)IS(r,o,l),l=l.sibling}function IS(r,o,l){if(jn&&typeof jn.onCommitFiberUnmount=="function")try{jn.onCommitFiberUnmount(Wa,l)}catch{}switch(l.tag){case 26:nn||cr(l,o),Zr(r,o,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:nn||cr(l,o);var d=kt,m=cs;ta(l.type)&&(kt=l.stateNode,cs=!1),Zr(r,o,l),od(l.stateNode),kt=d,cs=m;break;case 5:nn||cr(l,o);case 6:if(d=kt,m=cs,kt=null,Zr(r,o,l),kt=d,cs=m,kt!==null)if(cs)try{(kt.nodeType===9?kt.body:kt.nodeName==="HTML"?kt.ownerDocument.body:kt).removeChild(l.stateNode)}catch(w){wt(l,o,w)}else try{kt.removeChild(l.stateNode)}catch(w){wt(l,o,w)}break;case 18:kt!==null&&(cs?(r=kt,Ex(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,l.stateNode),nu(r)):Ex(kt,l.stateNode));break;case 4:d=kt,m=cs,kt=l.stateNode.containerInfo,cs=!0,Zr(r,o,l),kt=d,cs=m;break;case 0:case 11:case 14:case 15:Go(2,l,o),nn||Go(4,l,o),Zr(r,o,l);break;case 1:nn||(cr(l,o),d=l.stateNode,typeof d.componentWillUnmount=="function"&&AS(l,o,d)),Zr(r,o,l);break;case 21:Zr(r,o,l);break;case 22:nn=(d=nn)||l.memoizedState!==null,Zr(r,o,l),nn=d;break;default:Zr(r,o,l)}}function DS(r,o){if(o.memoizedState===null&&(r=o.alternate,r!==null&&(r=r.memoizedState,r!==null))){r=r.dehydrated;try{nu(r)}catch(l){wt(o,o.return,l)}}}function OS(r,o){if(o.memoizedState===null&&(r=o.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{nu(r)}catch(l){wt(o,o.return,l)}}function t$(r){switch(r.tag){case 31:case 13:case 19:var o=r.stateNode;return o===null&&(o=r.stateNode=new NS),o;case 22:return r=r.stateNode,o=r._retryCache,o===null&&(o=r._retryCache=new NS),o;default:throw Error(s(435,r.tag))}}function gg(r,o){var l=t$(r);o.forEach(function(d){if(!l.has(d)){l.add(d);var m=u$.bind(null,r,d);d.then(m,m)}})}function ls(r,o){var l=o.deletions;if(l!==null)for(var d=0;d<l.length;d++){var m=l[d],w=r,C=o,O=C;e:for(;O!==null;){switch(O.tag){case 27:if(ta(O.type)){kt=O.stateNode,cs=!1;break e}break;case 5:kt=O.stateNode,cs=!1;break e;case 3:case 4:kt=O.stateNode.containerInfo,cs=!0;break e}O=O.return}if(kt===null)throw Error(s(160));IS(w,C,m),kt=null,cs=!1,w=m.alternate,w!==null&&(w.return=null),m.return=null}if(o.subtreeFlags&13886)for(o=o.child;o!==null;)MS(o,r),o=o.sibling}var Pi=null;function MS(r,o){var l=r.alternate,d=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:ls(o,r),us(r),d&4&&(Go(3,r,r.return),Xf(3,r),Go(5,r,r.return));break;case 1:ls(o,r),us(r),d&512&&(nn||l===null||cr(l,l.return)),d&64&&Qr&&(r=r.updateQueue,r!==null&&(d=r.callbacks,d!==null&&(l=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=l===null?d:l.concat(d))));break;case 26:var m=Pi;if(ls(o,r),us(r),d&512&&(nn||l===null||cr(l,l.return)),d&4){var w=l!==null?l.memoizedState:null;if(d=r.memoizedState,l===null)if(d===null)if(r.stateNode===null){e:{d=r.type,l=r.memoizedProps,m=m.ownerDocument||m;t:switch(d){case"title":w=m.getElementsByTagName("title")[0],(!w||w[Ya]||w[an]||w.namespaceURI==="http://www.w3.org/2000/svg"||w.hasAttribute("itemprop"))&&(w=m.createElement(d),m.head.insertBefore(w,m.querySelector("head > title"))),_n(w,d,l),w[an]=r,Zt(w),d=w;break e;case"link":var C=Mx("link","href",m).get(d+(l.href||""));if(C){for(var O=0;O<C.length;O++)if(w=C[O],w.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&w.getAttribute("rel")===(l.rel==null?null:l.rel)&&w.getAttribute("title")===(l.title==null?null:l.title)&&w.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){C.splice(O,1);break t}}w=m.createElement(d),_n(w,d,l),m.head.appendChild(w);break;case"meta":if(C=Mx("meta","content",m).get(d+(l.content||""))){for(O=0;O<C.length;O++)if(w=C[O],w.getAttribute("content")===(l.content==null?null:""+l.content)&&w.getAttribute("name")===(l.name==null?null:l.name)&&w.getAttribute("property")===(l.property==null?null:l.property)&&w.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&w.getAttribute("charset")===(l.charSet==null?null:l.charSet)){C.splice(O,1);break t}}w=m.createElement(d),_n(w,d,l),m.head.appendChild(w);break;default:throw Error(s(468,d))}w[an]=r,Zt(w),d=w}r.stateNode=d}else Rx(m,r.type,r.stateNode);else r.stateNode=Ox(m,d,r.memoizedProps);else w!==d?(w===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):w.count--,d===null?Rx(m,r.type,r.stateNode):Ox(m,d,r.memoizedProps)):d===null&&r.stateNode!==null&&vw(r,r.memoizedProps,l.memoizedProps)}break;case 27:ls(o,r),us(r),d&512&&(nn||l===null||cr(l,l.return)),l!==null&&d&4&&vw(r,r.memoizedProps,l.memoizedProps);break;case 5:if(ls(o,r),us(r),d&512&&(nn||l===null||cr(l,l.return)),r.flags&32){m=r.stateNode;try{jr(m,"")}catch(Se){wt(r,r.return,Se)}}d&4&&r.stateNode!=null&&(m=r.memoizedProps,vw(r,m,l!==null?l.memoizedProps:m)),d&1024&&(Cw=!0);break;case 6:if(ls(o,r),us(r),d&4){if(r.stateNode===null)throw Error(s(162));d=r.memoizedProps,l=r.stateNode;try{l.nodeValue=d}catch(Se){wt(r,r.return,Se)}}break;case 3:if(Og=null,m=Pi,Pi=Ig(o.containerInfo),ls(o,r),Pi=m,us(r),d&4&&l!==null&&l.memoizedState.isDehydrated)try{nu(o.containerInfo)}catch(Se){wt(r,r.return,Se)}Cw&&(Cw=!1,RS(r));break;case 4:d=Pi,Pi=Ig(r.stateNode.containerInfo),ls(o,r),us(r),Pi=d;break;case 12:ls(o,r),us(r);break;case 31:ls(o,r),us(r),d&4&&(d=r.updateQueue,d!==null&&(r.updateQueue=null,gg(r,d)));break;case 13:ls(o,r),us(r),r.child.flags&8192&&r.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(yg=Mt()),d&4&&(d=r.updateQueue,d!==null&&(r.updateQueue=null,gg(r,d)));break;case 22:m=r.memoizedState!==null;var j=l!==null&&l.memoizedState!==null,J=Qr,oe=nn;if(Qr=J||m,nn=oe||j,ls(o,r),nn=oe,Qr=J,us(r),d&8192)e:for(o=r.stateNode,o._visibility=m?o._visibility&-2:o._visibility|1,m&&(l===null||j||Qr||nn||pc(r)),l=null,o=r;;){if(o.tag===5||o.tag===26){if(l===null){j=l=o;try{if(w=j.stateNode,m)C=w.style,typeof C.setProperty=="function"?C.setProperty("display","none","important"):C.display="none";else{O=j.stateNode;var ce=j.memoizedProps.style,se=ce!=null&&ce.hasOwnProperty("display")?ce.display:null;O.style.display=se==null||typeof se=="boolean"?"":(""+se).trim()}}catch(Se){wt(j,j.return,Se)}}}else if(o.tag===6){if(l===null){j=o;try{j.stateNode.nodeValue=m?"":j.memoizedProps}catch(Se){wt(j,j.return,Se)}}}else if(o.tag===18){if(l===null){j=o;try{var re=j.stateNode;m?Ax(re,!0):Ax(j.stateNode,!1)}catch(Se){wt(j,j.return,Se)}}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===r)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===r)break e;for(;o.sibling===null;){if(o.return===null||o.return===r)break e;l===o&&(l=null),o=o.return}l===o&&(l=null),o.sibling.return=o.return,o=o.sibling}d&4&&(d=r.updateQueue,d!==null&&(l=d.retryQueue,l!==null&&(d.retryQueue=null,gg(r,l))));break;case 19:ls(o,r),us(r),d&4&&(d=r.updateQueue,d!==null&&(r.updateQueue=null,gg(r,d)));break;case 30:break;case 21:break;default:ls(o,r),us(r)}}function us(r){var o=r.flags;if(o&2){try{for(var l,d=r.return;d!==null;){if(SS(d)){l=d;break}d=d.return}if(l==null)throw Error(s(160));switch(l.tag){case 27:var m=l.stateNode,w=Ew(r);pg(r,w,m);break;case 5:var C=l.stateNode;l.flags&32&&(jr(C,""),l.flags&=-33);var O=Ew(r);pg(r,O,C);break;case 3:case 4:var j=l.stateNode.containerInfo,J=Ew(r);Aw(r,J,j);break;default:throw Error(s(161))}}catch(oe){wt(r,r.return,oe)}r.flags&=-3}o&4096&&(r.flags&=-4097)}function RS(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var o=r;RS(o),o.tag===5&&o.flags&1024&&o.stateNode.reset(),r=r.sibling}}function Jr(r,o){if(o.subtreeFlags&8772)for(o=o.child;o!==null;)TS(r,o.alternate,o),o=o.sibling}function pc(r){for(r=r.child;r!==null;){var o=r;switch(o.tag){case 0:case 11:case 14:case 15:Go(4,o,o.return),pc(o);break;case 1:cr(o,o.return);var l=o.stateNode;typeof l.componentWillUnmount=="function"&&AS(o,o.return,l),pc(o);break;case 27:od(o.stateNode);case 26:case 5:cr(o,o.return),pc(o);break;case 22:o.memoizedState===null&&pc(o);break;case 30:pc(o);break;default:pc(o)}r=r.sibling}}function eo(r,o,l){for(l=l&&(o.subtreeFlags&8772)!==0,o=o.child;o!==null;){var d=o.alternate,m=r,w=o,C=w.flags;switch(w.tag){case 0:case 11:case 15:eo(m,w,l),Xf(4,w);break;case 1:if(eo(m,w,l),d=w,m=d.stateNode,typeof m.componentDidMount=="function")try{m.componentDidMount()}catch(J){wt(d,d.return,J)}if(d=w,m=d.updateQueue,m!==null){var O=d.stateNode;try{var j=m.shared.hiddenCallbacks;if(j!==null)for(m.shared.hiddenCallbacks=null,m=0;m<j.length;m++)uC(j[m],O)}catch(J){wt(d,d.return,J)}}l&&C&64&&ES(w),Qf(w,w.return);break;case 27:xS(w);case 26:case 5:eo(m,w,l),l&&d===null&&C&4&&CS(w),Qf(w,w.return);break;case 12:eo(m,w,l);break;case 31:eo(m,w,l),l&&C&4&&DS(m,w);break;case 13:eo(m,w,l),l&&C&4&&OS(m,w);break;case 22:w.memoizedState===null&&eo(m,w,l),Qf(w,w.return);break;case 30:break;default:eo(m,w,l)}o=o.sibling}}function Sw(r,o){var l=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),r=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(r=o.memoizedState.cachePool.pool),r!==l&&(r!=null&&r.refCount++,l!=null&&Lf(l))}function xw(r,o){r=null,o.alternate!==null&&(r=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==r&&(o.refCount++,r!=null&&Lf(r))}function Li(r,o,l,d){if(o.subtreeFlags&10256)for(o=o.child;o!==null;)$S(r,o,l,d),o=o.sibling}function $S(r,o,l,d){var m=o.flags;switch(o.tag){case 0:case 11:case 15:Li(r,o,l,d),m&2048&&Xf(9,o);break;case 1:Li(r,o,l,d);break;case 3:Li(r,o,l,d),m&2048&&(r=null,o.alternate!==null&&(r=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==r&&(o.refCount++,r!=null&&Lf(r)));break;case 12:if(m&2048){Li(r,o,l,d),r=o.stateNode;try{var w=o.memoizedProps,C=w.id,O=w.onPostCommit;typeof O=="function"&&O(C,o.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(j){wt(o,o.return,j)}}else Li(r,o,l,d);break;case 31:Li(r,o,l,d);break;case 13:Li(r,o,l,d);break;case 23:break;case 22:w=o.stateNode,C=o.alternate,o.memoizedState!==null?w._visibility&2?Li(r,o,l,d):Zf(r,o):w._visibility&2?Li(r,o,l,d):(w._visibility|=2,Vl(r,o,l,d,(o.subtreeFlags&10256)!==0||!1)),m&2048&&Sw(C,o);break;case 24:Li(r,o,l,d),m&2048&&xw(o.alternate,o);break;default:Li(r,o,l,d)}}function Vl(r,o,l,d,m){for(m=m&&((o.subtreeFlags&10256)!==0||!1),o=o.child;o!==null;){var w=r,C=o,O=l,j=d,J=C.flags;switch(C.tag){case 0:case 11:case 15:Vl(w,C,O,j,m),Xf(8,C);break;case 23:break;case 22:var oe=C.stateNode;C.memoizedState!==null?oe._visibility&2?Vl(w,C,O,j,m):Zf(w,C):(oe._visibility|=2,Vl(w,C,O,j,m)),m&&J&2048&&Sw(C.alternate,C);break;case 24:Vl(w,C,O,j,m),m&&J&2048&&xw(C.alternate,C);break;default:Vl(w,C,O,j,m)}o=o.sibling}}function Zf(r,o){if(o.subtreeFlags&10256)for(o=o.child;o!==null;){var l=r,d=o,m=d.flags;switch(d.tag){case 22:Zf(l,d),m&2048&&Sw(d.alternate,d);break;case 24:Zf(l,d),m&2048&&xw(d.alternate,d);break;default:Zf(l,d)}o=o.sibling}}var Jf=8192;function Wl(r,o,l){if(r.subtreeFlags&Jf)for(r=r.child;r!==null;)US(r,o,l),r=r.sibling}function US(r,o,l){switch(r.tag){case 26:Wl(r,o,l),r.flags&Jf&&r.memoizedState!==null&&z$(l,Pi,r.memoizedState,r.memoizedProps);break;case 5:Wl(r,o,l);break;case 3:case 4:var d=Pi;Pi=Ig(r.stateNode.containerInfo),Wl(r,o,l),Pi=d;break;case 22:r.memoizedState===null&&(d=r.alternate,d!==null&&d.memoizedState!==null?(d=Jf,Jf=16777216,Wl(r,o,l),Jf=d):Wl(r,o,l));break;default:Wl(r,o,l)}}function PS(r){var o=r.alternate;if(o!==null&&(r=o.child,r!==null)){o.child=null;do o=r.sibling,r.sibling=null,r=o;while(r!==null)}}function ed(r){var o=r.deletions;if((r.flags&16)!==0){if(o!==null)for(var l=0;l<o.length;l++){var d=o[l];gn=d,kS(d,r)}PS(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)LS(r),r=r.sibling}function LS(r){switch(r.tag){case 0:case 11:case 15:ed(r),r.flags&2048&&Go(9,r,r.return);break;case 3:ed(r);break;case 12:ed(r);break;case 22:var o=r.stateNode;r.memoizedState!==null&&o._visibility&2&&(r.return===null||r.return.tag!==13)?(o._visibility&=-3,mg(r)):ed(r);break;default:ed(r)}}function mg(r){var o=r.deletions;if((r.flags&16)!==0){if(o!==null)for(var l=0;l<o.length;l++){var d=o[l];gn=d,kS(d,r)}PS(r)}for(r=r.child;r!==null;){switch(o=r,o.tag){case 0:case 11:case 15:Go(8,o,o.return),mg(o);break;case 22:l=o.stateNode,l._visibility&2&&(l._visibility&=-3,mg(o));break;default:mg(o)}r=r.sibling}}function kS(r,o){for(;gn!==null;){var l=gn;switch(l.tag){case 0:case 11:case 15:Go(8,l,o);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var d=l.memoizedState.cachePool.pool;d!=null&&d.refCount++}break;case 24:Lf(l.memoizedState.cache)}if(d=l.child,d!==null)d.return=l,gn=d;else e:for(l=r;gn!==null;){d=gn;var m=d.sibling,w=d.return;if(_S(d),d===l){gn=null;break e}if(m!==null){m.return=w,gn=m;break e}gn=w}}}var n$={getCacheForType:function(r){var o=Nn(Jt),l=o.data.get(r);return l===void 0&&(l=r(),o.data.set(r,l)),l},cacheSignal:function(){return Nn(Jt).controller.signal}},s$=typeof WeakMap=="function"?WeakMap:Map,ut=0,Nt=null,Ge=null,Xe=0,yt=0,Ls=null,Yo=!1,Kl=!1,Nw=!1,to=0,qt=0,Xo=0,gc=0,Tw=0,ks=0,Gl=0,td=null,fs=null,_w=!1,yg=0,BS=0,wg=1/0,bg=null,Qo=null,ln=0,Zo=null,Yl=null,no=0,Iw=0,Dw=null,jS=null,nd=0,Ow=null;function Bs(){return(ut&2)!==0&&Xe!==0?Xe&-Xe:_.T!==null?Lw():ei()}function zS(){if(ks===0)if((Xe&536870912)===0||Ze){var r=Oo;Oo<<=1,(Oo&3932160)===0&&(Oo=262144),ks=r}else ks=536870912;return r=Us.current,r!==null&&(r.flags|=32),ks}function ds(r,o,l){(r===Nt&&(yt===2||yt===9)||r.cancelPendingCommit!==null)&&(Xl(r,0),Jo(r,Xe,ks,!1)),Mo(r,l),((ut&2)===0||r!==Nt)&&(r===Nt&&((ut&2)===0&&(gc|=l),qt===4&&Jo(r,Xe,ks,!1)),lr(r))}function HS(r,o,l){if((ut&6)!==0)throw Error(s(327));var d=!l&&(o&127)===0&&(o&r.expiredLanes)===0||Ga(r,o),m=d?o$(r,o):Rw(r,o,!0),w=d;do{if(m===0){Kl&&!d&&Jo(r,o,0,!1);break}else{if(l=r.current.alternate,w&&!i$(l)){m=Rw(r,o,!1),w=!1;continue}if(m===2){if(w=o,r.errorRecoveryDisabledLanes&w)var C=0;else C=r.pendingLanes&-536870913,C=C!==0?C:C&536870912?536870912:0;if(C!==0){o=C;e:{var O=r;m=td;var j=O.current.memoizedState.isDehydrated;if(j&&(Xl(O,C).flags|=256),C=Rw(O,C,!1),C!==2){if(Nw&&!j){O.errorRecoveryDisabledLanes|=w,gc|=w,m=4;break e}w=fs,fs=m,w!==null&&(fs===null?fs=w:fs.push.apply(fs,w))}m=C}if(w=!1,m!==2)continue}}if(m===1){Xl(r,0),Jo(r,o,0,!0);break}e:{switch(d=r,w=m,w){case 0:case 1:throw Error(s(345));case 4:if((o&4194048)!==o)break;case 6:Jo(d,o,ks,!Yo);break e;case 2:fs=null;break;case 3:case 5:break;default:throw Error(s(329))}if((o&62914560)===o&&(m=yg+300-Mt(),10<m)){if(Jo(d,o,ks,!Yo),gl(d,0,!0)!==0)break e;no=o,d.timeoutHandle=bx(FS.bind(null,d,l,fs,bg,_w,o,ks,gc,Gl,Yo,w,"Throttled",-0,0),m);break e}FS(d,l,fs,bg,_w,o,ks,gc,Gl,Yo,w,null,-0,0)}}break}while(!0);lr(r)}function FS(r,o,l,d,m,w,C,O,j,J,oe,ce,se,re){if(r.timeoutHandle=-1,ce=o.subtreeFlags,ce&8192||(ce&16785408)===16785408){ce={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ti},US(o,w,ce);var Se=(w&62914560)===w?yg-Mt():(w&4194048)===w?BS-Mt():0;if(Se=H$(ce,Se),Se!==null){no=w,r.cancelPendingCommit=Se(QS.bind(null,r,o,w,l,d,m,C,O,j,oe,ce,null,se,re)),Jo(r,w,C,!J);return}}QS(r,o,w,l,d,m,C,O,j)}function i$(r){for(var o=r;;){var l=o.tag;if((l===0||l===11||l===15)&&o.flags&16384&&(l=o.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var d=0;d<l.length;d++){var m=l[d],w=m.getSnapshot;m=m.value;try{if(!Rs(w(),m))return!1}catch{return!1}}if(l=o.child,o.subtreeFlags&16384&&l!==null)l.return=o,o=l;else{if(o===r)break;for(;o.sibling===null;){if(o.return===null||o.return===r)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function Jo(r,o,l,d){o&=~Tw,o&=~gc,r.suspendedLanes|=o,r.pingedLanes&=~o,d&&(r.warmLanes|=o),d=r.expirationTimes;for(var m=o;0<m;){var w=31-Zn(m),C=1<<w;d[w]=-1,m&=~C}l!==0&&Np(r,l,o)}function vg(){return(ut&6)===0?(sd(0),!1):!0}function Mw(){if(Ge!==null){if(yt===0)var r=Ge.return;else r=Ge,Vr=oc=null,Gy(r),jl=null,Bf=0,r=Ge;for(;r!==null;)vS(r.alternate,r),r=r.return;Ge=null}}function Xl(r,o){var l=r.timeoutHandle;l!==-1&&(r.timeoutHandle=-1,S$(l)),l=r.cancelPendingCommit,l!==null&&(r.cancelPendingCommit=null,l()),no=0,Mw(),Nt=r,Ge=l=Fr(r.current,null),Xe=o,yt=0,Ls=null,Yo=!1,Kl=Ga(r,o),Nw=!1,Gl=ks=Tw=gc=Xo=qt=0,fs=td=null,_w=!1,(o&8)!==0&&(o|=o&32);var d=r.entangledLanes;if(d!==0)for(r=r.entanglements,d&=o;0<d;){var m=31-Zn(d),w=1<<m;o|=r[m],d&=~w}return to=o,zp(),l}function qS(r,o){He=null,_.H=Kf,o===Bl||o===Yp?(o=oC(),yt=3):o===Py?(o=oC(),yt=4):yt=o===uw?8:o!==null&&typeof o=="object"&&typeof o.then=="function"?6:1,Ls=o,Ge===null&&(qt=1,lg(r,ii(o,r.current)))}function VS(){var r=Us.current;return r===null?!0:(Xe&4194048)===Xe?ci===null:(Xe&62914560)===Xe||(Xe&536870912)!==0?r===ci:!1}function WS(){var r=_.H;return _.H=Kf,r===null?Kf:r}function KS(){var r=_.A;return _.A=n$,r}function Eg(){qt=4,Yo||(Xe&4194048)!==Xe&&Us.current!==null||(Kl=!0),(Xo&134217727)===0&&(gc&134217727)===0||Nt===null||Jo(Nt,Xe,ks,!1)}function Rw(r,o,l){var d=ut;ut|=2;var m=WS(),w=KS();(Nt!==r||Xe!==o)&&(bg=null,Xl(r,o)),o=!1;var C=qt;e:do try{if(yt!==0&&Ge!==null){var O=Ge,j=Ls;switch(yt){case 8:Mw(),C=6;break e;case 3:case 2:case 9:case 6:Us.current===null&&(o=!0);var J=yt;if(yt=0,Ls=null,Ql(r,O,j,J),l&&Kl){C=0;break e}break;default:J=yt,yt=0,Ls=null,Ql(r,O,j,J)}}r$(),C=qt;break}catch(oe){qS(r,oe)}while(!0);return o&&r.shellSuspendCounter++,Vr=oc=null,ut=d,_.H=m,_.A=w,Ge===null&&(Nt=null,Xe=0,zp()),C}function r$(){for(;Ge!==null;)GS(Ge)}function o$(r,o){var l=ut;ut|=2;var d=WS(),m=KS();Nt!==r||Xe!==o?(bg=null,wg=Mt()+500,Xl(r,o)):Kl=Ga(r,o);e:do try{if(yt!==0&&Ge!==null){o=Ge;var w=Ls;t:switch(yt){case 1:yt=0,Ls=null,Ql(r,o,w,1);break;case 2:case 9:if(iC(w)){yt=0,Ls=null,YS(o);break}o=function(){yt!==2&&yt!==9||Nt!==r||(yt=7),lr(r)},w.then(o,o);break e;case 3:yt=7;break e;case 4:yt=5;break e;case 7:iC(w)?(yt=0,Ls=null,YS(o)):(yt=0,Ls=null,Ql(r,o,w,7));break;case 5:var C=null;switch(Ge.tag){case 26:C=Ge.memoizedState;case 5:case 27:var O=Ge;if(C?$x(C):O.stateNode.complete){yt=0,Ls=null;var j=O.sibling;if(j!==null)Ge=j;else{var J=O.return;J!==null?(Ge=J,Ag(J)):Ge=null}break t}}yt=0,Ls=null,Ql(r,o,w,5);break;case 6:yt=0,Ls=null,Ql(r,o,w,6);break;case 8:Mw(),qt=6;break e;default:throw Error(s(462))}}a$();break}catch(oe){qS(r,oe)}while(!0);return Vr=oc=null,_.H=d,_.A=m,ut=l,Ge!==null?0:(Nt=null,Xe=0,zp(),qt)}function a$(){for(;Ge!==null&&!Ha();)GS(Ge)}function GS(r){var o=wS(r.alternate,r,to);r.memoizedProps=r.pendingProps,o===null?Ag(r):Ge=o}function YS(r){var o=r,l=o.alternate;switch(o.tag){case 15:case 0:o=dS(l,o,o.pendingProps,o.type,void 0,Xe);break;case 11:o=dS(l,o,o.pendingProps,o.type.render,o.ref,Xe);break;case 5:Gy(o);default:vS(l,o),o=Ge=KA(o,to),o=wS(l,o,to)}r.memoizedProps=r.pendingProps,o===null?Ag(r):Ge=o}function Ql(r,o,l,d){Vr=oc=null,Gy(o),jl=null,Bf=0;var m=o.return;try{if(YR(r,m,o,l,Xe)){qt=1,lg(r,ii(l,r.current)),Ge=null;return}}catch(w){if(m!==null)throw Ge=m,w;qt=1,lg(r,ii(l,r.current)),Ge=null;return}o.flags&32768?(Ze||d===1?r=!0:Kl||(Xe&536870912)!==0?r=!1:(Yo=r=!0,(d===2||d===9||d===3||d===6)&&(d=Us.current,d!==null&&d.tag===13&&(d.flags|=16384))),XS(o,r)):Ag(o)}function Ag(r){var o=r;do{if((o.flags&32768)!==0){XS(o,Yo);return}r=o.return;var l=ZR(o.alternate,o,to);if(l!==null){Ge=l;return}if(o=o.sibling,o!==null){Ge=o;return}Ge=o=r}while(o!==null);qt===0&&(qt=5)}function XS(r,o){do{var l=JR(r.alternate,r);if(l!==null){l.flags&=32767,Ge=l;return}if(l=r.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!o&&(r=r.sibling,r!==null)){Ge=r;return}Ge=r=l}while(r!==null);qt=6,Ge=null}function QS(r,o,l,d,m,w,C,O,j){r.cancelPendingCommit=null;do Cg();while(ln!==0);if((ut&6)!==0)throw Error(s(327));if(o!==null){if(o===r.current)throw Error(s(177));if(w=o.lanes|o.childLanes,w|=Ey,kr(r,l,w,C,O,j),r===Nt&&(Ge=Nt=null,Xe=0),Yl=o,Zo=r,no=l,Iw=w,Dw=m,jS=d,(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?(r.callbackNode=null,r.callbackPriority=0,f$(Pr,function(){return nx(),null})):(r.callbackNode=null,r.callbackPriority=0),d=(o.flags&13878)!==0,(o.subtreeFlags&13878)!==0||d){d=_.T,_.T=null,m=k.p,k.p=2,C=ut,ut|=4;try{e$(r,o,l)}finally{ut=C,k.p=m,_.T=d}}ln=1,ZS(),JS(),ex()}}function ZS(){if(ln===1){ln=0;var r=Zo,o=Yl,l=(o.flags&13878)!==0;if((o.subtreeFlags&13878)!==0||l){l=_.T,_.T=null;var d=k.p;k.p=2;var m=ut;ut|=4;try{MS(o,r);var w=Vw,C=kA(r.containerInfo),O=w.focusedElem,j=w.selectionRange;if(C!==O&&O&&O.ownerDocument&&LA(O.ownerDocument.documentElement,O)){if(j!==null&&my(O)){var J=j.start,oe=j.end;if(oe===void 0&&(oe=J),"selectionStart"in O)O.selectionStart=J,O.selectionEnd=Math.min(oe,O.value.length);else{var ce=O.ownerDocument||document,se=ce&&ce.defaultView||window;if(se.getSelection){var re=se.getSelection(),Se=O.textContent.length,Le=Math.min(j.start,Se),Ct=j.end===void 0?Le:Math.min(j.end,Se);!re.extend&&Le>Ct&&(C=Ct,Ct=Le,Le=C);var Y=PA(O,Le),W=PA(O,Ct);if(Y&&W&&(re.rangeCount!==1||re.anchorNode!==Y.node||re.anchorOffset!==Y.offset||re.focusNode!==W.node||re.focusOffset!==W.offset)){var Z=ce.createRange();Z.setStart(Y.node,Y.offset),re.removeAllRanges(),Le>Ct?(re.addRange(Z),re.extend(W.node,W.offset)):(Z.setEnd(W.node,W.offset),re.addRange(Z))}}}}for(ce=[],re=O;re=re.parentNode;)re.nodeType===1&&ce.push({element:re,left:re.scrollLeft,top:re.scrollTop});for(typeof O.focus=="function"&&O.focus(),O=0;O<ce.length;O++){var ae=ce[O];ae.element.scrollLeft=ae.left,ae.element.scrollTop=ae.top}}Ug=!!qw,Vw=qw=null}finally{ut=m,k.p=d,_.T=l}}r.current=o,ln=2}}function JS(){if(ln===2){ln=0;var r=Zo,o=Yl,l=(o.flags&8772)!==0;if((o.subtreeFlags&8772)!==0||l){l=_.T,_.T=null;var d=k.p;k.p=2;var m=ut;ut|=4;try{TS(r,o.alternate,o)}finally{ut=m,k.p=d,_.T=l}}ln=3}}function ex(){if(ln===4||ln===3){ln=0,Fa();var r=Zo,o=Yl,l=no,d=jS;(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?ln=5:(ln=0,Yl=Zo=null,tx(r,r.pendingLanes));var m=r.pendingLanes;if(m===0&&(Qo=null),bf(l),o=o.stateNode,jn&&typeof jn.onCommitFiberRoot=="function")try{jn.onCommitFiberRoot(Wa,o,void 0,(o.current.flags&128)===128)}catch{}if(d!==null){o=_.T,m=k.p,k.p=2,_.T=null;try{for(var w=r.onRecoverableError,C=0;C<d.length;C++){var O=d[C];w(O.value,{componentStack:O.stack})}}finally{_.T=o,k.p=m}}(no&3)!==0&&Cg(),lr(r),m=r.pendingLanes,(l&261930)!==0&&(m&42)!==0?r===Ow?nd++:(nd=0,Ow=r):nd=0,sd(0)}}function tx(r,o){(r.pooledCacheLanes&=o)===0&&(o=r.pooledCache,o!=null&&(r.pooledCache=null,Lf(o)))}function Cg(){return ZS(),JS(),ex(),nx()}function nx(){if(ln!==5)return!1;var r=Zo,o=Iw;Iw=0;var l=bf(no),d=_.T,m=k.p;try{k.p=32>l?32:l,_.T=null,l=Dw,Dw=null;var w=Zo,C=no;if(ln=0,Yl=Zo=null,no=0,(ut&6)!==0)throw Error(s(331));var O=ut;if(ut|=4,LS(w.current),$S(w,w.current,C,l),ut=O,sd(0,!1),jn&&typeof jn.onPostCommitFiberRoot=="function")try{jn.onPostCommitFiberRoot(Wa,w)}catch{}return!0}finally{k.p=m,_.T=d,tx(r,o)}}function sx(r,o,l){o=ii(l,o),o=lw(r.stateNode,o,2),r=Vo(r,o,2),r!==null&&(Mo(r,2),lr(r))}function wt(r,o,l){if(r.tag===3)sx(r,r,l);else for(;o!==null;){if(o.tag===3){sx(o,r,l);break}else if(o.tag===1){var d=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(Qo===null||!Qo.has(d))){r=ii(l,r),l=iS(2),d=Vo(o,l,2),d!==null&&(rS(l,d,o,r),Mo(d,2),lr(d));break}}o=o.return}}function $w(r,o,l){var d=r.pingCache;if(d===null){d=r.pingCache=new s$;var m=new Set;d.set(o,m)}else m=d.get(o),m===void 0&&(m=new Set,d.set(o,m));m.has(l)||(Nw=!0,m.add(l),r=c$.bind(null,r,o,l),o.then(r,r))}function c$(r,o,l){var d=r.pingCache;d!==null&&d.delete(o),r.pingedLanes|=r.suspendedLanes&l,r.warmLanes&=~l,Nt===r&&(Xe&l)===l&&(qt===4||qt===3&&(Xe&62914560)===Xe&&300>Mt()-yg?(ut&2)===0&&Xl(r,0):Tw|=l,Gl===Xe&&(Gl=0)),lr(r)}function ix(r,o){o===0&&(o=xp()),r=sc(r,o),r!==null&&(Mo(r,o),lr(r))}function l$(r){var o=r.memoizedState,l=0;o!==null&&(l=o.retryLane),ix(r,l)}function u$(r,o){var l=0;switch(r.tag){case 31:case 13:var d=r.stateNode,m=r.memoizedState;m!==null&&(l=m.retryLane);break;case 19:d=r.stateNode;break;case 22:d=r.stateNode._retryCache;break;default:throw Error(s(314))}d!==null&&d.delete(o),ix(r,l)}function f$(r,o){return Di(r,o)}var Sg=null,Zl=null,Uw=!1,xg=!1,Pw=!1,ea=0;function lr(r){r!==Zl&&r.next===null&&(Zl===null?Sg=Zl=r:Zl=Zl.next=r),xg=!0,Uw||(Uw=!0,h$())}function sd(r,o){if(!Pw&&xg){Pw=!0;do for(var l=!1,d=Sg;d!==null;){if(r!==0){var m=d.pendingLanes;if(m===0)var w=0;else{var C=d.suspendedLanes,O=d.pingedLanes;w=(1<<31-Zn(42|r)+1)-1,w&=m&~(C&~O),w=w&201326741?w&201326741|1:w?w|2:0}w!==0&&(l=!0,cx(d,w))}else w=Xe,w=gl(d,d===Nt?w:0,d.cancelPendingCommit!==null||d.timeoutHandle!==-1),(w&3)===0||Ga(d,w)||(l=!0,cx(d,w));d=d.next}while(l);Pw=!1}}function d$(){rx()}function rx(){xg=Uw=!1;var r=0;ea!==0&&C$()&&(r=ea);for(var o=Mt(),l=null,d=Sg;d!==null;){var m=d.next,w=ox(d,o);w===0?(d.next=null,l===null?Sg=m:l.next=m,m===null&&(Zl=l)):(l=d,(r!==0||(w&3)!==0)&&(xg=!0)),d=m}ln!==0&&ln!==5||sd(r),ea!==0&&(ea=0)}function ox(r,o){for(var l=r.suspendedLanes,d=r.pingedLanes,m=r.expirationTimes,w=r.pendingLanes&-62914561;0<w;){var C=31-Zn(w),O=1<<C,j=m[C];j===-1?((O&l)===0||(O&d)!==0)&&(m[C]=ny(O,o)):j<=o&&(r.expiredLanes|=O),w&=~O}if(o=Nt,l=Xe,l=gl(r,r===o?l:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),d=r.callbackNode,l===0||r===o&&(yt===2||yt===9)||r.cancelPendingCommit!==null)return d!==null&&d!==null&&Oi(d),r.callbackNode=null,r.callbackPriority=0;if((l&3)===0||Ga(r,l)){if(o=l&-l,o===r.callbackPriority)return o;switch(d!==null&&Oi(d),bf(l)){case 2:case 8:l=Va;break;case 32:l=Pr;break;case 268435456:l=pl;break;default:l=Pr}return d=ax.bind(null,r),l=Di(l,d),r.callbackPriority=o,r.callbackNode=l,o}return d!==null&&d!==null&&Oi(d),r.callbackPriority=2,r.callbackNode=null,2}function ax(r,o){if(ln!==0&&ln!==5)return r.callbackNode=null,r.callbackPriority=0,null;var l=r.callbackNode;if(Cg()&&r.callbackNode!==l)return null;var d=Xe;return d=gl(r,r===Nt?d:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),d===0?null:(HS(r,d,o),ox(r,Mt()),r.callbackNode!=null&&r.callbackNode===l?ax.bind(null,r):null)}function cx(r,o){if(Cg())return null;HS(r,o,!0)}function h$(){x$(function(){(ut&6)!==0?Di(qa,d$):rx()})}function Lw(){if(ea===0){var r=Ll;r===0&&(r=Do,Do<<=1,(Do&261888)===0&&(Do=256)),ea=r}return ea}function lx(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:Al(""+r)}function ux(r,o){var l=o.ownerDocument.createElement("input");return l.name=o.name,l.value=o.value,r.id&&l.setAttribute("form",r.id),o.parentNode.insertBefore(l,o),r=new FormData(r),l.parentNode.removeChild(l),r}function p$(r,o,l,d,m){if(o==="submit"&&l&&l.stateNode===m){var w=lx((m[zn]||null).action),C=d.submitter;C&&(o=(o=C[zn]||null)?lx(o.formAction):C.getAttribute("formAction"),o!==null&&(w=o,C=null));var O=new cn("action","action",null,d,m);r.push({event:O,listeners:[{instance:null,listener:function(){if(d.defaultPrevented){if(ea!==0){var j=C?ux(m,C):new FormData(m);sw(l,{pending:!0,data:j,method:m.method,action:w},null,j)}}else typeof w=="function"&&(O.preventDefault(),j=C?ux(m,C):new FormData(m),sw(l,{pending:!0,data:j,method:m.method,action:w},w,j))},currentTarget:m}]})}}for(var kw=0;kw<vy.length;kw++){var Bw=vy[kw],g$=Bw.toLowerCase(),m$=Bw[0].toUpperCase()+Bw.slice(1);Ui(g$,"on"+m$)}Ui(zA,"onAnimationEnd"),Ui(HA,"onAnimationIteration"),Ui(FA,"onAnimationStart"),Ui("dblclick","onDoubleClick"),Ui("focusin","onFocus"),Ui("focusout","onBlur"),Ui(MR,"onTransitionRun"),Ui(RR,"onTransitionStart"),Ui($R,"onTransitionCancel"),Ui(qA,"onTransitionEnd"),Mi("onMouseEnter",["mouseout","mouseover"]),Mi("onMouseLeave",["mouseout","mouseover"]),Mi("onPointerEnter",["pointerout","pointerover"]),Mi("onPointerLeave",["pointerout","pointerover"]),nr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),nr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),nr("onBeforeInput",["compositionend","keypress","textInput","paste"]),nr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),nr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),nr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var id="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),y$=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(id));function fx(r,o){o=(o&4)!==0;for(var l=0;l<r.length;l++){var d=r[l],m=d.event;d=d.listeners;e:{var w=void 0;if(o)for(var C=d.length-1;0<=C;C--){var O=d[C],j=O.instance,J=O.currentTarget;if(O=O.listener,j!==w&&m.isPropagationStopped())break e;w=O,m.currentTarget=J;try{w(m)}catch(oe){jp(oe)}m.currentTarget=null,w=j}else for(C=0;C<d.length;C++){if(O=d[C],j=O.instance,J=O.currentTarget,O=O.listener,j!==w&&m.isPropagationStopped())break e;w=O,m.currentTarget=J;try{w(m)}catch(oe){jp(oe)}m.currentTarget=null,w=j}}}}function Ye(r,o){var l=o[tr];l===void 0&&(l=o[tr]=new Set);var d=r+"__bubble";l.has(d)||(dx(o,r,2,!1),l.add(d))}function jw(r,o,l){var d=0;o&&(d|=4),dx(l,r,d,o)}var Ng="_reactListening"+Math.random().toString(36).slice(2);function zw(r){if(!r[Ng]){r[Ng]=!0,Op.forEach(function(l){l!=="selectionchange"&&(y$.has(l)||jw(l,!1,r),jw(l,!0,r))});var o=r.nodeType===9?r:r.ownerDocument;o===null||o[Ng]||(o[Ng]=!0,jw("selectionchange",!1,o))}}function dx(r,o,l,d){switch(zx(o)){case 2:var m=V$;break;case 8:m=W$;break;default:m=n1}l=m.bind(null,o,l,r),m=void 0,!Tf||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(m=!0),d?m!==void 0?r.addEventListener(o,l,{capture:!0,passive:m}):r.addEventListener(o,l,!0):m!==void 0?r.addEventListener(o,l,{passive:m}):r.addEventListener(o,l,!1)}function Hw(r,o,l,d,m){var w=d;if((o&1)===0&&(o&2)===0&&d!==null)e:for(;;){if(d===null)return;var C=d.tag;if(C===3||C===4){var O=d.stateNode.containerInfo;if(O===m)break;if(C===4)for(C=d.return;C!==null;){var j=C.tag;if((j===3||j===4)&&C.stateNode.containerInfo===m)return;C=C.return}for(;O!==null;){if(C=Ms(O),C===null)return;if(j=C.tag,j===5||j===6||j===26||j===27){d=w=C;continue e}O=O.parentNode}}d=d.return}Lp(function(){var J=w,oe=Nf(l),ce=[];e:{var se=VA.get(r);if(se!==void 0){var re=cn,Se=r;switch(r){case"keypress":if(L(l)===0)break e;case"keydown":case"keyup":re=uR;break;case"focusin":Se="focus",re=fy;break;case"focusout":Se="blur",re=fy;break;case"beforeblur":case"afterblur":re=fy;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":re=_f;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":re=Tl;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":re=hR;break;case zA:case HA:case FA:re=tR;break;case qA:re=gR;break;case"scroll":case"scrollend":re=Hn;break;case"wheel":re=yR;break;case"copy":case"cut":case"paste":re=sR;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":re=AA;break;case"toggle":case"beforetoggle":re=bR}var Le=(o&4)!==0,Ct=!Le&&(r==="scroll"||r==="scrollend"),Y=Le?se!==null?se+"Capture":null:se;Le=[];for(var W=J,Z;W!==null;){var ae=W;if(Z=ae.stateNode,ae=ae.tag,ae!==5&&ae!==26&&ae!==27||Z===null||Y===null||(ae=Za(W,Y),ae!=null&&Le.push(rd(W,ae,Z))),Ct)break;W=W.return}0<Le.length&&(se=new re(se,Se,null,l,oe),ce.push({event:se,listeners:Le}))}}if((o&7)===0){e:{if(se=r==="mouseover"||r==="pointerover",re=r==="mouseout"||r==="pointerout",se&&l!==$i&&(Se=l.relatedTarget||l.fromElement)&&(Ms(Se)||Se[Ro]))break e;if((re||se)&&(se=oe.window===oe?oe:(se=oe.ownerDocument)?se.defaultView||se.parentWindow:window,re?(Se=l.relatedTarget||l.toElement,re=J,Se=Se?Ms(Se):null,Se!==null&&(Ct=a(Se),Le=Se.tag,Se!==Ct||Le!==5&&Le!==27&&Le!==6)&&(Se=null)):(re=null,Se=J),re!==Se)){if(Le=_f,ae="onMouseLeave",Y="onMouseEnter",W="mouse",(r==="pointerout"||r==="pointerover")&&(Le=AA,ae="onPointerLeave",Y="onPointerEnter",W="pointer"),Ct=re==null?se:Xa(re),Z=Se==null?se:Xa(Se),se=new Le(ae,W+"leave",re,l,oe),se.target=Ct,se.relatedTarget=Z,ae=null,Ms(oe)===J&&(Le=new Le(Y,W+"enter",Se,l,oe),Le.target=Z,Le.relatedTarget=Ct,ae=Le),Ct=ae,re&&Se)t:{for(Le=w$,Y=re,W=Se,Z=0,ae=Y;ae;ae=Le(ae))Z++;ae=0;for(var Re=W;Re;Re=Le(Re))ae++;for(;0<Z-ae;)Y=Le(Y),Z--;for(;0<ae-Z;)W=Le(W),ae--;for(;Z--;){if(Y===W||W!==null&&Y===W.alternate){Le=Y;break t}Y=Le(Y),W=Le(W)}Le=null}else Le=null;re!==null&&hx(ce,se,re,Le,!1),Se!==null&&Ct!==null&&hx(ce,Ct,Se,Le,!0)}}e:{if(se=J?Xa(J):window,re=se.nodeName&&se.nodeName.toLowerCase(),re==="select"||re==="input"&&se.type==="file")var st=DA;else if(_A(se))if(OA)st=IR;else{st=TR;var Ne=NR}else re=se.nodeName,!re||re.toLowerCase()!=="input"||se.type!=="checkbox"&&se.type!=="radio"?J&&xf(J.elementType)&&(st=DA):st=_R;if(st&&(st=st(r,J))){IA(ce,st,l,oe);break e}Ne&&Ne(r,se,J),r==="focusout"&&J&&se.type==="number"&&J.memoizedProps.value!=null&&Sf(se,"number",se.value)}switch(Ne=J?Xa(J):window,r){case"focusin":(_A(Ne)||Ne.contentEditable==="true")&&(Il=Ne,yy=J,$f=null);break;case"focusout":$f=yy=Il=null;break;case"mousedown":wy=!0;break;case"contextmenu":case"mouseup":case"dragend":wy=!1,BA(ce,l,oe);break;case"selectionchange":if(OR)break;case"keydown":case"keyup":BA(ce,l,oe)}var qe;if(hy)e:{switch(r){case"compositionstart":var Qe="onCompositionStart";break e;case"compositionend":Qe="onCompositionEnd";break e;case"compositionupdate":Qe="onCompositionUpdate";break e}Qe=void 0}else _l?NA(r,l)&&(Qe="onCompositionEnd"):r==="keydown"&&l.keyCode===229&&(Qe="onCompositionStart");Qe&&(CA&&l.locale!=="ko"&&(_l||Qe!=="onCompositionStart"?Qe==="onCompositionEnd"&&_l&&(qe=kp()):(ir=oe,Ja="value"in ir?ir.value:ir.textContent,_l=!0)),Ne=Tg(J,Qe),0<Ne.length&&(Qe=new EA(Qe,r,null,l,oe),ce.push({event:Qe,listeners:Ne}),qe?Qe.data=qe:(qe=TA(l),qe!==null&&(Qe.data=qe)))),(qe=ER?AR(r,l):CR(r,l))&&(Qe=Tg(J,"onBeforeInput"),0<Qe.length&&(Ne=new EA("onBeforeInput","beforeinput",null,l,oe),ce.push({event:Ne,listeners:Qe}),Ne.data=qe)),p$(ce,r,J,l,oe)}fx(ce,o)})}function rd(r,o,l){return{instance:r,listener:o,currentTarget:l}}function Tg(r,o){for(var l=o+"Capture",d=[];r!==null;){var m=r,w=m.stateNode;if(m=m.tag,m!==5&&m!==26&&m!==27||w===null||(m=Za(r,l),m!=null&&d.unshift(rd(r,m,w)),m=Za(r,o),m!=null&&d.push(rd(r,m,w))),r.tag===3)return d;r=r.return}return[]}function w$(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function hx(r,o,l,d,m){for(var w=o._reactName,C=[];l!==null&&l!==d;){var O=l,j=O.alternate,J=O.stateNode;if(O=O.tag,j!==null&&j===d)break;O!==5&&O!==26&&O!==27||J===null||(j=J,m?(J=Za(l,w),J!=null&&C.unshift(rd(l,J,j))):m||(J=Za(l,w),J!=null&&C.push(rd(l,J,j)))),l=l.return}C.length!==0&&r.push({event:o,listeners:C})}var b$=/\r\n?/g,v$=/\u0000|\uFFFD/g;function px(r){return(typeof r=="string"?r:""+r).replace(b$,`
`).replace(v$,"")}function gx(r,o){return o=px(o),px(r)===o}function At(r,o,l,d,m,w){switch(l){case"children":typeof d=="string"?o==="body"||o==="textarea"&&d===""||jr(r,d):(typeof d=="number"||typeof d=="bigint")&&o!=="body"&&jr(r,""+d);break;case"className":bl(r,"class",d);break;case"tabIndex":bl(r,"tabindex",d);break;case"dir":case"role":case"viewBox":case"width":case"height":bl(r,l,d);break;case"style":Pp(r,d,w);break;case"data":if(o!=="object"){bl(r,"data",d);break}case"src":case"href":if(d===""&&(o!=="a"||l!=="href")){r.removeAttribute(l);break}if(d==null||typeof d=="function"||typeof d=="symbol"||typeof d=="boolean"){r.removeAttribute(l);break}d=Al(""+d),r.setAttribute(l,d);break;case"action":case"formAction":if(typeof d=="function"){r.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof w=="function"&&(l==="formAction"?(o!=="input"&&At(r,o,"name",m.name,m,null),At(r,o,"formEncType",m.formEncType,m,null),At(r,o,"formMethod",m.formMethod,m,null),At(r,o,"formTarget",m.formTarget,m,null)):(At(r,o,"encType",m.encType,m,null),At(r,o,"method",m.method,m,null),At(r,o,"target",m.target,m,null)));if(d==null||typeof d=="symbol"||typeof d=="boolean"){r.removeAttribute(l);break}d=Al(""+d),r.setAttribute(l,d);break;case"onClick":d!=null&&(r.onclick=ti);break;case"onScroll":d!=null&&Ye("scroll",r);break;case"onScrollEnd":d!=null&&Ye("scrollend",r);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(s(61));if(l=d.__html,l!=null){if(m.children!=null)throw Error(s(60));r.innerHTML=l}}break;case"multiple":r.multiple=d&&typeof d!="function"&&typeof d!="symbol";break;case"muted":r.muted=d&&typeof d!="function"&&typeof d!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(d==null||typeof d=="function"||typeof d=="boolean"||typeof d=="symbol"){r.removeAttribute("xlink:href");break}l=Al(""+d),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":d!=null&&typeof d!="function"&&typeof d!="symbol"?r.setAttribute(l,""+d):r.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":d&&typeof d!="function"&&typeof d!="symbol"?r.setAttribute(l,""):r.removeAttribute(l);break;case"capture":case"download":d===!0?r.setAttribute(l,""):d!==!1&&d!=null&&typeof d!="function"&&typeof d!="symbol"?r.setAttribute(l,d):r.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":d!=null&&typeof d!="function"&&typeof d!="symbol"&&!isNaN(d)&&1<=d?r.setAttribute(l,d):r.removeAttribute(l);break;case"rowSpan":case"start":d==null||typeof d=="function"||typeof d=="symbol"||isNaN(d)?r.removeAttribute(l):r.setAttribute(l,d);break;case"popover":Ye("beforetoggle",r),Ye("toggle",r),wl(r,"popover",d);break;case"xlinkActuate":Ri(r,"http://www.w3.org/1999/xlink","xlink:actuate",d);break;case"xlinkArcrole":Ri(r,"http://www.w3.org/1999/xlink","xlink:arcrole",d);break;case"xlinkRole":Ri(r,"http://www.w3.org/1999/xlink","xlink:role",d);break;case"xlinkShow":Ri(r,"http://www.w3.org/1999/xlink","xlink:show",d);break;case"xlinkTitle":Ri(r,"http://www.w3.org/1999/xlink","xlink:title",d);break;case"xlinkType":Ri(r,"http://www.w3.org/1999/xlink","xlink:type",d);break;case"xmlBase":Ri(r,"http://www.w3.org/XML/1998/namespace","xml:base",d);break;case"xmlLang":Ri(r,"http://www.w3.org/XML/1998/namespace","xml:lang",d);break;case"xmlSpace":Ri(r,"http://www.w3.org/XML/1998/namespace","xml:space",d);break;case"is":wl(r,"is",d);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=ly.get(l)||l,wl(r,l,d))}}function Fw(r,o,l,d,m,w){switch(l){case"style":Pp(r,d,w);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(s(61));if(l=d.__html,l!=null){if(m.children!=null)throw Error(s(60));r.innerHTML=l}}break;case"children":typeof d=="string"?jr(r,d):(typeof d=="number"||typeof d=="bigint")&&jr(r,""+d);break;case"onScroll":d!=null&&Ye("scroll",r);break;case"onScrollEnd":d!=null&&Ye("scrollend",r);break;case"onClick":d!=null&&(r.onclick=ti);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Mp.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(m=l.endsWith("Capture"),o=l.slice(2,m?l.length-7:void 0),w=r[zn]||null,w=w!=null?w[l]:null,typeof w=="function"&&r.removeEventListener(o,w,m),typeof d=="function")){typeof w!="function"&&w!==null&&(l in r?r[l]=null:r.hasAttribute(l)&&r.removeAttribute(l)),r.addEventListener(o,d,m);break e}l in r?r[l]=d:d===!0?r.setAttribute(l,""):wl(r,l,d)}}}function _n(r,o,l){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ye("error",r),Ye("load",r);var d=!1,m=!1,w;for(w in l)if(l.hasOwnProperty(w)){var C=l[w];if(C!=null)switch(w){case"src":d=!0;break;case"srcSet":m=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,o));default:At(r,o,w,C,l,null)}}m&&At(r,o,"srcSet",l.srcSet,l,null),d&&At(r,o,"src",l.src,l,null);return;case"input":Ye("invalid",r);var O=w=C=m=null,j=null,J=null;for(d in l)if(l.hasOwnProperty(d)){var oe=l[d];if(oe!=null)switch(d){case"name":m=oe;break;case"type":C=oe;break;case"checked":j=oe;break;case"defaultChecked":J=oe;break;case"value":w=oe;break;case"defaultValue":O=oe;break;case"children":case"dangerouslySetInnerHTML":if(oe!=null)throw Error(s(137,o));break;default:At(r,o,d,oe,l,null)}}Cf(r,w,O,j,J,C,m,!1);return;case"select":Ye("invalid",r),d=C=w=null;for(m in l)if(l.hasOwnProperty(m)&&(O=l[m],O!=null))switch(m){case"value":w=O;break;case"defaultValue":C=O;break;case"multiple":d=O;default:At(r,o,m,O,l,null)}o=w,l=C,r.multiple=!!d,o!=null?Po(r,!!d,o,!1):l!=null&&Po(r,!!d,l,!0);return;case"textarea":Ye("invalid",r),w=m=d=null;for(C in l)if(l.hasOwnProperty(C)&&(O=l[C],O!=null))switch(C){case"value":d=O;break;case"defaultValue":m=O;break;case"children":w=O;break;case"dangerouslySetInnerHTML":if(O!=null)throw Error(s(91));break;default:At(r,o,C,O,l,null)}Br(r,d,m,w);return;case"option":for(j in l)if(l.hasOwnProperty(j)&&(d=l[j],d!=null))switch(j){case"selected":r.selected=d&&typeof d!="function"&&typeof d!="symbol";break;default:At(r,o,j,d,l,null)}return;case"dialog":Ye("beforetoggle",r),Ye("toggle",r),Ye("cancel",r),Ye("close",r);break;case"iframe":case"object":Ye("load",r);break;case"video":case"audio":for(d=0;d<id.length;d++)Ye(id[d],r);break;case"image":Ye("error",r),Ye("load",r);break;case"details":Ye("toggle",r);break;case"embed":case"source":case"link":Ye("error",r),Ye("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(J in l)if(l.hasOwnProperty(J)&&(d=l[J],d!=null))switch(J){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,o));default:At(r,o,J,d,l,null)}return;default:if(xf(o)){for(oe in l)l.hasOwnProperty(oe)&&(d=l[oe],d!==void 0&&Fw(r,o,oe,d,l,void 0));return}}for(O in l)l.hasOwnProperty(O)&&(d=l[O],d!=null&&At(r,o,O,d,l,null))}function E$(r,o,l,d){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var m=null,w=null,C=null,O=null,j=null,J=null,oe=null;for(re in l){var ce=l[re];if(l.hasOwnProperty(re)&&ce!=null)switch(re){case"checked":break;case"value":break;case"defaultValue":j=ce;default:d.hasOwnProperty(re)||At(r,o,re,null,d,ce)}}for(var se in d){var re=d[se];if(ce=l[se],d.hasOwnProperty(se)&&(re!=null||ce!=null))switch(se){case"type":w=re;break;case"name":m=re;break;case"checked":J=re;break;case"defaultChecked":oe=re;break;case"value":C=re;break;case"defaultValue":O=re;break;case"children":case"dangerouslySetInnerHTML":if(re!=null)throw Error(s(137,o));break;default:re!==ce&&At(r,o,se,re,d,ce)}}Af(r,C,O,j,J,oe,w,m);return;case"select":re=C=O=se=null;for(w in l)if(j=l[w],l.hasOwnProperty(w)&&j!=null)switch(w){case"value":break;case"multiple":re=j;default:d.hasOwnProperty(w)||At(r,o,w,null,d,j)}for(m in d)if(w=d[m],j=l[m],d.hasOwnProperty(m)&&(w!=null||j!=null))switch(m){case"value":se=w;break;case"defaultValue":O=w;break;case"multiple":C=w;default:w!==j&&At(r,o,m,w,d,j)}o=O,l=C,d=re,se!=null?Po(r,!!l,se,!1):!!d!=!!l&&(o!=null?Po(r,!!l,o,!0):Po(r,!!l,l?[]:"",!1));return;case"textarea":re=se=null;for(O in l)if(m=l[O],l.hasOwnProperty(O)&&m!=null&&!d.hasOwnProperty(O))switch(O){case"value":break;case"children":break;default:At(r,o,O,null,d,m)}for(C in d)if(m=d[C],w=l[C],d.hasOwnProperty(C)&&(m!=null||w!=null))switch(C){case"value":se=m;break;case"defaultValue":re=m;break;case"children":break;case"dangerouslySetInnerHTML":if(m!=null)throw Error(s(91));break;default:m!==w&&At(r,o,C,m,d,w)}Qa(r,se,re);return;case"option":for(var Se in l)if(se=l[Se],l.hasOwnProperty(Se)&&se!=null&&!d.hasOwnProperty(Se))switch(Se){case"selected":r.selected=!1;break;default:At(r,o,Se,null,d,se)}for(j in d)if(se=d[j],re=l[j],d.hasOwnProperty(j)&&se!==re&&(se!=null||re!=null))switch(j){case"selected":r.selected=se&&typeof se!="function"&&typeof se!="symbol";break;default:At(r,o,j,se,d,re)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Le in l)se=l[Le],l.hasOwnProperty(Le)&&se!=null&&!d.hasOwnProperty(Le)&&At(r,o,Le,null,d,se);for(J in d)if(se=d[J],re=l[J],d.hasOwnProperty(J)&&se!==re&&(se!=null||re!=null))switch(J){case"children":case"dangerouslySetInnerHTML":if(se!=null)throw Error(s(137,o));break;default:At(r,o,J,se,d,re)}return;default:if(xf(o)){for(var Ct in l)se=l[Ct],l.hasOwnProperty(Ct)&&se!==void 0&&!d.hasOwnProperty(Ct)&&Fw(r,o,Ct,void 0,d,se);for(oe in d)se=d[oe],re=l[oe],!d.hasOwnProperty(oe)||se===re||se===void 0&&re===void 0||Fw(r,o,oe,se,d,re);return}}for(var Y in l)se=l[Y],l.hasOwnProperty(Y)&&se!=null&&!d.hasOwnProperty(Y)&&At(r,o,Y,null,d,se);for(ce in d)se=d[ce],re=l[ce],!d.hasOwnProperty(ce)||se===re||se==null&&re==null||At(r,o,ce,se,d,re)}function mx(r){switch(r){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function A$(){if(typeof performance.getEntriesByType=="function"){for(var r=0,o=0,l=performance.getEntriesByType("resource"),d=0;d<l.length;d++){var m=l[d],w=m.transferSize,C=m.initiatorType,O=m.duration;if(w&&O&&mx(C)){for(C=0,O=m.responseEnd,d+=1;d<l.length;d++){var j=l[d],J=j.startTime;if(J>O)break;var oe=j.transferSize,ce=j.initiatorType;oe&&mx(ce)&&(j=j.responseEnd,C+=oe*(j<O?1:(O-J)/(j-J)))}if(--d,o+=8*(w+C)/(m.duration/1e3),r++,10<r)break}}if(0<r)return o/r/1e6}return navigator.connection&&(r=navigator.connection.downlink,typeof r=="number")?r:5}var qw=null,Vw=null;function _g(r){return r.nodeType===9?r:r.ownerDocument}function yx(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function wx(r,o){if(r===0)switch(o){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&o==="foreignObject"?0:r}function Ww(r,o){return r==="textarea"||r==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.children=="bigint"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var Kw=null;function C$(){var r=window.event;return r&&r.type==="popstate"?r===Kw?!1:(Kw=r,!0):(Kw=null,!1)}var bx=typeof setTimeout=="function"?setTimeout:void 0,S$=typeof clearTimeout=="function"?clearTimeout:void 0,vx=typeof Promise=="function"?Promise:void 0,x$=typeof queueMicrotask=="function"?queueMicrotask:typeof vx<"u"?function(r){return vx.resolve(null).then(r).catch(N$)}:bx;function N$(r){setTimeout(function(){throw r})}function ta(r){return r==="head"}function Ex(r,o){var l=o,d=0;do{var m=l.nextSibling;if(r.removeChild(l),m&&m.nodeType===8)if(l=m.data,l==="/$"||l==="/&"){if(d===0){r.removeChild(m),nu(o);return}d--}else if(l==="$"||l==="$?"||l==="$~"||l==="$!"||l==="&")d++;else if(l==="html")od(r.ownerDocument.documentElement);else if(l==="head"){l=r.ownerDocument.head,od(l);for(var w=l.firstChild;w;){var C=w.nextSibling,O=w.nodeName;w[Ya]||O==="SCRIPT"||O==="STYLE"||O==="LINK"&&w.rel.toLowerCase()==="stylesheet"||l.removeChild(w),w=C}}else l==="body"&&od(r.ownerDocument.body);l=m}while(l);nu(o)}function Ax(r,o){var l=r;r=0;do{var d=l.nextSibling;if(l.nodeType===1?o?(l._stashedDisplay=l.style.display,l.style.display="none"):(l.style.display=l._stashedDisplay||"",l.getAttribute("style")===""&&l.removeAttribute("style")):l.nodeType===3&&(o?(l._stashedText=l.nodeValue,l.nodeValue=""):l.nodeValue=l._stashedText||""),d&&d.nodeType===8)if(l=d.data,l==="/$"){if(r===0)break;r--}else l!=="$"&&l!=="$?"&&l!=="$~"&&l!=="$!"||r++;l=d}while(l)}function Gw(r){var o=r.firstChild;for(o&&o.nodeType===10&&(o=o.nextSibling);o;){var l=o;switch(o=o.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":Gw(l),vf(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}r.removeChild(l)}}function T$(r,o,l,d){for(;r.nodeType===1;){var m=l;if(r.nodeName.toLowerCase()!==o.toLowerCase()){if(!d&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(d){if(!r[Ya])switch(o){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(w=r.getAttribute("rel"),w==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(w!==m.rel||r.getAttribute("href")!==(m.href==null||m.href===""?null:m.href)||r.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin)||r.getAttribute("title")!==(m.title==null?null:m.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(w=r.getAttribute("src"),(w!==(m.src==null?null:m.src)||r.getAttribute("type")!==(m.type==null?null:m.type)||r.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin))&&w&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(o==="input"&&r.type==="hidden"){var w=m.name==null?null:""+m.name;if(m.type==="hidden"&&r.getAttribute("name")===w)return r}else return r;if(r=li(r.nextSibling),r===null)break}return null}function _$(r,o,l){if(o==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!l||(r=li(r.nextSibling),r===null))return null;return r}function Cx(r,o){for(;r.nodeType!==8;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!o||(r=li(r.nextSibling),r===null))return null;return r}function Yw(r){return r.data==="$?"||r.data==="$~"}function Xw(r){return r.data==="$!"||r.data==="$?"&&r.ownerDocument.readyState!=="loading"}function I$(r,o){var l=r.ownerDocument;if(r.data==="$~")r._reactRetry=o;else if(r.data!=="$?"||l.readyState!=="loading")o();else{var d=function(){o(),l.removeEventListener("DOMContentLoaded",d)};l.addEventListener("DOMContentLoaded",d),r._reactRetry=d}}function li(r){for(;r!=null;r=r.nextSibling){var o=r.nodeType;if(o===1||o===3)break;if(o===8){if(o=r.data,o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"||o==="F!"||o==="F")break;if(o==="/$"||o==="/&")return null}}return r}var Qw=null;function Sx(r){r=r.nextSibling;for(var o=0;r;){if(r.nodeType===8){var l=r.data;if(l==="/$"||l==="/&"){if(o===0)return li(r.nextSibling);o--}else l!=="$"&&l!=="$!"&&l!=="$?"&&l!=="$~"&&l!=="&"||o++}r=r.nextSibling}return null}function xx(r){r=r.previousSibling;for(var o=0;r;){if(r.nodeType===8){var l=r.data;if(l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"){if(o===0)return r;o--}else l!=="/$"&&l!=="/&"||o++}r=r.previousSibling}return null}function Nx(r,o,l){switch(o=_g(l),r){case"html":if(r=o.documentElement,!r)throw Error(s(452));return r;case"head":if(r=o.head,!r)throw Error(s(453));return r;case"body":if(r=o.body,!r)throw Error(s(454));return r;default:throw Error(s(451))}}function od(r){for(var o=r.attributes;o.length;)r.removeAttributeNode(o[0]);vf(r)}var ui=new Map,Tx=new Set;function Ig(r){return typeof r.getRootNode=="function"?r.getRootNode():r.nodeType===9?r:r.ownerDocument}var so=k.d;k.d={f:D$,r:O$,D:M$,C:R$,L:$$,m:U$,X:L$,S:P$,M:k$};function D$(){var r=so.f(),o=vg();return r||o}function O$(r){var o=$o(r);o!==null&&o.tag===5&&o.type==="form"?qC(o):so.r(r)}var Jl=typeof document>"u"?null:document;function _x(r,o,l){var d=Jl;if(d&&typeof o=="string"&&o){var m=as(o);m='link[rel="'+r+'"][href="'+m+'"]',typeof l=="string"&&(m+='[crossorigin="'+l+'"]'),Tx.has(m)||(Tx.add(m),r={rel:r,crossOrigin:l,href:o},d.querySelector(m)===null&&(o=d.createElement("link"),_n(o,"link",r),Zt(o),d.head.appendChild(o)))}}function M$(r){so.D(r),_x("dns-prefetch",r,null)}function R$(r,o){so.C(r,o),_x("preconnect",r,o)}function $$(r,o,l){so.L(r,o,l);var d=Jl;if(d&&r&&o){var m='link[rel="preload"][as="'+as(o)+'"]';o==="image"&&l&&l.imageSrcSet?(m+='[imagesrcset="'+as(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(m+='[imagesizes="'+as(l.imageSizes)+'"]')):m+='[href="'+as(r)+'"]';var w=m;switch(o){case"style":w=eu(r);break;case"script":w=tu(r)}ui.has(w)||(r=g({rel:"preload",href:o==="image"&&l&&l.imageSrcSet?void 0:r,as:o},l),ui.set(w,r),d.querySelector(m)!==null||o==="style"&&d.querySelector(ad(w))||o==="script"&&d.querySelector(cd(w))||(o=d.createElement("link"),_n(o,"link",r),Zt(o),d.head.appendChild(o)))}}function U$(r,o){so.m(r,o);var l=Jl;if(l&&r){var d=o&&typeof o.as=="string"?o.as:"script",m='link[rel="modulepreload"][as="'+as(d)+'"][href="'+as(r)+'"]',w=m;switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":w=tu(r)}if(!ui.has(w)&&(r=g({rel:"modulepreload",href:r},o),ui.set(w,r),l.querySelector(m)===null)){switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(cd(w)))return}d=l.createElement("link"),_n(d,"link",r),Zt(d),l.head.appendChild(d)}}}function P$(r,o,l){so.S(r,o,l);var d=Jl;if(d&&r){var m=Uo(d).hoistableStyles,w=eu(r);o=o||"default";var C=m.get(w);if(!C){var O={loading:0,preload:null};if(C=d.querySelector(ad(w)))O.loading=5;else{r=g({rel:"stylesheet",href:r,"data-precedence":o},l),(l=ui.get(w))&&Zw(r,l);var j=C=d.createElement("link");Zt(j),_n(j,"link",r),j._p=new Promise(function(J,oe){j.onload=J,j.onerror=oe}),j.addEventListener("load",function(){O.loading|=1}),j.addEventListener("error",function(){O.loading|=2}),O.loading|=4,Dg(C,o,d)}C={type:"stylesheet",instance:C,count:1,state:O},m.set(w,C)}}}function L$(r,o){so.X(r,o);var l=Jl;if(l&&r){var d=Uo(l).hoistableScripts,m=tu(r),w=d.get(m);w||(w=l.querySelector(cd(m)),w||(r=g({src:r,async:!0},o),(o=ui.get(m))&&Jw(r,o),w=l.createElement("script"),Zt(w),_n(w,"link",r),l.head.appendChild(w)),w={type:"script",instance:w,count:1,state:null},d.set(m,w))}}function k$(r,o){so.M(r,o);var l=Jl;if(l&&r){var d=Uo(l).hoistableScripts,m=tu(r),w=d.get(m);w||(w=l.querySelector(cd(m)),w||(r=g({src:r,async:!0,type:"module"},o),(o=ui.get(m))&&Jw(r,o),w=l.createElement("script"),Zt(w),_n(w,"link",r),l.head.appendChild(w)),w={type:"script",instance:w,count:1,state:null},d.set(m,w))}}function Ix(r,o,l,d){var m=(m=pe.current)?Ig(m):null;if(!m)throw Error(s(446));switch(r){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(o=eu(l.href),l=Uo(m).hoistableStyles,d=l.get(o),d||(d={type:"style",instance:null,count:0,state:null},l.set(o,d)),d):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){r=eu(l.href);var w=Uo(m).hoistableStyles,C=w.get(r);if(C||(m=m.ownerDocument||m,C={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},w.set(r,C),(w=m.querySelector(ad(r)))&&!w._p&&(C.instance=w,C.state.loading=5),ui.has(r)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},ui.set(r,l),w||B$(m,r,l,C.state))),o&&d===null)throw Error(s(528,""));return C}if(o&&d!==null)throw Error(s(529,""));return null;case"script":return o=l.async,l=l.src,typeof l=="string"&&o&&typeof o!="function"&&typeof o!="symbol"?(o=tu(l),l=Uo(m).hoistableScripts,d=l.get(o),d||(d={type:"script",instance:null,count:0,state:null},l.set(o,d)),d):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,r))}}function eu(r){return'href="'+as(r)+'"'}function ad(r){return'link[rel="stylesheet"]['+r+"]"}function Dx(r){return g({},r,{"data-precedence":r.precedence,precedence:null})}function B$(r,o,l,d){r.querySelector('link[rel="preload"][as="style"]['+o+"]")?d.loading=1:(o=r.createElement("link"),d.preload=o,o.addEventListener("load",function(){return d.loading|=1}),o.addEventListener("error",function(){return d.loading|=2}),_n(o,"link",l),Zt(o),r.head.appendChild(o))}function tu(r){return'[src="'+as(r)+'"]'}function cd(r){return"script[async]"+r}function Ox(r,o,l){if(o.count++,o.instance===null)switch(o.type){case"style":var d=r.querySelector('style[data-href~="'+as(l.href)+'"]');if(d)return o.instance=d,Zt(d),d;var m=g({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return d=(r.ownerDocument||r).createElement("style"),Zt(d),_n(d,"style",m),Dg(d,l.precedence,r),o.instance=d;case"stylesheet":m=eu(l.href);var w=r.querySelector(ad(m));if(w)return o.state.loading|=4,o.instance=w,Zt(w),w;d=Dx(l),(m=ui.get(m))&&Zw(d,m),w=(r.ownerDocument||r).createElement("link"),Zt(w);var C=w;return C._p=new Promise(function(O,j){C.onload=O,C.onerror=j}),_n(w,"link",d),o.state.loading|=4,Dg(w,l.precedence,r),o.instance=w;case"script":return w=tu(l.src),(m=r.querySelector(cd(w)))?(o.instance=m,Zt(m),m):(d=l,(m=ui.get(w))&&(d=g({},l),Jw(d,m)),r=r.ownerDocument||r,m=r.createElement("script"),Zt(m),_n(m,"link",d),r.head.appendChild(m),o.instance=m);case"void":return null;default:throw Error(s(443,o.type))}else o.type==="stylesheet"&&(o.state.loading&4)===0&&(d=o.instance,o.state.loading|=4,Dg(d,l.precedence,r));return o.instance}function Dg(r,o,l){for(var d=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),m=d.length?d[d.length-1]:null,w=m,C=0;C<d.length;C++){var O=d[C];if(O.dataset.precedence===o)w=O;else if(w!==m)break}w?w.parentNode.insertBefore(r,w.nextSibling):(o=l.nodeType===9?l.head:l,o.insertBefore(r,o.firstChild))}function Zw(r,o){r.crossOrigin==null&&(r.crossOrigin=o.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=o.referrerPolicy),r.title==null&&(r.title=o.title)}function Jw(r,o){r.crossOrigin==null&&(r.crossOrigin=o.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=o.referrerPolicy),r.integrity==null&&(r.integrity=o.integrity)}var Og=null;function Mx(r,o,l){if(Og===null){var d=new Map,m=Og=new Map;m.set(l,d)}else m=Og,d=m.get(l),d||(d=new Map,m.set(l,d));if(d.has(r))return d;for(d.set(r,null),l=l.getElementsByTagName(r),m=0;m<l.length;m++){var w=l[m];if(!(w[Ya]||w[an]||r==="link"&&w.getAttribute("rel")==="stylesheet")&&w.namespaceURI!=="http://www.w3.org/2000/svg"){var C=w.getAttribute(o)||"";C=r+C;var O=d.get(C);O?O.push(w):d.set(C,[w])}}return d}function Rx(r,o,l){r=r.ownerDocument||r,r.head.insertBefore(l,o==="title"?r.querySelector("head > title"):null)}function j$(r,o,l){if(l===1||o.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof o.precedence!="string"||typeof o.href!="string"||o.href==="")break;return!0;case"link":if(typeof o.rel!="string"||typeof o.href!="string"||o.href===""||o.onLoad||o.onError)break;switch(o.rel){case"stylesheet":return r=o.disabled,typeof o.precedence=="string"&&r==null;default:return!0}case"script":if(o.async&&typeof o.async!="function"&&typeof o.async!="symbol"&&!o.onLoad&&!o.onError&&o.src&&typeof o.src=="string")return!0}return!1}function $x(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}function z$(r,o,l,d){if(l.type==="stylesheet"&&(typeof d.media!="string"||matchMedia(d.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var m=eu(d.href),w=o.querySelector(ad(m));if(w){o=w._p,o!==null&&typeof o=="object"&&typeof o.then=="function"&&(r.count++,r=Mg.bind(r),o.then(r,r)),l.state.loading|=4,l.instance=w,Zt(w);return}w=o.ownerDocument||o,d=Dx(d),(m=ui.get(m))&&Zw(d,m),w=w.createElement("link"),Zt(w);var C=w;C._p=new Promise(function(O,j){C.onload=O,C.onerror=j}),_n(w,"link",d),l.instance=w}r.stylesheets===null&&(r.stylesheets=new Map),r.stylesheets.set(l,o),(o=l.state.preload)&&(l.state.loading&3)===0&&(r.count++,l=Mg.bind(r),o.addEventListener("load",l),o.addEventListener("error",l))}}var e1=0;function H$(r,o){return r.stylesheets&&r.count===0&&$g(r,r.stylesheets),0<r.count||0<r.imgCount?function(l){var d=setTimeout(function(){if(r.stylesheets&&$g(r,r.stylesheets),r.unsuspend){var w=r.unsuspend;r.unsuspend=null,w()}},6e4+o);0<r.imgBytes&&e1===0&&(e1=62500*A$());var m=setTimeout(function(){if(r.waitingForImages=!1,r.count===0&&(r.stylesheets&&$g(r,r.stylesheets),r.unsuspend)){var w=r.unsuspend;r.unsuspend=null,w()}},(r.imgBytes>e1?50:800)+o);return r.unsuspend=l,function(){r.unsuspend=null,clearTimeout(d),clearTimeout(m)}}:null}function Mg(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)$g(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var Rg=null;function $g(r,o){r.stylesheets=null,r.unsuspend!==null&&(r.count++,Rg=new Map,o.forEach(F$,r),Rg=null,Mg.call(r))}function F$(r,o){if(!(o.state.loading&4)){var l=Rg.get(r);if(l)var d=l.get(null);else{l=new Map,Rg.set(r,l);for(var m=r.querySelectorAll("link[data-precedence],style[data-precedence]"),w=0;w<m.length;w++){var C=m[w];(C.nodeName==="LINK"||C.getAttribute("media")!=="not all")&&(l.set(C.dataset.precedence,C),d=C)}d&&l.set(null,d)}m=o.instance,C=m.getAttribute("data-precedence"),w=l.get(C)||d,w===d&&l.set(null,m),l.set(C,m),this.count++,d=Mg.bind(this),m.addEventListener("load",d),m.addEventListener("error",d),w?w.parentNode.insertBefore(m,w.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(m,r.firstChild)),o.state.loading|=4}}var ld={$$typeof:S,Provider:null,Consumer:null,_currentValue:H,_currentValue2:H,_threadCount:0};function q$(r,o,l,d,m,w,C,O,j){this.tag=1,this.containerInfo=r,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ml(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ml(0),this.hiddenUpdates=ml(null),this.identifierPrefix=d,this.onUncaughtError=m,this.onCaughtError=w,this.onRecoverableError=C,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=j,this.incompleteTransitions=new Map}function Ux(r,o,l,d,m,w,C,O,j,J,oe,ce){return r=new q$(r,o,l,C,j,J,oe,ce,O),o=1,w===!0&&(o|=24),w=$s(3,null,null,o),r.current=w,w.stateNode=r,o=Ry(),o.refCount++,r.pooledCache=o,o.refCount++,w.memoizedState={element:d,isDehydrated:l,cache:o},Ly(w),r}function Px(r){return r?(r=Ml,r):Ml}function Lx(r,o,l,d,m,w){m=Px(m),d.context===null?d.context=m:d.pendingContext=m,d=qo(o),d.payload={element:l},w=w===void 0?null:w,w!==null&&(d.callback=w),l=Vo(r,d,o),l!==null&&(ds(l,r,o),zf(l,r,o))}function kx(r,o){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var l=r.retryLane;r.retryLane=l!==0&&l<o?l:o}}function t1(r,o){kx(r,o),(r=r.alternate)&&kx(r,o)}function Bx(r){if(r.tag===13||r.tag===31){var o=sc(r,67108864);o!==null&&ds(o,r,67108864),t1(r,67108864)}}function jx(r){if(r.tag===13||r.tag===31){var o=Bs();o=wf(o);var l=sc(r,o);l!==null&&ds(l,r,o),t1(r,o)}}var Ug=!0;function V$(r,o,l,d){var m=_.T;_.T=null;var w=k.p;try{k.p=2,n1(r,o,l,d)}finally{k.p=w,_.T=m}}function W$(r,o,l,d){var m=_.T;_.T=null;var w=k.p;try{k.p=8,n1(r,o,l,d)}finally{k.p=w,_.T=m}}function n1(r,o,l,d){if(Ug){var m=s1(d);if(m===null)Hw(r,o,d,Pg,l),Hx(r,d);else if(G$(m,r,o,l,d))d.stopPropagation();else if(Hx(r,d),o&4&&-1<K$.indexOf(r)){for(;m!==null;){var w=$o(m);if(w!==null)switch(w.tag){case 3:if(w=w.stateNode,w.current.memoizedState.isDehydrated){var C=Lr(w.pendingLanes);if(C!==0){var O=w;for(O.pendingLanes|=2,O.entangledLanes|=2;C;){var j=1<<31-Zn(C);O.entanglements[1]|=j,C&=~j}lr(w),(ut&6)===0&&(wg=Mt()+500,sd(0))}}break;case 31:case 13:O=sc(w,2),O!==null&&ds(O,w,2),vg(),t1(w,2)}if(w=s1(d),w===null&&Hw(r,o,d,Pg,l),w===m)break;m=w}m!==null&&d.stopPropagation()}else Hw(r,o,d,null,l)}}function s1(r){return r=Nf(r),i1(r)}var Pg=null;function i1(r){if(Pg=null,r=Ms(r),r!==null){var o=a(r);if(o===null)r=null;else{var l=o.tag;if(l===13){if(r=c(o),r!==null)return r;r=null}else if(l===31){if(r=u(o),r!==null)return r;r=null}else if(l===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;r=null}else o!==r&&(r=null)}}return Pg=r,null}function zx(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ur()){case qa:return 2;case Va:return 8;case Pr:case hl:return 32;case pl:return 268435456;default:return 32}default:return 32}}var r1=!1,na=null,sa=null,ia=null,ud=new Map,fd=new Map,ra=[],K$="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Hx(r,o){switch(r){case"focusin":case"focusout":na=null;break;case"dragenter":case"dragleave":sa=null;break;case"mouseover":case"mouseout":ia=null;break;case"pointerover":case"pointerout":ud.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":fd.delete(o.pointerId)}}function dd(r,o,l,d,m,w){return r===null||r.nativeEvent!==w?(r={blockedOn:o,domEventName:l,eventSystemFlags:d,nativeEvent:w,targetContainers:[m]},o!==null&&(o=$o(o),o!==null&&Bx(o)),r):(r.eventSystemFlags|=d,o=r.targetContainers,m!==null&&o.indexOf(m)===-1&&o.push(m),r)}function G$(r,o,l,d,m){switch(o){case"focusin":return na=dd(na,r,o,l,d,m),!0;case"dragenter":return sa=dd(sa,r,o,l,d,m),!0;case"mouseover":return ia=dd(ia,r,o,l,d,m),!0;case"pointerover":var w=m.pointerId;return ud.set(w,dd(ud.get(w)||null,r,o,l,d,m)),!0;case"gotpointercapture":return w=m.pointerId,fd.set(w,dd(fd.get(w)||null,r,o,l,d,m)),!0}return!1}function Fx(r){var o=Ms(r.target);if(o!==null){var l=a(o);if(l!==null){if(o=l.tag,o===13){if(o=c(l),o!==null){r.blockedOn=o,Ip(r.priority,function(){jx(l)});return}}else if(o===31){if(o=u(l),o!==null){r.blockedOn=o,Ip(r.priority,function(){jx(l)});return}}else if(o===3&&l.stateNode.current.memoizedState.isDehydrated){r.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}r.blockedOn=null}function Lg(r){if(r.blockedOn!==null)return!1;for(var o=r.targetContainers;0<o.length;){var l=s1(r.nativeEvent);if(l===null){l=r.nativeEvent;var d=new l.constructor(l.type,l);$i=d,l.target.dispatchEvent(d),$i=null}else return o=$o(l),o!==null&&Bx(o),r.blockedOn=l,!1;o.shift()}return!0}function qx(r,o,l){Lg(r)&&l.delete(o)}function Y$(){r1=!1,na!==null&&Lg(na)&&(na=null),sa!==null&&Lg(sa)&&(sa=null),ia!==null&&Lg(ia)&&(ia=null),ud.forEach(qx),fd.forEach(qx)}function kg(r,o){r.blockedOn===o&&(r.blockedOn=null,r1||(r1=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,Y$)))}var Bg=null;function Vx(r){Bg!==r&&(Bg=r,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Bg===r&&(Bg=null);for(var o=0;o<r.length;o+=3){var l=r[o],d=r[o+1],m=r[o+2];if(typeof d!="function"){if(i1(d||l)===null)continue;break}var w=$o(l);w!==null&&(r.splice(o,3),o-=3,sw(w,{pending:!0,data:m,method:l.method,action:d},d,m))}}))}function nu(r){function o(j){return kg(j,r)}na!==null&&kg(na,r),sa!==null&&kg(sa,r),ia!==null&&kg(ia,r),ud.forEach(o),fd.forEach(o);for(var l=0;l<ra.length;l++){var d=ra[l];d.blockedOn===r&&(d.blockedOn=null)}for(;0<ra.length&&(l=ra[0],l.blockedOn===null);)Fx(l),l.blockedOn===null&&ra.shift();if(l=(r.ownerDocument||r).$$reactFormReplay,l!=null)for(d=0;d<l.length;d+=3){var m=l[d],w=l[d+1],C=m[zn]||null;if(typeof w=="function")C||Vx(l);else if(C){var O=null;if(w&&w.hasAttribute("formAction")){if(m=w,C=w[zn]||null)O=C.formAction;else if(i1(m)!==null)continue}else O=C.action;typeof O=="function"?l[d+1]=O:(l.splice(d,3),d-=3),Vx(l)}}}function Wx(){function r(w){w.canIntercept&&w.info==="react-transition"&&w.intercept({handler:function(){return new Promise(function(C){return m=C})},focusReset:"manual",scroll:"manual"})}function o(){m!==null&&(m(),m=null),d||setTimeout(l,20)}function l(){if(!d&&!navigation.transition){var w=navigation.currentEntry;w&&w.url!=null&&navigation.navigate(w.url,{state:w.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var d=!1,m=null;return navigation.addEventListener("navigate",r),navigation.addEventListener("navigatesuccess",o),navigation.addEventListener("navigateerror",o),setTimeout(l,100),function(){d=!0,navigation.removeEventListener("navigate",r),navigation.removeEventListener("navigatesuccess",o),navigation.removeEventListener("navigateerror",o),m!==null&&(m(),m=null)}}}function o1(r){this._internalRoot=r}jg.prototype.render=o1.prototype.render=function(r){var o=this._internalRoot;if(o===null)throw Error(s(409));var l=o.current,d=Bs();Lx(l,d,r,o,null,null)},jg.prototype.unmount=o1.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var o=r.containerInfo;Lx(r.current,2,null,r,null,null),vg(),o[Ro]=null}};function jg(r){this._internalRoot=r}jg.prototype.unstable_scheduleHydration=function(r){if(r){var o=ei();r={blockedOn:null,target:r,priority:o};for(var l=0;l<ra.length&&o!==0&&o<ra[l].priority;l++);ra.splice(l,0,r),l===0&&Fx(r)}};var Kx=e.version;if(Kx!=="19.2.0")throw Error(s(527,Kx,"19.2.0"));k.findDOMNode=function(r){var o=r._reactInternals;if(o===void 0)throw typeof r.render=="function"?Error(s(188)):(r=Object.keys(r).join(","),Error(s(268,r)));return r=h(o),r=r!==null?p(r):null,r=r===null?null:r.stateNode,r};var X$={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:_,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var zg=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!zg.isDisabled&&zg.supportsFiber)try{Wa=zg.inject(X$),jn=zg}catch{}}return pd.createRoot=function(r,o){if(!i(r))throw Error(s(299));var l=!1,d="",m=eS,w=tS,C=nS;return o!=null&&(o.unstable_strictMode===!0&&(l=!0),o.identifierPrefix!==void 0&&(d=o.identifierPrefix),o.onUncaughtError!==void 0&&(m=o.onUncaughtError),o.onCaughtError!==void 0&&(w=o.onCaughtError),o.onRecoverableError!==void 0&&(C=o.onRecoverableError)),o=Ux(r,1,!1,null,null,l,d,null,m,w,C,Wx),r[Ro]=o.current,zw(r),new o1(o)},pd.hydrateRoot=function(r,o,l){if(!i(r))throw Error(s(299));var d=!1,m="",w=eS,C=tS,O=nS,j=null;return l!=null&&(l.unstable_strictMode===!0&&(d=!0),l.identifierPrefix!==void 0&&(m=l.identifierPrefix),l.onUncaughtError!==void 0&&(w=l.onUncaughtError),l.onCaughtError!==void 0&&(C=l.onCaughtError),l.onRecoverableError!==void 0&&(O=l.onRecoverableError),l.formState!==void 0&&(j=l.formState)),o=Ux(r,1,!0,o,l??null,d,m,j,w,C,O,Wx),o.context=Px(null),l=o.current,d=Bs(),d=wf(d),m=qo(d),m.callback=null,Vo(l,m,d),l=d,o.current.lanes=l,Mo(o,l),lr(o),r[Ro]=o.current,zw(r),new jg(o)},pd.version="19.2.0",pd}var s3;function aU(){if(s3)return l1.exports;s3=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),l1.exports=oU(),l1.exports}var cU=aU();const lU=np(cU),aI=me.createContext(),tf=()=>{const t=me.useContext(aI);if(!t)throw new Error("useGame must be used within GameProvider");return t},uU=({children:t})=>{const[e,n]=me.useState(!1),[s,i]=me.useState(""),[a,c]=me.useState(0),[u,f]=me.useState(0),[h,p]=me.useState(0),[g,y]=me.useState(1),[b,v]=me.useState(0),[E,A]=me.useState([]),[x,D]=me.useState(!1),[S,N]=me.useState([]);me.useEffect(()=>{const F=localStorage.getItem("blockQuestData");if(F){const ee=JSON.parse(F);c(ee.coins||0),f(ee.crystals||0),p(ee.traps||0),y(ee.level||1),v(ee.xp||0),A(ee.minedBlocks||[]),D(ee.questPassMinted||!1),N(ee.questBadges||[])}},[]),me.useEffect(()=>{const F={coins:a,crystals:u,traps:h,level:g,xp:b,minedBlocks:E,questPassMinted:x,questBadges:S};localStorage.setItem("blockQuestData",JSON.stringify(F))},[a,u,h,g,b,E,x,S]);const q={walletConnected:e,walletAddress:s,coins:a,crystals:u,traps:h,level:g,xp:b,minedBlocks:E,questPassMinted:x,questBadges:S,mineBlock:F=>{if(E.includes(F))return null;const ee=Math.random();let Q,R=0;ee<.6?(Q="coin",c(H=>H+10),R=10):ee<.8?(Q="crystal",f(H=>H+1),R=50):ee<.95?(Q="empty",R=5):(Q="trap",p(H=>H+1),R=-20),A(H=>[...H,F]);const _=Math.max(0,b+R);v(_);const k=g*500;return _>=k?(y(H=>H+1),v(0),{result:Q,levelUp:!0,newLevel:g+1}):{result:Q,levelUp:!1}},resetGame:()=>{c(0),f(0),p(0),y(1),v(0),A([]),localStorage.removeItem("blockQuestData")},connectWallet:F=>{n(!0),i(F)},disconnectWallet:()=>{n(!1),i("")},mintQuestPass:()=>{D(!0)},mintQuestBadge:F=>{N(ee=>[...ee,{level:F,timestamp:Date.now()}])}};return X.jsx(aI.Provider,{value:q,children:t})},_2=me.createContext({});function I2(t){const e=me.useRef(null);return e.current===null&&(e.current=t()),e.current}const D2=typeof window<"u",cI=D2?me.useLayoutEffect:me.useEffect,Cm=me.createContext(null);function O2(t,e){t.indexOf(e)===-1&&t.push(e)}function M2(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const Ao=(t,e,n)=>n>e?e:n<t?t:n;let R2=()=>{};const Co={},lI=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function uI(t){return typeof t=="object"&&t!==null}const fI=t=>/^0[^.\s]+$/u.test(t);function $2(t){let e;return()=>(e===void 0&&(e=t()),e)}const Si=t=>t,fU=(t,e)=>n=>e(t(n)),sp=(...t)=>t.reduce(fU),hh=(t,e,n)=>{const s=e-t;return s===0?1:(n-t)/s};class U2{constructor(){this.subscriptions=[]}add(e){return O2(this.subscriptions,e),()=>M2(this.subscriptions,e)}notify(e,n,s){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,s);else for(let a=0;a<i;a++){const c=this.subscriptions[a];c&&c(e,n,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Sr=t=>t*1e3,Ai=t=>t/1e3;function dI(t,e){return e?t*(1e3/e):0}const hI=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,dU=1e-7,hU=12;function pU(t,e,n,s,i){let a,c,u=0;do c=e+(n-e)/2,a=hI(c,s,i)-t,a>0?n=c:e=c;while(Math.abs(a)>dU&&++u<hU);return c}function ip(t,e,n,s){if(t===e&&n===s)return Si;const i=a=>pU(a,0,1,t,n);return a=>a===0||a===1?a:hI(i(a),e,s)}const pI=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,gI=t=>e=>1-t(1-e),mI=ip(.33,1.53,.69,.99),P2=gI(mI),yI=pI(P2),wI=t=>(t*=2)<1?.5*P2(t):.5*(2-Math.pow(2,-10*(t-1))),L2=t=>1-Math.sin(Math.acos(t)),bI=gI(L2),vI=pI(L2),gU=ip(.42,0,1,1),mU=ip(0,0,.58,1),EI=ip(.42,0,.58,1),yU=t=>Array.isArray(t)&&typeof t[0]!="number",AI=t=>Array.isArray(t)&&typeof t[0]=="number",wU={linear:Si,easeIn:gU,easeInOut:EI,easeOut:mU,circIn:L2,circInOut:vI,circOut:bI,backIn:P2,backInOut:yI,backOut:mI,anticipate:wI},bU=t=>typeof t=="string",i3=t=>{if(AI(t)){R2(t.length===4);const[e,n,s,i]=t;return ip(e,n,s,i)}else if(bU(t))return wU[t];return t},Hg=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function vU(t,e){let n=new Set,s=new Set,i=!1,a=!1;const c=new WeakSet;let u={delta:0,timestamp:0,isProcessing:!1};function f(p){c.has(p)&&(h.schedule(p),t()),p(u)}const h={schedule:(p,g=!1,y=!1)=>{const v=y&&i?n:s;return g&&c.add(p),v.has(p)||v.add(p),p},cancel:p=>{s.delete(p),c.delete(p)},process:p=>{if(u=p,i){a=!0;return}i=!0,[n,s]=[s,n],n.forEach(f),n.clear(),i=!1,a&&(a=!1,h.process(p))}};return h}const EU=40;function CI(t,e){let n=!1,s=!0;const i={delta:0,timestamp:0,isProcessing:!1},a=()=>n=!0,c=Hg.reduce((S,N)=>(S[N]=vU(a),S),{}),{setup:u,read:f,resolveKeyframes:h,preUpdate:p,update:g,preRender:y,render:b,postRender:v}=c,E=()=>{const S=Co.useManualTiming?i.timestamp:performance.now();n=!1,Co.useManualTiming||(i.delta=s?1e3/60:Math.max(Math.min(S-i.timestamp,EU),1)),i.timestamp=S,i.isProcessing=!0,u.process(i),f.process(i),h.process(i),p.process(i),g.process(i),y.process(i),b.process(i),v.process(i),i.isProcessing=!1,n&&e&&(s=!1,t(E))},A=()=>{n=!0,s=!0,i.isProcessing||t(E)};return{schedule:Hg.reduce((S,N)=>{const T=c[N];return S[N]=(I,$=!1,P=!1)=>(n||A(),T.schedule(I,$,P)),S},{}),cancel:S=>{for(let N=0;N<Hg.length;N++)c[Hg[N]].cancel(S)},state:i,steps:c}}const{schedule:zt,cancel:Pa,state:Mn,steps:h1}=CI(typeof requestAnimationFrame<"u"?requestAnimationFrame:Si,!0);let T0;function AU(){T0=void 0}const xs={now:()=>(T0===void 0&&xs.set(Mn.isProcessing||Co.useManualTiming?Mn.timestamp:performance.now()),T0),set:t=>{T0=t,queueMicrotask(AU)}},SI=t=>e=>typeof e=="string"&&e.startsWith(t),k2=SI("--"),CU=SI("var(--"),B2=t=>CU(t)?SU.test(t.split("/*")[0].trim()):!1,SU=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,nf={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},ph={...nf,transform:t=>Ao(0,1,t)},Fg={...nf,default:1},Wd=t=>Math.round(t*1e5)/1e5,j2=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function xU(t){return t==null}const NU=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,z2=(t,e)=>n=>!!(typeof n=="string"&&NU.test(n)&&n.startsWith(t)||e&&!xU(n)&&Object.prototype.hasOwnProperty.call(n,e)),xI=(t,e,n)=>s=>{if(typeof s!="string")return s;const[i,a,c,u]=s.match(j2);return{[t]:parseFloat(i),[e]:parseFloat(a),[n]:parseFloat(c),alpha:u!==void 0?parseFloat(u):1}},TU=t=>Ao(0,255,t),p1={...nf,transform:t=>Math.round(TU(t))},$c={test:z2("rgb","red"),parse:xI("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:s=1})=>"rgba("+p1.transform(t)+", "+p1.transform(e)+", "+p1.transform(n)+", "+Wd(ph.transform(s))+")"};function _U(t){let e="",n="",s="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),s=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),s=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,s+=s,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(s,16),alpha:i?parseInt(i,16)/255:1}}const qb={test:z2("#"),parse:_U,transform:$c.transform},rp=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Ea=rp("deg"),xr=rp("%"),Be=rp("px"),IU=rp("vh"),DU=rp("vw"),r3={...xr,parse:t=>xr.parse(t)/100,transform:t=>xr.transform(t*100)},_u={test:z2("hsl","hue"),parse:xI("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:s=1})=>"hsla("+Math.round(t)+", "+xr.transform(Wd(e))+", "+xr.transform(Wd(n))+", "+Wd(ph.transform(s))+")"},rn={test:t=>$c.test(t)||qb.test(t)||_u.test(t),parse:t=>$c.test(t)?$c.parse(t):_u.test(t)?_u.parse(t):qb.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?$c.transform(t):_u.transform(t),getAnimatableNone:t=>{const e=rn.parse(t);return e.alpha=0,rn.transform(e)}},OU=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function MU(t){return isNaN(t)&&typeof t=="string"&&(t.match(j2)?.length||0)+(t.match(OU)?.length||0)>0}const NI="number",TI="color",RU="var",$U="var(",o3="${}",UU=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function gh(t){const e=t.toString(),n=[],s={color:[],number:[],var:[]},i=[];let a=0;const u=e.replace(UU,f=>(rn.test(f)?(s.color.push(a),i.push(TI),n.push(rn.parse(f))):f.startsWith($U)?(s.var.push(a),i.push(RU),n.push(f)):(s.number.push(a),i.push(NI),n.push(parseFloat(f))),++a,o3)).split(o3);return{values:n,split:u,indexes:s,types:i}}function _I(t){return gh(t).values}function II(t){const{split:e,types:n}=gh(t),s=e.length;return i=>{let a="";for(let c=0;c<s;c++)if(a+=e[c],i[c]!==void 0){const u=n[c];u===NI?a+=Wd(i[c]):u===TI?a+=rn.transform(i[c]):a+=i[c]}return a}}const PU=t=>typeof t=="number"?0:rn.test(t)?rn.getAnimatableNone(t):t;function LU(t){const e=_I(t);return II(t)(e.map(PU))}const La={test:MU,parse:_I,createTransformer:II,getAnimatableNone:LU};function g1(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function kU({hue:t,saturation:e,lightness:n,alpha:s}){t/=360,e/=100,n/=100;let i=0,a=0,c=0;if(!e)i=a=c=n;else{const u=n<.5?n*(1+e):n+e-n*e,f=2*n-u;i=g1(f,u,t+1/3),a=g1(f,u,t),c=g1(f,u,t-1/3)}return{red:Math.round(i*255),green:Math.round(a*255),blue:Math.round(c*255),alpha:s}}function V0(t,e){return n=>n>0?e:t}const Ht=(t,e,n)=>t+(e-t)*n,m1=(t,e,n)=>{const s=t*t,i=n*(e*e-s)+s;return i<0?0:Math.sqrt(i)},BU=[qb,$c,_u],jU=t=>BU.find(e=>e.test(t));function a3(t){const e=jU(t);if(!e)return!1;let n=e.parse(t);return e===_u&&(n=kU(n)),n}const c3=(t,e)=>{const n=a3(t),s=a3(e);if(!n||!s)return V0(t,e);const i={...n};return a=>(i.red=m1(n.red,s.red,a),i.green=m1(n.green,s.green,a),i.blue=m1(n.blue,s.blue,a),i.alpha=Ht(n.alpha,s.alpha,a),$c.transform(i))},Vb=new Set(["none","hidden"]);function zU(t,e){return Vb.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function HU(t,e){return n=>Ht(t,e,n)}function H2(t){return typeof t=="number"?HU:typeof t=="string"?B2(t)?V0:rn.test(t)?c3:VU:Array.isArray(t)?DI:typeof t=="object"?rn.test(t)?c3:FU:V0}function DI(t,e){const n=[...t],s=n.length,i=t.map((a,c)=>H2(a)(a,e[c]));return a=>{for(let c=0;c<s;c++)n[c]=i[c](a);return n}}function FU(t,e){const n={...t,...e},s={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(s[i]=H2(t[i])(t[i],e[i]));return i=>{for(const a in s)n[a]=s[a](i);return n}}function qU(t,e){const n=[],s={color:0,var:0,number:0};for(let i=0;i<e.values.length;i++){const a=e.types[i],c=t.indexes[a][s[a]],u=t.values[c]??0;n[i]=u,s[a]++}return n}const VU=(t,e)=>{const n=La.createTransformer(e),s=gh(t),i=gh(e);return s.indexes.var.length===i.indexes.var.length&&s.indexes.color.length===i.indexes.color.length&&s.indexes.number.length>=i.indexes.number.length?Vb.has(t)&&!i.values.length||Vb.has(e)&&!s.values.length?zU(t,e):sp(DI(qU(s,i),i.values),n):V0(t,e)};function OI(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?Ht(t,e,n):H2(t)(t,e)}const WU=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>zt.update(e,n),stop:()=>Pa(e),now:()=>Mn.isProcessing?Mn.timestamp:xs.now()}},MI=(t,e,n=10)=>{let s="";const i=Math.max(Math.round(e/n),2);for(let a=0;a<i;a++)s+=Math.round(t(a/(i-1))*1e4)/1e4+", ";return`linear(${s.substring(0,s.length-2)})`},W0=2e4;function F2(t){let e=0;const n=50;let s=t.next(e);for(;!s.done&&e<W0;)e+=n,s=t.next(e);return e>=W0?1/0:e}function KU(t,e=100,n){const s=n({...t,keyframes:[0,e]}),i=Math.min(F2(s),W0);return{type:"keyframes",ease:a=>s.next(i*a).value/e,duration:Ai(i)}}const GU=5;function RI(t,e,n){const s=Math.max(e-GU,0);return dI(n-t(s),e-s)}const Vt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},y1=.001;function YU({duration:t=Vt.duration,bounce:e=Vt.bounce,velocity:n=Vt.velocity,mass:s=Vt.mass}){let i,a,c=1-e;c=Ao(Vt.minDamping,Vt.maxDamping,c),t=Ao(Vt.minDuration,Vt.maxDuration,Ai(t)),c<1?(i=h=>{const p=h*c,g=p*t,y=p-n,b=Wb(h,c),v=Math.exp(-g);return y1-y/b*v},a=h=>{const g=h*c*t,y=g*n+n,b=Math.pow(c,2)*Math.pow(h,2)*t,v=Math.exp(-g),E=Wb(Math.pow(h,2),c);return(-i(h)+y1>0?-1:1)*((y-b)*v)/E}):(i=h=>{const p=Math.exp(-h*t),g=(h-n)*t+1;return-y1+p*g},a=h=>{const p=Math.exp(-h*t),g=(n-h)*(t*t);return p*g});const u=5/t,f=QU(i,a,u);if(t=Sr(t),isNaN(f))return{stiffness:Vt.stiffness,damping:Vt.damping,duration:t};{const h=Math.pow(f,2)*s;return{stiffness:h,damping:c*2*Math.sqrt(s*h),duration:t}}}const XU=12;function QU(t,e,n){let s=n;for(let i=1;i<XU;i++)s=s-t(s)/e(s);return s}function Wb(t,e){return t*Math.sqrt(1-e*e)}const ZU=["duration","bounce"],JU=["stiffness","damping","mass"];function l3(t,e){return e.some(n=>t[n]!==void 0)}function eP(t){let e={velocity:Vt.velocity,stiffness:Vt.stiffness,damping:Vt.damping,mass:Vt.mass,isResolvedFromDuration:!1,...t};if(!l3(t,JU)&&l3(t,ZU))if(t.visualDuration){const n=t.visualDuration,s=2*Math.PI/(n*1.2),i=s*s,a=2*Ao(.05,1,1-(t.bounce||0))*Math.sqrt(i);e={...e,mass:Vt.mass,stiffness:i,damping:a}}else{const n=YU(t);e={...e,...n,mass:Vt.mass},e.isResolvedFromDuration=!0}return e}function K0(t=Vt.visualDuration,e=Vt.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:s,restDelta:i}=n;const a=n.keyframes[0],c=n.keyframes[n.keyframes.length-1],u={done:!1,value:a},{stiffness:f,damping:h,mass:p,duration:g,velocity:y,isResolvedFromDuration:b}=eP({...n,velocity:-Ai(n.velocity||0)}),v=y||0,E=h/(2*Math.sqrt(f*p)),A=c-a,x=Ai(Math.sqrt(f/p)),D=Math.abs(A)<5;s||(s=D?Vt.restSpeed.granular:Vt.restSpeed.default),i||(i=D?Vt.restDelta.granular:Vt.restDelta.default);let S;if(E<1){const T=Wb(x,E);S=I=>{const $=Math.exp(-E*x*I);return c-$*((v+E*x*A)/T*Math.sin(T*I)+A*Math.cos(T*I))}}else if(E===1)S=T=>c-Math.exp(-x*T)*(A+(v+x*A)*T);else{const T=x*Math.sqrt(E*E-1);S=I=>{const $=Math.exp(-E*x*I),P=Math.min(T*I,300);return c-$*((v+E*x*A)*Math.sinh(P)+T*A*Math.cosh(P))/T}}const N={calculatedDuration:b&&g||null,next:T=>{const I=S(T);if(b)u.done=T>=g;else{let $=T===0?v:0;E<1&&($=T===0?Sr(v):RI(S,T,I));const P=Math.abs($)<=s,M=Math.abs(c-I)<=i;u.done=P&&M}return u.value=u.done?c:I,u},toString:()=>{const T=Math.min(F2(N),W0),I=MI($=>N.next(T*$).value,T,30);return T+"ms "+I},toTransition:()=>{}};return N}K0.applyToOptions=t=>{const e=KU(t,100,K0);return t.ease=e.ease,t.duration=Sr(e.duration),t.type="keyframes",t};function Kb({keyframes:t,velocity:e=0,power:n=.8,timeConstant:s=325,bounceDamping:i=10,bounceStiffness:a=500,modifyTarget:c,min:u,max:f,restDelta:h=.5,restSpeed:p}){const g=t[0],y={done:!1,value:g},b=P=>u!==void 0&&P<u||f!==void 0&&P>f,v=P=>u===void 0?f:f===void 0||Math.abs(u-P)<Math.abs(f-P)?u:f;let E=n*e;const A=g+E,x=c===void 0?A:c(A);x!==A&&(E=x-g);const D=P=>-E*Math.exp(-P/s),S=P=>x+D(P),N=P=>{const M=D(P),z=S(P);y.done=Math.abs(M)<=h,y.value=y.done?x:z};let T,I;const $=P=>{b(y.value)&&(T=P,I=K0({keyframes:[y.value,v(y.value)],velocity:RI(S,P,y.value),damping:i,stiffness:a,restDelta:h,restSpeed:p}))};return $(0),{calculatedDuration:null,next:P=>{let M=!1;return!I&&T===void 0&&(M=!0,N(P),$(P)),T!==void 0&&P>=T?I.next(P-T):(!M&&N(P),y)}}}function tP(t,e,n){const s=[],i=n||Co.mix||OI,a=t.length-1;for(let c=0;c<a;c++){let u=i(t[c],t[c+1]);if(e){const f=Array.isArray(e)?e[c]||Si:e;u=sp(f,u)}s.push(u)}return s}function nP(t,e,{clamp:n=!0,ease:s,mixer:i}={}){const a=t.length;if(R2(a===e.length),a===1)return()=>e[0];if(a===2&&e[0]===e[1])return()=>e[1];const c=t[0]===t[1];t[0]>t[a-1]&&(t=[...t].reverse(),e=[...e].reverse());const u=tP(e,s,i),f=u.length,h=p=>{if(c&&p<t[0])return e[0];let g=0;if(f>1)for(;g<t.length-2&&!(p<t[g+1]);g++);const y=hh(t[g],t[g+1],p);return u[g](y)};return n?p=>h(Ao(t[0],t[a-1],p)):h}function sP(t,e){const n=t[t.length-1];for(let s=1;s<=e;s++){const i=hh(0,e,s);t.push(Ht(n,1,i))}}function iP(t){const e=[0];return sP(e,t.length-1),e}function rP(t,e){return t.map(n=>n*e)}function oP(t,e){return t.map(()=>e||EI).splice(0,t.length-1)}function Kd({duration:t=300,keyframes:e,times:n,ease:s="easeInOut"}){const i=yU(s)?s.map(i3):i3(s),a={done:!1,value:e[0]},c=rP(n&&n.length===e.length?n:iP(e),t),u=nP(c,e,{ease:Array.isArray(i)?i:oP(e,i)});return{calculatedDuration:t,next:f=>(a.value=u(f),a.done=f>=t,a)}}const aP=t=>t!==null;function q2(t,{repeat:e,repeatType:n="loop"},s,i=1){const a=t.filter(aP),u=i<0||e&&n!=="loop"&&e%2===1?0:a.length-1;return!u||s===void 0?a[u]:s}const cP={decay:Kb,inertia:Kb,tween:Kd,keyframes:Kd,spring:K0};function $I(t){typeof t.type=="string"&&(t.type=cP[t.type])}class V2{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const lP=t=>t/100;class W2 extends V2{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;n&&n.updatedAt!==xs.now()&&this.tick(xs.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;$I(e);const{type:n=Kd,repeat:s=0,repeatDelay:i=0,repeatType:a,velocity:c=0}=e;let{keyframes:u}=e;const f=n||Kd;f!==Kd&&typeof u[0]!="number"&&(this.mixKeyframes=sp(lP,OI(u[0],u[1])),u=[0,100]);const h=f({...e,keyframes:u});a==="mirror"&&(this.mirroredGenerator=f({...e,keyframes:[...u].reverse(),velocity:-c})),h.calculatedDuration===null&&(h.calculatedDuration=F2(h));const{calculatedDuration:p}=h;this.calculatedDuration=p,this.resolvedDuration=p+i,this.totalDuration=this.resolvedDuration*(s+1)-i,this.generator=h}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:s,totalDuration:i,mixKeyframes:a,mirroredGenerator:c,resolvedDuration:u,calculatedDuration:f}=this;if(this.startTime===null)return s.next(0);const{delay:h=0,keyframes:p,repeat:g,repeatType:y,repeatDelay:b,type:v,onUpdate:E,finalKeyframe:A}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-i/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const x=this.currentTime-h*(this.playbackSpeed>=0?1:-1),D=this.playbackSpeed>=0?x<0:x>i;this.currentTime=Math.max(x,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=i);let S=this.currentTime,N=s;if(g){const P=Math.min(this.currentTime,i)/u;let M=Math.floor(P),z=P%1;!z&&P>=1&&(z=1),z===1&&M--,M=Math.min(M,g+1),!!(M%2)&&(y==="reverse"?(z=1-z,b&&(z-=b/u)):y==="mirror"&&(N=c)),S=Ao(0,1,z)*u}const T=D?{done:!1,value:p[0]}:N.next(S);a&&(T.value=a(T.value));let{done:I}=T;!D&&f!==null&&(I=this.playbackSpeed>=0?this.currentTime>=i:this.currentTime<=0);const $=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&I);return $&&v!==Kb&&(T.value=q2(p,this.options,A,this.speed)),E&&E(T.value),$&&this.finish(),T}then(e,n){return this.finished.then(e,n)}get duration(){return Ai(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Ai(e)}get time(){return Ai(this.currentTime)}set time(e){e=Sr(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(xs.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Ai(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=WU,startTime:n}=this.options;this.driver||(this.driver=e(i=>this.tick(i))),this.options.onPlay?.();const s=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=s):this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime||(this.startTime=n??s),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(xs.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function uP(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const Uc=t=>t*180/Math.PI,Gb=t=>{const e=Uc(Math.atan2(t[1],t[0]));return Yb(e)},fP={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:Gb,rotateZ:Gb,skewX:t=>Uc(Math.atan(t[1])),skewY:t=>Uc(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},Yb=t=>(t=t%360,t<0&&(t+=360),t),u3=Gb,f3=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),d3=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),dP={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:f3,scaleY:d3,scale:t=>(f3(t)+d3(t))/2,rotateX:t=>Yb(Uc(Math.atan2(t[6],t[5]))),rotateY:t=>Yb(Uc(Math.atan2(-t[2],t[0]))),rotateZ:u3,rotate:u3,skewX:t=>Uc(Math.atan(t[4])),skewY:t=>Uc(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function Xb(t){return t.includes("scale")?1:0}function Qb(t,e){if(!t||t==="none")return Xb(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let s,i;if(n)s=dP,i=n;else{const u=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);s=fP,i=u}if(!i)return Xb(e);const a=s[e],c=i[1].split(",").map(pP);return typeof a=="function"?a(c):c[a]}const hP=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return Qb(n,e)};function pP(t){return parseFloat(t.trim())}const sf=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],rf=new Set(sf),h3=t=>t===nf||t===Be,gP=new Set(["x","y","z"]),mP=sf.filter(t=>!gP.has(t));function yP(t){const e=[];return mP.forEach(n=>{const s=t.getValue(n);s!==void 0&&(e.push([n,s.get()]),s.set(n.startsWith("scale")?1:0))}),e}const Fc={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>Qb(e,"x"),y:(t,{transform:e})=>Qb(e,"y")};Fc.translateX=Fc.x;Fc.translateY=Fc.y;const qc=new Set;let Zb=!1,Jb=!1,ev=!1;function UI(){if(Jb){const t=Array.from(qc).filter(s=>s.needsMeasurement),e=new Set(t.map(s=>s.element)),n=new Map;e.forEach(s=>{const i=yP(s);i.length&&(n.set(s,i),s.render())}),t.forEach(s=>s.measureInitialState()),e.forEach(s=>{s.render();const i=n.get(s);i&&i.forEach(([a,c])=>{s.getValue(a)?.set(c)})}),t.forEach(s=>s.measureEndState()),t.forEach(s=>{s.suspendedScrollY!==void 0&&window.scrollTo(0,s.suspendedScrollY)})}Jb=!1,Zb=!1,qc.forEach(t=>t.complete(ev)),qc.clear()}function PI(){qc.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(Jb=!0)})}function wP(){ev=!0,PI(),UI(),ev=!1}class K2{constructor(e,n,s,i,a,c=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=s,this.motionValue=i,this.element=a,this.isAsync=c}scheduleResolve(){this.state="scheduled",this.isAsync?(qc.add(this),Zb||(Zb=!0,zt.read(PI),zt.resolveKeyframes(UI))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:s,motionValue:i}=this;if(e[0]===null){const a=i?.get(),c=e[e.length-1];if(a!==void 0)e[0]=a;else if(s&&n){const u=s.readValue(n,c);u!=null&&(e[0]=u)}e[0]===void 0&&(e[0]=c),i&&a===void 0&&i.set(e[0])}uP(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),qc.delete(this)}cancel(){this.state==="scheduled"&&(qc.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const bP=t=>t.startsWith("--");function vP(t,e,n){bP(e)?t.style.setProperty(e,n):t.style[e]=n}const EP=$2(()=>window.ScrollTimeline!==void 0),AP={};function CP(t,e){const n=$2(t);return()=>AP[e]??n()}const LI=CP(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),kd=([t,e,n,s])=>`cubic-bezier(${t}, ${e}, ${n}, ${s})`,p3={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:kd([0,.65,.55,1]),circOut:kd([.55,0,1,.45]),backIn:kd([.31,.01,.66,-.59]),backOut:kd([.33,1.53,.69,.99])};function kI(t,e){if(t)return typeof t=="function"?LI()?MI(t,e):"ease-out":AI(t)?kd(t):Array.isArray(t)?t.map(n=>kI(n,e)||p3.easeOut):p3[t]}function SP(t,e,n,{delay:s=0,duration:i=300,repeat:a=0,repeatType:c="loop",ease:u="easeOut",times:f}={},h=void 0){const p={[e]:n};f&&(p.offset=f);const g=kI(u,i);Array.isArray(g)&&(p.easing=g);const y={delay:s,duration:i,easing:Array.isArray(g)?"linear":g,fill:"both",iterations:a+1,direction:c==="reverse"?"alternate":"normal"};return h&&(y.pseudoElement=h),t.animate(p,y)}function BI(t){return typeof t=="function"&&"applyToOptions"in t}function xP({type:t,...e}){return BI(t)&&LI()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class NP extends V2{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:s,keyframes:i,pseudoElement:a,allowFlatten:c=!1,finalKeyframe:u,onComplete:f}=e;this.isPseudoElement=!!a,this.allowFlatten=c,this.options=e,R2(typeof e.type!="string");const h=xP(e);this.animation=SP(n,s,i,h,a),h.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!a){const p=q2(i,this.options,u,this.speed);this.updateMotionValue?this.updateMotionValue(p):vP(n,s,p),this.animation.cancel()}f?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return Ai(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Ai(e)}get time(){return Ai(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=Sr(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&EP()?(this.animation.timeline=e,Si):n(this)}}const jI={anticipate:wI,backInOut:yI,circInOut:vI};function TP(t){return t in jI}function _P(t){typeof t.ease=="string"&&TP(t.ease)&&(t.ease=jI[t.ease])}const g3=10;class IP extends NP{constructor(e){_P(e),$I(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:s,onComplete:i,element:a,...c}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const u=new W2({...c,autoplay:!1}),f=Sr(this.finishedTime??this.time);n.setWithVelocity(u.sample(f-g3).value,u.sample(f).value,g3),u.stop()}}const m3=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(La.test(t)||t==="0")&&!t.startsWith("url("));function DP(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function OP(t,e,n,s){const i=t[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const a=t[t.length-1],c=m3(i,e),u=m3(a,e);return!c||!u?!1:DP(t)||(n==="spring"||BI(n))&&s}function tv(t){t.duration=0,t.type="keyframes"}const MP=new Set(["opacity","clipPath","filter","transform"]),RP=$2(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function $P(t){const{motionValue:e,name:n,repeatDelay:s,repeatType:i,damping:a,type:c}=t;if(!(e?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:f,transformTemplate:h}=e.owner.getProps();return RP()&&n&&MP.has(n)&&(n!=="transform"||!h)&&!f&&!s&&i!=="mirror"&&a!==0&&c!=="inertia"}const UP=40;class PP extends V2{constructor({autoplay:e=!0,delay:n=0,type:s="keyframes",repeat:i=0,repeatDelay:a=0,repeatType:c="loop",keyframes:u,name:f,motionValue:h,element:p,...g}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=xs.now();const y={autoplay:e,delay:n,type:s,repeat:i,repeatDelay:a,repeatType:c,name:f,motionValue:h,element:p,...g},b=p?.KeyframeResolver||K2;this.keyframeResolver=new b(u,(v,E,A)=>this.onKeyframesResolved(v,E,y,!A),f,h,p),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,n,s,i){this.keyframeResolver=void 0;const{name:a,type:c,velocity:u,delay:f,isHandoff:h,onUpdate:p}=s;this.resolvedAt=xs.now(),OP(e,a,c,u)||((Co.instantAnimations||!f)&&p?.(q2(e,s,n)),e[0]=e[e.length-1],tv(s),s.repeat=0);const y={startTime:i?this.resolvedAt?this.resolvedAt-this.createdAt>UP?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...s,keyframes:e},b=!h&&$P(y)?new IP({...y,element:y.motionValue.owner.current}):new W2(y);b.finished.then(()=>this.notifyFinished()).catch(Si),this.pendingTimeline&&(this.stopTimeline=b.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=b}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),wP()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const LP=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function kP(t){const e=LP.exec(t);if(!e)return[,];const[,n,s,i]=e;return[`--${n??s}`,i]}function zI(t,e,n=1){const[s,i]=kP(t);if(!s)return;const a=window.getComputedStyle(e).getPropertyValue(s);if(a){const c=a.trim();return lI(c)?parseFloat(c):c}return B2(i)?zI(i,e,n+1):i}function G2(t,e){return t?.[e]??t?.default??t}const HI=new Set(["width","height","top","left","right","bottom",...sf]),BP={test:t=>t==="auto",parse:t=>t},FI=t=>e=>e.test(t),qI=[nf,Be,xr,Ea,DU,IU,BP],y3=t=>qI.find(FI(t));function jP(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||fI(t):!0}const zP=new Set(["brightness","contrast","saturate","opacity"]);function HP(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[s]=n.match(j2)||[];if(!s)return t;const i=n.replace(s,"");let a=zP.has(e)?1:0;return s!==n&&(a*=100),e+"("+a+i+")"}const FP=/\b([a-z-]*)\(.*?\)/gu,nv={...La,getAnimatableNone:t=>{const e=t.match(FP);return e?e.map(HP).join(" "):t}},w3={...nf,transform:Math.round},qP={rotate:Ea,rotateX:Ea,rotateY:Ea,rotateZ:Ea,scale:Fg,scaleX:Fg,scaleY:Fg,scaleZ:Fg,skew:Ea,skewX:Ea,skewY:Ea,distance:Be,translateX:Be,translateY:Be,translateZ:Be,x:Be,y:Be,z:Be,perspective:Be,transformPerspective:Be,opacity:ph,originX:r3,originY:r3,originZ:Be},Y2={borderWidth:Be,borderTopWidth:Be,borderRightWidth:Be,borderBottomWidth:Be,borderLeftWidth:Be,borderRadius:Be,radius:Be,borderTopLeftRadius:Be,borderTopRightRadius:Be,borderBottomRightRadius:Be,borderBottomLeftRadius:Be,width:Be,maxWidth:Be,height:Be,maxHeight:Be,top:Be,right:Be,bottom:Be,left:Be,padding:Be,paddingTop:Be,paddingRight:Be,paddingBottom:Be,paddingLeft:Be,margin:Be,marginTop:Be,marginRight:Be,marginBottom:Be,marginLeft:Be,backgroundPositionX:Be,backgroundPositionY:Be,...qP,zIndex:w3,fillOpacity:ph,strokeOpacity:ph,numOctaves:w3},VP={...Y2,color:rn,backgroundColor:rn,outlineColor:rn,fill:rn,stroke:rn,borderColor:rn,borderTopColor:rn,borderRightColor:rn,borderBottomColor:rn,borderLeftColor:rn,filter:nv,WebkitFilter:nv},VI=t=>VP[t];function WI(t,e){let n=VI(t);return n!==nv&&(n=La),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const WP=new Set(["auto","none","0"]);function KP(t,e,n){let s=0,i;for(;s<t.length&&!i;){const a=t[s];typeof a=="string"&&!WP.has(a)&&gh(a).values.length&&(i=t[s]),s++}if(i&&n)for(const a of e)t[a]=WI(n,i)}class GP extends K2{constructor(e,n,s,i,a){super(e,n,s,i,a,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:s}=this;if(!n||!n.current)return;super.readKeyframes();for(let f=0;f<e.length;f++){let h=e[f];if(typeof h=="string"&&(h=h.trim(),B2(h))){const p=zI(h,n.current);p!==void 0&&(e[f]=p),f===e.length-1&&(this.finalKeyframe=h)}}if(this.resolveNoneKeyframes(),!HI.has(s)||e.length!==2)return;const[i,a]=e,c=y3(i),u=y3(a);if(c!==u)if(h3(c)&&h3(u))for(let f=0;f<e.length;f++){const h=e[f];typeof h=="string"&&(e[f]=parseFloat(h))}else Fc[s]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,s=[];for(let i=0;i<e.length;i++)(e[i]===null||jP(e[i]))&&s.push(i);s.length&&KP(e,s,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:s}=this;if(!e||!e.current)return;s==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Fc[s](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&e.getValue(s,i).jump(i,!1)}measureEndState(){const{element:e,name:n,unresolvedKeyframes:s}=this;if(!e||!e.current)return;const i=e.getValue(n);i&&i.jump(this.measuredOrigin,!1);const a=s.length-1,c=s[a];s[a]=Fc[n](e.measureViewportBox(),window.getComputedStyle(e.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),this.removedTransforms?.length&&this.removedTransforms.forEach(([u,f])=>{e.getValue(u).set(f)}),this.resolveNoneKeyframes()}}function YP(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let s=document;const i=n?.[t]??s.querySelectorAll(t);return i?Array.from(i):[]}return Array.from(t)}const KI=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function GI(t){return uI(t)&&"offsetHeight"in t}const b3=30,XP=t=>!isNaN(parseFloat(t));class QP{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=s=>{const i=xs.now();if(this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(s),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const a of this.dependents)a.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=xs.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=XP(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new U2);const s=this.events[e].add(n);return e==="change"?()=>{s(),zt.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,s){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-s}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=xs.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>b3)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,b3);return dI(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function qu(t,e){return new QP(t,e)}const{schedule:X2}=CI(queueMicrotask,!1),Fi={x:!1,y:!1};function YI(){return Fi.x||Fi.y}function ZP(t){return t==="x"||t==="y"?Fi[t]?null:(Fi[t]=!0,()=>{Fi[t]=!1}):Fi.x||Fi.y?null:(Fi.x=Fi.y=!0,()=>{Fi.x=Fi.y=!1})}function XI(t,e){const n=YP(t),s=new AbortController,i={passive:!0,...e,signal:s.signal};return[n,i,()=>s.abort()]}function v3(t){return!(t.pointerType==="touch"||YI())}function JP(t,e,n={}){const[s,i,a]=XI(t,n),c=u=>{if(!v3(u))return;const{target:f}=u,h=e(f,u);if(typeof h!="function"||!f)return;const p=g=>{v3(g)&&(h(g),f.removeEventListener("pointerleave",p))};f.addEventListener("pointerleave",p,i)};return s.forEach(u=>{u.addEventListener("pointerenter",c,i)}),a}const QI=(t,e)=>e?t===e?!0:QI(t,e.parentElement):!1,Q2=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,e7=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function t7(t){return e7.has(t.tagName)||t.tabIndex!==-1}const _0=new WeakSet;function E3(t){return e=>{e.key==="Enter"&&t(e)}}function w1(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const n7=(t,e)=>{const n=t.currentTarget;if(!n)return;const s=E3(()=>{if(_0.has(n))return;w1(n,"down");const i=E3(()=>{w1(n,"up")}),a=()=>w1(n,"cancel");n.addEventListener("keyup",i,e),n.addEventListener("blur",a,e)});n.addEventListener("keydown",s,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",s),e)};function A3(t){return Q2(t)&&!YI()}function s7(t,e,n={}){const[s,i,a]=XI(t,n),c=u=>{const f=u.currentTarget;if(!A3(u))return;_0.add(f);const h=e(f,u),p=(b,v)=>{window.removeEventListener("pointerup",g),window.removeEventListener("pointercancel",y),_0.has(f)&&_0.delete(f),A3(b)&&typeof h=="function"&&h(b,{success:v})},g=b=>{p(b,f===window||f===document||n.useGlobalTarget||QI(f,b.target))},y=b=>{p(b,!1)};window.addEventListener("pointerup",g,i),window.addEventListener("pointercancel",y,i)};return s.forEach(u=>{(n.useGlobalTarget?window:u).addEventListener("pointerdown",c,i),GI(u)&&(u.addEventListener("focus",h=>n7(h,i)),!t7(u)&&!u.hasAttribute("tabindex")&&(u.tabIndex=0))}),a}function ZI(t){return uI(t)&&"ownerSVGElement"in t}function i7(t){return ZI(t)&&t.tagName==="svg"}const Xn=t=>!!(t&&t.getVelocity),r7=[...qI,rn,La],o7=t=>r7.find(FI(t)),Z2=me.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function C3(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function a7(...t){return e=>{let n=!1;const s=t.map(i=>{const a=C3(i,e);return!n&&typeof a=="function"&&(n=!0),a});if(n)return()=>{for(let i=0;i<s.length;i++){const a=s[i];typeof a=="function"?a():C3(t[i],null)}}}}function c7(...t){return me.useCallback(a7(...t),t)}class l7 extends me.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const s=n.offsetParent,i=GI(s)&&s.offsetWidth||0,a=this.props.sizeRef.current;a.height=n.offsetHeight||0,a.width=n.offsetWidth||0,a.top=n.offsetTop,a.left=n.offsetLeft,a.right=i-a.width-a.left}return null}componentDidUpdate(){}render(){return this.props.children}}function u7({children:t,isPresent:e,anchorX:n,root:s}){const i=me.useId(),a=me.useRef(null),c=me.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:u}=me.useContext(Z2),f=c7(a,t?.ref);return me.useInsertionEffect(()=>{const{width:h,height:p,top:g,left:y,right:b}=c.current;if(e||!a.current||!h||!p)return;const v=n==="left"?`left: ${y}`:`right: ${b}`;a.current.dataset.motionPopId=i;const E=document.createElement("style");u&&(E.nonce=u);const A=s??document.head;return A.appendChild(E),E.sheet&&E.sheet.insertRule(`
          [data-motion-pop-id="${i}"] {
            position: absolute !important;
            width: ${h}px !important;
            height: ${p}px !important;
            ${v}px !important;
            top: ${g}px !important;
          }
        `),()=>{A.contains(E)&&A.removeChild(E)}},[e]),X.jsx(l7,{isPresent:e,childRef:a,sizeRef:c,children:me.cloneElement(t,{ref:f})})}const f7=({children:t,initial:e,isPresent:n,onExitComplete:s,custom:i,presenceAffectsLayout:a,mode:c,anchorX:u,root:f})=>{const h=I2(d7),p=me.useId();let g=!0,y=me.useMemo(()=>(g=!1,{id:p,initial:e,isPresent:n,custom:i,onExitComplete:b=>{h.set(b,!0);for(const v of h.values())if(!v)return;s&&s()},register:b=>(h.set(b,!1),()=>h.delete(b))}),[n,h,s]);return a&&g&&(y={...y}),me.useMemo(()=>{h.forEach((b,v)=>h.set(v,!1))},[n]),me.useEffect(()=>{!n&&!h.size&&s&&s()},[n]),c==="popLayout"&&(t=X.jsx(u7,{isPresent:n,anchorX:u,root:f,children:t})),X.jsx(Cm.Provider,{value:y,children:t})};function d7(){return new Map}function JI(t=!0){const e=me.useContext(Cm);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:s,register:i}=e,a=me.useId();me.useEffect(()=>{if(t)return i(a)},[t]);const c=me.useCallback(()=>t&&s&&s(a),[a,s,t]);return!n&&s?[!1,c]:[!0]}const qg=t=>t.key||"";function S3(t){const e=[];return me.Children.forEach(t,n=>{me.isValidElement(n)&&e.push(n)}),e}const J2=({children:t,custom:e,initial:n=!0,onExitComplete:s,presenceAffectsLayout:i=!0,mode:a="sync",propagate:c=!1,anchorX:u="left",root:f})=>{const[h,p]=JI(c),g=me.useMemo(()=>S3(t),[t]),y=c&&!h?[]:g.map(qg),b=me.useRef(!0),v=me.useRef(g),E=I2(()=>new Map),[A,x]=me.useState(g),[D,S]=me.useState(g);cI(()=>{b.current=!1,v.current=g;for(let I=0;I<D.length;I++){const $=qg(D[I]);y.includes($)?E.delete($):E.get($)!==!0&&E.set($,!1)}},[D,y.length,y.join("-")]);const N=[];if(g!==A){let I=[...g];for(let $=0;$<D.length;$++){const P=D[$],M=qg(P);y.includes(M)||(I.splice($,0,P),N.push(P))}return a==="wait"&&N.length&&(I=N),S(S3(I)),x(g),null}const{forceRender:T}=me.useContext(_2);return X.jsx(X.Fragment,{children:D.map(I=>{const $=qg(I),P=c&&!h?!1:g===D||y.includes($),M=()=>{if(E.has($))E.set($,!0);else return;let z=!0;E.forEach(q=>{q||(z=!1)}),z&&(T?.(),S(v.current),c&&p?.(),s&&s())};return X.jsx(f7,{isPresent:P,initial:!b.current||n?void 0:!1,custom:e,presenceAffectsLayout:i,mode:a,root:f,onExitComplete:P?void 0:M,anchorX:u,children:I},$)})})},e8=me.createContext({strict:!1}),x3={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Vu={};for(const t in x3)Vu[t]={isEnabled:e=>x3[t].some(n=>!!e[n])};function h7(t){for(const e in t)Vu[e]={...Vu[e],...t[e]}}const p7=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function G0(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||p7.has(t)}let t8=t=>!G0(t);function g7(t){typeof t=="function"&&(t8=e=>e.startsWith("on")?!G0(e):t(e))}try{g7(require("@emotion/is-prop-valid").default)}catch{}function m7(t,e,n){const s={};for(const i in t)i==="values"&&typeof t.values=="object"||(t8(i)||n===!0&&G0(i)||!e&&!G0(i)||t.draggable&&i.startsWith("onDrag"))&&(s[i]=t[i]);return s}const Sm=me.createContext({});function xm(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function mh(t){return typeof t=="string"||Array.isArray(t)}const eE=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],tE=["initial",...eE];function Nm(t){return xm(t.animate)||tE.some(e=>mh(t[e]))}function n8(t){return!!(Nm(t)||t.variants)}function y7(t,e){if(Nm(t)){const{initial:n,animate:s}=t;return{initial:n===!1||mh(n)?n:void 0,animate:mh(s)?s:void 0}}return t.inherit!==!1?e:{}}function w7(t){const{initial:e,animate:n}=y7(t,me.useContext(Sm));return me.useMemo(()=>({initial:e,animate:n}),[N3(e),N3(n)])}function N3(t){return Array.isArray(t)?t.join(" "):t}const yh={};function b7(t){for(const e in t)yh[e]=t[e],k2(e)&&(yh[e].isCSSVariable=!0)}function s8(t,{layout:e,layoutId:n}){return rf.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!yh[t]||t==="opacity")}const v7={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},E7=sf.length;function A7(t,e,n){let s="",i=!0;for(let a=0;a<E7;a++){const c=sf[a],u=t[c];if(u===void 0)continue;let f=!0;if(typeof u=="number"?f=u===(c.startsWith("scale")?1:0):f=parseFloat(u)===0,!f||n){const h=KI(u,Y2[c]);if(!f){i=!1;const p=v7[c]||c;s+=`${p}(${h}) `}n&&(e[c]=h)}}return s=s.trim(),n?s=n(e,i?"":s):i&&(s="none"),s}function nE(t,e,n){const{style:s,vars:i,transformOrigin:a}=t;let c=!1,u=!1;for(const f in e){const h=e[f];if(rf.has(f)){c=!0;continue}else if(k2(f)){i[f]=h;continue}else{const p=KI(h,Y2[f]);f.startsWith("origin")?(u=!0,a[f]=p):s[f]=p}}if(e.transform||(c||n?s.transform=A7(e,t.transform,n):s.transform&&(s.transform="none")),u){const{originX:f="50%",originY:h="50%",originZ:p=0}=a;s.transformOrigin=`${f} ${h} ${p}`}}const sE=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function i8(t,e,n){for(const s in e)!Xn(e[s])&&!s8(s,n)&&(t[s]=e[s])}function C7({transformTemplate:t},e){return me.useMemo(()=>{const n=sE();return nE(n,e,t),Object.assign({},n.vars,n.style)},[e])}function S7(t,e){const n=t.style||{},s={};return i8(s,n,t),Object.assign(s,C7(t,e)),s}function x7(t,e){const n={},s=S7(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=s,n}const N7={offset:"stroke-dashoffset",array:"stroke-dasharray"},T7={offset:"strokeDashoffset",array:"strokeDasharray"};function _7(t,e,n=1,s=0,i=!0){t.pathLength=1;const a=i?N7:T7;t[a.offset]=Be.transform(-s);const c=Be.transform(e),u=Be.transform(n);t[a.array]=`${c} ${u}`}function r8(t,{attrX:e,attrY:n,attrScale:s,pathLength:i,pathSpacing:a=1,pathOffset:c=0,...u},f,h,p){if(nE(t,u,h),f){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:g,style:y}=t;g.transform&&(y.transform=g.transform,delete g.transform),(y.transform||g.transformOrigin)&&(y.transformOrigin=g.transformOrigin??"50% 50%",delete g.transformOrigin),y.transform&&(y.transformBox=p?.transformBox??"fill-box",delete g.transformBox),e!==void 0&&(g.x=e),n!==void 0&&(g.y=n),s!==void 0&&(g.scale=s),i!==void 0&&_7(g,i,a,c,!1)}const o8=()=>({...sE(),attrs:{}}),a8=t=>typeof t=="string"&&t.toLowerCase()==="svg";function I7(t,e,n,s){const i=me.useMemo(()=>{const a=o8();return r8(a,e,a8(s),t.transformTemplate,t.style),{...a.attrs,style:{...a.style}}},[e]);if(t.style){const a={};i8(a,t.style,t),i.style={...a,...i.style}}return i}const D7=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function iE(t){return typeof t!="string"||t.includes("-")?!1:!!(D7.indexOf(t)>-1||/[A-Z]/u.test(t))}function O7(t,e,n,{latestValues:s},i,a=!1){const u=(iE(t)?I7:x7)(e,s,i,t),f=m7(e,typeof t=="string",a),h=t!==me.Fragment?{...f,...u,ref:n}:{},{children:p}=e,g=me.useMemo(()=>Xn(p)?p.get():p,[p]);return me.createElement(t,{...h,children:g})}function T3(t){const e=[{},{}];return t?.values.forEach((n,s)=>{e[0][s]=n.get(),e[1][s]=n.getVelocity()}),e}function rE(t,e,n,s){if(typeof e=="function"){const[i,a]=T3(s);e=e(n!==void 0?n:t.custom,i,a)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[i,a]=T3(s);e=e(n!==void 0?n:t.custom,i,a)}return e}function I0(t){return Xn(t)?t.get():t}function M7({scrapeMotionValuesFromProps:t,createRenderState:e},n,s,i){return{latestValues:R7(n,s,i,t),renderState:e()}}function R7(t,e,n,s){const i={},a=s(t,{});for(const y in a)i[y]=I0(a[y]);let{initial:c,animate:u}=t;const f=Nm(t),h=n8(t);e&&h&&!f&&t.inherit!==!1&&(c===void 0&&(c=e.initial),u===void 0&&(u=e.animate));let p=n?n.initial===!1:!1;p=p||c===!1;const g=p?u:c;if(g&&typeof g!="boolean"&&!xm(g)){const y=Array.isArray(g)?g:[g];for(let b=0;b<y.length;b++){const v=rE(t,y[b]);if(v){const{transitionEnd:E,transition:A,...x}=v;for(const D in x){let S=x[D];if(Array.isArray(S)){const N=p?S.length-1:0;S=S[N]}S!==null&&(i[D]=S)}for(const D in E)i[D]=E[D]}}}return i}const c8=t=>(e,n)=>{const s=me.useContext(Sm),i=me.useContext(Cm),a=()=>M7(t,e,s,i);return n?a():I2(a)};function oE(t,e,n){const{style:s}=t,i={};for(const a in s)(Xn(s[a])||e.style&&Xn(e.style[a])||s8(a,t)||n?.getValue(a)?.liveStyle!==void 0)&&(i[a]=s[a]);return i}const $7=c8({scrapeMotionValuesFromProps:oE,createRenderState:sE});function l8(t,e,n){const s=oE(t,e,n);for(const i in t)if(Xn(t[i])||Xn(e[i])){const a=sf.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;s[a]=t[i]}return s}const U7=c8({scrapeMotionValuesFromProps:l8,createRenderState:o8}),P7=Symbol.for("motionComponentSymbol");function Iu(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function L7(t,e,n){return me.useCallback(s=>{s&&t.onMount&&t.onMount(s),e&&(s?e.mount(s):e.unmount()),n&&(typeof n=="function"?n(s):Iu(n)&&(n.current=s))},[e])}const aE=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),k7="framerAppearId",u8="data-"+aE(k7),f8=me.createContext({});function B7(t,e,n,s,i){const{visualElement:a}=me.useContext(Sm),c=me.useContext(e8),u=me.useContext(Cm),f=me.useContext(Z2).reducedMotion,h=me.useRef(null);s=s||c.renderer,!h.current&&s&&(h.current=s(t,{visualState:e,parent:a,props:n,presenceContext:u,blockInitialAnimation:u?u.initial===!1:!1,reducedMotionConfig:f}));const p=h.current,g=me.useContext(f8);p&&!p.projection&&i&&(p.type==="html"||p.type==="svg")&&j7(h.current,n,i,g);const y=me.useRef(!1);me.useInsertionEffect(()=>{p&&y.current&&p.update(n,u)});const b=n[u8],v=me.useRef(!!b&&!window.MotionHandoffIsComplete?.(b)&&window.MotionHasOptimisedAnimation?.(b));return cI(()=>{p&&(y.current=!0,window.MotionIsMounted=!0,p.updateFeatures(),p.scheduleRenderMicrotask(),v.current&&p.animationState&&p.animationState.animateChanges())}),me.useEffect(()=>{p&&(!v.current&&p.animationState&&p.animationState.animateChanges(),v.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(b)}),v.current=!1),p.enteringChildren=void 0)}),p}function j7(t,e,n,s){const{layoutId:i,layout:a,drag:c,dragConstraints:u,layoutScroll:f,layoutRoot:h,layoutCrossfade:p}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:d8(t.parent)),t.projection.setOptions({layoutId:i,layout:a,alwaysMeasureLayout:!!c||u&&Iu(u),visualElement:t,animationType:typeof a=="string"?a:"both",initialPromotionConfig:s,crossfade:p,layoutScroll:f,layoutRoot:h})}function d8(t){if(t)return t.options.allowProjection!==!1?t.projection:d8(t.parent)}function b1(t,{forwardMotionProps:e=!1}={},n,s){n&&h7(n);const i=iE(t)?U7:$7;function a(u,f){let h;const p={...me.useContext(Z2),...u,layoutId:z7(u)},{isStatic:g}=p,y=w7(u),b=i(u,g);if(!g&&D2){H7();const v=F7(p);h=v.MeasureLayout,y.visualElement=B7(t,b,p,s,v.ProjectionNode)}return X.jsxs(Sm.Provider,{value:y,children:[h&&y.visualElement?X.jsx(h,{visualElement:y.visualElement,...p}):null,O7(t,u,L7(b,y.visualElement,f),b,g,e)]})}a.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const c=me.forwardRef(a);return c[P7]=t,c}function z7({layoutId:t}){const e=me.useContext(_2).id;return e&&t!==void 0?e+"-"+t:t}function H7(t,e){me.useContext(e8).strict}function F7(t){const{drag:e,layout:n}=Vu;if(!e&&!n)return{};const s={...e,...n};return{MeasureLayout:e?.isEnabled(t)||n?.isEnabled(t)?s.MeasureLayout:void 0,ProjectionNode:s.ProjectionNode}}function q7(t,e){if(typeof Proxy>"u")return b1;const n=new Map,s=(a,c)=>b1(a,c,t,e),i=(a,c)=>s(a,c);return new Proxy(i,{get:(a,c)=>c==="create"?s:(n.has(c)||n.set(c,b1(c,void 0,t,e)),n.get(c))})}function h8({top:t,left:e,right:n,bottom:s}){return{x:{min:e,max:n},y:{min:t,max:s}}}function V7({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function W7(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),s=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:s.y,right:s.x}}function v1(t){return t===void 0||t===1}function sv({scale:t,scaleX:e,scaleY:n}){return!v1(t)||!v1(e)||!v1(n)}function Tc(t){return sv(t)||p8(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function p8(t){return _3(t.x)||_3(t.y)}function _3(t){return t&&t!=="0%"}function Y0(t,e,n){const s=t-n,i=e*s;return n+i}function I3(t,e,n,s,i){return i!==void 0&&(t=Y0(t,i,s)),Y0(t,n,s)+e}function iv(t,e=0,n=1,s,i){t.min=I3(t.min,e,n,s,i),t.max=I3(t.max,e,n,s,i)}function g8(t,{x:e,y:n}){iv(t.x,e.translate,e.scale,e.originPoint),iv(t.y,n.translate,n.scale,n.originPoint)}const D3=.999999999999,O3=1.0000000000001;function K7(t,e,n,s=!1){const i=n.length;if(!i)return;e.x=e.y=1;let a,c;for(let u=0;u<i;u++){a=n[u],c=a.projectionDelta;const{visualElement:f}=a.options;f&&f.props.style&&f.props.style.display==="contents"||(s&&a.options.layoutScroll&&a.scroll&&a!==a.root&&Ou(t,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),c&&(e.x*=c.x.scale,e.y*=c.y.scale,g8(t,c)),s&&Tc(a.latestValues)&&Ou(t,a.latestValues))}e.x<O3&&e.x>D3&&(e.x=1),e.y<O3&&e.y>D3&&(e.y=1)}function Du(t,e){t.min=t.min+e,t.max=t.max+e}function M3(t,e,n,s,i=.5){const a=Ht(t.min,t.max,i);iv(t,e,n,a,s)}function Ou(t,e){M3(t.x,e.x,e.scaleX,e.scale,e.originX),M3(t.y,e.y,e.scaleY,e.scale,e.originY)}function m8(t,e){return h8(W7(t.getBoundingClientRect(),e))}function G7(t,e,n){const s=m8(t,n),{scroll:i}=e;return i&&(Du(s.x,i.offset.x),Du(s.y,i.offset.y)),s}const R3=()=>({translate:0,scale:1,origin:0,originPoint:0}),Mu=()=>({x:R3(),y:R3()}),$3=()=>({min:0,max:0}),Yt=()=>({x:$3(),y:$3()}),rv={current:null},y8={current:!1};function Y7(){if(y8.current=!0,!!D2)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>rv.current=t.matches;t.addEventListener("change",e),e()}else rv.current=!1}const X7=new WeakMap;function Q7(t,e,n){for(const s in e){const i=e[s],a=n[s];if(Xn(i))t.addValue(s,i);else if(Xn(a))t.addValue(s,qu(i,{owner:t}));else if(a!==i)if(t.hasValue(s)){const c=t.getValue(s);c.liveStyle===!0?c.jump(i):c.hasAnimated||c.set(i)}else{const c=t.getStaticValue(s);t.addValue(s,qu(c!==void 0?c:i,{owner:t}))}}for(const s in n)e[s]===void 0&&t.removeValue(s);return e}const U3=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class Z7{scrapeMotionValuesFromProps(e,n,s){return{}}constructor({parent:e,props:n,presenceContext:s,reducedMotionConfig:i,blockInitialAnimation:a,visualState:c},u={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=K2,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const y=xs.now();this.renderScheduledAt<y&&(this.renderScheduledAt=y,zt.render(this.render,!1,!0))};const{latestValues:f,renderState:h}=c;this.latestValues=f,this.baseTarget={...f},this.initialValues=n.initial?{...f}:{},this.renderState=h,this.parent=e,this.props=n,this.presenceContext=s,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=u,this.blockInitialAnimation=!!a,this.isControllingVariants=Nm(n),this.isVariantNode=n8(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:p,...g}=this.scrapeMotionValuesFromProps(n,{},this);for(const y in g){const b=g[y];f[y]!==void 0&&Xn(b)&&b.set(f[y])}}mount(e){this.current=e,X7.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,s)=>this.bindToMotionValue(s,n)),y8.current||Y7(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:rv.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Pa(this.notifyUpdate),Pa(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const s=rf.has(e);s&&this.onBindTransform&&this.onBindTransform();const i=n.on("change",c=>{this.latestValues[e]=c,this.props.onUpdate&&zt.preRender(this.notifyUpdate),s&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let a;window.MotionCheckAppearSync&&(a=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{i(),a&&a(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Vu){const n=Vu[e];if(!n)continue;const{isEnabled:s,Feature:i}=n;if(!this.features[e]&&i&&s(this.props)&&(this.features[e]=new i(this)),this.features[e]){const a=this.features[e];a.isMounted?a.update():(a.mount(),a.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Yt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let s=0;s<U3.length;s++){const i=U3[s];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const a="on"+i,c=e[a];c&&(this.propEventSubscriptions[i]=this.on(i,c))}this.prevMotionValues=Q7(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const s=this.values.get(e);n!==s&&(s&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let s=this.values.get(e);return s===void 0&&n!==void 0&&(s=qu(n===null?void 0:n,{owner:this}),this.addValue(e,s)),s}readValue(e,n){let s=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return s!=null&&(typeof s=="string"&&(lI(s)||fI(s))?s=parseFloat(s):!o7(s)&&La.test(n)&&(s=WI(e,n)),this.setBaseTarget(e,Xn(s)?s.get():s)),Xn(s)?s.get():s}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){const{initial:n}=this.props;let s;if(typeof n=="string"||typeof n=="object"){const a=rE(this.props,n,this.presenceContext?.custom);a&&(s=a[e])}if(n&&s!==void 0)return s;const i=this.getBaseTargetFromProps(this.props,e);return i!==void 0&&!Xn(i)?i:this.initialValues[e]!==void 0&&s===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new U2),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){X2.render(this.render)}}class w8 extends Z7{constructor(){super(...arguments),this.KeyframeResolver=GP}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:s}){delete n[e],delete s[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Xn(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function b8(t,{style:e,vars:n},s,i){const a=t.style;let c;for(c in e)a[c]=e[c];i?.applyProjectionStyles(a,s);for(c in n)a.setProperty(c,n[c])}function J7(t){return window.getComputedStyle(t)}class e9 extends w8{constructor(){super(...arguments),this.type="html",this.renderInstance=b8}readValueFromInstance(e,n){if(rf.has(n))return this.projection?.isProjecting?Xb(n):hP(e,n);{const s=J7(e),i=(k2(n)?s.getPropertyValue(n):s[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return m8(e,n)}build(e,n,s){nE(e,n,s.transformTemplate)}scrapeMotionValuesFromProps(e,n,s){return oE(e,n,s)}}const v8=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function t9(t,e,n,s){b8(t,e,void 0,s);for(const i in e.attrs)t.setAttribute(v8.has(i)?i:aE(i),e.attrs[i])}class n9 extends w8{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Yt}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(rf.has(n)){const s=VI(n);return s&&s.default||0}return n=v8.has(n)?n:aE(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,s){return l8(e,n,s)}build(e,n,s){r8(e,n,this.isSVGTag,s.transformTemplate,s.style)}renderInstance(e,n,s,i){t9(e,n,s,i)}mount(e){this.isSVGTag=a8(e.tagName),super.mount(e)}}const s9=(t,e)=>iE(t)?new n9(e):new e9(e,{allowProjection:t!==me.Fragment});function Bu(t,e,n){const s=t.getProps();return rE(s,e,n!==void 0?n:s.custom,t)}const ov=t=>Array.isArray(t);function i9(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,qu(n))}function r9(t){return ov(t)?t[t.length-1]||0:t}function o9(t,e){const n=Bu(t,e);let{transitionEnd:s={},transition:i={},...a}=n||{};a={...a,...s};for(const c in a){const u=r9(a[c]);i9(t,c,u)}}function a9(t){return!!(Xn(t)&&t.add)}function av(t,e){const n=t.getValue("willChange");if(a9(n))return n.add(e);if(!n&&Co.WillChange){const s=new Co.WillChange("auto");t.addValue("willChange",s),s.add(e)}}function E8(t){return t.props[u8]}const c9=t=>t!==null;function l9(t,{repeat:e,repeatType:n="loop"},s){const i=t.filter(c9),a=e&&n!=="loop"&&e%2===1?0:i.length-1;return i[a]}const u9={type:"spring",stiffness:500,damping:25,restSpeed:10},f9=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),d9={type:"keyframes",duration:.8},h9={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},p9=(t,{keyframes:e})=>e.length>2?d9:rf.has(t)?t.startsWith("scale")?f9(e[1]):u9:h9;function g9({when:t,delay:e,delayChildren:n,staggerChildren:s,staggerDirection:i,repeat:a,repeatType:c,repeatDelay:u,from:f,elapsed:h,...p}){return!!Object.keys(p).length}const cE=(t,e,n,s={},i,a)=>c=>{const u=G2(s,t)||{},f=u.delay||s.delay||0;let{elapsed:h=0}=s;h=h-Sr(f);const p={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...u,delay:-h,onUpdate:y=>{e.set(y),u.onUpdate&&u.onUpdate(y)},onComplete:()=>{c(),u.onComplete&&u.onComplete()},name:t,motionValue:e,element:a?void 0:i};g9(u)||Object.assign(p,p9(t,p)),p.duration&&(p.duration=Sr(p.duration)),p.repeatDelay&&(p.repeatDelay=Sr(p.repeatDelay)),p.from!==void 0&&(p.keyframes[0]=p.from);let g=!1;if((p.type===!1||p.duration===0&&!p.repeatDelay)&&(tv(p),p.delay===0&&(g=!0)),(Co.instantAnimations||Co.skipAnimations)&&(g=!0,tv(p),p.delay=0),p.allowFlatten=!u.type&&!u.ease,g&&!a&&e.get()!==void 0){const y=l9(p.keyframes,u);if(y!==void 0){zt.update(()=>{p.onUpdate(y),p.onComplete()});return}}return u.isSync?new W2(p):new PP(p)};function m9({protectedKeys:t,needsAnimating:e},n){const s=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,s}function A8(t,e,{delay:n=0,transitionOverride:s,type:i}={}){let{transition:a=t.getDefaultTransition(),transitionEnd:c,...u}=e;s&&(a=s);const f=[],h=i&&t.animationState&&t.animationState.getState()[i];for(const p in u){const g=t.getValue(p,t.latestValues[p]??null),y=u[p];if(y===void 0||h&&m9(h,p))continue;const b={delay:n,...G2(a||{},p)},v=g.get();if(v!==void 0&&!g.isAnimating&&!Array.isArray(y)&&y===v&&!b.velocity)continue;let E=!1;if(window.MotionHandoffAnimation){const x=E8(t);if(x){const D=window.MotionHandoffAnimation(x,p,zt);D!==null&&(b.startTime=D,E=!0)}}av(t,p),g.start(cE(p,g,y,t.shouldReduceMotion&&HI.has(p)?{type:!1}:b,t,E));const A=g.animation;A&&f.push(A)}return c&&Promise.all(f).then(()=>{zt.update(()=>{c&&o9(t,c)})}),f}function C8(t,e,n,s=0,i=1){const a=Array.from(t).sort((h,p)=>h.sortNodePosition(p)).indexOf(e),c=t.size,u=(c-1)*s;return typeof n=="function"?n(a,c):i===1?a*s:u-a*s}function cv(t,e,n={}){const s=Bu(t,e,n.type==="exit"?t.presenceContext?.custom:void 0);let{transition:i=t.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(i=n.transitionOverride);const a=s?()=>Promise.all(A8(t,s,n)):()=>Promise.resolve(),c=t.variantChildren&&t.variantChildren.size?(f=0)=>{const{delayChildren:h=0,staggerChildren:p,staggerDirection:g}=i;return y9(t,e,f,h,p,g,n)}:()=>Promise.resolve(),{when:u}=i;if(u){const[f,h]=u==="beforeChildren"?[a,c]:[c,a];return f().then(()=>h())}else return Promise.all([a(),c(n.delay)])}function y9(t,e,n=0,s=0,i=0,a=1,c){const u=[];for(const f of t.variantChildren)f.notify("AnimationStart",e),u.push(cv(f,e,{...c,delay:n+(typeof s=="function"?0:s)+C8(t.variantChildren,f,s,i,a)}).then(()=>f.notify("AnimationComplete",e)));return Promise.all(u)}function w9(t,e,n={}){t.notify("AnimationStart",e);let s;if(Array.isArray(e)){const i=e.map(a=>cv(t,a,n));s=Promise.all(i)}else if(typeof e=="string")s=cv(t,e,n);else{const i=typeof e=="function"?Bu(t,e,n.custom):e;s=Promise.all(A8(t,i,n))}return s.then(()=>{t.notify("AnimationComplete",e)})}function S8(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let s=0;s<n;s++)if(e[s]!==t[s])return!1;return!0}const b9=tE.length;function x8(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?x8(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<b9;n++){const s=tE[n],i=t.props[s];(mh(i)||i===!1)&&(e[s]=i)}return e}const v9=[...eE].reverse(),E9=eE.length;function A9(t){return e=>Promise.all(e.map(({animation:n,options:s})=>w9(t,n,s)))}function C9(t){let e=A9(t),n=P3(),s=!0;const i=f=>(h,p)=>{const g=Bu(t,p,f==="exit"?t.presenceContext?.custom:void 0);if(g){const{transition:y,transitionEnd:b,...v}=g;h={...h,...v,...b}}return h};function a(f){e=f(t)}function c(f){const{props:h}=t,p=x8(t.parent)||{},g=[],y=new Set;let b={},v=1/0;for(let A=0;A<E9;A++){const x=v9[A],D=n[x],S=h[x]!==void 0?h[x]:p[x],N=mh(S),T=x===f?D.isActive:null;T===!1&&(v=A);let I=S===p[x]&&S!==h[x]&&N;if(I&&s&&t.manuallyAnimateOnMount&&(I=!1),D.protectedKeys={...b},!D.isActive&&T===null||!S&&!D.prevProp||xm(S)||typeof S=="boolean")continue;const $=S9(D.prevProp,S);let P=$||x===f&&D.isActive&&!I&&N||A>v&&N,M=!1;const z=Array.isArray(S)?S:[S];let q=z.reduce(i(x),{});T===!1&&(q={});const{prevResolvedValues:F={}}=D,ee={...F,...q},Q=k=>{P=!0,y.has(k)&&(M=!0,y.delete(k)),D.needsAnimating[k]=!0;const H=t.getValue(k);H&&(H.liveStyle=!1)};for(const k in ee){const H=q[k],G=F[k];if(b.hasOwnProperty(k))continue;let V=!1;ov(H)&&ov(G)?V=!S8(H,G):V=H!==G,V?H!=null?Q(k):y.add(k):H!==void 0&&y.has(k)?Q(k):D.protectedKeys[k]=!0}D.prevProp=S,D.prevResolvedValues=q,D.isActive&&(b={...b,...q}),s&&t.blockInitialAnimation&&(P=!1);const R=I&&$;P&&(!R||M)&&g.push(...z.map(k=>{const H={type:x};if(typeof k=="string"&&s&&!R&&t.manuallyAnimateOnMount&&t.parent){const{parent:G}=t,V=Bu(G,k);if(G.enteringChildren&&V){const{delayChildren:U}=V.transition||{};H.delay=C8(G.enteringChildren,t,U)}}return{animation:k,options:H}}))}if(y.size){const A={};if(typeof h.initial!="boolean"){const x=Bu(t,Array.isArray(h.initial)?h.initial[0]:h.initial);x&&x.transition&&(A.transition=x.transition)}y.forEach(x=>{const D=t.getBaseTarget(x),S=t.getValue(x);S&&(S.liveStyle=!0),A[x]=D??null}),g.push({animation:A})}let E=!!g.length;return s&&(h.initial===!1||h.initial===h.animate)&&!t.manuallyAnimateOnMount&&(E=!1),s=!1,E?e(g):Promise.resolve()}function u(f,h){if(n[f].isActive===h)return Promise.resolve();t.variantChildren?.forEach(g=>g.animationState?.setActive(f,h)),n[f].isActive=h;const p=c(f);for(const g in n)n[g].protectedKeys={};return p}return{animateChanges:c,setActive:u,setAnimateFunction:a,getState:()=>n,reset:()=>{n=P3()}}}function S9(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!S8(e,t):!1}function mc(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function P3(){return{animate:mc(!0),whileInView:mc(),whileHover:mc(),whileTap:mc(),whileDrag:mc(),whileFocus:mc(),exit:mc()}}class ja{constructor(e){this.isMounted=!1,this.node=e}update(){}}class x9 extends ja{constructor(e){super(e),e.animationState||(e.animationState=C9(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();xm(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let N9=0;class T9 extends ja{constructor(){super(...arguments),this.id=N9++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===s)return;const i=this.node.animationState.setActive("exit",!e);n&&!e&&i.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const _9={animation:{Feature:x9},exit:{Feature:T9}};function wh(t,e,n,s={passive:!0}){return t.addEventListener(e,n,s),()=>t.removeEventListener(e,n)}function op(t){return{point:{x:t.pageX,y:t.pageY}}}const I9=t=>e=>Q2(e)&&t(e,op(e));function Gd(t,e,n,s){return wh(t,e,I9(n),s)}const N8=1e-4,D9=1-N8,O9=1+N8,T8=.01,M9=0-T8,R9=0+T8;function ns(t){return t.max-t.min}function $9(t,e,n){return Math.abs(t-e)<=n}function L3(t,e,n,s=.5){t.origin=s,t.originPoint=Ht(e.min,e.max,t.origin),t.scale=ns(n)/ns(e),t.translate=Ht(n.min,n.max,t.origin)-t.originPoint,(t.scale>=D9&&t.scale<=O9||isNaN(t.scale))&&(t.scale=1),(t.translate>=M9&&t.translate<=R9||isNaN(t.translate))&&(t.translate=0)}function Yd(t,e,n,s){L3(t.x,e.x,n.x,s?s.originX:void 0),L3(t.y,e.y,n.y,s?s.originY:void 0)}function k3(t,e,n){t.min=n.min+e.min,t.max=t.min+ns(e)}function U9(t,e,n){k3(t.x,e.x,n.x),k3(t.y,e.y,n.y)}function B3(t,e,n){t.min=e.min-n.min,t.max=t.min+ns(e)}function Xd(t,e,n){B3(t.x,e.x,n.x),B3(t.y,e.y,n.y)}function wi(t){return[t("x"),t("y")]}const _8=({current:t})=>t?t.ownerDocument.defaultView:null,j3=(t,e)=>Math.abs(t-e);function P9(t,e){const n=j3(t.x,e.x),s=j3(t.y,e.y);return Math.sqrt(n**2+s**2)}class I8{constructor(e,n,{transformPagePoint:s,contextWindow:i=window,dragSnapToOrigin:a=!1,distanceThreshold:c=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const y=A1(this.lastMoveEventInfo,this.history),b=this.startEvent!==null,v=P9(y.offset,{x:0,y:0})>=this.distanceThreshold;if(!b&&!v)return;const{point:E}=y,{timestamp:A}=Mn;this.history.push({...E,timestamp:A});const{onStart:x,onMove:D}=this.handlers;b||(x&&x(this.lastMoveEvent,y),this.startEvent=this.lastMoveEvent),D&&D(this.lastMoveEvent,y)},this.handlePointerMove=(y,b)=>{this.lastMoveEvent=y,this.lastMoveEventInfo=E1(b,this.transformPagePoint),zt.update(this.updatePoint,!0)},this.handlePointerUp=(y,b)=>{this.end();const{onEnd:v,onSessionEnd:E,resumeAnimation:A}=this.handlers;if(this.dragSnapToOrigin&&A&&A(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const x=A1(y.type==="pointercancel"?this.lastMoveEventInfo:E1(b,this.transformPagePoint),this.history);this.startEvent&&v&&v(y,x),E&&E(y,x)},!Q2(e))return;this.dragSnapToOrigin=a,this.handlers=n,this.transformPagePoint=s,this.distanceThreshold=c,this.contextWindow=i||window;const u=op(e),f=E1(u,this.transformPagePoint),{point:h}=f,{timestamp:p}=Mn;this.history=[{...h,timestamp:p}];const{onSessionStart:g}=n;g&&g(e,A1(f,this.history)),this.removeListeners=sp(Gd(this.contextWindow,"pointermove",this.handlePointerMove),Gd(this.contextWindow,"pointerup",this.handlePointerUp),Gd(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Pa(this.updatePoint)}}function E1(t,e){return e?{point:e(t.point)}:t}function z3(t,e){return{x:t.x-e.x,y:t.y-e.y}}function A1({point:t},e){return{point:t,delta:z3(t,D8(e)),offset:z3(t,L9(e)),velocity:k9(e,.1)}}function L9(t){return t[0]}function D8(t){return t[t.length-1]}function k9(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,s=null;const i=D8(t);for(;n>=0&&(s=t[n],!(i.timestamp-s.timestamp>Sr(e)));)n--;if(!s)return{x:0,y:0};const a=Ai(i.timestamp-s.timestamp);if(a===0)return{x:0,y:0};const c={x:(i.x-s.x)/a,y:(i.y-s.y)/a};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}function B9(t,{min:e,max:n},s){return e!==void 0&&t<e?t=s?Ht(e,t,s.min):Math.max(t,e):n!==void 0&&t>n&&(t=s?Ht(n,t,s.max):Math.min(t,n)),t}function H3(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function j9(t,{top:e,left:n,bottom:s,right:i}){return{x:H3(t.x,n,i),y:H3(t.y,e,s)}}function F3(t,e){let n=e.min-t.min,s=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,s]=[s,n]),{min:n,max:s}}function z9(t,e){return{x:F3(t.x,e.x),y:F3(t.y,e.y)}}function H9(t,e){let n=.5;const s=ns(t),i=ns(e);return i>s?n=hh(e.min,e.max-s,t.min):s>i&&(n=hh(t.min,t.max-i,e.min)),Ao(0,1,n)}function F9(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const lv=.35;function q9(t=lv){return t===!1?t=0:t===!0&&(t=lv),{x:q3(t,"left","right"),y:q3(t,"top","bottom")}}function q3(t,e,n){return{min:V3(t,e),max:V3(t,n)}}function V3(t,e){return typeof t=="number"?t:t[e]||0}const V9=new WeakMap;class W9{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Yt(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:s}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const a=g=>{const{dragSnapToOrigin:y}=this.getProps();y?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(op(g).point)},c=(g,y)=>{const{drag:b,dragPropagation:v,onDragStart:E}=this.getProps();if(b&&!v&&(this.openDragLock&&this.openDragLock(),this.openDragLock=ZP(b),!this.openDragLock))return;this.latestPointerEvent=g,this.latestPanInfo=y,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),wi(x=>{let D=this.getAxisMotionValue(x).get()||0;if(xr.test(D)){const{projection:S}=this.visualElement;if(S&&S.layout){const N=S.layout.layoutBox[x];N&&(D=ns(N)*(parseFloat(D)/100))}}this.originPoint[x]=D}),E&&zt.postRender(()=>E(g,y)),av(this.visualElement,"transform");const{animationState:A}=this.visualElement;A&&A.setActive("whileDrag",!0)},u=(g,y)=>{this.latestPointerEvent=g,this.latestPanInfo=y;const{dragPropagation:b,dragDirectionLock:v,onDirectionLock:E,onDrag:A}=this.getProps();if(!b&&!this.openDragLock)return;const{offset:x}=y;if(v&&this.currentDirection===null){this.currentDirection=K9(x),this.currentDirection!==null&&E&&E(this.currentDirection);return}this.updateAxis("x",y.point,x),this.updateAxis("y",y.point,x),this.visualElement.render(),A&&A(g,y)},f=(g,y)=>{this.latestPointerEvent=g,this.latestPanInfo=y,this.stop(g,y),this.latestPointerEvent=null,this.latestPanInfo=null},h=()=>wi(g=>this.getAnimationState(g)==="paused"&&this.getAxisMotionValue(g).animation?.play()),{dragSnapToOrigin:p}=this.getProps();this.panSession=new I8(e,{onSessionStart:a,onStart:c,onMove:u,onSessionEnd:f,resumeAnimation:h},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:p,distanceThreshold:s,contextWindow:_8(this.visualElement)})}stop(e,n){const s=e||this.latestPointerEvent,i=n||this.latestPanInfo,a=this.isDragging;if(this.cancel(),!a||!i||!s)return;const{velocity:c}=i;this.startAnimation(c);const{onDragEnd:u}=this.getProps();u&&zt.postRender(()=>u(s,i))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:s}=this.getProps();!s&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,s){const{drag:i}=this.getProps();if(!s||!Vg(e,i,this.currentDirection))return;const a=this.getAxisMotionValue(e);let c=this.originPoint[e]+s[e];this.constraints&&this.constraints[e]&&(c=B9(c,this.constraints[e],this.elastic[e])),a.set(c)}resolveConstraints(){const{dragConstraints:e,dragElastic:n}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,i=this.constraints;e&&Iu(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&s?this.constraints=j9(s.layoutBox,e):this.constraints=!1,this.elastic=q9(n),i!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&wi(a=>{this.constraints!==!1&&this.getAxisMotionValue(a)&&(this.constraints[a]=F9(s.layoutBox[a],this.constraints[a]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Iu(e))return!1;const s=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const a=G7(s,i.root,this.visualElement.getTransformPagePoint());let c=z9(i.layout.layoutBox,a);if(n){const u=n(V7(c));this.hasMutatedConstraints=!!u,u&&(c=h8(u))}return c}startAnimation(e){const{drag:n,dragMomentum:s,dragElastic:i,dragTransition:a,dragSnapToOrigin:c,onDragTransitionEnd:u}=this.getProps(),f=this.constraints||{},h=wi(p=>{if(!Vg(p,n,this.currentDirection))return;let g=f&&f[p]||{};c&&(g={min:0,max:0});const y=i?200:1e6,b=i?40:1e7,v={type:"inertia",velocity:s?e[p]:0,bounceStiffness:y,bounceDamping:b,timeConstant:750,restDelta:1,restSpeed:10,...a,...g};return this.startAxisValueAnimation(p,v)});return Promise.all(h).then(u)}startAxisValueAnimation(e,n){const s=this.getAxisMotionValue(e);return av(this.visualElement,e),s.start(cE(e,s,0,n,this.visualElement,!1))}stopAnimation(){wi(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){wi(e=>this.getAxisMotionValue(e).animation?.pause())}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,s=this.visualElement.getProps(),i=s[n];return i||this.visualElement.getValue(e,(s.initial?s.initial[e]:void 0)||0)}snapToCursor(e){wi(n=>{const{drag:s}=this.getProps();if(!Vg(n,s,this.currentDirection))return;const{projection:i}=this.visualElement,a=this.getAxisMotionValue(n);if(i&&i.layout){const{min:c,max:u}=i.layout.layoutBox[n];a.set(e[n]-Ht(c,u,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:s}=this.visualElement;if(!Iu(n)||!s||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};wi(c=>{const u=this.getAxisMotionValue(c);if(u&&this.constraints!==!1){const f=u.get();i[c]=H9({min:f,max:f},this.constraints[c])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.resolveConstraints(),wi(c=>{if(!Vg(c,e,null))return;const u=this.getAxisMotionValue(c),{min:f,max:h}=this.constraints[c];u.set(Ht(f,h,i[c]))})}addListeners(){if(!this.visualElement.current)return;V9.set(this.visualElement,this);const e=this.visualElement.current,n=Gd(e,"pointerdown",f=>{const{drag:h,dragListener:p=!0}=this.getProps();h&&p&&this.start(f)}),s=()=>{const{dragConstraints:f}=this.getProps();Iu(f)&&f.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,a=i.addEventListener("measure",s);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),zt.read(s);const c=wh(window,"resize",()=>this.scalePositionWithinConstraints()),u=i.addEventListener("didUpdate",(({delta:f,hasLayoutChanged:h})=>{this.isDragging&&h&&(wi(p=>{const g=this.getAxisMotionValue(p);g&&(this.originPoint[p]+=f[p].translate,g.set(g.get()+f[p].translate))}),this.visualElement.render())}));return()=>{c(),n(),a(),u&&u()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:s=!1,dragPropagation:i=!1,dragConstraints:a=!1,dragElastic:c=lv,dragMomentum:u=!0}=e;return{...e,drag:n,dragDirectionLock:s,dragPropagation:i,dragConstraints:a,dragElastic:c,dragMomentum:u}}}function Vg(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function K9(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class G9 extends ja{constructor(e){super(e),this.removeGroupControls=Si,this.removeListeners=Si,this.controls=new W9(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Si}unmount(){this.removeGroupControls(),this.removeListeners()}}const W3=t=>(e,n)=>{t&&zt.postRender(()=>t(e,n))};class Y9 extends ja{constructor(){super(...arguments),this.removePointerDownListener=Si}onPointerDown(e){this.session=new I8(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:_8(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:s,onPanEnd:i}=this.node.getProps();return{onSessionStart:W3(e),onStart:W3(n),onMove:s,onEnd:(a,c)=>{delete this.session,i&&zt.postRender(()=>i(a,c))}}}mount(){this.removePointerDownListener=Gd(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const D0={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function K3(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const gd={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Be.test(t))t=parseFloat(t);else return t;const n=K3(t,e.target.x),s=K3(t,e.target.y);return`${n}% ${s}%`}},X9={correct:(t,{treeScale:e,projectionDelta:n})=>{const s=t,i=La.parse(t);if(i.length>5)return s;const a=La.createTransformer(t),c=typeof i[0]!="number"?1:0,u=n.x.scale*e.x,f=n.y.scale*e.y;i[0+c]/=u,i[1+c]/=f;const h=Ht(u,f,.5);return typeof i[2+c]=="number"&&(i[2+c]/=h),typeof i[3+c]=="number"&&(i[3+c]/=h),a(i)}};let C1=!1;class Q9 extends me.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:s,layoutId:i}=this.props,{projection:a}=e;b7(Z9),a&&(n.group&&n.group.add(a),s&&s.register&&i&&s.register(a),C1&&a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),D0.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:s,drag:i,isPresent:a}=this.props,{projection:c}=s;return c&&(c.isPresent=a,C1=!0,i||e.layoutDependency!==n||n===void 0||e.isPresent!==a?c.willUpdate():this.safeToRemove(),e.isPresent!==a&&(a?c.promote():c.relegate()||zt.postRender(()=>{const u=c.getStack();(!u||!u.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),X2.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:s}=this.props,{projection:i}=e;C1=!0,i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),s&&s.deregister&&s.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function O8(t){const[e,n]=JI(),s=me.useContext(_2);return X.jsx(Q9,{...t,layoutGroup:s,switchLayoutGroup:me.useContext(f8),isPresent:e,safeToRemove:n})}const Z9={borderRadius:{...gd,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:gd,borderTopRightRadius:gd,borderBottomLeftRadius:gd,borderBottomRightRadius:gd,boxShadow:X9};function J9(t,e,n){const s=Xn(t)?t:qu(t);return s.start(cE("",s,e,n)),s.animation}const eL=(t,e)=>t.depth-e.depth;class tL{constructor(){this.children=[],this.isDirty=!1}add(e){O2(this.children,e),this.isDirty=!0}remove(e){M2(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(eL),this.isDirty=!1,this.children.forEach(e)}}function nL(t,e){const n=xs.now(),s=({timestamp:i})=>{const a=i-n;a>=e&&(Pa(s),t(a-e))};return zt.setup(s,!0),()=>Pa(s)}const M8=["TopLeft","TopRight","BottomLeft","BottomRight"],sL=M8.length,G3=t=>typeof t=="string"?parseFloat(t):t,Y3=t=>typeof t=="number"||Be.test(t);function iL(t,e,n,s,i,a){i?(t.opacity=Ht(0,n.opacity??1,rL(s)),t.opacityExit=Ht(e.opacity??1,0,oL(s))):a&&(t.opacity=Ht(e.opacity??1,n.opacity??1,s));for(let c=0;c<sL;c++){const u=`border${M8[c]}Radius`;let f=X3(e,u),h=X3(n,u);if(f===void 0&&h===void 0)continue;f||(f=0),h||(h=0),f===0||h===0||Y3(f)===Y3(h)?(t[u]=Math.max(Ht(G3(f),G3(h),s),0),(xr.test(h)||xr.test(f))&&(t[u]+="%")):t[u]=h}(e.rotate||n.rotate)&&(t.rotate=Ht(e.rotate||0,n.rotate||0,s))}function X3(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const rL=R8(0,.5,bI),oL=R8(.5,.95,Si);function R8(t,e,n){return s=>s<t?0:s>e?1:n(hh(t,e,s))}function Q3(t,e){t.min=e.min,t.max=e.max}function fi(t,e){Q3(t.x,e.x),Q3(t.y,e.y)}function Z3(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function J3(t,e,n,s,i){return t-=e,t=Y0(t,1/n,s),i!==void 0&&(t=Y0(t,1/i,s)),t}function aL(t,e=0,n=1,s=.5,i,a=t,c=t){if(xr.test(e)&&(e=parseFloat(e),e=Ht(c.min,c.max,e/100)-c.min),typeof e!="number")return;let u=Ht(a.min,a.max,s);t===a&&(u-=e),t.min=J3(t.min,e,n,u,i),t.max=J3(t.max,e,n,u,i)}function e4(t,e,[n,s,i],a,c){aL(t,e[n],e[s],e[i],e.scale,a,c)}const cL=["x","scaleX","originX"],lL=["y","scaleY","originY"];function t4(t,e,n,s){e4(t.x,e,cL,n?n.x:void 0,s?s.x:void 0),e4(t.y,e,lL,n?n.y:void 0,s?s.y:void 0)}function n4(t){return t.translate===0&&t.scale===1}function $8(t){return n4(t.x)&&n4(t.y)}function s4(t,e){return t.min===e.min&&t.max===e.max}function uL(t,e){return s4(t.x,e.x)&&s4(t.y,e.y)}function i4(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function U8(t,e){return i4(t.x,e.x)&&i4(t.y,e.y)}function r4(t){return ns(t.x)/ns(t.y)}function o4(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class fL{constructor(){this.members=[]}add(e){O2(this.members,e),e.scheduleRender()}remove(e){if(M2(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let s;for(let i=n;i>=0;i--){const a=this.members[i];if(a.isPresent!==!1){s=a;break}}return s?(this.promote(s),!0):!1}promote(e,n){const s=this.lead;if(e!==s&&(this.prevLead=s,this.lead=e,e.show(),s)){s.instance&&s.scheduleRender(),e.scheduleRender(),e.resumeFrom=s,n&&(e.resumeFrom.preserveOpacity=!0),s.snapshot&&(e.snapshot=s.snapshot,e.snapshot.latestValues=s.animationValues||s.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:s}=e;n.onExitComplete&&n.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function dL(t,e,n){let s="";const i=t.x.translate/e.x,a=t.y.translate/e.y,c=n?.z||0;if((i||a||c)&&(s=`translate3d(${i}px, ${a}px, ${c}px) `),(e.x!==1||e.y!==1)&&(s+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:h,rotate:p,rotateX:g,rotateY:y,skewX:b,skewY:v}=n;h&&(s=`perspective(${h}px) ${s}`),p&&(s+=`rotate(${p}deg) `),g&&(s+=`rotateX(${g}deg) `),y&&(s+=`rotateY(${y}deg) `),b&&(s+=`skewX(${b}deg) `),v&&(s+=`skewY(${v}deg) `)}const u=t.x.scale*e.x,f=t.y.scale*e.y;return(u!==1||f!==1)&&(s+=`scale(${u}, ${f})`),s||"none"}const S1=["","X","Y","Z"],hL=1e3;let pL=0;function x1(t,e,n,s){const{latestValues:i}=e;i[t]&&(n[t]=i[t],e.setStaticValue(t,0),s&&(s[t]=0))}function P8(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=E8(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:a}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",zt,!(i||a))}const{parent:s}=t;s&&!s.hasCheckedOptimisedAppear&&P8(s)}function L8({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:s,resetTransform:i}){return class{constructor(c={},u=e?.()){this.id=pL++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(yL),this.nodes.forEach(EL),this.nodes.forEach(AL),this.nodes.forEach(wL)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=u?u.root||u:this,this.path=u?[...u.path,u]:[],this.parent=u,this.depth=u?u.depth+1:0;for(let f=0;f<this.path.length;f++)this.path[f].shouldResetTransform=!0;this.root===this&&(this.nodes=new tL)}addEventListener(c,u){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new U2),this.eventHandlers.get(c).add(u)}notifyListeners(c,...u){const f=this.eventHandlers.get(c);f&&f.notify(...u)}hasListeners(c){return this.eventHandlers.has(c)}mount(c){if(this.instance)return;this.isSVG=ZI(c)&&!i7(c),this.instance=c;const{layoutId:u,layout:f,visualElement:h}=this.options;if(h&&!h.current&&h.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(f||u)&&(this.isLayoutDirty=!0),t){let p,g=0;const y=()=>this.root.updateBlockedByResize=!1;zt.read(()=>{g=window.innerWidth}),t(c,()=>{const b=window.innerWidth;b!==g&&(g=b,this.root.updateBlockedByResize=!0,p&&p(),p=nL(y,250),D0.hasAnimatedSinceResize&&(D0.hasAnimatedSinceResize=!1,this.nodes.forEach(l4)))})}u&&this.root.registerSharedNode(u,this),this.options.animate!==!1&&h&&(u||f)&&this.addEventListener("didUpdate",({delta:p,hasLayoutChanged:g,hasRelativeLayoutChanged:y,layout:b})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const v=this.options.transition||h.getDefaultTransition()||TL,{onLayoutAnimationStart:E,onLayoutAnimationComplete:A}=h.getProps(),x=!this.targetLayout||!U8(this.targetLayout,b),D=!g&&y;if(this.options.layoutRoot||this.resumeFrom||D||g&&(x||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const S={...G2(v,"layout"),onPlay:E,onComplete:A};(h.shouldReduceMotion||this.options.layoutRoot)&&(S.delay=0,S.type=!1),this.startAnimation(S),this.setAnimationOrigin(p,D)}else g||l4(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=b})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Pa(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(CL),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&P8(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let p=0;p<this.path.length;p++){const g=this.path[p];g.shouldResetTransform=!0,g.updateScroll("snapshot"),g.options.layoutRoot&&g.willUpdate(!1)}const{layoutId:u,layout:f}=this.options;if(u===void 0&&!f)return;const h=this.getTransformTemplate();this.prevTransformTemplateValue=h?h(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(a4);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(c4);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(vL),this.nodes.forEach(gL),this.nodes.forEach(mL)):this.nodes.forEach(c4),this.clearAllSnapshots();const u=xs.now();Mn.delta=Ao(0,1e3/60,u-Mn.timestamp),Mn.timestamp=u,Mn.isProcessing=!0,h1.update.process(Mn),h1.preRender.process(Mn),h1.render.process(Mn),Mn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,X2.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(bL),this.sharedNodes.forEach(SL)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,zt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){zt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!ns(this.snapshot.measuredBox.x)&&!ns(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let f=0;f<this.path.length;f++)this.path[f].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Yt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:u}=this.options;u&&u.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let u=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(u=!1),u&&this.instance){const f=s(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:f,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:f}}}resetTransform(){if(!i)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,u=this.projectionDelta&&!$8(this.projectionDelta),f=this.getTransformTemplate(),h=f?f(this.latestValues,""):void 0,p=h!==this.prevTransformTemplateValue;c&&this.instance&&(u||Tc(this.latestValues)||p)&&(i(this.instance,h),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const u=this.measurePageBox();let f=this.removeElementScroll(u);return c&&(f=this.removeTransform(f)),_L(f),{animationId:this.root.animationId,measuredBox:u,layoutBox:f,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:c}=this.options;if(!c)return Yt();const u=c.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(IL))){const{scroll:h}=this.root;h&&(Du(u.x,h.offset.x),Du(u.y,h.offset.y))}return u}removeElementScroll(c){const u=Yt();if(fi(u,c),this.scroll?.wasRoot)return u;for(let f=0;f<this.path.length;f++){const h=this.path[f],{scroll:p,options:g}=h;h!==this.root&&p&&g.layoutScroll&&(p.wasRoot&&fi(u,c),Du(u.x,p.offset.x),Du(u.y,p.offset.y))}return u}applyTransform(c,u=!1){const f=Yt();fi(f,c);for(let h=0;h<this.path.length;h++){const p=this.path[h];!u&&p.options.layoutScroll&&p.scroll&&p!==p.root&&Ou(f,{x:-p.scroll.offset.x,y:-p.scroll.offset.y}),Tc(p.latestValues)&&Ou(f,p.latestValues)}return Tc(this.latestValues)&&Ou(f,this.latestValues),f}removeTransform(c){const u=Yt();fi(u,c);for(let f=0;f<this.path.length;f++){const h=this.path[f];if(!h.instance||!Tc(h.latestValues))continue;sv(h.latestValues)&&h.updateSnapshot();const p=Yt(),g=h.measurePageBox();fi(p,g),t4(u,h.latestValues,h.snapshot?h.snapshot.layoutBox:void 0,p)}return Tc(this.latestValues)&&t4(u,this.latestValues),u}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Mn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){const u=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=u.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=u.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=u.isSharedProjectionDirty);const f=!!this.resumingFrom||this!==u;if(!(c||f&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:p,layoutId:g}=this.options;if(!(!this.layout||!(p||g))){if(this.resolvedRelativeTargetAt=Mn.timestamp,!this.targetDelta&&!this.relativeTarget){const y=this.getClosestProjectingParent();y&&y.layout&&this.animationProgress!==1?(this.relativeParent=y,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Yt(),this.relativeTargetOrigin=Yt(),Xd(this.relativeTargetOrigin,this.layout.layoutBox,y.layout.layoutBox),fi(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Yt(),this.targetWithTransforms=Yt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),U9(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):fi(this.target,this.layout.layoutBox),g8(this.target,this.targetDelta)):fi(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const y=this.getClosestProjectingParent();y&&!!y.resumingFrom==!!this.resumingFrom&&!y.options.layoutScroll&&y.target&&this.animationProgress!==1?(this.relativeParent=y,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Yt(),this.relativeTargetOrigin=Yt(),Xd(this.relativeTargetOrigin,this.target,y.target),fi(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||sv(this.parent.latestValues)||p8(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const c=this.getLead(),u=!!this.resumingFrom||this!==c;let f=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(f=!1),u&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(f=!1),this.resolvedRelativeTargetAt===Mn.timestamp&&(f=!1),f)return;const{layout:h,layoutId:p}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(h||p))return;fi(this.layoutCorrected,this.layout.layoutBox);const g=this.treeScale.x,y=this.treeScale.y;K7(this.layoutCorrected,this.treeScale,this.path,u),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=Yt());const{target:b}=c;if(!b){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Z3(this.prevProjectionDelta.x,this.projectionDelta.x),Z3(this.prevProjectionDelta.y,this.projectionDelta.y)),Yd(this.projectionDelta,this.layoutCorrected,b,this.latestValues),(this.treeScale.x!==g||this.treeScale.y!==y||!o4(this.projectionDelta.x,this.prevProjectionDelta.x)||!o4(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",b))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){if(this.options.visualElement?.scheduleRender(),c){const u=this.getStack();u&&u.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Mu(),this.projectionDelta=Mu(),this.projectionDeltaWithTransform=Mu()}setAnimationOrigin(c,u=!1){const f=this.snapshot,h=f?f.latestValues:{},p={...this.latestValues},g=Mu();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!u;const y=Yt(),b=f?f.source:void 0,v=this.layout?this.layout.source:void 0,E=b!==v,A=this.getStack(),x=!A||A.members.length<=1,D=!!(E&&!x&&this.options.crossfade===!0&&!this.path.some(NL));this.animationProgress=0;let S;this.mixTargetDelta=N=>{const T=N/1e3;u4(g.x,c.x,T),u4(g.y,c.y,T),this.setTargetDelta(g),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Xd(y,this.layout.layoutBox,this.relativeParent.layout.layoutBox),xL(this.relativeTarget,this.relativeTargetOrigin,y,T),S&&uL(this.relativeTarget,S)&&(this.isProjectionDirty=!1),S||(S=Yt()),fi(S,this.relativeTarget)),E&&(this.animationValues=p,iL(p,h,this.latestValues,T,D,x)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=T},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(Pa(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=zt.update(()=>{D0.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=qu(0)),this.currentAnimation=J9(this.motionValue,[0,1e3],{...c,velocity:0,isSync:!0,onUpdate:u=>{this.mixTargetDelta(u),c.onUpdate&&c.onUpdate(u)},onStop:()=>{},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(hL),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:u,target:f,layout:h,latestValues:p}=c;if(!(!u||!f||!h)){if(this!==c&&this.layout&&h&&k8(this.options.animationType,this.layout.layoutBox,h.layoutBox)){f=this.target||Yt();const g=ns(this.layout.layoutBox.x);f.x.min=c.target.x.min,f.x.max=f.x.min+g;const y=ns(this.layout.layoutBox.y);f.y.min=c.target.y.min,f.y.max=f.y.min+y}fi(u,f),Ou(u,p),Yd(this.projectionDeltaWithTransform,this.layoutCorrected,u,p)}}registerSharedNode(c,u){this.sharedNodes.has(c)||this.sharedNodes.set(c,new fL),this.sharedNodes.get(c).add(u);const h=u.options.initialPromotionConfig;u.promote({transition:h?h.transition:void 0,preserveFollowOpacity:h&&h.shouldPreserveFollowOpacity?h.shouldPreserveFollowOpacity(u):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){const{layoutId:c}=this.options;return c?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:c}=this.options;return c?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:u,preserveFollowOpacity:f}={}){const h=this.getStack();h&&h.promote(this,f),c&&(this.projectionDelta=void 0,this.needsReset=!0),u&&this.setOptions({transition:u})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let u=!1;const{latestValues:f}=c;if((f.z||f.rotate||f.rotateX||f.rotateY||f.rotateZ||f.skewX||f.skewY)&&(u=!0),!u)return;const h={};f.z&&x1("z",c,h,this.animationValues);for(let p=0;p<S1.length;p++)x1(`rotate${S1[p]}`,c,h,this.animationValues),x1(`skew${S1[p]}`,c,h,this.animationValues);c.render();for(const p in h)c.setStaticValue(p,h[p]),this.animationValues&&(this.animationValues[p]=h[p]);c.scheduleRender()}applyProjectionStyles(c,u){if(!this.instance||this.isSVG)return;if(!this.isVisible){c.visibility="hidden";return}const f=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,c.visibility="",c.opacity="",c.pointerEvents=I0(u?.pointerEvents)||"",c.transform=f?f(this.latestValues,""):"none";return}const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){this.options.layoutId&&(c.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,c.pointerEvents=I0(u?.pointerEvents)||""),this.hasProjected&&!Tc(this.latestValues)&&(c.transform=f?f({},""):"none",this.hasProjected=!1);return}c.visibility="";const p=h.animationValues||h.latestValues;this.applyTransformsToTarget();let g=dL(this.projectionDeltaWithTransform,this.treeScale,p);f&&(g=f(p,g)),c.transform=g;const{x:y,y:b}=this.projectionDelta;c.transformOrigin=`${y.origin*100}% ${b.origin*100}% 0`,h.animationValues?c.opacity=h===this?p.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:p.opacityExit:c.opacity=h===this?p.opacity!==void 0?p.opacity:"":p.opacityExit!==void 0?p.opacityExit:0;for(const v in yh){if(p[v]===void 0)continue;const{correct:E,applyTo:A,isCSSVariable:x}=yh[v],D=g==="none"?p[v]:E(p[v],h);if(A){const S=A.length;for(let N=0;N<S;N++)c[A[N]]=D}else x?this.options.visualElement.renderState.vars[v]=D:c[v]=D}this.options.layoutId&&(c.pointerEvents=h===this?I0(u?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>c.currentAnimation?.stop()),this.root.nodes.forEach(a4),this.root.sharedNodes.clear()}}}function gL(t){t.updateLayout()}function mL(t){const e=t.resumeFrom?.snapshot||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:s}=t.layout,{animationType:i}=t.options,a=e.source!==t.layout.source;i==="size"?wi(p=>{const g=a?e.measuredBox[p]:e.layoutBox[p],y=ns(g);g.min=n[p].min,g.max=g.min+y}):k8(i,e.layoutBox,n)&&wi(p=>{const g=a?e.measuredBox[p]:e.layoutBox[p],y=ns(n[p]);g.max=g.min+y,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[p].max=t.relativeTarget[p].min+y)});const c=Mu();Yd(c,n,e.layoutBox);const u=Mu();a?Yd(u,t.applyTransform(s,!0),e.measuredBox):Yd(u,n,e.layoutBox);const f=!$8(c);let h=!1;if(!t.resumeFrom){const p=t.getClosestProjectingParent();if(p&&!p.resumeFrom){const{snapshot:g,layout:y}=p;if(g&&y){const b=Yt();Xd(b,e.layoutBox,g.layoutBox);const v=Yt();Xd(v,n,y.layoutBox),U8(b,v)||(h=!0),p.options.layoutRoot&&(t.relativeTarget=v,t.relativeTargetOrigin=b,t.relativeParent=p)}}}t.notifyListeners("didUpdate",{layout:n,snapshot:e,delta:u,layoutDelta:c,hasLayoutChanged:f,hasRelativeLayoutChanged:h})}else if(t.isLead()){const{onExitComplete:n}=t.options;n&&n()}t.options.transition=void 0}function yL(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function wL(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function bL(t){t.clearSnapshot()}function a4(t){t.clearMeasurements()}function c4(t){t.isLayoutDirty=!1}function vL(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function l4(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function EL(t){t.resolveTargetDelta()}function AL(t){t.calcProjection()}function CL(t){t.resetSkewAndRotation()}function SL(t){t.removeLeadSnapshot()}function u4(t,e,n){t.translate=Ht(e.translate,0,n),t.scale=Ht(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function f4(t,e,n,s){t.min=Ht(e.min,n.min,s),t.max=Ht(e.max,n.max,s)}function xL(t,e,n,s){f4(t.x,e.x,n.x,s),f4(t.y,e.y,n.y,s)}function NL(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const TL={duration:.45,ease:[.4,0,.1,1]},d4=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),h4=d4("applewebkit/")&&!d4("chrome/")?Math.round:Si;function p4(t){t.min=h4(t.min),t.max=h4(t.max)}function _L(t){p4(t.x),p4(t.y)}function k8(t,e,n){return t==="position"||t==="preserve-aspect"&&!$9(r4(e),r4(n),.2)}function IL(t){return t!==t.root&&t.scroll?.wasRoot}const DL=L8({attachResizeListener:(t,e)=>wh(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),N1={current:void 0},B8=L8({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!N1.current){const t=new DL({});t.mount(window),t.setOptions({layoutScroll:!0}),N1.current=t}return N1.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),OL={pan:{Feature:Y9},drag:{Feature:G9,ProjectionNode:B8,MeasureLayout:O8}};function g4(t,e,n){const{props:s}=t;t.animationState&&s.whileHover&&t.animationState.setActive("whileHover",n==="Start");const i="onHover"+n,a=s[i];a&&zt.postRender(()=>a(e,op(e)))}class ML extends ja{mount(){const{current:e}=this.node;e&&(this.unmount=JP(e,(n,s)=>(g4(this.node,s,"Start"),i=>g4(this.node,i,"End"))))}unmount(){}}class RL extends ja{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=sp(wh(this.node.current,"focus",()=>this.onFocus()),wh(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function m4(t,e,n){const{props:s}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&s.whileTap&&t.animationState.setActive("whileTap",n==="Start");const i="onTap"+(n==="End"?"":n),a=s[i];a&&zt.postRender(()=>a(e,op(e)))}class $L extends ja{mount(){const{current:e}=this.node;e&&(this.unmount=s7(e,(n,s)=>(m4(this.node,s,"Start"),(i,{success:a})=>m4(this.node,i,a?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const uv=new WeakMap,T1=new WeakMap,UL=t=>{const e=uv.get(t.target);e&&e(t)},PL=t=>{t.forEach(UL)};function LL({root:t,...e}){const n=t||document;T1.has(n)||T1.set(n,{});const s=T1.get(n),i=JSON.stringify(e);return s[i]||(s[i]=new IntersectionObserver(PL,{root:t,...e})),s[i]}function kL(t,e,n){const s=LL(e);return uv.set(t,n),s.observe(t),()=>{uv.delete(t),s.unobserve(t)}}const BL={some:0,all:1};class jL extends ja{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:s,amount:i="some",once:a}=e,c={root:n?n.current:void 0,rootMargin:s,threshold:typeof i=="number"?i:BL[i]},u=f=>{const{isIntersecting:h}=f;if(this.isInView===h||(this.isInView=h,a&&!h&&this.hasEnteredView))return;h&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",h);const{onViewportEnter:p,onViewportLeave:g}=this.node.getProps(),y=h?p:g;y&&y(f)};return kL(this.node.current,c,u)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(zL(e,n))&&this.startObserver()}unmount(){}}function zL({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const HL={inView:{Feature:jL},tap:{Feature:$L},focus:{Feature:RL},hover:{Feature:ML}},FL={layout:{ProjectionNode:B8,MeasureLayout:O8}},qL={..._9,...HL,...OL,...FL},Ve=q7(qL,s9);var j8={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},y4=wo.createContext&&wo.createContext(j8),VL=["attr","size","title"];function WL(t,e){if(t==null)return{};var n=KL(t,e),s,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)s=a[i],!(e.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(t,s)&&(n[s]=t[s])}return n}function KL(t,e){if(t==null)return{};var n={};for(var s in t)if(Object.prototype.hasOwnProperty.call(t,s)){if(e.indexOf(s)>=0)continue;n[s]=t[s]}return n}function X0(){return X0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},X0.apply(this,arguments)}function w4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,s)}return n}function Q0(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?w4(Object(n),!0).forEach(function(s){GL(t,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):w4(Object(n)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(n,s))})}return t}function GL(t,e,n){return e=YL(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function YL(t){var e=XL(t,"string");return typeof e=="symbol"?e:e+""}function XL(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var s=n.call(t,e);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function z8(t){return t&&t.map((e,n)=>wo.createElement(e.tag,Q0({key:n},e.attr),z8(e.child)))}function _s(t){return e=>wo.createElement(QL,X0({attr:Q0({},t.attr)},e),z8(t.child))}function QL(t){var e=n=>{var{attr:s,size:i,title:a}=t,c=WL(t,VL),u=i||n.size||"1em",f;return n.className&&(f=n.className),t.className&&(f=(f?f+" ":"")+t.className),wo.createElement("svg",X0({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,s,c,{className:f,style:Q0(Q0({color:t.color||n.color},n.style),t.style),height:u,width:u,xmlns:"http://www.w3.org/2000/svg"}),a&&wo.createElement("title",null,a),t.children)};return y4!==void 0?wo.createElement(y4.Consumer,null,n=>e(n)):e(j8)}function H8(t){return _s({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M440.5 88.5l-52 52L415 167c9.4 9.4 9.4 24.6 0 33.9l-17.4 17.4c11.8 26.1 18.4 55.1 18.4 85.6 0 114.9-93.1 208-208 208S0 418.9 0 304 93.1 96 208 96c30.5 0 59.5 6.6 85.6 18.4L311 97c9.4-9.4 24.6-9.4 33.9 0l26.5 26.5 52-52 17.1 17zM500 60h-24c-6.6 0-12 5.4-12 12s5.4 12 12 12h24c6.6 0 12-5.4 12-12s-5.4-12-12-12zM440 0c-6.6 0-12 5.4-12 12v24c0 6.6 5.4 12 12 12s12-5.4 12-12V12c0-6.6-5.4-12-12-12zm33.9 55l17-17c4.7-4.7 4.7-12.3 0-17-4.7-4.7-12.3-4.7-17 0l-17 17c-4.7 4.7-4.7 12.3 0 17 4.8 4.7 12.4 4.7 17 0zm-67.8 0c4.7 4.7 12.3 4.7 17 0 4.7-4.7 4.7-12.3 0-17l-17-17c-4.7-4.7-12.3-4.7-17 0-4.7 4.7-4.7 12.3 0 17l17 17zm67.8 34c-4.7-4.7-12.3-4.7-17 0-4.7 4.7-4.7 12.3 0 17l17 17c4.7 4.7 12.3 4.7 17 0 4.7-4.7 4.7-12.3 0-17l-17-17zM112 272c0-35.3 28.7-64 64-64 8.8 0 16-7.2 16-16s-7.2-16-16-16c-52.9 0-96 43.1-96 96 0 8.8 7.2 16 16 16s16-7.2 16-16z"},child:[]}]})(t)}function lE(t){return _s({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M0 405.3V448c0 35.3 86 64 192 64s192-28.7 192-64v-42.7C342.7 434.4 267.2 448 192 448S41.3 434.4 0 405.3zM320 128c106 0 192-28.7 192-64S426 0 320 0 128 28.7 128 64s86 64 192 64zM0 300.4V352c0 35.3 86 64 192 64s192-28.7 192-64v-51.6c-41.3 34-116.9 51.6-192 51.6S41.3 334.4 0 300.4zm416 11c57.3-11.1 96-31.7 96-55.4v-42.7c-23.2 16.4-57.3 27.6-96 34.5v63.6zM192 160C86 160 0 195.8 0 240s86 80 192 80 192-35.8 192-80-86-80-192-80zm219.3 56.3c60-10.8 100.7-32 100.7-56.3v-42.7c-35.5 25.1-96.5 38.6-160.7 41.8 29.5 14.3 51.2 33.5 60 57.2z"},child:[]}]})(t)}function b4(t){return _s({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M480.07 96H160a160 160 0 1 0 114.24 272h91.52A160 160 0 1 0 480.07 96zM248 268a12 12 0 0 1-12 12h-52v52a12 12 0 0 1-12 12h-24a12 12 0 0 1-12-12v-52H84a12 12 0 0 1-12-12v-24a12 12 0 0 1 12-12h52v-52a12 12 0 0 1 12-12h24a12 12 0 0 1 12 12v52h52a12 12 0 0 1 12 12zm216 76a40 40 0 1 1 40-40 40 40 0 0 1-40 40zm64-96a40 40 0 1 1 40-40 40 40 0 0 1-40 40z"},child:[]}]})(t)}function ZL(t){return _s({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M280.37 148.26L96 300.11V464a16 16 0 0 0 16 16l112.06-.29a16 16 0 0 0 15.92-16V368a16 16 0 0 1 16-16h64a16 16 0 0 1 16 16v95.64a16 16 0 0 0 16 16.05L464 480a16 16 0 0 0 16-16V300L295.67 148.26a12.19 12.19 0 0 0-15.3 0zM571.6 251.47L488 182.56V44.05a12 12 0 0 0-12-12h-56a12 12 0 0 0-12 12v72.61L318.47 43a48 48 0 0 0-61 0L4.34 251.47a12 12 0 0 0-1.6 16.9l25.5 31A12 12 0 0 0 45.15 301l235.22-193.74a12.19 12.19 0 0 1 15.3 0L530.9 301a12 12 0 0 0 16.9-1.6l25.5-31a12 12 0 0 0-1.7-16.93z"},child:[]}]})(t)}function JL(t){return _s({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M500.33 0h-47.41a12 12 0 0 0-12 12.57l4 82.76A247.42 247.42 0 0 0 256 8C119.34 8 7.9 119.53 8 256.19 8.1 393.07 119.1 504 256 504a247.1 247.1 0 0 0 166.18-63.91 12 12 0 0 0 .48-17.43l-34-34a12 12 0 0 0-16.38-.55A176 176 0 1 1 402.1 157.8l-101.53-4.87a12 12 0 0 0-12.57 12v47.41a12 12 0 0 0 12 12h200.33a12 12 0 0 0 12-12V12a12 12 0 0 0-12-12z"},child:[]}]})(t)}function ek(t){return _s({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M304 48c0 26.51-21.49 48-48 48s-48-21.49-48-48 21.49-48 48-48 48 21.49 48 48zm-48 368c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zm208-208c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zM96 256c0-26.51-21.49-48-48-48S0 229.49 0 256s21.49 48 48 48 48-21.49 48-48zm12.922 99.078c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48c0-26.509-21.491-48-48-48zm294.156 0c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48c0-26.509-21.49-48-48-48zM108.922 60.922c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.491-48-48-48z"},child:[]}]})(t)}function tk(t){return _s({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M259.3 17.8L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0z"},child:[]}]})(t)}function nk(t){return _s({attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"},child:[]}]})(t)}function sk(t){return _s({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M552 64H448V24c0-13.3-10.7-24-24-24H152c-13.3 0-24 10.7-24 24v40H24C10.7 64 0 74.7 0 88v56c0 35.7 22.5 72.4 61.9 100.7 31.5 22.7 69.8 37.1 110 41.7C203.3 338.5 240 360 240 360v72h-48c-35.3 0-64 20.7-64 56v12c0 6.6 5.4 12 12 12h296c6.6 0 12-5.4 12-12v-12c0-35.3-28.7-56-64-56h-48v-72s36.7-21.5 68.1-73.6c40.3-4.6 78.6-19 110-41.7 39.3-28.3 61.9-65 61.9-100.7V88c0-13.3-10.7-24-24-24zM99.3 192.8C74.9 175.2 64 155.6 64 144v-16h64.2c1 32.6 5.8 61.2 12.8 86.2-15.1-5.2-29.2-12.4-41.7-21.4zM512 144c0 16.1-17.7 36.1-35.3 48.8-12.5 9-26.7 16.2-41.8 21.4 7-25 11.8-53.6 12.8-86.2H512v16z"},child:[]}]})(t)}function ik(t){return _s({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M461.2 128H80c-8.84 0-16-7.16-16-16s7.16-16 16-16h384c8.84 0 16-7.16 16-16 0-26.51-21.49-48-48-48H64C28.65 32 0 60.65 0 96v320c0 35.35 28.65 64 64 64h397.2c28.02 0 50.8-21.53 50.8-48V176c0-26.47-22.78-48-50.8-48zM416 336c-17.67 0-32-14.33-32-32s14.33-32 32-32 32 14.33 32 32-14.33 32-32 32z"},child:[]}]})(t)}function uE(t){return _s({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M258.396 21.375l-17.503 64.1c-1.133 2.452-1.782 5.172-1.782 8.05 0 10.634 8.62 19.256 19.255 19.256 10.634 0 19.256-8.62 19.256-19.255 0-.72-.045-1.426-.122-2.125h.022l-.05-.18c-.23-1.917-.737-3.746-1.488-5.45l-17.586-64.395zm118.21 31.494l-46.21 45.77c-6.03 3.254-10.126 9.626-10.126 16.956 0 10.633 8.622 19.254 19.255 19.254.668 0 1.327-.034 1.977-.1 7.608 5.175 14.85 11.125 21.6 17.875 57.872 57.872 57.87 151.418 0 209.29-6.75 6.747-13.99 12.694-21.594 17.868-.65-.066-1.308-.1-1.975-.1-10.634 0-19.256 8.623-19.256 19.256 0 7.006 3.757 13.12 9.352 16.49l46.694 46.252-18.545-70.55c6.468-4.81 12.67-10.137 18.536-16.003l6.608-6.61-.334-.332c3.252-3.637 6.305-7.388 9.183-11.23l71.057 18.68-51.63-52.126c6.54-15.08 10.757-30.926 12.636-46.996l70.61-19.282-70.56-19.267c-1.82-15.925-5.937-31.633-12.343-46.59l51.234-51.727-70.318 18.483c-4.842-6.536-10.22-12.8-16.144-18.723-5.794-5.794-11.916-11.063-18.298-15.824l18.587-70.717zm-236.307.005l17.112 65.107c.218 1.76.662 3.45 1.322 5.032l.153.582c-6.38 4.76-12.498 10.023-18.29 15.814-5.92 5.92-11.294 12.18-16.136 18.715L54.024 139.61l51.31 51.802c-6.41 14.945-10.535 30.64-12.376 46.553l-70.562 19.27L92.95 276.5c1.856 16.108 6.06 31.994 12.595 47.105l-51.574 52.07 70.952-18.648c4.722 6.312 9.94 12.368 15.676 18.102 5.815 5.814 11.96 11.102 18.367 15.876-1.004 2.215-1.613 4.646-1.707 7.213l-16.678 63.456 48.91-48.447-.037-.08c3.86-3.52 6.297-8.575 6.297-14.21 0-10.634-8.622-19.256-19.256-19.256-.395 0-.786.015-1.176.04-7.573-5.16-14.783-11.088-21.506-17.81-57.872-57.872-57.872-151.417 0-209.29 6.725-6.723 13.938-12.65 21.514-17.81.39.022.782.036 1.178.036 10.634 0 19.254-8.62 19.254-19.254 0-6.22-2.963-11.736-7.54-15.256L140.3 52.875zm127.436 89.87v49.02l33.602 19.292 46.18-25.045-79.782-43.268zm-18.69.312l-79.722 42.957 46.31 24.955 33.413-19.062v-48.85zM159.9 202.164v114.012l46.346-24.975v-64.063L159.9 202.164zm196.985.027l-46.342 25.134v63.7l46.342 25.136V202.19zm-98.367 5.83l-33.584 19.158v64.285l33.584 19.162 33.336-19.145v-64.318l-33.336-19.14zm43.082 99.416l-33.864 19.445v47.056l78.24-42.432-44.376-24.068zm-86.24.084l-44.495 23.976 78.182 42.127v-46.885L215.36 307.52zm43.005 94.234c-10.634 0-19.254 8.622-19.254 19.256 0 2.74.582 5.342 1.615 7.703l17.67 64.713 17.787-65.12c.57-1.39.965-2.86 1.197-4.388l.06-.23h-.026c.122-.878.207-1.767.207-2.678 0-10.634-8.62-19.256-19.255-19.256z"},child:[]}]})(t)}function F8(t){return _s({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M16 16c48 96 24 120 72 168 0 0 44.864 0 69.53-21.688A135.765 135.765 0 0 0 120.25 256a135.765 135.765 0 0 0 271.5 0 135.765 135.765 0 0 0-36.375-92.906C380.22 183.997 424 184 424 184c48-48 24-72 72-168-96 48-120 24-168 72 0 0 .004 44.6 21.5 69.313a135.765 135.765 0 0 0-186.72-.344C183.987 132.19 184 88 184 88c-48-48-72-24-168-72zm72 312c-48 48-24 72-72 168 96-48 120-24 168-72 0 0 0-48-24-72s-72-24-72-24zm336 0s-48 0-72 24-24 72-24 72c48 48 72 24 168 72-48-96-24-120-72-168z"},child:[]}]})(t)}function fv(t){return _s({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M227.4 34.7c-10.1 0-20.2.2-30.2.5l6.1 65.6-61.1-62.5c-31.3 2.5-62.5 6.6-93.8 12.5l34.2 28.4-48-.6c35.1 100.2 6.9 182.6-.3 292.1L130 476.5c10-1.3 19.9-2.4 29.6-3.3l21.5-42.2 18.6 28.8 41.5-33.5.8 43c82.9-.2 157.7 9.1 235.7 7.9-28.2-73-31.2-143.6-31.9-209.2l-33.3-19.1 32.7-33.9c-.4-21.3-1.3-42-3.6-61.9l-57.4.7 50.2-41.7c-3.8-15.5-9-30.4-16.1-44.7l-29.5-23.9C335 38 281.2 34.6 227.4 34.7zm58.7 37c10.6 24.75 21.1 49.5 31.7 74.3 7.5-10.5 14.9-21 22.4-31.5 16 27.2 32 54.3 48 81.5l-16.2 9.5-33.3-56.7-42.5 59.4-15.2-10.9 24-33.5-21.9-51.5-24.6 40.1 12 22.6-16.5 8.8-18.3-34.5-24.8 58.2-17.2-7.4 32.5-76.2 7.7-18c4.8 9.2 9.6 18.3 14.5 27.4 12.5-20.6 25.1-41.11 37.7-61.6zM91.2 128c6.72 1.6 13.4 3.4 19.2 5.3-2.1 5.9-4.1 11.8-6.2 17.6-5.79-1.6-11.72-3.4-16.9-4.7 1.39-6 2.62-12.1 3.9-18.2zm37.9 13.4c6.3 3.8 12 7.2 17 12.8L132.6 167c-4-3.7-8.6-7-12.8-9.4zm28.7 32.3c2.1 7.4 2.1 15.7 1.6 22.5l-18.5-2.4c.1-5.1.3-10-1-14.5zm-21.2 35.7l17.2 7.1c-3.3 6.6-5.1 12.7-8.6 17.8l-16.3-9c2.6-5.4 5.6-10.8 7.7-15.9zm-16.5 34.1l17.7 6.1c-1.5 5.4-3 11.2-3.6 16.2l-18.6-2c1.3-7.5 2.1-14 4.5-20.3zm207.8 17.4c8.5 1 14.6 3 21.7 7.1l-9.8 16c-4.1-2.8-9.4-3.8-13.5-4.5zm-21.2 1.5c1.1 6.1 2.5 12.2 3.9 18.3-5.9 1.3-11.7 3.3-16.5 5.1l-6.8-17.4c6.7-2.4 13.5-4.7 19.4-6zm-37.9 15.9l11 15.1c-5.6 4-11.8 7.8-16.8 10.6l-8.9-16.4c5.1-2.9 10.6-6.3 14.7-9.3zM135.3 281c1.5 4.7 4.2 9.2 6.9 12.1l-13.8 12.6c-5.5-5.7-9.5-13.5-11.2-20.1zm230.3 3.3c3.5 6.4 6.8 12.7 8.7 19.1l-17.8 5.6c-2-5.4-4.3-10.8-6.8-14.8zm-127.4 10.9l6.9 17.3c-6.4 2.7-12.9 4.8-18.6 6.5l-5-18c5.9-1.6 11.3-3.8 16.7-5.8zm-83.8 6.2c5.3 1.7 10.8 3.4 15.7 4.2-1.2 6.1-2 12.3-2.8 18.5-7-1-14.5-3.3-20.5-5.7zm50 3.5l2.8 18.5c-7.2 1.3-13.4 1.6-19.8 1.9l-.4-18.7c5.9-.2 11.6-.8 17.4-1.7zm174.5 18c1 6.4 1.6 12.9 2.2 19.3l-18.7 1.5c-.4-6-.9-11.9-2-17.8zm-67.6 30.8c18.9 3.5 44.9 16.2 68.9 33.9 7.4-9.9 14.4-20.4 21.3-31.1l30.1 12.9c-4.7 12.3-15 25.6-28.6 37.2 17 16.2 30.9 34.5 37 53-13.8-18.1-31.1-31.8-50.3-42.8-23.4 15.8-52.7 25.9-79.6 20.4 22.9-4.4 40.6-16.6 55.8-32.6-16.5-7.5-33.8-13.9-51.3-20.1z"},child:[]}]})(t)}function q8(t){return _s({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256.156 21.625c-45.605 0-86.876 2.852-117.22 7.563-15.17 2.355-27.554 5.11-36.874 8.53-4.66 1.71-8.568 3.515-11.968 6.094-3.238 2.457-6.65 6.36-6.97 11.75h-.75c0 10.08.362 20.022 1.064 29.813H57.53c-.12-7.952.003-15.922.376-23.875l-26.812-6.28C22.55 161.892 64.1 265.716 140.564 339.655l15.655-29.594c-4.198-3.477-8.25-7.063-12.157-10.75 5.846-6.112 12.293-11.76 19.28-16.843 13.468 13.172 28.182 23.565 43.813 30.655 22.114 17.744 8.053 29.368-23.5 36.25 58.863 10.6 38.948 62.267-14.125 92.313-2.14.27-4.256.523-6.28.812-12.047 1.718-21.876 3.71-29.406 6.25-3.765 1.27-6.958 2.6-9.906 4.656-2.95 2.055-6.626 5.705-6.626 11.406 0 5.702 3.677 9.32 6.626 11.375 2.948 2.055 6.14 3.387 9.906 4.657 7.53 2.54 17.36 4.532 29.406 6.25 24.094 3.436 56.784 5.53 92.906 5.53 36.123 0 68.812-2.094 92.906-5.53 12.048-1.718 21.877-3.71 29.407-6.25 3.764-1.27 6.957-2.602 9.905-4.656 2.948-2.055 6.625-5.674 6.625-11.375 0-5.702-3.677-9.352-6.625-11.407-2.948-2.055-6.14-3.387-9.906-4.656-7.53-2.54-17.36-4.532-29.408-6.25-2.013-.287-4.12-.544-6.25-.813-53.076-30.045-72.99-81.71-14.125-92.312-31.568-6.886-45.63-18.522-23.468-36.28 15.74-7.15 30.547-17.655 44.092-30.97 6.648 4.773 12.84 10.038 18.47 15.72-4.105 4.172-8.338 8.257-12.72 12.217l16.188 29.594c79.118-71.955 116.195-179.53 110.03-285l-27.342 7.97c.45 7.61.64 15.19.562 22.75h-25.594c.702-9.792 1.063-19.735 1.063-29.814h-.75c-.323-5.39-3.763-9.293-7-11.75-3.402-2.58-7.31-4.383-11.97-6.093-9.32-3.422-21.704-6.177-36.875-8.532-30.342-4.71-71.613-7.563-117.22-7.563zm0 18.688c44.822 0 85.426 2.854 114.344 7.343 14.46 2.245 26.06 4.932 33.313 7.594 1.04.382 1.775.75 2.625 1.125-.85.375-1.58.742-2.625 1.125-7.252 2.662-18.854 5.38-33.313 7.625-28.918 4.49-69.522 7.344-114.344 7.344-44.82 0-85.425-2.855-114.344-7.345-14.46-2.245-26.06-4.963-33.312-7.625-1.05-.386-1.77-.748-2.625-1.125.853-.376 1.577-.74 2.625-1.125 7.252-2.662 18.853-5.35 33.313-7.594 28.918-4.49 69.522-7.343 114.343-7.343zm-197.25 71.874H86.25c8.057 57.878 28.23 108.83 56.188 146.25-6.974 5.74-13.407 11.968-19.188 18.688-38.648-46.456-59.042-104.647-64.344-164.938zm367.188 0h27C447.51 171.82 425.336 228.34 388.03 275c-5.44-6.055-11.406-11.73-17.842-16.97 27.81-37.38 47.873-88.175 55.906-145.842z"},child:[]}]})(t)}const V8={MISSING_PARAMETER:"missing_parameter",REMOTE_SERVICE_ERROR:"remote_service_error",INVALID_STATE:"invalid_state",NO_SESSION_DATA:"no_session_data",DOES_NOT_EXIST:"does_not_exist",FAILED_DECRYPTION_ERROR:"failed_decryption_error",INVALID_DID_ERROR:"invalid_did_error",NOT_ENOUGH_FUNDS_ERROR:"not_enough_error",INVALID_AMOUNT_ERROR:"invalid_amount_error",LOGIN_FAILED_ERROR:"login_failed",SIGNATURE_VERIFICATION_ERROR:"signature_verification_failure",CONFLICT_ERROR:"conflict_error",NOT_ENOUGH_PROOF_ERROR:"not_enough_proof_error",BAD_PATH_ERROR:"bad_path_error",VALIDATION_ERROR:"validation_error",PAYLOAD_TOO_LARGE_ERROR:"payload_too_large_error",PRECONDITION_FAILED_ERROR:"precondition_failed_error",UNKNOWN:"unknown"};Object.freeze(V8);class rk extends Error{constructor(e){super();let n=e.message,s=`Error Code: ${e.code}`,i=this.stack;if(i)s+=`Stack Trace:
${i}`;else try{throw new Error}catch(a){i=a.stack}n+=`
If you believe this exception is caused by a bug in stacks.js,
      please file a bug report: https://github.com/blockstack/stacks.js/issues

${s}`,this.message=n,this.code=e.code,this.parameter=e.parameter?e.parameter:void 0}toString(){return`${super.toString()}
    code: ${this.code} param: ${this.parameter?this.parameter:"n/a"}`}}class fE extends rk{constructor(e){super({code:V8.INVALID_STATE,message:e}),this.message=e,this.name="NoSessionDataError"}}function ok(t,e){return pE(dE(t),e)}function dE(t){if(typeof t=="bigint")return t;if(typeof t=="string")return BigInt(t);if(typeof t=="number"){if(!Number.isInteger(t))throw new RangeError("Invalid value. Values of type 'number' must be an integer.");if(t>Number.MAX_SAFE_INTEGER)throw new RangeError(`Invalid value. Values of type 'number' must be less than or equal to ${Number.MAX_SAFE_INTEGER}. For larger values, try using a BigInt instead.`);return BigInt(t)}if(hk(t,Uint8Array))return BigInt(`0x${ap(t)}`);throw new TypeError("intToBigInt: Invalid value type. Must be a number, bigint, BigInt-compatible string, or Uint8Array.")}function ak(t){return/^0x/i.test(t)?t.slice(2):t}function hE(t,e=8){return(typeof t=="bigint"?t:dE(t)).toString(16).padStart(e*2,"0")}function pE(t,e=16){const n=hE(t,e);return Yc(n)}function ck(t,e){if(t<-(BigInt(1)<<e-BigInt(1))||(BigInt(1)<<e-BigInt(1))-BigInt(1)<t)throw`Unable to represent integer in width: ${e}`;return t>=BigInt(0)?BigInt(t):t+(BigInt(1)<<e)}const lk=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function ap(t){if(!(t instanceof Uint8Array))throw new Error("Uint8Array expected");let e="";for(const n of t)e+=lk[n];return e}function Yc(t){if(typeof t!="string")throw new TypeError(`hexToBytes: expected string, got ${typeof t}`);t=ak(t),t=t.length%2?`0${t}`:t;const e=new Uint8Array(t.length/2);for(let n=0;n<e.length;n++){const s=n*2,i=t.slice(s,s+2),a=Number.parseInt(i,16);if(Number.isNaN(a)||a<0)throw new Error("Invalid byte sequence");e[n]=a}return e}function Tm(t){return new TextEncoder().encode(t)}function uk(t){return new TextDecoder().decode(t)}function fk(t){const e=[];for(let n=0;n<t.length;n++)e.push(t.charCodeAt(n)&255);return new Uint8Array(e)}function dk(t){return!Number.isInteger(t)||t<0||t>255}function v4(t){if(t.some(dk))throw new Error("Some values are invalid bytes.");return new Uint8Array(t)}function gE(...t){if(!t.every(s=>s instanceof Uint8Array))throw new Error("Uint8Array list expected");if(t.length===1)return t[0];const e=t.reduce((s,i)=>s+i.length,0),n=new Uint8Array(e);for(let s=0,i=0;s<t.length;s++){const a=t[s];n.set(a,i),i+=a.length}return n}function _o(t){return gE(...t.map(e=>typeof e=="number"?v4([e]):e instanceof Array?v4(e):e))}function hk(t,e){return t instanceof e||t?.constructor?.name?.toLowerCase()===e.name}function _m(t,e,n=0){return t[n+3]=e,e>>>=8,t[n+2]=e,e>>>=8,t[n+1]=e,e>>>=8,t[n]=e,t}/*! scure-base - MIT License (c) 2022 Paul Miller (paulmillr.com) */function W8(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function pk(t,...e){if(!W8(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function K8(t,e){return Array.isArray(e)?e.length===0?!0:t?e.every(n=>typeof n=="string"):e.every(n=>Number.isSafeInteger(n)):!1}function bh(t,e){if(typeof e!="string")throw new Error(`${t}: string expected`);return!0}function mE(t){if(!Number.isSafeInteger(t))throw new Error(`invalid integer: ${t}`)}function dv(t){if(!Array.isArray(t))throw new Error("array expected")}function Z0(t,e){if(!K8(!0,e))throw new Error(`${t}: array of strings expected`)}function gk(t,e){if(!K8(!1,e))throw new Error(`${t}: array of numbers expected`)}function G8(...t){const e=a=>a,n=(a,c)=>u=>a(c(u)),s=t.map(a=>a.encode).reduceRight(n,e),i=t.map(a=>a.decode).reduce(n,e);return{encode:s,decode:i}}function Y8(t){const e=typeof t=="string"?t.split(""):t,n=e.length;Z0("alphabet",e);const s=new Map(e.map((i,a)=>[i,a]));return{encode:i=>(dv(i),i.map(a=>{if(!Number.isSafeInteger(a)||a<0||a>=n)throw new Error(`alphabet.encode: digit index outside alphabet "${a}". Allowed: ${t}`);return e[a]})),decode:i=>(dv(i),i.map(a=>{bh("alphabet.decode",a);const c=s.get(a);if(c===void 0)throw new Error(`Unknown letter: "${a}". Allowed: ${t}`);return c}))}}function X8(t=""){return bh("join",t),{encode:e=>(Z0("join.decode",e),e.join(t)),decode:e=>(bh("join.decode",e),e.split(t))}}function Q8(t,e="="){return mE(t),bh("padding",e),{encode(n){for(Z0("padding.encode",n);n.length*t%8;)n.push(e);return n},decode(n){Z0("padding.decode",n);let s=n.length;if(s*t%8)throw new Error("padding: invalid, string should have whole number of bytes");for(;s>0&&n[s-1]===e;s--)if((s-1)*t%8===0)throw new Error("padding: invalid, string has too much padding");return n.slice(0,s)}}}const Z8=(t,e)=>e===0?t:Z8(e,t%e),J0=(t,e)=>t+(e-Z8(t,e)),_1=(()=>{let t=[];for(let e=0;e<40;e++)t.push(2**e);return t})();function E4(t,e,n,s){if(dv(t),e<=0||e>32)throw new Error(`convertRadix2: wrong from=${e}`);if(n<=0||n>32)throw new Error(`convertRadix2: wrong to=${n}`);if(J0(e,n)>32)throw new Error(`convertRadix2: carry overflow from=${e} to=${n} carryBits=${J0(e,n)}`);let i=0,a=0;const c=_1[e],u=_1[n]-1,f=[];for(const h of t){if(mE(h),h>=c)throw new Error(`convertRadix2: invalid data word=${h} from=${e}`);if(i=i<<e|h,a+e>32)throw new Error(`convertRadix2: carry overflow pos=${a} from=${e}`);for(a+=e;a>=n;a-=n)f.push((i>>a-n&u)>>>0);const p=_1[a];if(p===void 0)throw new Error("invalid carry");i&=p-1}if(i=i<<n-a&u,!s&&a>=e)throw new Error("Excess padding");if(!s&&i>0)throw new Error(`Non-zero padding: ${i}`);return s&&a>0&&f.push(i>>>0),f}function J8(t,e=!1){if(mE(t),t<=0||t>32)throw new Error("radix2: bits should be in (0..32]");if(J0(8,t)>32||J0(t,8)>32)throw new Error("radix2: carry overflow");return{encode:n=>{if(!W8(n))throw new Error("radix2.encode input should be Uint8Array");return E4(Array.from(n),8,t,!e)},decode:n=>(gk("radix2.decode",n),Uint8Array.from(E4(n,t,8,e)))}}const mk=G8(J8(5),Y8("ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"),Q8(5),X8("")),yk=typeof Uint8Array.from([]).toBase64=="function"&&typeof Uint8Array.fromBase64=="function",wk=(t,e)=>{bh("base64",t);const n=/^[A-Za-z0-9=+/]+$/,s="base64";if(t.length>0&&!n.test(t))throw new Error("invalid base64");return Uint8Array.fromBase64(t,{alphabet:s,lastChunkHandling:"strict"})},e6=yk?{encode(t){return pk(t),t.toBase64()},decode(t){return wk(t)}}:G8(J8(6),Y8("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),Q8(6),X8("")),yE="STX_PROVIDER",bk=()=>typeof window>"u"?null:window.localStorage.getItem(yE),vk=t=>{typeof window<"u"&&window.localStorage.setItem(yE,t)},Ek=()=>{typeof window<"u"&&window.localStorage.removeItem(yE)},Ak=()=>{if(typeof window>"u")return[];const t=window.webbtc_stx_providers||[],e=window.wbip_providers||[];return[...t,...e]},Ck=(t=[])=>{if(typeof window>"u")return[];const e=Ak(),n=t.filter(s=>e.find(a=>a.id===s.id)?!1:!!wE(s.id));return e.concat(n)},t6=()=>{const t=bk();return wE(t)},wE=t=>t?.split(".").reduce((e,n)=>e?.[n],window),Sk="modulepreload",xk=function(t){return"/"+t},A4={},vh=function(e,n,s){let i=Promise.resolve();if(n&&n.length>0){let f=function(h){return Promise.all(h.map(p=>Promise.resolve(p).then(g=>({status:"fulfilled",value:g}),g=>({status:"rejected",reason:g}))))};document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),u=c?.nonce||c?.getAttribute("nonce");i=f(n.map(h=>{if(h=xk(h),h in A4)return;A4[h]=!0;const p=h.endsWith(".css"),g=p?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${h}"]${g}`))return;const y=document.createElement("link");if(y.rel=p?"stylesheet":Sk,p||(y.as="script"),y.crossOrigin="",y.href=h,u&&y.setAttribute("nonce",u),document.head.appendChild(y),p)return new Promise((b,v)=>{y.addEventListener("load",b),y.addEventListener("error",()=>v(new Error(`Unable to preload CSS for ${h}`)))})}))}function a(c){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=c,window.dispatchEvent(u),!u.defaultPrevented)throw c}return i.then(c=>{for(const u of c||[])u.status==="rejected"&&a(u.reason);return e().catch(a)})},Nk="connect-ui",em={hydratedSelectorName:"hydrated",lazyLoad:!0,updatable:!0,watchCallback:!1};var Tk=Object.defineProperty,_k=(t,e)=>{for(var n in e)Tk(t,n,{get:e[n],enumerable:!0})},Ik="http://www.w3.org/2000/svg",Dk="http://www.w3.org/1999/xhtml",Gi=t=>{if(t.__stencil__getHostRef)return t.__stencil__getHostRef()},vce=(t,e)=>{t.__stencil__getHostRef=()=>e,e.$lazyInstance$=t},Ok=(t,e)=>{const n={$flags$:0,$hostElement$:t,$cmpMeta$:e,$instanceValues$:new Map};n.$onReadyPromise$=new Promise(i=>n.$onReadyResolve$=i),t["s-p"]=[],t["s-rc"]=[];const s=n;return t.__stencil__getHostRef=()=>s,s},C4=(t,e)=>e in t,Wu=(t,e)=>(0,console.error)(t,e),I1=new Map,Mk=(t,e,n)=>{const s=t.$tagName$.replace(/-/g,"_"),i=t.$lazyBundleId$;if(!i)return;const a=I1.get(i);if(a)return a[s];{const c=u=>(I1.set(i,u),u[s]);switch(i){case"connect-modal":return vh(()=>import("./connect-modal.entry-CSDJLNZ1.js"),[]).then(c,Wu)}}return vh(()=>import(`./${i}.entry.js`),[]).then(c=>(I1.set(i,c),c[s]),c=>{Wu(c,e.$hostElement$)})},tm=new Map,Rk="{visibility:hidden}.hydrated{visibility:inherit}",n6="slot-fb{display:contents}slot-fb[hidden]{display:none}",Un=typeof window<"u"?window:{},Rn={$flags$:0,$resourcesUrl$:"",jmp:t=>t(),raf:t=>requestAnimationFrame(t),ael:(t,e,n,s)=>t.addEventListener(e,n,s),rel:(t,e,n,s)=>t.removeEventListener(e,n,s),ce:(t,e)=>new CustomEvent(t,e)},$k=t=>Promise.resolve(t),bE=(()=>{try{return new CSSStyleSheet,typeof new CSSStyleSheet().replaceSync=="function"}catch{}return!1})(),hv=bE?!!Un.document&&Object.getOwnPropertyDescriptor(Un.document.adoptedStyleSheets,"length").writable:!1,pv=!1,S4=[],s6=[],Uk=(t,e)=>n=>{t.push(n),pv||(pv=!0,Rn.$flags$&4?vE(gv):Rn.raf(gv))},x4=t=>{for(let e=0;e<t.length;e++)try{t[e](performance.now())}catch(n){Wu(n)}t.length=0},gv=()=>{x4(S4),x4(s6),(pv=S4.length>0)&&Rn.raf(gv)},vE=t=>$k().then(t),Pk=Uk(s6),EE=t=>(t=typeof t,t==="object"||t==="function");function i6(t){var e,n,s;return(s=(n=(e=t.head)==null?void 0:e.querySelector('meta[name="csp-nonce"]'))==null?void 0:n.getAttribute("content"))!=null?s:void 0}var Lk=t=>t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),kk={};_k(kk,{err:()=>r6,map:()=>Bk,ok:()=>mv,unwrap:()=>jk,unwrapErr:()=>zk});var mv=t=>({isOk:!0,isErr:!1,value:t}),r6=t=>({isOk:!1,isErr:!0,value:t});function Bk(t,e){if(t.isOk){const n=e(t.value);return n instanceof Promise?n.then(s=>mv(s)):mv(n)}if(t.isErr){const n=t.value;return r6(n)}throw"should never get here"}var jk=t=>{if(t.isOk)return t.value;throw t.value},zk=t=>{if(t.isErr)return t.value;throw t.value};var md;function Hk(t){var e;const n=this.attachShadow({mode:"open"});md===void 0&&(md=(e=void 0)!=null?e:null),md&&(hv?n.adoptedStyleSheets.push(md):n.adoptedStyleSheets=[...n.adoptedStyleSheets,md])}var So=(t,e="")=>()=>{},Fk=(t,e)=>()=>{},Ru=new WeakMap,qk=(t,e,n)=>{let s=tm.get(t);bE&&n?(s=s||new CSSStyleSheet,typeof s=="string"?s=e:s.replaceSync(e)):s=e,tm.set(t,s)},Vk=(t,e,n)=>{var s;const i=o6(e),a=tm.get(i);if(!Un.document)return i;if(t=t.nodeType===11?t:Un.document,a)if(typeof a=="string"){t=t.head||t;let c=Ru.get(t),u;if(c||Ru.set(t,c=new Set),!c.has(i)){{u=Un.document.createElement("style"),u.innerHTML=a;const f=(s=Rn.$nonce$)!=null?s:i6(Un.document);if(f!=null&&u.setAttribute("nonce",f),!(e.$flags$&1))if(t.nodeName==="HEAD"){const h=t.querySelectorAll("link[rel=preconnect]"),p=h.length>0?h[h.length-1].nextSibling:t.querySelector("style");t.insertBefore(u,p?.parentNode===t?p:null)}else if("host"in t)if(bE){const h=new CSSStyleSheet;h.replaceSync(a),hv?t.adoptedStyleSheets.unshift(h):t.adoptedStyleSheets=[h,...t.adoptedStyleSheets]}else{const h=t.querySelector("style");h?h.innerHTML=a+h.innerHTML:t.prepend(u)}else t.append(u);e.$flags$&1&&t.insertBefore(u,null)}e.$flags$&4&&(u.innerHTML+=n6),c&&c.add(i)}}else t.adoptedStyleSheets.includes(a)||(hv?t.adoptedStyleSheets.push(a):t.adoptedStyleSheets=[...t.adoptedStyleSheets,a]);return i},Wk=t=>{const e=t.$cmpMeta$,n=t.$hostElement$,s=e.$flags$,i=So("attachStyles",e.$tagName$),a=Vk(n.shadowRoot?n.shadowRoot:n.getRootNode(),e);s&10&&(n["s-sc"]=a,n.classList.add(a+"-h")),i()},o6=(t,e)=>"sc-"+t.$tagName$,Kk=(t,e,...n)=>{let s=null,i=null,a=!1,c=!1;const u=[],f=p=>{for(let g=0;g<p.length;g++)s=p[g],Array.isArray(s)?f(s):s!=null&&typeof s!="boolean"&&((a=typeof t!="function"&&!EE(s))&&(s=String(s)),a&&c?u[u.length-1].$text$+=s:u.push(a?yv(null,s):s),c=a)};if(f(n),e){e.key&&(i=e.key);{const p=e.className||e.class;p&&(e.class=typeof p!="object"?p:Object.keys(p).filter(g=>p[g]).join(" "))}}const h=yv(t,null);return h.$attrs$=e,u.length>0&&(h.$children$=u),h.$key$=i,h},yv=(t,e)=>{const n={$flags$:0,$tag$:t,$text$:e,$elm$:null,$children$:null};return n.$attrs$=null,n.$key$=null,n},Gk={},Yk=t=>t&&t.$tag$===Gk,AE=t=>{const e=Lk(t);return new RegExp(`(^|[^@]|@(?!supports\\s+selector\\s*\\([^{]*?${e}))(${e}\\b)`,"g")};AE("::slotted");AE(":host");AE(":host-context");var wv=(t,e,n)=>{if(typeof t=="string"&&(e&16||e&8)&&(t.startsWith("{")&&t.endsWith("}")||t.startsWith("[")&&t.endsWith("]")))try{return JSON.parse(t)}catch{}return t!=null&&!EE(t),t},Ece=t=>{var e;return(e=Gi(t))==null?void 0:e.$hostElement$},Xk=(t,e,n)=>{const s=Rn.ce(e,n);return t.dispatchEvent(s),s},N4=(t,e,n,s,i,a,c)=>{if(n===s)return;let u=C4(t,e),f=e.toLowerCase();if(e==="class"){const h=t.classList,p=T4(n);let g=T4(s);h.remove(...p.filter(y=>y&&!g.includes(y))),h.add(...g.filter(y=>y&&!p.includes(y)))}else if(e!=="key")if(!u&&e[0]==="o"&&e[1]==="n"){if(e[2]==="-"?e=e.slice(3):C4(Un,f)?e=f.slice(2):e=f[2]+e.slice(3),n||s){const h=e.endsWith(a6);e=e.replace(Zk,""),n&&Rn.rel(t,e,n,h),s&&Rn.ael(t,e,s,h)}}else{const h=EE(s);if((u||h&&s!==null)&&!i)try{if(t.tagName.includes("-"))t[e]!==s&&(t[e]=s);else{const p=s??"";e==="list"?u=!1:(n==null||t[e]!=p)&&(typeof t.__lookupSetter__(e)=="function"?t[e]=p:t.setAttribute(e,p))}}catch{}s==null||s===!1?(s!==!1||t.getAttribute(e)==="")&&t.removeAttribute(e):(!u||a&4||i)&&!h&&t.nodeType===1&&(s=s===!0?"":s,t.setAttribute(e,s))}},Qk=/\s/,T4=t=>(typeof t=="object"&&t&&"baseVal"in t&&(t=t.baseVal),!t||typeof t!="string"?[]:t.split(Qk)),a6="Capture",Zk=new RegExp(a6+"$"),c6=(t,e,n,s)=>{const i=e.$elm$.nodeType===11&&e.$elm$.host?e.$elm$.host:e.$elm$,a=t&&t.$attrs$||{},c=e.$attrs$||{};for(const u of _4(Object.keys(a)))u in c||N4(i,u,a[u],void 0,n,e.$flags$);for(const u of _4(Object.keys(c)))N4(i,u,a[u],c[u],n,e.$flags$)};function _4(t){return t.includes("ref")?[...t.filter(e=>e!=="ref"),"ref"]:t}var CE,qs=!1,nm=(t,e,n)=>{const s=e.$children$[n];let i=0,a,c;if(s.$text$!==null)a=s.$elm$=Un.document.createTextNode(s.$text$);else{if(qs||(qs=s.$tag$==="svg"),!Un.document)throw new Error("You are trying to render a Stencil component in an environment that doesn't support the DOM. Make sure to populate the [`window`](https://developer.mozilla.org/en-US/docs/Web/API/Window/window) object before rendering a component.");if(a=s.$elm$=Un.document.createElementNS(qs?Ik:Dk,s.$tag$),qs&&s.$tag$==="foreignObject"&&(qs=!1),c6(null,s,qs),s.$children$)for(i=0;i<s.$children$.length;++i)c=nm(t,s,i),c&&a.appendChild(c);s.$tag$==="svg"?qs=!1:a.tagName==="foreignObject"&&(qs=!0)}return a["s-hn"]=CE,a},l6=(t,e,n,s,i,a)=>{let c=t,u;for(c.shadowRoot&&c.tagName===CE&&(c=c.shadowRoot);i<=a;++i)s[i]&&(u=nm(null,n,i),u&&(s[i].$elm$=u,O0(c,u,e)))},u6=(t,e,n)=>{for(let s=e;s<=n;++s){const i=t[s];if(i){const a=i.$elm$;a&&a.remove()}}},Jk=(t,e,n,s,i=!1)=>{let a=0,c=0,u=0,f=0,h=e.length-1,p=e[0],g=e[h],y=s.length-1,b=s[0],v=s[y],E,A;for(;a<=h&&c<=y;)if(p==null)p=e[++a];else if(g==null)g=e[--h];else if(b==null)b=s[++c];else if(v==null)v=s[--y];else if(Wg(p,b,i))Cu(p,b,i),p=e[++a],b=s[++c];else if(Wg(g,v,i))Cu(g,v,i),g=e[--h],v=s[--y];else if(Wg(p,v,i))Cu(p,v,i),O0(t,p.$elm$,g.$elm$.nextSibling),p=e[++a],v=s[--y];else if(Wg(g,b,i))Cu(g,b,i),O0(t,g.$elm$,p.$elm$),g=e[--h],b=s[++c];else{for(u=-1,f=a;f<=h;++f)if(e[f]&&e[f].$key$!==null&&e[f].$key$===b.$key$){u=f;break}u>=0?(A=e[u],A.$tag$!==b.$tag$?E=nm(e&&e[c],n,u):(Cu(A,b,i),e[u]=void 0,E=A.$elm$),b=s[++c]):(E=nm(e&&e[c],n,c),b=s[++c]),E&&O0(p.$elm$.parentNode,E,p.$elm$)}a>h?l6(t,s[y+1]==null?null:s[y+1].$elm$,n,s,c,y):c>y&&u6(e,a,h)},Wg=(t,e,n=!1)=>t.$tag$===e.$tag$?n?(n&&!t.$key$&&e.$key$&&(t.$key$=e.$key$),!0):t.$key$===e.$key$:!1,Cu=(t,e,n=!1)=>{const s=e.$elm$=t.$elm$,i=t.$children$,a=e.$children$,c=e.$tag$,u=e.$text$;u===null?(qs=c==="svg"?!0:c==="foreignObject"?!1:qs,c6(t,e,qs),i!==null&&a!==null?Jk(s,i,e,a,n):a!==null?(t.$text$!==null&&(s.textContent=""),l6(s,null,e,a,0,a.length-1)):!n&&em.updatable&&i!==null&&u6(i,0,i.length-1),qs&&c==="svg"&&(qs=!1)):t.$text$!==u&&(s.data=u)},O0=(t,e,n)=>t?.insertBefore(e,n),eB=(t,e,n=!1)=>{const s=t.$hostElement$,i=t.$vnode$||yv(null,null),c=Yk(e)?e:Kk(null,null,e);if(CE=s.tagName,n&&c.$attrs$)for(const u of Object.keys(c.$attrs$))s.hasAttribute(u)&&!["key","ref","style","class"].includes(u)&&(c.$attrs$[u]=s[u]);c.$tag$=null,c.$flags$|=4,t.$vnode$=c,c.$elm$=i.$elm$=s.shadowRoot||s,Cu(i,c,n)},f6=(t,e)=>{if(e&&!t.$onRenderResolve$&&e["s-p"]){const n=e["s-p"].push(new Promise(s=>t.$onRenderResolve$=()=>{e["s-p"].splice(n-1,1),s()}))}},SE=(t,e)=>{if(t.$flags$|=16,t.$flags$&4){t.$flags$|=512;return}f6(t,t.$ancestorComponent$);const n=()=>tB(t,e);if(e){queueMicrotask(()=>{n()});return}return Pk(n)},tB=(t,e)=>{const n=t.$hostElement$,s=So("scheduleUpdate",t.$cmpMeta$.$tagName$),i=t.$lazyInstance$;if(!i)throw new Error(`Can't render component <${n.tagName.toLowerCase()} /> with invalid Stencil runtime! Make sure this imported component is compiled with a \`externalRuntime: true\` flag. For more information, please refer to https://stenciljs.com/docs/custom-elements#externalruntime`);let a;return e?a=Ma(i,"componentWillLoad",void 0,n):a=Ma(i,"componentWillUpdate",void 0,n),a=I4(a,()=>Ma(i,"componentWillRender",void 0,n)),s(),I4(a,()=>sB(t,i,e))},I4=(t,e)=>nB(t)?t.then(e).catch(n=>{console.error(n),e()}):e(),nB=t=>t instanceof Promise||t&&t.then&&typeof t.then=="function",sB=async(t,e,n)=>{var s;const i=t.$hostElement$,a=So("update",t.$cmpMeta$.$tagName$),c=i["s-rc"];n&&Wk(t);const u=So("render",t.$cmpMeta$.$tagName$);iB(t,e,i,n),c&&(c.map(f=>f()),i["s-rc"]=void 0),u(),a();{const f=(s=i["s-p"])!=null?s:[],h=()=>rB(t);f.length===0?h():(Promise.all(f).then(h),t.$flags$|=4,f.length=0)}},iB=(t,e,n,s)=>{try{e=e.render(),t.$flags$&=-17,t.$flags$|=2,eB(t,e,s)}catch(i){Wu(i,t.$hostElement$)}return null},rB=t=>{const e=t.$cmpMeta$.$tagName$,n=t.$hostElement$,s=So("postUpdate",e),i=t.$lazyInstance$,a=t.$ancestorComponent$;Ma(i,"componentDidRender",void 0,n),t.$flags$&64?(Ma(i,"componentDidUpdate",void 0,n),s()):(t.$flags$|=64,oB(n),Ma(i,"componentDidLoad",void 0,n),s(),t.$onReadyResolve$(n),a||d6()),t.$onRenderResolve$&&(t.$onRenderResolve$(),t.$onRenderResolve$=void 0),t.$flags$&512&&vE(()=>SE(t,!1)),t.$flags$&=-517},d6=t=>{vE(()=>Xk(Un,"appload",{detail:{namespace:Nk}}))},Ma=(t,e,n,s)=>{if(t&&t[e])try{return t[e](n)}catch(i){Wu(i,s)}},oB=t=>{var e;return t.classList.add((e=em.hydratedSelectorName)!=null?e:"hydrated")},aB=(t,e)=>Gi(t).$instanceValues$.get(e),D1=(t,e,n,s)=>{const i=Gi(t);if(!i)return;if(!i)throw new Error(`Couldn't find host element for "${s.$tagName$}" as it is unknown to this Stencil runtime. This usually happens when integrating a 3rd party Stencil component with another Stencil component or application. Please reach out to the maintainers of the 3rd party Stencil component or report this on the Stencil Discord server (https://chat.stenciljs.com) or comment on this similar [GitHub issue](https://github.com/stenciljs/core/issues/5457).`);const a=i.$instanceValues$.get(e),c=i.$flags$,u=i.$lazyInstance$;n=wv(n,s.$members$[e][0]);const f=Number.isNaN(a)&&Number.isNaN(n),h=n!==a&&!f;if((!(c&8)||a===void 0)&&h&&(i.$instanceValues$.set(e,n),u&&(c&18)===2)){if(u.componentShouldUpdate&&u.componentShouldUpdate(n,a,e)===!1)return;SE(i,!1)}},h6=(t,e,n)=>{var s,i;const a=t.prototype;if(e.$members$||em.watchCallback){const c=Object.entries((s=e.$members$)!=null?s:{});if(c.map(([u,[f]])=>{if(f&31||n&2&&f&32){const{get:h,set:p}=Object.getOwnPropertyDescriptor(a,u)||{};h&&(e.$members$[u][0]|=2048),p&&(e.$members$[u][0]|=4096),(n&1||!h)&&Object.defineProperty(a,u,{get(){{if((e.$members$[u][0]&2048)===0)return aB(this,u);const g=Gi(this),y=g?g.$lazyInstance$:a;return y?y[u]:void 0}},configurable:!0,enumerable:!0}),Object.defineProperty(a,u,{set(g){const y=Gi(this);if(y){if(p){const b=f&32?this[u]:y.$hostElement$[u];typeof b>"u"&&y.$instanceValues$.get(u)?g=y.$instanceValues$.get(u):!y.$instanceValues$.get(u)&&b&&y.$instanceValues$.set(u,b),p.apply(this,[wv(g,f)]),g=f&32?this[u]:y.$hostElement$[u],D1(this,u,g,e);return}{if((n&1)===0||(e.$members$[u][0]&4096)===0){D1(this,u,g,e),n&1&&!y.$lazyInstance$&&y.$onReadyPromise$.then(()=>{e.$members$[u][0]&4096&&y.$lazyInstance$[u]!==y.$instanceValues$.get(u)&&(y.$lazyInstance$[u]=g)});return}const b=()=>{const v=y.$lazyInstance$[u];!y.$instanceValues$.get(u)&&v&&y.$instanceValues$.set(u,v),y.$lazyInstance$[u]=wv(g,f),D1(this,u,y.$lazyInstance$[u],e)};y.$lazyInstance$?b():y.$onReadyPromise$.then(()=>b())}}}})}}),n&1){const u=new Map;a.attributeChangedCallback=function(f,h,p){Rn.jmp(()=>{var g;const y=u.get(f);if(this.hasOwnProperty(y)&&em.lazyLoad)p=this[y],delete this[y];else{if(a.hasOwnProperty(y)&&typeof this[y]=="number"&&this[y]==p)return;if(y==null){const v=Gi(this),E=v?.$flags$;if(v&&E&&!(E&8)&&E&128&&p!==h){const A=v.$lazyInstance$,x=(g=e.$watchers$)==null?void 0:g[f];x?.forEach(D=>{A[D]!=null&&A[D].call(A,p,h,f)})}return}}const b=Object.getOwnPropertyDescriptor(a,y);p=p===null&&typeof this[y]=="boolean"?!1:p,p!==this[y]&&(!b.get||b.set)&&(this[y]=p)})},t.observedAttributes=Array.from(new Set([...Object.keys((i=e.$watchers$)!=null?i:{}),...c.filter(([f,h])=>h[0]&31).map(([f,h])=>{const p=h[1]||f;return u.set(p,f),p})]))}}return t},cB=async(t,e,n,s)=>{let i;if((e.$flags$&32)===0){if(e.$flags$|=32,n.$lazyBundleId$){const f=Mk(n,e);if(f&&"then"in f){const p=Fk();i=await f,p()}else i=f;if(!i)throw new Error(`Constructor for "${n.$tagName$}#${e.$modeName$}" was not found`);i.isProxied||(h6(i,n,2),i.isProxied=!0);const h=So("createInstance",n.$tagName$);e.$flags$|=8;try{new i(e)}catch(p){Wu(p,t)}e.$flags$&=-9,h(),bv(e.$lazyInstance$,t)}else{i=t.constructor;const f=t.localName;customElements.whenDefined(f).then(()=>e.$flags$|=128)}if(i&&i.style){let f;typeof i.style=="string"&&(f=i.style);const h=o6(n);if(!tm.has(h)){const p=So("registerStyles",n.$tagName$);qk(h,f,!!(n.$flags$&1)),p()}}}const a=e.$ancestorComponent$,c=()=>SE(e,!0);a&&a["s-rc"]?a["s-rc"].push(c):c()},bv=(t,e)=>{Ma(t,"connectedCallback",void 0,e)},lB=t=>{if((Rn.$flags$&1)===0){const e=Gi(t);if(!e)return;const n=e.$cmpMeta$,s=So("connectedCallback",n.$tagName$);if(e.$flags$&1)e?.$lazyInstance$?bv(e.$lazyInstance$,t):e?.$onReadyPromise$&&e.$onReadyPromise$.then(()=>bv(e.$lazyInstance$,t));else{e.$flags$|=1;{let i=t;for(;i=i.parentNode||i.host;)if(i["s-p"]){f6(e,e.$ancestorComponent$=i);break}}n.$members$&&Object.entries(n.$members$).map(([i,[a]])=>{if(a&31&&t.hasOwnProperty(i)){const c=t[i];delete t[i],t[i]=c}}),cB(t,e,n)}s()}},D4=(t,e)=>{Ma(t,"disconnectedCallback",void 0,e||t)},uB=async t=>{if((Rn.$flags$&1)===0){const e=Gi(t);e?.$lazyInstance$?D4(e.$lazyInstance$,t):e?.$onReadyPromise$&&e.$onReadyPromise$.then(()=>D4(e.$lazyInstance$,t))}Ru.has(t)&&Ru.delete(t),t.shadowRoot&&Ru.has(t.shadowRoot)&&Ru.delete(t.shadowRoot)},fB=(t,e={})=>{var n;if(!Un.document){console.warn("Stencil: No document found. Skipping bootstrapping lazy components.");return}const s=So(),i=[],a=e.exclude||[],c=Un.customElements,u=Un.document.head,f=u.querySelector("meta[charset]"),h=Un.document.createElement("style"),p=[];let g,y=!0;Object.assign(Rn,e),Rn.$resourcesUrl$=new URL(e.resourcesUrl||"./",Un.document.baseURI).href;let b=!1;if(t.map(v=>{v[1].map(E=>{const A={$flags$:E[0],$tagName$:E[1],$members$:E[2],$listeners$:E[3]};A.$flags$&4&&(b=!0),A.$members$=E[2];const x=A.$tagName$,D=class extends HTMLElement{constructor(S){if(super(S),this.hasRegisteredEventListeners=!1,S=this,Ok(S,A),A.$flags$&1){if(!S.shadowRoot)Hk.call(S,A);else if(S.shadowRoot.mode!=="open")throw new Error(`Unable to re-use existing shadow root for ${A.$tagName$}! Mode is set to ${S.shadowRoot.mode} but Stencil only supports open shadow roots.`)}}connectedCallback(){Gi(this)&&(this.hasRegisteredEventListeners||(this.hasRegisteredEventListeners=!0),g&&(clearTimeout(g),g=null),y?p.push(this):Rn.jmp(()=>lB(this)))}disconnectedCallback(){Rn.jmp(()=>uB(this)),Rn.raf(()=>{var S;const N=Gi(this);if(!N)return;const T=p.findIndex(I=>I===this);T>-1&&p.splice(T,1),((S=N?.$vnode$)==null?void 0:S.$elm$)instanceof Node&&!N.$vnode$.$elm$.isConnected&&delete N.$vnode$.$elm$})}componentOnReady(){var S;return(S=Gi(this))==null?void 0:S.$onReadyPromise$}};A.$lazyBundleId$=v[0],!a.includes(x)&&!c.get(x)&&(i.push(x),c.define(x,h6(D,A,1)))})}),i.length>0&&(b&&(h.textContent+=n6),h.textContent+=i.sort()+Rk,h.innerHTML.length)){h.setAttribute("data-styles","");const v=(n=Rn.$nonce$)!=null?n:i6(Un.document);v!=null&&h.setAttribute("nonce",v),u.insertBefore(h,f?f.nextSibling:u.firstChild)}y=!1,p.length?p.map(v=>v.connectedCallback()):Rn.jmp(()=>g=setTimeout(d6,30)),s()};const dB=()=>{},hB=async(t,e)=>{if(!(typeof window>"u"))return await dB(),fB([["connect-modal",[[257,"connect-modal",{defaultProviders:[16,"default-providers"],installedProviders:[16,"installed-providers"],callback:[16],cancelCallback:[16,"cancel-callback"]}]]]],e)};(function(){if(typeof window<"u"&&window.Reflect!==void 0&&window.customElements!==void 0){var t=HTMLElement;window.HTMLElement=function(){return Reflect.construct(t,[],this.constructor)},HTMLElement.prototype=t.prototype,HTMLElement.prototype.constructor=HTMLElement,Object.setPrototypeOf(HTMLElement,t)}})();const pB=128,gB=128,p6=16;var O4;(function(t){t[t.TokenTransfer=0]="TokenTransfer",t[t.SmartContract=1]="SmartContract",t[t.VersionedSmartContract=6]="VersionedSmartContract",t[t.ContractCall=2]="ContractCall",t[t.PoisonMicroblock=3]="PoisonMicroblock",t[t.Coinbase=4]="Coinbase",t[t.CoinbaseToAltRecipient=5]="CoinbaseToAltRecipient",t[t.TenureChange=7]="TenureChange",t[t.NakamotoCoinbase=8]="NakamotoCoinbase"})(O4||(O4={}));var M4;(function(t){t[t.Clarity1=1]="Clarity1",t[t.Clarity2=2]="Clarity2",t[t.Clarity3=3]="Clarity3"})(M4||(M4={}));var qi;(function(t){t[t.OnChainOnly=1]="OnChainOnly",t[t.OffChainOnly=2]="OffChainOnly",t[t.Any=3]="Any"})(qi||(qi={}));const O1=["onChainOnly","offChainOnly","any"];O1[0]+"",qi.OnChainOnly,O1[1]+"",qi.OffChainOnly,O1[2]+"",qi.Any,qi.OnChainOnly+"",qi.OnChainOnly,qi.OffChainOnly+"",qi.OffChainOnly,qi.Any+"",qi.Any;var sm;(function(t){t[t.Allow=1]="Allow",t[t.Deny=2]="Deny"})(sm||(sm={}));var Ar;(function(t){t[t.STX=0]="STX",t[t.Fungible=1]="Fungible",t[t.NonFungible=2]="NonFungible"})(Ar||(Ar={}));var R4;(function(t){t[t.Standard=4]="Standard",t[t.Sponsored=5]="Sponsored"})(R4||(R4={}));var $4;(function(t){t[t.P2PKH=0]="P2PKH",t[t.P2SH=1]="P2SH",t[t.P2WPKH=2]="P2WPKH",t[t.P2WSH=3]="P2WSH",t[t.P2SHNonSequential=5]="P2SHNonSequential",t[t.P2WSHNonSequential=7]="P2WSHNonSequential"})($4||($4={}));var U4;(function(t){t[t.Compressed=0]="Compressed",t[t.Uncompressed=1]="Uncompressed"})(U4||(U4={}));var P4;(function(t){t[t.Equal=1]="Equal",t[t.Greater=2]="Greater",t[t.GreaterEqual=3]="GreaterEqual",t[t.Less=4]="Less",t[t.LessEqual=5]="LessEqual"})(P4||(P4={}));var L4;(function(t){t[t.Sends=16]="Sends",t[t.DoesNotSend=17]="DoesNotSend"})(L4||(L4={}));var Nr;(function(t){t[t.Origin=1]="Origin",t[t.Standard=2]="Standard",t[t.Contract=3]="Contract"})(Nr||(Nr={}));var k4;(function(t){t[t.STX=0]="STX",t[t.Fungible=1]="Fungible",t[t.NonFungible=2]="NonFungible"})(k4||(k4={}));var B4;(function(t){t[t.BlockFound=0]="BlockFound",t[t.Extended=1]="Extended"})(B4||(B4={}));var j4;(function(t){t[t.PublicKeyCompressed=0]="PublicKeyCompressed",t[t.PublicKeyUncompressed=1]="PublicKeyUncompressed",t[t.SignatureCompressed=2]="SignatureCompressed",t[t.SignatureUncompressed=3]="SignatureUncompressed"})(j4||(j4={}));var z4;(function(t){t.Serialization="Serialization",t.Deserialization="Deserialization",t.SignatureValidation="SignatureValidation",t.FeeTooLow="FeeTooLow",t.BadNonce="BadNonce",t.NotEnoughFunds="NotEnoughFunds",t.NoSuchContract="NoSuchContract",t.NoSuchPublicFunction="NoSuchPublicFunction",t.BadFunctionArgument="BadFunctionArgument",t.ContractAlreadyExists="ContractAlreadyExists",t.PoisonMicroblocksDoNotConflict="PoisonMicroblocksDoNotConflict",t.PoisonMicroblockHasUnknownPubKeyHash="PoisonMicroblockHasUnknownPubKeyHash",t.PoisonMicroblockIsInvalid="PoisonMicroblockIsInvalid",t.BadAddressVersionByte="BadAddressVersionByte",t.NoCoinbaseViaMempool="NoCoinbaseViaMempool",t.ServerFailureNoSuchChainTip="ServerFailureNoSuchChainTip",t.ServerFailureDatabase="ServerFailureDatabase",t.ServerFailureOther="ServerFailureOther"})(z4||(z4={}));class mB extends Error{constructor(e){super(e),this.message=e,this.name=this.constructor.name,Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}}class g6 extends mB{constructor(e){super(e)}}function vv(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`Wrong positive integer: ${t}`)}function yB(t){if(typeof t!="boolean")throw new Error(`Expected boolean, not ${t}`)}function m6(t,...e){if(!(t instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(e.length>0&&!e.includes(t.length))throw new TypeError(`Expected Uint8Array of length ${e}, not of length=${t.length}`)}function wB(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");vv(t.outputLen),vv(t.blockLen)}function bB(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function vB(t,e){m6(t);const n=e.outputLen;if(t.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}const M1={number:vv,bool:yB,bytes:m6,hash:wB,exists:bB,output:vB};/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const R1=t=>new DataView(t.buffer,t.byteOffset,t.byteLength),ur=(t,e)=>t<<32-e|t>>>e,EB=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!EB)throw new Error("Non little-endian hardware is not supported");Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function AB(t){if(typeof t!="string")throw new TypeError(`utf8ToBytes expected string, got ${typeof t}`);return new TextEncoder().encode(t)}function y6(t){if(typeof t=="string"&&(t=AB(t)),!(t instanceof Uint8Array))throw new TypeError(`Expected input type is Uint8Array (got ${typeof t})`);return t}let CB=class{clone(){return this._cloneInto()}};function nl(t){const e=s=>t().update(y6(s)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function SB(t,e,n,s){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,s);const i=BigInt(32),a=BigInt(4294967295),c=Number(n>>i&a),u=Number(n&a),f=s?4:0,h=s?0:4;t.setUint32(e+f,c,s),t.setUint32(e+h,u,s)}class xE extends CB{constructor(e,n,s,i){super(),this.blockLen=e,this.outputLen=n,this.padOffset=s,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=R1(this.buffer)}update(e){M1.exists(this);const{view:n,buffer:s,blockLen:i}=this;e=y6(e);const a=e.length;for(let c=0;c<a;){const u=Math.min(i-this.pos,a-c);if(u===i){const f=R1(e);for(;i<=a-c;c+=i)this.process(f,c);continue}s.set(e.subarray(c,c+u),this.pos),this.pos+=u,c+=u,this.pos===i&&(this.process(n,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){M1.exists(this),M1.output(e,this),this.finished=!0;const{buffer:n,view:s,blockLen:i,isLE:a}=this;let{pos:c}=this;n[c++]=128,this.buffer.subarray(c).fill(0),this.padOffset>i-c&&(this.process(s,0),c=0);for(let g=c;g<i;g++)n[g]=0;SB(s,i-8,BigInt(this.length*8),a),this.process(s,0);const u=R1(e),f=this.outputLen;if(f%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const h=f/4,p=this.get();if(h>p.length)throw new Error("_sha2: outputLen bigger than state");for(let g=0;g<h;g++)u.setUint32(4*g,p[g],a)}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const s=e.slice(0,n);return this.destroy(),s}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:n,buffer:s,length:i,finished:a,destroyed:c,pos:u}=this;return e.length=i,e.pos=u,e.finished=a,e.destroyed=c,i%n&&e.buffer.set(s),e}}const xB=(t,e,n)=>t&e^~t&n,NB=(t,e,n)=>t&e^t&n^e&n,TB=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),aa=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),ca=new Uint32Array(64);class w6 extends xE{constructor(){super(64,32,8,!1),this.A=aa[0]|0,this.B=aa[1]|0,this.C=aa[2]|0,this.D=aa[3]|0,this.E=aa[4]|0,this.F=aa[5]|0,this.G=aa[6]|0,this.H=aa[7]|0}get(){const{A:e,B:n,C:s,D:i,E:a,F:c,G:u,H:f}=this;return[e,n,s,i,a,c,u,f]}set(e,n,s,i,a,c,u,f){this.A=e|0,this.B=n|0,this.C=s|0,this.D=i|0,this.E=a|0,this.F=c|0,this.G=u|0,this.H=f|0}process(e,n){for(let g=0;g<16;g++,n+=4)ca[g]=e.getUint32(n,!1);for(let g=16;g<64;g++){const y=ca[g-15],b=ca[g-2],v=ur(y,7)^ur(y,18)^y>>>3,E=ur(b,17)^ur(b,19)^b>>>10;ca[g]=E+ca[g-7]+v+ca[g-16]|0}let{A:s,B:i,C:a,D:c,E:u,F:f,G:h,H:p}=this;for(let g=0;g<64;g++){const y=ur(u,6)^ur(u,11)^ur(u,25),b=p+y+xB(u,f,h)+TB[g]+ca[g]|0,E=(ur(s,2)^ur(s,13)^ur(s,22))+NB(s,i,a)|0;p=h,h=f,f=u,u=c+b|0,c=a,a=i,i=s,s=b+E|0}s=s+this.A|0,i=i+this.B|0,a=a+this.C|0,c=c+this.D|0,u=u+this.E|0,f=f+this.F|0,h=h+this.G|0,p=p+this.H|0,this.set(s,i,a,c,u,f,h,p)}roundClean(){ca.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}class _B extends w6{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}}nl(()=>new w6);nl(()=>new _B);/*! noble-secp256k1 - MIT License (c) 2019 Paul Miller (paulmillr.com) */const pt=BigInt(0),Xt=BigInt(1),_a=BigInt(2),M0=BigInt(3),H4=BigInt(8),Cn=Object.freeze({a:pt,b:BigInt(7),P:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),n:BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),h:Xt,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee")}),F4=(t,e)=>(t+e/_a)/e,Kg={beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar(t){const{n:e}=Cn,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),s=-Xt*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),a=n,c=BigInt("0x100000000000000000000000000000000"),u=F4(a*t,e),f=F4(-s*t,e);let h=_e(t-u*n-f*i,e),p=_e(-u*s-f*a,e);const g=h>c,y=p>c;if(g&&(h=e-h),y&&(p=e-p),h>c||p>c)throw new Error("splitScalarEndo: Endomorphism failed, k="+t);return{k1neg:g,k1:h,k2neg:y,k2:p}}},$u=32,Ev=32,q4=$u+1,V4=2*$u+1;function W4(t){const{a:e,b:n}=Cn,s=_e(t*t),i=_e(s*t);return _e(i+e*t+n)}const Gg=Cn.a===pt;function K4(t){if(!(t instanceof ht))throw new TypeError("JacobianPoint expected")}class ht{constructor(e,n,s){this.x=e,this.y=n,this.z=s}static fromAffine(e){if(!(e instanceof bn))throw new TypeError("JacobianPoint#fromAffine: expected Point");return e.equals(bn.ZERO)?ht.ZERO:new ht(e.x,e.y,Xt)}static toAffineBatch(e){const n=RB(e.map(s=>s.z));return e.map((s,i)=>s.toAffine(n[i]))}static normalizeZ(e){return ht.toAffineBatch(e).map(ht.fromAffine)}equals(e){K4(e);const{x:n,y:s,z:i}=this,{x:a,y:c,z:u}=e,f=_e(i*i),h=_e(u*u),p=_e(n*h),g=_e(a*f),y=_e(_e(s*u)*h),b=_e(_e(c*i)*f);return p===g&&y===b}negate(){return new ht(this.x,_e(-this.y),this.z)}double(){const{x:e,y:n,z:s}=this,i=_e(e*e),a=_e(n*n),c=_e(a*a),u=e+a,f=_e(_a*(_e(u*u)-i-c)),h=_e(M0*i),p=_e(h*h),g=_e(p-_a*f),y=_e(h*(f-g)-H4*c),b=_e(_a*n*s);return new ht(g,y,b)}add(e){K4(e);const{x:n,y:s,z:i}=this,{x:a,y:c,z:u}=e;if(a===pt||c===pt)return this;if(n===pt||s===pt)return e;const f=_e(i*i),h=_e(u*u),p=_e(n*h),g=_e(a*f),y=_e(_e(s*u)*h),b=_e(_e(c*i)*f),v=_e(g-p),E=_e(b-y);if(v===pt)return E===pt?this.double():ht.ZERO;const A=_e(v*v),x=_e(v*A),D=_e(p*A),S=_e(E*E-x-_a*D),N=_e(E*(D-S)-y*x),T=_e(i*u*v);return new ht(S,N,T)}subtract(e){return this.add(e.negate())}multiplyUnsafe(e){const n=ht.ZERO;if(typeof e=="bigint"&&e===pt)return n;let s=Q4(e);if(s===Xt)return this;if(!Gg){let g=n,y=this;for(;s>pt;)s&Xt&&(g=g.add(y)),y=y.double(),s>>=Xt;return g}let{k1neg:i,k1:a,k2neg:c,k2:u}=Kg.splitScalar(s),f=n,h=n,p=this;for(;a>pt||u>pt;)a&Xt&&(f=f.add(p)),u&Xt&&(h=h.add(p)),p=p.double(),a>>=Xt,u>>=Xt;return i&&(f=f.negate()),c&&(h=h.negate()),h=new ht(_e(h.x*Kg.beta),h.y,h.z),f.add(h)}precomputeWindow(e){const n=Gg?128/e+1:256/e+1,s=[];let i=this,a=i;for(let c=0;c<n;c++){a=i,s.push(a);for(let u=1;u<2**(e-1);u++)a=a.add(i),s.push(a);i=a.double()}return s}wNAF(e,n){!n&&this.equals(ht.BASE)&&(n=bn.BASE);const s=n&&n._WINDOW_SIZE||1;if(256%s)throw new Error("Point#wNAF: Invalid precomputation window, must be power of 2");let i=n&&Av.get(n);i||(i=this.precomputeWindow(s),n&&s!==1&&(i=ht.normalizeZ(i),Av.set(n,i)));let a=ht.ZERO,c=ht.BASE;const u=1+(Gg?128/s:256/s),f=2**(s-1),h=BigInt(2**s-1),p=2**s,g=BigInt(s);for(let y=0;y<u;y++){const b=y*f;let v=Number(e&h);e>>=g,v>f&&(v-=p,e+=Xt);const E=b,A=b+Math.abs(v)-1,x=y%2!==0,D=v<0;v===0?c=c.add(Yg(x,i[E])):a=a.add(Yg(D,i[A]))}return{p:a,f:c}}multiply(e,n){let s=Q4(e),i,a;if(Gg){const{k1neg:c,k1:u,k2neg:f,k2:h}=Kg.splitScalar(s);let{p,f:g}=this.wNAF(u,n),{p:y,f:b}=this.wNAF(h,n);p=Yg(c,p),y=Yg(f,y),y=new ht(_e(y.x*Kg.beta),y.y,y.z),i=p.add(y),a=g.add(b)}else{const{p:c,f:u}=this.wNAF(s,n);i=c,a=u}return ht.normalizeZ([i,a])[0]}toAffine(e){const{x:n,y:s,z:i}=this,a=this.equals(ht.ZERO);e==null&&(e=a?H4:NE(i));const c=e,u=_e(c*c),f=_e(u*c),h=_e(n*u),p=_e(s*f),g=_e(i*c);if(a)return bn.ZERO;if(g!==Xt)throw new Error("invZ was invalid");return new bn(h,p)}}ht.BASE=new ht(Cn.Gx,Cn.Gy,Xt);ht.ZERO=new ht(pt,Xt,pt);function Yg(t,e){const n=e.negate();return t?n:e}const Av=new WeakMap;class bn{constructor(e,n){this.x=e,this.y=n}_setWindowSize(e){this._WINDOW_SIZE=e,Av.delete(this)}hasEvenY(){return this.y%_a===pt}static fromCompressedHex(e){const n=e.length===32,s=ju(n?e:e.subarray(1));if(!$1(s))throw new Error("Point is not on curve");const i=W4(s);let a=MB(i);const c=(a&Xt)===Xt;n?c&&(a=_e(-a)):(e[0]&1)===1!==c&&(a=_e(-a));const u=new bn(s,a);return u.assertValidity(),u}static fromUncompressedHex(e){const n=ju(e.subarray(1,$u+1)),s=ju(e.subarray($u+1,$u*2+1)),i=new bn(n,s);return i.assertValidity(),i}static fromHex(e){const n=X4(e),s=n.length,i=n[0];if(s===$u)return this.fromCompressedHex(n);if(s===q4&&(i===2||i===3))return this.fromCompressedHex(n);if(s===V4&&i===4)return this.fromUncompressedHex(n);throw new Error(`Point.fromHex: received invalid point. Expected 32-${q4} compressed bytes or ${V4} uncompressed bytes, not ${s}`)}static fromPrivateKey(e){return bn.BASE.multiply(PB(e))}static fromSignature(e,n,s){const{r:i,s:a}=LB(n);if(![0,1,2,3].includes(s))throw new Error("Cannot recover: invalid recovery bit");const c=UB(X4(e)),{n:u}=Cn,f=s===2||s===3?i+u:i,h=NE(f,u),p=_e(-c*h,u),g=_e(a*h,u),y=s&1?"03":"02",b=bn.fromHex(y+Qd(f)),v=bn.BASE.multiplyAndAddUnsafe(b,p,g);if(!v)throw new Error("Cannot recover signature: point at infinify");return v.assertValidity(),v}toRawBytes(e=!1){return Zd(this.toHex(e))}toHex(e=!1){const n=Qd(this.x);return e?`${this.hasEvenY()?"02":"03"}${n}`:`04${n}${Qd(this.y)}`}toHexX(){return this.toHex(!0).slice(2)}toRawX(){return this.toRawBytes(!0).slice(1)}assertValidity(){const e="Point is not on elliptic curve",{x:n,y:s}=this;if(!$1(n)||!$1(s))throw new Error(e);const i=_e(s*s),a=W4(n);if(_e(i-a)!==pt)throw new Error(e)}equals(e){return this.x===e.x&&this.y===e.y}negate(){return new bn(this.x,_e(-this.y))}double(){return ht.fromAffine(this).double().toAffine()}add(e){return ht.fromAffine(this).add(ht.fromAffine(e)).toAffine()}subtract(e){return this.add(e.negate())}multiply(e){return ht.fromAffine(this).multiply(e,this).toAffine()}multiplyAndAddUnsafe(e,n,s){const i=ht.fromAffine(this),a=n===pt||n===Xt||this!==bn.BASE?i.multiplyUnsafe(n):i.multiply(n),c=ht.fromAffine(e).multiplyUnsafe(s),u=a.add(c);return u.equals(ht.ZERO)?void 0:u.toAffine()}}bn.BASE=new bn(Cn.Gx,Cn.Gy);bn.ZERO=new bn(pt,pt);function G4(t){return Number.parseInt(t[0],16)>=8?"00"+t:t}function Y4(t){if(t.length<2||t[0]!==2)throw new Error(`Invalid signature integer tag: ${Eh(t)}`);const e=t[1],n=t.subarray(2,e+2);if(!e||n.length!==e)throw new Error("Invalid signature integer: wrong length");if(n[0]===0&&n[1]<=127)throw new Error("Invalid signature integer: trailing length");return{data:ju(n),left:t.subarray(e+2)}}function IB(t){if(t.length<2||t[0]!=48)throw new Error(`Invalid signature tag: ${Eh(t)}`);if(t[1]!==t.length-2)throw new Error("Invalid signature: incorrect length");const{data:e,left:n}=Y4(t.subarray(2)),{data:s,left:i}=Y4(n);if(i.length)throw new Error(`Invalid signature: left bytes after parsing: ${Eh(i)}`);return{r:e,s}}class Vc{constructor(e,n){this.r=e,this.s=n,this.assertValidity()}static fromCompact(e){const n=e instanceof Uint8Array,s="Signature.fromCompact";if(typeof e!="string"&&!n)throw new TypeError(`${s}: Expected string or Uint8Array`);const i=n?Eh(e):e;if(i.length!==128)throw new Error(`${s}: Expected 64-byte hex`);return new Vc(im(i.slice(0,64)),im(i.slice(64,128)))}static fromDER(e){const n=e instanceof Uint8Array;if(typeof e!="string"&&!n)throw new TypeError("Signature.fromDER: Expected string or Uint8Array");const{r:s,s:i}=IB(n?e:Zd(e));return new Vc(s,i)}static fromHex(e){return this.fromDER(e)}assertValidity(){const{r:e,s:n}=this;if(!rm(e))throw new Error("Invalid Signature: r must be 0 < r < n");if(!rm(n))throw new Error("Invalid Signature: s must be 0 < s < n")}hasHighS(){const e=Cn.n>>Xt;return this.s>e}normalizeS(){return this.hasHighS()?new Vc(this.r,_e(-this.s,Cn.n)):this}toDERRawBytes(){return Zd(this.toDERHex())}toDERHex(){const e=G4(yd(this.s)),n=G4(yd(this.r)),s=e.length/2,i=n.length/2,a=yd(s),c=yd(i);return`30${yd(i+s+4)}02${c}${n}02${a}${e}`}toRawBytes(){return this.toDERRawBytes()}toHex(){return this.toDERHex()}toCompactRawBytes(){return Zd(this.toCompactHex())}toCompactHex(){return Qd(this.r)+Qd(this.s)}}const DB=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function Eh(t){if(!(t instanceof Uint8Array))throw new Error("Expected Uint8Array");let e="";for(let n=0;n<t.length;n++)e+=DB[t[n]];return e}const OB=BigInt("0x10000000000000000000000000000000000000000000000000000000000000000");function Qd(t){if(typeof t!="bigint")throw new Error("Expected bigint");if(!(pt<=t&&t<OB))throw new Error("Expected number 0 <= n < 2^256");return t.toString(16).padStart(64,"0")}function yd(t){const e=t.toString(16);return e.length&1?`0${e}`:e}function im(t){if(typeof t!="string")throw new TypeError("hexToNumber: expected string, got "+typeof t);return BigInt(`0x${t}`)}function Zd(t){if(typeof t!="string")throw new TypeError("hexToBytes: expected string, got "+typeof t);if(t.length%2)throw new Error("hexToBytes: received invalid unpadded hex"+t.length);const e=new Uint8Array(t.length/2);for(let n=0;n<e.length;n++){const s=n*2,i=t.slice(s,s+2),a=Number.parseInt(i,16);if(Number.isNaN(a)||a<0)throw new Error("Invalid byte sequence");e[n]=a}return e}function ju(t){return im(Eh(t))}function X4(t){return t instanceof Uint8Array?Uint8Array.from(t):Zd(t)}function Q4(t){if(typeof t=="number"&&Number.isSafeInteger(t)&&t>0)return BigInt(t);if(typeof t=="bigint"&&rm(t))return t;throw new TypeError("Expected valid private scalar: 0 < scalar < curve.n")}function _e(t,e=Cn.P){const n=t%e;return n>=pt?n:e+n}function di(t,e){const{P:n}=Cn;let s=t;for(;e-- >pt;)s*=s,s%=n;return s}function MB(t){const{P:e}=Cn,n=BigInt(6),s=BigInt(11),i=BigInt(22),a=BigInt(23),c=BigInt(44),u=BigInt(88),f=t*t*t%e,h=f*f*t%e,p=di(h,M0)*h%e,g=di(p,M0)*h%e,y=di(g,_a)*f%e,b=di(y,s)*y%e,v=di(b,i)*b%e,E=di(v,c)*v%e,A=di(E,u)*E%e,x=di(A,c)*v%e,D=di(x,M0)*h%e,S=di(D,a)*b%e,N=di(S,n)*f%e,T=di(N,_a);if(T*T%e!==t)throw new Error("Cannot find square root");return T}function NE(t,e=Cn.P){if(t===pt||e<=pt)throw new Error(`invert: expected positive integers, got n=${t} mod=${e}`);let n=_e(t,e),s=e,i=pt,a=Xt;for(;n!==pt;){const u=s/n,f=s%n,h=i-a*u;s=n,n=f,i=a,a=h}if(s!==Xt)throw new Error("invert: does not exist");return _e(i,e)}function RB(t,e=Cn.P){const n=new Array(t.length),s=t.reduce((a,c,u)=>c===pt?a:(n[u]=a,_e(a*c,e)),Xt),i=NE(s,e);return t.reduceRight((a,c,u)=>c===pt?a:(n[u]=_e(a*n[u],e),_e(a*c,e)),i),n}function $B(t){const e=t.length*8-Ev*8,n=ju(t);return e>0?n>>BigInt(e):n}function UB(t,e=!1){const n=$B(t);if(e)return n;const{n:s}=Cn;return n>=s?n-s:n}function rm(t){return pt<t&&t<Cn.n}function $1(t){return pt<t&&t<Cn.P}function PB(t){let e;if(typeof t=="bigint")e=t;else if(typeof t=="number"&&Number.isSafeInteger(t)&&t>0)e=BigInt(t);else if(typeof t=="string"){if(t.length!==2*Ev)throw new Error("Expected 32 bytes of private key");e=im(t)}else if(t instanceof Uint8Array){if(t.length!==Ev)throw new Error("Expected 32 bytes of private key");e=ju(t)}else throw new TypeError("Expected valid private key");if(!rm(e))throw new Error("Expected private key: 0 < key < n");return e}function LB(t){if(t instanceof Vc)return t.assertValidity(),t;try{return Vc.fromDER(t)}catch{return Vc.fromCompact(t)}}bn.BASE._setWindowSize(8);var U1={},P1={},L1={},wd={},Z4;function kB(){return Z4||(Z4=1,Object.defineProperty(wd,"__esModule",{value:!0}),wd.crypto=void 0,wd.crypto={node:void 0,web:typeof self=="object"&&"crypto"in self?self.crypto:void 0}),wd}var J4;function of(){return J4||(J4=1,(function(t){/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */Object.defineProperty(t,"__esModule",{value:!0}),t.randomBytes=t.wrapConstructorWithOpts=t.wrapConstructor=t.checkOpts=t.Hash=t.concatBytes=t.toBytes=t.utf8ToBytes=t.asyncLoop=t.nextTick=t.hexToBytes=t.bytesToHex=t.isLE=t.rotr=t.createView=t.u32=t.u8=void 0;const e=kB(),n=N=>new Uint8Array(N.buffer,N.byteOffset,N.byteLength);t.u8=n;const s=N=>new Uint32Array(N.buffer,N.byteOffset,Math.floor(N.byteLength/4));t.u32=s;const i=N=>new DataView(N.buffer,N.byteOffset,N.byteLength);t.createView=i;const a=(N,T)=>N<<32-T|N>>>T;if(t.rotr=a,t.isLE=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68,!t.isLE)throw new Error("Non little-endian hardware is not supported");const c=Array.from({length:256},(N,T)=>T.toString(16).padStart(2,"0"));function u(N){if(!(N instanceof Uint8Array))throw new Error("Uint8Array expected");let T="";for(let I=0;I<N.length;I++)T+=c[N[I]];return T}t.bytesToHex=u;function f(N){if(typeof N!="string")throw new TypeError("hexToBytes: expected string, got "+typeof N);if(N.length%2)throw new Error("hexToBytes: received invalid unpadded hex");const T=new Uint8Array(N.length/2);for(let I=0;I<T.length;I++){const $=I*2,P=N.slice($,$+2),M=Number.parseInt(P,16);if(Number.isNaN(M)||M<0)throw new Error("Invalid byte sequence");T[I]=M}return T}t.hexToBytes=f;const h=async()=>{};t.nextTick=h;async function p(N,T,I){let $=Date.now();for(let P=0;P<N;P++){I(P);const M=Date.now()-$;M>=0&&M<T||(await(0,t.nextTick)(),$+=M)}}t.asyncLoop=p;function g(N){if(typeof N!="string")throw new TypeError(`utf8ToBytes expected string, got ${typeof N}`);return new TextEncoder().encode(N)}t.utf8ToBytes=g;function y(N){if(typeof N=="string"&&(N=g(N)),!(N instanceof Uint8Array))throw new TypeError(`Expected input type is Uint8Array (got ${typeof N})`);return N}t.toBytes=y;function b(...N){if(!N.every($=>$ instanceof Uint8Array))throw new Error("Uint8Array list expected");if(N.length===1)return N[0];const T=N.reduce(($,P)=>$+P.length,0),I=new Uint8Array(T);for(let $=0,P=0;$<N.length;$++){const M=N[$];I.set(M,P),P+=M.length}return I}t.concatBytes=b;class v{clone(){return this._cloneInto()}}t.Hash=v;const E=N=>Object.prototype.toString.call(N)==="[object Object]"&&N.constructor===Object;function A(N,T){if(T!==void 0&&(typeof T!="object"||!E(T)))throw new TypeError("Options should be object or undefined");return Object.assign(N,T)}t.checkOpts=A;function x(N){const T=$=>N().update(y($)).digest(),I=N();return T.outputLen=I.outputLen,T.blockLen=I.blockLen,T.create=()=>N(),T}t.wrapConstructor=x;function D(N){const T=($,P)=>N(P).update(y($)).digest(),I=N({});return T.outputLen=I.outputLen,T.blockLen=I.blockLen,T.create=$=>N($),T}t.wrapConstructorWithOpts=D;function S(N=32){if(e.crypto.web)return e.crypto.web.getRandomValues(new Uint8Array(N));if(e.crypto.node)return new Uint8Array(e.crypto.node.randomBytes(N).buffer);throw new Error("The environment doesn't have randomBytes function")}t.randomBytes=S})(L1)),L1}var eN;function b6(){return eN||(eN=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.c32decode=t.c32normalize=t.c32encode=t.c32=void 0;const e=of();t.c32="0123456789ABCDEFGHJKMNPQRSTVWXYZ";const n="0123456789abcdef";function s(c,u){if(!c.match(/^[0-9a-fA-F]*$/))throw new Error("Not a hex-encoded string");c.length%2!==0&&(c=`0${c}`),c=c.toLowerCase();let f=[],h=0;for(let b=c.length-1;b>=0;b--)if(h<4){const v=n.indexOf(c[b])>>h;let E=0;b!==0&&(E=n.indexOf(c[b-1]));const A=1+h,x=E%(1<<A)<<5-A,D=t.c32[v+x];h=A,f.unshift(D)}else h=0;let p=0;for(let b=0;b<f.length&&f[b]==="0";b++)p++;f=f.slice(p);const g=new TextDecoder().decode((0,e.hexToBytes)(c)).match(/^\u0000*/),y=g?g[0].length:0;for(let b=0;b<y;b++)f.unshift(t.c32[0]);if(u){const b=u-f.length;for(let v=0;v<b;v++)f.unshift(t.c32[0])}return f.join("")}t.c32encode=s;function i(c){return c.toUpperCase().replace(/O/g,"0").replace(/L|I/g,"1")}t.c32normalize=i;function a(c,u){if(c=i(c),!c.match(`^[${t.c32}]*$`))throw new Error("Not a c32-encoded string");const f=c.match(`^${t.c32[0]}*`),h=f?f[0].length:0;let p=[],g=0,y=0;for(let E=c.length-1;E>=0;E--){y===4&&(p.unshift(n[g]),y=0,g=0);const x=(t.c32.indexOf(c[E])<<y)+g,D=n[x%16];if(y+=1,g=x>>4,g>1<<y)throw new Error("Panic error in decoding.");p.unshift(D)}p.unshift(n[g]),p.length%2===1&&p.unshift("0");let b=0;for(let E=0;E<p.length&&p[E]==="0";E++)b++;p=p.slice(b-b%2);let v=p.join("");for(let E=0;E<h;E++)v=`00${v}`;if(u){const E=u*2-v.length;for(let A=0;A<E;A+=2)v=`00${v}`}return v}t.c32decode=a})(P1)),P1}var yc={},wc={},bd={},qn={},tN;function BB(){if(tN)return qn;tN=1,Object.defineProperty(qn,"__esModule",{value:!0}),qn.output=qn.exists=qn.hash=qn.bytes=qn.bool=qn.number=void 0;function t(u){if(!Number.isSafeInteger(u)||u<0)throw new Error(`Wrong positive integer: ${u}`)}qn.number=t;function e(u){if(typeof u!="boolean")throw new Error(`Expected boolean, not ${u}`)}qn.bool=e;function n(u,...f){if(!(u instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(f.length>0&&!f.includes(u.length))throw new TypeError(`Expected Uint8Array of length ${f}, not of length=${u.length}`)}qn.bytes=n;function s(u){if(typeof u!="function"||typeof u.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");t(u.outputLen),t(u.blockLen)}qn.hash=s;function i(u,f=!0){if(u.destroyed)throw new Error("Hash instance has been destroyed");if(f&&u.finished)throw new Error("Hash#digest() has already been called")}qn.exists=i;function a(u,f){n(u);const h=f.outputLen;if(u.length<h)throw new Error(`digestInto() expects output buffer of length at least ${h}`)}qn.output=a;const c={number:t,bool:e,bytes:n,hash:s,exists:i,output:a};return qn.default=c,qn}var nN;function jB(){if(nN)return bd;nN=1,Object.defineProperty(bd,"__esModule",{value:!0}),bd.SHA2=void 0;const t=BB(),e=of();function n(i,a,c,u){if(typeof i.setBigUint64=="function")return i.setBigUint64(a,c,u);const f=BigInt(32),h=BigInt(4294967295),p=Number(c>>f&h),g=Number(c&h),y=u?4:0,b=u?0:4;i.setUint32(a+y,p,u),i.setUint32(a+b,g,u)}class s extends e.Hash{constructor(a,c,u,f){super(),this.blockLen=a,this.outputLen=c,this.padOffset=u,this.isLE=f,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(a),this.view=(0,e.createView)(this.buffer)}update(a){t.default.exists(this);const{view:c,buffer:u,blockLen:f}=this;a=(0,e.toBytes)(a);const h=a.length;for(let p=0;p<h;){const g=Math.min(f-this.pos,h-p);if(g===f){const y=(0,e.createView)(a);for(;f<=h-p;p+=f)this.process(y,p);continue}u.set(a.subarray(p,p+g),this.pos),this.pos+=g,p+=g,this.pos===f&&(this.process(c,0),this.pos=0)}return this.length+=a.length,this.roundClean(),this}digestInto(a){t.default.exists(this),t.default.output(a,this),this.finished=!0;const{buffer:c,view:u,blockLen:f,isLE:h}=this;let{pos:p}=this;c[p++]=128,this.buffer.subarray(p).fill(0),this.padOffset>f-p&&(this.process(u,0),p=0);for(let E=p;E<f;E++)c[E]=0;n(u,f-8,BigInt(this.length*8),h),this.process(u,0);const g=(0,e.createView)(a),y=this.outputLen;if(y%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const b=y/4,v=this.get();if(b>v.length)throw new Error("_sha2: outputLen bigger than state");for(let E=0;E<b;E++)g.setUint32(4*E,v[E],h)}digest(){const{buffer:a,outputLen:c}=this;this.digestInto(a);const u=a.slice(0,c);return this.destroy(),u}_cloneInto(a){a||(a=new this.constructor),a.set(...this.get());const{blockLen:c,buffer:u,length:f,finished:h,destroyed:p,pos:g}=this;return a.length=f,a.pos=g,a.finished=h,a.destroyed=p,f%c&&a.buffer.set(u),a}}return bd.SHA2=s,bd}var sN;function v6(){if(sN)return wc;sN=1,Object.defineProperty(wc,"__esModule",{value:!0}),wc.sha224=wc.sha256=void 0;const t=jB(),e=of(),n=(h,p,g)=>h&p^~h&g,s=(h,p,g)=>h&p^h&g^p&g,i=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),a=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),c=new Uint32Array(64);class u extends t.SHA2{constructor(){super(64,32,8,!1),this.A=a[0]|0,this.B=a[1]|0,this.C=a[2]|0,this.D=a[3]|0,this.E=a[4]|0,this.F=a[5]|0,this.G=a[6]|0,this.H=a[7]|0}get(){const{A:p,B:g,C:y,D:b,E:v,F:E,G:A,H:x}=this;return[p,g,y,b,v,E,A,x]}set(p,g,y,b,v,E,A,x){this.A=p|0,this.B=g|0,this.C=y|0,this.D=b|0,this.E=v|0,this.F=E|0,this.G=A|0,this.H=x|0}process(p,g){for(let N=0;N<16;N++,g+=4)c[N]=p.getUint32(g,!1);for(let N=16;N<64;N++){const T=c[N-15],I=c[N-2],$=(0,e.rotr)(T,7)^(0,e.rotr)(T,18)^T>>>3,P=(0,e.rotr)(I,17)^(0,e.rotr)(I,19)^I>>>10;c[N]=P+c[N-7]+$+c[N-16]|0}let{A:y,B:b,C:v,D:E,E:A,F:x,G:D,H:S}=this;for(let N=0;N<64;N++){const T=(0,e.rotr)(A,6)^(0,e.rotr)(A,11)^(0,e.rotr)(A,25),I=S+T+n(A,x,D)+i[N]+c[N]|0,P=((0,e.rotr)(y,2)^(0,e.rotr)(y,13)^(0,e.rotr)(y,22))+s(y,b,v)|0;S=D,D=x,x=A,A=E+I|0,E=v,v=b,b=y,y=I+P|0}y=y+this.A|0,b=b+this.B|0,v=v+this.C|0,E=E+this.D|0,A=A+this.E|0,x=x+this.F|0,D=D+this.G|0,S=S+this.H|0,this.set(y,b,v,E,A,x,D,S)}roundClean(){c.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}class f extends u{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}}return wc.sha256=(0,e.wrapConstructor)(()=>new u),wc.sha224=(0,e.wrapConstructor)(()=>new f),wc}var iN;function E6(){if(iN)return yc;iN=1,Object.defineProperty(yc,"__esModule",{value:!0}),yc.c32checkDecode=yc.c32checkEncode=void 0;const t=v6(),e=of(),n=b6();function s(c){const u=(0,t.sha256)((0,t.sha256)((0,e.hexToBytes)(c)));return(0,e.bytesToHex)(u.slice(0,4))}function i(c,u){if(c<0||c>=32)throw new Error("Invalid version (must be between 0 and 31)");if(!u.match(/^[0-9a-fA-F]*$/))throw new Error("Invalid data (not a hex string)");u=u.toLowerCase(),u.length%2!==0&&(u=`0${u}`);let f=c.toString(16);f.length===1&&(f=`0${f}`);const h=s(`${f}${u}`),p=(0,n.c32encode)(`${u}${h}`);return`${n.c32[c]}${p}`}yc.c32checkEncode=i;function a(c){c=(0,n.c32normalize)(c);const u=(0,n.c32decode)(c.slice(1)),f=c[0],h=n.c32.indexOf(f),p=u.slice(-8);let g=h.toString(16);if(g.length===1&&(g=`0${g}`),s(`${g}${u.substring(0,u.length-8)}`)!==p)throw new Error("Invalid c32check string: checksum mismatch");return[h,u.substring(0,u.length-8)]}return yc.c32checkDecode=a,yc}var k1={},bc={},B1,rN;function zB(){if(rN)return B1;rN=1;function t(e){if(e.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),s=0;s<n.length;s++)n[s]=255;for(var i=0;i<e.length;i++){var a=e.charAt(i),c=a.charCodeAt(0);if(n[c]!==255)throw new TypeError(a+" is ambiguous");n[c]=i}var u=e.length,f=e.charAt(0),h=Math.log(u)/Math.log(256),p=Math.log(256)/Math.log(u);function g(v){if(v instanceof Uint8Array||(ArrayBuffer.isView(v)?v=new Uint8Array(v.buffer,v.byteOffset,v.byteLength):Array.isArray(v)&&(v=Uint8Array.from(v))),!(v instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(v.length===0)return"";for(var E=0,A=0,x=0,D=v.length;x!==D&&v[x]===0;)x++,E++;for(var S=(D-x)*p+1>>>0,N=new Uint8Array(S);x!==D;){for(var T=v[x],I=0,$=S-1;(T!==0||I<A)&&$!==-1;$--,I++)T+=256*N[$]>>>0,N[$]=T%u>>>0,T=T/u>>>0;if(T!==0)throw new Error("Non-zero carry");A=I,x++}for(var P=S-A;P!==S&&N[P]===0;)P++;for(var M=f.repeat(E);P<S;++P)M+=e.charAt(N[P]);return M}function y(v){if(typeof v!="string")throw new TypeError("Expected String");if(v.length===0)return new Uint8Array;for(var E=0,A=0,x=0;v[E]===f;)A++,E++;for(var D=(v.length-E)*h+1>>>0,S=new Uint8Array(D);v[E];){var N=v.charCodeAt(E);if(N>255)return;var T=n[N];if(T===255)return;for(var I=0,$=D-1;(T!==0||I<x)&&$!==-1;$--,I++)T+=u*S[$]>>>0,S[$]=T%256>>>0,T=T/256>>>0;if(T!==0)throw new Error("Non-zero carry");x=I,E++}for(var P=D-x;P!==D&&S[P]===0;)P++;for(var M=new Uint8Array(A+(D-P)),z=A;P!==D;)M[z++]=S[P++];return M}function b(v){var E=y(v);if(E)return E;throw new Error("Non-base"+u+" character")}return{encode:g,decodeUnsafe:y,decode:b}}return B1=t,B1}var oN;function HB(){if(oN)return bc;oN=1,Object.defineProperty(bc,"__esModule",{value:!0}),bc.decode=bc.encode=void 0;const t=v6(),e=of(),n=zB(),s="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";function i(c,u="00"){const f=typeof c=="string"?(0,e.hexToBytes)(c):c,h=typeof u=="string"?(0,e.hexToBytes)(u):c;if(!(f instanceof Uint8Array)||!(h instanceof Uint8Array))throw new TypeError("Argument must be of type Uint8Array or string");const p=(0,t.sha256)((0,t.sha256)(new Uint8Array([...h,...f])));return n(s).encode([...h,...f,...p.slice(0,4)])}bc.encode=i;function a(c){const u=n(s).decode(c),f=u.slice(0,1),h=u.slice(1,-4),p=(0,t.sha256)((0,t.sha256)(new Uint8Array([...f,...h])));return u.slice(-4).forEach((g,y)=>{if(g!==p[y])throw new Error("Invalid checksum")}),{prefix:f,data:h}}return bc.decode=a,bc}var aN;function FB(){return aN||(aN=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.c32ToB58=t.b58ToC32=t.c32addressDecode=t.c32address=t.versions=void 0;const e=E6(),n=HB(),s=of();t.versions={mainnet:{p2pkh:22,p2sh:20},testnet:{p2pkh:26,p2sh:21}};const i={};i[0]=t.versions.mainnet.p2pkh,i[5]=t.versions.mainnet.p2sh,i[111]=t.versions.testnet.p2pkh,i[196]=t.versions.testnet.p2sh;const a={};a[t.versions.mainnet.p2pkh]=0,a[t.versions.mainnet.p2sh]=5,a[t.versions.testnet.p2pkh]=111,a[t.versions.testnet.p2sh]=196;function c(p,g){if(!g.match(/^[0-9a-fA-F]{40}$/))throw new Error("Invalid argument: not a hash160 hex string");return`S${(0,e.c32checkEncode)(p,g)}`}t.c32address=c;function u(p){if(p.length<=5)throw new Error("Invalid c32 address: invalid length");if(p[0]!="S")throw new Error('Invalid c32 address: must start with "S"');return(0,e.c32checkDecode)(p.slice(1))}t.c32addressDecode=u;function f(p,g=-1){const y=n.decode(p),b=(0,s.bytesToHex)(y.data),v=parseInt((0,s.bytesToHex)(y.prefix),16);let E;return g<0?(E=v,i[v]!==void 0&&(E=i[v])):E=g,c(E,b)}t.b58ToC32=f;function h(p,g=-1){const y=u(p),b=y[0],v=y[1];let E;g<0?(E=b,a[b]!==void 0&&(E=a[b])):E=g;let A=E.toString(16);return A.length===1&&(A=`0${A}`),n.encode(v,A)}t.c32ToB58=h})(k1)),k1}var cN;function qB(){return cN||(cN=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.b58ToC32=t.c32ToB58=t.versions=t.c32normalize=t.c32addressDecode=t.c32address=t.c32checkDecode=t.c32checkEncode=t.c32decode=t.c32encode=void 0;const e=b6();Object.defineProperty(t,"c32encode",{enumerable:!0,get:function(){return e.c32encode}}),Object.defineProperty(t,"c32decode",{enumerable:!0,get:function(){return e.c32decode}}),Object.defineProperty(t,"c32normalize",{enumerable:!0,get:function(){return e.c32normalize}});const n=E6();Object.defineProperty(t,"c32checkEncode",{enumerable:!0,get:function(){return n.c32checkEncode}}),Object.defineProperty(t,"c32checkDecode",{enumerable:!0,get:function(){return n.c32checkDecode}});const s=FB();Object.defineProperty(t,"c32address",{enumerable:!0,get:function(){return s.c32address}}),Object.defineProperty(t,"c32addressDecode",{enumerable:!0,get:function(){return s.c32addressDecode}}),Object.defineProperty(t,"c32ToB58",{enumerable:!0,get:function(){return s.c32ToB58}}),Object.defineProperty(t,"b58ToC32",{enumerable:!0,get:function(){return s.b58ToC32}}),Object.defineProperty(t,"versions",{enumerable:!0,get:function(){return s.versions}})})(U1)),U1}var VB=qB();const WB=new Uint8Array([7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8]),A6=Uint8Array.from({length:16},(t,e)=>e),KB=A6.map(t=>(9*t+5)%16);let TE=[A6],_E=[KB];for(let t=0;t<4;t++)for(let e of[TE,_E])e.push(e[t].map(n=>WB[n]));const C6=[[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8],[12,13,11,15,6,9,9,7,12,15,11,13,7,8,7,7],[13,15,14,11,7,7,6,8,13,14,13,12,5,5,6,9],[14,11,12,14,8,6,5,5,15,12,15,14,9,9,8,6],[15,12,13,13,9,5,8,6,14,11,12,11,8,6,5,5]].map(t=>new Uint8Array(t)),GB=TE.map((t,e)=>t.map(n=>C6[e][n])),YB=_E.map((t,e)=>t.map(n=>C6[e][n])),XB=new Uint32Array([0,1518500249,1859775393,2400959708,2840853838]),QB=new Uint32Array([1352829926,1548603684,1836072691,2053994217,0]),Xg=(t,e)=>t<<e|t>>>32-e;function lN(t,e,n,s){return t===0?e^n^s:t===1?e&n|~e&s:t===2?(e|~n)^s:t===3?e&s|n&~s:e^(n|~s)}const Qg=new Uint32Array(16);class ZB extends xE{constructor(){super(64,20,8,!0),this.h0=1732584193,this.h1=-271733879,this.h2=-1732584194,this.h3=271733878,this.h4=-1009589776}get(){const{h0:e,h1:n,h2:s,h3:i,h4:a}=this;return[e,n,s,i,a]}set(e,n,s,i,a){this.h0=e|0,this.h1=n|0,this.h2=s|0,this.h3=i|0,this.h4=a|0}process(e,n){for(let b=0;b<16;b++,n+=4)Qg[b]=e.getUint32(n,!0);let s=this.h0|0,i=s,a=this.h1|0,c=a,u=this.h2|0,f=u,h=this.h3|0,p=h,g=this.h4|0,y=g;for(let b=0;b<5;b++){const v=4-b,E=XB[b],A=QB[b],x=TE[b],D=_E[b],S=GB[b],N=YB[b];for(let T=0;T<16;T++){const I=Xg(s+lN(b,a,u,h)+Qg[x[T]]+E,S[T])+g|0;s=g,g=h,h=Xg(u,10)|0,u=a,a=I}for(let T=0;T<16;T++){const I=Xg(i+lN(v,c,f,p)+Qg[D[T]]+A,N[T])+y|0;i=y,y=p,p=Xg(f,10)|0,f=c,c=I}}this.set(this.h1+u+p|0,this.h2+h+y|0,this.h3+g+i|0,this.h4+s+c|0,this.h0+a+f|0)}roundClean(){Qg.fill(0)}destroy(){this.destroyed=!0,this.buffer.fill(0),this.set(0,0,0,0,0)}}nl(()=>new ZB);const Zg=BigInt(2**32-1),Cv=BigInt(32);function S6(t,e=!1){return e?{h:Number(t&Zg),l:Number(t>>Cv&Zg)}:{h:Number(t>>Cv&Zg)|0,l:Number(t&Zg)|0}}function JB(t,e=!1){let n=new Uint32Array(t.length),s=new Uint32Array(t.length);for(let i=0;i<t.length;i++){const{h:a,l:c}=S6(t[i],e);[n[i],s[i]]=[a,c]}return[n,s]}const ej=(t,e)=>BigInt(t>>>0)<<Cv|BigInt(e>>>0),tj=(t,e,n)=>t>>>n,nj=(t,e,n)=>t<<32-n|e>>>n,sj=(t,e,n)=>t>>>n|e<<32-n,ij=(t,e,n)=>t<<32-n|e>>>n,rj=(t,e,n)=>t<<64-n|e>>>n-32,oj=(t,e,n)=>t>>>n-32|e<<64-n,aj=(t,e)=>e,cj=(t,e)=>t,lj=(t,e,n)=>t<<n|e>>>32-n,uj=(t,e,n)=>e<<n|t>>>32-n,fj=(t,e,n)=>e<<n-32|t>>>64-n,dj=(t,e,n)=>t<<n-32|e>>>64-n;function hj(t,e,n,s){const i=(e>>>0)+(s>>>0);return{h:t+n+(i/2**32|0)|0,l:i|0}}const pj=(t,e,n)=>(t>>>0)+(e>>>0)+(n>>>0),gj=(t,e,n,s)=>e+n+s+(t/2**32|0)|0,mj=(t,e,n,s)=>(t>>>0)+(e>>>0)+(n>>>0)+(s>>>0),yj=(t,e,n,s,i)=>e+n+s+i+(t/2**32|0)|0,wj=(t,e,n,s,i)=>(t>>>0)+(e>>>0)+(n>>>0)+(s>>>0)+(i>>>0),bj=(t,e,n,s,i,a)=>e+n+s+i+a+(t/2**32|0)|0,We={fromBig:S6,split:JB,toBig:ej,shrSH:tj,shrSL:nj,rotrSH:sj,rotrSL:ij,rotrBH:rj,rotrBL:oj,rotr32H:aj,rotr32L:cj,rotlSH:lj,rotlSL:uj,rotlBH:fj,rotlBL:dj,add:hj,add3L:pj,add3H:gj,add4L:mj,add4H:yj,add5H:bj,add5L:wj},[vj,Ej]=We.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),la=new Uint32Array(80),ua=new Uint32Array(80);class Im extends xE{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:n,Bh:s,Bl:i,Ch:a,Cl:c,Dh:u,Dl:f,Eh:h,El:p,Fh:g,Fl:y,Gh:b,Gl:v,Hh:E,Hl:A}=this;return[e,n,s,i,a,c,u,f,h,p,g,y,b,v,E,A]}set(e,n,s,i,a,c,u,f,h,p,g,y,b,v,E,A){this.Ah=e|0,this.Al=n|0,this.Bh=s|0,this.Bl=i|0,this.Ch=a|0,this.Cl=c|0,this.Dh=u|0,this.Dl=f|0,this.Eh=h|0,this.El=p|0,this.Fh=g|0,this.Fl=y|0,this.Gh=b|0,this.Gl=v|0,this.Hh=E|0,this.Hl=A|0}process(e,n){for(let S=0;S<16;S++,n+=4)la[S]=e.getUint32(n),ua[S]=e.getUint32(n+=4);for(let S=16;S<80;S++){const N=la[S-15]|0,T=ua[S-15]|0,I=We.rotrSH(N,T,1)^We.rotrSH(N,T,8)^We.shrSH(N,T,7),$=We.rotrSL(N,T,1)^We.rotrSL(N,T,8)^We.shrSL(N,T,7),P=la[S-2]|0,M=ua[S-2]|0,z=We.rotrSH(P,M,19)^We.rotrBH(P,M,61)^We.shrSH(P,M,6),q=We.rotrSL(P,M,19)^We.rotrBL(P,M,61)^We.shrSL(P,M,6),F=We.add4L($,q,ua[S-7],ua[S-16]),ee=We.add4H(F,I,z,la[S-7],la[S-16]);la[S]=ee|0,ua[S]=F|0}let{Ah:s,Al:i,Bh:a,Bl:c,Ch:u,Cl:f,Dh:h,Dl:p,Eh:g,El:y,Fh:b,Fl:v,Gh:E,Gl:A,Hh:x,Hl:D}=this;for(let S=0;S<80;S++){const N=We.rotrSH(g,y,14)^We.rotrSH(g,y,18)^We.rotrBH(g,y,41),T=We.rotrSL(g,y,14)^We.rotrSL(g,y,18)^We.rotrBL(g,y,41),I=g&b^~g&E,$=y&v^~y&A,P=We.add5L(D,T,$,Ej[S],ua[S]),M=We.add5H(P,x,N,I,vj[S],la[S]),z=P|0,q=We.rotrSH(s,i,28)^We.rotrBH(s,i,34)^We.rotrBH(s,i,39),F=We.rotrSL(s,i,28)^We.rotrBL(s,i,34)^We.rotrBL(s,i,39),ee=s&a^s&u^a&u,Q=i&c^i&f^c&f;x=E|0,D=A|0,E=b|0,A=v|0,b=g|0,v=y|0,{h:g,l:y}=We.add(h|0,p|0,M|0,z|0),h=u|0,p=f|0,u=a|0,f=c|0,a=s|0,c=i|0;const R=We.add3L(z,F,Q);s=We.add3H(R,M,q,ee),i=R|0}({h:s,l:i}=We.add(this.Ah|0,this.Al|0,s|0,i|0)),{h:a,l:c}=We.add(this.Bh|0,this.Bl|0,a|0,c|0),{h:u,l:f}=We.add(this.Ch|0,this.Cl|0,u|0,f|0),{h,l:p}=We.add(this.Dh|0,this.Dl|0,h|0,p|0),{h:g,l:y}=We.add(this.Eh|0,this.El|0,g|0,y|0),{h:b,l:v}=We.add(this.Fh|0,this.Fl|0,b|0,v|0),{h:E,l:A}=We.add(this.Gh|0,this.Gl|0,E|0,A|0),{h:x,l:D}=We.add(this.Hh|0,this.Hl|0,x|0,D|0),this.set(s,i,a,c,u,f,h,p,g,y,b,v,E,A,x,D)}roundClean(){la.fill(0),ua.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}class Aj extends Im{constructor(){super(),this.Ah=-1942145080,this.Al=424955298,this.Bh=1944164710,this.Bl=-1982016298,this.Ch=502970286,this.Cl=855612546,this.Dh=1738396948,this.Dl=1479516111,this.Eh=258812777,this.El=2077511080,this.Fh=2011393907,this.Fl=79989058,this.Gh=1067287976,this.Gl=1780299464,this.Hh=286451373,this.Hl=-1848208735,this.outputLen=28}}class Cj extends Im{constructor(){super(),this.Ah=573645204,this.Al=-64227540,this.Bh=-1621794909,this.Bl=-934517566,this.Ch=596883563,this.Cl=1867755857,this.Dh=-1774684391,this.Dl=1497426621,this.Eh=-1775747358,this.El=-1467023389,this.Fh=-1101128155,this.Fl=1401305490,this.Gh=721525244,this.Gl=746961066,this.Hh=246885852,this.Hl=-2117784414,this.outputLen=32}}class Sj extends Im{constructor(){super(),this.Ah=-876896931,this.Al=-1056596264,this.Bh=1654270250,this.Bl=914150663,this.Ch=-1856437926,this.Cl=812702999,this.Dh=355462360,this.Dl=-150054599,this.Eh=1731405415,this.El=-4191439,this.Fh=-1900787065,this.Fl=1750603025,this.Gh=-619958771,this.Gl=1694076839,this.Hh=1203062813,this.Hl=-1090891868,this.outputLen=48}}nl(()=>new Im);nl(()=>new Aj);nl(()=>new Cj);nl(()=>new Sj);var Bd={exports:{}};Bd.exports;var uN;function xj(){return uN||(uN=1,(function(t,e){var n=200,s="__lodash_hash_undefined__",i=9007199254740991,a="[object Arguments]",c="[object Array]",u="[object Boolean]",f="[object Date]",h="[object Error]",p="[object Function]",g="[object GeneratorFunction]",y="[object Map]",b="[object Number]",v="[object Object]",E="[object Promise]",A="[object RegExp]",x="[object Set]",D="[object String]",S="[object Symbol]",N="[object WeakMap]",T="[object ArrayBuffer]",I="[object DataView]",$="[object Float32Array]",P="[object Float64Array]",M="[object Int8Array]",z="[object Int16Array]",q="[object Int32Array]",F="[object Uint8Array]",ee="[object Uint8ClampedArray]",Q="[object Uint16Array]",R="[object Uint32Array]",_=/[\\^$.*+?()[\]{}|]/g,k=/\w*$/,H=/^\[object .+?Constructor\]$/,G=/^(?:0|[1-9]\d*)$/,V={};V[a]=V[c]=V[T]=V[I]=V[u]=V[f]=V[$]=V[P]=V[M]=V[z]=V[q]=V[y]=V[b]=V[v]=V[A]=V[x]=V[D]=V[S]=V[F]=V[ee]=V[Q]=V[R]=!0,V[h]=V[p]=V[N]=!1;var U=typeof Ss=="object"&&Ss&&Ss.Object===Object&&Ss,K=typeof self=="object"&&self&&self.Object===Object&&self,te=U||K||Function("return this")(),ie=e&&!e.nodeType&&e,ue=ie&&!0&&t&&!t.nodeType&&t,pe=ue&&ue.exports===ie;function xe(L,ne){return L.set(ne[0],ne[1]),L}function ke(L,ne){return L.add(ne),L}function Te(L,ne){for(var le=-1,Ee=L?L.length:0;++le<Ee&&ne(L[le],le,L)!==!1;);return L}function mt(L,ne){for(var le=-1,Ee=ne.length,Rt=L.length;++le<Ee;)L[Rt+le]=ne[le];return L}function Ot(L,ne,le,Ee){for(var Rt=-1,cn=L?L.length:0;++Rt<cn;)le=ne(le,L[Rt],Rt,L);return le}function Os(L,ne){for(var le=-1,Ee=Array(L);++le<L;)Ee[le]=ne(le);return Ee}function Rr(L,ne){return L?.[ne]}function Sn(L){var ne=!1;if(L!=null&&typeof L.toString!="function")try{ne=!!(L+"")}catch{}return ne}function Qi(L){var ne=-1,le=Array(L.size);return L.forEach(function(Ee,Rt){le[++ne]=[Rt,Ee]}),le}function $r(L,ne){return function(le){return L(ne(le))}}function fl(L){var ne=-1,le=Array(L.size);return L.forEach(function(Ee){le[++ne]=Ee}),le}var dl=Array.prototype,Io=Function.prototype,Di=Object.prototype,Oi=te["__core-js_shared__"],Ha=(function(){var L=/[^.]+$/.exec(Oi&&Oi.keys&&Oi.keys.IE_PROTO||"");return L?"Symbol(src)_1."+L:""})(),Fa=Io.toString,Mt=Di.hasOwnProperty,Ur=Di.toString,qa=RegExp("^"+Fa.call(Mt).replace(_,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Va=pe?te.Buffer:void 0,Pr=te.Symbol,hl=te.Uint8Array,pl=$r(Object.getPrototypeOf,Object),ey=Object.create,ty=Di.propertyIsEnumerable,Wa=dl.splice,jn=Object.getOwnPropertySymbols,Zi=Va?Va.isBuffer:void 0,Zn=$r(Object.keys,Object),mf=Br(te,"DataView"),Ka=Br(te,"Map"),yf=Br(te,"Promise"),Do=Br(te,"Set"),Oo=Br(te,"WeakMap"),Ji=Br(Object,"create"),Lr=$i(mf),gl=$i(Ka),Ga=$i(yf),ny=$i(Do),xp=$i(Oo),ml=Pr?Pr.prototype:void 0,Mo=ml?ml.valueOf:void 0;function kr(L){var ne=-1,le=L?L.length:0;for(this.clear();++ne<le;){var Ee=L[ne];this.set(Ee[0],Ee[1])}}function Np(){this.__data__=Ji?Ji(null):{}}function Tp(L){return this.has(L)&&delete this.__data__[L]}function _p(L){var ne=this.__data__;if(Ji){var le=ne[L];return le===s?void 0:le}return Mt.call(ne,L)?ne[L]:void 0}function wf(L){var ne=this.__data__;return Ji?ne[L]!==void 0:Mt.call(ne,L)}function bf(L,ne){var le=this.__data__;return le[L]=Ji&&ne===void 0?s:ne,this}kr.prototype.clear=Np,kr.prototype.delete=Tp,kr.prototype.get=_p,kr.prototype.has=wf,kr.prototype.set=bf;function ei(L){var ne=-1,le=L?L.length:0;for(this.clear();++ne<le;){var Ee=L[ne];this.set(Ee[0],Ee[1])}}function Ip(){this.__data__=[]}function er(L){var ne=this.__data__,le=Mi(ne,L);if(le<0)return!1;var Ee=ne.length-1;return le==Ee?ne.pop():Wa.call(ne,le,1),!0}function an(L){var ne=this.__data__,le=Mi(ne,L);return le<0?void 0:ne[le][1]}function zn(L){return Mi(this.__data__,L)>-1}function Ro(L,ne){var le=this.__data__,Ee=Mi(le,L);return Ee<0?le.push([L,ne]):le[Ee][1]=ne,this}ei.prototype.clear=Ip,ei.prototype.delete=er,ei.prototype.get=an,ei.prototype.has=zn,ei.prototype.set=Ro;function tr(L){var ne=-1,le=L?L.length:0;for(this.clear();++ne<le;){var Ee=L[ne];this.set(Ee[0],Ee[1])}}function sy(){this.__data__={hash:new kr,map:new(Ka||ei),string:new kr}}function iy(L){return Qa(this,L).delete(L)}function Dp(L){return Qa(this,L).get(L)}function Ya(L){return Qa(this,L).has(L)}function vf(L,ne){return Qa(this,L).set(L,ne),this}tr.prototype.clear=sy,tr.prototype.delete=iy,tr.prototype.get=Dp,tr.prototype.has=Ya,tr.prototype.set=vf;function Ms(L){this.__data__=new ei(L)}function $o(){this.__data__=new ei}function Xa(L){return this.__data__.delete(L)}function Uo(L){return this.__data__.get(L)}function Zt(L){return this.__data__.has(L)}function Op(L,ne){var le=this.__data__;if(le instanceof ei){var Ee=le.__data__;if(!Ka||Ee.length<n-1)return Ee.push([L,ne]),this;le=this.__data__=new tr(Ee)}return le.set(L,ne),this}Ms.prototype.clear=$o,Ms.prototype.delete=Xa,Ms.prototype.get=Uo,Ms.prototype.has=Zt,Ms.prototype.set=Op;function Mp(L,ne){var le=Cl(L)||Lo(L)?Os(L.length,String):[],Ee=le.length,Rt=!!Ee;for(var cn in L)Mt.call(L,cn)&&!(Rt&&(cn=="length"||ly(cn,Ee)))&&le.push(cn);return le}function nr(L,ne,le){var Ee=L[ne];(!(Mt.call(L,ne)&&Hr(Ee,le))||le===void 0&&!(ne in L))&&(L[ne]=le)}function Mi(L,ne){for(var le=L.length;le--;)if(Hr(L[le][0],ne))return le;return-1}function ry(L,ne){return L&&Cf(ne,Ja(ne),L)}function yl(L,ne,le,Ee,Rt,cn,Jn){var Hn;if(Ee&&(Hn=cn?Ee(L,Rt,cn,Jn):Ee(L)),Hn!==void 0)return Hn;if(!sr(L))return L;var Nl=Cl(L);if(Nl){if(Hn=Up(L),!ne)return Af(L,Hn)}else{var rr=zr(L),ko=rr==p||rr==g;if(Za(L))return os(L,ne);if(rr==v||rr==a||ko&&!cn){if(Sn(L))return cn?L:{};if(Hn=Pp(ko?{}:L),!ne)return Sf(L,ry(Hn,L))}else{if(!V[rr])return cn?L:{};Hn=xf(L,rr,yl,ne)}}Jn||(Jn=new Ms);var ec=Jn.get(L);if(ec)return ec;if(Jn.set(L,Hn),!Nl)var _f=le?Po(L):Ja(L);return Te(_f||L,function(If,Tl){_f&&(Tl=If,If=L[Tl]),nr(Hn,Tl,yl(If,ne,le,Ee,Tl,L,Jn))}),Hn}function Rp(L){return sr(L)?ey(L):{}}function oy(L,ne,le){var Ee=ne(L);return Cl(L)?Ee:mt(Ee,le(L))}function wl(L){return Ur.call(L)}function bl(L){if(!sr(L)||Al(L))return!1;var ne=ni(L)||Sn(L)?qa:H;return ne.test($i(L))}function Ri(L){if(!ti(L))return Zn(L);var ne=[];for(var le in Object(L))Mt.call(L,le)&&le!="constructor"&&ne.push(le);return ne}function os(L,ne){if(ne)return L.slice();var le=new L.constructor(L.length);return L.copy(le),le}function vl(L){var ne=new L.constructor(L.byteLength);return new hl(ne).set(new hl(L)),ne}function ay(L,ne){var le=ne?vl(L.buffer):L.buffer;return new L.constructor(le,L.byteOffset,L.byteLength)}function Ef(L,ne,le){var Ee=ne?le(Qi(L),!0):Qi(L);return Ot(Ee,xe,new L.constructor)}function $p(L){var ne=new L.constructor(L.source,k.exec(L));return ne.lastIndex=L.lastIndex,ne}function El(L,ne,le){var Ee=ne?le(fl(L),!0):fl(L);return Ot(Ee,ke,new L.constructor)}function cy(L){return Mo?Object(Mo.call(L)):{}}function as(L,ne){var le=ne?vl(L.buffer):L.buffer;return new L.constructor(le,L.byteOffset,L.length)}function Af(L,ne){var le=-1,Ee=L.length;for(ne||(ne=Array(Ee));++le<Ee;)ne[le]=L[le];return ne}function Cf(L,ne,le,Ee){le||(le={});for(var Rt=-1,cn=ne.length;++Rt<cn;){var Jn=ne[Rt],Hn=void 0;nr(le,Jn,Hn===void 0?L[Jn]:Hn)}return le}function Sf(L,ne){return Cf(L,jr(L),ne)}function Po(L){return oy(L,Ja,jr)}function Qa(L,ne){var le=L.__data__;return uy(ne)?le[typeof ne=="string"?"string":"hash"]:le.map}function Br(L,ne){var le=Rr(L,ne);return bl(le)?le:void 0}var jr=jn?$r(jn,Object):xl,zr=wl;(mf&&zr(new mf(new ArrayBuffer(1)))!=I||Ka&&zr(new Ka)!=y||yf&&zr(yf.resolve())!=E||Do&&zr(new Do)!=x||Oo&&zr(new Oo)!=N)&&(zr=function(L){var ne=Ur.call(L),le=ne==v?L.constructor:void 0,Ee=le?$i(le):void 0;if(Ee)switch(Ee){case Lr:return I;case gl:return y;case Ga:return E;case ny:return x;case xp:return N}return ne});function Up(L){var ne=L.length,le=L.constructor(ne);return ne&&typeof L[0]=="string"&&Mt.call(L,"index")&&(le.index=L.index,le.input=L.input),le}function Pp(L){return typeof L.constructor=="function"&&!ti(L)?Rp(pl(L)):{}}function xf(L,ne,le,Ee){var Rt=L.constructor;switch(ne){case T:return vl(L);case u:case f:return new Rt(+L);case I:return ay(L,Ee);case $:case P:case M:case z:case q:case F:case ee:case Q:case R:return as(L,Ee);case y:return Ef(L,Ee,le);case b:case D:return new Rt(L);case A:return $p(L);case x:return El(L,Ee,le);case S:return cy(L)}}function ly(L,ne){return ne=ne??i,!!ne&&(typeof L=="number"||G.test(L))&&L>-1&&L%1==0&&L<ne}function uy(L){var ne=typeof L;return ne=="string"||ne=="number"||ne=="symbol"||ne=="boolean"?L!=="__proto__":L===null}function Al(L){return!!Ha&&Ha in L}function ti(L){var ne=L&&L.constructor,le=typeof ne=="function"&&ne.prototype||Di;return L===le}function $i(L){if(L!=null){try{return Fa.call(L)}catch{}try{return L+""}catch{}}return""}function Nf(L){return yl(L,!0,!0)}function Hr(L,ne){return L===ne||L!==L&&ne!==ne}function Lo(L){return Lp(L)&&Mt.call(L,"callee")&&(!ty.call(L,"callee")||Ur.call(L)==a)}var Cl=Array.isArray;function Sl(L){return L!=null&&Tf(L.length)&&!ni(L)}function Lp(L){return ir(L)&&Sl(L)}var Za=Zi||kp;function ni(L){var ne=sr(L)?Ur.call(L):"";return ne==p||ne==g}function Tf(L){return typeof L=="number"&&L>-1&&L%1==0&&L<=i}function sr(L){var ne=typeof L;return!!L&&(ne=="object"||ne=="function")}function ir(L){return!!L&&typeof L=="object"}function Ja(L){return Sl(L)?Mp(L):Ri(L)}function xl(){return[]}function kp(){return!1}t.exports=Nf})(Bd,Bd.exports)),Bd.exports}xj();var dn;(function(t){t.Int="int",t.UInt="uint",t.Buffer="buffer",t.BoolTrue="true",t.BoolFalse="false",t.PrincipalStandard="address",t.PrincipalContract="contract",t.ResponseOk="ok",t.ResponseErr="err",t.OptionalNone="none",t.OptionalSome="some",t.List="list",t.Tuple="tuple",t.StringASCII="ascii",t.StringUTF8="utf8"})(dn||(dn={}));var Sv;(function(t){t[t.int=0]="int",t[t.uint=1]="uint",t[t.buffer=2]="buffer",t[t.true=3]="true",t[t.false=4]="false",t[t.address=5]="address",t[t.contract=6]="contract",t[t.ok=7]="ok",t[t.err=8]="err",t[t.none=9]="none",t[t.some=10]="some",t[t.list=11]="list",t[t.tuple=12]="tuple",t[t.ascii=13]="ascii",t[t.utf8=14]="utf8"})(Sv||(Sv={}));function IE(t){return Sv[t]}const fN=BigInt("0xffffffffffffffffffffffffffffffff"),Nj=BigInt(0);BigInt("0x7fffffffffffffffffffffffffffffff");BigInt("-170141183460469231731687303715884105728");const Tj=t=>{const e=dE(t);if(e<Nj)throw new RangeError("Cannot construct unsigned clarity integer from negative value");if(e>fN)throw new RangeError(`Cannot construct unsigned clarity integer greater than ${fN}`);return{type:dn.UInt,value:e}};var Ws;(function(t){t[t.Address=0]="Address",t[t.Principal=1]="Principal",t[t.LengthPrefixedString=2]="LengthPrefixedString",t[t.MemoString=3]="MemoString",t[t.Asset=4]="Asset",t[t.PostCondition=5]="PostCondition",t[t.PublicKey=6]="PublicKey",t[t.LengthPrefixedList=7]="LengthPrefixedList",t[t.Payload=8]="Payload",t[t.MessageSignature=9]="MessageSignature",t[t.StructuredDataSignature=10]="StructuredDataSignature",t[t.TransactionAuthField=11]="TransactionAuthField"})(Ws||(Ws={}));function Ah(t,e,n){const s=e||1,i=n||pB;if(Gj(t,i))throw new Error(`String length exceeds maximum bytes ${i}`);return{type:Ws.LengthPrefixedString,content:t,lengthPrefixBytes:s,maxLengthBytes:i}}function _j(t,e,n){return{type:Ws.Asset,address:cp(t),contractName:Ah(e),assetName:Ah(n)}}function cp(t){const e=VB.c32addressDecode(t);return{type:Ws.Address,version:e[0],hash160:e[1]}}function Ij(t,e){const n=cp(t),s=Ah(e);return{type:Ws.Principal,prefix:Nr.Contract,address:n,contractName:s}}function Dj(t){const e=cp(t);return{type:Ws.Principal,prefix:Nr.Standard,address:e}}function Dm(t){const e=[];return e.push(Yc(hE(t.version,1))),e.push(Yc(t.hash160)),_o(e)}function Oj(t){const e=[];return e.push(t.prefix),(t.prefix===Nr.Standard||t.prefix===Nr.Contract)&&e.push(Dm(t.address)),t.prefix===Nr.Contract&&e.push(Ch(t.contractName)),_o(e)}function Ch(t){const e=[],n=Tm(t.content),s=n.byteLength;return e.push(Yc(hE(s,t.lengthPrefixBytes))),e.push(n),_o(e)}function Mj(t){const e=[];return e.push(Dm(t.address)),e.push(Ch(t.contractName)),e.push(Ch(t.assetName)),_o(e)}function Rj(t){return ap($j(t))}function $j(t){const e=[];if(e.push(t.conditionType),e.push(Oj(t.principal)),(t.conditionType===Ar.Fungible||t.conditionType===Ar.NonFungible)&&e.push(Mj(t.asset)),t.conditionType===Ar.NonFungible&&e.push(af(t.assetName)),e.push(t.conditionCode),t.conditionType===Ar.STX||t.conditionType===Ar.Fungible){if(t.amount>BigInt("0xffffffffffffffff"))throw new g6("The post-condition amount may not be larger than 8 bytes");e.push(ok(t.amount,8))}return _o(e)}function dN(t){const[e,n,s]=t.split(/\.|::/);return _j(e,n,s)}function j1(t){if(t.includes(".")){const[e,n]=t.split(".");return Ij(e,n)}else return Dj(t)}function Mr(t,e){return _o([IE(t),e])}function Uj(t){return new Uint8Array([IE(t.type)])}function Pj(t){return t.type===dn.OptionalNone?new Uint8Array([IE(t.type)]):Mr(t.type,af(t.value))}function Lj(t){const e=new Uint8Array(4);return _m(e,Math.ceil(t.value.length/2),0),Mr(t.type,gE(e,Yc(t.value)))}function kj(t){const e=pE(ck(BigInt(t.value),BigInt(gB)),p6);return Mr(t.type,e)}function Bj(t){const e=pE(BigInt(t.value),p6);return Mr(t.type,e)}function jj(t){return Mr(t.type,Dm(cp(t.value)))}function zj(t){const[e,n]=Yj(t.value);return Mr(t.type,gE(Dm(cp(e)),Ch(Ah(n))))}function Hj(t){return Mr(t.type,af(t.value))}function Fj(t){const e=[],n=new Uint8Array(4);_m(n,t.value.length,0),e.push(n);for(const s of t.value){const i=af(s);e.push(i)}return Mr(t.type,_o(e))}function qj(t){const e=[],n=new Uint8Array(4);_m(n,Object.keys(t.value).length,0),e.push(n);const s=Object.keys(t.value).sort((i,a)=>i.localeCompare(a));for(const i of s){const a=Ah(i);e.push(Ch(a));const c=af(t.value[i]);e.push(c)}return Mr(t.type,_o(e))}function x6(t,e){const n=[],s=e=="ascii"?fk(t.value):Tm(t.value),i=new Uint8Array(4);return _m(i,s.length,0),n.push(i),n.push(s),Mr(t.type,_o(n))}function Vj(t){return x6(t,"ascii")}function Wj(t){return x6(t,"utf8")}function Kj(t){return ap(af(t))}function af(t){switch(t.type){case dn.BoolTrue:case dn.BoolFalse:return Uj(t);case dn.OptionalNone:case dn.OptionalSome:return Pj(t);case dn.Buffer:return Lj(t);case dn.UInt:return Bj(t);case dn.Int:return kj(t);case dn.PrincipalStandard:return jj(t);case dn.PrincipalContract:return zj(t);case dn.ResponseOk:case dn.ResponseErr:return Hj(t);case dn.List:return Fj(t);case dn.Tuple:return qj(t);case dn.StringASCII:return Vj(t);case dn.StringUTF8:return Wj(t);default:throw new g6("Unable to serialize. Invalid Clarity Value.")}}const Gj=(t,e)=>t?Tm(t).length>e:!1;function Yj(t){const[e,n]=t.split(".");if(!e||!n)throw new Error(`Invalid contract identifier: ${t}`);return[e,n]}var xv;(function(t){t[t.eq=1]="eq",t[t.gt=2]="gt",t[t.lt=4]="lt",t[t.gte=3]="gte",t[t.lte=5]="lte",t[t.sent=16]="sent",t[t["not-sent"]=17]="not-sent"})(xv||(xv={}));function Xj(t){switch(t.type){case"stx-postcondition":return{type:Ws.PostCondition,conditionType:Ar.STX,principal:t.address==="origin"?{type:Ws.Principal,prefix:Nr.Origin}:j1(t.address),conditionCode:z1(t.condition),amount:BigInt(t.amount)};case"ft-postcondition":return{type:Ws.PostCondition,conditionType:Ar.Fungible,principal:t.address==="origin"?{type:Ws.Principal,prefix:Nr.Origin}:j1(t.address),conditionCode:z1(t.condition),amount:BigInt(t.amount),asset:dN(t.asset)};case"nft-postcondition":return{type:Ws.PostCondition,conditionType:Ar.NonFungible,principal:t.address==="origin"?{type:Ws.Principal,prefix:Nr.Origin}:j1(t.address),conditionCode:z1(t.condition),asset:dN(t.asset),assetName:t.assetId};default:throw new Error("Invalid post condition type")}}function z1(t){return xv[t]}function hN(t){const e=Xj(t);return Rj(e)}const pN=Kj;var Jg={exports:{}},gN;function Qj(){if(gN)return Jg.exports;gN=1;var t=typeof Reflect=="object"?Reflect:null,e=t&&typeof t.apply=="function"?t.apply:function(T,I,$){return Function.prototype.apply.call(T,I,$)},n;t&&typeof t.ownKeys=="function"?n=t.ownKeys:Object.getOwnPropertySymbols?n=function(T){return Object.getOwnPropertyNames(T).concat(Object.getOwnPropertySymbols(T))}:n=function(T){return Object.getOwnPropertyNames(T)};function s(N){console&&console.warn&&console.warn(N)}var i=Number.isNaN||function(T){return T!==T};function a(){a.init.call(this)}Jg.exports=a,Jg.exports.once=x,a.EventEmitter=a,a.prototype._events=void 0,a.prototype._eventsCount=0,a.prototype._maxListeners=void 0;var c=10;function u(N){if(typeof N!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof N)}Object.defineProperty(a,"defaultMaxListeners",{enumerable:!0,get:function(){return c},set:function(N){if(typeof N!="number"||N<0||i(N))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+N+".");c=N}}),a.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},a.prototype.setMaxListeners=function(T){if(typeof T!="number"||T<0||i(T))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+T+".");return this._maxListeners=T,this};function f(N){return N._maxListeners===void 0?a.defaultMaxListeners:N._maxListeners}a.prototype.getMaxListeners=function(){return f(this)},a.prototype.emit=function(T){for(var I=[],$=1;$<arguments.length;$++)I.push(arguments[$]);var P=T==="error",M=this._events;if(M!==void 0)P=P&&M.error===void 0;else if(!P)return!1;if(P){var z;if(I.length>0&&(z=I[0]),z instanceof Error)throw z;var q=new Error("Unhandled error."+(z?" ("+z.message+")":""));throw q.context=z,q}var F=M[T];if(F===void 0)return!1;if(typeof F=="function")e(F,this,I);else for(var ee=F.length,Q=v(F,ee),$=0;$<ee;++$)e(Q[$],this,I);return!0};function h(N,T,I,$){var P,M,z;if(u(I),M=N._events,M===void 0?(M=N._events=Object.create(null),N._eventsCount=0):(M.newListener!==void 0&&(N.emit("newListener",T,I.listener?I.listener:I),M=N._events),z=M[T]),z===void 0)z=M[T]=I,++N._eventsCount;else if(typeof z=="function"?z=M[T]=$?[I,z]:[z,I]:$?z.unshift(I):z.push(I),P=f(N),P>0&&z.length>P&&!z.warned){z.warned=!0;var q=new Error("Possible EventEmitter memory leak detected. "+z.length+" "+String(T)+" listeners added. Use emitter.setMaxListeners() to increase limit");q.name="MaxListenersExceededWarning",q.emitter=N,q.type=T,q.count=z.length,s(q)}return N}a.prototype.addListener=function(T,I){return h(this,T,I,!1)},a.prototype.on=a.prototype.addListener,a.prototype.prependListener=function(T,I){return h(this,T,I,!0)};function p(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function g(N,T,I){var $={fired:!1,wrapFn:void 0,target:N,type:T,listener:I},P=p.bind($);return P.listener=I,$.wrapFn=P,P}a.prototype.once=function(T,I){return u(I),this.on(T,g(this,T,I)),this},a.prototype.prependOnceListener=function(T,I){return u(I),this.prependListener(T,g(this,T,I)),this},a.prototype.removeListener=function(T,I){var $,P,M,z,q;if(u(I),P=this._events,P===void 0)return this;if($=P[T],$===void 0)return this;if($===I||$.listener===I)--this._eventsCount===0?this._events=Object.create(null):(delete P[T],P.removeListener&&this.emit("removeListener",T,$.listener||I));else if(typeof $!="function"){for(M=-1,z=$.length-1;z>=0;z--)if($[z]===I||$[z].listener===I){q=$[z].listener,M=z;break}if(M<0)return this;M===0?$.shift():E($,M),$.length===1&&(P[T]=$[0]),P.removeListener!==void 0&&this.emit("removeListener",T,q||I)}return this},a.prototype.off=a.prototype.removeListener,a.prototype.removeAllListeners=function(T){var I,$,P;if($=this._events,$===void 0)return this;if($.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):$[T]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete $[T]),this;if(arguments.length===0){var M=Object.keys($),z;for(P=0;P<M.length;++P)z=M[P],z!=="removeListener"&&this.removeAllListeners(z);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(I=$[T],typeof I=="function")this.removeListener(T,I);else if(I!==void 0)for(P=I.length-1;P>=0;P--)this.removeListener(T,I[P]);return this};function y(N,T,I){var $=N._events;if($===void 0)return[];var P=$[T];return P===void 0?[]:typeof P=="function"?I?[P.listener||P]:[P]:I?A(P):v(P,P.length)}a.prototype.listeners=function(T){return y(this,T,!0)},a.prototype.rawListeners=function(T){return y(this,T,!1)},a.listenerCount=function(N,T){return typeof N.listenerCount=="function"?N.listenerCount(T):b.call(N,T)},a.prototype.listenerCount=b;function b(N){var T=this._events;if(T!==void 0){var I=T[N];if(typeof I=="function")return 1;if(I!==void 0)return I.length}return 0}a.prototype.eventNames=function(){return this._eventsCount>0?n(this._events):[]};function v(N,T){for(var I=new Array(T),$=0;$<T;++$)I[$]=N[$];return I}function E(N,T){for(;T+1<N.length;T++)N[T]=N[T+1];N.pop()}function A(N){for(var T=new Array(N.length),I=0;I<T.length;++I)T[I]=N[I].listener||N[I];return T}function x(N,T){return new Promise(function(I,$){function P(z){N.removeListener(T,M),$(z)}function M(){typeof N.removeListener=="function"&&N.removeListener("error",P),I([].slice.call(arguments))}S(N,T,M,{once:!0}),T!=="error"&&D(N,P,{once:!0})})}function D(N,T,I){typeof N.on=="function"&&S(N,"error",T,I)}function S(N,T,I,$){if(typeof N.on=="function")$.once?N.once(T,I):N.on(T,I);else if(typeof N.addEventListener=="function")N.addEventListener(T,function P(M){$.once&&N.removeEventListener(T,P),I(M)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof N)}return Jg.exports}var Ti=Qj();const DE=np(Ti);var H1={};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Nv=function(t,e){return Nv=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var i in s)s.hasOwnProperty(i)&&(n[i]=s[i])},Nv(t,e)};function Zj(t,e){Nv(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var Tv=function(){return Tv=Object.assign||function(e){for(var n,s=1,i=arguments.length;s<i;s++){n=arguments[s];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Tv.apply(this,arguments)};function Jj(t,e){var n={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&e.indexOf(s)<0&&(n[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,s=Object.getOwnPropertySymbols(t);i<s.length;i++)e.indexOf(s[i])<0&&Object.prototype.propertyIsEnumerable.call(t,s[i])&&(n[s[i]]=t[s[i]]);return n}function ez(t,e,n,s){var i=arguments.length,a=i<3?e:s===null?s=Object.getOwnPropertyDescriptor(e,n):s,c;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(t,e,n,s);else for(var u=t.length-1;u>=0;u--)(c=t[u])&&(a=(i<3?c(a):i>3?c(e,n,a):c(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a}function tz(t,e){return function(n,s){e(n,s,t)}}function nz(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function sz(t,e,n,s){function i(a){return a instanceof n?a:new n(function(c){c(a)})}return new(n||(n=Promise))(function(a,c){function u(p){try{h(s.next(p))}catch(g){c(g)}}function f(p){try{h(s.throw(p))}catch(g){c(g)}}function h(p){p.done?a(p.value):i(p.value).then(u,f)}h((s=s.apply(t,e||[])).next())})}function iz(t,e){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},s,i,a,c;return c={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function u(h){return function(p){return f([h,p])}}function f(h){if(s)throw new TypeError("Generator is already executing.");for(;n;)try{if(s=1,i&&(a=h[0]&2?i.return:h[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,h[1])).done)return a;switch(i=0,a&&(h=[h[0]&2,a.value]),h[0]){case 0:case 1:a=h;break;case 4:return n.label++,{value:h[1],done:!1};case 5:n.label++,i=h[1],h=[0];continue;case 7:h=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(h[0]===6||h[0]===2)){n=0;continue}if(h[0]===3&&(!a||h[1]>a[0]&&h[1]<a[3])){n.label=h[1];break}if(h[0]===6&&n.label<a[1]){n.label=a[1],a=h;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(h);break}a[2]&&n.ops.pop(),n.trys.pop();continue}h=e.call(t,n)}catch(p){h=[6,p],i=0}finally{s=a=0}if(h[0]&5)throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}}function rz(t,e,n,s){s===void 0&&(s=n),t[s]=e[n]}function oz(t,e){for(var n in t)n!=="default"&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function _v(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],s=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&s>=t.length&&(t=void 0),{value:t&&t[s++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function N6(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var s=n.call(t),i,a=[],c;try{for(;(e===void 0||e-- >0)&&!(i=s.next()).done;)a.push(i.value)}catch(u){c={error:u}}finally{try{i&&!i.done&&(n=s.return)&&n.call(s)}finally{if(c)throw c.error}}return a}function az(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(N6(arguments[e]));return t}function cz(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var s=Array(t),i=0,e=0;e<n;e++)for(var a=arguments[e],c=0,u=a.length;c<u;c++,i++)s[i]=a[c];return s}function Sh(t){return this instanceof Sh?(this.v=t,this):new Sh(t)}function lz(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var s=n.apply(t,e||[]),i,a=[];return i={},c("next"),c("throw"),c("return"),i[Symbol.asyncIterator]=function(){return this},i;function c(y){s[y]&&(i[y]=function(b){return new Promise(function(v,E){a.push([y,b,v,E])>1||u(y,b)})})}function u(y,b){try{f(s[y](b))}catch(v){g(a[0][3],v)}}function f(y){y.value instanceof Sh?Promise.resolve(y.value.v).then(h,p):g(a[0][2],y)}function h(y){u("next",y)}function p(y){u("throw",y)}function g(y,b){y(b),a.shift(),a.length&&u(a[0][0],a[0][1])}}function uz(t){var e,n;return e={},s("next"),s("throw",function(i){throw i}),s("return"),e[Symbol.iterator]=function(){return this},e;function s(i,a){e[i]=t[i]?function(c){return(n=!n)?{value:Sh(t[i](c)),done:i==="return"}:a?a(c):c}:a}}function fz(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof _v=="function"?_v(t):t[Symbol.iterator](),n={},s("next"),s("throw"),s("return"),n[Symbol.asyncIterator]=function(){return this},n);function s(a){n[a]=t[a]&&function(c){return new Promise(function(u,f){c=t[a](c),i(u,f,c.done,c.value)})}}function i(a,c,u,f){Promise.resolve(f).then(function(h){a({value:h,done:u})},c)}}function dz(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function hz(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function pz(t){return t&&t.__esModule?t:{default:t}}function gz(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}function mz(t,e,n){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,n),n}const yz=Object.freeze(Object.defineProperty({__proto__:null,get __assign(){return Tv},__asyncDelegator:uz,__asyncGenerator:lz,__asyncValues:fz,__await:Sh,__awaiter:sz,__classPrivateFieldGet:gz,__classPrivateFieldSet:mz,__createBinding:rz,__decorate:ez,__exportStar:oz,__extends:Zj,__generator:iz,__importDefault:pz,__importStar:hz,__makeTemplateObject:dz,__metadata:nz,__param:tz,__read:N6,__rest:Jj,__spread:az,__spreadArrays:cz,__values:_v},Symbol.toStringTag,{value:"Module"})),lp=Z$(yz);var F1={},vd={},mN;function wz(){if(mN)return vd;mN=1,Object.defineProperty(vd,"__esModule",{value:!0}),vd.delay=void 0;function t(e){return new Promise(n=>{setTimeout(()=>{n(!0)},e)})}return vd.delay=t,vd}var vc={},q1={},Ec={},yN;function bz(){return yN||(yN=1,Object.defineProperty(Ec,"__esModule",{value:!0}),Ec.ONE_THOUSAND=Ec.ONE_HUNDRED=void 0,Ec.ONE_HUNDRED=100,Ec.ONE_THOUSAND=1e3),Ec}var V1={},wN;function vz(){return wN||(wN=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.ONE_YEAR=t.FOUR_WEEKS=t.THREE_WEEKS=t.TWO_WEEKS=t.ONE_WEEK=t.THIRTY_DAYS=t.SEVEN_DAYS=t.FIVE_DAYS=t.THREE_DAYS=t.ONE_DAY=t.TWENTY_FOUR_HOURS=t.TWELVE_HOURS=t.SIX_HOURS=t.THREE_HOURS=t.ONE_HOUR=t.SIXTY_MINUTES=t.THIRTY_MINUTES=t.TEN_MINUTES=t.FIVE_MINUTES=t.ONE_MINUTE=t.SIXTY_SECONDS=t.THIRTY_SECONDS=t.TEN_SECONDS=t.FIVE_SECONDS=t.ONE_SECOND=void 0,t.ONE_SECOND=1,t.FIVE_SECONDS=5,t.TEN_SECONDS=10,t.THIRTY_SECONDS=30,t.SIXTY_SECONDS=60,t.ONE_MINUTE=t.SIXTY_SECONDS,t.FIVE_MINUTES=t.ONE_MINUTE*5,t.TEN_MINUTES=t.ONE_MINUTE*10,t.THIRTY_MINUTES=t.ONE_MINUTE*30,t.SIXTY_MINUTES=t.ONE_MINUTE*60,t.ONE_HOUR=t.SIXTY_MINUTES,t.THREE_HOURS=t.ONE_HOUR*3,t.SIX_HOURS=t.ONE_HOUR*6,t.TWELVE_HOURS=t.ONE_HOUR*12,t.TWENTY_FOUR_HOURS=t.ONE_HOUR*24,t.ONE_DAY=t.TWENTY_FOUR_HOURS,t.THREE_DAYS=t.ONE_DAY*3,t.FIVE_DAYS=t.ONE_DAY*5,t.SEVEN_DAYS=t.ONE_DAY*7,t.THIRTY_DAYS=t.ONE_DAY*30,t.ONE_WEEK=t.SEVEN_DAYS,t.TWO_WEEKS=t.ONE_WEEK*2,t.THREE_WEEKS=t.ONE_WEEK*3,t.FOUR_WEEKS=t.ONE_WEEK*4,t.ONE_YEAR=t.ONE_DAY*365})(V1)),V1}var bN;function T6(){return bN||(bN=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=lp;e.__exportStar(bz(),t),e.__exportStar(vz(),t)})(q1)),q1}var vN;function Ez(){if(vN)return vc;vN=1,Object.defineProperty(vc,"__esModule",{value:!0}),vc.fromMiliseconds=vc.toMiliseconds=void 0;const t=T6();function e(s){return s*t.ONE_THOUSAND}vc.toMiliseconds=e;function n(s){return Math.floor(s/t.ONE_THOUSAND)}return vc.fromMiliseconds=n,vc}var EN;function Az(){return EN||(EN=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=lp;e.__exportStar(wz(),t),e.__exportStar(Ez(),t)})(F1)),F1}var su={},AN;function Cz(){if(AN)return su;AN=1,Object.defineProperty(su,"__esModule",{value:!0}),su.Watch=void 0;class t{constructor(){this.timestamps=new Map}start(n){if(this.timestamps.has(n))throw new Error(`Watch already started for label: ${n}`);this.timestamps.set(n,{started:Date.now()})}stop(n){const s=this.get(n);if(typeof s.elapsed<"u")throw new Error(`Watch already stopped for label: ${n}`);const i=Date.now()-s.started;this.timestamps.set(n,{started:s.started,elapsed:i})}get(n){const s=this.timestamps.get(n);if(typeof s>"u")throw new Error(`No timestamp found for label: ${n}`);return s}elapsed(n){const s=this.get(n);return s.elapsed||Date.now()-s.started}}return su.Watch=t,su.default=t,su}var W1={},Ed={},CN;function Sz(){if(CN)return Ed;CN=1,Object.defineProperty(Ed,"__esModule",{value:!0}),Ed.IWatch=void 0;class t{}return Ed.IWatch=t,Ed}var SN;function xz(){return SN||(SN=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),lp.__exportStar(Sz(),t)})(W1)),W1}var xN;function Nz(){return xN||(xN=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=lp;e.__exportStar(Az(),t),e.__exportStar(Cz(),t),e.__exportStar(xz(),t),e.__exportStar(T6(),t)})(H1)),H1}var we=Nz();class sl{}let Tz=class extends sl{constructor(e){super()}};const NN=we.FIVE_SECONDS,il={pulse:"heartbeat_pulse"};let _z=class _6 extends Tz{constructor(e){super(e),this.events=new Ti.EventEmitter,this.interval=NN,this.interval=e?.interval||NN}static async init(e){const n=new _6(e);return await n.init(),n}async init(){await this.initialize()}stop(){clearInterval(this.intervalRef)}on(e,n){this.events.on(e,n)}once(e,n){this.events.once(e,n)}off(e,n){this.events.off(e,n)}removeListener(e,n){this.events.removeListener(e,n)}async initialize(){this.intervalRef=setInterval(()=>this.pulse(),we.toMiliseconds(this.interval))}pulse(){this.events.emit(il.pulse)}};const Iz=/"(?:_|\\u0{2}5[Ff]){2}(?:p|\\u0{2}70)(?:r|\\u0{2}72)(?:o|\\u0{2}6[Ff])(?:t|\\u0{2}74)(?:o|\\u0{2}6[Ff])(?:_|\\u0{2}5[Ff]){2}"\s*:/,Dz=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/,Oz=/^\s*["[{]|^\s*-?\d{1,16}(\.\d{1,17})?([Ee][+-]?\d+)?\s*$/;function Mz(t,e){if(t==="__proto__"||t==="constructor"&&e&&typeof e=="object"&&"prototype"in e){Rz(t);return}return e}function Rz(t){console.warn(`[destr] Dropping "${t}" key to prevent prototype pollution.`)}function e0(t,e={}){if(typeof t!="string")return t;if(t[0]==='"'&&t[t.length-1]==='"'&&t.indexOf("\\")===-1)return t.slice(1,-1);const n=t.trim();if(n.length<=9)switch(n.toLowerCase()){case"true":return!0;case"false":return!1;case"undefined":return;case"null":return null;case"nan":return Number.NaN;case"infinity":return Number.POSITIVE_INFINITY;case"-infinity":return Number.NEGATIVE_INFINITY}if(!Oz.test(t)){if(e.strict)throw new SyntaxError("[destr] Invalid JSON");return t}try{if(Iz.test(t)||Dz.test(t)){if(e.strict)throw new Error("[destr] Possible prototype pollution");return JSON.parse(t,Mz)}return JSON.parse(t)}catch(s){if(e.strict)throw s;return t}}function $z(t){return!t||typeof t.then!="function"?Promise.resolve(t):t}function wn(t,...e){try{return $z(t(...e))}catch(n){return Promise.reject(n)}}function Uz(t){const e=typeof t;return t===null||e!=="object"&&e!=="function"}function Pz(t){const e=Object.getPrototypeOf(t);return!e||e.isPrototypeOf(Object)}function R0(t){if(Uz(t))return String(t);if(Pz(t)||Array.isArray(t))return JSON.stringify(t);if(typeof t.toJSON=="function")return R0(t.toJSON());throw new Error("[unstorage] Cannot stringify value!")}const Iv="base64:";function Lz(t){return typeof t=="string"?t:Iv+jz(t)}function kz(t){return typeof t!="string"||!t.startsWith(Iv)?t:Bz(t.slice(Iv.length))}function Bz(t){return globalThis.Buffer?Buffer.from(t,"base64"):Uint8Array.from(globalThis.atob(t),e=>e.codePointAt(0))}function jz(t){return globalThis.Buffer?Buffer.from(t).toString("base64"):globalThis.btoa(String.fromCodePoint(...t))}function vs(t){return t&&t.split("?")[0]?.replace(/[/\\]/g,":").replace(/:+/g,":").replace(/^:|:$/g,"")||""}function zz(...t){return vs(t.join(":"))}function t0(t){return t=vs(t),t?t+":":""}function Hz(t,e){if(e===void 0)return!0;let n=0,s=t.indexOf(":");for(;s>-1;)n++,s=t.indexOf(":",s+1);return n<=e}function Fz(t,e){return e?t.startsWith(e)&&t[t.length-1]!=="$":t[t.length-1]!=="$"}const qz="memory",Vz=()=>{const t=new Map;return{name:qz,getInstance:()=>t,hasItem(e){return t.has(e)},getItem(e){return t.get(e)??null},getItemRaw(e){return t.get(e)??null},setItem(e,n){t.set(e,n)},setItemRaw(e,n){t.set(e,n)},removeItem(e){t.delete(e)},getKeys(){return[...t.keys()]},clear(){t.clear()},dispose(){t.clear()}}};function Wz(t={}){const e={mounts:{"":t.driver||Vz()},mountpoints:[""],watching:!1,watchListeners:[],unwatch:{}},n=h=>{for(const p of e.mountpoints)if(h.startsWith(p))return{base:p,relativeKey:h.slice(p.length),driver:e.mounts[p]};return{base:"",relativeKey:h,driver:e.mounts[""]}},s=(h,p)=>e.mountpoints.filter(g=>g.startsWith(h)||p&&h.startsWith(g)).map(g=>({relativeBase:h.length>g.length?h.slice(g.length):void 0,mountpoint:g,driver:e.mounts[g]})),i=(h,p)=>{if(e.watching){p=vs(p);for(const g of e.watchListeners)g(h,p)}},a=async()=>{if(!e.watching){e.watching=!0;for(const h in e.mounts)e.unwatch[h]=await TN(e.mounts[h],i,h)}},c=async()=>{if(e.watching){for(const h in e.unwatch)await e.unwatch[h]();e.unwatch={},e.watching=!1}},u=(h,p,g)=>{const y=new Map,b=v=>{let E=y.get(v.base);return E||(E={driver:v.driver,base:v.base,items:[]},y.set(v.base,E)),E};for(const v of h){const E=typeof v=="string",A=vs(E?v:v.key),x=E?void 0:v.value,D=E||!v.options?p:{...p,...v.options},S=n(A);b(S).items.push({key:A,value:x,relativeKey:S.relativeKey,options:D})}return Promise.all([...y.values()].map(v=>g(v))).then(v=>v.flat())},f={hasItem(h,p={}){h=vs(h);const{relativeKey:g,driver:y}=n(h);return wn(y.hasItem,g,p)},getItem(h,p={}){h=vs(h);const{relativeKey:g,driver:y}=n(h);return wn(y.getItem,g,p).then(b=>e0(b))},getItems(h,p={}){return u(h,p,g=>g.driver.getItems?wn(g.driver.getItems,g.items.map(y=>({key:y.relativeKey,options:y.options})),p).then(y=>y.map(b=>({key:zz(g.base,b.key),value:e0(b.value)}))):Promise.all(g.items.map(y=>wn(g.driver.getItem,y.relativeKey,y.options).then(b=>({key:y.key,value:e0(b)})))))},getItemRaw(h,p={}){h=vs(h);const{relativeKey:g,driver:y}=n(h);return y.getItemRaw?wn(y.getItemRaw,g,p):wn(y.getItem,g,p).then(b=>kz(b))},async setItem(h,p,g={}){if(p===void 0)return f.removeItem(h);h=vs(h);const{relativeKey:y,driver:b}=n(h);b.setItem&&(await wn(b.setItem,y,R0(p),g),b.watch||i("update",h))},async setItems(h,p){await u(h,p,async g=>{if(g.driver.setItems)return wn(g.driver.setItems,g.items.map(y=>({key:y.relativeKey,value:R0(y.value),options:y.options})),p);g.driver.setItem&&await Promise.all(g.items.map(y=>wn(g.driver.setItem,y.relativeKey,R0(y.value),y.options)))})},async setItemRaw(h,p,g={}){if(p===void 0)return f.removeItem(h,g);h=vs(h);const{relativeKey:y,driver:b}=n(h);if(b.setItemRaw)await wn(b.setItemRaw,y,p,g);else if(b.setItem)await wn(b.setItem,y,Lz(p),g);else return;b.watch||i("update",h)},async removeItem(h,p={}){typeof p=="boolean"&&(p={removeMeta:p}),h=vs(h);const{relativeKey:g,driver:y}=n(h);y.removeItem&&(await wn(y.removeItem,g,p),(p.removeMeta||p.removeMata)&&await wn(y.removeItem,g+"$",p),y.watch||i("remove",h))},async getMeta(h,p={}){typeof p=="boolean"&&(p={nativeOnly:p}),h=vs(h);const{relativeKey:g,driver:y}=n(h),b=Object.create(null);if(y.getMeta&&Object.assign(b,await wn(y.getMeta,g,p)),!p.nativeOnly){const v=await wn(y.getItem,g+"$",p).then(E=>e0(E));v&&typeof v=="object"&&(typeof v.atime=="string"&&(v.atime=new Date(v.atime)),typeof v.mtime=="string"&&(v.mtime=new Date(v.mtime)),Object.assign(b,v))}return b},setMeta(h,p,g={}){return this.setItem(h+"$",p,g)},removeMeta(h,p={}){return this.removeItem(h+"$",p)},async getKeys(h,p={}){h=t0(h);const g=s(h,!0);let y=[];const b=[];let v=!0;for(const A of g){A.driver.flags?.maxDepth||(v=!1);const x=await wn(A.driver.getKeys,A.relativeBase,p);for(const D of x){const S=A.mountpoint+vs(D);y.some(N=>S.startsWith(N))||b.push(S)}y=[A.mountpoint,...y.filter(D=>!D.startsWith(A.mountpoint))]}const E=p.maxDepth!==void 0&&!v;return b.filter(A=>(!E||Hz(A,p.maxDepth))&&Fz(A,h))},async clear(h,p={}){h=t0(h),await Promise.all(s(h,!1).map(async g=>{if(g.driver.clear)return wn(g.driver.clear,g.relativeBase,p);if(g.driver.removeItem){const y=await g.driver.getKeys(g.relativeBase||"",p);return Promise.all(y.map(b=>g.driver.removeItem(b,p)))}}))},async dispose(){await Promise.all(Object.values(e.mounts).map(h=>_N(h)))},async watch(h){return await a(),e.watchListeners.push(h),async()=>{e.watchListeners=e.watchListeners.filter(p=>p!==h),e.watchListeners.length===0&&await c()}},async unwatch(){e.watchListeners=[],await c()},mount(h,p){if(h=t0(h),h&&e.mounts[h])throw new Error(`already mounted at ${h}`);return h&&(e.mountpoints.push(h),e.mountpoints.sort((g,y)=>y.length-g.length)),e.mounts[h]=p,e.watching&&Promise.resolve(TN(p,i,h)).then(g=>{e.unwatch[h]=g}).catch(console.error),f},async unmount(h,p=!0){h=t0(h),!(!h||!e.mounts[h])&&(e.watching&&h in e.unwatch&&(e.unwatch[h]?.(),delete e.unwatch[h]),p&&await _N(e.mounts[h]),e.mountpoints=e.mountpoints.filter(g=>g!==h),delete e.mounts[h])},getMount(h=""){h=vs(h)+":";const p=n(h);return{driver:p.driver,base:p.base}},getMounts(h="",p={}){return h=vs(h),s(h,p.parents).map(y=>({driver:y.driver,base:y.mountpoint}))},keys:(h,p={})=>f.getKeys(h,p),get:(h,p={})=>f.getItem(h,p),set:(h,p,g={})=>f.setItem(h,p,g),has:(h,p={})=>f.hasItem(h,p),del:(h,p={})=>f.removeItem(h,p),remove:(h,p={})=>f.removeItem(h,p)};return f}function TN(t,e,n){return t.watch?t.watch((s,i)=>e(s,n+i)):()=>{}}async function _N(t){typeof t.dispose=="function"&&await wn(t.dispose)}function rl(t){return new Promise((e,n)=>{t.oncomplete=t.onsuccess=()=>e(t.result),t.onabort=t.onerror=()=>n(t.error)})}function I6(t,e){let n;const s=()=>{if(n)return n;const i=indexedDB.open(t);return i.onupgradeneeded=()=>i.result.createObjectStore(e),n=rl(i),n.then(a=>{a.onclose=()=>n=void 0},()=>{}),n};return(i,a)=>s().then(c=>a(c.transaction(e,i).objectStore(e)))}let K1;function up(){return K1||(K1=I6("keyval-store","keyval")),K1}function IN(t,e=up()){return e("readonly",n=>rl(n.get(t)))}function Kz(t,e,n=up()){return n("readwrite",s=>(s.put(e,t),rl(s.transaction)))}function Gz(t,e=up()){return e("readwrite",n=>(n.delete(t),rl(n.transaction)))}function Yz(t=up()){return t("readwrite",e=>(e.clear(),rl(e.transaction)))}function Xz(t,e){return t.openCursor().onsuccess=function(){this.result&&(e(this.result),this.result.continue())},rl(t.transaction)}function Qz(t=up()){return t("readonly",e=>{if(e.getAllKeys)return rl(e.getAllKeys());const n=[];return Xz(e,s=>n.push(s.key)).then(()=>n)})}const Zz=t=>JSON.stringify(t,(e,n)=>typeof n=="bigint"?n.toString()+"n":n),Jz=t=>{const e=/([\[:])?(\d{17,}|(?:[9](?:[1-9]07199254740991|0[1-9]7199254740991|00[8-9]199254740991|007[2-9]99254740991|007199[3-9]54740991|0071992[6-9]4740991|00719925[5-9]740991|007199254[8-9]40991|0071992547[5-9]0991|00719925474[1-9]991|00719925474099[2-9])))([,\}\]])/g,n=t.replace(e,'$1"$2n"$3');return JSON.parse(n,(s,i)=>typeof i=="string"&&i.match(/^\d+n$/)?BigInt(i.substring(0,i.length-1)):i)};function Xc(t){if(typeof t!="string")throw new Error(`Cannot safe json parse value of type ${typeof t}`);try{return Jz(t)}catch{return t}}function xo(t){return typeof t=="string"?t:Zz(t)||""}const eH="idb-keyval";var tH=(t={})=>{const e=t.base&&t.base.length>0?`${t.base}:`:"",n=i=>e+i;let s;return t.dbName&&t.storeName&&(s=I6(t.dbName,t.storeName)),{name:eH,options:t,async hasItem(i){return!(typeof await IN(n(i),s)>"u")},async getItem(i){return await IN(n(i),s)??null},setItem(i,a){return Kz(n(i),a,s)},removeItem(i){return Gz(n(i),s)},getKeys(){return Qz(s)},clear(){return Yz(s)}}};const nH="WALLET_CONNECT_V2_INDEXED_DB",sH="keyvaluestorage";let iH=class{constructor(){this.indexedDb=Wz({driver:tH({dbName:nH,storeName:sH})})}async getKeys(){return this.indexedDb.getKeys()}async getEntries(){return(await this.indexedDb.getItems(await this.indexedDb.getKeys())).map(e=>[e.key,e.value])}async getItem(e){const n=await this.indexedDb.getItem(e);if(n!==null)return n}async setItem(e,n){await this.indexedDb.setItem(e,xo(n))}async removeItem(e){await this.indexedDb.removeItem(e)}};var G1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},$0={exports:{}};(function(){let t;function e(){}t=e,t.prototype.getItem=function(n){return this.hasOwnProperty(n)?String(this[n]):null},t.prototype.setItem=function(n,s){this[n]=String(s)},t.prototype.removeItem=function(n){delete this[n]},t.prototype.clear=function(){const n=this;Object.keys(n).forEach(function(s){n[s]=void 0,delete n[s]})},t.prototype.key=function(n){return n=n||0,Object.keys(this)[n]},t.prototype.__defineGetter__("length",function(){return Object.keys(this).length}),typeof G1<"u"&&G1.localStorage?$0.exports=G1.localStorage:typeof window<"u"&&window.localStorage?$0.exports=window.localStorage:$0.exports=new e})();function rH(t){var e;return[t[0],Xc((e=t[1])!=null?e:"")]}let oH=class{constructor(){this.localStorage=$0.exports}async getKeys(){return Object.keys(this.localStorage)}async getEntries(){return Object.entries(this.localStorage).map(rH)}async getItem(e){const n=this.localStorage.getItem(e);if(n!==null)return Xc(n)}async setItem(e,n){this.localStorage.setItem(e,xo(n))}async removeItem(e){this.localStorage.removeItem(e)}};const aH="wc_storage_version",DN=1,cH=async(t,e,n)=>{const s=aH,i=await e.getItem(s);if(i&&i>=DN){n(e);return}const a=await t.getKeys();if(!a.length){n(e);return}const c=[];for(;a.length;){const u=a.shift();if(!u)continue;const f=u.toLowerCase();if(f.includes("wc@")||f.includes("walletconnect")||f.includes("wc_")||f.includes("wallet_connect")){const h=await t.getItem(u);await e.setItem(u,h),c.push(u)}}await e.setItem(s,DN),n(e),lH(t,c)},lH=async(t,e)=>{e.length&&e.forEach(async n=>{await t.removeItem(n)})};let uH=class{constructor(){this.initialized=!1,this.setInitialized=n=>{this.storage=n,this.initialized=!0};const e=new oH;this.storage=e;try{const n=new iH;cH(e,n,this.setInitialized)}catch{this.initialized=!0}}async getKeys(){return await this.initialize(),this.storage.getKeys()}async getEntries(){return await this.initialize(),this.storage.getEntries()}async getItem(e){return await this.initialize(),this.storage.getItem(e)}async setItem(e,n){return await this.initialize(),this.storage.setItem(e,n)}async removeItem(e){return await this.initialize(),this.storage.removeItem(e)}async initialize(){this.initialized||await new Promise(e=>{const n=setInterval(()=>{this.initialized&&(clearInterval(n),e())},20)})}};var Y1,ON;function fH(){if(ON)return Y1;ON=1;function t(n){try{return JSON.stringify(n)}catch{return'"[Circular]"'}}Y1=e;function e(n,s,i){var a=i&&i.stringify||t,c=1;if(typeof n=="object"&&n!==null){var u=s.length+c;if(u===1)return n;var f=new Array(u);f[0]=a(n);for(var h=1;h<u;h++)f[h]=a(s[h]);return f.join(" ")}if(typeof n!="string")return n;var p=s.length;if(p===0)return n;for(var g="",y=1-c,b=-1,v=n&&n.length||0,E=0;E<v;){if(n.charCodeAt(E)===37&&E+1<v){switch(b=b>-1?b:0,n.charCodeAt(E+1)){case 100:case 102:if(y>=p||s[y]==null)break;b<E&&(g+=n.slice(b,E)),g+=Number(s[y]),b=E+2,E++;break;case 105:if(y>=p||s[y]==null)break;b<E&&(g+=n.slice(b,E)),g+=Math.floor(Number(s[y])),b=E+2,E++;break;case 79:case 111:case 106:if(y>=p||s[y]===void 0)break;b<E&&(g+=n.slice(b,E));var A=typeof s[y];if(A==="string"){g+="'"+s[y]+"'",b=E+2,E++;break}if(A==="function"){g+=s[y].name||"<anonymous>",b=E+2,E++;break}g+=a(s[y]),b=E+2,E++;break;case 115:if(y>=p)break;b<E&&(g+=n.slice(b,E)),g+=String(s[y]),b=E+2,E++;break;case 37:b<E&&(g+=n.slice(b,E)),g+="%",b=E+2,E++,y--;break}++y}++E}return b===-1?n:(b<v&&(g+=n.slice(b)),g)}return Y1}var X1,MN;function dH(){if(MN)return X1;MN=1;const t=fH();X1=i;const e=T().console||{},n={mapHttpRequest:v,mapHttpResponse:v,wrapRequestSerializer:E,wrapResponseSerializer:E,wrapErrorSerializer:E,req:v,res:v,err:y};function s(I,$){return Array.isArray(I)?I.filter(function(M){return M!=="!stdSerializers.err"}):I===!0?Object.keys($):!1}function i(I){I=I||{},I.browser=I.browser||{};const $=I.browser.transmit;if($&&typeof $.send!="function")throw Error("pino: transmit option must have a send function");const P=I.browser.write||e;I.browser.write&&(I.browser.asObject=!0);const M=I.serializers||{},z=s(I.browser.serialize,M);let q=I.browser.serialize;Array.isArray(I.browser.serialize)&&I.browser.serialize.indexOf("!stdSerializers.err")>-1&&(q=!1);const F=["error","fatal","warn","info","debug","trace"];typeof P=="function"&&(P.error=P.fatal=P.warn=P.info=P.debug=P.trace=P),I.enabled===!1&&(I.level="silent");const ee=I.level||"info",Q=Object.create(P);Q.log||(Q.log=A),Object.defineProperty(Q,"levelVal",{get:_}),Object.defineProperty(Q,"level",{get:k,set:H});const R={transmit:$,serialize:z,asObject:I.browser.asObject,levels:F,timestamp:b(I)};Q.levels=i.levels,Q.level=ee,Q.setMaxListeners=Q.getMaxListeners=Q.emit=Q.addListener=Q.on=Q.prependListener=Q.once=Q.prependOnceListener=Q.removeListener=Q.removeAllListeners=Q.listeners=Q.listenerCount=Q.eventNames=Q.write=Q.flush=A,Q.serializers=M,Q._serialize=z,Q._stdErrSerialize=q,Q.child=G,$&&(Q._logEvent=g());function _(){return this.level==="silent"?1/0:this.levels.values[this.level]}function k(){return this._level}function H(V){if(V!=="silent"&&!this.levels.values[V])throw Error("unknown level "+V);this._level=V,a(R,Q,"error","log"),a(R,Q,"fatal","error"),a(R,Q,"warn","error"),a(R,Q,"info","log"),a(R,Q,"debug","log"),a(R,Q,"trace","log")}function G(V,U){if(!V)throw new Error("missing bindings for child Pino");U=U||{},z&&V.serializers&&(U.serializers=V.serializers);const K=U.serializers;if(z&&K){var te=Object.assign({},M,K),ie=I.browser.serialize===!0?Object.keys(te):z;delete V.serializers,f([V],ie,te,this._stdErrSerialize)}function ue(pe){this._childLevel=(pe._childLevel|0)+1,this.error=h(pe,V,"error"),this.fatal=h(pe,V,"fatal"),this.warn=h(pe,V,"warn"),this.info=h(pe,V,"info"),this.debug=h(pe,V,"debug"),this.trace=h(pe,V,"trace"),te&&(this.serializers=te,this._serialize=ie),$&&(this._logEvent=g([].concat(pe._logEvent.bindings,V)))}return ue.prototype=this,new ue(this)}return Q}i.levels={values:{fatal:60,error:50,warn:40,info:30,debug:20,trace:10},labels:{10:"trace",20:"debug",30:"info",40:"warn",50:"error",60:"fatal"}},i.stdSerializers=n,i.stdTimeFunctions=Object.assign({},{nullTime:x,epochTime:D,unixTime:S,isoTime:N});function a(I,$,P,M){const z=Object.getPrototypeOf($);$[P]=$.levelVal>$.levels.values[P]?A:z[P]?z[P]:e[P]||e[M]||A,c(I,$,P)}function c(I,$,P){!I.transmit&&$[P]===A||($[P]=(function(M){return function(){const q=I.timestamp(),F=new Array(arguments.length),ee=Object.getPrototypeOf&&Object.getPrototypeOf(this)===e?e:this;for(var Q=0;Q<F.length;Q++)F[Q]=arguments[Q];if(I.serialize&&!I.asObject&&f(F,this._serialize,this.serializers,this._stdErrSerialize),I.asObject?M.call(ee,u(this,P,F,q)):M.apply(ee,F),I.transmit){const R=I.transmit.level||$.level,_=i.levels.values[R],k=i.levels.values[P];if(k<_)return;p(this,{ts:q,methodLevel:P,methodValue:k,transmitValue:i.levels.values[I.transmit.level||$.level],send:I.transmit.send,val:$.levelVal},F)}}})($[P]))}function u(I,$,P,M){I._serialize&&f(P,I._serialize,I.serializers,I._stdErrSerialize);const z=P.slice();let q=z[0];const F={};M&&(F.time=M),F.level=i.levels.values[$];let ee=(I._childLevel|0)+1;if(ee<1&&(ee=1),q!==null&&typeof q=="object"){for(;ee--&&typeof z[0]=="object";)Object.assign(F,z.shift());q=z.length?t(z.shift(),z):void 0}else typeof q=="string"&&(q=t(z.shift(),z));return q!==void 0&&(F.msg=q),F}function f(I,$,P,M){for(const z in I)if(M&&I[z]instanceof Error)I[z]=i.stdSerializers.err(I[z]);else if(typeof I[z]=="object"&&!Array.isArray(I[z]))for(const q in I[z])$&&$.indexOf(q)>-1&&q in P&&(I[z][q]=P[q](I[z][q]))}function h(I,$,P){return function(){const M=new Array(1+arguments.length);M[0]=$;for(var z=1;z<M.length;z++)M[z]=arguments[z-1];return I[P].apply(this,M)}}function p(I,$,P){const M=$.send,z=$.ts,q=$.methodLevel,F=$.methodValue,ee=$.val,Q=I._logEvent.bindings;f(P,I._serialize||Object.keys(I.serializers),I.serializers,I._stdErrSerialize===void 0?!0:I._stdErrSerialize),I._logEvent.ts=z,I._logEvent.messages=P.filter(function(R){return Q.indexOf(R)===-1}),I._logEvent.level.label=q,I._logEvent.level.value=F,M(q,I._logEvent,ee),I._logEvent=g(Q)}function g(I){return{ts:0,messages:[],bindings:I||[],level:{label:"",value:0}}}function y(I){const $={type:I.constructor.name,msg:I.message,stack:I.stack};for(const P in I)$[P]===void 0&&($[P]=I[P]);return $}function b(I){return typeof I.timestamp=="function"?I.timestamp:I.timestamp===!1?x:D}function v(){return{}}function E(I){return I}function A(){}function x(){return!1}function D(){return Date.now()}function S(){return Math.round(Date.now()/1e3)}function N(){return new Date(Date.now()).toISOString()}function T(){function I($){return typeof $<"u"&&$}try{return typeof globalThis<"u"||Object.defineProperty(Object.prototype,"globalThis",{get:function(){return delete Object.prototype.globalThis,this.globalThis=this},configurable:!0}),globalThis}catch{return I(self)||I(window)||I(this)||{}}}return X1}var Su=dH();const fp=np(Su),hH={level:"info"},dp="custom_context",OE=1e3*1024;let pH=class{constructor(e){this.nodeValue=e,this.sizeInBytes=new TextEncoder().encode(this.nodeValue).length,this.next=null}get value(){return this.nodeValue}get size(){return this.sizeInBytes}},RN=class{constructor(e){this.head=null,this.tail=null,this.lengthInNodes=0,this.maxSizeInBytes=e,this.sizeInBytes=0}append(e){const n=new pH(e);if(n.size>this.maxSizeInBytes)throw new Error(`[LinkedList] Value too big to insert into list: ${e} with size ${n.size}`);for(;this.size+n.size>this.maxSizeInBytes;)this.shift();this.head?(this.tail&&(this.tail.next=n),this.tail=n):(this.head=n,this.tail=n),this.lengthInNodes++,this.sizeInBytes+=n.size}shift(){if(!this.head)return;const e=this.head;this.head=this.head.next,this.head||(this.tail=null),this.lengthInNodes--,this.sizeInBytes-=e.size}toArray(){const e=[];let n=this.head;for(;n!==null;)e.push(n.value),n=n.next;return e}get length(){return this.lengthInNodes}get size(){return this.sizeInBytes}toOrderedArray(){return Array.from(this)}[Symbol.iterator](){let e=this.head;return{next:()=>{if(!e)return{done:!0,value:null};const n=e.value;return e=e.next,{done:!1,value:n}}}}},D6=class{constructor(e,n=OE){this.level=e??"error",this.levelValue=Su.levels.values[this.level],this.MAX_LOG_SIZE_IN_BYTES=n,this.logs=new RN(this.MAX_LOG_SIZE_IN_BYTES)}forwardToConsole(e,n){n===Su.levels.values.error?console.error(e):n===Su.levels.values.warn?console.warn(e):n===Su.levels.values.debug?console.debug(e):n===Su.levels.values.trace?console.trace(e):console.log(e)}appendToLogs(e){this.logs.append(xo({timestamp:new Date().toISOString(),log:e}));const n=typeof e=="string"?JSON.parse(e).level:e.level;n>=this.levelValue&&this.forwardToConsole(e,n)}getLogs(){return this.logs}clearLogs(){this.logs=new RN(this.MAX_LOG_SIZE_IN_BYTES)}getLogArray(){return Array.from(this.logs)}logsToBlob(e){const n=this.getLogArray();return n.push(xo({extraMetadata:e})),new Blob(n,{type:"application/json"})}},gH=class{constructor(e,n=OE){this.baseChunkLogger=new D6(e,n)}write(e){this.baseChunkLogger.appendToLogs(e)}getLogs(){return this.baseChunkLogger.getLogs()}clearLogs(){this.baseChunkLogger.clearLogs()}getLogArray(){return this.baseChunkLogger.getLogArray()}logsToBlob(e){return this.baseChunkLogger.logsToBlob(e)}downloadLogsBlobInBrowser(e){const n=URL.createObjectURL(this.logsToBlob(e)),s=document.createElement("a");s.href=n,s.download=`walletconnect-logs-${new Date().toISOString()}.txt`,document.body.appendChild(s),s.click(),document.body.removeChild(s),URL.revokeObjectURL(n)}},mH=class{constructor(e,n=OE){this.baseChunkLogger=new D6(e,n)}write(e){this.baseChunkLogger.appendToLogs(e)}getLogs(){return this.baseChunkLogger.getLogs()}clearLogs(){this.baseChunkLogger.clearLogs()}getLogArray(){return this.baseChunkLogger.getLogArray()}logsToBlob(e){return this.baseChunkLogger.logsToBlob(e)}};var yH=Object.defineProperty,wH=Object.defineProperties,bH=Object.getOwnPropertyDescriptors,$N=Object.getOwnPropertySymbols,vH=Object.prototype.hasOwnProperty,EH=Object.prototype.propertyIsEnumerable,UN=(t,e,n)=>e in t?yH(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,om=(t,e)=>{for(var n in e||(e={}))vH.call(e,n)&&UN(t,n,e[n]);if($N)for(var n of $N(e))EH.call(e,n)&&UN(t,n,e[n]);return t},am=(t,e)=>wH(t,bH(e));function hp(t){return am(om({},t),{level:t?.level||hH.level})}function AH(t,e=dp){return t[e]||""}function CH(t,e,n=dp){return t[n]=e,t}function Is(t,e=dp){let n="";return typeof t.bindings>"u"?n=AH(t,e):n=t.bindings().context||"",n}function SH(t,e,n=dp){const s=Is(t,n);return s.trim()?`${s}/${e}`:e}function rs(t,e,n=dp){const s=SH(t,e,n),i=t.child({context:s});return CH(i,s,n)}function xH(t){var e,n;const s=new gH((e=t.opts)==null?void 0:e.level,t.maxSizeInBytes);return{logger:fp(am(om({},t.opts),{level:"trace",browser:am(om({},(n=t.opts)==null?void 0:n.browser),{write:i=>s.write(i)})})),chunkLoggerController:s}}function NH(t){var e;const n=new mH((e=t.opts)==null?void 0:e.level,t.maxSizeInBytes);return{logger:fp(am(om({},t.opts),{level:"trace"}),n),chunkLoggerController:n}}function O6(t){return typeof t.loggerOverride<"u"&&typeof t.loggerOverride!="string"?{logger:t.loggerOverride,chunkLoggerController:null}:typeof window<"u"?xH(t):NH(t)}var TH=Object.defineProperty,_H=(t,e,n)=>e in t?TH(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,PN=(t,e,n)=>_H(t,typeof e!="symbol"?e+"":e,n);let IH=class extends sl{constructor(e){super(),this.opts=e,PN(this,"protocol","wc"),PN(this,"version",2)}};var DH=Object.defineProperty,OH=(t,e,n)=>e in t?DH(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,MH=(t,e,n)=>OH(t,e+"",n);let RH=class extends sl{constructor(e,n){super(),this.core=e,this.logger=n,MH(this,"records",new Map)}},$H=class{constructor(e,n){this.logger=e,this.core=n}},UH=class extends sl{constructor(e,n){super(),this.relayer=e,this.logger=n}},PH=class extends sl{constructor(e){super()}},LH=class{constructor(e,n,s,i){this.core=e,this.logger=n,this.name=s}},kH=class extends sl{constructor(e,n){super(),this.relayer=e,this.logger=n}},BH=class extends sl{constructor(e,n){super(),this.core=e,this.logger=n}},jH=class{constructor(e,n,s){this.core=e,this.logger=n,this.store=s}},zH=class{constructor(e,n){this.projectId=e,this.logger=n}},HH=class{constructor(e,n,s){this.core=e,this.logger=n,this.telemetryEnabled=s}};var FH=Object.defineProperty,qH=(t,e,n)=>e in t?FH(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,LN=(t,e,n)=>qH(t,typeof e!="symbol"?e+"":e,n);let VH=class{constructor(e){this.opts=e,LN(this,"protocol","wc"),LN(this,"version",2)}},WH=class{constructor(e){this.client=e}};function KH(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function M6(t,...e){if(!KH(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function kN(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function GH(t,e){M6(t);const n=e.outputLen;if(t.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}const iu=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Q1=t=>new DataView(t.buffer,t.byteOffset,t.byteLength);function YH(t){if(typeof t!="string")throw new Error("utf8ToBytes expected string, got "+typeof t);return new Uint8Array(new TextEncoder().encode(t))}function R6(t){return typeof t=="string"&&(t=YH(t)),M6(t),t}let XH=class{clone(){return this._cloneInto()}};function QH(t){const e=s=>t().update(R6(s)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function $6(t=32){if(iu&&typeof iu.getRandomValues=="function")return iu.getRandomValues(new Uint8Array(t));if(iu&&typeof iu.randomBytes=="function")return iu.randomBytes(t);throw new Error("crypto.getRandomValues must be defined")}function ZH(t,e,n,s){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,s);const i=BigInt(32),a=BigInt(4294967295),c=Number(n>>i&a),u=Number(n&a),f=s?4:0,h=s?0:4;t.setUint32(e+f,c,s),t.setUint32(e+h,u,s)}let JH=class extends XH{constructor(e,n,s,i){super(),this.blockLen=e,this.outputLen=n,this.padOffset=s,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=Q1(this.buffer)}update(e){kN(this);const{view:n,buffer:s,blockLen:i}=this;e=R6(e);const a=e.length;for(let c=0;c<a;){const u=Math.min(i-this.pos,a-c);if(u===i){const f=Q1(e);for(;i<=a-c;c+=i)this.process(f,c);continue}s.set(e.subarray(c,c+u),this.pos),this.pos+=u,c+=u,this.pos===i&&(this.process(n,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){kN(this),GH(e,this),this.finished=!0;const{buffer:n,view:s,blockLen:i,isLE:a}=this;let{pos:c}=this;n[c++]=128,this.buffer.subarray(c).fill(0),this.padOffset>i-c&&(this.process(s,0),c=0);for(let g=c;g<i;g++)n[g]=0;ZH(s,i-8,BigInt(this.length*8),a),this.process(s,0);const u=Q1(e),f=this.outputLen;if(f%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const h=f/4,p=this.get();if(h>p.length)throw new Error("_sha2: outputLen bigger than state");for(let g=0;g<h;g++)u.setUint32(4*g,p[g],a)}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const s=e.slice(0,n);return this.destroy(),s}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:n,buffer:s,length:i,finished:a,destroyed:c,pos:u}=this;return e.length=i,e.pos=u,e.finished=a,e.destroyed=c,i%n&&e.buffer.set(s),e}};const n0=BigInt(2**32-1),Dv=BigInt(32);function U6(t,e=!1){return e?{h:Number(t&n0),l:Number(t>>Dv&n0)}:{h:Number(t>>Dv&n0)|0,l:Number(t&n0)|0}}function eF(t,e=!1){let n=new Uint32Array(t.length),s=new Uint32Array(t.length);for(let i=0;i<t.length;i++){const{h:a,l:c}=U6(t[i],e);[n[i],s[i]]=[a,c]}return[n,s]}const tF=(t,e)=>BigInt(t>>>0)<<Dv|BigInt(e>>>0),nF=(t,e,n)=>t>>>n,sF=(t,e,n)=>t<<32-n|e>>>n,iF=(t,e,n)=>t>>>n|e<<32-n,rF=(t,e,n)=>t<<32-n|e>>>n,oF=(t,e,n)=>t<<64-n|e>>>n-32,aF=(t,e,n)=>t>>>n-32|e<<64-n,cF=(t,e)=>e,lF=(t,e)=>t,uF=(t,e,n)=>t<<n|e>>>32-n,fF=(t,e,n)=>e<<n|t>>>32-n,dF=(t,e,n)=>e<<n-32|t>>>64-n,hF=(t,e,n)=>t<<n-32|e>>>64-n;function pF(t,e,n,s){const i=(e>>>0)+(s>>>0);return{h:t+n+(i/2**32|0)|0,l:i|0}}const gF=(t,e,n)=>(t>>>0)+(e>>>0)+(n>>>0),mF=(t,e,n,s)=>e+n+s+(t/2**32|0)|0,yF=(t,e,n,s)=>(t>>>0)+(e>>>0)+(n>>>0)+(s>>>0),wF=(t,e,n,s,i)=>e+n+s+i+(t/2**32|0)|0,bF=(t,e,n,s,i)=>(t>>>0)+(e>>>0)+(n>>>0)+(s>>>0)+(i>>>0),vF=(t,e,n,s,i,a)=>e+n+s+i+a+(t/2**32|0)|0,Ke={fromBig:U6,split:eF,toBig:tF,shrSH:nF,shrSL:sF,rotrSH:iF,rotrSL:rF,rotrBH:oF,rotrBL:aF,rotr32H:cF,rotr32L:lF,rotlSH:uF,rotlSL:fF,rotlBH:dF,rotlBL:hF,add:pF,add3L:gF,add3H:mF,add4L:yF,add4H:wF,add5H:vF,add5L:bF},[EF,AF]=Ke.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),fa=new Uint32Array(80),da=new Uint32Array(80);let CF=class extends JH{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:n,Bh:s,Bl:i,Ch:a,Cl:c,Dh:u,Dl:f,Eh:h,El:p,Fh:g,Fl:y,Gh:b,Gl:v,Hh:E,Hl:A}=this;return[e,n,s,i,a,c,u,f,h,p,g,y,b,v,E,A]}set(e,n,s,i,a,c,u,f,h,p,g,y,b,v,E,A){this.Ah=e|0,this.Al=n|0,this.Bh=s|0,this.Bl=i|0,this.Ch=a|0,this.Cl=c|0,this.Dh=u|0,this.Dl=f|0,this.Eh=h|0,this.El=p|0,this.Fh=g|0,this.Fl=y|0,this.Gh=b|0,this.Gl=v|0,this.Hh=E|0,this.Hl=A|0}process(e,n){for(let S=0;S<16;S++,n+=4)fa[S]=e.getUint32(n),da[S]=e.getUint32(n+=4);for(let S=16;S<80;S++){const N=fa[S-15]|0,T=da[S-15]|0,I=Ke.rotrSH(N,T,1)^Ke.rotrSH(N,T,8)^Ke.shrSH(N,T,7),$=Ke.rotrSL(N,T,1)^Ke.rotrSL(N,T,8)^Ke.shrSL(N,T,7),P=fa[S-2]|0,M=da[S-2]|0,z=Ke.rotrSH(P,M,19)^Ke.rotrBH(P,M,61)^Ke.shrSH(P,M,6),q=Ke.rotrSL(P,M,19)^Ke.rotrBL(P,M,61)^Ke.shrSL(P,M,6),F=Ke.add4L($,q,da[S-7],da[S-16]),ee=Ke.add4H(F,I,z,fa[S-7],fa[S-16]);fa[S]=ee|0,da[S]=F|0}let{Ah:s,Al:i,Bh:a,Bl:c,Ch:u,Cl:f,Dh:h,Dl:p,Eh:g,El:y,Fh:b,Fl:v,Gh:E,Gl:A,Hh:x,Hl:D}=this;for(let S=0;S<80;S++){const N=Ke.rotrSH(g,y,14)^Ke.rotrSH(g,y,18)^Ke.rotrBH(g,y,41),T=Ke.rotrSL(g,y,14)^Ke.rotrSL(g,y,18)^Ke.rotrBL(g,y,41),I=g&b^~g&E,$=y&v^~y&A,P=Ke.add5L(D,T,$,AF[S],da[S]),M=Ke.add5H(P,x,N,I,EF[S],fa[S]),z=P|0,q=Ke.rotrSH(s,i,28)^Ke.rotrBH(s,i,34)^Ke.rotrBH(s,i,39),F=Ke.rotrSL(s,i,28)^Ke.rotrBL(s,i,34)^Ke.rotrBL(s,i,39),ee=s&a^s&u^a&u,Q=i&c^i&f^c&f;x=E|0,D=A|0,E=b|0,A=v|0,b=g|0,v=y|0,{h:g,l:y}=Ke.add(h|0,p|0,M|0,z|0),h=u|0,p=f|0,u=a|0,f=c|0,a=s|0,c=i|0;const R=Ke.add3L(z,F,Q);s=Ke.add3H(R,M,q,ee),i=R|0}({h:s,l:i}=Ke.add(this.Ah|0,this.Al|0,s|0,i|0)),{h:a,l:c}=Ke.add(this.Bh|0,this.Bl|0,a|0,c|0),{h:u,l:f}=Ke.add(this.Ch|0,this.Cl|0,u|0,f|0),{h,l:p}=Ke.add(this.Dh|0,this.Dl|0,h|0,p|0),{h:g,l:y}=Ke.add(this.Eh|0,this.El|0,g|0,y|0),{h:b,l:v}=Ke.add(this.Fh|0,this.Fl|0,b|0,v|0),{h:E,l:A}=Ke.add(this.Gh|0,this.Gl|0,E|0,A|0),{h:x,l:D}=Ke.add(this.Hh|0,this.Hl|0,x|0,D|0),this.set(s,i,a,c,u,f,h,p,g,y,b,v,E,A,x,D)}roundClean(){fa.fill(0),da.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}};const SF=QH(()=>new CF);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const ME=BigInt(0),P6=BigInt(1),xF=BigInt(2);function RE(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function $E(t){if(!RE(t))throw new Error("Uint8Array expected")}function Z1(t,e){if(typeof e!="boolean")throw new Error(t+" boolean expected, got "+e)}const NF=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function UE(t){$E(t);let e="";for(let n=0;n<t.length;n++)e+=NF[t[n]];return e}function L6(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return t===""?ME:BigInt("0x"+t)}const io={_0:48,_9:57,A:65,F:70,a:97,f:102};function BN(t){if(t>=io._0&&t<=io._9)return t-io._0;if(t>=io.A&&t<=io.F)return t-(io.A-10);if(t>=io.a&&t<=io.f)return t-(io.a-10)}function k6(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);const e=t.length,n=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const s=new Uint8Array(n);for(let i=0,a=0;i<n;i++,a+=2){const c=BN(t.charCodeAt(a)),u=BN(t.charCodeAt(a+1));if(c===void 0||u===void 0){const f=t[a]+t[a+1];throw new Error('hex string expected, got non-hex character "'+f+'" at index '+a)}s[i]=c*16+u}return s}function TF(t){return L6(UE(t))}function U0(t){return $E(t),L6(UE(Uint8Array.from(t).reverse()))}function B6(t,e){return k6(t.toString(16).padStart(e*2,"0"))}function Ov(t,e){return B6(t,e).reverse()}function ro(t,e,n){let s;if(typeof e=="string")try{s=k6(e)}catch(a){throw new Error(t+" must be hex string or Uint8Array, cause: "+a)}else if(RE(e))s=Uint8Array.from(e);else throw new Error(t+" must be hex string or Uint8Array");const i=s.length;if(typeof n=="number"&&i!==n)throw new Error(t+" of length "+n+" expected, got "+i);return s}function jN(...t){let e=0;for(let s=0;s<t.length;s++){const i=t[s];$E(i),e+=i.length}const n=new Uint8Array(e);for(let s=0,i=0;s<t.length;s++){const a=t[s];n.set(a,i),i+=a.length}return n}const J1=t=>typeof t=="bigint"&&ME<=t;function _F(t,e,n){return J1(t)&&J1(e)&&J1(n)&&e<=t&&t<n}function Ad(t,e,n,s){if(!_F(e,n,s))throw new Error("expected valid "+t+": "+n+" <= n < "+s+", got "+e)}function IF(t){let e;for(e=0;t>ME;t>>=P6,e+=1);return e}const DF=t=>(xF<<BigInt(t-1))-P6,OF={bigint:t=>typeof t=="bigint",function:t=>typeof t=="function",boolean:t=>typeof t=="boolean",string:t=>typeof t=="string",stringOrUint8Array:t=>typeof t=="string"||RE(t),isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>typeof t=="function"&&Number.isSafeInteger(t.outputLen)};function PE(t,e,n={}){const s=(i,a,c)=>{const u=OF[a];if(typeof u!="function")throw new Error("invalid validator function");const f=t[i];if(!(c&&f===void 0)&&!u(f,t))throw new Error("param "+String(i)+" is invalid. Expected "+a+", got "+f)};for(const[i,a]of Object.entries(e))s(i,a,!1);for(const[i,a]of Object.entries(n))s(i,a,!0);return t}function zN(t){const e=new WeakMap;return(n,...s)=>{const i=e.get(n);if(i!==void 0)return i;const a=t(n,...s);return e.set(n,a),a}}const An=BigInt(0),Qt=BigInt(1),Oc=BigInt(2),MF=BigInt(3),Mv=BigInt(4),HN=BigInt(5),FN=BigInt(8);function pn(t,e){const n=t%e;return n>=An?n:e+n}function RF(t,e,n){if(e<An)throw new Error("invalid exponent, negatives unsupported");if(n<=An)throw new Error("invalid modulus");if(n===Qt)return An;let s=Qt;for(;e>An;)e&Qt&&(s=s*t%n),t=t*t%n,e>>=Qt;return s}function fr(t,e,n){let s=t;for(;e-- >An;)s*=s,s%=n;return s}function qN(t,e){if(t===An)throw new Error("invert: expected non-zero number");if(e<=An)throw new Error("invert: expected positive modulus, got "+e);let n=pn(t,e),s=e,i=An,a=Qt;for(;n!==An;){const c=s/n,u=s%n,f=i-a*c;s=n,n=u,i=a,a=f}if(s!==Qt)throw new Error("invert: does not exist");return pn(i,e)}function $F(t){const e=(t-Qt)/Oc;let n,s,i;for(n=t-Qt,s=0;n%Oc===An;n/=Oc,s++);for(i=Oc;i<t&&RF(i,e,t)!==t-Qt;i++)if(i>1e3)throw new Error("Cannot find square root: likely non-prime P");if(s===1){const c=(t+Qt)/Mv;return function(u,f){const h=u.pow(f,c);if(!u.eql(u.sqr(h),f))throw new Error("Cannot find square root");return h}}const a=(n+Qt)/Oc;return function(c,u){if(c.pow(u,e)===c.neg(c.ONE))throw new Error("Cannot find square root");let f=s,h=c.pow(c.mul(c.ONE,i),n),p=c.pow(u,a),g=c.pow(u,n);for(;!c.eql(g,c.ONE);){if(c.eql(g,c.ZERO))return c.ZERO;let y=1;for(let v=c.sqr(g);y<f&&!c.eql(v,c.ONE);y++)v=c.sqr(v);const b=c.pow(h,Qt<<BigInt(f-y-1));h=c.sqr(b),p=c.mul(p,b),g=c.mul(g,h),f=y}return p}}function UF(t){if(t%Mv===MF){const e=(t+Qt)/Mv;return function(n,s){const i=n.pow(s,e);if(!n.eql(n.sqr(i),s))throw new Error("Cannot find square root");return i}}if(t%FN===HN){const e=(t-HN)/FN;return function(n,s){const i=n.mul(s,Oc),a=n.pow(i,e),c=n.mul(s,a),u=n.mul(n.mul(c,Oc),a),f=n.mul(c,n.sub(u,n.ONE));if(!n.eql(n.sqr(f),s))throw new Error("Cannot find square root");return f}}return $F(t)}const PF=(t,e)=>(pn(t,e)&Qt)===Qt,LF=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function kF(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},n=LF.reduce((s,i)=>(s[i]="function",s),e);return PE(t,n)}function BF(t,e,n){if(n<An)throw new Error("invalid exponent, negatives unsupported");if(n===An)return t.ONE;if(n===Qt)return e;let s=t.ONE,i=e;for(;n>An;)n&Qt&&(s=t.mul(s,i)),i=t.sqr(i),n>>=Qt;return s}function jF(t,e){const n=new Array(e.length),s=e.reduce((a,c,u)=>t.is0(c)?a:(n[u]=a,t.mul(a,c)),t.ONE),i=t.inv(s);return e.reduceRight((a,c,u)=>t.is0(c)?a:(n[u]=t.mul(a,n[u]),t.mul(a,c)),i),n}function j6(t,e){const n=e!==void 0?e:t.toString(2).length,s=Math.ceil(n/8);return{nBitLength:n,nByteLength:s}}function z6(t,e,n=!1,s={}){if(t<=An)throw new Error("invalid field: expected ORDER > 0, got "+t);const{nBitLength:i,nByteLength:a}=j6(t,e);if(a>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let c;const u=Object.freeze({ORDER:t,isLE:n,BITS:i,BYTES:a,MASK:DF(i),ZERO:An,ONE:Qt,create:f=>pn(f,t),isValid:f=>{if(typeof f!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof f);return An<=f&&f<t},is0:f=>f===An,isOdd:f=>(f&Qt)===Qt,neg:f=>pn(-f,t),eql:(f,h)=>f===h,sqr:f=>pn(f*f,t),add:(f,h)=>pn(f+h,t),sub:(f,h)=>pn(f-h,t),mul:(f,h)=>pn(f*h,t),pow:(f,h)=>BF(u,f,h),div:(f,h)=>pn(f*qN(h,t),t),sqrN:f=>f*f,addN:(f,h)=>f+h,subN:(f,h)=>f-h,mulN:(f,h)=>f*h,inv:f=>qN(f,t),sqrt:s.sqrt||(f=>(c||(c=UF(t)),c(u,f))),invertBatch:f=>jF(u,f),cmov:(f,h,p)=>p?h:f,toBytes:f=>n?Ov(f,a):B6(f,a),fromBytes:f=>{if(f.length!==a)throw new Error("Field.fromBytes: expected "+a+" bytes, got "+f.length);return n?U0(f):TF(f)}});return Object.freeze(u)}const VN=BigInt(0),s0=BigInt(1);function eb(t,e){const n=e.negate();return t?n:e}function H6(t,e){if(!Number.isSafeInteger(t)||t<=0||t>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+t)}function tb(t,e){H6(t,e);const n=Math.ceil(e/t)+1,s=2**(t-1);return{windows:n,windowSize:s}}function zF(t,e){if(!Array.isArray(t))throw new Error("array expected");t.forEach((n,s)=>{if(!(n instanceof e))throw new Error("invalid point at index "+s)})}function HF(t,e){if(!Array.isArray(t))throw new Error("array of scalars expected");t.forEach((n,s)=>{if(!e.isValid(n))throw new Error("invalid scalar at index "+s)})}const nb=new WeakMap,F6=new WeakMap;function sb(t){return F6.get(t)||1}function FF(t,e){return{constTimeNegate:eb,hasPrecomputes(n){return sb(n)!==1},unsafeLadder(n,s,i=t.ZERO){let a=n;for(;s>VN;)s&s0&&(i=i.add(a)),a=a.double(),s>>=s0;return i},precomputeWindow(n,s){const{windows:i,windowSize:a}=tb(s,e),c=[];let u=n,f=u;for(let h=0;h<i;h++){f=u,c.push(f);for(let p=1;p<a;p++)f=f.add(u),c.push(f);u=f.double()}return c},wNAF(n,s,i){const{windows:a,windowSize:c}=tb(n,e);let u=t.ZERO,f=t.BASE;const h=BigInt(2**n-1),p=2**n,g=BigInt(n);for(let y=0;y<a;y++){const b=y*c;let v=Number(i&h);i>>=g,v>c&&(v-=p,i+=s0);const E=b,A=b+Math.abs(v)-1,x=y%2!==0,D=v<0;v===0?f=f.add(eb(x,s[E])):u=u.add(eb(D,s[A]))}return{p:u,f}},wNAFUnsafe(n,s,i,a=t.ZERO){const{windows:c,windowSize:u}=tb(n,e),f=BigInt(2**n-1),h=2**n,p=BigInt(n);for(let g=0;g<c;g++){const y=g*u;if(i===VN)break;let b=Number(i&f);if(i>>=p,b>u&&(b-=h,i+=s0),b===0)continue;let v=s[y+Math.abs(b)-1];b<0&&(v=v.negate()),a=a.add(v)}return a},getPrecomputes(n,s,i){let a=nb.get(s);return a||(a=this.precomputeWindow(s,n),n!==1&&nb.set(s,i(a))),a},wNAFCached(n,s,i){const a=sb(n);return this.wNAF(a,this.getPrecomputes(a,n,i),s)},wNAFCachedUnsafe(n,s,i,a){const c=sb(n);return c===1?this.unsafeLadder(n,s,a):this.wNAFUnsafe(c,this.getPrecomputes(c,n,i),s,a)},setWindowSize(n,s){H6(s,e),F6.set(n,s),nb.delete(n)}}}function qF(t,e,n,s){if(zF(n,t),HF(s,e),n.length!==s.length)throw new Error("arrays of points and scalars must have equal length");const i=t.ZERO,a=IF(BigInt(n.length)),c=a>12?a-3:a>4?a-2:a?2:1,u=(1<<c)-1,f=new Array(u+1).fill(i),h=Math.floor((e.BITS-1)/c)*c;let p=i;for(let g=h;g>=0;g-=c){f.fill(i);for(let b=0;b<s.length;b++){const v=s[b],E=Number(v>>BigInt(g)&BigInt(u));f[E]=f[E].add(n[b])}let y=i;for(let b=f.length-1,v=i;b>0;b--)v=v.add(f[b]),y=y.add(v);if(p=p.add(y),g!==0)for(let b=0;b<c;b++)p=p.double()}return p}function VF(t){return kF(t.Fp),PE(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...j6(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}const ki=BigInt(0),hs=BigInt(1),i0=BigInt(2),WF=BigInt(8),KF={zip215:!0};function GF(t){const e=VF(t);return PE(t,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...e})}function YF(t){const e=GF(t),{Fp:n,n:s,prehash:i,hash:a,randomBytes:c,nByteLength:u,h:f}=e,h=i0<<BigInt(u*8)-hs,p=n.create,g=z6(e.n,e.nBitLength),y=e.uvRatio||((R,_)=>{try{return{isValid:!0,value:n.sqrt(R*n.inv(_))}}catch{return{isValid:!1,value:ki}}}),b=e.adjustScalarBytes||(R=>R),v=e.domain||((R,_,k)=>{if(Z1("phflag",k),_.length||k)throw new Error("Contexts/pre-hash are not supported");return R});function E(R,_){Ad("coordinate "+R,_,ki,h)}function A(R){if(!(R instanceof S))throw new Error("ExtendedPoint expected")}const x=zN((R,_)=>{const{ex:k,ey:H,ez:G}=R,V=R.is0();_==null&&(_=V?WF:n.inv(G));const U=p(k*_),K=p(H*_),te=p(G*_);if(V)return{x:ki,y:hs};if(te!==hs)throw new Error("invZ was invalid");return{x:U,y:K}}),D=zN(R=>{const{a:_,d:k}=e;if(R.is0())throw new Error("bad point: ZERO");const{ex:H,ey:G,ez:V,et:U}=R,K=p(H*H),te=p(G*G),ie=p(V*V),ue=p(ie*ie),pe=p(K*_),xe=p(ie*p(pe+te)),ke=p(ue+p(k*p(K*te)));if(xe!==ke)throw new Error("bad point: equation left != right (1)");const Te=p(H*G),mt=p(V*U);if(Te!==mt)throw new Error("bad point: equation left != right (2)");return!0});class S{constructor(_,k,H,G){this.ex=_,this.ey=k,this.ez=H,this.et=G,E("x",_),E("y",k),E("z",H),E("t",G),Object.freeze(this)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(_){if(_ instanceof S)throw new Error("extended point not allowed");const{x:k,y:H}=_||{};return E("x",k),E("y",H),new S(k,H,hs,p(k*H))}static normalizeZ(_){const k=n.invertBatch(_.map(H=>H.ez));return _.map((H,G)=>H.toAffine(k[G])).map(S.fromAffine)}static msm(_,k){return qF(S,g,_,k)}_setWindowSize(_){I.setWindowSize(this,_)}assertValidity(){D(this)}equals(_){A(_);const{ex:k,ey:H,ez:G}=this,{ex:V,ey:U,ez:K}=_,te=p(k*K),ie=p(V*G),ue=p(H*K),pe=p(U*G);return te===ie&&ue===pe}is0(){return this.equals(S.ZERO)}negate(){return new S(p(-this.ex),this.ey,this.ez,p(-this.et))}double(){const{a:_}=e,{ex:k,ey:H,ez:G}=this,V=p(k*k),U=p(H*H),K=p(i0*p(G*G)),te=p(_*V),ie=k+H,ue=p(p(ie*ie)-V-U),pe=te+U,xe=pe-K,ke=te-U,Te=p(ue*xe),mt=p(pe*ke),Ot=p(ue*ke),Os=p(xe*pe);return new S(Te,mt,Os,Ot)}add(_){A(_);const{a:k,d:H}=e,{ex:G,ey:V,ez:U,et:K}=this,{ex:te,ey:ie,ez:ue,et:pe}=_;if(k===BigInt(-1)){const Io=p((V-G)*(ie+te)),Di=p((V+G)*(ie-te)),Oi=p(Di-Io);if(Oi===ki)return this.double();const Ha=p(U*i0*pe),Fa=p(K*i0*ue),Mt=Fa+Ha,Ur=Di+Io,qa=Fa-Ha,Va=p(Mt*Oi),Pr=p(Ur*qa),hl=p(Mt*qa),pl=p(Oi*Ur);return new S(Va,Pr,pl,hl)}const xe=p(G*te),ke=p(V*ie),Te=p(K*H*pe),mt=p(U*ue),Ot=p((G+V)*(te+ie)-xe-ke),Os=mt-Te,Rr=mt+Te,Sn=p(ke-k*xe),Qi=p(Ot*Os),$r=p(Rr*Sn),fl=p(Ot*Sn),dl=p(Os*Rr);return new S(Qi,$r,dl,fl)}subtract(_){return this.add(_.negate())}wNAF(_){return I.wNAFCached(this,_,S.normalizeZ)}multiply(_){const k=_;Ad("scalar",k,hs,s);const{p:H,f:G}=this.wNAF(k);return S.normalizeZ([H,G])[0]}multiplyUnsafe(_,k=S.ZERO){const H=_;return Ad("scalar",H,ki,s),H===ki?T:this.is0()||H===hs?this:I.wNAFCachedUnsafe(this,H,S.normalizeZ,k)}isSmallOrder(){return this.multiplyUnsafe(f).is0()}isTorsionFree(){return I.unsafeLadder(this,s).is0()}toAffine(_){return x(this,_)}clearCofactor(){const{h:_}=e;return _===hs?this:this.multiplyUnsafe(_)}static fromHex(_,k=!1){const{d:H,a:G}=e,V=n.BYTES;_=ro("pointHex",_,V),Z1("zip215",k);const U=_.slice(),K=_[V-1];U[V-1]=K&-129;const te=U0(U),ie=k?h:n.ORDER;Ad("pointHex.y",te,ki,ie);const ue=p(te*te),pe=p(ue-hs),xe=p(H*ue-G);let{isValid:ke,value:Te}=y(pe,xe);if(!ke)throw new Error("Point.fromHex: invalid y coordinate");const mt=(Te&hs)===hs,Ot=(K&128)!==0;if(!k&&Te===ki&&Ot)throw new Error("Point.fromHex: x=0 and x_0=1");return Ot!==mt&&(Te=p(-Te)),S.fromAffine({x:Te,y:te})}static fromPrivateKey(_){return M(_).point}toRawBytes(){const{x:_,y:k}=this.toAffine(),H=Ov(k,n.BYTES);return H[H.length-1]|=_&hs?128:0,H}toHex(){return UE(this.toRawBytes())}}S.BASE=new S(e.Gx,e.Gy,hs,p(e.Gx*e.Gy)),S.ZERO=new S(ki,hs,hs,ki);const{BASE:N,ZERO:T}=S,I=FF(S,u*8);function $(R){return pn(R,s)}function P(R){return $(U0(R))}function M(R){const _=n.BYTES;R=ro("private key",R,_);const k=ro("hashed private key",a(R),2*_),H=b(k.slice(0,_)),G=k.slice(_,2*_),V=P(H),U=N.multiply(V),K=U.toRawBytes();return{head:H,prefix:G,scalar:V,point:U,pointBytes:K}}function z(R){return M(R).pointBytes}function q(R=new Uint8Array,..._){const k=jN(..._);return P(a(v(k,ro("context",R),!!i)))}function F(R,_,k={}){R=ro("message",R),i&&(R=i(R));const{prefix:H,scalar:G,pointBytes:V}=M(_),U=q(k.context,H,R),K=N.multiply(U).toRawBytes(),te=q(k.context,K,V,R),ie=$(U+te*G);Ad("signature.s",ie,ki,s);const ue=jN(K,Ov(ie,n.BYTES));return ro("result",ue,n.BYTES*2)}const ee=KF;function Q(R,_,k,H=ee){const{context:G,zip215:V}=H,U=n.BYTES;R=ro("signature",R,2*U),_=ro("message",_),k=ro("publicKey",k,U),V!==void 0&&Z1("zip215",V),i&&(_=i(_));const K=U0(R.slice(U,2*U));let te,ie,ue;try{te=S.fromHex(k,V),ie=S.fromHex(R.slice(0,U),V),ue=N.multiplyUnsafe(K)}catch{return!1}if(!V&&te.isSmallOrder())return!1;const pe=q(G,ie.toRawBytes(),te.toRawBytes(),_);return ie.add(te.multiplyUnsafe(pe)).subtract(ue).clearCofactor().equals(S.ZERO)}return N._setWindowSize(8),{CURVE:e,getPublicKey:z,sign:F,verify:Q,ExtendedPoint:S,utils:{getExtendedPublicKey:M,randomPrivateKey:()=>c(n.BYTES),precompute(R=8,_=S.BASE){return _._setWindowSize(R),_.multiply(BigInt(3)),_}}}}BigInt(0),BigInt(1);const LE=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),WN=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");BigInt(0);const XF=BigInt(1),KN=BigInt(2);BigInt(3);const QF=BigInt(5),ZF=BigInt(8);function JF(t){const e=BigInt(10),n=BigInt(20),s=BigInt(40),i=BigInt(80),a=LE,c=t*t%a*t%a,u=fr(c,KN,a)*c%a,f=fr(u,XF,a)*t%a,h=fr(f,QF,a)*f%a,p=fr(h,e,a)*h%a,g=fr(p,n,a)*p%a,y=fr(g,s,a)*g%a,b=fr(y,i,a)*y%a,v=fr(b,i,a)*y%a,E=fr(v,e,a)*h%a;return{pow_p_5_8:fr(E,KN,a)*t%a,b2:c}}function eq(t){return t[0]&=248,t[31]&=127,t[31]|=64,t}function tq(t,e){const n=LE,s=pn(e*e*e,n),i=pn(s*s*e,n),a=JF(t*i).pow_p_5_8;let c=pn(t*s*a,n);const u=pn(e*c*c,n),f=c,h=pn(c*WN,n),p=u===t,g=u===pn(-t,n),y=u===pn(-t*WN,n);return p&&(c=f),(g||y)&&(c=h),PF(c,n)&&(c=pn(-c,n)),{isValid:p||g,value:c}}const nq=z6(LE,void 0,!0),sq={a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:nq,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:ZF,Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:SF,randomBytes:$6,adjustScalarBytes:eq,uvRatio:tq},q6=YF(sq),iq="EdDSA",rq="JWT",cm=".",Om="base64url",V6="utf8",W6="utf8",oq=":",aq="did",cq="key",GN="base58btc",lq="z",uq="K36",fq=32;function kE(t){return globalThis.Buffer!=null?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):t}function K6(t=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?kE(globalThis.Buffer.allocUnsafe(t)):new Uint8Array(t)}function G6(t,e){e||(e=t.reduce((i,a)=>i+a.length,0));const n=K6(e);let s=0;for(const i of t)n.set(i,s),s+=i.length;return kE(n)}function dq(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),s=0;s<n.length;s++)n[s]=255;for(var i=0;i<t.length;i++){var a=t.charAt(i),c=a.charCodeAt(0);if(n[c]!==255)throw new TypeError(a+" is ambiguous");n[c]=i}var u=t.length,f=t.charAt(0),h=Math.log(u)/Math.log(256),p=Math.log(256)/Math.log(u);function g(v){if(v instanceof Uint8Array||(ArrayBuffer.isView(v)?v=new Uint8Array(v.buffer,v.byteOffset,v.byteLength):Array.isArray(v)&&(v=Uint8Array.from(v))),!(v instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(v.length===0)return"";for(var E=0,A=0,x=0,D=v.length;x!==D&&v[x]===0;)x++,E++;for(var S=(D-x)*p+1>>>0,N=new Uint8Array(S);x!==D;){for(var T=v[x],I=0,$=S-1;(T!==0||I<A)&&$!==-1;$--,I++)T+=256*N[$]>>>0,N[$]=T%u>>>0,T=T/u>>>0;if(T!==0)throw new Error("Non-zero carry");A=I,x++}for(var P=S-A;P!==S&&N[P]===0;)P++;for(var M=f.repeat(E);P<S;++P)M+=t.charAt(N[P]);return M}function y(v){if(typeof v!="string")throw new TypeError("Expected String");if(v.length===0)return new Uint8Array;var E=0;if(v[E]!==" "){for(var A=0,x=0;v[E]===f;)A++,E++;for(var D=(v.length-E)*h+1>>>0,S=new Uint8Array(D);v[E];){var N=n[v.charCodeAt(E)];if(N===255)return;for(var T=0,I=D-1;(N!==0||T<x)&&I!==-1;I--,T++)N+=u*S[I]>>>0,S[I]=N%256>>>0,N=N/256>>>0;if(N!==0)throw new Error("Non-zero carry");x=T,E++}if(v[E]!==" "){for(var $=D-x;$!==D&&S[$]===0;)$++;for(var P=new Uint8Array(A+(D-$)),M=A;$!==D;)P[M++]=S[$++];return P}}}function b(v){var E=y(v);if(E)return E;throw new Error(`Non-${e} character`)}return{encode:g,decodeUnsafe:y,decode:b}}var hq=dq,pq=hq;const Y6=t=>{if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")},gq=t=>new TextEncoder().encode(t),mq=t=>new TextDecoder().decode(t);let yq=class{constructor(e,n,s){this.name=e,this.prefix=n,this.baseEncode=s}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}},wq=class{constructor(e,n,s){if(this.name=e,this.prefix=n,n.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=n.codePointAt(0),this.baseDecode=s}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return X6(this,e)}},bq=class{constructor(e){this.decoders=e}or(e){return X6(this,e)}decode(e){const n=e[0],s=this.decoders[n];if(s)return s.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}};const X6=(t,e)=>new bq({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}});let vq=class{constructor(e,n,s,i){this.name=e,this.prefix=n,this.baseEncode=s,this.baseDecode=i,this.encoder=new yq(e,n,s),this.decoder=new wq(e,n,i)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}};const Mm=({name:t,prefix:e,encode:n,decode:s})=>new vq(t,e,n,s),pp=({prefix:t,name:e,alphabet:n})=>{const{encode:s,decode:i}=pq(n,e);return Mm({prefix:t,name:e,encode:s,decode:a=>Y6(i(a))})},Eq=(t,e,n,s)=>{const i={};for(let p=0;p<e.length;++p)i[e[p]]=p;let a=t.length;for(;t[a-1]==="=";)--a;const c=new Uint8Array(a*n/8|0);let u=0,f=0,h=0;for(let p=0;p<a;++p){const g=i[t[p]];if(g===void 0)throw new SyntaxError(`Non-${s} character`);f=f<<n|g,u+=n,u>=8&&(u-=8,c[h++]=255&f>>u)}if(u>=n||255&f<<8-u)throw new SyntaxError("Unexpected end of data");return c},Aq=(t,e,n)=>{const s=e[e.length-1]==="=",i=(1<<n)-1;let a="",c=0,u=0;for(let f=0;f<t.length;++f)for(u=u<<8|t[f],c+=8;c>n;)c-=n,a+=e[i&u>>c];if(c&&(a+=e[i&u<<n-c]),s)for(;a.length*n&7;)a+="=";return a},Ln=({name:t,prefix:e,bitsPerChar:n,alphabet:s})=>Mm({prefix:e,name:t,encode(i){return Aq(i,s,n)},decode(i){return Eq(i,s,n,t)}}),Cq=Mm({prefix:"\0",name:"identity",encode:t=>mq(t),decode:t=>gq(t)});var Sq=Object.freeze({__proto__:null,identity:Cq});const xq=Ln({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var Nq=Object.freeze({__proto__:null,base2:xq});const Tq=Ln({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var _q=Object.freeze({__proto__:null,base8:Tq});const Iq=pp({prefix:"9",name:"base10",alphabet:"0123456789"});var Dq=Object.freeze({__proto__:null,base10:Iq});const Oq=Ln({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),Mq=Ln({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var Rq=Object.freeze({__proto__:null,base16:Oq,base16upper:Mq});const $q=Ln({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),Uq=Ln({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),Pq=Ln({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),Lq=Ln({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),kq=Ln({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),Bq=Ln({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),jq=Ln({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),zq=Ln({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),Hq=Ln({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var Fq=Object.freeze({__proto__:null,base32:$q,base32upper:Uq,base32pad:Pq,base32padupper:Lq,base32hex:kq,base32hexupper:Bq,base32hexpad:jq,base32hexpadupper:zq,base32z:Hq});const qq=pp({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),Vq=pp({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var Wq=Object.freeze({__proto__:null,base36:qq,base36upper:Vq});const Kq=pp({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),Gq=pp({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var Yq=Object.freeze({__proto__:null,base58btc:Kq,base58flickr:Gq});const Xq=Ln({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),Qq=Ln({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),Zq=Ln({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),Jq=Ln({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var eV=Object.freeze({__proto__:null,base64:Xq,base64pad:Qq,base64url:Zq,base64urlpad:Jq});const Q6=Array.from("🚀🪐☄🛰🌌🌑🌒🌓🌔🌕🌖🌗🌘🌍🌏🌎🐉☀💻🖥💾💿😂❤😍🤣😊🙏💕😭😘👍😅👏😁🔥🥰💔💖💙😢🤔😆🙄💪😉☺👌🤗💜😔😎😇🌹🤦🎉💞✌✨🤷😱😌🌸🙌😋💗💚😏💛🙂💓🤩😄😀🖤😃💯🙈👇🎶😒🤭❣😜💋👀😪😑💥🙋😞😩😡🤪👊🥳😥🤤👉💃😳✋😚😝😴🌟😬🙃🍀🌷😻😓⭐✅🥺🌈😈🤘💦✔😣🏃💐☹🎊💘😠☝😕🌺🎂🌻😐🖕💝🙊😹🗣💫💀👑🎵🤞😛🔴😤🌼😫⚽🤙☕🏆🤫👈😮🙆🍻🍃🐶💁😲🌿🧡🎁⚡🌞🎈❌✊👋😰🤨😶🤝🚶💰🍓💢🤟🙁🚨💨🤬✈🎀🍺🤓😙💟🌱😖👶🥴▶➡❓💎💸⬇😨🌚🦋😷🕺⚠🙅😟😵👎🤲🤠🤧📌🔵💅🧐🐾🍒😗🤑🌊🤯🐷☎💧😯💆👆🎤🙇🍑❄🌴💣🐸💌📍🥀🤢👅💡💩👐📸👻🤐🤮🎼🥵🚩🍎🍊👼💍📣🥂"),tV=Q6.reduce((t,e,n)=>(t[n]=e,t),[]),nV=Q6.reduce((t,e,n)=>(t[e.codePointAt(0)]=n,t),[]);function sV(t){return t.reduce((e,n)=>(e+=tV[n],e),"")}function iV(t){const e=[];for(const n of t){const s=nV[n.codePointAt(0)];if(s===void 0)throw new Error(`Non-base256emoji character: ${n}`);e.push(s)}return new Uint8Array(e)}const rV=Mm({prefix:"🚀",name:"base256emoji",encode:sV,decode:iV});var oV=Object.freeze({__proto__:null,base256emoji:rV}),aV=Z6,YN=128,cV=-128,lV=Math.pow(2,31);function Z6(t,e,n){e=e||[],n=n||0;for(var s=n;t>=lV;)e[n++]=t&255|YN,t/=128;for(;t&cV;)e[n++]=t&255|YN,t>>>=7;return e[n]=t|0,Z6.bytes=n-s+1,e}var uV=Rv,fV=128,XN=127;function Rv(t,s){var n=0,s=s||0,i=0,a=s,c,u=t.length;do{if(a>=u)throw Rv.bytes=0,new RangeError("Could not decode varint");c=t[a++],n+=i<28?(c&XN)<<i:(c&XN)*Math.pow(2,i),i+=7}while(c>=fV);return Rv.bytes=a-s,n}var dV=Math.pow(2,7),hV=Math.pow(2,14),pV=Math.pow(2,21),gV=Math.pow(2,28),mV=Math.pow(2,35),yV=Math.pow(2,42),wV=Math.pow(2,49),bV=Math.pow(2,56),vV=Math.pow(2,63),EV=function(t){return t<dV?1:t<hV?2:t<pV?3:t<gV?4:t<mV?5:t<yV?6:t<wV?7:t<bV?8:t<vV?9:10},AV={encode:aV,decode:uV,encodingLength:EV},J6=AV;const QN=(t,e,n=0)=>(J6.encode(t,e,n),e),ZN=t=>J6.encodingLength(t),$v=(t,e)=>{const n=e.byteLength,s=ZN(t),i=s+ZN(n),a=new Uint8Array(i+n);return QN(t,a,0),QN(n,a,s),a.set(e,i),new CV(t,n,e,a)};let CV=class{constructor(e,n,s,i){this.code=e,this.size=n,this.digest=s,this.bytes=i}};const eD=({name:t,code:e,encode:n})=>new SV(t,e,n);let SV=class{constructor(e,n,s){this.name=e,this.code=n,this.encode=s}digest(e){if(e instanceof Uint8Array){const n=this.encode(e);return n instanceof Uint8Array?$v(this.code,n):n.then(s=>$v(this.code,s))}else throw Error("Unknown type, must be binary type")}};const tD=t=>async e=>new Uint8Array(await crypto.subtle.digest(t,e)),xV=eD({name:"sha2-256",code:18,encode:tD("SHA-256")}),NV=eD({name:"sha2-512",code:19,encode:tD("SHA-512")});var TV=Object.freeze({__proto__:null,sha256:xV,sha512:NV});const nD=0,_V="identity",sD=Y6,IV=t=>$v(nD,sD(t)),DV={code:nD,name:_V,encode:sD,digest:IV};var OV=Object.freeze({__proto__:null,identity:DV});new TextEncoder,new TextDecoder;const JN={...Sq,...Nq,..._q,...Dq,...Rq,...Fq,...Wq,...Yq,...eV,...oV};({...TV,...OV});function iD(t,e,n,s){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:n},decoder:{decode:s}}}const eT=iD("utf8","u",t=>"u"+new TextDecoder("utf8").decode(t),t=>new TextEncoder().encode(t.substring(1))),ib=iD("ascii","a",t=>{let e="a";for(let n=0;n<t.length;n++)e+=String.fromCharCode(t[n]);return e},t=>{t=t.substring(1);const e=K6(t.length);for(let n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}),rD={utf8:eT,"utf-8":eT,hex:JN.base16,latin1:ib,ascii:ib,binary:ib,...JN};function Rm(t,e="utf8"){const n=rD[e];if(!n)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(t.buffer,t.byteOffset,t.byteLength).toString("utf8"):n.encoder.encode(t).substring(1)}function cf(t,e="utf8"){const n=rD[e];if(!n)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?kE(globalThis.Buffer.from(t,"utf-8")):n.decoder.decode(`${n.prefix}${t}`)}function tT(t){return Xc(Rm(cf(t,Om),V6))}function lm(t){return Rm(cf(xo(t),V6),Om)}function oD(t){const e=cf(uq,GN),n=lq+Rm(G6([e,t]),GN);return[aq,cq,n].join(oq)}function MV(t){return Rm(t,Om)}function RV(t){return cf(t,Om)}function $V(t){return cf([lm(t.header),lm(t.payload)].join(cm),W6)}function UV(t){return[lm(t.header),lm(t.payload),MV(t.signature)].join(cm)}function Uv(t){const e=t.split(cm),n=tT(e[0]),s=tT(e[1]),i=RV(e[2]),a=cf(e.slice(0,2).join(cm),W6);return{header:n,payload:s,signature:i,data:a}}function nT(t=$6(fq)){const e=q6.getPublicKey(t);return{secretKey:G6([t,e]),publicKey:e}}async function PV(t,e,n,s,i=we.fromMiliseconds(Date.now())){const a={alg:iq,typ:rq},c=oD(s.publicKey),u=i+n,f={iss:c,sub:t,aud:e,iat:i,exp:u},h=$V({header:a,payload:f}),p=q6.sign(h,s.secretKey.slice(0,32));return UV({header:a,payload:f,signature:p})}var sT=function(t,e,n){if(n||arguments.length===2)for(var s=0,i=e.length,a;s<i;s++)(a||!(s in e))&&(a||(a=Array.prototype.slice.call(e,0,s)),a[s]=e[s]);return t.concat(a||Array.prototype.slice.call(e))},LV=(function(){function t(e,n,s){this.name=e,this.version=n,this.os=s,this.type="browser"}return t})(),kV=(function(){function t(e){this.version=e,this.type="node",this.name="node",this.os=process.platform}return t})(),BV=(function(){function t(e,n,s,i){this.name=e,this.version=n,this.os=s,this.bot=i,this.type="bot-device"}return t})(),jV=(function(){function t(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null}return t})(),zV=(function(){function t(){this.type="react-native",this.name="react-native",this.version=null,this.os=null}return t})(),HV=/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/,FV=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,iT=3,qV=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["pie",/^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],["pie",/^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/],["netfront",/^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",HV]],rT=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Windows CE",/Windows CE|WinCE|Microsoft Pocket Internet Explorer/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function VV(t){return typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"?new zV:typeof navigator<"u"?KV(navigator.userAgent):YV()}function WV(t){return t!==""&&qV.reduce(function(e,n){var s=n[0],i=n[1];if(e)return e;var a=i.exec(t);return!!a&&[s,a]},!1)}function KV(t){var e=WV(t);if(!e)return null;var n=e[0],s=e[1];if(n==="searchbot")return new jV;var i=s[1]&&s[1].split(".").join("_").split("_").slice(0,3);i?i.length<iT&&(i=sT(sT([],i,!0),XV(iT-i.length),!0)):i=[];var a=i.join("."),c=GV(t),u=FV.exec(t);return u&&u[1]?new BV(n,a,c,u[1]):new LV(n,a,c)}function GV(t){for(var e=0,n=rT.length;e<n;e++){var s=rT[e],i=s[0],a=s[1],c=a.exec(t);if(c)return i}return null}function YV(){var t=typeof process<"u"&&process.version;return t?new kV(process.version.slice(1)):null}function XV(t){for(var e=[],n=0;n<t;n++)e.push("0");return e}var Tt={},oT;function aD(){if(oT)return Tt;oT=1,Object.defineProperty(Tt,"__esModule",{value:!0}),Tt.getLocalStorage=Tt.getLocalStorageOrThrow=Tt.getCrypto=Tt.getCryptoOrThrow=Tt.getLocation=Tt.getLocationOrThrow=Tt.getNavigator=Tt.getNavigatorOrThrow=Tt.getDocument=Tt.getDocumentOrThrow=Tt.getFromWindowOrThrow=Tt.getFromWindow=void 0;function t(y){let b;return typeof window<"u"&&typeof window[y]<"u"&&(b=window[y]),b}Tt.getFromWindow=t;function e(y){const b=t(y);if(!b)throw new Error(`${y} is not defined in Window`);return b}Tt.getFromWindowOrThrow=e;function n(){return e("document")}Tt.getDocumentOrThrow=n;function s(){return t("document")}Tt.getDocument=s;function i(){return e("navigator")}Tt.getNavigatorOrThrow=i;function a(){return t("navigator")}Tt.getNavigator=a;function c(){return e("location")}Tt.getLocationOrThrow=c;function u(){return t("location")}Tt.getLocation=u;function f(){return e("crypto")}Tt.getCryptoOrThrow=f;function h(){return t("crypto")}Tt.getCrypto=h;function p(){return e("localStorage")}Tt.getLocalStorageOrThrow=p;function g(){return t("localStorage")}return Tt.getLocalStorage=g,Tt}var No=aD(),Cd={},aT;function QV(){if(aT)return Cd;aT=1,Object.defineProperty(Cd,"__esModule",{value:!0}),Cd.getWindowMetadata=void 0;const t=aD();function e(){let n,s;try{n=t.getDocumentOrThrow(),s=t.getLocationOrThrow()}catch{return null}function i(){const b=n.getElementsByTagName("link"),v=[];for(let E=0;E<b.length;E++){const A=b[E],x=A.getAttribute("rel");if(x&&x.toLowerCase().indexOf("icon")>-1){const D=A.getAttribute("href");if(D)if(D.toLowerCase().indexOf("https:")===-1&&D.toLowerCase().indexOf("http:")===-1&&D.indexOf("//")!==0){let S=s.protocol+"//"+s.host;if(D.indexOf("/")===0)S+=D;else{const N=s.pathname.split("/");N.pop();const T=N.join("/");S+=T+"/"+D}v.push(S)}else if(D.indexOf("//")===0){const S=s.protocol+D;v.push(S)}else v.push(D)}}return v}function a(...b){const v=n.getElementsByTagName("meta");for(let E=0;E<v.length;E++){const A=v[E],x=["itemprop","property","name"].map(D=>A.getAttribute(D)).filter(D=>D?b.includes(D):!1);if(x.length&&x){const D=A.getAttribute("content");if(D)return D}}return""}function c(){let b=a("name","og:site_name","og:title","twitter:title");return b||(b=n.title),b}function u(){return a("description","og:description","twitter:description","keywords")}const f=c(),h=u(),p=s.origin,g=i();return{description:h,url:p,icons:g,name:f}}return Cd.getWindowMetadata=e,Cd}var ZV=QV();function xh(t,{strict:e=!0}={}){return!t||typeof t!="string"?!1:e?/^0x[0-9a-fA-F]*$/.test(t):t.startsWith("0x")}function Pv(t){return xh(t,{strict:!1})?Math.ceil((t.length-2)/2):t.length}const cD="2.31.0";let rb={getDocsUrl:({docsBaseUrl:t,docsPath:e="",docsSlug:n})=>e?`${t??"https://viem.sh"}${e}${n?`#${n}`:""}`:void 0,version:`viem@${cD}`},$m=class Lv extends Error{constructor(e,n={}){const s=n.cause instanceof Lv?n.cause.details:n.cause?.message?n.cause.message:n.details,i=n.cause instanceof Lv&&n.cause.docsPath||n.docsPath,a=rb.getDocsUrl?.({...n,docsPath:i}),c=[e||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...a?[`Docs: ${a}`]:[],...s?[`Details: ${s}`]:[],...rb.version?[`Version: ${rb.version}`]:[]].join(`
`);super(c,n.cause?{cause:n.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),this.details=s,this.docsPath=i,this.metaMessages=n.metaMessages,this.name=n.name??this.name,this.shortMessage=e,this.version=cD}walk(e){return lD(this,e)}};function lD(t,e){return e?.(t)?t:t&&typeof t=="object"&&"cause"in t&&t.cause!==void 0?lD(t.cause,e):e?null:t}let uD=class extends $m{constructor({size:e,targetSize:n,type:s}){super(`${s.charAt(0).toUpperCase()}${s.slice(1).toLowerCase()} size (${e}) exceeds padding size (${n}).`,{name:"SizeExceedsPaddingSizeError"})}};function lf(t,{dir:e,size:n=32}={}){return typeof t=="string"?JV(t,{dir:e,size:n}):eW(t,{dir:e,size:n})}function JV(t,{dir:e,size:n=32}={}){if(n===null)return t;const s=t.replace("0x","");if(s.length>n*2)throw new uD({size:Math.ceil(s.length/2),targetSize:n,type:"hex"});return`0x${s[e==="right"?"padEnd":"padStart"](n*2,"0")}`}function eW(t,{dir:e,size:n=32}={}){if(n===null)return t;if(t.length>n)throw new uD({size:t.length,targetSize:n,type:"bytes"});const s=new Uint8Array(n);for(let i=0;i<n;i++){const a=e==="right";s[a?i:n-i-1]=t[a?i:t.length-i-1]}return s}let tW=class extends $m{constructor({max:e,min:n,signed:s,size:i,value:a}){super(`Number "${a}" is not in safe ${i?`${i*8}-bit ${s?"signed":"unsigned"} `:""}integer range ${e?`(${n} to ${e})`:`(above ${n})`}`,{name:"IntegerOutOfRangeError"})}},nW=class extends $m{constructor({givenSize:e,maxSize:n}){super(`Size cannot exceed ${n} bytes. Given size: ${e} bytes.`,{name:"SizeOverflowError"})}};function uf(t,{size:e}){if(Pv(t)>e)throw new nW({givenSize:Pv(t),maxSize:e})}function kv(t,e={}){const{signed:n}=e;e.size&&uf(t,{size:e.size});const s=BigInt(t);if(!n)return s;const i=(t.length-2)/2,a=(1n<<BigInt(i)*8n-1n)-1n;return s<=a?s:s-BigInt(`0x${"f".padStart(i*2,"f")}`)-1n}function sW(t,e={}){return Number(kv(t,e))}const iW=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function Bv(t,e={}){return typeof t=="number"||typeof t=="bigint"?dD(t,e):typeof t=="string"?aW(t,e):typeof t=="boolean"?rW(t,e):fD(t,e)}function rW(t,e={}){const n=`0x${Number(t)}`;return typeof e.size=="number"?(uf(n,{size:e.size}),lf(n,{size:e.size})):n}function fD(t,e={}){let n="";for(let i=0;i<t.length;i++)n+=iW[t[i]];const s=`0x${n}`;return typeof e.size=="number"?(uf(s,{size:e.size}),lf(s,{dir:"right",size:e.size})):s}function dD(t,e={}){const{signed:n,size:s}=e,i=BigInt(t);let a;s?n?a=(1n<<BigInt(s)*8n-1n)-1n:a=2n**(BigInt(s)*8n)-1n:typeof t=="number"&&(a=BigInt(Number.MAX_SAFE_INTEGER));const c=typeof a=="bigint"&&n?-a-1n:0;if(a&&i>a||i<c){const f=typeof t=="bigint"?"n":"";throw new tW({max:a?`${a}${f}`:void 0,min:`${c}${f}`,signed:n,size:s,value:`${t}${f}`})}const u=`0x${(n&&i<0?(1n<<BigInt(s*8))+BigInt(i):i).toString(16)}`;return s?lf(u,{size:s}):u}const oW=new TextEncoder;function aW(t,e={}){const n=oW.encode(t);return fD(n,e)}const cW=new TextEncoder;function lW(t,e={}){return typeof t=="number"||typeof t=="bigint"?fW(t,e):typeof t=="boolean"?uW(t,e):xh(t)?hD(t,e):pD(t,e)}function uW(t,e={}){const n=new Uint8Array(1);return n[0]=Number(t),typeof e.size=="number"?(uf(n,{size:e.size}),lf(n,{size:e.size})):n}const oo={zero:48,nine:57,A:65,F:70,a:97,f:102};function cT(t){if(t>=oo.zero&&t<=oo.nine)return t-oo.zero;if(t>=oo.A&&t<=oo.F)return t-(oo.A-10);if(t>=oo.a&&t<=oo.f)return t-(oo.a-10)}function hD(t,e={}){let n=t;e.size&&(uf(n,{size:e.size}),n=lf(n,{dir:"right",size:e.size}));let s=n.slice(2);s.length%2&&(s=`0${s}`);const i=s.length/2,a=new Uint8Array(i);for(let c=0,u=0;c<i;c++){const f=cT(s.charCodeAt(u++)),h=cT(s.charCodeAt(u++));if(f===void 0||h===void 0)throw new $m(`Invalid byte sequence ("${s[u-2]}${s[u-1]}" in "${s}").`);a[c]=f*16+h}return a}function fW(t,e){const n=dD(t,e);return hD(n)}function pD(t,e={}){const n=cW.encode(t);return typeof e.size=="number"?(uf(n,{size:e.size}),lf(n,{dir:"right",size:e.size})):n}const r0=BigInt(2**32-1),lT=BigInt(32);function dW(t,e=!1){return e?{h:Number(t&r0),l:Number(t>>lT&r0)}:{h:Number(t>>lT&r0)|0,l:Number(t&r0)|0}}function hW(t,e=!1){const n=t.length;let s=new Uint32Array(n),i=new Uint32Array(n);for(let a=0;a<n;a++){const{h:c,l:u}=dW(t[a],e);[s[a],i[a]]=[c,u]}return[s,i]}const pW=(t,e,n)=>t<<n|e>>>32-n,gW=(t,e,n)=>e<<n|t>>>32-n,mW=(t,e,n)=>e<<n-32|t>>>64-n,yW=(t,e,n)=>t<<n-32|e>>>64-n,ru=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */function wW(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function um(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function Nh(t,...e){if(!wW(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function sle(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.createHasher");um(t.outputLen),um(t.blockLen)}function uT(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function bW(t,e){Nh(t);const n=e.outputLen;if(t.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}function vW(t){return new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4))}function gD(...t){for(let e=0;e<t.length;e++)t[e].fill(0)}function ile(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function rle(t,e){return t<<32-e|t>>>e}const EW=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function AW(t){return t<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255}function CW(t){for(let e=0;e<t.length;e++)t[e]=AW(t[e]);return t}const fT=EW?t=>t:CW;function SW(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}function mD(t){return typeof t=="string"&&(t=SW(t)),Nh(t),t}function ole(...t){let e=0;for(let s=0;s<t.length;s++){const i=t[s];Nh(i),e+=i.length}const n=new Uint8Array(e);for(let s=0,i=0;s<t.length;s++){const a=t[s];n.set(a,i),i+=a.length}return n}class xW{}function NW(t){const e=s=>t().update(mD(s)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function ale(t=32){if(ru&&typeof ru.getRandomValues=="function")return ru.getRandomValues(new Uint8Array(t));if(ru&&typeof ru.randomBytes=="function")return Uint8Array.from(ru.randomBytes(t));throw new Error("crypto.getRandomValues must be defined")}const TW=BigInt(0),Sd=BigInt(1),_W=BigInt(2),IW=BigInt(7),DW=BigInt(256),OW=BigInt(113),yD=[],wD=[],bD=[];for(let t=0,e=Sd,n=1,s=0;t<24;t++){[n,s]=[s,(2*n+3*s)%5],yD.push(2*(5*s+n)),wD.push((t+1)*(t+2)/2%64);let i=TW;for(let a=0;a<7;a++)e=(e<<Sd^(e>>IW)*OW)%DW,e&_W&&(i^=Sd<<(Sd<<BigInt(a))-Sd);bD.push(i)}const vD=hW(bD,!0),MW=vD[0],RW=vD[1],dT=(t,e,n)=>n>32?mW(t,e,n):pW(t,e,n),hT=(t,e,n)=>n>32?yW(t,e,n):gW(t,e,n);function $W(t,e=24){const n=new Uint32Array(10);for(let s=24-e;s<24;s++){for(let c=0;c<10;c++)n[c]=t[c]^t[c+10]^t[c+20]^t[c+30]^t[c+40];for(let c=0;c<10;c+=2){const u=(c+8)%10,f=(c+2)%10,h=n[f],p=n[f+1],g=dT(h,p,1)^n[u],y=hT(h,p,1)^n[u+1];for(let b=0;b<50;b+=10)t[c+b]^=g,t[c+b+1]^=y}let i=t[2],a=t[3];for(let c=0;c<24;c++){const u=wD[c],f=dT(i,a,u),h=hT(i,a,u),p=yD[c];i=t[p],a=t[p+1],t[p]=f,t[p+1]=h}for(let c=0;c<50;c+=10){for(let u=0;u<10;u++)n[u]=t[c+u];for(let u=0;u<10;u++)t[c+u]^=~n[(u+2)%10]&n[(u+4)%10]}t[0]^=MW[s],t[1]^=RW[s]}gD(n)}class BE extends xW{constructor(e,n,s,i=!1,a=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=e,this.suffix=n,this.outputLen=s,this.enableXOF=i,this.rounds=a,um(s),!(0<e&&e<200))throw new Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=vW(this.state)}clone(){return this._cloneInto()}keccak(){fT(this.state32),$W(this.state32,this.rounds),fT(this.state32),this.posOut=0,this.pos=0}update(e){uT(this),e=mD(e),Nh(e);const{blockLen:n,state:s}=this,i=e.length;for(let a=0;a<i;){const c=Math.min(n-this.pos,i-a);for(let u=0;u<c;u++)s[this.pos++]^=e[a++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:n,pos:s,blockLen:i}=this;e[s]^=n,(n&128)!==0&&s===i-1&&this.keccak(),e[i-1]^=128,this.keccak()}writeInto(e){uT(this,!1),Nh(e),this.finish();const n=this.state,{blockLen:s}=this;for(let i=0,a=e.length;i<a;){this.posOut>=s&&this.keccak();const c=Math.min(s-this.posOut,a-i);e.set(n.subarray(this.posOut,this.posOut+c),i),this.posOut+=c,i+=c}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return um(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(bW(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,gD(this.state)}_cloneInto(e){const{blockLen:n,suffix:s,outputLen:i,rounds:a,enableXOF:c}=this;return e||(e=new BE(n,s,i,c,a)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=a,e.suffix=s,e.outputLen=i,e.enableXOF=c,e.destroyed=this.destroyed,e}}const UW=(t,e,n)=>NW(()=>new BE(e,t,n)),PW=UW(1,136,256/8);function ED(t,e){const n=e||"hex",s=PW(xh(t,{strict:!1})?lW(t):t);return n==="bytes"?s:Bv(s)}let LW=class extends Map{constructor(e){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=e}get(e){const n=super.get(e);return super.has(e)&&n!==void 0&&(this.delete(e),super.set(e,n)),n}set(e,n){if(super.set(e,n),this.maxSize&&this.size>this.maxSize){const s=this.keys().next().value;s&&this.delete(s)}return this}};const ob=new LW(8192);function kW(t,e){if(ob.has(`${t}.${e}`))return ob.get(`${t}.${e}`);const n=t.substring(2).toLowerCase(),s=ED(pD(n),"bytes"),i=n.split("");for(let c=0;c<40;c+=2)s[c>>1]>>4>=8&&i[c]&&(i[c]=i[c].toUpperCase()),(s[c>>1]&15)>=8&&i[c+1]&&(i[c+1]=i[c+1].toUpperCase());const a=`0x${i.join("")}`;return ob.set(`${t}.${e}`,a),a}function BW(t){const e=ED(`0x${t.substring(4)}`).substring(26);return kW(`0x${e}`)}async function jW({hash:t,signature:e}){const n=xh(t)?t:Bv(t),{secp256k1:s}=await vh(async()=>{const{secp256k1:c}=await import("./secp256k1-Cl7rjhxS.js");return{secp256k1:c}},[]);return`0x${(()=>{if(typeof e=="object"&&"r"in e&&"s"in e){const{r:h,s:p,v:g,yParity:y}=e,b=Number(y??g),v=pT(b);return new s.Signature(kv(h),kv(p)).addRecoveryBit(v)}const c=xh(e)?e:Bv(e);if(Pv(c)!==65)throw new Error("invalid signature length");const u=sW(`0x${c.slice(130)}`),f=pT(u);return s.Signature.fromCompact(c.substring(2,130)).addRecoveryBit(f)})().recoverPublicKey(n.substring(2)).toHex(!1)}`}function pT(t){if(t===0||t===1)return t;if(t===27)return 0;if(t===28)return 1;throw new Error("Invalid yParityOrV value")}async function zW({hash:t,signature:e}){return BW(await jW({hash:t,signature:e}))}function HW(t){if(t.length>=255)throw new TypeError("Alphabet too long");const e=new Uint8Array(256);for(let h=0;h<e.length;h++)e[h]=255;for(let h=0;h<t.length;h++){const p=t.charAt(h),g=p.charCodeAt(0);if(e[g]!==255)throw new TypeError(p+" is ambiguous");e[g]=h}const n=t.length,s=t.charAt(0),i=Math.log(n)/Math.log(256),a=Math.log(256)/Math.log(n);function c(h){if(h instanceof Uint8Array||(ArrayBuffer.isView(h)?h=new Uint8Array(h.buffer,h.byteOffset,h.byteLength):Array.isArray(h)&&(h=Uint8Array.from(h))),!(h instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(h.length===0)return"";let p=0,g=0,y=0;const b=h.length;for(;y!==b&&h[y]===0;)y++,p++;const v=(b-y)*a+1>>>0,E=new Uint8Array(v);for(;y!==b;){let D=h[y],S=0;for(let N=v-1;(D!==0||S<g)&&N!==-1;N--,S++)D+=256*E[N]>>>0,E[N]=D%n>>>0,D=D/n>>>0;if(D!==0)throw new Error("Non-zero carry");g=S,y++}let A=v-g;for(;A!==v&&E[A]===0;)A++;let x=s.repeat(p);for(;A<v;++A)x+=t.charAt(E[A]);return x}function u(h){if(typeof h!="string")throw new TypeError("Expected String");if(h.length===0)return new Uint8Array;let p=0,g=0,y=0;for(;h[p]===s;)g++,p++;const b=(h.length-p)*i+1>>>0,v=new Uint8Array(b);for(;p<h.length;){const D=h.charCodeAt(p);if(D>255)return;let S=e[D];if(S===255)return;let N=0;for(let T=b-1;(S!==0||N<y)&&T!==-1;T--,N++)S+=n*v[T]>>>0,v[T]=S%256>>>0,S=S/256>>>0;if(S!==0)throw new Error("Non-zero carry");y=N,p++}let E=b-y;for(;E!==b&&v[E]===0;)E++;const A=new Uint8Array(g+(b-E));let x=g;for(;E!==b;)A[x++]=v[E++];return A}function f(h){const p=u(h);if(p)return p;throw new Error("Non-base"+n+" character")}return{encode:c,decodeUnsafe:u,decode:f}}var FW="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";const ff=HW(FW);function qW(t){const e=t.length;let n=0,s=0;for(;s<e;){let i=t.charCodeAt(s++);if((i&4294967168)===0){n++;continue}else if((i&4294965248)===0)n+=2;else{if(i>=55296&&i<=56319&&s<e){const a=t.charCodeAt(s);(a&64512)===56320&&(++s,i=((i&1023)<<10)+(a&1023)+65536)}(i&4294901760)===0?n+=3:n+=4}}return n}function VW(t,e,n){const s=t.length;let i=n,a=0;for(;a<s;){let c=t.charCodeAt(a++);if((c&4294967168)===0){e[i++]=c;continue}else if((c&4294965248)===0)e[i++]=c>>6&31|192;else{if(c>=55296&&c<=56319&&a<s){const u=t.charCodeAt(a);(u&64512)===56320&&(++a,c=((c&1023)<<10)+(u&1023)+65536)}(c&4294901760)===0?(e[i++]=c>>12&15|224,e[i++]=c>>6&63|128):(e[i++]=c>>18&7|240,e[i++]=c>>12&63|128,e[i++]=c>>6&63|128)}e[i++]=c&63|128}}const WW=new TextEncoder,KW=50;function GW(t,e,n){WW.encodeInto(t,e.subarray(n))}function YW(t,e,n){t.length>KW?GW(t,e,n):VW(t,e,n)}const XW=4096;function AD(t,e,n){let s=e;const i=s+n,a=[];let c="";for(;s<i;){const u=t[s++];if((u&128)===0)a.push(u);else if((u&224)===192){const f=t[s++]&63;a.push((u&31)<<6|f)}else if((u&240)===224){const f=t[s++]&63,h=t[s++]&63;a.push((u&31)<<12|f<<6|h)}else if((u&248)===240){const f=t[s++]&63,h=t[s++]&63,p=t[s++]&63;let g=(u&7)<<18|f<<12|h<<6|p;g>65535&&(g-=65536,a.push(g>>>10&1023|55296),g=56320|g&1023),a.push(g)}else a.push(u);a.length>=XW&&(c+=String.fromCharCode(...a),a.length=0)}return a.length>0&&(c+=String.fromCharCode(...a)),c}const QW=new TextDecoder,ZW=200;function JW(t,e,n){const s=t.subarray(e,e+n);return QW.decode(s)}function eK(t,e,n){return n>ZW?JW(t,e,n):AD(t,e,n)}class o0{constructor(e,n){this.type=e,this.data=n}}class Vs extends Error{constructor(e){super(e);const n=Object.create(Vs.prototype);Object.setPrototypeOf(this,n),Object.defineProperty(this,"name",{configurable:!0,enumerable:!1,value:Vs.name})}}const xd=4294967295;function tK(t,e,n){const s=n/4294967296,i=n;t.setUint32(e,s),t.setUint32(e+4,i)}function CD(t,e,n){const s=Math.floor(n/4294967296),i=n;t.setUint32(e,s),t.setUint32(e+4,i)}function SD(t,e){const n=t.getInt32(e),s=t.getUint32(e+4);return n*4294967296+s}function nK(t,e){const n=t.getUint32(e),s=t.getUint32(e+4);return n*4294967296+s}const sK=-1,iK=4294967296-1,rK=17179869184-1;function oK({sec:t,nsec:e}){if(t>=0&&e>=0&&t<=rK)if(e===0&&t<=iK){const n=new Uint8Array(4);return new DataView(n.buffer).setUint32(0,t),n}else{const n=t/4294967296,s=t&4294967295,i=new Uint8Array(8),a=new DataView(i.buffer);return a.setUint32(0,e<<2|n&3),a.setUint32(4,s),i}else{const n=new Uint8Array(12),s=new DataView(n.buffer);return s.setUint32(0,e),CD(s,4,t),n}}function aK(t){const e=t.getTime(),n=Math.floor(e/1e3),s=(e-n*1e3)*1e6,i=Math.floor(s/1e9);return{sec:n+i,nsec:s-i*1e9}}function cK(t){if(t instanceof Date){const e=aK(t);return oK(e)}else return null}function lK(t){const e=new DataView(t.buffer,t.byteOffset,t.byteLength);switch(t.byteLength){case 4:return{sec:e.getUint32(0),nsec:0};case 8:{const n=e.getUint32(0),s=e.getUint32(4),i=(n&3)*4294967296+s,a=n>>>2;return{sec:i,nsec:a}}case 12:{const n=SD(e,4),s=e.getUint32(0);return{sec:n,nsec:s}}default:throw new Vs(`Unrecognized data size for timestamp (expected 4, 8, or 12): ${t.length}`)}}function uK(t){const e=lK(t);return new Date(e.sec*1e3+e.nsec/1e6)}const fK={type:sK,encode:cK,decode:uK};class fm{constructor(){this.builtInEncoders=[],this.builtInDecoders=[],this.encoders=[],this.decoders=[],this.register(fK)}register({type:e,encode:n,decode:s}){if(e>=0)this.encoders[e]=n,this.decoders[e]=s;else{const i=-1-e;this.builtInEncoders[i]=n,this.builtInDecoders[i]=s}}tryToEncode(e,n){for(let s=0;s<this.builtInEncoders.length;s++){const i=this.builtInEncoders[s];if(i!=null){const a=i(e,n);if(a!=null){const c=-1-s;return new o0(c,a)}}}for(let s=0;s<this.encoders.length;s++){const i=this.encoders[s];if(i!=null){const a=i(e,n);if(a!=null){const c=s;return new o0(c,a)}}}return e instanceof o0?e:null}decode(e,n,s){const i=n<0?this.builtInDecoders[-1-n]:this.decoders[n];return i?i(e,n,s):new o0(n,e)}}fm.defaultCodec=new fm;function dK(t){return t instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&t instanceof SharedArrayBuffer}function jv(t){return t instanceof Uint8Array?t:ArrayBuffer.isView(t)?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):dK(t)?new Uint8Array(t):Uint8Array.from(t)}const hK=100,pK=2048;let gK=class xD{constructor(e){this.entered=!1,this.extensionCodec=e?.extensionCodec??fm.defaultCodec,this.context=e?.context,this.useBigInt64=e?.useBigInt64??!1,this.maxDepth=e?.maxDepth??hK,this.initialBufferSize=e?.initialBufferSize??pK,this.sortKeys=e?.sortKeys??!1,this.forceFloat32=e?.forceFloat32??!1,this.ignoreUndefined=e?.ignoreUndefined??!1,this.forceIntegerToFloat=e?.forceIntegerToFloat??!1,this.pos=0,this.view=new DataView(new ArrayBuffer(this.initialBufferSize)),this.bytes=new Uint8Array(this.view.buffer)}clone(){return new xD({extensionCodec:this.extensionCodec,context:this.context,useBigInt64:this.useBigInt64,maxDepth:this.maxDepth,initialBufferSize:this.initialBufferSize,sortKeys:this.sortKeys,forceFloat32:this.forceFloat32,ignoreUndefined:this.ignoreUndefined,forceIntegerToFloat:this.forceIntegerToFloat})}reinitializeState(){this.pos=0}encodeSharedRef(e){if(this.entered)return this.clone().encodeSharedRef(e);try{return this.entered=!0,this.reinitializeState(),this.doEncode(e,1),this.bytes.subarray(0,this.pos)}finally{this.entered=!1}}encode(e){if(this.entered)return this.clone().encode(e);try{return this.entered=!0,this.reinitializeState(),this.doEncode(e,1),this.bytes.slice(0,this.pos)}finally{this.entered=!1}}doEncode(e,n){if(n>this.maxDepth)throw new Error(`Too deep objects in depth ${n}`);e==null?this.encodeNil():typeof e=="boolean"?this.encodeBoolean(e):typeof e=="number"?this.forceIntegerToFloat?this.encodeNumberAsFloat(e):this.encodeNumber(e):typeof e=="string"?this.encodeString(e):this.useBigInt64&&typeof e=="bigint"?this.encodeBigInt64(e):this.encodeObject(e,n)}ensureBufferSizeToWrite(e){const n=this.pos+e;this.view.byteLength<n&&this.resizeBuffer(n*2)}resizeBuffer(e){const n=new ArrayBuffer(e),s=new Uint8Array(n),i=new DataView(n);s.set(this.bytes),this.view=i,this.bytes=s}encodeNil(){this.writeU8(192)}encodeBoolean(e){e===!1?this.writeU8(194):this.writeU8(195)}encodeNumber(e){!this.forceIntegerToFloat&&Number.isSafeInteger(e)?e>=0?e<128?this.writeU8(e):e<256?(this.writeU8(204),this.writeU8(e)):e<65536?(this.writeU8(205),this.writeU16(e)):e<4294967296?(this.writeU8(206),this.writeU32(e)):this.useBigInt64?this.encodeNumberAsFloat(e):(this.writeU8(207),this.writeU64(e)):e>=-32?this.writeU8(224|e+32):e>=-128?(this.writeU8(208),this.writeI8(e)):e>=-32768?(this.writeU8(209),this.writeI16(e)):e>=-2147483648?(this.writeU8(210),this.writeI32(e)):this.useBigInt64?this.encodeNumberAsFloat(e):(this.writeU8(211),this.writeI64(e)):this.encodeNumberAsFloat(e)}encodeNumberAsFloat(e){this.forceFloat32?(this.writeU8(202),this.writeF32(e)):(this.writeU8(203),this.writeF64(e))}encodeBigInt64(e){e>=BigInt(0)?(this.writeU8(207),this.writeBigUint64(e)):(this.writeU8(211),this.writeBigInt64(e))}writeStringHeader(e){if(e<32)this.writeU8(160+e);else if(e<256)this.writeU8(217),this.writeU8(e);else if(e<65536)this.writeU8(218),this.writeU16(e);else if(e<4294967296)this.writeU8(219),this.writeU32(e);else throw new Error(`Too long string: ${e} bytes in UTF-8`)}encodeString(e){const s=qW(e);this.ensureBufferSizeToWrite(5+s),this.writeStringHeader(s),YW(e,this.bytes,this.pos),this.pos+=s}encodeObject(e,n){const s=this.extensionCodec.tryToEncode(e,this.context);if(s!=null)this.encodeExtension(s);else if(Array.isArray(e))this.encodeArray(e,n);else if(ArrayBuffer.isView(e))this.encodeBinary(e);else if(typeof e=="object")this.encodeMap(e,n);else throw new Error(`Unrecognized object: ${Object.prototype.toString.apply(e)}`)}encodeBinary(e){const n=e.byteLength;if(n<256)this.writeU8(196),this.writeU8(n);else if(n<65536)this.writeU8(197),this.writeU16(n);else if(n<4294967296)this.writeU8(198),this.writeU32(n);else throw new Error(`Too large binary: ${n}`);const s=jv(e);this.writeU8a(s)}encodeArray(e,n){const s=e.length;if(s<16)this.writeU8(144+s);else if(s<65536)this.writeU8(220),this.writeU16(s);else if(s<4294967296)this.writeU8(221),this.writeU32(s);else throw new Error(`Too large array: ${s}`);for(const i of e)this.doEncode(i,n+1)}countWithoutUndefined(e,n){let s=0;for(const i of n)e[i]!==void 0&&s++;return s}encodeMap(e,n){const s=Object.keys(e);this.sortKeys&&s.sort();const i=this.ignoreUndefined?this.countWithoutUndefined(e,s):s.length;if(i<16)this.writeU8(128+i);else if(i<65536)this.writeU8(222),this.writeU16(i);else if(i<4294967296)this.writeU8(223),this.writeU32(i);else throw new Error(`Too large map object: ${i}`);for(const a of s){const c=e[a];this.ignoreUndefined&&c===void 0||(this.encodeString(a),this.doEncode(c,n+1))}}encodeExtension(e){if(typeof e.data=="function"){const s=e.data(this.pos+6),i=s.length;if(i>=4294967296)throw new Error(`Too large extension object: ${i}`);this.writeU8(201),this.writeU32(i),this.writeI8(e.type),this.writeU8a(s);return}const n=e.data.length;if(n===1)this.writeU8(212);else if(n===2)this.writeU8(213);else if(n===4)this.writeU8(214);else if(n===8)this.writeU8(215);else if(n===16)this.writeU8(216);else if(n<256)this.writeU8(199),this.writeU8(n);else if(n<65536)this.writeU8(200),this.writeU16(n);else if(n<4294967296)this.writeU8(201),this.writeU32(n);else throw new Error(`Too large extension object: ${n}`);this.writeI8(e.type),this.writeU8a(e.data)}writeU8(e){this.ensureBufferSizeToWrite(1),this.view.setUint8(this.pos,e),this.pos++}writeU8a(e){const n=e.length;this.ensureBufferSizeToWrite(n),this.bytes.set(e,this.pos),this.pos+=n}writeI8(e){this.ensureBufferSizeToWrite(1),this.view.setInt8(this.pos,e),this.pos++}writeU16(e){this.ensureBufferSizeToWrite(2),this.view.setUint16(this.pos,e),this.pos+=2}writeI16(e){this.ensureBufferSizeToWrite(2),this.view.setInt16(this.pos,e),this.pos+=2}writeU32(e){this.ensureBufferSizeToWrite(4),this.view.setUint32(this.pos,e),this.pos+=4}writeI32(e){this.ensureBufferSizeToWrite(4),this.view.setInt32(this.pos,e),this.pos+=4}writeF32(e){this.ensureBufferSizeToWrite(4),this.view.setFloat32(this.pos,e),this.pos+=4}writeF64(e){this.ensureBufferSizeToWrite(8),this.view.setFloat64(this.pos,e),this.pos+=8}writeU64(e){this.ensureBufferSizeToWrite(8),tK(this.view,this.pos,e),this.pos+=8}writeI64(e){this.ensureBufferSizeToWrite(8),CD(this.view,this.pos,e),this.pos+=8}writeBigUint64(e){this.ensureBufferSizeToWrite(8),this.view.setBigUint64(this.pos,e),this.pos+=8}writeBigInt64(e){this.ensureBufferSizeToWrite(8),this.view.setBigInt64(this.pos,e),this.pos+=8}};function mK(t,e){return new gK(e).encodeSharedRef(t)}function ab(t){return`${t<0?"-":""}0x${Math.abs(t).toString(16).padStart(2,"0")}`}const yK=16,wK=16;class bK{constructor(e=yK,n=wK){this.hit=0,this.miss=0,this.maxKeyLength=e,this.maxLengthPerKey=n,this.caches=[];for(let s=0;s<this.maxKeyLength;s++)this.caches.push([])}canBeCached(e){return e>0&&e<=this.maxKeyLength}find(e,n,s){const i=this.caches[s-1];e:for(const a of i){const c=a.bytes;for(let u=0;u<s;u++)if(c[u]!==e[n+u])continue e;return a.str}return null}store(e,n){const s=this.caches[e.length-1],i={bytes:e,str:n};s.length>=this.maxLengthPerKey?s[Math.random()*s.length|0]=i:s.push(i)}decode(e,n,s){const i=this.find(e,n,s);if(i!=null)return this.hit++,i;this.miss++;const a=AD(e,n,s),c=Uint8Array.prototype.slice.call(e,n,n+s);return this.store(c,a),a}}const zv="array",Jd="map_key",ND="map_value",vK=t=>{if(typeof t=="string"||typeof t=="number")return t;throw new Vs("The type of key must be string or number but "+typeof t)};class EK{constructor(){this.stack=[],this.stackHeadPosition=-1}get length(){return this.stackHeadPosition+1}top(){return this.stack[this.stackHeadPosition]}pushArrayState(e){const n=this.getUninitializedStateFromPool();n.type=zv,n.position=0,n.size=e,n.array=new Array(e)}pushMapState(e){const n=this.getUninitializedStateFromPool();n.type=Jd,n.readCount=0,n.size=e,n.map={}}getUninitializedStateFromPool(){if(this.stackHeadPosition++,this.stackHeadPosition===this.stack.length){const e={type:void 0,size:0,array:void 0,position:0,readCount:0,map:void 0,key:null};this.stack.push(e)}return this.stack[this.stackHeadPosition]}release(e){if(this.stack[this.stackHeadPosition]!==e)throw new Error("Invalid stack state. Released state is not on top of the stack.");if(e.type===zv){const s=e;s.size=0,s.array=void 0,s.position=0,s.type=void 0}if(e.type===Jd||e.type===ND){const s=e;s.size=0,s.map=void 0,s.readCount=0,s.type=void 0}this.stackHeadPosition--}reset(){this.stack.length=0,this.stackHeadPosition=-1}}const Nd=-1,jE=new DataView(new ArrayBuffer(0)),AK=new Uint8Array(jE.buffer);try{jE.getInt8(0)}catch(t){if(!(t instanceof RangeError))throw new Error("This module is not supported in the current JavaScript engine because DataView does not throw RangeError on out-of-bounds access")}const gT=new RangeError("Insufficient data"),CK=new bK;let SK=class TD{constructor(e){this.totalPos=0,this.pos=0,this.view=jE,this.bytes=AK,this.headByte=Nd,this.stack=new EK,this.entered=!1,this.extensionCodec=e?.extensionCodec??fm.defaultCodec,this.context=e?.context,this.useBigInt64=e?.useBigInt64??!1,this.rawStrings=e?.rawStrings??!1,this.maxStrLength=e?.maxStrLength??xd,this.maxBinLength=e?.maxBinLength??xd,this.maxArrayLength=e?.maxArrayLength??xd,this.maxMapLength=e?.maxMapLength??xd,this.maxExtLength=e?.maxExtLength??xd,this.keyDecoder=e?.keyDecoder!==void 0?e.keyDecoder:CK,this.mapKeyConverter=e?.mapKeyConverter??vK}clone(){return new TD({extensionCodec:this.extensionCodec,context:this.context,useBigInt64:this.useBigInt64,rawStrings:this.rawStrings,maxStrLength:this.maxStrLength,maxBinLength:this.maxBinLength,maxArrayLength:this.maxArrayLength,maxMapLength:this.maxMapLength,maxExtLength:this.maxExtLength,keyDecoder:this.keyDecoder})}reinitializeState(){this.totalPos=0,this.headByte=Nd,this.stack.reset()}setBuffer(e){const n=jv(e);this.bytes=n,this.view=new DataView(n.buffer,n.byteOffset,n.byteLength),this.pos=0}appendBuffer(e){if(this.headByte===Nd&&!this.hasRemaining(1))this.setBuffer(e);else{const n=this.bytes.subarray(this.pos),s=jv(e),i=new Uint8Array(n.length+s.length);i.set(n),i.set(s,n.length),this.setBuffer(i)}}hasRemaining(e){return this.view.byteLength-this.pos>=e}createExtraByteError(e){const{view:n,pos:s}=this;return new RangeError(`Extra ${n.byteLength-s} of ${n.byteLength} byte(s) found at buffer[${e}]`)}decode(e){if(this.entered)return this.clone().decode(e);try{this.entered=!0,this.reinitializeState(),this.setBuffer(e);const n=this.doDecodeSync();if(this.hasRemaining(1))throw this.createExtraByteError(this.pos);return n}finally{this.entered=!1}}*decodeMulti(e){if(this.entered){yield*this.clone().decodeMulti(e);return}try{for(this.entered=!0,this.reinitializeState(),this.setBuffer(e);this.hasRemaining(1);)yield this.doDecodeSync()}finally{this.entered=!1}}async decodeAsync(e){if(this.entered)return this.clone().decodeAsync(e);try{this.entered=!0;let n=!1,s;for await(const u of e){if(n)throw this.entered=!1,this.createExtraByteError(this.totalPos);this.appendBuffer(u);try{s=this.doDecodeSync(),n=!0}catch(f){if(!(f instanceof RangeError))throw f}this.totalPos+=this.pos}if(n){if(this.hasRemaining(1))throw this.createExtraByteError(this.totalPos);return s}const{headByte:i,pos:a,totalPos:c}=this;throw new RangeError(`Insufficient data in parsing ${ab(i)} at ${c} (${a} in the current buffer)`)}finally{this.entered=!1}}decodeArrayStream(e){return this.decodeMultiAsync(e,!0)}decodeStream(e){return this.decodeMultiAsync(e,!1)}async*decodeMultiAsync(e,n){if(this.entered){yield*this.clone().decodeMultiAsync(e,n);return}try{this.entered=!0;let s=n,i=-1;for await(const a of e){if(n&&i===0)throw this.createExtraByteError(this.totalPos);this.appendBuffer(a),s&&(i=this.readArraySize(),s=!1,this.complete());try{for(;yield this.doDecodeSync(),--i!==0;);}catch(c){if(!(c instanceof RangeError))throw c}this.totalPos+=this.pos}}finally{this.entered=!1}}doDecodeSync(){e:for(;;){const e=this.readHeadByte();let n;if(e>=224)n=e-256;else if(e<192)if(e<128)n=e;else if(e<144){const i=e-128;if(i!==0){this.pushMapState(i),this.complete();continue e}else n={}}else if(e<160){const i=e-144;if(i!==0){this.pushArrayState(i),this.complete();continue e}else n=[]}else{const i=e-160;n=this.decodeString(i,0)}else if(e===192)n=null;else if(e===194)n=!1;else if(e===195)n=!0;else if(e===202)n=this.readF32();else if(e===203)n=this.readF64();else if(e===204)n=this.readU8();else if(e===205)n=this.readU16();else if(e===206)n=this.readU32();else if(e===207)this.useBigInt64?n=this.readU64AsBigInt():n=this.readU64();else if(e===208)n=this.readI8();else if(e===209)n=this.readI16();else if(e===210)n=this.readI32();else if(e===211)this.useBigInt64?n=this.readI64AsBigInt():n=this.readI64();else if(e===217){const i=this.lookU8();n=this.decodeString(i,1)}else if(e===218){const i=this.lookU16();n=this.decodeString(i,2)}else if(e===219){const i=this.lookU32();n=this.decodeString(i,4)}else if(e===220){const i=this.readU16();if(i!==0){this.pushArrayState(i),this.complete();continue e}else n=[]}else if(e===221){const i=this.readU32();if(i!==0){this.pushArrayState(i),this.complete();continue e}else n=[]}else if(e===222){const i=this.readU16();if(i!==0){this.pushMapState(i),this.complete();continue e}else n={}}else if(e===223){const i=this.readU32();if(i!==0){this.pushMapState(i),this.complete();continue e}else n={}}else if(e===196){const i=this.lookU8();n=this.decodeBinary(i,1)}else if(e===197){const i=this.lookU16();n=this.decodeBinary(i,2)}else if(e===198){const i=this.lookU32();n=this.decodeBinary(i,4)}else if(e===212)n=this.decodeExtension(1,0);else if(e===213)n=this.decodeExtension(2,0);else if(e===214)n=this.decodeExtension(4,0);else if(e===215)n=this.decodeExtension(8,0);else if(e===216)n=this.decodeExtension(16,0);else if(e===199){const i=this.lookU8();n=this.decodeExtension(i,1)}else if(e===200){const i=this.lookU16();n=this.decodeExtension(i,2)}else if(e===201){const i=this.lookU32();n=this.decodeExtension(i,4)}else throw new Vs(`Unrecognized type byte: ${ab(e)}`);this.complete();const s=this.stack;for(;s.length>0;){const i=s.top();if(i.type===zv)if(i.array[i.position]=n,i.position++,i.position===i.size)n=i.array,s.release(i);else continue e;else if(i.type===Jd){if(n==="__proto__")throw new Vs("The key __proto__ is not allowed");i.key=this.mapKeyConverter(n),i.type=ND;continue e}else if(i.map[i.key]=n,i.readCount++,i.readCount===i.size)n=i.map,s.release(i);else{i.key=null,i.type=Jd;continue e}}return n}}readHeadByte(){return this.headByte===Nd&&(this.headByte=this.readU8()),this.headByte}complete(){this.headByte=Nd}readArraySize(){const e=this.readHeadByte();switch(e){case 220:return this.readU16();case 221:return this.readU32();default:{if(e<160)return e-144;throw new Vs(`Unrecognized array type byte: ${ab(e)}`)}}}pushMapState(e){if(e>this.maxMapLength)throw new Vs(`Max length exceeded: map length (${e}) > maxMapLengthLength (${this.maxMapLength})`);this.stack.pushMapState(e)}pushArrayState(e){if(e>this.maxArrayLength)throw new Vs(`Max length exceeded: array length (${e}) > maxArrayLength (${this.maxArrayLength})`);this.stack.pushArrayState(e)}decodeString(e,n){return!this.rawStrings||this.stateIsMapKey()?this.decodeUtf8String(e,n):this.decodeBinary(e,n)}decodeUtf8String(e,n){if(e>this.maxStrLength)throw new Vs(`Max length exceeded: UTF-8 byte length (${e}) > maxStrLength (${this.maxStrLength})`);if(this.bytes.byteLength<this.pos+n+e)throw gT;const s=this.pos+n;let i;return this.stateIsMapKey()&&this.keyDecoder?.canBeCached(e)?i=this.keyDecoder.decode(this.bytes,s,e):i=eK(this.bytes,s,e),this.pos+=n+e,i}stateIsMapKey(){return this.stack.length>0?this.stack.top().type===Jd:!1}decodeBinary(e,n){if(e>this.maxBinLength)throw new Vs(`Max length exceeded: bin length (${e}) > maxBinLength (${this.maxBinLength})`);if(!this.hasRemaining(e+n))throw gT;const s=this.pos+n,i=this.bytes.subarray(s,s+e);return this.pos+=n+e,i}decodeExtension(e,n){if(e>this.maxExtLength)throw new Vs(`Max length exceeded: ext length (${e}) > maxExtLength (${this.maxExtLength})`);const s=this.view.getInt8(this.pos+n),i=this.decodeBinary(e,n+1);return this.extensionCodec.decode(i,s,this.context)}lookU8(){return this.view.getUint8(this.pos)}lookU16(){return this.view.getUint16(this.pos)}lookU32(){return this.view.getUint32(this.pos)}readU8(){const e=this.view.getUint8(this.pos);return this.pos++,e}readI8(){const e=this.view.getInt8(this.pos);return this.pos++,e}readU16(){const e=this.view.getUint16(this.pos);return this.pos+=2,e}readI16(){const e=this.view.getInt16(this.pos);return this.pos+=2,e}readU32(){const e=this.view.getUint32(this.pos);return this.pos+=4,e}readI32(){const e=this.view.getInt32(this.pos);return this.pos+=4,e}readU64(){const e=nK(this.view,this.pos);return this.pos+=8,e}readI64(){const e=SD(this.view,this.pos);return this.pos+=8,e}readU64AsBigInt(){const e=this.view.getBigUint64(this.pos);return this.pos+=8,e}readI64AsBigInt(){const e=this.view.getBigInt64(this.pos);return this.pos+=8,e}readF32(){const e=this.view.getFloat32(this.pos);return this.pos+=4,e}readF64(){const e=this.view.getFloat64(this.pos);return this.pos+=8,e}};function xK(t,e){return new SK(e).decode(t)}function zE(t){return globalThis.Buffer!=null?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):t}function _D(t=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?zE(globalThis.Buffer.allocUnsafe(t)):new Uint8Array(t)}function eh(t,e){e||(e=t.reduce((i,a)=>i+a.length,0));const n=_D(e);let s=0;for(const i of t)n.set(i,s),s+=i.length;return zE(n)}function NK(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),s=0;s<n.length;s++)n[s]=255;for(var i=0;i<t.length;i++){var a=t.charAt(i),c=a.charCodeAt(0);if(n[c]!==255)throw new TypeError(a+" is ambiguous");n[c]=i}var u=t.length,f=t.charAt(0),h=Math.log(u)/Math.log(256),p=Math.log(256)/Math.log(u);function g(v){if(v instanceof Uint8Array||(ArrayBuffer.isView(v)?v=new Uint8Array(v.buffer,v.byteOffset,v.byteLength):Array.isArray(v)&&(v=Uint8Array.from(v))),!(v instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(v.length===0)return"";for(var E=0,A=0,x=0,D=v.length;x!==D&&v[x]===0;)x++,E++;for(var S=(D-x)*p+1>>>0,N=new Uint8Array(S);x!==D;){for(var T=v[x],I=0,$=S-1;(T!==0||I<A)&&$!==-1;$--,I++)T+=256*N[$]>>>0,N[$]=T%u>>>0,T=T/u>>>0;if(T!==0)throw new Error("Non-zero carry");A=I,x++}for(var P=S-A;P!==S&&N[P]===0;)P++;for(var M=f.repeat(E);P<S;++P)M+=t.charAt(N[P]);return M}function y(v){if(typeof v!="string")throw new TypeError("Expected String");if(v.length===0)return new Uint8Array;var E=0;if(v[E]!==" "){for(var A=0,x=0;v[E]===f;)A++,E++;for(var D=(v.length-E)*h+1>>>0,S=new Uint8Array(D);v[E];){var N=n[v.charCodeAt(E)];if(N===255)return;for(var T=0,I=D-1;(N!==0||T<x)&&I!==-1;I--,T++)N+=u*S[I]>>>0,S[I]=N%256>>>0,N=N/256>>>0;if(N!==0)throw new Error("Non-zero carry");x=T,E++}if(v[E]!==" "){for(var $=D-x;$!==D&&S[$]===0;)$++;for(var P=new Uint8Array(A+(D-$)),M=A;$!==D;)P[M++]=S[$++];return P}}}function b(v){var E=y(v);if(E)return E;throw new Error(`Non-${e} character`)}return{encode:g,decodeUnsafe:y,decode:b}}var TK=NK,_K=TK;const IK=t=>{if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")},DK=t=>new TextEncoder().encode(t),OK=t=>new TextDecoder().decode(t);class MK{constructor(e,n,s){this.name=e,this.prefix=n,this.baseEncode=s}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class RK{constructor(e,n,s){if(this.name=e,this.prefix=n,n.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=n.codePointAt(0),this.baseDecode=s}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return ID(this,e)}}class $K{constructor(e){this.decoders=e}or(e){return ID(this,e)}decode(e){const n=e[0],s=this.decoders[n];if(s)return s.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const ID=(t,e)=>new $K({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}});class UK{constructor(e,n,s,i){this.name=e,this.prefix=n,this.baseEncode=s,this.baseDecode=i,this.encoder=new MK(e,n,s),this.decoder=new RK(e,n,i)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}const Um=({name:t,prefix:e,encode:n,decode:s})=>new UK(t,e,n,s),gp=({prefix:t,name:e,alphabet:n})=>{const{encode:s,decode:i}=_K(n,e);return Um({prefix:t,name:e,encode:s,decode:a=>IK(i(a))})},PK=(t,e,n,s)=>{const i={};for(let p=0;p<e.length;++p)i[e[p]]=p;let a=t.length;for(;t[a-1]==="=";)--a;const c=new Uint8Array(a*n/8|0);let u=0,f=0,h=0;for(let p=0;p<a;++p){const g=i[t[p]];if(g===void 0)throw new SyntaxError(`Non-${s} character`);f=f<<n|g,u+=n,u>=8&&(u-=8,c[h++]=255&f>>u)}if(u>=n||255&f<<8-u)throw new SyntaxError("Unexpected end of data");return c},LK=(t,e,n)=>{const s=e[e.length-1]==="=",i=(1<<n)-1;let a="",c=0,u=0;for(let f=0;f<t.length;++f)for(u=u<<8|t[f],c+=8;c>n;)c-=n,a+=e[i&u>>c];if(c&&(a+=e[i&u<<n-c]),s)for(;a.length*n&7;)a+="=";return a},kn=({name:t,prefix:e,bitsPerChar:n,alphabet:s})=>Um({prefix:e,name:t,encode(i){return LK(i,s,n)},decode(i){return PK(i,s,n,t)}}),kK=Um({prefix:"\0",name:"identity",encode:t=>OK(t),decode:t=>DK(t)}),BK=Object.freeze(Object.defineProperty({__proto__:null,identity:kK},Symbol.toStringTag,{value:"Module"})),jK=kn({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1}),zK=Object.freeze(Object.defineProperty({__proto__:null,base2:jK},Symbol.toStringTag,{value:"Module"})),HK=kn({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3}),FK=Object.freeze(Object.defineProperty({__proto__:null,base8:HK},Symbol.toStringTag,{value:"Module"})),qK=gp({prefix:"9",name:"base10",alphabet:"0123456789"}),VK=Object.freeze(Object.defineProperty({__proto__:null,base10:qK},Symbol.toStringTag,{value:"Module"})),WK=kn({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),KK=kn({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4}),GK=Object.freeze(Object.defineProperty({__proto__:null,base16:WK,base16upper:KK},Symbol.toStringTag,{value:"Module"})),YK=kn({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),XK=kn({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),QK=kn({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),ZK=kn({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),JK=kn({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),eG=kn({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),tG=kn({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),nG=kn({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),sG=kn({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),iG=Object.freeze(Object.defineProperty({__proto__:null,base32:YK,base32hex:JK,base32hexpad:tG,base32hexpadupper:nG,base32hexupper:eG,base32pad:QK,base32padupper:ZK,base32upper:XK,base32z:sG},Symbol.toStringTag,{value:"Module"})),rG=gp({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),oG=gp({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"}),aG=Object.freeze(Object.defineProperty({__proto__:null,base36:rG,base36upper:oG},Symbol.toStringTag,{value:"Module"})),cG=gp({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),lG=gp({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),uG=Object.freeze(Object.defineProperty({__proto__:null,base58btc:cG,base58flickr:lG},Symbol.toStringTag,{value:"Module"})),fG=kn({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),dG=kn({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),hG=kn({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),pG=kn({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6}),gG=Object.freeze(Object.defineProperty({__proto__:null,base64:fG,base64pad:dG,base64url:hG,base64urlpad:pG},Symbol.toStringTag,{value:"Module"})),DD=Array.from("🚀🪐☄🛰🌌🌑🌒🌓🌔🌕🌖🌗🌘🌍🌏🌎🐉☀💻🖥💾💿😂❤😍🤣😊🙏💕😭😘👍😅👏😁🔥🥰💔💖💙😢🤔😆🙄💪😉☺👌🤗💜😔😎😇🌹🤦🎉💞✌✨🤷😱😌🌸🙌😋💗💚😏💛🙂💓🤩😄😀🖤😃💯🙈👇🎶😒🤭❣😜💋👀😪😑💥🙋😞😩😡🤪👊🥳😥🤤👉💃😳✋😚😝😴🌟😬🙃🍀🌷😻😓⭐✅🥺🌈😈🤘💦✔😣🏃💐☹🎊💘😠☝😕🌺🎂🌻😐🖕💝🙊😹🗣💫💀👑🎵🤞😛🔴😤🌼😫⚽🤙☕🏆🤫👈😮🙆🍻🍃🐶💁😲🌿🧡🎁⚡🌞🎈❌✊👋😰🤨😶🤝🚶💰🍓💢🤟🙁🚨💨🤬✈🎀🍺🤓😙💟🌱😖👶🥴▶➡❓💎💸⬇😨🌚🦋😷🕺⚠🙅😟😵👎🤲🤠🤧📌🔵💅🧐🐾🍒😗🤑🌊🤯🐷☎💧😯💆👆🎤🙇🍑❄🌴💣🐸💌📍🥀🤢👅💡💩👐📸👻🤐🤮🎼🥵🚩🍎🍊👼💍📣🥂"),mG=DD.reduce((t,e,n)=>(t[n]=e,t),[]),yG=DD.reduce((t,e,n)=>(t[e.codePointAt(0)]=n,t),[]);function wG(t){return t.reduce((e,n)=>(e+=mG[n],e),"")}function bG(t){const e=[];for(const n of t){const s=yG[n.codePointAt(0)];if(s===void 0)throw new Error(`Non-base256emoji character: ${n}`);e.push(s)}return new Uint8Array(e)}const vG=Um({prefix:"🚀",name:"base256emoji",encode:wG,decode:bG}),EG=Object.freeze(Object.defineProperty({__proto__:null,base256emoji:vG},Symbol.toStringTag,{value:"Module"}));new TextEncoder;new TextDecoder;const mT={...BK,...zK,...FK,...VK,...GK,...iG,...aG,...uG,...gG,...EG};function OD(t,e,n,s){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:n},decoder:{decode:s}}}const yT=OD("utf8","u",t=>"u"+new TextDecoder("utf8").decode(t),t=>new TextEncoder().encode(t.substring(1))),cb=OD("ascii","a",t=>{let e="a";for(let n=0;n<t.length;n++)e+=String.fromCharCode(t[n]);return e},t=>{t=t.substring(1);const e=_D(t.length);for(let n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}),MD={utf8:yT,"utf-8":yT,hex:mT.base16,latin1:cb,ascii:cb,binary:cb,...mT};function Ci(t,e="utf8"){const n=MD[e];if(!n)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?zE(globalThis.Buffer.from(t,"utf-8")):n.decoder.decode(`${n.prefix}${t}`)}function Ts(t,e="utf8"){const n=MD[e];if(!n)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(t.buffer,t.byteOffset,t.byteLength).toString("utf8"):n.encoder.encode(t).substring(1)}const AG={waku:{publish:"waku_publish",batchPublish:"waku_batchPublish",subscribe:"waku_subscribe",batchSubscribe:"waku_batchSubscribe",subscription:"waku_subscription",unsubscribe:"waku_unsubscribe",batchUnsubscribe:"waku_batchUnsubscribe",batchFetchMessages:"waku_batchFetchMessages"},irn:{publish:"irn_publish",batchPublish:"irn_batchPublish",subscribe:"irn_subscribe",batchSubscribe:"irn_batchSubscribe",subscription:"irn_subscription",unsubscribe:"irn_unsubscribe",batchUnsubscribe:"irn_batchUnsubscribe",batchFetchMessages:"irn_batchFetchMessages"},iridium:{publish:"iridium_publish",batchPublish:"iridium_batchPublish",subscribe:"iridium_subscribe",batchSubscribe:"iridium_batchSubscribe",subscription:"iridium_subscription",unsubscribe:"iridium_unsubscribe",batchUnsubscribe:"iridium_batchUnsubscribe",batchFetchMessages:"iridium_batchFetchMessages"}};var lb,wT;function RD(){if(wT)return lb;wT=1;const t="Input must be an string, Buffer or Uint8Array";function e(c){let u;if(c instanceof Uint8Array)u=c;else if(typeof c=="string")u=new TextEncoder().encode(c);else throw new Error(t);return u}function n(c){return Array.prototype.map.call(c,function(u){return(u<16?"0":"")+u.toString(16)}).join("")}function s(c){return(4294967296+c).toString(16).substring(1)}function i(c,u,f){let h=`
`+c+" = ";for(let p=0;p<u.length;p+=2){if(f===32)h+=s(u[p]).toUpperCase(),h+=" ",h+=s(u[p+1]).toUpperCase();else if(f===64)h+=s(u[p+1]).toUpperCase(),h+=s(u[p]).toUpperCase();else throw new Error("Invalid size "+f);p%6===4?h+=`
`+new Array(c.length+4).join(" "):p<u.length-2&&(h+=" ")}console.log(h)}function a(c,u,f){let h=new Date().getTime();const p=new Uint8Array(u);for(let y=0;y<u;y++)p[y]=y%256;const g=new Date().getTime();console.log("Generated random input in "+(g-h)+"ms"),h=g;for(let y=0;y<f;y++){const b=c(p),v=new Date().getTime(),E=v-h;h=v,console.log("Hashed in "+E+"ms: "+b.substring(0,20)+"..."),console.log(Math.round(u/(1<<20)/(E/1e3)*100)/100+" MB PER SECOND")}}return lb={normalizeInput:e,toHex:n,debugPrint:i,testSpeed:a},lb}var ub,bT;function CG(){if(bT)return ub;bT=1;const t=RD();function e(x,D,S){const N=x[D]+x[S];let T=x[D+1]+x[S+1];N>=4294967296&&T++,x[D]=N,x[D+1]=T}function n(x,D,S,N){let T=x[D]+S;S<0&&(T+=4294967296);let I=x[D+1]+N;T>=4294967296&&I++,x[D]=T,x[D+1]=I}function s(x,D){return x[D]^x[D+1]<<8^x[D+2]<<16^x[D+3]<<24}function i(x,D,S,N,T,I){const $=h[T],P=h[T+1],M=h[I],z=h[I+1];e(f,x,D),n(f,x,$,P);let q=f[N]^f[x],F=f[N+1]^f[x+1];f[N]=F,f[N+1]=q,e(f,S,N),q=f[D]^f[S],F=f[D+1]^f[S+1],f[D]=q>>>24^F<<8,f[D+1]=F>>>24^q<<8,e(f,x,D),n(f,x,M,z),q=f[N]^f[x],F=f[N+1]^f[x+1],f[N]=q>>>16^F<<16,f[N+1]=F>>>16^q<<16,e(f,S,N),q=f[D]^f[S],F=f[D+1]^f[S+1],f[D]=F>>>31^q<<1,f[D+1]=q>>>31^F<<1}const a=new Uint32Array([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),c=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3],u=new Uint8Array(c.map(function(x){return x*2})),f=new Uint32Array(32),h=new Uint32Array(32);function p(x,D){let S=0;for(S=0;S<16;S++)f[S]=x.h[S],f[S+16]=a[S];for(f[24]=f[24]^x.t,f[25]=f[25]^x.t/4294967296,D&&(f[28]=~f[28],f[29]=~f[29]),S=0;S<32;S++)h[S]=s(x.b,4*S);for(S=0;S<12;S++)i(0,8,16,24,u[S*16+0],u[S*16+1]),i(2,10,18,26,u[S*16+2],u[S*16+3]),i(4,12,20,28,u[S*16+4],u[S*16+5]),i(6,14,22,30,u[S*16+6],u[S*16+7]),i(0,10,20,30,u[S*16+8],u[S*16+9]),i(2,12,22,24,u[S*16+10],u[S*16+11]),i(4,14,16,26,u[S*16+12],u[S*16+13]),i(6,8,18,28,u[S*16+14],u[S*16+15]);for(S=0;S<16;S++)x.h[S]=x.h[S]^f[S]^f[S+16]}const g=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]);function y(x,D,S,N){if(x===0||x>64)throw new Error("Illegal output length, expected 0 < length <= 64");if(D&&D.length>64)throw new Error("Illegal key, expected Uint8Array with 0 < length <= 64");if(S&&S.length!==16)throw new Error("Illegal salt, expected Uint8Array with length is 16");if(N&&N.length!==16)throw new Error("Illegal personal, expected Uint8Array with length is 16");const T={b:new Uint8Array(128),h:new Uint32Array(16),t:0,c:0,outlen:x};g.fill(0),g[0]=x,D&&(g[1]=D.length),g[2]=1,g[3]=1,S&&g.set(S,32),N&&g.set(N,48);for(let I=0;I<16;I++)T.h[I]=a[I]^s(g,I*4);return D&&(b(T,D),T.c=128),T}function b(x,D){for(let S=0;S<D.length;S++)x.c===128&&(x.t+=x.c,p(x,!1),x.c=0),x.b[x.c++]=D[S]}function v(x){for(x.t+=x.c;x.c<128;)x.b[x.c++]=0;p(x,!0);const D=new Uint8Array(x.outlen);for(let S=0;S<x.outlen;S++)D[S]=x.h[S>>2]>>8*(S&3);return D}function E(x,D,S,N,T){S=S||64,x=t.normalizeInput(x),N&&(N=t.normalizeInput(N)),T&&(T=t.normalizeInput(T));const I=y(S,D,N,T);return b(I,x),v(I)}function A(x,D,S,N,T){const I=E(x,D,S,N,T);return t.toHex(I)}return ub={blake2b:E,blake2bHex:A,blake2bInit:y,blake2bUpdate:b,blake2bFinal:v},ub}var fb,vT;function SG(){if(vT)return fb;vT=1;const t=RD();function e(v,E){return v[E]^v[E+1]<<8^v[E+2]<<16^v[E+3]<<24}function n(v,E,A,x,D,S){c[v]=c[v]+c[E]+D,c[x]=s(c[x]^c[v],16),c[A]=c[A]+c[x],c[E]=s(c[E]^c[A],12),c[v]=c[v]+c[E]+S,c[x]=s(c[x]^c[v],8),c[A]=c[A]+c[x],c[E]=s(c[E]^c[A],7)}function s(v,E){return v>>>E^v<<32-E}const i=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),a=new Uint8Array([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0]),c=new Uint32Array(16),u=new Uint32Array(16);function f(v,E){let A=0;for(A=0;A<8;A++)c[A]=v.h[A],c[A+8]=i[A];for(c[12]^=v.t,c[13]^=v.t/4294967296,E&&(c[14]=~c[14]),A=0;A<16;A++)u[A]=e(v.b,4*A);for(A=0;A<10;A++)n(0,4,8,12,u[a[A*16+0]],u[a[A*16+1]]),n(1,5,9,13,u[a[A*16+2]],u[a[A*16+3]]),n(2,6,10,14,u[a[A*16+4]],u[a[A*16+5]]),n(3,7,11,15,u[a[A*16+6]],u[a[A*16+7]]),n(0,5,10,15,u[a[A*16+8]],u[a[A*16+9]]),n(1,6,11,12,u[a[A*16+10]],u[a[A*16+11]]),n(2,7,8,13,u[a[A*16+12]],u[a[A*16+13]]),n(3,4,9,14,u[a[A*16+14]],u[a[A*16+15]]);for(A=0;A<8;A++)v.h[A]^=c[A]^c[A+8]}function h(v,E){if(!(v>0&&v<=32))throw new Error("Incorrect output length, should be in [1, 32]");const A=E?E.length:0;if(E&&!(A>0&&A<=32))throw new Error("Incorrect key length, should be in [1, 32]");const x={h:new Uint32Array(i),b:new Uint8Array(64),c:0,t:0,outlen:v};return x.h[0]^=16842752^A<<8^v,A>0&&(p(x,E),x.c=64),x}function p(v,E){for(let A=0;A<E.length;A++)v.c===64&&(v.t+=v.c,f(v,!1),v.c=0),v.b[v.c++]=E[A]}function g(v){for(v.t+=v.c;v.c<64;)v.b[v.c++]=0;f(v,!0);const E=new Uint8Array(v.outlen);for(let A=0;A<v.outlen;A++)E[A]=v.h[A>>2]>>8*(A&3)&255;return E}function y(v,E,A){A=A||32,v=t.normalizeInput(v);const x=h(A,E);return p(x,v),g(x)}function b(v,E,A){const x=y(v,E,A);return t.toHex(x)}return fb={blake2s:y,blake2sHex:b,blake2sInit:h,blake2sUpdate:p,blake2sFinal:g},fb}var db,ET;function xG(){if(ET)return db;ET=1;const t=CG(),e=SG();return db={blake2b:t.blake2b,blake2bHex:t.blake2bHex,blake2bInit:t.blake2bInit,blake2bUpdate:t.blake2bUpdate,blake2bFinal:t.blake2bFinal,blake2s:e.blake2s,blake2sHex:e.blake2sHex,blake2sInit:e.blake2sInit,blake2sUpdate:e.blake2sUpdate,blake2sFinal:e.blake2sFinal},db}var NG=xG(),TG={};const _G=":";function zu(t){const[e,n]=t.split(_G);return{namespace:e,reference:n}}function $D(t,e){return t.includes(":")?[t]:e.chains||[]}var IG=Object.defineProperty,DG=Object.defineProperties,OG=Object.getOwnPropertyDescriptors,AT=Object.getOwnPropertySymbols,MG=Object.prototype.hasOwnProperty,RG=Object.prototype.propertyIsEnumerable,Hv=(t,e,n)=>e in t?IG(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,CT=(t,e)=>{for(var n in e||(e={}))MG.call(e,n)&&Hv(t,n,e[n]);if(AT)for(var n of AT(e))RG.call(e,n)&&Hv(t,n,e[n]);return t},$G=(t,e)=>DG(t,OG(e)),ST=(t,e,n)=>Hv(t,typeof e!="symbol"?e+"":e,n);const UG="ReactNative",Ys={reactNative:"react-native",node:"node",browser:"browser",unknown:"unknown"},PG="js";function dm(){return typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"}function za(){return!No.getDocument()&&!!No.getNavigator()&&navigator.product===UG}function LG(){return za()&&typeof global<"u"&&typeof(global==null?void 0:global.Platform)<"u"&&(global==null?void 0:global.Platform.OS)==="android"}function kG(){return za()&&typeof global<"u"&&typeof(global==null?void 0:global.Platform)<"u"&&(global==null?void 0:global.Platform.OS)==="ios"}function df(){return!dm()&&!!No.getNavigator()&&!!No.getDocument()}function mp(){return za()?Ys.reactNative:dm()?Ys.node:df()?Ys.browser:Ys.unknown}function xT(){var t;try{return za()&&typeof global<"u"&&typeof(global==null?void 0:global.Application)<"u"?(t=global.Application)==null?void 0:t.applicationId:void 0}catch{return}}function BG(t,e){const n=new URLSearchParams(t);for(const s of Object.keys(e).sort())if(e.hasOwnProperty(s)){const i=e[s];i!==void 0&&n.set(s,i)}return n.toString()}function jG(t){var e,n;const s=UD();try{return t!=null&&t.url&&s.url&&new URL(t.url).host!==new URL(s.url).host&&(console.warn(`The configured WalletConnect 'metadata.url':${t.url} differs from the actual page url:${s.url}. This is probably unintended and can lead to issues.`),t.url=s.url),(e=t?.icons)!=null&&e.length&&t.icons.length>0&&(t.icons=t.icons.filter(i=>i!=="")),$G(CT(CT({},s),t),{url:t?.url||s.url,name:t?.name||s.name,description:t?.description||s.description,icons:(n=t?.icons)!=null&&n.length&&t.icons.length>0?t.icons:s.icons})}catch(i){return console.warn("Error populating app metadata",i),t||s}}function UD(){return ZV.getWindowMetadata()||{name:"",description:"",url:"",icons:[""]}}function zG(){if(mp()===Ys.reactNative&&typeof global<"u"&&typeof(global==null?void 0:global.Platform)<"u"){const{OS:n,Version:s}=global.Platform;return[n,s].join("-")}const t=VV();if(t===null)return"unknown";const e=t.os?t.os.replace(" ","").toLowerCase():"unknown";return t.type==="browser"?[e,t.name,t.version].join("-"):[e,t.version].join("-")}function HG(){var t;const e=mp();return e===Ys.browser?[e,((t=No.getLocation())==null?void 0:t.host)||"unknown"].join(":"):e}function PD(t,e,n){const s=zG(),i=HG();return[[t,e].join("-"),[PG,n].join("-"),s,i].join("/")}function FG({protocol:t,version:e,relayUrl:n,sdkVersion:s,auth:i,projectId:a,useOnCloseEvent:c,bundleId:u,packageName:f}){const h=n.split("?"),p=PD(t,e,s),g={auth:i,ua:p,projectId:a,useOnCloseEvent:c,packageName:f||void 0,bundleId:u||void 0},y=BG(h[1]||"",g);return h[0]+"?"+y}function Pc(t,e){return t.filter(n=>e.includes(n)).length===t.length}function Fv(t){return Object.fromEntries(t.entries())}function qv(t){return new Map(Object.entries(t))}function _c(t=we.FIVE_MINUTES,e){const n=we.toMiliseconds(t||we.FIVE_MINUTES);let s,i,a,c;return{resolve:u=>{a&&s&&(clearTimeout(a),s(u),c=Promise.resolve(u))},reject:u=>{a&&i&&(clearTimeout(a),i(u))},done:()=>new Promise((u,f)=>{if(c)return u(c);a=setTimeout(()=>{const h=new Error(e);c=Promise.reject(h),f(h)},n),s=u,i=f})}}function Ia(t,e,n){return new Promise(async(s,i)=>{const a=setTimeout(()=>i(new Error(n)),e);try{const c=await t;s(c)}catch(c){i(c)}clearTimeout(a)})}function LD(t,e){if(typeof e=="string"&&e.startsWith(`${t}:`))return e;if(t.toLowerCase()==="topic"){if(typeof e!="string")throw new Error('Value must be "string" for expirer target type: topic');return`topic:${e}`}else if(t.toLowerCase()==="id"){if(typeof e!="number")throw new Error('Value must be "number" for expirer target type: id');return`id:${e}`}throw new Error(`Unknown expirer target type: ${t}`)}function qG(t){return LD("topic",t)}function VG(t){return LD("id",t)}function kD(t){const[e,n]=t.split(":"),s={id:void 0,topic:void 0};if(e==="topic"&&typeof n=="string")s.topic=n;else if(e==="id"&&Number.isInteger(Number(n)))s.id=Number(n);else throw new Error(`Invalid target, expected id:number or topic:string, got ${e}:${n}`);return s}function hn(t,e){return we.fromMiliseconds(Date.now()+we.toMiliseconds(t))}function Aa(t){return Date.now()>=we.toMiliseconds(t)}function dt(t,e){return`${t}${e?`:${e}`:""}`}function Tr(t=[],e=[]){return[...new Set([...t,...e])]}async function WG({id:t,topic:e,wcDeepLink:n}){var s;try{if(!n)return;const i=typeof n=="string"?JSON.parse(n):n,a=i?.href;if(typeof a!="string")return;const c=KG(a,t,e),u=mp();if(u===Ys.browser){if(!((s=No.getDocument())!=null&&s.hasFocus())){console.warn("Document does not have focus, skipping deeplink.");return}GG(c)}else u===Ys.reactNative&&typeof(global==null?void 0:global.Linking)<"u"&&await global.Linking.openURL(c)}catch(i){console.error(i)}}function KG(t,e,n){const s=`requestId=${e}&sessionTopic=${n}`;t.endsWith("/")&&(t=t.slice(0,-1));let i=`${t}`;if(t.startsWith("https://t.me")){const a=t.includes("?")?"&startapp=":"?startapp=";i=`${i}${a}${ZG(s,!0)}`}else i=`${i}/wc?${s}`;return i}function GG(t){let e="_self";QG()?e="_top":(XG()||t.startsWith("https://")||t.startsWith("http://"))&&(e="_blank"),window.open(t,e,"noreferrer noopener")}async function YG(t,e){let n="";try{if(df()&&(n=localStorage.getItem(e),n))return n;n=await t.getItem(e)}catch(s){console.error(s)}return n}function NT(t,e){if(!t.includes(e))return null;const n=t.split(/([&,?,=])/),s=n.indexOf(e);return n[s+2]}function TT(){return typeof crypto<"u"&&crypto!=null&&crypto.randomUUID?crypto.randomUUID():"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/gu,t=>{const e=Math.random()*16|0;return(t==="x"?e:e&3|8).toString(16)})}function HE(){return typeof process<"u"&&TG.IS_VITEST==="true"}function XG(){return typeof window<"u"&&(!!window.TelegramWebviewProxy||!!window.Telegram||!!window.TelegramWebviewProxyProto)}function QG(){try{return window.self!==window.top}catch{return!1}}function ZG(t,e=!1){const n=Buffer.from(t).toString("base64");return e?n.replace(/[=]/g,""):n}function BD(t){return Buffer.from(t,"base64").toString("utf-8")}function JG(t){return new Promise(e=>setTimeout(e,t))}let eY=class{constructor({limit:e}){ST(this,"limit"),ST(this,"set"),this.limit=e,this.set=new Set}add(e){if(!this.set.has(e)){if(this.set.size>=this.limit){const n=this.set.values().next().value;n&&this.set.delete(n)}this.set.add(e)}}has(e){return this.set.has(e)}};const a0=BigInt(2**32-1),_T=BigInt(32);function jD(t,e=!1){return e?{h:Number(t&a0),l:Number(t>>_T&a0)}:{h:Number(t>>_T&a0)|0,l:Number(t&a0)|0}}function zD(t,e=!1){const n=t.length;let s=new Uint32Array(n),i=new Uint32Array(n);for(let a=0;a<n;a++){const{h:c,l:u}=jD(t[a],e);[s[a],i[a]]=[c,u]}return[s,i]}const IT=(t,e,n)=>t>>>n,DT=(t,e,n)=>t<<32-n|e>>>n,Ca=(t,e,n)=>t>>>n|e<<32-n,Sa=(t,e,n)=>t<<32-n|e>>>n,jd=(t,e,n)=>t<<64-n|e>>>n-32,zd=(t,e,n)=>t>>>n-32|e<<64-n,tY=(t,e)=>e,nY=(t,e)=>t,sY=(t,e,n)=>t<<n|e>>>32-n,iY=(t,e,n)=>e<<n|t>>>32-n,rY=(t,e,n)=>e<<n-32|t>>>64-n,oY=(t,e,n)=>t<<n-32|e>>>64-n;function Vi(t,e,n,s){const i=(e>>>0)+(s>>>0);return{h:t+n+(i/2**32|0)|0,l:i|0}}const FE=(t,e,n)=>(t>>>0)+(e>>>0)+(n>>>0),qE=(t,e,n,s)=>e+n+s+(t/2**32|0)|0,aY=(t,e,n,s)=>(t>>>0)+(e>>>0)+(n>>>0)+(s>>>0),cY=(t,e,n,s,i)=>e+n+s+i+(t/2**32|0)|0,lY=(t,e,n,s,i)=>(t>>>0)+(e>>>0)+(n>>>0)+(s>>>0)+(i>>>0),uY=(t,e,n,s,i,a)=>e+n+s+i+a+(t/2**32|0)|0,ou=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;function VE(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function To(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function xi(t,...e){if(!VE(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function WE(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.createHasher");To(t.outputLen),To(t.blockLen)}function ka(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function KE(t,e){xi(t);const n=e.outputLen;if(t.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}function Th(t){return new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4))}function Ni(...t){for(let e=0;e<t.length;e++)t[e].fill(0)}function hb(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function dr(t,e){return t<<32-e|t>>>e}const HD=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function FD(t){return t<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255}const ho=HD?t=>t:t=>FD(t);function fY(t){for(let e=0;e<t.length;e++)t[e]=FD(t[e]);return t}const xa=HD?t=>t:fY,qD=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",dY=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function _h(t){if(xi(t),qD)return t.toHex();let e="";for(let n=0;n<t.length;n++)e+=dY[t[n]];return e}const ao={_0:48,_9:57,A:65,F:70,a:97,f:102};function OT(t){if(t>=ao._0&&t<=ao._9)return t-ao._0;if(t>=ao.A&&t<=ao.F)return t-(ao.A-10);if(t>=ao.a&&t<=ao.f)return t-(ao.a-10)}function GE(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);if(qD)return Uint8Array.fromHex(t);const e=t.length,n=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const s=new Uint8Array(n);for(let i=0,a=0;i<n;i++,a+=2){const c=OT(t.charCodeAt(a)),u=OT(t.charCodeAt(a+1));if(c===void 0||u===void 0){const f=t[a]+t[a+1];throw new Error('hex string expected, got non-hex character "'+f+'" at index '+a)}s[i]=c*16+u}return s}function hY(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}function Yi(t){return typeof t=="string"&&(t=hY(t)),xi(t),t}function Lc(...t){let e=0;for(let s=0;s<t.length;s++){const i=t[s];xi(i),e+=i.length}const n=new Uint8Array(e);for(let s=0,i=0;s<t.length;s++){const a=t[s];n.set(a,i),i+=a.length}return n}let Pm=class{};function yp(t){const e=s=>t().update(Yi(s)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function pY(t){const e=(s,i)=>t(i).update(Yi(s)).digest(),n=t({});return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=s=>t(s),e}function hf(t=32){if(ou&&typeof ou.getRandomValues=="function")return ou.getRandomValues(new Uint8Array(t));if(ou&&typeof ou.randomBytes=="function")return Uint8Array.from(ou.randomBytes(t));throw new Error("crypto.getRandomValues must be defined")}const gY=BigInt(0),Td=BigInt(1),mY=BigInt(2),yY=BigInt(7),wY=BigInt(256),bY=BigInt(113),VD=[],WD=[],KD=[];for(let t=0,e=Td,n=1,s=0;t<24;t++){[n,s]=[s,(2*n+3*s)%5],VD.push(2*(5*s+n)),WD.push((t+1)*(t+2)/2%64);let i=gY;for(let a=0;a<7;a++)e=(e<<Td^(e>>yY)*bY)%wY,e&mY&&(i^=Td<<(Td<<BigInt(a))-Td);KD.push(i)}const GD=zD(KD,!0),vY=GD[0],EY=GD[1],MT=(t,e,n)=>n>32?rY(t,e,n):sY(t,e,n),RT=(t,e,n)=>n>32?oY(t,e,n):iY(t,e,n);function AY(t,e=24){const n=new Uint32Array(10);for(let s=24-e;s<24;s++){for(let c=0;c<10;c++)n[c]=t[c]^t[c+10]^t[c+20]^t[c+30]^t[c+40];for(let c=0;c<10;c+=2){const u=(c+8)%10,f=(c+2)%10,h=n[f],p=n[f+1],g=MT(h,p,1)^n[u],y=RT(h,p,1)^n[u+1];for(let b=0;b<50;b+=10)t[c+b]^=g,t[c+b+1]^=y}let i=t[2],a=t[3];for(let c=0;c<24;c++){const u=WD[c],f=MT(i,a,u),h=RT(i,a,u),p=VD[c];i=t[p],a=t[p+1],t[p]=f,t[p+1]=h}for(let c=0;c<50;c+=10){for(let u=0;u<10;u++)n[u]=t[c+u];for(let u=0;u<10;u++)t[c+u]^=~n[(u+2)%10]&n[(u+4)%10]}t[0]^=vY[s],t[1]^=EY[s]}Ni(n)}let CY=class YD extends Pm{constructor(e,n,s,i=!1,a=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=e,this.suffix=n,this.outputLen=s,this.enableXOF=i,this.rounds=a,To(s),!(0<e&&e<200))throw new Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=Th(this.state)}clone(){return this._cloneInto()}keccak(){xa(this.state32),AY(this.state32,this.rounds),xa(this.state32),this.posOut=0,this.pos=0}update(e){ka(this),e=Yi(e),xi(e);const{blockLen:n,state:s}=this,i=e.length;for(let a=0;a<i;){const c=Math.min(n-this.pos,i-a);for(let u=0;u<c;u++)s[this.pos++]^=e[a++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:n,pos:s,blockLen:i}=this;e[s]^=n,(n&128)!==0&&s===i-1&&this.keccak(),e[i-1]^=128,this.keccak()}writeInto(e){ka(this,!1),xi(e),this.finish();const n=this.state,{blockLen:s}=this;for(let i=0,a=e.length;i<a;){this.posOut>=s&&this.keccak();const c=Math.min(s-this.posOut,a-i);e.set(n.subarray(this.posOut,this.posOut+c),i),this.posOut+=c,i+=c}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return To(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(KE(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,Ni(this.state)}_cloneInto(e){const{blockLen:n,suffix:s,outputLen:i,rounds:a,enableXOF:c}=this;return e||(e=new YD(n,s,i,c,a)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=a,e.suffix=s,e.outputLen=i,e.enableXOF=c,e.destroyed=this.destroyed,e}};const SY=(t,e,n)=>yp(()=>new CY(e,t,n)),xY=SY(1,136,256/8);function NY(t,e,n,s){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,s);const i=BigInt(32),a=BigInt(4294967295),c=Number(n>>i&a),u=Number(n&a),f=s?4:0,h=s?0:4;t.setUint32(e+f,c,s),t.setUint32(e+h,u,s)}function TY(t,e,n){return t&e^~t&n}function _Y(t,e,n){return t&e^t&n^e&n}let XD=class extends Pm{constructor(e,n,s,i){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=e,this.outputLen=n,this.padOffset=s,this.isLE=i,this.buffer=new Uint8Array(e),this.view=hb(this.buffer)}update(e){ka(this),e=Yi(e),xi(e);const{view:n,buffer:s,blockLen:i}=this,a=e.length;for(let c=0;c<a;){const u=Math.min(i-this.pos,a-c);if(u===i){const f=hb(e);for(;i<=a-c;c+=i)this.process(f,c);continue}s.set(e.subarray(c,c+u),this.pos),this.pos+=u,c+=u,this.pos===i&&(this.process(n,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){ka(this),KE(e,this),this.finished=!0;const{buffer:n,view:s,blockLen:i,isLE:a}=this;let{pos:c}=this;n[c++]=128,Ni(this.buffer.subarray(c)),this.padOffset>i-c&&(this.process(s,0),c=0);for(let g=c;g<i;g++)n[g]=0;NY(s,i-8,BigInt(this.length*8),a),this.process(s,0);const u=hb(e),f=this.outputLen;if(f%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const h=f/4,p=this.get();if(h>p.length)throw new Error("_sha2: outputLen bigger than state");for(let g=0;g<h;g++)u.setUint32(4*g,p[g],a)}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const s=e.slice(0,n);return this.destroy(),s}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:n,buffer:s,length:i,finished:a,destroyed:c,pos:u}=this;return e.destroyed=c,e.finished=a,e.length=i,e.pos=u,i%n&&e.buffer.set(s),e}clone(){return this._cloneInto()}};const ha=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Vn=Uint32Array.from([3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]),Wn=Uint32Array.from([1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209]),IY=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),pa=new Uint32Array(64);let DY=class extends XD{constructor(e=32){super(64,e,8,!1),this.A=ha[0]|0,this.B=ha[1]|0,this.C=ha[2]|0,this.D=ha[3]|0,this.E=ha[4]|0,this.F=ha[5]|0,this.G=ha[6]|0,this.H=ha[7]|0}get(){const{A:e,B:n,C:s,D:i,E:a,F:c,G:u,H:f}=this;return[e,n,s,i,a,c,u,f]}set(e,n,s,i,a,c,u,f){this.A=e|0,this.B=n|0,this.C=s|0,this.D=i|0,this.E=a|0,this.F=c|0,this.G=u|0,this.H=f|0}process(e,n){for(let g=0;g<16;g++,n+=4)pa[g]=e.getUint32(n,!1);for(let g=16;g<64;g++){const y=pa[g-15],b=pa[g-2],v=dr(y,7)^dr(y,18)^y>>>3,E=dr(b,17)^dr(b,19)^b>>>10;pa[g]=E+pa[g-7]+v+pa[g-16]|0}let{A:s,B:i,C:a,D:c,E:u,F:f,G:h,H:p}=this;for(let g=0;g<64;g++){const y=dr(u,6)^dr(u,11)^dr(u,25),b=p+y+TY(u,f,h)+IY[g]+pa[g]|0,v=(dr(s,2)^dr(s,13)^dr(s,22))+_Y(s,i,a)|0;p=h,h=f,f=u,u=c+b|0,c=a,a=i,i=s,s=b+v|0}s=s+this.A|0,i=i+this.B|0,a=a+this.C|0,c=c+this.D|0,u=u+this.E|0,f=f+this.F|0,h=h+this.G|0,p=p+this.H|0,this.set(s,i,a,c,u,f,h,p)}roundClean(){Ni(pa)}destroy(){this.set(0,0,0,0,0,0,0,0),Ni(this.buffer)}};const QD=zD(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),OY=QD[0],MY=QD[1],ga=new Uint32Array(80),ma=new Uint32Array(80);let YE=class extends XD{constructor(e=64){super(128,e,16,!1),this.Ah=Wn[0]|0,this.Al=Wn[1]|0,this.Bh=Wn[2]|0,this.Bl=Wn[3]|0,this.Ch=Wn[4]|0,this.Cl=Wn[5]|0,this.Dh=Wn[6]|0,this.Dl=Wn[7]|0,this.Eh=Wn[8]|0,this.El=Wn[9]|0,this.Fh=Wn[10]|0,this.Fl=Wn[11]|0,this.Gh=Wn[12]|0,this.Gl=Wn[13]|0,this.Hh=Wn[14]|0,this.Hl=Wn[15]|0}get(){const{Ah:e,Al:n,Bh:s,Bl:i,Ch:a,Cl:c,Dh:u,Dl:f,Eh:h,El:p,Fh:g,Fl:y,Gh:b,Gl:v,Hh:E,Hl:A}=this;return[e,n,s,i,a,c,u,f,h,p,g,y,b,v,E,A]}set(e,n,s,i,a,c,u,f,h,p,g,y,b,v,E,A){this.Ah=e|0,this.Al=n|0,this.Bh=s|0,this.Bl=i|0,this.Ch=a|0,this.Cl=c|0,this.Dh=u|0,this.Dl=f|0,this.Eh=h|0,this.El=p|0,this.Fh=g|0,this.Fl=y|0,this.Gh=b|0,this.Gl=v|0,this.Hh=E|0,this.Hl=A|0}process(e,n){for(let S=0;S<16;S++,n+=4)ga[S]=e.getUint32(n),ma[S]=e.getUint32(n+=4);for(let S=16;S<80;S++){const N=ga[S-15]|0,T=ma[S-15]|0,I=Ca(N,T,1)^Ca(N,T,8)^IT(N,T,7),$=Sa(N,T,1)^Sa(N,T,8)^DT(N,T,7),P=ga[S-2]|0,M=ma[S-2]|0,z=Ca(P,M,19)^jd(P,M,61)^IT(P,M,6),q=Sa(P,M,19)^zd(P,M,61)^DT(P,M,6),F=aY($,q,ma[S-7],ma[S-16]),ee=cY(F,I,z,ga[S-7],ga[S-16]);ga[S]=ee|0,ma[S]=F|0}let{Ah:s,Al:i,Bh:a,Bl:c,Ch:u,Cl:f,Dh:h,Dl:p,Eh:g,El:y,Fh:b,Fl:v,Gh:E,Gl:A,Hh:x,Hl:D}=this;for(let S=0;S<80;S++){const N=Ca(g,y,14)^Ca(g,y,18)^jd(g,y,41),T=Sa(g,y,14)^Sa(g,y,18)^zd(g,y,41),I=g&b^~g&E,$=y&v^~y&A,P=lY(D,T,$,MY[S],ma[S]),M=uY(P,x,N,I,OY[S],ga[S]),z=P|0,q=Ca(s,i,28)^jd(s,i,34)^jd(s,i,39),F=Sa(s,i,28)^zd(s,i,34)^zd(s,i,39),ee=s&a^s&u^a&u,Q=i&c^i&f^c&f;x=E|0,D=A|0,E=b|0,A=v|0,b=g|0,v=y|0,{h:g,l:y}=Vi(h|0,p|0,M|0,z|0),h=u|0,p=f|0,u=a|0,f=c|0,a=s|0,c=i|0;const R=FE(z,F,Q);s=qE(R,M,q,ee),i=R|0}({h:s,l:i}=Vi(this.Ah|0,this.Al|0,s|0,i|0)),{h:a,l:c}=Vi(this.Bh|0,this.Bl|0,a|0,c|0),{h:u,l:f}=Vi(this.Ch|0,this.Cl|0,u|0,f|0),{h,l:p}=Vi(this.Dh|0,this.Dl|0,h|0,p|0),{h:g,l:y}=Vi(this.Eh|0,this.El|0,g|0,y|0),{h:b,l:v}=Vi(this.Fh|0,this.Fl|0,b|0,v|0),{h:E,l:A}=Vi(this.Gh|0,this.Gl|0,E|0,A|0),{h:x,l:D}=Vi(this.Hh|0,this.Hl|0,x|0,D|0),this.set(s,i,a,c,u,f,h,p,g,y,b,v,E,A,x,D)}roundClean(){Ni(ga,ma)}destroy(){Ni(this.buffer),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}},RY=class extends YE{constructor(){super(48),this.Ah=Vn[0]|0,this.Al=Vn[1]|0,this.Bh=Vn[2]|0,this.Bl=Vn[3]|0,this.Ch=Vn[4]|0,this.Cl=Vn[5]|0,this.Dh=Vn[6]|0,this.Dl=Vn[7]|0,this.Eh=Vn[8]|0,this.El=Vn[9]|0,this.Fh=Vn[10]|0,this.Fl=Vn[11]|0,this.Gh=Vn[12]|0,this.Gl=Vn[13]|0,this.Hh=Vn[14]|0,this.Hl=Vn[15]|0}};const Kn=Uint32Array.from([573645204,4230739756,2673172387,3360449730,596883563,1867755857,2520282905,1497426621,2519219938,2827943907,3193839141,1401305490,721525244,746961066,246885852,2177182882]);class $Y extends YE{constructor(){super(32),this.Ah=Kn[0]|0,this.Al=Kn[1]|0,this.Bh=Kn[2]|0,this.Bl=Kn[3]|0,this.Ch=Kn[4]|0,this.Cl=Kn[5]|0,this.Dh=Kn[6]|0,this.Dl=Kn[7]|0,this.Eh=Kn[8]|0,this.El=Kn[9]|0,this.Fh=Kn[10]|0,this.Fl=Kn[11]|0,this.Gh=Kn[12]|0,this.Gl=Kn[13]|0,this.Hh=Kn[14]|0,this.Hl=Kn[15]|0}}const Lm=yp(()=>new DY),UY=yp(()=>new YE),PY=yp(()=>new RY),LY=yp(()=>new $Y),kY=Uint8Array.from([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9]),un=Uint32Array.from([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),Ce=new Uint32Array(32);function ya(t,e,n,s,i,a){const c=i[a],u=i[a+1];let f=Ce[2*t],h=Ce[2*t+1],p=Ce[2*e],g=Ce[2*e+1],y=Ce[2*n],b=Ce[2*n+1],v=Ce[2*s],E=Ce[2*s+1],A=FE(f,p,c);h=qE(A,h,g,u),f=A|0,{Dh:E,Dl:v}={Dh:E^h,Dl:v^f},{Dh:E,Dl:v}={Dh:tY(E,v),Dl:nY(E)},{h:b,l:y}=Vi(b,y,E,v),{Bh:g,Bl:p}={Bh:g^b,Bl:p^y},{Bh:g,Bl:p}={Bh:Ca(g,p,24),Bl:Sa(g,p,24)},Ce[2*t]=f,Ce[2*t+1]=h,Ce[2*e]=p,Ce[2*e+1]=g,Ce[2*n]=y,Ce[2*n+1]=b,Ce[2*s]=v,Ce[2*s+1]=E}function wa(t,e,n,s,i,a){const c=i[a],u=i[a+1];let f=Ce[2*t],h=Ce[2*t+1],p=Ce[2*e],g=Ce[2*e+1],y=Ce[2*n],b=Ce[2*n+1],v=Ce[2*s],E=Ce[2*s+1],A=FE(f,p,c);h=qE(A,h,g,u),f=A|0,{Dh:E,Dl:v}={Dh:E^h,Dl:v^f},{Dh:E,Dl:v}={Dh:Ca(E,v,16),Dl:Sa(E,v,16)},{h:b,l:y}=Vi(b,y,E,v),{Bh:g,Bl:p}={Bh:g^b,Bl:p^y},{Bh:g,Bl:p}={Bh:jd(g,p,63),Bl:zd(g,p,63)},Ce[2*t]=f,Ce[2*t+1]=h,Ce[2*e]=p,Ce[2*e+1]=g,Ce[2*n]=y,Ce[2*n+1]=b,Ce[2*s]=v,Ce[2*s+1]=E}function BY(t,e={},n,s,i){if(To(n),t<0||t>n)throw new Error("outputLen bigger than keyLen");const{key:a,salt:c,personalization:u}=e;if(a!==void 0&&(a.length<1||a.length>n))throw new Error("key length must be undefined or 1.."+n);if(c!==void 0&&c.length!==s)throw new Error("salt must be undefined or "+s);if(u!==void 0&&u.length!==i)throw new Error("personalization must be undefined or "+i)}class jY extends Pm{constructor(e,n){super(),this.finished=!1,this.destroyed=!1,this.length=0,this.pos=0,To(e),To(n),this.blockLen=e,this.outputLen=n,this.buffer=new Uint8Array(e),this.buffer32=Th(this.buffer)}update(e){ka(this),e=Yi(e),xi(e);const{blockLen:n,buffer:s,buffer32:i}=this,a=e.length,c=e.byteOffset,u=e.buffer;for(let f=0;f<a;){this.pos===n&&(xa(i),this.compress(i,0,!1),xa(i),this.pos=0);const h=Math.min(n-this.pos,a-f),p=c+f;if(h===n&&!(p%4)&&f+h<a){const g=new Uint32Array(u,p,Math.floor((a-f)/4));xa(g);for(let y=0;f+n<a;y+=i.length,f+=n)this.length+=n,this.compress(g,y,!1);xa(g);continue}s.set(e.subarray(f,f+h),this.pos),this.pos+=h,this.length+=h,f+=h}return this}digestInto(e){ka(this),KE(e,this);const{pos:n,buffer32:s}=this;this.finished=!0,Ni(this.buffer.subarray(n)),xa(s),this.compress(s,0,!0),xa(s);const i=Th(e);this.get().forEach((a,c)=>i[c]=ho(a))}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const s=e.slice(0,n);return this.destroy(),s}_cloneInto(e){const{buffer:n,length:s,finished:i,destroyed:a,outputLen:c,pos:u}=this;return e||(e=new this.constructor({dkLen:c})),e.set(...this.get()),e.buffer.set(n),e.destroyed=a,e.finished=i,e.length=s,e.pos=u,e.outputLen=c,e}clone(){return this._cloneInto()}}class zY extends jY{constructor(e={}){const n=e.dkLen===void 0?64:e.dkLen;super(128,n),this.v0l=un[0]|0,this.v0h=un[1]|0,this.v1l=un[2]|0,this.v1h=un[3]|0,this.v2l=un[4]|0,this.v2h=un[5]|0,this.v3l=un[6]|0,this.v3h=un[7]|0,this.v4l=un[8]|0,this.v4h=un[9]|0,this.v5l=un[10]|0,this.v5h=un[11]|0,this.v6l=un[12]|0,this.v6h=un[13]|0,this.v7l=un[14]|0,this.v7h=un[15]|0,BY(n,e,64,16,16);let{key:s,personalization:i,salt:a}=e,c=0;if(s!==void 0&&(s=Yi(s),c=s.length),this.v0l^=this.outputLen|c<<8|65536|1<<24,a!==void 0){a=Yi(a);const u=Th(a);this.v4l^=ho(u[0]),this.v4h^=ho(u[1]),this.v5l^=ho(u[2]),this.v5h^=ho(u[3])}if(i!==void 0){i=Yi(i);const u=Th(i);this.v6l^=ho(u[0]),this.v6h^=ho(u[1]),this.v7l^=ho(u[2]),this.v7h^=ho(u[3])}if(s!==void 0){const u=new Uint8Array(this.blockLen);u.set(s),this.update(u)}}get(){let{v0l:e,v0h:n,v1l:s,v1h:i,v2l:a,v2h:c,v3l:u,v3h:f,v4l:h,v4h:p,v5l:g,v5h:y,v6l:b,v6h:v,v7l:E,v7h:A}=this;return[e,n,s,i,a,c,u,f,h,p,g,y,b,v,E,A]}set(e,n,s,i,a,c,u,f,h,p,g,y,b,v,E,A){this.v0l=e|0,this.v0h=n|0,this.v1l=s|0,this.v1h=i|0,this.v2l=a|0,this.v2h=c|0,this.v3l=u|0,this.v3h=f|0,this.v4l=h|0,this.v4h=p|0,this.v5l=g|0,this.v5h=y|0,this.v6l=b|0,this.v6h=v|0,this.v7l=E|0,this.v7h=A|0}compress(e,n,s){this.get().forEach((f,h)=>Ce[h]=f),Ce.set(un,16);let{h:i,l:a}=jD(BigInt(this.length));Ce[24]=un[8]^a,Ce[25]=un[9]^i,s&&(Ce[28]=~Ce[28],Ce[29]=~Ce[29]);let c=0;const u=kY;for(let f=0;f<12;f++)ya(0,4,8,12,e,n+2*u[c++]),wa(0,4,8,12,e,n+2*u[c++]),ya(1,5,9,13,e,n+2*u[c++]),wa(1,5,9,13,e,n+2*u[c++]),ya(2,6,10,14,e,n+2*u[c++]),wa(2,6,10,14,e,n+2*u[c++]),ya(3,7,11,15,e,n+2*u[c++]),wa(3,7,11,15,e,n+2*u[c++]),ya(0,5,10,15,e,n+2*u[c++]),wa(0,5,10,15,e,n+2*u[c++]),ya(1,6,11,12,e,n+2*u[c++]),wa(1,6,11,12,e,n+2*u[c++]),ya(2,7,8,13,e,n+2*u[c++]),wa(2,7,8,13,e,n+2*u[c++]),ya(3,4,9,14,e,n+2*u[c++]),wa(3,4,9,14,e,n+2*u[c++]);this.v0l^=Ce[0]^Ce[16],this.v0h^=Ce[1]^Ce[17],this.v1l^=Ce[2]^Ce[18],this.v1h^=Ce[3]^Ce[19],this.v2l^=Ce[4]^Ce[20],this.v2h^=Ce[5]^Ce[21],this.v3l^=Ce[6]^Ce[22],this.v3h^=Ce[7]^Ce[23],this.v4l^=Ce[8]^Ce[24],this.v4h^=Ce[9]^Ce[25],this.v5l^=Ce[10]^Ce[26],this.v5h^=Ce[11]^Ce[27],this.v6l^=Ce[12]^Ce[28],this.v6h^=Ce[13]^Ce[29],this.v7l^=Ce[14]^Ce[30],this.v7h^=Ce[15]^Ce[31],Ni(Ce)}destroy(){this.destroyed=!0,Ni(this.buffer32),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const HY=pY(t=>new zY(t)),FY="https://rpc.walletconnect.org/v1";function ZD(t){const e=`Ethereum Signed Message:
${t.length}`,n=new TextEncoder().encode(e+t);return"0x"+Buffer.from(xY(n)).toString("hex")}async function qY(t,e,n,s,i,a){switch(n.t){case"eip191":return await VY(t,e,n.s);case"eip1271":return await WY(t,e,n.s,s,i,a);default:throw new Error(`verifySignature failed: Attempted to verify CacaoSignature with unknown type: ${n.t}`)}}async function VY(t,e,n){return(await zW({hash:ZD(e),signature:n})).toLowerCase()===t.toLowerCase()}async function WY(t,e,n,s,i,a){const c=zu(s);if(!c.namespace||!c.reference)throw new Error(`isValidEip1271Signature failed: chainId must be in CAIP-2 format, received: ${s}`);try{const u="0x1626ba7e",f="0000000000000000000000000000000000000000000000000000000000000040",h=n.substring(2),p=(h.length/2).toString(16).padStart(64,"0"),g=(e.startsWith("0x")?e:ZD(e)).substring(2),y=u+g+f+p+h,b=await fetch(`${a||FY}/?chainId=${s}&projectId=${i}`,{headers:{"Content-Type":"application/json"},method:"POST",body:JSON.stringify({id:KY(),jsonrpc:"2.0",method:"eth_call",params:[{to:t,data:y},"latest"]})}),{result:v}=await b.json();return v?v.slice(0,u.length).toLowerCase()===u.toLowerCase():!1}catch(u){return console.error("isValidEip1271Signature: ",u),!1}}function KY(){return Date.now()+Math.floor(Math.random()*1e3)}function GY(t){const e=atob(t),n=new Uint8Array(e.length);for(let c=0;c<e.length;c++)n[c]=e.charCodeAt(c);const s=n[0];if(s===0)throw new Error("No signatures found");const i=1+s*64;if(n.length<i)throw new Error("Transaction data too short for claimed signature count");if(n.length<100)throw new Error("Transaction too short");const a=Buffer.from(t,"base64").slice(1,65);return ff.encode(a)}function YY(t){const e=new Uint8Array(Buffer.from(t,"base64")),n=Array.from("TransactionData::").map(a=>a.charCodeAt(0)),s=new Uint8Array(n.length+e.length);s.set(n),s.set(e,n.length);const i=HY(s,{dkLen:32});return ff.encode(i)}function $T(t){const e=new Uint8Array(Lm(XY(t)));return ff.encode(e)}function XY(t){if(t instanceof Uint8Array)return t;if(Array.isArray(t))return new Uint8Array(t);if(typeof t=="object"&&t!=null&&t.data)return new Uint8Array(Object.values(t.data));if(typeof t=="object"&&t)return new Uint8Array(Object.values(t));throw new Error("getNearUint8ArrayFromBytes: Unexpected result type from bytes array")}function UT(t){const e=Buffer.from(t,"base64"),n=xK(e).txn;if(!n)throw new Error("Invalid signed transaction: missing 'txn' field");const s=mK(n),i=Buffer.from("TX"),a=Buffer.concat([i,Buffer.from(s)]),c=LY(a);return mk.encode(c).replace(/=+$/,"")}function pb(t){const e=[];let n=BigInt(t);for(;n>=BigInt(128);)e.push(Number(n&BigInt(127)|BigInt(128))),n>>=BigInt(7);return e.push(Number(n)),Buffer.from(e)}function QY(t){const e=Buffer.from(t.signed.bodyBytes,"base64"),n=Buffer.from(t.signed.authInfoBytes,"base64"),s=Buffer.from(t.signature.signature,"base64"),i=[];i.push(Buffer.from([10])),i.push(pb(e.length)),i.push(e),i.push(Buffer.from([18])),i.push(pb(n.length)),i.push(n),i.push(Buffer.from([26])),i.push(pb(s.length)),i.push(s);const a=Buffer.concat(i),c=Lm(a);return Buffer.from(c).toString("hex").toUpperCase()}var ZY=Object.defineProperty,JY=Object.defineProperties,eX=Object.getOwnPropertyDescriptors,PT=Object.getOwnPropertySymbols,tX=Object.prototype.hasOwnProperty,nX=Object.prototype.propertyIsEnumerable,LT=(t,e,n)=>e in t?ZY(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,sX=(t,e)=>{for(var n in e||(e={}))tX.call(e,n)&&LT(t,n,e[n]);if(PT)for(var n of PT(e))nX.call(e,n)&&LT(t,n,e[n]);return t},iX=(t,e)=>JY(t,eX(e));const rX="did:pkh:",XE=t=>t?.split(":"),oX=t=>{const e=t&&XE(t);if(e)return t.includes(rX)?e[3]:e[1]},Vv=t=>{const e=t&&XE(t);if(e)return e[2]+":"+e[3]},hm=t=>{const e=t&&XE(t);if(e)return e.pop()};async function kT(t){const{cacao:e,projectId:n}=t,{s,p:i}=e,a=JD(i,i.iss),c=hm(i.iss);return await qY(c,a,s,Vv(i.iss),n)}const JD=(t,e)=>{const n=`${t.domain} wants you to sign in with your Ethereum account:`,s=hm(e);if(!t.aud&&!t.uri)throw new Error("Either `aud` or `uri` is required to construct the message");let i=t.statement||void 0;const a=`URI: ${t.aud||t.uri}`,c=`Version: ${t.version}`,u=`Chain ID: ${oX(e)}`,f=`Nonce: ${t.nonce}`,h=`Issued At: ${t.iat}`,p=t.exp?`Expiration Time: ${t.exp}`:void 0,g=t.nbf?`Not Before: ${t.nbf}`:void 0,y=t.requestId?`Request ID: ${t.requestId}`:void 0,b=t.resources?`Resources:${t.resources.map(E=>`
- ${E}`).join("")}`:void 0,v=P0(t.resources);if(v){const E=Ih(v);i=gX(i,E)}return[n,s,"",i,"",a,c,u,f,h,p,g,y,b].filter(E=>E!=null).join(`
`)};function aX(t){return Buffer.from(JSON.stringify(t)).toString("base64")}function cX(t){return JSON.parse(Buffer.from(t,"base64").toString("utf-8"))}function Qc(t){if(!t)throw new Error("No recap provided, value is undefined");if(!t.att)throw new Error("No `att` property found");const e=Object.keys(t.att);if(!(e!=null&&e.length))throw new Error("No resources found in `att` property");e.forEach(n=>{const s=t.att[n];if(Array.isArray(s))throw new Error(`Resource must be an object: ${n}`);if(typeof s!="object")throw new Error(`Resource must be an object: ${n}`);if(!Object.keys(s).length)throw new Error(`Resource object is empty: ${n}`);Object.keys(s).forEach(i=>{const a=s[i];if(!Array.isArray(a))throw new Error(`Ability limits ${i} must be an array of objects, found: ${a}`);if(!a.length)throw new Error(`Value of ${i} is empty array, must be an array with objects`);a.forEach(c=>{if(typeof c!="object")throw new Error(`Ability limits (${i}) must be an array of objects, found: ${c}`)})})})}function lX(t,e,n,s={}){return n?.sort((i,a)=>i.localeCompare(a)),{att:{[t]:uX(e,n,s)}}}function uX(t,e,n={}){e=e?.sort((i,a)=>i.localeCompare(a));const s=e.map(i=>({[`${t}/${i}`]:[n]}));return Object.assign({},...s)}function eO(t){return Qc(t),`urn:recap:${aX(t).replace(/=/g,"")}`}function Ih(t){const e=cX(t.replace("urn:recap:",""));return Qc(e),e}function fX(t,e,n){const s=lX(t,e,n);return eO(s)}function dX(t){return t&&t.includes("urn:recap:")}function hX(t,e){const n=Ih(t),s=Ih(e),i=pX(n,s);return eO(i)}function pX(t,e){Qc(t),Qc(e);const n=Object.keys(t.att).concat(Object.keys(e.att)).sort((i,a)=>i.localeCompare(a)),s={att:{}};return n.forEach(i=>{var a,c;Object.keys(((a=t.att)==null?void 0:a[i])||{}).concat(Object.keys(((c=e.att)==null?void 0:c[i])||{})).sort((u,f)=>u.localeCompare(f)).forEach(u=>{var f,h;s.att[i]=iX(sX({},s.att[i]),{[u]:((f=t.att[i])==null?void 0:f[u])||((h=e.att[i])==null?void 0:h[u])})})}),s}function gX(t="",e){Qc(e);const n="I further authorize the stated URI to perform the following actions on my behalf: ";if(t.includes(n))return t;const s=[];let i=0;Object.keys(e.att).forEach(u=>{const f=Object.keys(e.att[u]).map(g=>({ability:g.split("/")[0],action:g.split("/")[1]}));f.sort((g,y)=>g.action.localeCompare(y.action));const h={};f.forEach(g=>{h[g.ability]||(h[g.ability]=[]),h[g.ability].push(g.action)});const p=Object.keys(h).map(g=>(i++,`(${i}) '${g}': '${h[g].join("', '")}' for '${u}'.`));s.push(p.join(", ").replace(".,","."))});const a=s.join(" "),c=`${n}${a}`;return`${t?t+" ":""}${c}`}function BT(t){var e;const n=Ih(t);Qc(n);const s=(e=n.att)==null?void 0:e.eip155;return s?Object.keys(s).map(i=>i.split("/")[1]):[]}function jT(t){const e=Ih(t);Qc(e);const n=[];return Object.values(e.att).forEach(s=>{Object.values(s).forEach(i=>{var a;(a=i?.[0])!=null&&a.chains&&n.push(i[0].chains)})}),[...new Set(n.flat())]}function P0(t){if(!t)return;const e=t?.[t.length-1];return dX(e)?e:void 0}/*! noble-ciphers - MIT License (c) 2023 Paul Miller (paulmillr.com) */function tO(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function Wv(t){if(typeof t!="boolean")throw new Error(`boolean expected, not ${t}`)}function gb(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function Cs(t,...e){if(!tO(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function zT(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function mX(t,e){Cs(t);const n=e.outputLen;if(t.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}function Ra(t){return new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4))}function Ku(...t){for(let e=0;e<t.length;e++)t[e].fill(0)}function yX(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}const wX=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function bX(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}function Kv(t){if(typeof t=="string")t=bX(t);else if(tO(t))t=Gv(t);else throw new Error("Uint8Array expected, got "+typeof t);return t}function vX(t,e){if(e==null||typeof e!="object")throw new Error("options must be defined");return Object.assign(t,e)}function EX(t,e){if(t.length!==e.length)return!1;let n=0;for(let s=0;s<t.length;s++)n|=t[s]^e[s];return n===0}const AX=(t,e)=>{function n(s,...i){if(Cs(s),!wX)throw new Error("Non little-endian hardware is not yet supported");if(t.nonceLength!==void 0){const h=i[0];if(!h)throw new Error("nonce / iv required");t.varSizeNonce?Cs(h):Cs(h,t.nonceLength)}const a=t.tagLength;a&&i[1]!==void 0&&Cs(i[1]);const c=e(s,...i),u=(h,p)=>{if(p!==void 0){if(h!==2)throw new Error("cipher output not supported");Cs(p)}};let f=!1;return{encrypt(h,p){if(f)throw new Error("cannot encrypt() twice with same key + nonce");return f=!0,Cs(h),u(c.encrypt.length,p),c.encrypt(h,p)},decrypt(h,p){if(Cs(h),a&&h.length<a)throw new Error("invalid ciphertext length: smaller than tagLength="+a);return u(c.decrypt.length,p),c.decrypt(h,p)}}}return Object.assign(n,t),n};function HT(t,e,n=!0){if(e===void 0)return new Uint8Array(t);if(e.length!==t)throw new Error("invalid output length, expected "+t+", got: "+e.length);if(n&&!SX(e))throw new Error("invalid output, must be aligned");return e}function FT(t,e,n,s){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,s);const i=BigInt(32),a=BigInt(4294967295),c=Number(n>>i&a),u=Number(n&a);t.setUint32(e+4,c,s),t.setUint32(e+0,u,s)}function CX(t,e,n){Wv(n);const s=new Uint8Array(16),i=yX(s);return FT(i,0,BigInt(e),n),FT(i,8,BigInt(t),n),s}function SX(t){return t.byteOffset%4===0}function Gv(t){return Uint8Array.from(t)}const nO=t=>Uint8Array.from(t.split("").map(e=>e.charCodeAt(0))),xX=nO("expand 16-byte k"),NX=nO("expand 32-byte k"),TX=Ra(xX),_X=Ra(NX);function rt(t,e){return t<<e|t>>>32-e}function Yv(t){return t.byteOffset%4===0}const c0=64,IX=16,sO=2**32-1,qT=new Uint32Array;function DX(t,e,n,s,i,a,c,u){const f=i.length,h=new Uint8Array(c0),p=Ra(h),g=Yv(i)&&Yv(a),y=g?Ra(i):qT,b=g?Ra(a):qT;for(let v=0;v<f;c++){if(t(e,n,s,p,c,u),c>=sO)throw new Error("arx: counter overflow");const E=Math.min(c0,f-v);if(g&&E===c0){const A=v/4;if(v%4!==0)throw new Error("arx: invalid block position");for(let x=0,D;x<IX;x++)D=A+x,b[D]=y[D]^p[x];v+=c0;continue}for(let A=0,x;A<E;A++)x=v+A,a[x]=i[x]^h[A];v+=E}}function OX(t,e){const{allowShortKeys:n,extendNonceFn:s,counterLength:i,counterRight:a,rounds:c}=vX({allowShortKeys:!1,counterLength:8,counterRight:!1,rounds:20},e);if(typeof t!="function")throw new Error("core must be a function");return gb(i),gb(c),Wv(a),Wv(n),(u,f,h,p,g=0)=>{Cs(u),Cs(f),Cs(h);const y=h.length;if(p===void 0&&(p=new Uint8Array(y)),Cs(p),gb(g),g<0||g>=sO)throw new Error("arx: counter overflow");if(p.length<y)throw new Error(`arx: output (${p.length}) is shorter than data (${y})`);const b=[];let v=u.length,E,A;if(v===32)b.push(E=Gv(u)),A=_X;else if(v===16&&n)E=new Uint8Array(32),E.set(u),E.set(u,16),A=TX,b.push(E);else throw new Error(`arx: invalid 32-byte key, got length=${v}`);Yv(f)||b.push(f=Gv(f));const x=Ra(E);if(s){if(f.length!==24)throw new Error("arx: extended nonce must be 24 bytes");s(A,x,Ra(f.subarray(0,16)),x),f=f.subarray(16)}const D=16-i;if(D!==f.length)throw new Error(`arx: nonce must be ${D} or 16 bytes`);if(D!==12){const N=new Uint8Array(12);N.set(f,a?0:12-f.length),f=N,b.push(f)}const S=Ra(f);return DX(t,A,x,S,h,p,g,c),Ku(...b),p}}const In=(t,e)=>t[e++]&255|(t[e++]&255)<<8;class MX{constructor(e){this.blockLen=16,this.outputLen=16,this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.pos=0,this.finished=!1,e=Kv(e),Cs(e,32);const n=In(e,0),s=In(e,2),i=In(e,4),a=In(e,6),c=In(e,8),u=In(e,10),f=In(e,12),h=In(e,14);this.r[0]=n&8191,this.r[1]=(n>>>13|s<<3)&8191,this.r[2]=(s>>>10|i<<6)&7939,this.r[3]=(i>>>7|a<<9)&8191,this.r[4]=(a>>>4|c<<12)&255,this.r[5]=c>>>1&8190,this.r[6]=(c>>>14|u<<2)&8191,this.r[7]=(u>>>11|f<<5)&8065,this.r[8]=(f>>>8|h<<8)&8191,this.r[9]=h>>>5&127;for(let p=0;p<8;p++)this.pad[p]=In(e,16+2*p)}process(e,n,s=!1){const i=s?0:2048,{h:a,r:c}=this,u=c[0],f=c[1],h=c[2],p=c[3],g=c[4],y=c[5],b=c[6],v=c[7],E=c[8],A=c[9],x=In(e,n+0),D=In(e,n+2),S=In(e,n+4),N=In(e,n+6),T=In(e,n+8),I=In(e,n+10),$=In(e,n+12),P=In(e,n+14);let M=a[0]+(x&8191),z=a[1]+((x>>>13|D<<3)&8191),q=a[2]+((D>>>10|S<<6)&8191),F=a[3]+((S>>>7|N<<9)&8191),ee=a[4]+((N>>>4|T<<12)&8191),Q=a[5]+(T>>>1&8191),R=a[6]+((T>>>14|I<<2)&8191),_=a[7]+((I>>>11|$<<5)&8191),k=a[8]+(($>>>8|P<<8)&8191),H=a[9]+(P>>>5|i),G=0,V=G+M*u+z*(5*A)+q*(5*E)+F*(5*v)+ee*(5*b);G=V>>>13,V&=8191,V+=Q*(5*y)+R*(5*g)+_*(5*p)+k*(5*h)+H*(5*f),G+=V>>>13,V&=8191;let U=G+M*f+z*u+q*(5*A)+F*(5*E)+ee*(5*v);G=U>>>13,U&=8191,U+=Q*(5*b)+R*(5*y)+_*(5*g)+k*(5*p)+H*(5*h),G+=U>>>13,U&=8191;let K=G+M*h+z*f+q*u+F*(5*A)+ee*(5*E);G=K>>>13,K&=8191,K+=Q*(5*v)+R*(5*b)+_*(5*y)+k*(5*g)+H*(5*p),G+=K>>>13,K&=8191;let te=G+M*p+z*h+q*f+F*u+ee*(5*A);G=te>>>13,te&=8191,te+=Q*(5*E)+R*(5*v)+_*(5*b)+k*(5*y)+H*(5*g),G+=te>>>13,te&=8191;let ie=G+M*g+z*p+q*h+F*f+ee*u;G=ie>>>13,ie&=8191,ie+=Q*(5*A)+R*(5*E)+_*(5*v)+k*(5*b)+H*(5*y),G+=ie>>>13,ie&=8191;let ue=G+M*y+z*g+q*p+F*h+ee*f;G=ue>>>13,ue&=8191,ue+=Q*u+R*(5*A)+_*(5*E)+k*(5*v)+H*(5*b),G+=ue>>>13,ue&=8191;let pe=G+M*b+z*y+q*g+F*p+ee*h;G=pe>>>13,pe&=8191,pe+=Q*f+R*u+_*(5*A)+k*(5*E)+H*(5*v),G+=pe>>>13,pe&=8191;let xe=G+M*v+z*b+q*y+F*g+ee*p;G=xe>>>13,xe&=8191,xe+=Q*h+R*f+_*u+k*(5*A)+H*(5*E),G+=xe>>>13,xe&=8191;let ke=G+M*E+z*v+q*b+F*y+ee*g;G=ke>>>13,ke&=8191,ke+=Q*p+R*h+_*f+k*u+H*(5*A),G+=ke>>>13,ke&=8191;let Te=G+M*A+z*E+q*v+F*b+ee*y;G=Te>>>13,Te&=8191,Te+=Q*g+R*p+_*h+k*f+H*u,G+=Te>>>13,Te&=8191,G=(G<<2)+G|0,G=G+V|0,V=G&8191,G=G>>>13,U+=G,a[0]=V,a[1]=U,a[2]=K,a[3]=te,a[4]=ie,a[5]=ue,a[6]=pe,a[7]=xe,a[8]=ke,a[9]=Te}finalize(){const{h:e,pad:n}=this,s=new Uint16Array(10);let i=e[1]>>>13;e[1]&=8191;for(let u=2;u<10;u++)e[u]+=i,i=e[u]>>>13,e[u]&=8191;e[0]+=i*5,i=e[0]>>>13,e[0]&=8191,e[1]+=i,i=e[1]>>>13,e[1]&=8191,e[2]+=i,s[0]=e[0]+5,i=s[0]>>>13,s[0]&=8191;for(let u=1;u<10;u++)s[u]=e[u]+i,i=s[u]>>>13,s[u]&=8191;s[9]-=8192;let a=(i^1)-1;for(let u=0;u<10;u++)s[u]&=a;a=~a;for(let u=0;u<10;u++)e[u]=e[u]&a|s[u];e[0]=(e[0]|e[1]<<13)&65535,e[1]=(e[1]>>>3|e[2]<<10)&65535,e[2]=(e[2]>>>6|e[3]<<7)&65535,e[3]=(e[3]>>>9|e[4]<<4)&65535,e[4]=(e[4]>>>12|e[5]<<1|e[6]<<14)&65535,e[5]=(e[6]>>>2|e[7]<<11)&65535,e[6]=(e[7]>>>5|e[8]<<8)&65535,e[7]=(e[8]>>>8|e[9]<<5)&65535;let c=e[0]+n[0];e[0]=c&65535;for(let u=1;u<8;u++)c=(e[u]+n[u]|0)+(c>>>16)|0,e[u]=c&65535;Ku(s)}update(e){zT(this),e=Kv(e),Cs(e);const{buffer:n,blockLen:s}=this,i=e.length;for(let a=0;a<i;){const c=Math.min(s-this.pos,i-a);if(c===s){for(;s<=i-a;a+=s)this.process(e,a);continue}n.set(e.subarray(a,a+c),this.pos),this.pos+=c,a+=c,this.pos===s&&(this.process(n,0,!1),this.pos=0)}return this}destroy(){Ku(this.h,this.r,this.buffer,this.pad)}digestInto(e){zT(this),mX(e,this),this.finished=!0;const{buffer:n,h:s}=this;let{pos:i}=this;if(i){for(n[i++]=1;i<16;i++)n[i]=0;this.process(n,0,!0)}this.finalize();let a=0;for(let c=0;c<8;c++)e[a++]=s[c]>>>0,e[a++]=s[c]>>>8;return e}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const s=e.slice(0,n);return this.destroy(),s}}function RX(t){const e=(s,i)=>t(i).update(Kv(s)).digest(),n=t(new Uint8Array(32));return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=s=>t(s),e}const $X=RX(t=>new MX(t));function UX(t,e,n,s,i,a=20){let c=t[0],u=t[1],f=t[2],h=t[3],p=e[0],g=e[1],y=e[2],b=e[3],v=e[4],E=e[5],A=e[6],x=e[7],D=i,S=n[0],N=n[1],T=n[2],I=c,$=u,P=f,M=h,z=p,q=g,F=y,ee=b,Q=v,R=E,_=A,k=x,H=D,G=S,V=N,U=T;for(let te=0;te<a;te+=2)I=I+z|0,H=rt(H^I,16),Q=Q+H|0,z=rt(z^Q,12),I=I+z|0,H=rt(H^I,8),Q=Q+H|0,z=rt(z^Q,7),$=$+q|0,G=rt(G^$,16),R=R+G|0,q=rt(q^R,12),$=$+q|0,G=rt(G^$,8),R=R+G|0,q=rt(q^R,7),P=P+F|0,V=rt(V^P,16),_=_+V|0,F=rt(F^_,12),P=P+F|0,V=rt(V^P,8),_=_+V|0,F=rt(F^_,7),M=M+ee|0,U=rt(U^M,16),k=k+U|0,ee=rt(ee^k,12),M=M+ee|0,U=rt(U^M,8),k=k+U|0,ee=rt(ee^k,7),I=I+q|0,U=rt(U^I,16),_=_+U|0,q=rt(q^_,12),I=I+q|0,U=rt(U^I,8),_=_+U|0,q=rt(q^_,7),$=$+F|0,H=rt(H^$,16),k=k+H|0,F=rt(F^k,12),$=$+F|0,H=rt(H^$,8),k=k+H|0,F=rt(F^k,7),P=P+ee|0,G=rt(G^P,16),Q=Q+G|0,ee=rt(ee^Q,12),P=P+ee|0,G=rt(G^P,8),Q=Q+G|0,ee=rt(ee^Q,7),M=M+z|0,V=rt(V^M,16),R=R+V|0,z=rt(z^R,12),M=M+z|0,V=rt(V^M,8),R=R+V|0,z=rt(z^R,7);let K=0;s[K++]=c+I|0,s[K++]=u+$|0,s[K++]=f+P|0,s[K++]=h+M|0,s[K++]=p+z|0,s[K++]=g+q|0,s[K++]=y+F|0,s[K++]=b+ee|0,s[K++]=v+Q|0,s[K++]=E+R|0,s[K++]=A+_|0,s[K++]=x+k|0,s[K++]=D+H|0,s[K++]=S+G|0,s[K++]=N+V|0,s[K++]=T+U|0}const PX=OX(UX,{counterRight:!1,counterLength:4,allowShortKeys:!1}),LX=new Uint8Array(16),VT=(t,e)=>{t.update(e);const n=e.length%16;n&&t.update(LX.subarray(n))},kX=new Uint8Array(32);function WT(t,e,n,s,i){const a=t(e,n,kX),c=$X.create(a);i&&VT(c,i),VT(c,s);const u=CX(s.length,i?i.length:0,!0);c.update(u);const f=c.digest();return Ku(a,u),f}const BX=t=>(e,n,s)=>({encrypt(i,a){const c=i.length;a=HT(c+16,a,!1),a.set(i);const u=a.subarray(0,-16);t(e,n,u,u,1);const f=WT(t,e,n,u,s);return a.set(f,c),Ku(f),a},decrypt(i,a){a=HT(i.length-16,a,!1);const c=i.subarray(0,-16),u=i.subarray(-16),f=WT(t,e,n,c,s);if(!EX(u,f))throw new Error("invalid tag");return a.set(i.subarray(0,-16)),t(e,n,a,a,1),Ku(f),a}}),iO=AX({blockSize:64,nonceLength:12,tagLength:16},BX(PX));let rO=class extends Pm{constructor(e,n){super(),this.finished=!1,this.destroyed=!1,WE(e);const s=Yi(n);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const i=this.blockLen,a=new Uint8Array(i);a.set(s.length>i?e.create().update(s).digest():s);for(let c=0;c<a.length;c++)a[c]^=54;this.iHash.update(a),this.oHash=e.create();for(let c=0;c<a.length;c++)a[c]^=106;this.oHash.update(a),Ni(a)}update(e){return ka(this),this.iHash.update(e),this}digestInto(e){ka(this),xi(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:s,finished:i,destroyed:a,blockLen:c,outputLen:u}=this;return e=e,e.finished=i,e.destroyed=a,e.blockLen=c,e.outputLen=u,e.oHash=n._cloneInto(e.oHash),e.iHash=s._cloneInto(e.iHash),e}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}};const km=(t,e,n)=>new rO(t,e).update(n).digest();km.create=(t,e)=>new rO(t,e);function jX(t,e,n){return WE(t),n===void 0&&(n=new Uint8Array(t.outputLen)),km(t,Yi(n),Yi(e))}const mb=Uint8Array.from([0]),KT=Uint8Array.of();function zX(t,e,n,s=32){WE(t),To(s);const i=t.outputLen;if(s>255*i)throw new Error("Length should be <= 255*HashLen");const a=Math.ceil(s/i);n===void 0&&(n=KT);const c=new Uint8Array(a*i),u=km.create(t,e),f=u._cloneInto(),h=new Uint8Array(u.outputLen);for(let p=0;p<a;p++)mb[0]=p+1,f.update(p===0?KT:h).update(n).update(mb).digestInto(h),c.set(h,i*p),u._cloneInto(f);return u.destroy(),f.destroy(),Ni(h,mb),c.slice(0,s)}const HX=(t,e,n,s,i)=>zX(t,jX(t,e,n),s,i),Bm=Lm,QE=BigInt(0),Xv=BigInt(1);function pm(t,e){if(typeof e!="boolean")throw new Error(t+" boolean expected, got "+e)}function l0(t){const e=t.toString(16);return e.length&1?"0"+e:e}function oO(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return t===""?QE:BigInt("0x"+t)}function jm(t){return oO(_h(t))}function gm(t){return xi(t),oO(_h(Uint8Array.from(t).reverse()))}function ZE(t,e){return GE(t.toString(16).padStart(e*2,"0"))}function JE(t,e){return ZE(t,e).reverse()}function As(t,e,n){let s;if(typeof e=="string")try{s=GE(e)}catch(a){throw new Error(t+" must be hex string or Uint8Array, cause: "+a)}else if(VE(e))s=Uint8Array.from(e);else throw new Error(t+" must be hex string or Uint8Array");const i=s.length;if(typeof n=="number"&&i!==n)throw new Error(t+" of length "+n+" expected, got "+i);return s}const yb=t=>typeof t=="bigint"&&QE<=t;function FX(t,e,n){return yb(t)&&yb(e)&&yb(n)&&e<=t&&t<n}function Qv(t,e,n,s){if(!FX(e,n,s))throw new Error("expected valid "+t+": "+n+" <= n < "+s+", got "+e)}function qX(t){let e;for(e=0;t>QE;t>>=Xv,e+=1);return e}const zm=t=>(Xv<<BigInt(t))-Xv;function VX(t,e,n){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");const s=y=>new Uint8Array(y),i=y=>Uint8Array.of(y);let a=s(t),c=s(t),u=0;const f=()=>{a.fill(1),c.fill(0),u=0},h=(...y)=>n(c,a,...y),p=(y=s(0))=>{c=h(i(0),y),a=h(),y.length!==0&&(c=h(i(1),y),a=h())},g=()=>{if(u++>=1e3)throw new Error("drbg: tried 1000 values");let y=0;const b=[];for(;y<e;){a=h();const v=a.slice();b.push(v),y+=a.length}return Lc(...b)};return(y,b)=>{f(),p(y);let v;for(;!(v=b(g()));)p();return f(),v}}function Hm(t,e,n={}){if(!t||typeof t!="object")throw new Error("expected valid options object");function s(i,a,c){const u=t[i];if(c&&u===void 0)return;const f=typeof u;if(f!==a||u===null)throw new Error(`param "${i}" is invalid: expected ${a}, got ${f}`)}Object.entries(e).forEach(([i,a])=>s(i,a,!1)),Object.entries(n).forEach(([i,a])=>s(i,a,!0))}function GT(t){const e=new WeakMap;return(n,...s)=>{const i=e.get(n);if(i!==void 0)return i;const a=t(n,...s);return e.set(n,a),a}}const Ns=BigInt(0),ss=BigInt(1),kc=BigInt(2),WX=BigInt(3),aO=BigInt(4),cO=BigInt(5),lO=BigInt(8);function Ei(t,e){const n=t%e;return n>=Ns?n:e+n}function Hi(t,e,n){let s=t;for(;e-- >Ns;)s*=s,s%=n;return s}function YT(t,e){if(t===Ns)throw new Error("invert: expected non-zero number");if(e<=Ns)throw new Error("invert: expected positive modulus, got "+e);let n=Ei(t,e),s=e,i=Ns,a=ss;for(;n!==Ns;){const c=s/n,u=s%n,f=i-a*c;s=n,n=u,i=a,a=f}if(s!==ss)throw new Error("invert: does not exist");return Ei(i,e)}function uO(t,e){const n=(t.ORDER+ss)/aO,s=t.pow(e,n);if(!t.eql(t.sqr(s),e))throw new Error("Cannot find square root");return s}function KX(t,e){const n=(t.ORDER-cO)/lO,s=t.mul(e,kc),i=t.pow(s,n),a=t.mul(e,i),c=t.mul(t.mul(a,kc),i),u=t.mul(a,t.sub(c,t.ONE));if(!t.eql(t.sqr(u),e))throw new Error("Cannot find square root");return u}function GX(t){if(t<BigInt(3))throw new Error("sqrt is not defined for small field");let e=t-ss,n=0;for(;e%kc===Ns;)e/=kc,n++;let s=kc;const i=pf(t);for(;XT(i,s)===1;)if(s++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(n===1)return uO;let a=i.pow(s,e);const c=(e+ss)/kc;return function(u,f){if(u.is0(f))return f;if(XT(u,f)!==1)throw new Error("Cannot find square root");let h=n,p=u.mul(u.ONE,a),g=u.pow(f,e),y=u.pow(f,c);for(;!u.eql(g,u.ONE);){if(u.is0(g))return u.ZERO;let b=1,v=u.sqr(g);for(;!u.eql(v,u.ONE);)if(b++,v=u.sqr(v),b===h)throw new Error("Cannot find square root");const E=ss<<BigInt(h-b-1),A=u.pow(p,E);h=b,p=u.sqr(A),g=u.mul(g,p),y=u.mul(y,A)}return y}}function YX(t){return t%aO===WX?uO:t%lO===cO?KX:GX(t)}const XX=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function QX(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"number",BITS:"number"},n=XX.reduce((s,i)=>(s[i]="function",s),e);return Hm(t,n),t}function ZX(t,e,n){if(n<Ns)throw new Error("invalid exponent, negatives unsupported");if(n===Ns)return t.ONE;if(n===ss)return e;let s=t.ONE,i=e;for(;n>Ns;)n&ss&&(s=t.mul(s,i)),i=t.sqr(i),n>>=ss;return s}function fO(t,e,n=!1){const s=new Array(e.length).fill(n?t.ZERO:void 0),i=e.reduce((c,u,f)=>t.is0(u)?c:(s[f]=c,t.mul(c,u)),t.ONE),a=t.inv(i);return e.reduceRight((c,u,f)=>t.is0(u)?c:(s[f]=t.mul(c,s[f]),t.mul(c,u)),a),s}function XT(t,e){const n=(t.ORDER-ss)/kc,s=t.pow(e,n),i=t.eql(s,t.ONE),a=t.eql(s,t.ZERO),c=t.eql(s,t.neg(t.ONE));if(!i&&!a&&!c)throw new Error("invalid Legendre symbol result");return i?1:a?0:-1}function JX(t,e){e!==void 0&&To(e);const n=e!==void 0?e:t.toString(2).length,s=Math.ceil(n/8);return{nBitLength:n,nByteLength:s}}function pf(t,e,n=!1,s={}){if(t<=Ns)throw new Error("invalid field: expected ORDER > 0, got "+t);let i,a;if(typeof e=="object"&&e!=null){if(s.sqrt||n)throw new Error("cannot specify opts in two arguments");const p=e;p.BITS&&(i=p.BITS),p.sqrt&&(a=p.sqrt),typeof p.isLE=="boolean"&&(n=p.isLE)}else typeof e=="number"&&(i=e),s.sqrt&&(a=s.sqrt);const{nBitLength:c,nByteLength:u}=JX(t,i);if(u>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let f;const h=Object.freeze({ORDER:t,isLE:n,BITS:c,BYTES:u,MASK:zm(c),ZERO:Ns,ONE:ss,create:p=>Ei(p,t),isValid:p=>{if(typeof p!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof p);return Ns<=p&&p<t},is0:p=>p===Ns,isValidNot0:p=>!h.is0(p)&&h.isValid(p),isOdd:p=>(p&ss)===ss,neg:p=>Ei(-p,t),eql:(p,g)=>p===g,sqr:p=>Ei(p*p,t),add:(p,g)=>Ei(p+g,t),sub:(p,g)=>Ei(p-g,t),mul:(p,g)=>Ei(p*g,t),pow:(p,g)=>ZX(h,p,g),div:(p,g)=>Ei(p*YT(g,t),t),sqrN:p=>p*p,addN:(p,g)=>p+g,subN:(p,g)=>p-g,mulN:(p,g)=>p*g,inv:p=>YT(p,t),sqrt:a||(p=>(f||(f=YX(t)),f(h,p))),toBytes:p=>n?JE(p,u):ZE(p,u),fromBytes:p=>{if(p.length!==u)throw new Error("Field.fromBytes: expected "+u+" bytes, got "+p.length);return n?gm(p):jm(p)},invertBatch:p=>fO(h,p),cmov:(p,g,y)=>y?g:p});return Object.freeze(h)}function dO(t){if(typeof t!="bigint")throw new Error("field order must be bigint");const e=t.toString(2).length;return Math.ceil(e/8)}function hO(t){const e=dO(t);return e+Math.ceil(e/2)}function eQ(t,e,n=!1){const s=t.length,i=dO(e),a=hO(e);if(s<16||s<a||s>1024)throw new Error("expected "+a+"-1024 bytes of input, got "+s);const c=n?gm(t):jm(t),u=Ei(c,e-ss)+ss;return n?JE(u,i):ZE(u,i)}const Gu=BigInt(0),Bc=BigInt(1);function th(t,e){const n=e.negate();return t?n:e}function tQ(t,e,n){const s=a=>a.pz,i=fO(t.Fp,n.map(s));return n.map((a,c)=>a.toAffine(i[c])).map(t.fromAffine)}function pO(t,e){if(!Number.isSafeInteger(t)||t<=0||t>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+t)}function wb(t,e){pO(t,e);const n=Math.ceil(e/t)+1,s=2**(t-1),i=2**t,a=zm(t),c=BigInt(t);return{windows:n,windowSize:s,mask:a,maxNumber:i,shiftBy:c}}function QT(t,e,n){const{windowSize:s,mask:i,maxNumber:a,shiftBy:c}=n;let u=Number(t&i),f=t>>c;u>s&&(u-=a,f+=Bc);const h=e*s,p=h+Math.abs(u)-1,g=u===0,y=u<0,b=e%2!==0;return{nextN:f,offset:p,isZero:g,isNeg:y,isNegF:b,offsetF:h}}function nQ(t,e){if(!Array.isArray(t))throw new Error("array expected");t.forEach((n,s)=>{if(!(n instanceof e))throw new Error("invalid point at index "+s)})}function sQ(t,e){if(!Array.isArray(t))throw new Error("array of scalars expected");t.forEach((n,s)=>{if(!e.isValid(n))throw new Error("invalid scalar at index "+s)})}const bb=new WeakMap,gO=new WeakMap;function vb(t){return gO.get(t)||1}function ZT(t){if(t!==Gu)throw new Error("invalid wNAF")}function iQ(t,e){return{constTimeNegate:th,hasPrecomputes(n){return vb(n)!==1},unsafeLadder(n,s,i=t.ZERO){let a=n;for(;s>Gu;)s&Bc&&(i=i.add(a)),a=a.double(),s>>=Bc;return i},precomputeWindow(n,s){const{windows:i,windowSize:a}=wb(s,e),c=[];let u=n,f=u;for(let h=0;h<i;h++){f=u,c.push(f);for(let p=1;p<a;p++)f=f.add(u),c.push(f);u=f.double()}return c},wNAF(n,s,i){let a=t.ZERO,c=t.BASE;const u=wb(n,e);for(let f=0;f<u.windows;f++){const{nextN:h,offset:p,isZero:g,isNeg:y,isNegF:b,offsetF:v}=QT(i,f,u);i=h,g?c=c.add(th(b,s[v])):a=a.add(th(y,s[p]))}return ZT(i),{p:a,f:c}},wNAFUnsafe(n,s,i,a=t.ZERO){const c=wb(n,e);for(let u=0;u<c.windows&&i!==Gu;u++){const{nextN:f,offset:h,isZero:p,isNeg:g}=QT(i,u,c);if(i=f,!p){const y=s[h];a=a.add(g?y.negate():y)}}return ZT(i),a},getPrecomputes(n,s,i){let a=bb.get(s);return a||(a=this.precomputeWindow(s,n),n!==1&&(typeof i=="function"&&(a=i(a)),bb.set(s,a))),a},wNAFCached(n,s,i){const a=vb(n);return this.wNAF(a,this.getPrecomputes(a,n,i),s)},wNAFCachedUnsafe(n,s,i,a){const c=vb(n);return c===1?this.unsafeLadder(n,s,a):this.wNAFUnsafe(c,this.getPrecomputes(c,n,i),s,a)},setWindowSize(n,s){pO(s,e),gO.set(n,s),bb.delete(n)}}}function rQ(t,e,n,s){let i=e,a=t.ZERO,c=t.ZERO;for(;n>Gu||s>Gu;)n&Bc&&(a=a.add(i)),s&Bc&&(c=c.add(i)),i=i.double(),n>>=Bc,s>>=Bc;return{p1:a,p2:c}}function oQ(t,e,n,s){nQ(n,t),sQ(s,e);const i=n.length,a=s.length;if(i!==a)throw new Error("arrays of points and scalars must have equal length");const c=t.ZERO,u=qX(BigInt(i));let f=1;u>12?f=u-3:u>4?f=u-2:u>0&&(f=2);const h=zm(f),p=new Array(Number(h)+1).fill(c),g=Math.floor((e.BITS-1)/f)*f;let y=c;for(let b=g;b>=0;b-=f){p.fill(c);for(let E=0;E<a;E++){const A=s[E],x=Number(A>>BigInt(b)&h);p[x]=p[x].add(n[E])}let v=c;for(let E=p.length-1,A=c;E>0;E--)A=A.add(p[E]),v=v.add(A);if(y=y.add(v),b!==0)for(let E=0;E<f;E++)y=y.double()}return y}function JT(t,e){if(e){if(e.ORDER!==t)throw new Error("Field.ORDER must match order: Fp == p, Fn == n");return QX(e),e}else return pf(t)}function aQ(t,e,n={}){if(!e||typeof e!="object")throw new Error(`expected valid ${t} CURVE object`);for(const c of["p","n","h"]){const u=e[c];if(!(typeof u=="bigint"&&u>Gu))throw new Error(`CURVE.${c} must be positive bigint`)}const s=JT(e.p,n.Fp),i=JT(e.n,n.Fn),a=["Gx","Gy","a","b"];for(const c of a)if(!s.isValid(e[c]))throw new Error(`CURVE.${c} must be valid field element of CURVE.Fp`);return{Fp:s,Fn:i}}BigInt(0),BigInt(1),BigInt(2),BigInt(8);const _d=BigInt(0),au=BigInt(1),u0=BigInt(2);function cQ(t){return Hm(t,{adjustScalarBytes:"function",powPminus2:"function"}),Object.freeze({...t})}function lQ(t){const e=cQ(t),{P:n,type:s,adjustScalarBytes:i,powPminus2:a,randomBytes:c}=e,u=s==="x25519";if(!u&&s!=="x448")throw new Error("invalid type");const f=c||hf,h=u?255:448,p=u?32:56,g=BigInt(u?9:5),y=BigInt(u?121665:39081),b=u?u0**BigInt(254):u0**BigInt(447),v=u?BigInt(8)*u0**BigInt(251)-au:BigInt(4)*u0**BigInt(445)-au,E=b+v+au,A=M=>Ei(M,n),x=D(g);function D(M){return JE(A(M),p)}function S(M){const z=As("u coordinate",M,p);return u&&(z[31]&=127),A(gm(z))}function N(M){return gm(i(As("scalar",M,p)))}function T(M,z){const q=P(S(z),N(M));if(q===_d)throw new Error("invalid private or public key received");return D(q)}function I(M){return T(M,x)}function $(M,z,q){const F=A(M*(z-q));return z=A(z-F),q=A(q+F),{x_2:z,x_3:q}}function P(M,z){Qv("u",M,_d,n),Qv("scalar",z,b,E);const q=z,F=M;let ee=au,Q=_d,R=M,_=au,k=_d;for(let G=BigInt(h-1);G>=_d;G--){const V=q>>G&au;k^=V,{x_2:ee,x_3:R}=$(k,ee,R),{x_2:Q,x_3:_}=$(k,Q,_),k=V;const U=ee+Q,K=A(U*U),te=ee-Q,ie=A(te*te),ue=K-ie,pe=R+_,xe=R-_,ke=A(xe*U),Te=A(pe*te),mt=ke+Te,Ot=ke-Te;R=A(mt*mt),_=A(F*A(Ot*Ot)),ee=A(K*ie),Q=A(ue*(K+A(y*ue)))}({x_2:ee,x_3:R}=$(k,ee,R)),{x_2:Q,x_3:_}=$(k,Q,_);const H=a(Q);return A(ee*H)}return{scalarMult:T,scalarMultBase:I,getSharedSecret:(M,z)=>T(M,z),getPublicKey:M=>I(M),utils:{randomPrivateKey:()=>f(p)},GuBytes:x.slice()}}BigInt(0);const uQ=BigInt(1),e_=BigInt(2),fQ=BigInt(3),dQ=BigInt(5);BigInt(8);const mO={p:BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffed"),n:BigInt("0x1000000000000000000000000000000014def9dea2f79cd65812631a5cf5d3ed"),a:BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffec"),d:BigInt("0x52036cee2b6ffe738cc740797779e89800700a4d4141d8ab75eb4dca135978a3"),Gx:BigInt("0x216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a"),Gy:BigInt("0x6666666666666666666666666666666666666666666666666666666666666658")};function hQ(t){const e=BigInt(10),n=BigInt(20),s=BigInt(40),i=BigInt(80),a=mO.p,c=t*t%a*t%a,u=Hi(c,e_,a)*c%a,f=Hi(u,uQ,a)*t%a,h=Hi(f,dQ,a)*f%a,p=Hi(h,e,a)*h%a,g=Hi(p,n,a)*p%a,y=Hi(g,s,a)*g%a,b=Hi(y,i,a)*y%a,v=Hi(b,i,a)*y%a,E=Hi(v,e,a)*h%a;return{pow_p_5_8:Hi(E,e_,a)*t%a,b2:c}}function pQ(t){return t[0]&=248,t[31]&=127,t[31]|=64,t}const Zv=(()=>{const t=mO.p;return lQ({P:t,type:"x25519",powPminus2:e=>{const{pow_p_5_8:n,b2:s}=hQ(e);return Ei(Hi(n,fQ,t)*s,t)},adjustScalarBytes:pQ})})();function t_(t){t.lowS!==void 0&&pm("lowS",t.lowS),t.prehash!==void 0&&pm("prehash",t.prehash)}class gQ extends Error{constructor(e=""){super(e)}}const go={Err:gQ,_tlv:{encode:(t,e)=>{const{Err:n}=go;if(t<0||t>256)throw new n("tlv.encode: wrong tag");if(e.length&1)throw new n("tlv.encode: unpadded data");const s=e.length/2,i=l0(s);if(i.length/2&128)throw new n("tlv.encode: long form length too big");const a=s>127?l0(i.length/2|128):"";return l0(t)+a+i+e},decode(t,e){const{Err:n}=go;let s=0;if(t<0||t>256)throw new n("tlv.encode: wrong tag");if(e.length<2||e[s++]!==t)throw new n("tlv.decode: wrong tlv");const i=e[s++],a=!!(i&128);let c=0;if(!a)c=i;else{const f=i&127;if(!f)throw new n("tlv.decode(long): indefinite length not supported");if(f>4)throw new n("tlv.decode(long): byte length is too big");const h=e.subarray(s,s+f);if(h.length!==f)throw new n("tlv.decode: length bytes not complete");if(h[0]===0)throw new n("tlv.decode(long): zero leftmost byte");for(const p of h)c=c<<8|p;if(s+=f,c<128)throw new n("tlv.decode(long): not minimal encoding")}const u=e.subarray(s,s+c);if(u.length!==c)throw new n("tlv.decode: wrong value length");return{v:u,l:e.subarray(s+c)}}},_int:{encode(t){const{Err:e}=go;if(t<nh)throw new e("integer: negative integers are not allowed");let n=l0(t);if(Number.parseInt(n[0],16)&8&&(n="00"+n),n.length&1)throw new e("unexpected DER parsing assertion: unpadded hex");return n},decode(t){const{Err:e}=go;if(t[0]&128)throw new e("invalid signature integer: negative");if(t[0]===0&&!(t[1]&128))throw new e("invalid signature integer: unnecessary leading zero");return jm(t)}},toSig(t){const{Err:e,_int:n,_tlv:s}=go,i=As("signature",t),{v:a,l:c}=s.decode(48,i);if(c.length)throw new e("invalid signature: left bytes after parsing");const{v:u,l:f}=s.decode(2,a),{v:h,l:p}=s.decode(2,f);if(p.length)throw new e("invalid signature: left bytes after parsing");return{r:n.decode(u),s:n.decode(h)}},hexFromSig(t){const{_tlv:e,_int:n}=go,s=e.encode(2,n.encode(t.r)),i=e.encode(2,n.encode(t.s)),a=s+i;return e.encode(48,a)}},nh=BigInt(0),sh=BigInt(1),mQ=BigInt(2),f0=BigInt(3),yQ=BigInt(4);function wQ(t,e,n){function s(i){const a=t.sqr(i),c=t.mul(a,i);return t.add(t.add(c,t.mul(i,e)),n)}return s}function yO(t,e,n){const{BYTES:s}=t;function i(a){let c;if(typeof a=="bigint")c=a;else{let u=As("private key",a);if(e){if(!e.includes(u.length*2))throw new Error("invalid private key");const f=new Uint8Array(s);f.set(u,f.length-u.length),u=f}try{c=t.fromBytes(u)}catch{throw new Error(`invalid private key: expected ui8a of size ${s}, got ${typeof a}`)}}if(n&&(c=t.create(c)),!t.isValidNot0(c))throw new Error("invalid private key: out of range [1..N-1]");return c}return i}function bQ(t,e={}){const{Fp:n,Fn:s}=aQ("weierstrass",t,e),{h:i,n:a}=t;Hm(e,{},{allowInfinityPoint:"boolean",clearCofactor:"function",isTorsionFree:"function",fromBytes:"function",toBytes:"function",endo:"object",wrapPrivateKey:"boolean"});const{endo:c}=e;if(c&&(!n.is0(t.a)||typeof c.beta!="bigint"||typeof c.splitScalar!="function"))throw new Error('invalid endo: expected "beta": bigint and "splitScalar": function');function u(){if(!n.isOdd)throw new Error("compression is not supported: Field does not have .isOdd()")}function f(P,M,z){const{x:q,y:F}=M.toAffine(),ee=n.toBytes(q);if(pm("isCompressed",z),z){u();const Q=!n.isOdd(F);return Lc(wO(Q),ee)}else return Lc(Uint8Array.of(4),ee,n.toBytes(F))}function h(P){xi(P);const M=n.BYTES,z=M+1,q=2*M+1,F=P.length,ee=P[0],Q=P.subarray(1);if(F===z&&(ee===2||ee===3)){const R=n.fromBytes(Q);if(!n.isValid(R))throw new Error("bad point: is not on curve, wrong x");const _=y(R);let k;try{k=n.sqrt(_)}catch(G){const V=G instanceof Error?": "+G.message:"";throw new Error("bad point: is not on curve, sqrt error"+V)}u();const H=n.isOdd(k);return(ee&1)===1!==H&&(k=n.neg(k)),{x:R,y:k}}else if(F===q&&ee===4){const R=n.fromBytes(Q.subarray(M*0,M*1)),_=n.fromBytes(Q.subarray(M*1,M*2));if(!b(R,_))throw new Error("bad point: is not on curve");return{x:R,y:_}}else throw new Error(`bad point: got length ${F}, expected compressed=${z} or uncompressed=${q}`)}const p=e.toBytes||f,g=e.fromBytes||h,y=wQ(n,t.a,t.b);function b(P,M){const z=n.sqr(M),q=y(P);return n.eql(z,q)}if(!b(t.Gx,t.Gy))throw new Error("bad curve params: generator point");const v=n.mul(n.pow(t.a,f0),yQ),E=n.mul(n.sqr(t.b),BigInt(27));if(n.is0(n.add(v,E)))throw new Error("bad curve params: a or b");function A(P,M,z=!1){if(!n.isValid(M)||z&&n.is0(M))throw new Error(`bad point coordinate ${P}`);return M}function x(P){if(!(P instanceof T))throw new Error("ProjectivePoint expected")}const D=GT((P,M)=>{const{px:z,py:q,pz:F}=P;if(n.eql(F,n.ONE))return{x:z,y:q};const ee=P.is0();M==null&&(M=ee?n.ONE:n.inv(F));const Q=n.mul(z,M),R=n.mul(q,M),_=n.mul(F,M);if(ee)return{x:n.ZERO,y:n.ZERO};if(!n.eql(_,n.ONE))throw new Error("invZ was invalid");return{x:Q,y:R}}),S=GT(P=>{if(P.is0()){if(e.allowInfinityPoint&&!n.is0(P.py))return;throw new Error("bad point: ZERO")}const{x:M,y:z}=P.toAffine();if(!n.isValid(M)||!n.isValid(z))throw new Error("bad point: x or y not field elements");if(!b(M,z))throw new Error("bad point: equation left != right");if(!P.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});function N(P,M,z,q,F){return z=new T(n.mul(z.px,P),z.py,z.pz),M=th(q,M),z=th(F,z),M.add(z)}class T{constructor(M,z,q){this.px=A("x",M),this.py=A("y",z,!0),this.pz=A("z",q),Object.freeze(this)}static fromAffine(M){const{x:z,y:q}=M||{};if(!M||!n.isValid(z)||!n.isValid(q))throw new Error("invalid affine point");if(M instanceof T)throw new Error("projective point not allowed");return n.is0(z)&&n.is0(q)?T.ZERO:new T(z,q,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(M){return tQ(T,"pz",M)}static fromBytes(M){return xi(M),T.fromHex(M)}static fromHex(M){const z=T.fromAffine(g(As("pointHex",M)));return z.assertValidity(),z}static fromPrivateKey(M){const z=yO(s,e.allowedPrivateKeyLengths,e.wrapPrivateKey);return T.BASE.multiply(z(M))}static msm(M,z){return oQ(T,s,M,z)}precompute(M=8,z=!0){return $.setWindowSize(this,M),z||this.multiply(f0),this}_setWindowSize(M){this.precompute(M)}assertValidity(){S(this)}hasEvenY(){const{y:M}=this.toAffine();if(!n.isOdd)throw new Error("Field doesn't support isOdd");return!n.isOdd(M)}equals(M){x(M);const{px:z,py:q,pz:F}=this,{px:ee,py:Q,pz:R}=M,_=n.eql(n.mul(z,R),n.mul(ee,F)),k=n.eql(n.mul(q,R),n.mul(Q,F));return _&&k}negate(){return new T(this.px,n.neg(this.py),this.pz)}double(){const{a:M,b:z}=t,q=n.mul(z,f0),{px:F,py:ee,pz:Q}=this;let R=n.ZERO,_=n.ZERO,k=n.ZERO,H=n.mul(F,F),G=n.mul(ee,ee),V=n.mul(Q,Q),U=n.mul(F,ee);return U=n.add(U,U),k=n.mul(F,Q),k=n.add(k,k),R=n.mul(M,k),_=n.mul(q,V),_=n.add(R,_),R=n.sub(G,_),_=n.add(G,_),_=n.mul(R,_),R=n.mul(U,R),k=n.mul(q,k),V=n.mul(M,V),U=n.sub(H,V),U=n.mul(M,U),U=n.add(U,k),k=n.add(H,H),H=n.add(k,H),H=n.add(H,V),H=n.mul(H,U),_=n.add(_,H),V=n.mul(ee,Q),V=n.add(V,V),H=n.mul(V,U),R=n.sub(R,H),k=n.mul(V,G),k=n.add(k,k),k=n.add(k,k),new T(R,_,k)}add(M){x(M);const{px:z,py:q,pz:F}=this,{px:ee,py:Q,pz:R}=M;let _=n.ZERO,k=n.ZERO,H=n.ZERO;const G=t.a,V=n.mul(t.b,f0);let U=n.mul(z,ee),K=n.mul(q,Q),te=n.mul(F,R),ie=n.add(z,q),ue=n.add(ee,Q);ie=n.mul(ie,ue),ue=n.add(U,K),ie=n.sub(ie,ue),ue=n.add(z,F);let pe=n.add(ee,R);return ue=n.mul(ue,pe),pe=n.add(U,te),ue=n.sub(ue,pe),pe=n.add(q,F),_=n.add(Q,R),pe=n.mul(pe,_),_=n.add(K,te),pe=n.sub(pe,_),H=n.mul(G,ue),_=n.mul(V,te),H=n.add(_,H),_=n.sub(K,H),H=n.add(K,H),k=n.mul(_,H),K=n.add(U,U),K=n.add(K,U),te=n.mul(G,te),ue=n.mul(V,ue),K=n.add(K,te),te=n.sub(U,te),te=n.mul(G,te),ue=n.add(ue,te),U=n.mul(K,ue),k=n.add(k,U),U=n.mul(pe,ue),_=n.mul(ie,_),_=n.sub(_,U),U=n.mul(ie,K),H=n.mul(pe,H),H=n.add(H,U),new T(_,k,H)}subtract(M){return this.add(M.negate())}is0(){return this.equals(T.ZERO)}multiply(M){const{endo:z}=e;if(!s.isValidNot0(M))throw new Error("invalid scalar: out of range");let q,F;const ee=Q=>$.wNAFCached(this,Q,T.normalizeZ);if(z){const{k1neg:Q,k1:R,k2neg:_,k2:k}=z.splitScalar(M),{p:H,f:G}=ee(R),{p:V,f:U}=ee(k);F=G.add(U),q=N(z.beta,H,V,Q,_)}else{const{p:Q,f:R}=ee(M);q=Q,F=R}return T.normalizeZ([q,F])[0]}multiplyUnsafe(M){const{endo:z}=e,q=this;if(!s.isValid(M))throw new Error("invalid scalar: out of range");if(M===nh||q.is0())return T.ZERO;if(M===sh)return q;if($.hasPrecomputes(this))return this.multiply(M);if(z){const{k1neg:F,k1:ee,k2neg:Q,k2:R}=z.splitScalar(M),{p1:_,p2:k}=rQ(T,q,ee,R);return N(z.beta,_,k,F,Q)}else return $.wNAFCachedUnsafe(q,M)}multiplyAndAddUnsafe(M,z,q){const F=this.multiplyUnsafe(z).add(M.multiplyUnsafe(q));return F.is0()?void 0:F}toAffine(M){return D(this,M)}isTorsionFree(){const{isTorsionFree:M}=e;return i===sh?!0:M?M(T,this):$.wNAFCachedUnsafe(this,a).is0()}clearCofactor(){const{clearCofactor:M}=e;return i===sh?this:M?M(T,this):this.multiplyUnsafe(i)}toBytes(M=!0){return pm("isCompressed",M),this.assertValidity(),p(T,this,M)}toRawBytes(M=!0){return this.toBytes(M)}toHex(M=!0){return _h(this.toBytes(M))}toString(){return`<Point ${this.is0()?"ZERO":this.toHex()}>`}}T.BASE=new T(t.Gx,t.Gy,n.ONE),T.ZERO=new T(n.ZERO,n.ONE,n.ZERO),T.Fp=n,T.Fn=s;const I=s.BITS,$=iQ(T,e.endo?Math.ceil(I/2):I);return T}function wO(t){return Uint8Array.of(t?2:3)}function vQ(t,e,n={}){Hm(e,{hash:"function"},{hmac:"function",lowS:"boolean",randomBytes:"function",bits2int:"function",bits2int_modN:"function"});const s=e.randomBytes||hf,i=e.hmac||((q,...F)=>km(e.hash,q,Lc(...F))),{Fp:a,Fn:c}=t,{ORDER:u,BITS:f}=c;function h(q){const F=u>>sh;return q>F}function p(q){return h(q)?c.neg(q):q}function g(q,F){if(!c.isValidNot0(F))throw new Error(`invalid signature ${q}: out of range 1..CURVE.n`)}class y{constructor(F,ee,Q){g("r",F),g("s",ee),this.r=F,this.s=ee,Q!=null&&(this.recovery=Q),Object.freeze(this)}static fromCompact(F){const ee=c.BYTES,Q=As("compactSignature",F,ee*2);return new y(c.fromBytes(Q.subarray(0,ee)),c.fromBytes(Q.subarray(ee,ee*2)))}static fromDER(F){const{r:ee,s:Q}=go.toSig(As("DER",F));return new y(ee,Q)}assertValidity(){}addRecoveryBit(F){return new y(this.r,this.s,F)}recoverPublicKey(F){const ee=a.ORDER,{r:Q,s:R,recovery:_}=this;if(_==null||![0,1,2,3].includes(_))throw new Error("recovery id invalid");if(u*mQ<ee&&_>1)throw new Error("recovery id is ambiguous for h>1 curve");const k=_===2||_===3?Q+u:Q;if(!a.isValid(k))throw new Error("recovery id 2 or 3 invalid");const H=a.toBytes(k),G=t.fromHex(Lc(wO((_&1)===0),H)),V=c.inv(k),U=S(As("msgHash",F)),K=c.create(-U*V),te=c.create(R*V),ie=t.BASE.multiplyUnsafe(K).add(G.multiplyUnsafe(te));if(ie.is0())throw new Error("point at infinify");return ie.assertValidity(),ie}hasHighS(){return h(this.s)}normalizeS(){return this.hasHighS()?new y(this.r,c.neg(this.s),this.recovery):this}toBytes(F){if(F==="compact")return Lc(c.toBytes(this.r),c.toBytes(this.s));if(F==="der")return GE(go.hexFromSig(this));throw new Error("invalid format")}toDERRawBytes(){return this.toBytes("der")}toDERHex(){return _h(this.toBytes("der"))}toCompactRawBytes(){return this.toBytes("compact")}toCompactHex(){return _h(this.toBytes("compact"))}}const b=yO(c,n.allowedPrivateKeyLengths,n.wrapPrivateKey),v={isValidPrivateKey(q){try{return b(q),!0}catch{return!1}},normPrivateKeyToScalar:b,randomPrivateKey:()=>{const q=u;return eQ(s(hO(q)),q)},precompute(q=8,F=t.BASE){return F.precompute(q,!1)}};function E(q,F=!0){return t.fromPrivateKey(q).toBytes(F)}function A(q){if(typeof q=="bigint")return!1;if(q instanceof t)return!0;const F=As("key",q).length,ee=a.BYTES,Q=ee+1,R=2*ee+1;if(!(n.allowedPrivateKeyLengths||c.BYTES===Q))return F===Q||F===R}function x(q,F,ee=!0){if(A(q)===!0)throw new Error("first arg must be private key");if(A(F)===!1)throw new Error("second arg must be public key");return t.fromHex(F).multiply(b(q)).toBytes(ee)}const D=e.bits2int||function(q){if(q.length>8192)throw new Error("input is too large");const F=jm(q),ee=q.length*8-f;return ee>0?F>>BigInt(ee):F},S=e.bits2int_modN||function(q){return c.create(D(q))},N=zm(f);function T(q){return Qv("num < 2^"+f,q,nh,N),c.toBytes(q)}function I(q,F,ee=$){if(["recovered","canonical"].some(ie=>ie in ee))throw new Error("sign() legacy options not supported");const{hash:Q}=e;let{lowS:R,prehash:_,extraEntropy:k}=ee;R==null&&(R=!0),q=As("msgHash",q),t_(ee),_&&(q=As("prehashed msgHash",Q(q)));const H=S(q),G=b(F),V=[T(G),T(H)];if(k!=null&&k!==!1){const ie=k===!0?s(a.BYTES):k;V.push(As("extraEntropy",ie))}const U=Lc(...V),K=H;function te(ie){const ue=D(ie);if(!c.isValidNot0(ue))return;const pe=c.inv(ue),xe=t.BASE.multiply(ue).toAffine(),ke=c.create(xe.x);if(ke===nh)return;const Te=c.create(pe*c.create(K+ke*G));if(Te===nh)return;let mt=(xe.x===ke?0:2)|Number(xe.y&sh),Ot=Te;return R&&h(Te)&&(Ot=p(Te),mt^=1),new y(ke,Ot,mt)}return{seed:U,k2sig:te}}const $={lowS:e.lowS,prehash:!1},P={lowS:e.lowS,prehash:!1};function M(q,F,ee=$){const{seed:Q,k2sig:R}=I(q,F,ee);return VX(e.hash.outputLen,c.BYTES,i)(Q,R)}t.BASE.precompute(8);function z(q,F,ee,Q=P){const R=q;F=As("msgHash",F),ee=As("publicKey",ee),t_(Q);const{lowS:_,prehash:k,format:H}=Q;if("strict"in Q)throw new Error("options.strict was renamed to lowS");if(H!==void 0&&!["compact","der","js"].includes(H))throw new Error('format must be "compact", "der" or "js"');const G=typeof R=="string"||VE(R),V=!G&&!H&&typeof R=="object"&&R!==null&&typeof R.r=="bigint"&&typeof R.s=="bigint";if(!G&&!V)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");let U,K;try{if(V)if(H===void 0||H==="js")U=new y(R.r,R.s);else throw new Error("invalid format");if(G){try{H!=="compact"&&(U=y.fromDER(R))}catch(mt){if(!(mt instanceof go.Err))throw mt}!U&&H!=="der"&&(U=y.fromCompact(R))}K=t.fromHex(ee)}catch{return!1}if(!U||_&&U.hasHighS())return!1;k&&(F=e.hash(F));const{r:te,s:ie}=U,ue=S(F),pe=c.inv(ie),xe=c.create(ue*pe),ke=c.create(te*pe),Te=t.BASE.multiplyUnsafe(xe).add(K.multiplyUnsafe(ke));return Te.is0()?!1:c.create(Te.x)===te}return Object.freeze({getPublicKey:E,getSharedSecret:x,sign:M,verify:z,utils:v,Point:t,Signature:y})}function EQ(t){const e={a:t.a,b:t.b,p:t.Fp.ORDER,n:t.n,h:t.h,Gx:t.Gx,Gy:t.Gy},n=t.Fp,s=pf(e.n,t.nBitLength),i={Fp:n,Fn:s,allowedPrivateKeyLengths:t.allowedPrivateKeyLengths,allowInfinityPoint:t.allowInfinityPoint,endo:t.endo,wrapPrivateKey:t.wrapPrivateKey,isTorsionFree:t.isTorsionFree,clearCofactor:t.clearCofactor,fromBytes:t.fromBytes,toBytes:t.toBytes};return{CURVE:e,curveOpts:i}}function AQ(t){const{CURVE:e,curveOpts:n}=EQ(t),s={hash:t.hash,hmac:t.hmac,randomBytes:t.randomBytes,lowS:t.lowS,bits2int:t.bits2int,bits2int_modN:t.bits2int_modN};return{CURVE:e,curveOpts:n,ecdsaOpts:s}}function CQ(t,e){return Object.assign({},e,{ProjectivePoint:e.Point,CURVE:t})}function SQ(t){const{CURVE:e,curveOpts:n,ecdsaOpts:s}=AQ(t),i=bQ(e,n),a=vQ(i,s,n);return CQ(t,a)}function Jv(t,e){const n=s=>SQ({...t,hash:s});return{...n(e),create:n}}const bO={p:BigInt("0xffffffff00000001000000000000000000000000ffffffffffffffffffffffff"),n:BigInt("0xffffffff00000000ffffffffffffffffbce6faada7179e84f3b9cac2fc632551"),h:BigInt(1),a:BigInt("0xffffffff00000001000000000000000000000000fffffffffffffffffffffffc"),b:BigInt("0x5ac635d8aa3a93e7b3ebbd55769886bc651d06b0cc53b0f63bce3c3e27d2604b"),Gx:BigInt("0x6b17d1f2e12c4247f8bce6e563a440f277037d812deb33a0f4a13945d898c296"),Gy:BigInt("0x4fe342e2fe1a7f9b8ee7eb4a7c0f9e162bce33576b315ececbb6406837bf51f5")},vO={p:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffeffffffff0000000000000000ffffffff"),n:BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffc7634d81f4372ddf581a0db248b0a77aecec196accc52973"),h:BigInt(1),a:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffeffffffff0000000000000000fffffffc"),b:BigInt("0xb3312fa7e23ee7e4988e056be3f82d19181d9c6efe8141120314088f5013875ac656398d8a2ed19d2a85c8edd3ec2aef"),Gx:BigInt("0xaa87ca22be8b05378eb1c71ef320ad746e1d3b628ba79b9859f741e082542a385502f25dbf55296c3a545e3872760ab7"),Gy:BigInt("0x3617de4a96262c6f5d9e98bf9292dc29f8f41dbd289a147ce9da3113b5f0b8c00a60b1ce1d7e819d7a431d7c90ea0e5f")},EO={p:BigInt("0x1ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),n:BigInt("0x01fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffa51868783bf2f966b7fcc0148f709a5d03bb5c9b8899c47aebb6fb71e91386409"),h:BigInt(1),a:BigInt("0x1fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc"),b:BigInt("0x0051953eb9618e1c9a1f929a21a0b68540eea2da725b99b315f3b8b489918ef109e156193951ec7e937b1652c0bd3bb1bf073573df883d2c34f1ef451fd46b503f00"),Gx:BigInt("0x00c6858e06b70404e9cd9e3ecb662395b4429c648139053fb521f828af606b4d3dbaa14b5e77efe75928fe1dc127a2ffa8de3348b3c1856a429bf97e7e31c2e5bd66"),Gy:BigInt("0x011839296a789a3bc0045c8a5fb42c7d1bd998f54449579b446817afbd17273e662c97ee72995ef42640c550b9013fad0761353c7086a272c24088be94769fd16650")},xQ=pf(bO.p),NQ=pf(vO.p),TQ=pf(EO.p),_Q=Jv({...bO,Fp:xQ,lowS:!1},Lm);Jv({...vO,Fp:NQ,lowS:!1},PY),Jv({...EO,Fp:TQ,lowS:!1,allowedPrivateKeyLengths:[130,131,132]},UY);const IQ=_Q,AO="base10",is="base16",Ki="base64pad",Na="base64url",wp="utf8",CO=0,bo=1,bp=2,DQ=0,n_=1,ih=12,eA=32;function OQ(){const t=Zv.utils.randomPrivateKey(),e=Zv.getPublicKey(t);return{privateKey:Ts(t,is),publicKey:Ts(e,is)}}function e2(){const t=hf(eA);return Ts(t,is)}function MQ(t,e){const n=Zv.getSharedSecret(Ci(t,is),Ci(e,is)),s=HX(Bm,n,void 0,void 0,eA);return Ts(s,is)}function L0(t){const e=Bm(Ci(t,is));return Ts(e,is)}function br(t){const e=Bm(Ci(t,wp));return Ts(e,is)}function SO(t){return Ci(`${t}`,AO)}function Zc(t){return Number(Ts(t,AO))}function xO(t){return t.replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}function NO(t){const e=t.replace(/-/g,"+").replace(/_/g,"/"),n=(4-e.length%4)%4;return e+"=".repeat(n)}function RQ(t){const e=SO(typeof t.type<"u"?t.type:CO);if(Zc(e)===bo&&typeof t.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");const n=typeof t.senderPublicKey<"u"?Ci(t.senderPublicKey,is):void 0,s=typeof t.iv<"u"?Ci(t.iv,is):hf(ih),i=Ci(t.symKey,is),a=iO(i,s).encrypt(Ci(t.message,wp)),c=TO({type:e,sealed:a,iv:s,senderPublicKey:n});return t.encoding===Na?xO(c):c}function $Q(t){const e=Ci(t.symKey,is),{sealed:n,iv:s}=Dh({encoded:t.encoded,encoding:t.encoding}),i=iO(e,s).decrypt(n);if(i===null)throw new Error("Failed to decrypt");return Ts(i,wp)}function UQ(t,e){const n=SO(bp),s=hf(ih),i=Ci(t,wp),a=TO({type:n,sealed:i,iv:s});return e===Na?xO(a):a}function PQ(t,e){const{sealed:n}=Dh({encoded:t,encoding:e});return Ts(n,wp)}function TO(t){if(Zc(t.type)===bp)return Ts(eh([t.type,t.sealed]),Ki);if(Zc(t.type)===bo){if(typeof t.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");return Ts(eh([t.type,t.senderPublicKey,t.iv,t.sealed]),Ki)}return Ts(eh([t.type,t.iv,t.sealed]),Ki)}function Dh(t){const e=(t.encoding||Ki)===Na?NO(t.encoded):t.encoded,n=Ci(e,Ki),s=n.slice(DQ,n_),i=n_;if(Zc(s)===bo){const f=i+eA,h=f+ih,p=n.slice(i,f),g=n.slice(f,h),y=n.slice(h);return{type:s,sealed:y,iv:g,senderPublicKey:p}}if(Zc(s)===bp){const f=n.slice(i),h=hf(ih);return{type:s,sealed:f,iv:h}}const a=i+ih,c=n.slice(i,a),u=n.slice(a);return{type:s,sealed:u,iv:c}}function LQ(t,e){const n=Dh({encoded:t,encoding:e?.encoding});return _O({type:Zc(n.type),senderPublicKey:typeof n.senderPublicKey<"u"?Ts(n.senderPublicKey,is):void 0,receiverPublicKey:e?.receiverPublicKey})}function _O(t){const e=t?.type||CO;if(e===bo){if(typeof t?.senderPublicKey>"u")throw new Error("missing sender public key");if(typeof t?.receiverPublicKey>"u")throw new Error("missing receiver public key")}return{type:e,senderPublicKey:t?.senderPublicKey,receiverPublicKey:t?.receiverPublicKey}}function s_(t){return t.type===bo&&typeof t.senderPublicKey=="string"&&typeof t.receiverPublicKey=="string"}function i_(t){return t.type===bp}function kQ(t){const e=Buffer.from(t.x,"base64"),n=Buffer.from(t.y,"base64");return eh([new Uint8Array([4]),e,n])}function BQ(t,e){const[n,s,i]=t.split("."),a=Buffer.from(NO(i),"base64");if(a.length!==64)throw new Error("Invalid signature length");const c=a.slice(0,32),u=a.slice(32,64),f=`${n}.${s}`,h=Bm(f),p=kQ(e);if(!IQ.verify(eh([c,u]),h,p))throw new Error("Invalid signature");return Uv(t).payload}const jQ="irn";function mm(t){return t?.relay||{protocol:jQ}}function Hd(t){const e=AG[t];if(typeof e>"u")throw new Error(`Relay Protocol not supported: ${t}`);return e}function zQ(t,e="-"){const n={},s="relay"+e;return Object.keys(t).forEach(i=>{if(i.startsWith(s)){const a=i.replace(s,""),c=t[i];n[a]=c}}),n}function r_(t){if(!t.includes("wc:")){const h=BD(t);h!=null&&h.includes("wc:")&&(t=h)}t=t.includes("wc://")?t.replace("wc://",""):t,t=t.includes("wc:")?t.replace("wc:",""):t;const e=t.indexOf(":"),n=t.indexOf("?")!==-1?t.indexOf("?"):void 0,s=t.substring(0,e),i=t.substring(e+1,n).split("@"),a=typeof n<"u"?t.substring(n):"",c=new URLSearchParams(a),u={};c.forEach((h,p)=>{u[p]=h});const f=typeof u.methods=="string"?u.methods.split(","):void 0;return{protocol:s,topic:HQ(i[0]),version:parseInt(i[1],10),symKey:u.symKey,relay:zQ(u),methods:f,expiryTimestamp:u.expiryTimestamp?parseInt(u.expiryTimestamp,10):void 0}}function HQ(t){return t.startsWith("//")?t.substring(2):t}function FQ(t,e="-"){const n="relay",s={};return Object.keys(t).forEach(i=>{const a=i,c=n+e+a;t[a]&&(s[c]=t[a])}),s}function o_(t){const e=new URLSearchParams,n=FQ(t.relay);Object.keys(n).sort().forEach(i=>{e.set(i,n[i])}),e.set("symKey",t.symKey),t.expiryTimestamp&&e.set("expiryTimestamp",t.expiryTimestamp.toString()),t.methods&&e.set("methods",t.methods.join(","));const s=e.toString();return`${t.protocol}:${t.topic}@${t.version}?${s}`}function d0(t,e,n){return`${t}?wc_ev=${n}&topic=${e}`}var qQ=Object.defineProperty,VQ=Object.defineProperties,WQ=Object.getOwnPropertyDescriptors,a_=Object.getOwnPropertySymbols,KQ=Object.prototype.hasOwnProperty,GQ=Object.prototype.propertyIsEnumerable,c_=(t,e,n)=>e in t?qQ(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,YQ=(t,e)=>{for(var n in e||(e={}))KQ.call(e,n)&&c_(t,n,e[n]);if(a_)for(var n of a_(e))GQ.call(e,n)&&c_(t,n,e[n]);return t},XQ=(t,e)=>VQ(t,WQ(e));function gf(t){const e=[];return t.forEach(n=>{const[s,i]=n.split(":");e.push(`${s}:${i}`)}),e}function QQ(t){const e=[];return Object.values(t).forEach(n=>{e.push(...gf(n.accounts))}),e}function ZQ(t,e){const n=[];return Object.values(t).forEach(s=>{gf(s.accounts).includes(e)&&n.push(...s.methods)}),n}function JQ(t,e){const n=[];return Object.values(t).forEach(s=>{gf(s.accounts).includes(e)&&n.push(...s.events)}),n}function Fm(t){return t.includes(":")}function Uu(t){return Fm(t)?t.split(":")[0]:t}function l_(t){var e,n,s;const i={};if(!_r(t))return i;for(const[a,c]of Object.entries(t)){const u=Fm(a)?[a]:c.chains,f=c.methods||[],h=c.events||[],p=Uu(a);i[p]=XQ(YQ({},i[p]),{chains:Tr(u,(e=i[p])==null?void 0:e.chains),methods:Tr(f,(n=i[p])==null?void 0:n.methods),events:Tr(h,(s=i[p])==null?void 0:s.events)})}return i}function eZ(t){const e={};return t?.forEach(n=>{var s;const[i,a]=n.split(":");e[i]||(e[i]={accounts:[],chains:[],events:[],methods:[]}),e[i].accounts.push(n),(s=e[i].chains)==null||s.push(`${i}:${a}`)}),e}function u_(t,e){e=e.map(s=>s.replace("did:pkh:",""));const n=eZ(e);for(const[s,i]of Object.entries(n))i.methods?i.methods=Tr(i.methods,t):i.methods=t,i.events=["chainChanged","accountsChanged"];return n}function tZ(t,e){var n,s,i,a,c,u;const f=l_(t),h=l_(e),p={},g=Object.keys(f).concat(Object.keys(h));for(const y of g)p[y]={chains:Tr((n=f[y])==null?void 0:n.chains,(s=h[y])==null?void 0:s.chains),methods:Tr((i=f[y])==null?void 0:i.methods,(a=h[y])==null?void 0:a.methods),events:Tr((c=f[y])==null?void 0:c.events,(u=h[y])==null?void 0:u.events)};return p}const nZ={INVALID_METHOD:{message:"Invalid method.",code:1001},INVALID_EVENT:{message:"Invalid event.",code:1002},INVALID_UPDATE_REQUEST:{message:"Invalid update request.",code:1003},INVALID_EXTEND_REQUEST:{message:"Invalid extend request.",code:1004},INVALID_SESSION_SETTLE_REQUEST:{message:"Invalid session settle request.",code:1005},UNAUTHORIZED_METHOD:{message:"Unauthorized method.",code:3001},UNAUTHORIZED_EVENT:{message:"Unauthorized event.",code:3002},UNAUTHORIZED_UPDATE_REQUEST:{message:"Unauthorized update request.",code:3003},UNAUTHORIZED_EXTEND_REQUEST:{message:"Unauthorized extend request.",code:3004},USER_REJECTED:{message:"User rejected.",code:5e3},USER_REJECTED_CHAINS:{message:"User rejected chains.",code:5001},USER_REJECTED_METHODS:{message:"User rejected methods.",code:5002},USER_REJECTED_EVENTS:{message:"User rejected events.",code:5003},UNSUPPORTED_CHAINS:{message:"Unsupported chains.",code:5100},UNSUPPORTED_METHODS:{message:"Unsupported methods.",code:5101},UNSUPPORTED_EVENTS:{message:"Unsupported events.",code:5102},UNSUPPORTED_ACCOUNTS:{message:"Unsupported accounts.",code:5103},UNSUPPORTED_NAMESPACE_KEY:{message:"Unsupported namespace key.",code:5104},USER_DISCONNECTED:{message:"User disconnected.",code:6e3},SESSION_SETTLEMENT_FAILED:{message:"Session settlement failed.",code:7e3},WC_METHOD_UNSUPPORTED:{message:"Unsupported wc_ method.",code:10001}},sZ={NOT_INITIALIZED:{message:"Not initialized.",code:1},NO_MATCHING_KEY:{message:"No matching key.",code:2},RESTORE_WILL_OVERRIDE:{message:"Restore will override.",code:3},RESUBSCRIBED:{message:"Resubscribed.",code:4},MISSING_OR_INVALID:{message:"Missing or invalid.",code:5},EXPIRED:{message:"Expired.",code:6},UNKNOWN_TYPE:{message:"Unknown type.",code:7},MISMATCHED_TOPIC:{message:"Mismatched topic.",code:8},NON_CONFORMING_NAMESPACES:{message:"Non conforming namespaces.",code:9}};function ye(t,e){const{message:n,code:s}=sZ[t];return{message:e?`${n} ${e}`:n,code:s}}function jt(t,e){const{message:n,code:s}=nZ[t];return{message:e?`${n} ${e}`:n,code:s}}function vo(t,e){return!!Array.isArray(t)}function _r(t){return Object.getPrototypeOf(t)===Object.prototype&&Object.keys(t).length}function $n(t){return typeof t>"u"}function on(t,e){return e&&$n(t)?!0:typeof t=="string"&&!!t.trim().length}function tA(t,e){return e&&$n(t)?!0:typeof t=="number"&&!isNaN(t)}function iZ(t,e){const{requiredNamespaces:n}=e,s=Object.keys(t.namespaces),i=Object.keys(n);let a=!0;return Pc(i,s)?(s.forEach(c=>{const{accounts:u,methods:f,events:h}=t.namespaces[c],p=gf(u),g=n[c];(!Pc($D(c,g),p)||!Pc(g.methods,f)||!Pc(g.events,h))&&(a=!1)}),a):!1}function ym(t){return on(t,!1)&&t.includes(":")?t.split(":").length===2:!1}function rZ(t){if(on(t,!1)&&t.includes(":")){const e=t.split(":");if(e.length===3){const n=e[0]+":"+e[1];return!!e[2]&&ym(n)}}return!1}function oZ(t){function e(n){try{return typeof new URL(n)<"u"}catch{return!1}}try{if(on(t,!1)){if(e(t))return!0;const n=BD(t);return e(n)}}catch{}return!1}function aZ(t){var e;return(e=t?.proposer)==null?void 0:e.publicKey}function cZ(t){return t?.topic}function lZ(t,e){let n=null;return on(t?.publicKey,!1)||(n=ye("MISSING_OR_INVALID",`${e} controller public key should be a string`)),n}function f_(t){let e=!0;return vo(t)?t.length&&(e=t.every(n=>on(n,!1))):e=!1,e}function uZ(t,e,n){let s=null;return vo(e)&&e.length?e.forEach(i=>{s||ym(i)||(s=jt("UNSUPPORTED_CHAINS",`${n}, chain ${i} should be a string and conform to "namespace:chainId" format`))}):ym(t)||(s=jt("UNSUPPORTED_CHAINS",`${n}, chains must be defined as "namespace:chainId" e.g. "eip155:1": {...} in the namespace key OR as an array of CAIP-2 chainIds e.g. eip155: { chains: ["eip155:1", "eip155:5"] }`)),s}function fZ(t,e,n){let s=null;return Object.entries(t).forEach(([i,a])=>{if(s)return;const c=uZ(i,$D(i,a),`${e} ${n}`);c&&(s=c)}),s}function dZ(t,e){let n=null;return vo(t)?t.forEach(s=>{n||rZ(s)||(n=jt("UNSUPPORTED_ACCOUNTS",`${e}, account ${s} should be a string and conform to "namespace:chainId:address" format`))}):n=jt("UNSUPPORTED_ACCOUNTS",`${e}, accounts should be an array of strings conforming to "namespace:chainId:address" format`),n}function hZ(t,e){let n=null;return Object.values(t).forEach(s=>{if(n)return;const i=dZ(s?.accounts,`${e} namespace`);i&&(n=i)}),n}function pZ(t,e){let n=null;return f_(t?.methods)?f_(t?.events)||(n=jt("UNSUPPORTED_EVENTS",`${e}, events should be an array of strings or empty array for no events`)):n=jt("UNSUPPORTED_METHODS",`${e}, methods should be an array of strings or empty array for no methods`),n}function IO(t,e){let n=null;return Object.values(t).forEach(s=>{if(n)return;const i=pZ(s,`${e}, namespace`);i&&(n=i)}),n}function gZ(t,e,n){let s=null;if(t&&_r(t)){const i=IO(t,e);i&&(s=i);const a=fZ(t,e,n);a&&(s=a)}else s=ye("MISSING_OR_INVALID",`${e}, ${n} should be an object with data`);return s}function Eb(t,e){let n=null;if(t&&_r(t)){const s=IO(t,e);s&&(n=s);const i=hZ(t,e);i&&(n=i)}else n=ye("MISSING_OR_INVALID",`${e}, namespaces should be an object with data`);return n}function DO(t){return on(t.protocol,!0)}function mZ(t,e){let n=!1;return t?t&&vo(t)&&t.length&&t.forEach(s=>{n=DO(s)}):n=!0,n}function yZ(t){return typeof t=="number"}function Es(t){return typeof t<"u"&&typeof t!==null}function wZ(t){return!(!t||typeof t!="object"||!t.code||!tA(t.code,!1)||!t.message||!on(t.message,!1))}function bZ(t){return!($n(t)||!on(t.method,!1))}function vZ(t){return!($n(t)||$n(t.result)&&$n(t.error)||!tA(t.id,!1)||!on(t.jsonrpc,!1))}function EZ(t){return!($n(t)||!on(t.name,!1))}function d_(t,e){return!(!ym(e)||!QQ(t).includes(e))}function AZ(t,e,n){return on(n,!1)?ZQ(t,e).includes(n):!1}function CZ(t,e,n){return on(n,!1)?JQ(t,e).includes(n):!1}function h_(t,e,n){let s=null;const i=SZ(t),a=xZ(e),c=Object.keys(i),u=Object.keys(a),f=p_(Object.keys(t)),h=p_(Object.keys(e)),p=f.filter(g=>!h.includes(g));return p.length&&(s=ye("NON_CONFORMING_NAMESPACES",`${n} namespaces keys don't satisfy requiredNamespaces.
      Required: ${p.toString()}
      Received: ${Object.keys(e).toString()}`)),Pc(c,u)||(s=ye("NON_CONFORMING_NAMESPACES",`${n} namespaces chains don't satisfy required namespaces.
      Required: ${c.toString()}
      Approved: ${u.toString()}`)),Object.keys(e).forEach(g=>{if(!g.includes(":")||s)return;const y=gf(e[g].accounts);y.includes(g)||(s=ye("NON_CONFORMING_NAMESPACES",`${n} namespaces accounts don't satisfy namespace accounts for ${g}
        Required: ${g}
        Approved: ${y.toString()}`))}),c.forEach(g=>{s||(Pc(i[g].methods,a[g].methods)?Pc(i[g].events,a[g].events)||(s=ye("NON_CONFORMING_NAMESPACES",`${n} namespaces events don't satisfy namespace events for ${g}`)):s=ye("NON_CONFORMING_NAMESPACES",`${n} namespaces methods don't satisfy namespace methods for ${g}`))}),s}function SZ(t){const e={};return Object.keys(t).forEach(n=>{var s;n.includes(":")?e[n]=t[n]:(s=t[n].chains)==null||s.forEach(i=>{e[i]={methods:t[n].methods,events:t[n].events}})}),e}function p_(t){return[...new Set(t.map(e=>e.includes(":")?e.split(":")[0]:e))]}function xZ(t){const e={};return Object.keys(t).forEach(n=>{n.includes(":")?e[n]=t[n]:gf(t[n].accounts)?.forEach(i=>{e[i]={accounts:t[n].accounts.filter(a=>a.includes(`${i}:`)),methods:t[n].methods,events:t[n].events}})}),e}function NZ(t,e){return tA(t,!1)&&t<=e.max&&t>=e.min}function g_(){const t=mp();return new Promise(e=>{switch(t){case Ys.browser:e(TZ());break;case Ys.reactNative:e(_Z());break;case Ys.node:e(IZ());break;default:e(!0)}})}function TZ(){return df()&&navigator?.onLine}async function _Z(){return za()&&typeof global<"u"&&global!=null&&global.NetInfo?(await(global==null?void 0:global.NetInfo.fetch()))?.isConnected:!0}function IZ(){return!0}function DZ(t){switch(mp()){case Ys.browser:OZ(t);break;case Ys.reactNative:MZ(t);break}}function OZ(t){!za()&&df()&&(window.addEventListener("online",()=>t(!0)),window.addEventListener("offline",()=>t(!1)))}function MZ(t){za()&&typeof global<"u"&&global!=null&&global.NetInfo&&global?.NetInfo.addEventListener(e=>t(e?.isConnected))}function RZ(){var t;return df()&&No.getDocument()?((t=No.getDocument())==null?void 0:t.visibilityState)==="visible":!0}const Ab={};class Id{static get(e){return Ab[e]}static set(e,n){Ab[e]=n}static delete(e){delete Ab[e]}}function $Z(t){const e=ff.decode(t);if(e.length<33)throw new Error("Too short to contain a public key");return e.slice(1,33)}function UZ({publicKey:t,signature:e,payload:n}){var s;const i=t2(n.method),a=128|parseInt(((s=n.version)==null?void 0:s.toString())||"4"),c=kZ(n.address),u=n.era==="00"?new Uint8Array([0]):t2(n.era);if(u.length!==1&&u.length!==2)throw new Error("Invalid era length");const f=parseInt(n.nonce,16),h=new Uint8Array([f&255,f>>8&255]),p=BigInt(`0x${LZ(n.tip)}`),g=jZ(p),y=new Uint8Array([0,...t,c,...e,...u,...h,...g,...i]),b=BZ(y.length+1);return new Uint8Array([...b,a,...y])}function PZ(t){const e=t2(t),n=NG.blake2b(e,void 0,32);return"0x"+Buffer.from(n).toString("hex")}function t2(t){return new Uint8Array(t.replace(/^0x/,"").match(/.{1,2}/g).map(e=>parseInt(e,16)))}function LZ(t){return t.startsWith("0x")?t.slice(2):t}function kZ(t){const e=ff.decode(t)[0];return e===42?0:e===60?2:1}function BZ(t){if(t<64)return new Uint8Array([t<<2]);if(t<16384){const e=t<<2|1;return new Uint8Array([e&255,e>>8&255])}else if(t<1<<30){const e=t<<2|2;return new Uint8Array([e&255,e>>8&255,e>>16&255,e>>24&255])}else throw new Error("Compact encoding > 2^30 not supported")}function jZ(t){if(t<BigInt(1)<<BigInt(6))return new Uint8Array([Number(t<<BigInt(2))]);if(t<BigInt(1)<<BigInt(14)){const e=t<<BigInt(2)|BigInt(1);return new Uint8Array([Number(e&BigInt(255)),Number(e>>BigInt(8)&BigInt(255))])}else if(t<BigInt(1)<<BigInt(30)){const e=t<<BigInt(2)|BigInt(2);return new Uint8Array([Number(e&BigInt(255)),Number(e>>BigInt(8)&BigInt(255)),Number(e>>BigInt(16)&BigInt(255)),Number(e>>BigInt(24)&BigInt(255))])}else throw new Error("BigInt compact encoding not supported > 2^30")}function zZ(t){const e=Uint8Array.from(Buffer.from(t.signature,"hex")),n=$Z(t.transaction.address),s=UZ({publicKey:n,signature:e,payload:t.transaction}),i=Buffer.from(s).toString("hex");return PZ(i)}const HZ="PARSE_ERROR",FZ="INVALID_REQUEST",qZ="METHOD_NOT_FOUND",VZ="INVALID_PARAMS",OO="INTERNAL_ERROR",nA="SERVER_ERROR",WZ=[-32700,-32600,-32601,-32602,-32603],rh={[HZ]:{code:-32700,message:"Parse error"},[FZ]:{code:-32600,message:"Invalid Request"},[qZ]:{code:-32601,message:"Method not found"},[VZ]:{code:-32602,message:"Invalid params"},[OO]:{code:-32603,message:"Internal error"},[nA]:{code:-32e3,message:"Server error"}},MO=nA;function KZ(t){return WZ.includes(t)}function m_(t){return Object.keys(rh).includes(t)?rh[t]:rh[MO]}function GZ(t){const e=Object.values(rh).find(n=>n.code===t);return e||rh[MO]}function RO(t,e,n){return t.message.includes("getaddrinfo ENOTFOUND")||t.message.includes("connect ECONNREFUSED")?new Error(`Unavailable ${n} RPC url at ${e}`):t}var Cb={},co={},y_;function YZ(){if(y_)return co;y_=1,Object.defineProperty(co,"__esModule",{value:!0}),co.isBrowserCryptoAvailable=co.getSubtleCrypto=co.getBrowerCrypto=void 0;function t(){return Ss?.crypto||Ss?.msCrypto||{}}co.getBrowerCrypto=t;function e(){const s=t();return s.subtle||s.webkitSubtle}co.getSubtleCrypto=e;function n(){return!!t()&&!!e()}return co.isBrowserCryptoAvailable=n,co}var lo={},w_;function XZ(){if(w_)return lo;w_=1,Object.defineProperty(lo,"__esModule",{value:!0}),lo.isBrowser=lo.isNode=lo.isReactNative=void 0;function t(){return typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"}lo.isReactNative=t;function e(){return typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"}lo.isNode=e;function n(){return!t()&&!e()}return lo.isBrowser=n,lo}var b_;function QZ(){return b_||(b_=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=lp;e.__exportStar(YZ(),t),e.__exportStar(XZ(),t)})(Cb)),Cb}var ZZ=QZ();function yr(t=3){const e=Date.now()*Math.pow(10,t),n=Math.floor(Math.random()*Math.pow(10,t));return e+n}function jc(t=6){return BigInt(yr(t))}function Da(t,e,n){return{id:n||yr(),jsonrpc:"2.0",method:t,params:e}}function qm(t,e){return{id:t,jsonrpc:"2.0",result:e}}function Vm(t,e,n){return{id:t,jsonrpc:"2.0",error:JZ(e)}}function JZ(t,e){return typeof t>"u"?m_(OO):(typeof t=="string"&&(t=Object.assign(Object.assign({},m_(nA)),{message:t})),KZ(t.code)&&(t=GZ(t.code)),t)}let eJ=class{},tJ=class extends eJ{constructor(){super()}},nJ=class extends tJ{constructor(e){super()}};const sJ="^https?:",iJ="^wss?:";function rJ(t){const e=t.match(new RegExp(/^\w+:/,"gi"));if(!(!e||!e.length))return e[0]}function $O(t,e){const n=rJ(t);return typeof n>"u"?!1:new RegExp(e).test(n)}function v_(t){return $O(t,sJ)}function E_(t){return $O(t,iJ)}function oJ(t){return new RegExp("wss?://localhost(:d{2,5})?").test(t)}function UO(t){return typeof t=="object"&&"id"in t&&"jsonrpc"in t&&t.jsonrpc==="2.0"}function sA(t){return UO(t)&&"method"in t}function Wm(t){return UO(t)&&(wr(t)||vi(t))}function wr(t){return"result"in t}function vi(t){return"error"in t}let _i=class extends nJ{constructor(e){super(e),this.events=new Ti.EventEmitter,this.hasRegisteredEventListeners=!1,this.connection=this.setConnection(e),this.connection.connected&&this.registerEventListeners()}async connect(e=this.connection){await this.open(e)}async disconnect(){await this.close()}on(e,n){this.events.on(e,n)}once(e,n){this.events.once(e,n)}off(e,n){this.events.off(e,n)}removeListener(e,n){this.events.removeListener(e,n)}async request(e,n){return this.requestStrict(Da(e.method,e.params||[],e.id||jc().toString()),n)}async requestStrict(e,n){return new Promise(async(s,i)=>{if(!this.connection.connected)try{await this.open()}catch(a){i(a)}this.events.on(`${e.id}`,a=>{vi(a)?i(a.error):s(a.result)});try{await this.connection.send(e,n)}catch(a){i(a)}})}setConnection(e=this.connection){return e}onPayload(e){this.events.emit("payload",e),Wm(e)?this.events.emit(`${e.id}`,e):this.events.emit("message",{type:e.method,data:e.params})}onClose(e){e&&e.code===3e3&&this.events.emit("error",new Error(`WebSocket connection closed abnormally with code: ${e.code} ${e.reason?`(${e.reason})`:""}`)),this.events.emit("disconnect")}async open(e=this.connection){this.connection===e&&this.connection.connected||(this.connection.connected&&this.close(),typeof e=="string"&&(await this.connection.open(e),e=this.connection),this.connection=this.setConnection(e),await this.connection.open(),this.registerEventListeners(),this.events.emit("connect"))}async close(){await this.connection.close()}registerEventListeners(){this.hasRegisteredEventListeners||(this.connection.on("payload",e=>this.onPayload(e)),this.connection.on("close",e=>this.onClose(e)),this.connection.on("error",e=>this.events.emit("error",e)),this.connection.on("register_error",e=>this.onClose()),this.hasRegisteredEventListeners=!0)}};const aJ=()=>typeof WebSocket<"u"?WebSocket:typeof global<"u"&&typeof global.WebSocket<"u"?global.WebSocket:typeof window<"u"&&typeof window.WebSocket<"u"?window.WebSocket:typeof self<"u"&&typeof self.WebSocket<"u"?self.WebSocket:require("ws"),cJ=()=>typeof WebSocket<"u"||typeof global<"u"&&typeof global.WebSocket<"u"||typeof window<"u"&&typeof window.WebSocket<"u"||typeof self<"u"&&typeof self.WebSocket<"u",A_=t=>t.split("?")[0],C_=10,lJ=aJ();let uJ=class{constructor(e){if(this.url=e,this.events=new Ti.EventEmitter,this.registering=!1,!E_(e))throw new Error(`Provided URL is not compatible with WebSocket connection: ${e}`);this.url=e}get connected(){return typeof this.socket<"u"}get connecting(){return this.registering}on(e,n){this.events.on(e,n)}once(e,n){this.events.once(e,n)}off(e,n){this.events.off(e,n)}removeListener(e,n){this.events.removeListener(e,n)}async open(e=this.url){await this.register(e)}async close(){return new Promise((e,n)=>{if(typeof this.socket>"u"){n(new Error("Connection already closed"));return}this.socket.onclose=s=>{this.onClose(s),e()},this.socket.close()})}async send(e){typeof this.socket>"u"&&(this.socket=await this.register());try{this.socket.send(xo(e))}catch(n){this.onError(e.id,n)}}register(e=this.url){if(!E_(e))throw new Error(`Provided URL is not compatible with WebSocket connection: ${e}`);if(this.registering){const n=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=n||this.events.listenerCount("open")>=n)&&this.events.setMaxListeners(n+1),new Promise((s,i)=>{this.events.once("register_error",a=>{this.resetMaxListeners(),i(a)}),this.events.once("open",()=>{if(this.resetMaxListeners(),typeof this.socket>"u")return i(new Error("WebSocket connection is missing or invalid"));s(this.socket)})})}return this.url=e,this.registering=!0,new Promise((n,s)=>{const i=ZZ.isReactNative()?void 0:{rejectUnauthorized:!oJ(e)},a=new lJ(e,[],i);cJ()?a.onerror=c=>{const u=c;s(this.emitError(u.error))}:a.on("error",c=>{s(this.emitError(c))}),a.onopen=()=>{this.onOpen(a),n(a)}})}onOpen(e){e.onmessage=n=>this.onPayload(n),e.onclose=n=>this.onClose(n),this.socket=e,this.registering=!1,this.events.emit("open")}onClose(e){this.socket=void 0,this.registering=!1,this.events.emit("close",e)}onPayload(e){if(typeof e.data>"u")return;const n=typeof e.data=="string"?Xc(e.data):e.data;this.events.emit("payload",n)}onError(e,n){const s=this.parseError(n),i=s.message||s.toString(),a=Vm(e,i);this.events.emit("payload",a)}parseError(e,n=this.url){return RO(e,A_(n),"WS")}resetMaxListeners(){this.events.getMaxListeners()>C_&&this.events.setMaxListeners(C_)}emitError(e){const n=this.parseError(new Error(e?.message||`WebSocket connection failed for host: ${A_(this.url)}`));return this.events.emit("register_error",n),n}};var fJ={};const PO="wc",LO=2,n2="core",Dr=`${PO}@2:${n2}:`,dJ={logger:"error"},hJ={database:":memory:"},pJ="crypto",S_="client_ed25519_seed",gJ=we.ONE_DAY,mJ="keychain",yJ="0.3",wJ="messages",bJ="0.3",x_=we.SIX_HOURS,vJ="publisher",kO="irn",EJ="error",BO="wss://relay.walletconnect.org",AJ="relayer",vn={message:"relayer_message",message_ack:"relayer_message_ack",connect:"relayer_connect",disconnect:"relayer_disconnect",error:"relayer_error",connection_stalled:"relayer_connection_stalled",transport_closed:"relayer_transport_closed",publish:"relayer_publish"},CJ="_subscription",hi={payload:"payload",connect:"connect",disconnect:"disconnect",error:"error"},SJ=.1,s2="2.21.5",Lt={link_mode:"link_mode",relay:"relay"},k0={inbound:"inbound",outbound:"outbound"},xJ="0.3",NJ="WALLETCONNECT_CLIENT_ID",N_="WALLETCONNECT_LINK_MODE_APPS",Hs={created:"subscription_created",deleted:"subscription_deleted",expired:"subscription_expired",disabled:"subscription_disabled",sync:"subscription_sync",resubscribed:"subscription_resubscribed"},TJ="subscription",_J="0.3",IJ="pairing",DJ="0.3",Dd={wc_pairingDelete:{req:{ttl:we.ONE_DAY,prompt:!1,tag:1e3},res:{ttl:we.ONE_DAY,prompt:!1,tag:1001}},wc_pairingPing:{req:{ttl:we.THIRTY_SECONDS,prompt:!1,tag:1002},res:{ttl:we.THIRTY_SECONDS,prompt:!1,tag:1003}},unregistered_method:{req:{ttl:we.ONE_DAY,prompt:!1,tag:0},res:{ttl:we.ONE_DAY,prompt:!1,tag:0}}},Mc={create:"pairing_create",expire:"pairing_expire",delete:"pairing_delete",ping:"pairing_ping"},Bi={created:"history_created",updated:"history_updated",deleted:"history_deleted",sync:"history_sync"},OJ="history",MJ="0.3",RJ="expirer",bi={created:"expirer_created",deleted:"expirer_deleted",expired:"expirer_expired",sync:"expirer_sync"},$J="0.3",UJ="verify-api",PJ="https://verify.walletconnect.com",jO="https://verify.walletconnect.org",oh=jO,LJ=`${oh}/v3`,kJ=[PJ,jO],BJ="echo",jJ="https://echo.walletconnect.com",mr={pairing_started:"pairing_started",pairing_uri_validation_success:"pairing_uri_validation_success",pairing_uri_not_expired:"pairing_uri_not_expired",store_new_pairing:"store_new_pairing",subscribing_pairing_topic:"subscribing_pairing_topic",subscribe_pairing_topic_success:"subscribe_pairing_topic_success",existing_pairing:"existing_pairing",pairing_not_expired:"pairing_not_expired",emit_inactive_pairing:"emit_inactive_pairing",emit_session_proposal:"emit_session_proposal",subscribing_to_pairing_topic:"subscribing_to_pairing_topic"},po={no_wss_connection:"no_wss_connection",no_internet_connection:"no_internet_connection",malformed_pairing_uri:"malformed_pairing_uri",active_pairing_already_exists:"active_pairing_already_exists",subscribe_pairing_topic_failure:"subscribe_pairing_topic_failure",pairing_expired:"pairing_expired",proposal_expired:"proposal_expired",proposal_listener_not_found:"proposal_listener_not_found"},ji={session_approve_started:"session_approve_started",proposal_not_expired:"proposal_not_expired",session_namespaces_validation_success:"session_namespaces_validation_success",create_session_topic:"create_session_topic",subscribing_session_topic:"subscribing_session_topic",subscribe_session_topic_success:"subscribe_session_topic_success",publishing_session_approve:"publishing_session_approve",session_approve_publish_success:"session_approve_publish_success",store_session:"store_session",publishing_session_settle:"publishing_session_settle",session_settle_publish_success:"session_settle_publish_success"},Ac={no_internet_connection:"no_internet_connection",no_wss_connection:"no_wss_connection",proposal_expired:"proposal_expired",subscribe_session_topic_failure:"subscribe_session_topic_failure",session_approve_publish_failure:"session_approve_publish_failure",session_settle_publish_failure:"session_settle_publish_failure",session_approve_namespace_validation_failure:"session_approve_namespace_validation_failure",proposal_not_found:"proposal_not_found"},Cc={authenticated_session_approve_started:"authenticated_session_approve_started",create_authenticated_session_topic:"create_authenticated_session_topic",cacaos_verified:"cacaos_verified",store_authenticated_session:"store_authenticated_session",subscribing_authenticated_session_topic:"subscribing_authenticated_session_topic",subscribe_authenticated_session_topic_success:"subscribe_authenticated_session_topic_success",publishing_authenticated_session_approve:"publishing_authenticated_session_approve"},Od={no_internet_connection:"no_internet_connection",invalid_cacao:"invalid_cacao",subscribe_authenticated_session_topic_failure:"subscribe_authenticated_session_topic_failure",authenticated_session_approve_publish_failure:"authenticated_session_approve_publish_failure",authenticated_session_pending_request_not_found:"authenticated_session_pending_request_not_found"},zJ=.1,HJ="event-client",FJ=86400,qJ="https://pulse.walletconnect.org/batch";function VJ(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),s=0;s<n.length;s++)n[s]=255;for(var i=0;i<t.length;i++){var a=t.charAt(i),c=a.charCodeAt(0);if(n[c]!==255)throw new TypeError(a+" is ambiguous");n[c]=i}var u=t.length,f=t.charAt(0),h=Math.log(u)/Math.log(256),p=Math.log(256)/Math.log(u);function g(v){if(v instanceof Uint8Array||(ArrayBuffer.isView(v)?v=new Uint8Array(v.buffer,v.byteOffset,v.byteLength):Array.isArray(v)&&(v=Uint8Array.from(v))),!(v instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(v.length===0)return"";for(var E=0,A=0,x=0,D=v.length;x!==D&&v[x]===0;)x++,E++;for(var S=(D-x)*p+1>>>0,N=new Uint8Array(S);x!==D;){for(var T=v[x],I=0,$=S-1;(T!==0||I<A)&&$!==-1;$--,I++)T+=256*N[$]>>>0,N[$]=T%u>>>0,T=T/u>>>0;if(T!==0)throw new Error("Non-zero carry");A=I,x++}for(var P=S-A;P!==S&&N[P]===0;)P++;for(var M=f.repeat(E);P<S;++P)M+=t.charAt(N[P]);return M}function y(v){if(typeof v!="string")throw new TypeError("Expected String");if(v.length===0)return new Uint8Array;var E=0;if(v[E]!==" "){for(var A=0,x=0;v[E]===f;)A++,E++;for(var D=(v.length-E)*h+1>>>0,S=new Uint8Array(D);v[E];){var N=n[v.charCodeAt(E)];if(N===255)return;for(var T=0,I=D-1;(N!==0||T<x)&&I!==-1;I--,T++)N+=u*S[I]>>>0,S[I]=N%256>>>0,N=N/256>>>0;if(N!==0)throw new Error("Non-zero carry");x=T,E++}if(v[E]!==" "){for(var $=D-x;$!==D&&S[$]===0;)$++;for(var P=new Uint8Array(A+(D-$)),M=A;$!==D;)P[M++]=S[$++];return P}}}function b(v){var E=y(v);if(E)return E;throw new Error(`Non-${e} character`)}return{encode:g,decodeUnsafe:y,decode:b}}var WJ=VJ,KJ=WJ;const zO=t=>{if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")},GJ=t=>new TextEncoder().encode(t),YJ=t=>new TextDecoder().decode(t);class XJ{constructor(e,n,s){this.name=e,this.prefix=n,this.baseEncode=s}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class QJ{constructor(e,n,s){if(this.name=e,this.prefix=n,n.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=n.codePointAt(0),this.baseDecode=s}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return HO(this,e)}}class ZJ{constructor(e){this.decoders=e}or(e){return HO(this,e)}decode(e){const n=e[0],s=this.decoders[n];if(s)return s.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const HO=(t,e)=>new ZJ({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}});class JJ{constructor(e,n,s,i){this.name=e,this.prefix=n,this.baseEncode=s,this.baseDecode=i,this.encoder=new XJ(e,n,s),this.decoder=new QJ(e,n,i)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}const Km=({name:t,prefix:e,encode:n,decode:s})=>new JJ(t,e,n,s),vp=({prefix:t,name:e,alphabet:n})=>{const{encode:s,decode:i}=KJ(n,e);return Km({prefix:t,name:e,encode:s,decode:a=>zO(i(a))})},eee=(t,e,n,s)=>{const i={};for(let p=0;p<e.length;++p)i[e[p]]=p;let a=t.length;for(;t[a-1]==="=";)--a;const c=new Uint8Array(a*n/8|0);let u=0,f=0,h=0;for(let p=0;p<a;++p){const g=i[t[p]];if(g===void 0)throw new SyntaxError(`Non-${s} character`);f=f<<n|g,u+=n,u>=8&&(u-=8,c[h++]=255&f>>u)}if(u>=n||255&f<<8-u)throw new SyntaxError("Unexpected end of data");return c},tee=(t,e,n)=>{const s=e[e.length-1]==="=",i=(1<<n)-1;let a="",c=0,u=0;for(let f=0;f<t.length;++f)for(u=u<<8|t[f],c+=8;c>n;)c-=n,a+=e[i&u>>c];if(c&&(a+=e[i&u<<n-c]),s)for(;a.length*n&7;)a+="=";return a},Bn=({name:t,prefix:e,bitsPerChar:n,alphabet:s})=>Km({prefix:e,name:t,encode(i){return tee(i,s,n)},decode(i){return eee(i,s,n,t)}}),nee=Km({prefix:"\0",name:"identity",encode:t=>YJ(t),decode:t=>GJ(t)});var see=Object.freeze({__proto__:null,identity:nee});const iee=Bn({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var ree=Object.freeze({__proto__:null,base2:iee});const oee=Bn({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var aee=Object.freeze({__proto__:null,base8:oee});const cee=vp({prefix:"9",name:"base10",alphabet:"0123456789"});var lee=Object.freeze({__proto__:null,base10:cee});const uee=Bn({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),fee=Bn({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var dee=Object.freeze({__proto__:null,base16:uee,base16upper:fee});const hee=Bn({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),pee=Bn({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),gee=Bn({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),mee=Bn({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),yee=Bn({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),wee=Bn({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),bee=Bn({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),vee=Bn({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),Eee=Bn({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var Aee=Object.freeze({__proto__:null,base32:hee,base32upper:pee,base32pad:gee,base32padupper:mee,base32hex:yee,base32hexupper:wee,base32hexpad:bee,base32hexpadupper:vee,base32z:Eee});const Cee=vp({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),See=vp({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var xee=Object.freeze({__proto__:null,base36:Cee,base36upper:See});const Nee=vp({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),Tee=vp({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var _ee=Object.freeze({__proto__:null,base58btc:Nee,base58flickr:Tee});const Iee=Bn({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),Dee=Bn({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),Oee=Bn({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),Mee=Bn({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var Ree=Object.freeze({__proto__:null,base64:Iee,base64pad:Dee,base64url:Oee,base64urlpad:Mee});const FO=Array.from("🚀🪐☄🛰🌌🌑🌒🌓🌔🌕🌖🌗🌘🌍🌏🌎🐉☀💻🖥💾💿😂❤😍🤣😊🙏💕😭😘👍😅👏😁🔥🥰💔💖💙😢🤔😆🙄💪😉☺👌🤗💜😔😎😇🌹🤦🎉💞✌✨🤷😱😌🌸🙌😋💗💚😏💛🙂💓🤩😄😀🖤😃💯🙈👇🎶😒🤭❣😜💋👀😪😑💥🙋😞😩😡🤪👊🥳😥🤤👉💃😳✋😚😝😴🌟😬🙃🍀🌷😻😓⭐✅🥺🌈😈🤘💦✔😣🏃💐☹🎊💘😠☝😕🌺🎂🌻😐🖕💝🙊😹🗣💫💀👑🎵🤞😛🔴😤🌼😫⚽🤙☕🏆🤫👈😮🙆🍻🍃🐶💁😲🌿🧡🎁⚡🌞🎈❌✊👋😰🤨😶🤝🚶💰🍓💢🤟🙁🚨💨🤬✈🎀🍺🤓😙💟🌱😖👶🥴▶➡❓💎💸⬇😨🌚🦋😷🕺⚠🙅😟😵👎🤲🤠🤧📌🔵💅🧐🐾🍒😗🤑🌊🤯🐷☎💧😯💆👆🎤🙇🍑❄🌴💣🐸💌📍🥀🤢👅💡💩👐📸👻🤐🤮🎼🥵🚩🍎🍊👼💍📣🥂"),$ee=FO.reduce((t,e,n)=>(t[n]=e,t),[]),Uee=FO.reduce((t,e,n)=>(t[e.codePointAt(0)]=n,t),[]);function Pee(t){return t.reduce((e,n)=>(e+=$ee[n],e),"")}function Lee(t){const e=[];for(const n of t){const s=Uee[n.codePointAt(0)];if(s===void 0)throw new Error(`Non-base256emoji character: ${n}`);e.push(s)}return new Uint8Array(e)}const kee=Km({prefix:"🚀",name:"base256emoji",encode:Pee,decode:Lee});var Bee=Object.freeze({__proto__:null,base256emoji:kee}),jee=qO,T_=128,zee=-128,Hee=Math.pow(2,31);function qO(t,e,n){e=e||[],n=n||0;for(var s=n;t>=Hee;)e[n++]=t&255|T_,t/=128;for(;t&zee;)e[n++]=t&255|T_,t>>>=7;return e[n]=t|0,qO.bytes=n-s+1,e}var Fee=i2,qee=128,__=127;function i2(t,s){var n=0,s=s||0,i=0,a=s,c,u=t.length;do{if(a>=u)throw i2.bytes=0,new RangeError("Could not decode varint");c=t[a++],n+=i<28?(c&__)<<i:(c&__)*Math.pow(2,i),i+=7}while(c>=qee);return i2.bytes=a-s,n}var Vee=Math.pow(2,7),Wee=Math.pow(2,14),Kee=Math.pow(2,21),Gee=Math.pow(2,28),Yee=Math.pow(2,35),Xee=Math.pow(2,42),Qee=Math.pow(2,49),Zee=Math.pow(2,56),Jee=Math.pow(2,63),ete=function(t){return t<Vee?1:t<Wee?2:t<Kee?3:t<Gee?4:t<Yee?5:t<Xee?6:t<Qee?7:t<Zee?8:t<Jee?9:10},tte={encode:jee,decode:Fee,encodingLength:ete},VO=tte;const I_=(t,e,n=0)=>(VO.encode(t,e,n),e),D_=t=>VO.encodingLength(t),r2=(t,e)=>{const n=e.byteLength,s=D_(t),i=s+D_(n),a=new Uint8Array(i+n);return I_(t,a,0),I_(n,a,s),a.set(e,i),new nte(t,n,e,a)};class nte{constructor(e,n,s,i){this.code=e,this.size=n,this.digest=s,this.bytes=i}}const WO=({name:t,code:e,encode:n})=>new ste(t,e,n);class ste{constructor(e,n,s){this.name=e,this.code=n,this.encode=s}digest(e){if(e instanceof Uint8Array){const n=this.encode(e);return n instanceof Uint8Array?r2(this.code,n):n.then(s=>r2(this.code,s))}else throw Error("Unknown type, must be binary type")}}const KO=t=>async e=>new Uint8Array(await crypto.subtle.digest(t,e)),ite=WO({name:"sha2-256",code:18,encode:KO("SHA-256")}),rte=WO({name:"sha2-512",code:19,encode:KO("SHA-512")});var ote=Object.freeze({__proto__:null,sha256:ite,sha512:rte});const GO=0,ate="identity",YO=zO,cte=t=>r2(GO,YO(t)),lte={code:GO,name:ate,encode:YO,digest:cte};var ute=Object.freeze({__proto__:null,identity:lte});new TextEncoder,new TextDecoder;const O_={...see,...ree,...aee,...lee,...dee,...Aee,...xee,..._ee,...Ree,...Bee};({...ote,...ute});function XO(t){return globalThis.Buffer!=null?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):t}function fte(t=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?XO(globalThis.Buffer.allocUnsafe(t)):new Uint8Array(t)}function QO(t,e,n,s){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:n},decoder:{decode:s}}}const M_=QO("utf8","u",t=>"u"+new TextDecoder("utf8").decode(t),t=>new TextEncoder().encode(t.substring(1))),Sb=QO("ascii","a",t=>{let e="a";for(let n=0;n<t.length;n++)e+=String.fromCharCode(t[n]);return e},t=>{t=t.substring(1);const e=fte(t.length);for(let n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}),dte={utf8:M_,"utf-8":M_,hex:O_.base16,latin1:Sb,ascii:Sb,binary:Sb,...O_};function hte(t,e="utf8"){const n=dte[e];if(!n)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?XO(globalThis.Buffer.from(t,"utf-8")):n.decoder.decode(`${n.prefix}${t}`)}var pte=Object.defineProperty,gte=(t,e,n)=>e in t?pte(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,hr=(t,e,n)=>gte(t,typeof e!="symbol"?e+"":e,n);let mte=class{constructor(e,n){this.core=e,this.logger=n,hr(this,"keychain",new Map),hr(this,"name",mJ),hr(this,"version",yJ),hr(this,"initialized",!1),hr(this,"storagePrefix",Dr),hr(this,"init",async()=>{if(!this.initialized){const s=await this.getKeyChain();typeof s<"u"&&(this.keychain=s),this.initialized=!0}}),hr(this,"has",s=>(this.isInitialized(),this.keychain.has(s))),hr(this,"set",async(s,i)=>{this.isInitialized(),this.keychain.set(s,i),await this.persist()}),hr(this,"get",s=>{this.isInitialized();const i=this.keychain.get(s);if(typeof i>"u"){const{message:a}=ye("NO_MATCHING_KEY",`${this.name}: ${s}`);throw new Error(a)}return i}),hr(this,"del",async s=>{this.isInitialized(),this.keychain.delete(s),await this.persist()}),this.core=e,this.logger=rs(n,this.name)}get context(){return Is(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}async setKeyChain(e){await this.core.storage.setItem(this.storageKey,Fv(e))}async getKeyChain(){const e=await this.core.storage.getItem(this.storageKey);return typeof e<"u"?qv(e):void 0}async persist(){await this.setKeyChain(this.keychain)}isInitialized(){if(!this.initialized){const{message:e}=ye("NOT_INITIALIZED",this.name);throw new Error(e)}}};var yte=Object.defineProperty,wte=(t,e,n)=>e in t?yte(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Dn=(t,e,n)=>wte(t,typeof e!="symbol"?e+"":e,n);class bte{constructor(e,n,s){this.core=e,this.logger=n,Dn(this,"name",pJ),Dn(this,"keychain"),Dn(this,"randomSessionIdentifier",e2()),Dn(this,"initialized",!1),Dn(this,"init",async()=>{this.initialized||(await this.keychain.init(),this.initialized=!0)}),Dn(this,"hasKeys",i=>(this.isInitialized(),this.keychain.has(i))),Dn(this,"getClientId",async()=>{this.isInitialized();const i=await this.getClientSeed(),a=nT(i);return oD(a.publicKey)}),Dn(this,"generateKeyPair",()=>{this.isInitialized();const i=OQ();return this.setPrivateKey(i.publicKey,i.privateKey)}),Dn(this,"signJWT",async i=>{this.isInitialized();const a=await this.getClientSeed(),c=nT(a),u=this.randomSessionIdentifier;return await PV(u,i,gJ,c)}),Dn(this,"generateSharedKey",(i,a,c)=>{this.isInitialized();const u=this.getPrivateKey(i),f=MQ(u,a);return this.setSymKey(f,c)}),Dn(this,"setSymKey",async(i,a)=>{this.isInitialized();const c=a||L0(i);return await this.keychain.set(c,i),c}),Dn(this,"deleteKeyPair",async i=>{this.isInitialized(),await this.keychain.del(i)}),Dn(this,"deleteSymKey",async i=>{this.isInitialized(),await this.keychain.del(i)}),Dn(this,"encode",async(i,a,c)=>{this.isInitialized();const u=_O(c),f=xo(a);if(i_(u))return UQ(f,c?.encoding);if(s_(u)){const y=u.senderPublicKey,b=u.receiverPublicKey;i=await this.generateSharedKey(y,b)}const h=this.getSymKey(i),{type:p,senderPublicKey:g}=u;return RQ({type:p,symKey:h,message:f,senderPublicKey:g,encoding:c?.encoding})}),Dn(this,"decode",async(i,a,c)=>{this.isInitialized();const u=LQ(a,c);if(i_(u)){const f=PQ(a,c?.encoding);return Xc(f)}if(s_(u)){const f=u.receiverPublicKey,h=u.senderPublicKey;i=await this.generateSharedKey(f,h)}try{const f=this.getSymKey(i),h=$Q({symKey:f,encoded:a,encoding:c?.encoding});return Xc(h)}catch(f){this.logger.error(`Failed to decode message from topic: '${i}', clientId: '${await this.getClientId()}'`),this.logger.error(f)}}),Dn(this,"getPayloadType",(i,a=Ki)=>{const c=Dh({encoded:i,encoding:a});return Zc(c.type)}),Dn(this,"getPayloadSenderPublicKey",(i,a=Ki)=>{const c=Dh({encoded:i,encoding:a});return c.senderPublicKey?Ts(c.senderPublicKey,is):void 0}),this.core=e,this.logger=rs(n,this.name),this.keychain=s||new mte(this.core,this.logger)}get context(){return Is(this.logger)}async setPrivateKey(e,n){return await this.keychain.set(e,n),e}getPrivateKey(e){return this.keychain.get(e)}async getClientSeed(){let e="";try{e=this.keychain.get(S_)}catch{e=e2(),await this.keychain.set(S_,e)}return hte(e,"base16")}getSymKey(e){return this.keychain.get(e)}isInitialized(){if(!this.initialized){const{message:e}=ye("NOT_INITIALIZED",this.name);throw new Error(e)}}}var vte=Object.defineProperty,Ete=Object.defineProperties,Ate=Object.getOwnPropertyDescriptors,R_=Object.getOwnPropertySymbols,Cte=Object.prototype.hasOwnProperty,Ste=Object.prototype.propertyIsEnumerable,o2=(t,e,n)=>e in t?vte(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,xte=(t,e)=>{for(var n in e||(e={}))Cte.call(e,n)&&o2(t,n,e[n]);if(R_)for(var n of R_(e))Ste.call(e,n)&&o2(t,n,e[n]);return t},Nte=(t,e)=>Ete(t,Ate(e)),js=(t,e,n)=>o2(t,typeof e!="symbol"?e+"":e,n);class Tte extends $H{constructor(e,n){super(e,n),this.logger=e,this.core=n,js(this,"messages",new Map),js(this,"messagesWithoutClientAck",new Map),js(this,"name",wJ),js(this,"version",bJ),js(this,"initialized",!1),js(this,"storagePrefix",Dr),js(this,"init",async()=>{if(!this.initialized){this.logger.trace("Initialized");try{const s=await this.getRelayerMessages();typeof s<"u"&&(this.messages=s);const i=await this.getRelayerMessagesWithoutClientAck();typeof i<"u"&&(this.messagesWithoutClientAck=i),this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",size:this.messages.size})}catch(s){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(s)}finally{this.initialized=!0}}}),js(this,"set",async(s,i,a)=>{this.isInitialized();const c=br(i);let u=this.messages.get(s);if(typeof u>"u"&&(u={}),typeof u[c]<"u")return c;if(u[c]=i,this.messages.set(s,u),a===k0.inbound){const f=this.messagesWithoutClientAck.get(s)||{};this.messagesWithoutClientAck.set(s,Nte(xte({},f),{[c]:i}))}return await this.persist(),c}),js(this,"get",s=>{this.isInitialized();let i=this.messages.get(s);return typeof i>"u"&&(i={}),i}),js(this,"getWithoutAck",s=>{this.isInitialized();const i={};for(const a of s){const c=this.messagesWithoutClientAck.get(a)||{};i[a]=Object.values(c)}return i}),js(this,"has",(s,i)=>{this.isInitialized();const a=this.get(s),c=br(i);return typeof a[c]<"u"}),js(this,"ack",async(s,i)=>{this.isInitialized();const a=this.messagesWithoutClientAck.get(s);if(typeof a>"u")return;const c=br(i);delete a[c],Object.keys(a).length===0?this.messagesWithoutClientAck.delete(s):this.messagesWithoutClientAck.set(s,a),await this.persist()}),js(this,"del",async s=>{this.isInitialized(),this.messages.delete(s),this.messagesWithoutClientAck.delete(s),await this.persist()}),this.logger=rs(e,this.name),this.core=n}get context(){return Is(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get storageKeyWithoutClientAck(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name+"_withoutClientAck"}async setRelayerMessages(e){await this.core.storage.setItem(this.storageKey,Fv(e))}async setRelayerMessagesWithoutClientAck(e){await this.core.storage.setItem(this.storageKeyWithoutClientAck,Fv(e))}async getRelayerMessages(){const e=await this.core.storage.getItem(this.storageKey);return typeof e<"u"?qv(e):void 0}async getRelayerMessagesWithoutClientAck(){const e=await this.core.storage.getItem(this.storageKeyWithoutClientAck);return typeof e<"u"?qv(e):void 0}async persist(){await this.setRelayerMessages(this.messages),await this.setRelayerMessagesWithoutClientAck(this.messagesWithoutClientAck)}isInitialized(){if(!this.initialized){const{message:e}=ye("NOT_INITIALIZED",this.name);throw new Error(e)}}}var _te=Object.defineProperty,Ite=Object.defineProperties,Dte=Object.getOwnPropertyDescriptors,$_=Object.getOwnPropertySymbols,Ote=Object.prototype.hasOwnProperty,Mte=Object.prototype.propertyIsEnumerable,a2=(t,e,n)=>e in t?_te(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,h0=(t,e)=>{for(var n in e||(e={}))Ote.call(e,n)&&a2(t,n,e[n]);if($_)for(var n of $_(e))Mte.call(e,n)&&a2(t,n,e[n]);return t},xb=(t,e)=>Ite(t,Dte(e)),zi=(t,e,n)=>a2(t,typeof e!="symbol"?e+"":e,n);class Rte extends UH{constructor(e,n){super(e,n),this.relayer=e,this.logger=n,zi(this,"events",new Ti.EventEmitter),zi(this,"name",vJ),zi(this,"queue",new Map),zi(this,"publishTimeout",we.toMiliseconds(we.ONE_MINUTE)),zi(this,"initialPublishTimeout",we.toMiliseconds(we.ONE_SECOND*15)),zi(this,"needsTransportRestart",!1),zi(this,"publish",async(s,i,a)=>{var c;this.logger.debug("Publishing Payload"),this.logger.trace({type:"method",method:"publish",params:{topic:s,message:i,opts:a}});const u=a?.ttl||x_,f=mm(a),h=a?.prompt||!1,p=a?.tag||0,g=a?.id||jc().toString(),y={topic:s,message:i,opts:{ttl:u,relay:f,prompt:h,tag:p,id:g,attestation:a?.attestation,tvf:a?.tvf}},b=`Failed to publish payload, please try again. id:${g} tag:${p}`;try{const v=new Promise(async E=>{const A=({id:D})=>{y.opts.id===D&&(this.removeRequestFromQueue(D),this.relayer.events.removeListener(vn.publish,A),E(y))};this.relayer.events.on(vn.publish,A);const x=Ia(new Promise((D,S)=>{this.rpcPublish({topic:s,message:i,ttl:u,prompt:h,tag:p,id:g,attestation:a?.attestation,tvf:a?.tvf}).then(D).catch(N=>{this.logger.warn(N,N?.message),S(N)})}),this.initialPublishTimeout,`Failed initial publish, retrying.... id:${g} tag:${p}`);try{await x,this.events.removeListener(vn.publish,A)}catch(D){this.queue.set(g,xb(h0({},y),{attempt:1})),this.logger.warn(D,D?.message)}});this.logger.trace({type:"method",method:"publish",params:{id:g,topic:s,message:i,opts:a}}),await Ia(v,this.publishTimeout,b)}catch(v){if(this.logger.debug("Failed to Publish Payload"),this.logger.error(v),(c=a?.internal)!=null&&c.throwOnFailedPublish)throw v}finally{this.queue.delete(g)}}),zi(this,"on",(s,i)=>{this.events.on(s,i)}),zi(this,"once",(s,i)=>{this.events.once(s,i)}),zi(this,"off",(s,i)=>{this.events.off(s,i)}),zi(this,"removeListener",(s,i)=>{this.events.removeListener(s,i)}),this.relayer=e,this.logger=rs(n,this.name),this.registerEventListeners()}get context(){return Is(this.logger)}async rpcPublish(e){var n,s,i,a;const{topic:c,message:u,ttl:f=x_,prompt:h,tag:p,id:g,attestation:y,tvf:b}=e,v={method:Hd(mm().protocol).publish,params:h0({topic:c,message:u,ttl:f,prompt:h,tag:p,attestation:y},b),id:g};$n((n=v.params)==null?void 0:n.prompt)&&((s=v.params)==null||delete s.prompt),$n((i=v.params)==null?void 0:i.tag)&&((a=v.params)==null||delete a.tag),this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"message",direction:"outgoing",request:v});const E=await this.relayer.request(v);return this.relayer.events.emit(vn.publish,e),this.logger.debug("Successfully Published Payload"),E}removeRequestFromQueue(e){this.queue.delete(e)}checkQueue(){this.queue.forEach(async(e,n)=>{const s=e.attempt+1;this.queue.set(n,xb(h0({},e),{attempt:s}));const{topic:i,message:a,opts:c,attestation:u}=e;this.logger.warn({},`Publisher: queue->publishing: ${e.opts.id}, tag: ${e.opts.tag}, attempt: ${s}`),await this.rpcPublish(xb(h0({},e),{topic:i,message:a,ttl:c.ttl,prompt:c.prompt,tag:c.tag,id:c.id,attestation:u,tvf:c.tvf})),this.logger.warn({},`Publisher: queue->published: ${e.opts.id}`)})}registerEventListeners(){this.relayer.core.heartbeat.on(il.pulse,()=>{if(this.needsTransportRestart){this.needsTransportRestart=!1,this.relayer.events.emit(vn.connection_stalled);return}this.checkQueue()}),this.relayer.on(vn.message_ack,e=>{this.removeRequestFromQueue(e.id.toString())})}}var $te=Object.defineProperty,Ute=(t,e,n)=>e in t?$te(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,cu=(t,e,n)=>Ute(t,typeof e!="symbol"?e+"":e,n);class Pte{constructor(){cu(this,"map",new Map),cu(this,"set",(e,n)=>{const s=this.get(e);this.exists(e,n)||this.map.set(e,[...s,n])}),cu(this,"get",e=>this.map.get(e)||[]),cu(this,"exists",(e,n)=>this.get(e).includes(n)),cu(this,"delete",(e,n)=>{if(typeof n>"u"){this.map.delete(e);return}if(!this.map.has(e))return;const s=this.get(e);if(!this.exists(e,n))return;const i=s.filter(a=>a!==n);if(!i.length){this.map.delete(e);return}this.map.set(e,i)}),cu(this,"clear",()=>{this.map.clear()})}get topics(){return Array.from(this.map.keys())}}var Lte=Object.defineProperty,kte=Object.defineProperties,Bte=Object.getOwnPropertyDescriptors,U_=Object.getOwnPropertySymbols,jte=Object.prototype.hasOwnProperty,zte=Object.prototype.propertyIsEnumerable,c2=(t,e,n)=>e in t?Lte(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Md=(t,e)=>{for(var n in e||(e={}))jte.call(e,n)&&c2(t,n,e[n]);if(U_)for(var n of U_(e))zte.call(e,n)&&c2(t,n,e[n]);return t},Nb=(t,e)=>kte(t,Bte(e)),_t=(t,e,n)=>c2(t,typeof e!="symbol"?e+"":e,n);class Hte extends kH{constructor(e,n){super(e,n),this.relayer=e,this.logger=n,_t(this,"subscriptions",new Map),_t(this,"topicMap",new Pte),_t(this,"events",new Ti.EventEmitter),_t(this,"name",TJ),_t(this,"version",_J),_t(this,"pending",new Map),_t(this,"cached",[]),_t(this,"initialized",!1),_t(this,"storagePrefix",Dr),_t(this,"subscribeTimeout",we.toMiliseconds(we.ONE_MINUTE)),_t(this,"initialSubscribeTimeout",we.toMiliseconds(we.ONE_SECOND*15)),_t(this,"clientId"),_t(this,"batchSubscribeTopicsLimit",500),_t(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),this.registerEventListeners(),await this.restore()),this.initialized=!0}),_t(this,"subscribe",async(s,i)=>{this.isInitialized(),this.logger.debug("Subscribing Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:s,opts:i}});try{const a=mm(i),c={topic:s,relay:a,transportType:i?.transportType};this.pending.set(s,c);const u=await this.rpcSubscribe(s,a,i);return typeof u=="string"&&(this.onSubscribe(u,c),this.logger.debug("Successfully Subscribed Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:s,opts:i}})),u}catch(a){throw this.logger.debug("Failed to Subscribe Topic"),this.logger.error(a),a}}),_t(this,"unsubscribe",async(s,i)=>{this.isInitialized(),typeof i?.id<"u"?await this.unsubscribeById(s,i.id,i):await this.unsubscribeByTopic(s,i)}),_t(this,"isSubscribed",s=>new Promise(i=>{i(this.topicMap.topics.includes(s))})),_t(this,"isKnownTopic",s=>new Promise(i=>{i(this.topicMap.topics.includes(s)||this.pending.has(s)||this.cached.some(a=>a.topic===s))})),_t(this,"on",(s,i)=>{this.events.on(s,i)}),_t(this,"once",(s,i)=>{this.events.once(s,i)}),_t(this,"off",(s,i)=>{this.events.off(s,i)}),_t(this,"removeListener",(s,i)=>{this.events.removeListener(s,i)}),_t(this,"start",async()=>{await this.onConnect()}),_t(this,"stop",async()=>{await this.onDisconnect()}),_t(this,"restart",async()=>{await this.restore(),await this.onRestart()}),_t(this,"checkPending",async()=>{if(this.pending.size===0&&(!this.initialized||!this.relayer.connected))return;const s=[];this.pending.forEach(i=>{s.push(i)}),await this.batchSubscribe(s)}),_t(this,"registerEventListeners",()=>{this.relayer.core.heartbeat.on(il.pulse,async()=>{await this.checkPending()}),this.events.on(Hs.created,async s=>{const i=Hs.created;this.logger.info(`Emitting ${i}`),this.logger.debug({type:"event",event:i,data:s}),await this.persist()}),this.events.on(Hs.deleted,async s=>{const i=Hs.deleted;this.logger.info(`Emitting ${i}`),this.logger.debug({type:"event",event:i,data:s}),await this.persist()})}),this.relayer=e,this.logger=rs(n,this.name),this.clientId=""}get context(){return Is(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.relayer.core.customStoragePrefix+"//"+this.name}get length(){return this.subscriptions.size}get ids(){return Array.from(this.subscriptions.keys())}get values(){return Array.from(this.subscriptions.values())}get topics(){return this.topicMap.topics}get hasAnyTopics(){return this.topicMap.topics.length>0||this.pending.size>0||this.cached.length>0||this.subscriptions.size>0}hasSubscription(e,n){let s=!1;try{s=this.getSubscription(e).topic===n}catch{}return s}reset(){this.cached=[],this.initialized=!0}onDisable(){this.values.length>0&&(this.cached=this.values),this.subscriptions.clear(),this.topicMap.clear()}async unsubscribeByTopic(e,n){const s=this.topicMap.get(e);await Promise.all(s.map(async i=>await this.unsubscribeById(e,i,n)))}async unsubscribeById(e,n,s){this.logger.debug("Unsubscribing Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:e,id:n,opts:s}});try{const i=mm(s);await this.restartToComplete({topic:e,id:n,relay:i}),await this.rpcUnsubscribe(e,n,i);const a=jt("USER_DISCONNECTED",`${this.name}, ${e}`);await this.onUnsubscribe(e,n,a),this.logger.debug("Successfully Unsubscribed Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:e,id:n,opts:s}})}catch(i){throw this.logger.debug("Failed to Unsubscribe Topic"),this.logger.error(i),i}}async rpcSubscribe(e,n,s){var i;(!s||s?.transportType===Lt.relay)&&await this.restartToComplete({topic:e,id:e,relay:n});const a={method:Hd(n.protocol).subscribe,params:{topic:e}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:a});const c=(i=s?.internal)==null?void 0:i.throwOnFailedPublish;try{const u=await this.getSubscriptionId(e);if(s?.transportType===Lt.link_mode)return setTimeout(()=>{(this.relayer.connected||this.relayer.connecting)&&this.relayer.request(a).catch(p=>this.logger.warn(p))},we.toMiliseconds(we.ONE_SECOND)),u;const f=new Promise(async p=>{const g=y=>{y.topic===e&&(this.events.removeListener(Hs.created,g),p(y.id))};this.events.on(Hs.created,g);try{const y=await Ia(new Promise((b,v)=>{this.relayer.request(a).catch(E=>{this.logger.warn(E,E?.message),v(E)}).then(b)}),this.initialSubscribeTimeout,`Subscribing to ${e} failed, please try again`);this.events.removeListener(Hs.created,g),p(y)}catch{}}),h=await Ia(f,this.subscribeTimeout,`Subscribing to ${e} failed, please try again`);if(!h&&c)throw new Error(`Subscribing to ${e} failed, please try again`);return h?u:null}catch(u){if(this.logger.debug("Outgoing Relay Subscribe Payload stalled"),this.relayer.events.emit(vn.connection_stalled),c)throw u}return null}async rpcBatchSubscribe(e){if(!e.length)return;const n=e[0].relay,s={method:Hd(n.protocol).batchSubscribe,params:{topics:e.map(i=>i.topic)}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:s});try{await await Ia(new Promise(i=>{this.relayer.request(s).catch(a=>this.logger.warn(a)).then(i)}),this.subscribeTimeout,"rpcBatchSubscribe failed, please try again")}catch{this.relayer.events.emit(vn.connection_stalled)}}async rpcBatchFetchMessages(e){if(!e.length)return;const n=e[0].relay,s={method:Hd(n.protocol).batchFetchMessages,params:{topics:e.map(a=>a.topic)}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:s});let i;try{i=await await Ia(new Promise((a,c)=>{this.relayer.request(s).catch(u=>{this.logger.warn(u),c(u)}).then(a)}),this.subscribeTimeout,"rpcBatchFetchMessages failed, please try again")}catch{this.relayer.events.emit(vn.connection_stalled)}return i}rpcUnsubscribe(e,n,s){const i={method:Hd(s.protocol).unsubscribe,params:{topic:e,id:n}};return this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:i}),this.relayer.request(i)}onSubscribe(e,n){this.setSubscription(e,Nb(Md({},n),{id:e})),this.pending.delete(n.topic)}onBatchSubscribe(e){e.length&&e.forEach(n=>{this.setSubscription(n.id,Md({},n)),this.pending.delete(n.topic)})}async onUnsubscribe(e,n,s){this.events.removeAllListeners(n),this.hasSubscription(n,e)&&this.deleteSubscription(n,s),await this.relayer.messages.del(e)}async setRelayerSubscriptions(e){await this.relayer.core.storage.setItem(this.storageKey,e)}async getRelayerSubscriptions(){return await this.relayer.core.storage.getItem(this.storageKey)}setSubscription(e,n){this.logger.debug("Setting subscription"),this.logger.trace({type:"method",method:"setSubscription",id:e,subscription:n}),this.addSubscription(e,n)}addSubscription(e,n){this.subscriptions.set(e,Md({},n)),this.topicMap.set(n.topic,e),this.events.emit(Hs.created,n)}getSubscription(e){this.logger.debug("Getting subscription"),this.logger.trace({type:"method",method:"getSubscription",id:e});const n=this.subscriptions.get(e);if(!n){const{message:s}=ye("NO_MATCHING_KEY",`${this.name}: ${e}`);throw new Error(s)}return n}deleteSubscription(e,n){this.logger.debug("Deleting subscription"),this.logger.trace({type:"method",method:"deleteSubscription",id:e,reason:n});const s=this.getSubscription(e);this.subscriptions.delete(e),this.topicMap.delete(s.topic,e),this.events.emit(Hs.deleted,Nb(Md({},s),{reason:n}))}async persist(){await this.setRelayerSubscriptions(this.values),this.events.emit(Hs.sync)}async onRestart(){if(this.cached.length){const e=[...this.cached],n=Math.ceil(this.cached.length/this.batchSubscribeTopicsLimit);for(let s=0;s<n;s++){const i=e.splice(0,this.batchSubscribeTopicsLimit);await this.batchSubscribe(i)}}this.events.emit(Hs.resubscribed)}async restore(){try{const e=await this.getRelayerSubscriptions();if(typeof e>"u"||!e.length)return;if(this.subscriptions.size){const{message:n}=ye("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(n),this.logger.error(`${this.name}: ${JSON.stringify(this.values)}`),new Error(n)}this.cached=e,this.logger.debug(`Successfully Restored subscriptions for ${this.name}`),this.logger.trace({type:"method",method:"restore",subscriptions:this.values})}catch(e){this.logger.debug(`Failed to Restore subscriptions for ${this.name}`),this.logger.error(e)}}async batchSubscribe(e){e.length&&(await this.rpcBatchSubscribe(e),this.onBatchSubscribe(await Promise.all(e.map(async n=>Nb(Md({},n),{id:await this.getSubscriptionId(n.topic)})))))}async batchFetchMessages(e){if(!e.length)return;this.logger.trace(`Fetching batch messages for ${e.length} subscriptions`);const n=await this.rpcBatchFetchMessages(e);n&&n.messages&&(await JG(we.toMiliseconds(we.ONE_SECOND)),await this.relayer.handleBatchMessageEvents(n.messages))}async onConnect(){await this.restart(),this.reset()}onDisconnect(){this.onDisable()}isInitialized(){if(!this.initialized){const{message:e}=ye("NOT_INITIALIZED",this.name);throw new Error(e)}}async restartToComplete(e){!this.relayer.connected&&!this.relayer.connecting&&(this.cached.push(e),await this.relayer.transportOpen())}async getClientId(){return this.clientId||(this.clientId=await this.relayer.core.crypto.getClientId()),this.clientId}async getSubscriptionId(e){return br(e+await this.getClientId())}}var Fte=Object.defineProperty,P_=Object.getOwnPropertySymbols,qte=Object.prototype.hasOwnProperty,Vte=Object.prototype.propertyIsEnumerable,l2=(t,e,n)=>e in t?Fte(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,L_=(t,e)=>{for(var n in e||(e={}))qte.call(e,n)&&l2(t,n,e[n]);if(P_)for(var n of P_(e))Vte.call(e,n)&&l2(t,n,e[n]);return t},ot=(t,e,n)=>l2(t,typeof e!="symbol"?e+"":e,n);class Wte extends PH{constructor(e){super(e),ot(this,"protocol","wc"),ot(this,"version",2),ot(this,"core"),ot(this,"logger"),ot(this,"events",new Ti.EventEmitter),ot(this,"provider"),ot(this,"messages"),ot(this,"subscriber"),ot(this,"publisher"),ot(this,"name",AJ),ot(this,"transportExplicitlyClosed",!1),ot(this,"initialized",!1),ot(this,"connectionAttemptInProgress",!1),ot(this,"relayUrl"),ot(this,"projectId"),ot(this,"packageName"),ot(this,"bundleId"),ot(this,"hasExperiencedNetworkDisruption",!1),ot(this,"pingTimeout"),ot(this,"heartBeatTimeout",we.toMiliseconds(we.THIRTY_SECONDS+we.FIVE_SECONDS)),ot(this,"reconnectTimeout"),ot(this,"connectPromise"),ot(this,"reconnectInProgress",!1),ot(this,"requestsInFlight",[]),ot(this,"connectTimeout",we.toMiliseconds(we.ONE_SECOND*15)),ot(this,"request",async n=>{var s,i;this.logger.debug("Publishing Request Payload");const a=n.id||jc().toString();await this.toEstablishConnection();try{this.logger.trace({id:a,method:n.method,topic:(s=n.params)==null?void 0:s.topic},"relayer.request - publishing...");const c=`${a}:${((i=n.params)==null?void 0:i.tag)||""}`;this.requestsInFlight.push(c);const u=await this.provider.request(n);return this.requestsInFlight=this.requestsInFlight.filter(f=>f!==c),u}catch(c){throw this.logger.debug(`Failed to Publish Request: ${a}`),c}}),ot(this,"resetPingTimeout",()=>{dm()&&(clearTimeout(this.pingTimeout),this.pingTimeout=setTimeout(()=>{var n,s,i,a;try{this.logger.debug({},"pingTimeout: Connection stalled, terminating..."),(a=(i=(s=(n=this.provider)==null?void 0:n.connection)==null?void 0:s.socket)==null?void 0:i.terminate)==null||a.call(i)}catch(c){this.logger.warn(c,c?.message)}},this.heartBeatTimeout))}),ot(this,"onPayloadHandler",n=>{this.onProviderPayload(n),this.resetPingTimeout()}),ot(this,"onConnectHandler",()=>{this.logger.warn({},"Relayer connected 🛜"),this.startPingTimeout(),this.events.emit(vn.connect)}),ot(this,"onDisconnectHandler",()=>{this.logger.warn({},"Relayer disconnected 🛑"),this.requestsInFlight=[],this.onProviderDisconnect()}),ot(this,"onProviderErrorHandler",n=>{this.logger.fatal(`Fatal socket error: ${n.message}`),this.events.emit(vn.error,n),this.logger.fatal("Fatal socket error received, closing transport"),this.transportClose()}),ot(this,"registerProviderListeners",()=>{this.provider.on(hi.payload,this.onPayloadHandler),this.provider.on(hi.connect,this.onConnectHandler),this.provider.on(hi.disconnect,this.onDisconnectHandler),this.provider.on(hi.error,this.onProviderErrorHandler)}),this.core=e.core,this.logger=typeof e.logger<"u"&&typeof e.logger!="string"?rs(e.logger,this.name):fp(hp({level:e.logger||EJ})),this.messages=new Tte(this.logger,e.core),this.subscriber=new Hte(this,this.logger),this.publisher=new Rte(this,this.logger),this.relayUrl=e?.relayUrl||BO,this.projectId=e.projectId,LG()?this.packageName=xT():kG()&&(this.bundleId=xT()),this.provider={}}async init(){this.logger.trace("Initialized"),this.registerEventListeners(),await Promise.all([this.messages.init(),this.subscriber.init()]),this.initialized=!0,this.transportOpen().catch(e=>this.logger.warn(e,e?.message))}get context(){return Is(this.logger)}get connected(){var e,n,s;return((s=(n=(e=this.provider)==null?void 0:e.connection)==null?void 0:n.socket)==null?void 0:s.readyState)===1||!1}get connecting(){var e,n,s;return((s=(n=(e=this.provider)==null?void 0:e.connection)==null?void 0:n.socket)==null?void 0:s.readyState)===0||this.connectPromise!==void 0||!1}async publish(e,n,s){this.isInitialized(),await this.publisher.publish(e,n,s),await this.recordMessageEvent({topic:e,message:n,publishedAt:Date.now(),transportType:Lt.relay},k0.outbound)}async subscribe(e,n){var s,i,a;this.isInitialized(),(!(n!=null&&n.transportType)||n?.transportType==="relay")&&await this.toEstablishConnection();const c=typeof((s=n?.internal)==null?void 0:s.throwOnFailedPublish)>"u"?!0:(i=n?.internal)==null?void 0:i.throwOnFailedPublish;let u=((a=this.subscriber.topicMap.get(e))==null?void 0:a[0])||"",f;const h=p=>{p.topic===e&&(this.subscriber.off(Hs.created,h),f())};return await Promise.all([new Promise(p=>{f=p,this.subscriber.on(Hs.created,h)}),new Promise(async(p,g)=>{u=await this.subscriber.subscribe(e,L_({internal:{throwOnFailedPublish:c}},n)).catch(y=>{c&&g(y)})||u,p()})]),u}async unsubscribe(e,n){this.isInitialized(),await this.subscriber.unsubscribe(e,n)}on(e,n){this.events.on(e,n)}once(e,n){this.events.once(e,n)}off(e,n){this.events.off(e,n)}removeListener(e,n){this.events.removeListener(e,n)}async transportDisconnect(){this.provider.disconnect&&(this.hasExperiencedNetworkDisruption||this.connected)?await Ia(this.provider.disconnect(),2e3,"provider.disconnect()").catch(()=>this.onProviderDisconnect()):this.onProviderDisconnect()}async transportClose(){this.transportExplicitlyClosed=!0,await this.transportDisconnect()}async transportOpen(e){if(!this.subscriber.hasAnyTopics){this.logger.info("Starting WS connection skipped because the client has no topics to work with.");return}if(this.connectPromise?(this.logger.debug({},"Waiting for existing connection attempt to resolve..."),await this.connectPromise,this.logger.debug({},"Existing connection attempt resolved")):(this.connectPromise=new Promise(async(n,s)=>{await this.connect(e).then(n).catch(s).finally(()=>{this.connectPromise=void 0})}),await this.connectPromise),!this.connected)throw new Error(`Couldn't establish socket connection to the relay server: ${this.relayUrl}`)}async restartTransport(e){this.logger.debug({},"Restarting transport..."),!this.connectionAttemptInProgress&&(this.relayUrl=e||this.relayUrl,await this.confirmOnlineStateOrThrow(),await this.transportClose(),await this.transportOpen())}async confirmOnlineStateOrThrow(){if(!await g_())throw new Error("No internet connection detected. Please restart your network and try again.")}async handleBatchMessageEvents(e){if(e?.length===0){this.logger.trace("Batch message events is empty. Ignoring...");return}const n=e.sort((s,i)=>s.publishedAt-i.publishedAt);this.logger.debug(`Batch of ${n.length} message events sorted`);for(const s of n)try{await this.onMessageEvent(s)}catch(i){this.logger.warn(i,"Error while processing batch message event: "+i?.message)}this.logger.trace(`Batch of ${n.length} message events processed`)}async onLinkMessageEvent(e,n){const{topic:s}=e;if(!n.sessionExists){const i=hn(we.FIVE_MINUTES),a={topic:s,expiry:i,relay:{protocol:"irn"},active:!1};await this.core.pairing.pairings.set(s,a)}this.events.emit(vn.message,e),await this.recordMessageEvent(e,k0.inbound)}async connect(e){await this.confirmOnlineStateOrThrow(),e&&e!==this.relayUrl&&(this.relayUrl=e,await this.transportDisconnect()),this.connectionAttemptInProgress=!0,this.transportExplicitlyClosed=!1;let n=1;for(;n<6;){try{if(this.transportExplicitlyClosed)break;this.logger.debug({},`Connecting to ${this.relayUrl}, attempt: ${n}...`),await this.createProvider(),await new Promise(async(s,i)=>{const a=()=>{i(new Error("Connection interrupted while trying to connect"))};this.provider.once(hi.disconnect,a),await Ia(new Promise((c,u)=>{this.provider.connect().then(c).catch(u)}),this.connectTimeout,`Socket stalled when trying to connect to ${this.relayUrl}`).catch(c=>{i(c)}).finally(()=>{this.provider.off(hi.disconnect,a),clearTimeout(this.reconnectTimeout)}),await new Promise(async(c,u)=>{const f=()=>{i(new Error("Connection interrupted while trying to subscribe"))};this.provider.once(hi.disconnect,f),await this.subscriber.start().then(c).catch(u).finally(()=>{this.provider.off(hi.disconnect,f)})}),this.hasExperiencedNetworkDisruption=!1,s()})}catch(s){await this.subscriber.stop();const i=s;this.logger.warn({},i.message),this.hasExperiencedNetworkDisruption=!0}finally{this.connectionAttemptInProgress=!1}if(this.connected){this.logger.debug({},`Connected to ${this.relayUrl} successfully on attempt: ${n}`);break}await new Promise(s=>setTimeout(s,we.toMiliseconds(n*1))),n++}}startPingTimeout(){var e,n,s,i,a;if(dm())try{(n=(e=this.provider)==null?void 0:e.connection)!=null&&n.socket&&((a=(i=(s=this.provider)==null?void 0:s.connection)==null?void 0:i.socket)==null||a.on("ping",()=>{this.resetPingTimeout()})),this.resetPingTimeout()}catch(c){this.logger.warn(c,c?.message)}}async createProvider(){this.provider.connection&&this.unregisterProviderListeners();const e=await this.core.crypto.signJWT(this.relayUrl);this.provider=new _i(new uJ(FG({sdkVersion:s2,protocol:this.protocol,version:this.version,relayUrl:this.relayUrl,projectId:this.projectId,auth:e,useOnCloseEvent:!0,bundleId:this.bundleId,packageName:this.packageName}))),this.registerProviderListeners()}async recordMessageEvent(e,n){const{topic:s,message:i}=e;await this.messages.set(s,i,n)}async shouldIgnoreMessageEvent(e){const{topic:n,message:s}=e;if(!s||s.length===0)return this.logger.warn(`Ignoring invalid/empty message: ${s}`),!0;if(!await this.subscriber.isKnownTopic(n))return this.logger.warn(`Ignoring message for unknown topic ${n}`),!0;const i=this.messages.has(n,s);return i&&this.logger.warn(`Ignoring duplicate message: ${s}`),i}async onProviderPayload(e){if(this.logger.debug("Incoming Relay Payload"),this.logger.trace({type:"payload",direction:"incoming",payload:e}),sA(e)){if(!e.method.endsWith(CJ))return;const n=e.params,{topic:s,message:i,publishedAt:a,attestation:c}=n.data,u={topic:s,message:i,publishedAt:a,transportType:Lt.relay,attestation:c};this.logger.debug("Emitting Relayer Payload"),this.logger.trace(L_({type:"event",event:n.id},u)),this.events.emit(n.id,u),await this.acknowledgePayload(e),await this.onMessageEvent(u)}else Wm(e)&&this.events.emit(vn.message_ack,e)}async onMessageEvent(e){await this.shouldIgnoreMessageEvent(e)||(await this.recordMessageEvent(e,k0.inbound),this.events.emit(vn.message,e))}async acknowledgePayload(e){const n=qm(e.id,!0);await this.provider.connection.send(n)}unregisterProviderListeners(){this.provider.off(hi.payload,this.onPayloadHandler),this.provider.off(hi.connect,this.onConnectHandler),this.provider.off(hi.disconnect,this.onDisconnectHandler),this.provider.off(hi.error,this.onProviderErrorHandler),clearTimeout(this.pingTimeout)}async registerEventListeners(){let e=await g_();DZ(async n=>{e!==n&&(e=n,n?await this.transportOpen().catch(s=>this.logger.error(s,s?.message)):(this.hasExperiencedNetworkDisruption=!0,await this.transportDisconnect(),this.transportExplicitlyClosed=!1))}),this.core.heartbeat.on(il.pulse,async()=>{if(!this.transportExplicitlyClosed&&!this.connected&&RZ())try{await this.confirmOnlineStateOrThrow(),await this.transportOpen()}catch(n){this.logger.warn(n,n?.message)}})}async onProviderDisconnect(){clearTimeout(this.pingTimeout),this.events.emit(vn.disconnect),this.connectionAttemptInProgress=!1,!this.reconnectInProgress&&(this.reconnectInProgress=!0,await this.subscriber.stop(),this.subscriber.hasAnyTopics&&(this.transportExplicitlyClosed||(this.reconnectTimeout=setTimeout(async()=>{await this.transportOpen().catch(e=>this.logger.error(e,e?.message)),this.reconnectTimeout=void 0,this.reconnectInProgress=!1},we.toMiliseconds(SJ)))))}isInitialized(){if(!this.initialized){const{message:e}=ye("NOT_INITIALIZED",this.name);throw new Error(e)}}async toEstablishConnection(){if(await this.confirmOnlineStateOrThrow(),!this.connected){if(this.connectPromise){await this.connectPromise;return}await this.connect()}}}function Kte(t,e){return t===e||Number.isNaN(t)&&Number.isNaN(e)}function k_(t){return Object.getOwnPropertySymbols(t).filter(e=>Object.prototype.propertyIsEnumerable.call(t,e))}function B_(t){return t==null?t===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(t)}const Gte="[object RegExp]",Yte="[object String]",Xte="[object Number]",Qte="[object Boolean]",j_="[object Arguments]",Zte="[object Symbol]",Jte="[object Date]",ene="[object Map]",tne="[object Set]",nne="[object Array]",sne="[object Function]",ine="[object ArrayBuffer]",Tb="[object Object]",rne="[object Error]",one="[object DataView]",ane="[object Uint8Array]",cne="[object Uint8ClampedArray]",lne="[object Uint16Array]",une="[object Uint32Array]",fne="[object BigUint64Array]",dne="[object Int8Array]",hne="[object Int16Array]",pne="[object Int32Array]",gne="[object BigInt64Array]",mne="[object Float32Array]",yne="[object Float64Array]";function wne(){}function z_(t){if(!t||typeof t!="object")return!1;const e=Object.getPrototypeOf(t);return e===null||e===Object.prototype||Object.getPrototypeOf(e)===null?Object.prototype.toString.call(t)==="[object Object]":!1}function bne(t,e,n){return Fd(t,e,void 0,void 0,void 0,void 0,n)}function Fd(t,e,n,s,i,a,c){const u=c(t,e,n,s,i,a);if(u!==void 0)return u;if(typeof t==typeof e)switch(typeof t){case"bigint":case"string":case"boolean":case"symbol":case"undefined":return t===e;case"number":return t===e||Object.is(t,e);case"function":return t===e;case"object":return ah(t,e,a,c)}return ah(t,e,a,c)}function ah(t,e,n,s){if(Object.is(t,e))return!0;let i=B_(t),a=B_(e);if(i===j_&&(i=Tb),a===j_&&(a=Tb),i!==a)return!1;switch(i){case Yte:return t.toString()===e.toString();case Xte:{const f=t.valueOf(),h=e.valueOf();return Kte(f,h)}case Qte:case Jte:case Zte:return Object.is(t.valueOf(),e.valueOf());case Gte:return t.source===e.source&&t.flags===e.flags;case sne:return t===e}n=n??new Map;const c=n.get(t),u=n.get(e);if(c!=null&&u!=null)return c===e;n.set(t,e),n.set(e,t);try{switch(i){case ene:{if(t.size!==e.size)return!1;for(const[f,h]of t.entries())if(!e.has(f)||!Fd(h,e.get(f),f,t,e,n,s))return!1;return!0}case tne:{if(t.size!==e.size)return!1;const f=Array.from(t.values()),h=Array.from(e.values());for(let p=0;p<f.length;p++){const g=f[p],y=h.findIndex(b=>Fd(g,b,void 0,t,e,n,s));if(y===-1)return!1;h.splice(y,1)}return!0}case nne:case ane:case cne:case lne:case une:case fne:case dne:case hne:case pne:case gne:case mne:case yne:{if(typeof Buffer<"u"&&Buffer.isBuffer(t)!==Buffer.isBuffer(e)||t.length!==e.length)return!1;for(let f=0;f<t.length;f++)if(!Fd(t[f],e[f],f,t,e,n,s))return!1;return!0}case ine:return t.byteLength!==e.byteLength?!1:ah(new Uint8Array(t),new Uint8Array(e),n,s);case one:return t.byteLength!==e.byteLength||t.byteOffset!==e.byteOffset?!1:ah(new Uint8Array(t),new Uint8Array(e),n,s);case rne:return t.name===e.name&&t.message===e.message;case Tb:{if(!(ah(t.constructor,e.constructor,n,s)||z_(t)&&z_(e)))return!1;const f=[...Object.keys(t),...k_(t)],h=[...Object.keys(e),...k_(e)];if(f.length!==h.length)return!1;for(let p=0;p<f.length;p++){const g=f[p],y=t[g];if(!Object.hasOwn(e,g))return!1;const b=e[g];if(!Fd(y,b,g,t,e,n,s))return!1}return!0}default:return!1}}finally{n.delete(t),n.delete(e)}}function vne(t,e){return bne(t,e,wne)}var Ene=Object.defineProperty,H_=Object.getOwnPropertySymbols,Ane=Object.prototype.hasOwnProperty,Cne=Object.prototype.propertyIsEnumerable,u2=(t,e,n)=>e in t?Ene(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,F_=(t,e)=>{for(var n in e||(e={}))Ane.call(e,n)&&u2(t,n,e[n]);if(H_)for(var n of H_(e))Cne.call(e,n)&&u2(t,n,e[n]);return t},ps=(t,e,n)=>u2(t,typeof e!="symbol"?e+"":e,n);class ol extends LH{constructor(e,n,s,i=Dr,a=void 0){super(e,n,s,i),this.core=e,this.logger=n,this.name=s,ps(this,"map",new Map),ps(this,"version",xJ),ps(this,"cached",[]),ps(this,"initialized",!1),ps(this,"getKey"),ps(this,"storagePrefix",Dr),ps(this,"recentlyDeleted",[]),ps(this,"recentlyDeletedLimit",200),ps(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(c=>{this.getKey&&c!==null&&!$n(c)?this.map.set(this.getKey(c),c):aZ(c)?this.map.set(c.id,c):cZ(c)&&this.map.set(c.topic,c)}),this.cached=[],this.initialized=!0)}),ps(this,"set",async(c,u)=>{this.isInitialized(),this.map.has(c)?await this.update(c,u):(this.logger.debug("Setting value"),this.logger.trace({type:"method",method:"set",key:c,value:u}),this.map.set(c,u),await this.persist())}),ps(this,"get",c=>(this.isInitialized(),this.logger.debug("Getting value"),this.logger.trace({type:"method",method:"get",key:c}),this.getData(c))),ps(this,"getAll",c=>(this.isInitialized(),c?this.values.filter(u=>Object.keys(c).every(f=>vne(u[f],c[f]))):this.values)),ps(this,"update",async(c,u)=>{this.isInitialized(),this.logger.debug("Updating value"),this.logger.trace({type:"method",method:"update",key:c,update:u});const f=F_(F_({},this.getData(c)),u);this.map.set(c,f),await this.persist()}),ps(this,"delete",async(c,u)=>{this.isInitialized(),this.map.has(c)&&(this.logger.debug("Deleting value"),this.logger.trace({type:"method",method:"delete",key:c,reason:u}),this.map.delete(c),this.addToRecentlyDeleted(c),await this.persist())}),this.logger=rs(n,this.name),this.storagePrefix=i,this.getKey=a}get context(){return Is(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.map.size}get keys(){return Array.from(this.map.keys())}get values(){return Array.from(this.map.values())}addToRecentlyDeleted(e){this.recentlyDeleted.push(e),this.recentlyDeleted.length>=this.recentlyDeletedLimit&&this.recentlyDeleted.splice(0,this.recentlyDeletedLimit/2)}async setDataStore(e){await this.core.storage.setItem(this.storageKey,e)}async getDataStore(){return await this.core.storage.getItem(this.storageKey)}getData(e){const n=this.map.get(e);if(!n){if(this.recentlyDeleted.includes(e)){const{message:i}=ye("MISSING_OR_INVALID",`Record was recently deleted - ${this.name}: ${e}`);throw this.logger.error(i),new Error(i)}const{message:s}=ye("NO_MATCHING_KEY",`${this.name}: ${e}`);throw this.logger.error(s),new Error(s)}return n}async persist(){await this.setDataStore(this.values)}async restore(){try{const e=await this.getDataStore();if(typeof e>"u"||!e.length)return;if(this.map.size){const{message:n}=ye("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(n),new Error(n)}this.cached=e,this.logger.debug(`Successfully Restored value for ${this.name}`),this.logger.trace({type:"method",method:"restore",value:this.values})}catch(e){this.logger.debug(`Failed to Restore value for ${this.name}`),this.logger.error(e)}}isInitialized(){if(!this.initialized){const{message:e}=ye("NOT_INITIALIZED",this.name);throw new Error(e)}}}var Sne=Object.defineProperty,xne=(t,e,n)=>e in t?Sne(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Je=(t,e,n)=>xne(t,typeof e!="symbol"?e+"":e,n);class Nne{constructor(e,n){this.core=e,this.logger=n,Je(this,"name",IJ),Je(this,"version",DJ),Je(this,"events",new DE),Je(this,"pairings"),Je(this,"initialized",!1),Je(this,"storagePrefix",Dr),Je(this,"ignoredPayloadTypes",[bo]),Je(this,"registeredMethods",[]),Je(this,"init",async()=>{this.initialized||(await this.pairings.init(),await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.initialized=!0,this.logger.trace("Initialized"))}),Je(this,"register",({methods:s})=>{this.isInitialized(),this.registeredMethods=[...new Set([...this.registeredMethods,...s])]}),Je(this,"create",async s=>{this.isInitialized();const i=e2(),a=await this.core.crypto.setSymKey(i),c=hn(we.FIVE_MINUTES),u={protocol:kO},f={topic:a,expiry:c,relay:u,active:!1,methods:s?.methods},h=o_({protocol:this.core.protocol,version:this.core.version,topic:a,symKey:i,relay:u,expiryTimestamp:c,methods:s?.methods});return this.events.emit(Mc.create,f),this.core.expirer.set(a,c),await this.pairings.set(a,f),await this.core.relayer.subscribe(a,{transportType:s?.transportType}),{topic:a,uri:h}}),Je(this,"pair",async s=>{this.isInitialized();const i=this.core.eventClient.createEvent({properties:{topic:s?.uri,trace:[mr.pairing_started]}});this.isValidPair(s,i);const{topic:a,symKey:c,relay:u,expiryTimestamp:f,methods:h}=r_(s.uri);i.props.properties.topic=a,i.addTrace(mr.pairing_uri_validation_success),i.addTrace(mr.pairing_uri_not_expired);let p;if(this.pairings.keys.includes(a)){if(p=this.pairings.get(a),i.addTrace(mr.existing_pairing),p.active)throw i.setError(po.active_pairing_already_exists),new Error(`Pairing already exists: ${a}. Please try again with a new connection URI.`);i.addTrace(mr.pairing_not_expired)}const g=f||hn(we.FIVE_MINUTES),y={topic:a,relay:u,expiry:g,active:!1,methods:h};this.core.expirer.set(a,g),await this.pairings.set(a,y),i.addTrace(mr.store_new_pairing),s.activatePairing&&await this.activate({topic:a}),this.events.emit(Mc.create,y),i.addTrace(mr.emit_inactive_pairing),this.core.crypto.keychain.has(a)||await this.core.crypto.setSymKey(c,a),i.addTrace(mr.subscribing_pairing_topic);try{await this.core.relayer.confirmOnlineStateOrThrow()}catch{i.setError(po.no_internet_connection)}try{await this.core.relayer.subscribe(a,{relay:u})}catch(b){throw i.setError(po.subscribe_pairing_topic_failure),b}return i.addTrace(mr.subscribe_pairing_topic_success),y}),Je(this,"activate",async({topic:s})=>{this.isInitialized();const i=hn(we.FIVE_MINUTES);this.core.expirer.set(s,i),await this.pairings.update(s,{active:!0,expiry:i})}),Je(this,"ping",async s=>{this.isInitialized(),await this.isValidPing(s),this.logger.warn("ping() is deprecated and will be removed in the next major release.");const{topic:i}=s;if(this.pairings.keys.includes(i)){const a=await this.sendRequest(i,"wc_pairingPing",{}),{done:c,resolve:u,reject:f}=_c();this.events.once(dt("pairing_ping",a),({error:h})=>{h?f(h):u()}),await c()}}),Je(this,"updateExpiry",async({topic:s,expiry:i})=>{this.isInitialized(),await this.pairings.update(s,{expiry:i})}),Je(this,"updateMetadata",async({topic:s,metadata:i})=>{this.isInitialized(),await this.pairings.update(s,{peerMetadata:i})}),Je(this,"getPairings",()=>(this.isInitialized(),this.pairings.values)),Je(this,"disconnect",async s=>{this.isInitialized(),await this.isValidDisconnect(s);const{topic:i}=s;this.pairings.keys.includes(i)&&(await this.sendRequest(i,"wc_pairingDelete",jt("USER_DISCONNECTED")),await this.deletePairing(i))}),Je(this,"formatUriFromPairing",s=>{this.isInitialized();const{topic:i,relay:a,expiry:c,methods:u}=s,f=this.core.crypto.keychain.get(i);return o_({protocol:this.core.protocol,version:this.core.version,topic:i,symKey:f,relay:a,expiryTimestamp:c,methods:u})}),Je(this,"sendRequest",async(s,i,a)=>{const c=Da(i,a),u=await this.core.crypto.encode(s,c),f=Dd[i].req;return this.core.history.set(s,c),this.core.relayer.publish(s,u,f),c.id}),Je(this,"sendResult",async(s,i,a)=>{const c=qm(s,a),u=await this.core.crypto.encode(i,c),f=(await this.core.history.get(i,s)).request.method,h=Dd[f].res;await this.core.relayer.publish(i,u,h),await this.core.history.resolve(c)}),Je(this,"sendError",async(s,i,a)=>{const c=Vm(s,a),u=await this.core.crypto.encode(i,c),f=(await this.core.history.get(i,s)).request.method,h=Dd[f]?Dd[f].res:Dd.unregistered_method.res;await this.core.relayer.publish(i,u,h),await this.core.history.resolve(c)}),Je(this,"deletePairing",async(s,i)=>{await this.core.relayer.unsubscribe(s),await Promise.all([this.pairings.delete(s,jt("USER_DISCONNECTED")),this.core.crypto.deleteSymKey(s),i?Promise.resolve():this.core.expirer.del(s)])}),Je(this,"cleanup",async()=>{const s=this.pairings.getAll().filter(i=>Aa(i.expiry));await Promise.all(s.map(i=>this.deletePairing(i.topic)))}),Je(this,"onRelayEventRequest",async s=>{const{topic:i,payload:a}=s;switch(a.method){case"wc_pairingPing":return await this.onPairingPingRequest(i,a);case"wc_pairingDelete":return await this.onPairingDeleteRequest(i,a);default:return await this.onUnknownRpcMethodRequest(i,a)}}),Je(this,"onRelayEventResponse",async s=>{const{topic:i,payload:a}=s,c=(await this.core.history.get(i,a.id)).request.method;switch(c){case"wc_pairingPing":return this.onPairingPingResponse(i,a);default:return this.onUnknownRpcMethodResponse(c)}}),Je(this,"onPairingPingRequest",async(s,i)=>{const{id:a}=i;try{this.isValidPing({topic:s}),await this.sendResult(a,s,!0),this.events.emit(Mc.ping,{id:a,topic:s})}catch(c){await this.sendError(a,s,c),this.logger.error(c)}}),Je(this,"onPairingPingResponse",(s,i)=>{const{id:a}=i;setTimeout(()=>{wr(i)?this.events.emit(dt("pairing_ping",a),{}):vi(i)&&this.events.emit(dt("pairing_ping",a),{error:i.error})},500)}),Je(this,"onPairingDeleteRequest",async(s,i)=>{const{id:a}=i;try{this.isValidDisconnect({topic:s}),await this.deletePairing(s),this.events.emit(Mc.delete,{id:a,topic:s})}catch(c){await this.sendError(a,s,c),this.logger.error(c)}}),Je(this,"onUnknownRpcMethodRequest",async(s,i)=>{const{id:a,method:c}=i;try{if(this.registeredMethods.includes(c))return;const u=jt("WC_METHOD_UNSUPPORTED",c);await this.sendError(a,s,u),this.logger.error(u)}catch(u){await this.sendError(a,s,u),this.logger.error(u)}}),Je(this,"onUnknownRpcMethodResponse",s=>{this.registeredMethods.includes(s)||this.logger.error(jt("WC_METHOD_UNSUPPORTED",s))}),Je(this,"isValidPair",(s,i)=>{var a;if(!Es(s)){const{message:u}=ye("MISSING_OR_INVALID",`pair() params: ${s}`);throw i.setError(po.malformed_pairing_uri),new Error(u)}if(!oZ(s.uri)){const{message:u}=ye("MISSING_OR_INVALID",`pair() uri: ${s.uri}`);throw i.setError(po.malformed_pairing_uri),new Error(u)}const c=r_(s?.uri);if(!((a=c?.relay)!=null&&a.protocol)){const{message:u}=ye("MISSING_OR_INVALID","pair() uri#relay-protocol");throw i.setError(po.malformed_pairing_uri),new Error(u)}if(!(c!=null&&c.symKey)){const{message:u}=ye("MISSING_OR_INVALID","pair() uri#symKey");throw i.setError(po.malformed_pairing_uri),new Error(u)}if(c!=null&&c.expiryTimestamp&&we.toMiliseconds(c?.expiryTimestamp)<Date.now()){i.setError(po.pairing_expired);const{message:u}=ye("EXPIRED","pair() URI has expired. Please try again with a new connection URI.");throw new Error(u)}}),Je(this,"isValidPing",async s=>{if(!Es(s)){const{message:a}=ye("MISSING_OR_INVALID",`ping() params: ${s}`);throw new Error(a)}const{topic:i}=s;await this.isValidPairingTopic(i)}),Je(this,"isValidDisconnect",async s=>{if(!Es(s)){const{message:a}=ye("MISSING_OR_INVALID",`disconnect() params: ${s}`);throw new Error(a)}const{topic:i}=s;await this.isValidPairingTopic(i)}),Je(this,"isValidPairingTopic",async s=>{if(!on(s,!1)){const{message:i}=ye("MISSING_OR_INVALID",`pairing topic should be a string: ${s}`);throw new Error(i)}if(!this.pairings.keys.includes(s)){const{message:i}=ye("NO_MATCHING_KEY",`pairing topic doesn't exist: ${s}`);throw new Error(i)}if(Aa(this.pairings.get(s).expiry)){await this.deletePairing(s);const{message:i}=ye("EXPIRED",`pairing topic: ${s}`);throw new Error(i)}}),this.core=e,this.logger=rs(n,this.name),this.pairings=new ol(this.core,this.logger,this.name,this.storagePrefix)}get context(){return Is(this.logger)}isInitialized(){if(!this.initialized){const{message:e}=ye("NOT_INITIALIZED",this.name);throw new Error(e)}}registerRelayerEvents(){this.core.relayer.on(vn.message,async e=>{const{topic:n,message:s,transportType:i}=e;if(this.pairings.keys.includes(n)&&i!==Lt.link_mode&&!this.ignoredPayloadTypes.includes(this.core.crypto.getPayloadType(s)))try{const a=await this.core.crypto.decode(n,s);sA(a)?(this.core.history.set(n,a),await this.onRelayEventRequest({topic:n,payload:a})):Wm(a)&&(await this.core.history.resolve(a),await this.onRelayEventResponse({topic:n,payload:a}),this.core.history.delete(n,a.id)),await this.core.relayer.messages.ack(n,s)}catch(a){this.logger.error(a)}})}registerExpirerEvents(){this.core.expirer.on(bi.expired,async e=>{const{topic:n}=kD(e.target);n&&this.pairings.keys.includes(n)&&(await this.deletePairing(n,!0),this.events.emit(Mc.expire,{topic:n}))})}}var Tne=Object.defineProperty,_ne=(t,e,n)=>e in t?Tne(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,On=(t,e,n)=>_ne(t,typeof e!="symbol"?e+"":e,n);class Ine extends RH{constructor(e,n){super(e,n),this.core=e,this.logger=n,On(this,"records",new Map),On(this,"events",new Ti.EventEmitter),On(this,"name",OJ),On(this,"version",MJ),On(this,"cached",[]),On(this,"initialized",!1),On(this,"storagePrefix",Dr),On(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(s=>this.records.set(s.id,s)),this.cached=[],this.registerEventListeners(),this.initialized=!0)}),On(this,"set",(s,i,a)=>{if(this.isInitialized(),this.logger.debug("Setting JSON-RPC request history record"),this.logger.trace({type:"method",method:"set",topic:s,request:i,chainId:a}),this.records.has(i.id))return;const c={id:i.id,topic:s,request:{method:i.method,params:i.params||null},chainId:a,expiry:hn(we.THIRTY_DAYS)};this.records.set(c.id,c),this.persist(),this.events.emit(Bi.created,c)}),On(this,"resolve",async s=>{if(this.isInitialized(),this.logger.debug("Updating JSON-RPC response history record"),this.logger.trace({type:"method",method:"update",response:s}),!this.records.has(s.id))return;const i=await this.getRecord(s.id);typeof i.response>"u"&&(i.response=vi(s)?{error:s.error}:{result:s.result},this.records.set(i.id,i),this.persist(),this.events.emit(Bi.updated,i))}),On(this,"get",async(s,i)=>(this.isInitialized(),this.logger.debug("Getting record"),this.logger.trace({type:"method",method:"get",topic:s,id:i}),await this.getRecord(i))),On(this,"delete",(s,i)=>{this.isInitialized(),this.logger.debug("Deleting record"),this.logger.trace({type:"method",method:"delete",id:i}),this.values.forEach(a=>{if(a.topic===s){if(typeof i<"u"&&a.id!==i)return;this.records.delete(a.id),this.events.emit(Bi.deleted,a)}}),this.persist()}),On(this,"exists",async(s,i)=>(this.isInitialized(),this.records.has(i)?(await this.getRecord(i)).topic===s:!1)),On(this,"on",(s,i)=>{this.events.on(s,i)}),On(this,"once",(s,i)=>{this.events.once(s,i)}),On(this,"off",(s,i)=>{this.events.off(s,i)}),On(this,"removeListener",(s,i)=>{this.events.removeListener(s,i)}),this.logger=rs(n,this.name)}get context(){return Is(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get size(){return this.records.size}get keys(){return Array.from(this.records.keys())}get values(){return Array.from(this.records.values())}get pending(){const e=[];return this.values.forEach(n=>{if(typeof n.response<"u")return;const s={topic:n.topic,request:Da(n.request.method,n.request.params,n.id),chainId:n.chainId};return e.push(s)}),e}async setJsonRpcRecords(e){await this.core.storage.setItem(this.storageKey,e)}async getJsonRpcRecords(){return await this.core.storage.getItem(this.storageKey)}getRecord(e){this.isInitialized();const n=this.records.get(e);if(!n){const{message:s}=ye("NO_MATCHING_KEY",`${this.name}: ${e}`);throw new Error(s)}return n}async persist(){await this.setJsonRpcRecords(this.values),this.events.emit(Bi.sync)}async restore(){try{const e=await this.getJsonRpcRecords();if(typeof e>"u"||!e.length)return;if(this.records.size){const{message:n}=ye("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(n),new Error(n)}this.cached=e,this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",records:this.values})}catch(e){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(e)}}registerEventListeners(){this.events.on(Bi.created,e=>{const n=Bi.created;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,record:e})}),this.events.on(Bi.updated,e=>{const n=Bi.updated;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,record:e})}),this.events.on(Bi.deleted,e=>{const n=Bi.deleted;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,record:e})}),this.core.heartbeat.on(il.pulse,()=>{this.cleanup()})}cleanup(){try{this.isInitialized();let e=!1;this.records.forEach(n=>{we.toMiliseconds(n.expiry||0)-Date.now()<=0&&(this.logger.info(`Deleting expired history log: ${n.id}`),this.records.delete(n.id),this.events.emit(Bi.deleted,n,!1),e=!0)}),e&&this.persist()}catch(e){this.logger.warn(e)}}isInitialized(){if(!this.initialized){const{message:e}=ye("NOT_INITIALIZED",this.name);throw new Error(e)}}}var Dne=Object.defineProperty,One=(t,e,n)=>e in t?Dne(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Gn=(t,e,n)=>One(t,typeof e!="symbol"?e+"":e,n);class Mne extends BH{constructor(e,n){super(e,n),this.core=e,this.logger=n,Gn(this,"expirations",new Map),Gn(this,"events",new Ti.EventEmitter),Gn(this,"name",RJ),Gn(this,"version",$J),Gn(this,"cached",[]),Gn(this,"initialized",!1),Gn(this,"storagePrefix",Dr),Gn(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(s=>this.expirations.set(s.target,s)),this.cached=[],this.registerEventListeners(),this.initialized=!0)}),Gn(this,"has",s=>{try{const i=this.formatTarget(s);return typeof this.getExpiration(i)<"u"}catch{return!1}}),Gn(this,"set",(s,i)=>{this.isInitialized();const a=this.formatTarget(s),c={target:a,expiry:i};this.expirations.set(a,c),this.checkExpiry(a,c),this.events.emit(bi.created,{target:a,expiration:c})}),Gn(this,"get",s=>{this.isInitialized();const i=this.formatTarget(s);return this.getExpiration(i)}),Gn(this,"del",s=>{if(this.isInitialized(),this.has(s)){const i=this.formatTarget(s),a=this.getExpiration(i);this.expirations.delete(i),this.events.emit(bi.deleted,{target:i,expiration:a})}}),Gn(this,"on",(s,i)=>{this.events.on(s,i)}),Gn(this,"once",(s,i)=>{this.events.once(s,i)}),Gn(this,"off",(s,i)=>{this.events.off(s,i)}),Gn(this,"removeListener",(s,i)=>{this.events.removeListener(s,i)}),this.logger=rs(n,this.name)}get context(){return Is(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.expirations.size}get keys(){return Array.from(this.expirations.keys())}get values(){return Array.from(this.expirations.values())}formatTarget(e){if(typeof e=="string")return qG(e);if(typeof e=="number")return VG(e);const{message:n}=ye("UNKNOWN_TYPE",`Target type: ${typeof e}`);throw new Error(n)}async setExpirations(e){await this.core.storage.setItem(this.storageKey,e)}async getExpirations(){return await this.core.storage.getItem(this.storageKey)}async persist(){await this.setExpirations(this.values),this.events.emit(bi.sync)}async restore(){try{const e=await this.getExpirations();if(typeof e>"u"||!e.length)return;if(this.expirations.size){const{message:n}=ye("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(n),new Error(n)}this.cached=e,this.logger.debug(`Successfully Restored expirations for ${this.name}`),this.logger.trace({type:"method",method:"restore",expirations:this.values})}catch(e){this.logger.debug(`Failed to Restore expirations for ${this.name}`),this.logger.error(e)}}getExpiration(e){const n=this.expirations.get(e);if(!n){const{message:s}=ye("NO_MATCHING_KEY",`${this.name}: ${e}`);throw this.logger.warn(s),new Error(s)}return n}checkExpiry(e,n){const{expiry:s}=n;we.toMiliseconds(s)-Date.now()<=0&&this.expire(e,n)}expire(e,n){this.expirations.delete(e),this.events.emit(bi.expired,{target:e,expiration:n})}checkExpirations(){this.core.relayer.connected&&this.expirations.forEach((e,n)=>this.checkExpiry(n,e))}registerEventListeners(){this.core.heartbeat.on(il.pulse,()=>this.checkExpirations()),this.events.on(bi.created,e=>{const n=bi.created;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,data:e}),this.persist()}),this.events.on(bi.expired,e=>{const n=bi.expired;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,data:e}),this.persist()}),this.events.on(bi.deleted,e=>{const n=bi.deleted;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,data:e}),this.persist()})}isInitialized(){if(!this.initialized){const{message:e}=ye("NOT_INITIALIZED",this.name);throw new Error(e)}}}var Rne=Object.defineProperty,$ne=(t,e,n)=>e in t?Rne(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,sn=(t,e,n)=>$ne(t,typeof e!="symbol"?e+"":e,n);class Une extends jH{constructor(e,n,s){super(e,n,s),this.core=e,this.logger=n,this.store=s,sn(this,"name",UJ),sn(this,"abortController"),sn(this,"isDevEnv"),sn(this,"verifyUrlV3",LJ),sn(this,"storagePrefix",Dr),sn(this,"version",LO),sn(this,"publicKey"),sn(this,"fetchPromise"),sn(this,"init",async()=>{var i;this.isDevEnv||(this.publicKey=await this.store.getItem(this.storeKey),this.publicKey&&we.toMiliseconds((i=this.publicKey)==null?void 0:i.expiresAt)<Date.now()&&(this.logger.debug("verify v2 public key expired"),await this.removePublicKey()))}),sn(this,"register",async i=>{if(!df()||this.isDevEnv)return;const a=window.location.origin,{id:c,decryptedId:u}=i,f=`${this.verifyUrlV3}/attestation?projectId=${this.core.projectId}&origin=${a}&id=${c}&decryptedId=${u}`;try{const h=No.getDocument(),p=this.startAbortTimer(we.ONE_SECOND*5),g=await new Promise((y,b)=>{const v=()=>{window.removeEventListener("message",A),h.body.removeChild(E),b("attestation aborted")};this.abortController.signal.addEventListener("abort",v);const E=h.createElement("iframe");E.src=f,E.style.display="none",E.addEventListener("error",v,{signal:this.abortController.signal});const A=x=>{if(x.data&&typeof x.data=="string")try{const D=JSON.parse(x.data);if(D.type==="verify_attestation"){if(Uv(D.attestation).payload.id!==c)return;clearInterval(p),h.body.removeChild(E),this.abortController.signal.removeEventListener("abort",v),window.removeEventListener("message",A),y(D.attestation===null?"":D.attestation)}}catch(D){this.logger.warn(D)}};h.body.appendChild(E),window.addEventListener("message",A,{signal:this.abortController.signal})});return this.logger.debug("jwt attestation",g),g}catch(h){this.logger.warn(h)}return""}),sn(this,"resolve",async i=>{if(this.isDevEnv)return"";const{attestationId:a,hash:c,encryptedId:u}=i;if(a===""){this.logger.debug("resolve: attestationId is empty, skipping");return}if(a){if(Uv(a).payload.id!==u)return;const h=await this.isValidJwtAttestation(a);if(h){if(!h.isVerified){this.logger.warn("resolve: jwt attestation: origin url not verified");return}return h}}if(!c)return;const f=this.getVerifyUrl(i?.verifyUrl);return this.fetchAttestation(c,f)}),sn(this,"fetchAttestation",async(i,a)=>{this.logger.debug(`resolving attestation: ${i} from url: ${a}`);const c=this.startAbortTimer(we.ONE_SECOND*5),u=await fetch(`${a}/attestation/${i}?v2Supported=true`,{signal:this.abortController.signal});return clearTimeout(c),u.status===200?await u.json():void 0}),sn(this,"getVerifyUrl",i=>{let a=i||oh;return kJ.includes(a)||(this.logger.info(`verify url: ${a}, not included in trusted list, assigning default: ${oh}`),a=oh),a}),sn(this,"fetchPublicKey",async()=>{try{this.logger.debug(`fetching public key from: ${this.verifyUrlV3}`);const i=this.startAbortTimer(we.FIVE_SECONDS),a=await fetch(`${this.verifyUrlV3}/public-key`,{signal:this.abortController.signal});return clearTimeout(i),await a.json()}catch(i){this.logger.warn(i)}}),sn(this,"persistPublicKey",async i=>{this.logger.debug("persisting public key to local storage",i),await this.store.setItem(this.storeKey,i),this.publicKey=i}),sn(this,"removePublicKey",async()=>{this.logger.debug("removing verify v2 public key from storage"),await this.store.removeItem(this.storeKey),this.publicKey=void 0}),sn(this,"isValidJwtAttestation",async i=>{const a=await this.getPublicKey();try{if(a)return this.validateAttestation(i,a)}catch(u){this.logger.error(u),this.logger.warn("error validating attestation")}const c=await this.fetchAndPersistPublicKey();try{if(c)return this.validateAttestation(i,c)}catch(u){this.logger.error(u),this.logger.warn("error validating attestation")}}),sn(this,"getPublicKey",async()=>this.publicKey?this.publicKey:await this.fetchAndPersistPublicKey()),sn(this,"fetchAndPersistPublicKey",async()=>{if(this.fetchPromise)return await this.fetchPromise,this.publicKey;this.fetchPromise=new Promise(async a=>{const c=await this.fetchPublicKey();c&&(await this.persistPublicKey(c),a(c))});const i=await this.fetchPromise;return this.fetchPromise=void 0,i}),sn(this,"validateAttestation",(i,a)=>{const c=BQ(i,a.publicKey),u={hasExpired:we.toMiliseconds(c.exp)<Date.now(),payload:c};if(u.hasExpired)throw this.logger.warn("resolve: jwt attestation expired"),new Error("JWT attestation expired");return{origin:u.payload.origin,isScam:u.payload.isScam,isVerified:u.payload.isVerified}}),this.logger=rs(n,this.name),this.abortController=new AbortController,this.isDevEnv=HE(),this.init()}get storeKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//verify:public:key"}get context(){return Is(this.logger)}startAbortTimer(e){return this.abortController=new AbortController,setTimeout(()=>this.abortController.abort(),we.toMiliseconds(e))}}var Pne=Object.defineProperty,Lne=(t,e,n)=>e in t?Pne(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,q_=(t,e,n)=>Lne(t,typeof e!="symbol"?e+"":e,n);class kne extends zH{constructor(e,n){super(e,n),this.projectId=e,this.logger=n,q_(this,"context",BJ),q_(this,"registerDeviceToken",async s=>{const{clientId:i,token:a,notificationType:c,enableEncrypted:u=!1}=s,f=`${jJ}/${this.projectId}/clients`;await fetch(f,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({client_id:i,type:c,token:a,always_raw:u})})}),this.logger=rs(n,this.context)}}var Bne=Object.defineProperty,V_=Object.getOwnPropertySymbols,jne=Object.prototype.hasOwnProperty,zne=Object.prototype.propertyIsEnumerable,f2=(t,e,n)=>e in t?Bne(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Rd=(t,e)=>{for(var n in e||(e={}))jne.call(e,n)&&f2(t,n,e[n]);if(V_)for(var n of V_(e))zne.call(e,n)&&f2(t,n,e[n]);return t},mn=(t,e,n)=>f2(t,typeof e!="symbol"?e+"":e,n);class Hne extends HH{constructor(e,n,s=!0){super(e,n,s),this.core=e,this.logger=n,mn(this,"context",HJ),mn(this,"storagePrefix",Dr),mn(this,"storageVersion",zJ),mn(this,"events",new Map),mn(this,"shouldPersist",!1),mn(this,"init",async()=>{if(!HE())try{const i={eventId:TT(),timestamp:Date.now(),domain:this.getAppDomain(),props:{event:"INIT",type:"",properties:{client_id:await this.core.crypto.getClientId(),user_agent:PD(this.core.relayer.protocol,this.core.relayer.version,s2)}}};await this.sendEvent([i])}catch(i){this.logger.warn(i)}}),mn(this,"createEvent",i=>{const{event:a="ERROR",type:c="",properties:{topic:u,trace:f}}=i,h=TT(),p=this.core.projectId||"",g=Date.now(),y=Rd({eventId:h,timestamp:g,props:{event:a,type:c,properties:{topic:u,trace:f}},bundleId:p,domain:this.getAppDomain()},this.setMethods(h));return this.telemetryEnabled&&(this.events.set(h,y),this.shouldPersist=!0),y}),mn(this,"getEvent",i=>{const{eventId:a,topic:c}=i;if(a)return this.events.get(a);const u=Array.from(this.events.values()).find(f=>f.props.properties.topic===c);if(u)return Rd(Rd({},u),this.setMethods(u.eventId))}),mn(this,"deleteEvent",i=>{const{eventId:a}=i;this.events.delete(a),this.shouldPersist=!0}),mn(this,"setEventListeners",()=>{this.core.heartbeat.on(il.pulse,async()=>{this.shouldPersist&&await this.persist(),this.events.forEach(i=>{we.fromMiliseconds(Date.now())-we.fromMiliseconds(i.timestamp)>FJ&&(this.events.delete(i.eventId),this.shouldPersist=!0)})})}),mn(this,"setMethods",i=>({addTrace:a=>this.addTrace(i,a),setError:a=>this.setError(i,a)})),mn(this,"addTrace",(i,a)=>{const c=this.events.get(i);c&&(c.props.properties.trace.push(a),this.events.set(i,c),this.shouldPersist=!0)}),mn(this,"setError",(i,a)=>{const c=this.events.get(i);c&&(c.props.type=a,c.timestamp=Date.now(),this.events.set(i,c),this.shouldPersist=!0)}),mn(this,"persist",async()=>{await this.core.storage.setItem(this.storageKey,Array.from(this.events.values())),this.shouldPersist=!1}),mn(this,"restore",async()=>{try{const i=await this.core.storage.getItem(this.storageKey)||[];if(!i.length)return;i.forEach(a=>{this.events.set(a.eventId,Rd(Rd({},a),this.setMethods(a.eventId)))})}catch(i){this.logger.warn(i)}}),mn(this,"submit",async()=>{if(!this.telemetryEnabled||this.events.size===0)return;const i=[];for(const[a,c]of this.events)c.props.type&&i.push(c);if(i.length!==0)try{if((await this.sendEvent(i)).ok)for(const a of i)this.events.delete(a.eventId),this.shouldPersist=!0}catch(a){this.logger.warn(a)}}),mn(this,"sendEvent",async i=>{const a=this.getAppDomain()?"":"&sp=desktop";return await fetch(`${qJ}?projectId=${this.core.projectId}&st=events_sdk&sv=js-${s2}${a}`,{method:"POST",body:JSON.stringify(i)})}),mn(this,"getAppDomain",()=>UD().url),this.logger=rs(n,this.context),this.telemetryEnabled=s,s?this.restore().then(async()=>{await this.submit(),this.setEventListeners()}):this.persist()}get storageKey(){return this.storagePrefix+this.storageVersion+this.core.customStoragePrefix+"//"+this.context}}var Fne=Object.defineProperty,W_=Object.getOwnPropertySymbols,qne=Object.prototype.hasOwnProperty,Vne=Object.prototype.propertyIsEnumerable,d2=(t,e,n)=>e in t?Fne(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,K_=(t,e)=>{for(var n in e||(e={}))qne.call(e,n)&&d2(t,n,e[n]);if(W_)for(var n of W_(e))Vne.call(e,n)&&d2(t,n,e[n]);return t},It=(t,e,n)=>d2(t,typeof e!="symbol"?e+"":e,n);let Wne=class ZO extends IH{constructor(e){var n;super(e),It(this,"protocol",PO),It(this,"version",LO),It(this,"name",n2),It(this,"relayUrl"),It(this,"projectId"),It(this,"customStoragePrefix"),It(this,"events",new Ti.EventEmitter),It(this,"logger"),It(this,"heartbeat"),It(this,"relayer"),It(this,"crypto"),It(this,"storage"),It(this,"history"),It(this,"expirer"),It(this,"pairing"),It(this,"verify"),It(this,"echoClient"),It(this,"linkModeSupportedApps"),It(this,"eventClient"),It(this,"initialized",!1),It(this,"logChunkController"),It(this,"on",(u,f)=>this.events.on(u,f)),It(this,"once",(u,f)=>this.events.once(u,f)),It(this,"off",(u,f)=>this.events.off(u,f)),It(this,"removeListener",(u,f)=>this.events.removeListener(u,f)),It(this,"dispatchEnvelope",({topic:u,message:f,sessionExists:h})=>{if(!u||!f)return;const p={topic:u,message:f,publishedAt:Date.now(),transportType:Lt.link_mode};this.relayer.onLinkMessageEvent(p,{sessionExists:h})});const s=this.getGlobalCore(e?.customStoragePrefix);if(s)try{return this.customStoragePrefix=s.customStoragePrefix,this.logger=s.logger,this.heartbeat=s.heartbeat,this.crypto=s.crypto,this.history=s.history,this.expirer=s.expirer,this.storage=s.storage,this.relayer=s.relayer,this.pairing=s.pairing,this.verify=s.verify,this.echoClient=s.echoClient,this.linkModeSupportedApps=s.linkModeSupportedApps,this.eventClient=s.eventClient,this.initialized=s.initialized,this.logChunkController=s.logChunkController,s}catch(u){console.warn("Failed to copy global core",u)}this.projectId=e?.projectId,this.relayUrl=e?.relayUrl||BO,this.customStoragePrefix=e!=null&&e.customStoragePrefix?`:${e.customStoragePrefix}`:"";const i=hp({level:typeof e?.logger=="string"&&e.logger?e.logger:dJ.logger,name:n2}),{logger:a,chunkLoggerController:c}=O6({opts:i,maxSizeInBytes:e?.maxLogBlobSizeInBytes,loggerOverride:e?.logger});this.logChunkController=c,(n=this.logChunkController)!=null&&n.downloadLogsBlobInBrowser&&(window.downloadLogsBlobInBrowser=async()=>{var u,f;(u=this.logChunkController)!=null&&u.downloadLogsBlobInBrowser&&((f=this.logChunkController)==null||f.downloadLogsBlobInBrowser({clientId:await this.crypto.getClientId()}))}),this.logger=rs(a,this.name),this.heartbeat=new _z,this.crypto=new bte(this,this.logger,e?.keychain),this.history=new Ine(this,this.logger),this.expirer=new Mne(this,this.logger),this.storage=e!=null&&e.storage?e.storage:new uH(K_(K_({},hJ),e?.storageOptions)),this.relayer=new Wte({core:this,logger:this.logger,relayUrl:this.relayUrl,projectId:this.projectId}),this.pairing=new Nne(this,this.logger),this.verify=new Une(this,this.logger,this.storage),this.echoClient=new kne(this.projectId||"",this.logger),this.linkModeSupportedApps=[],this.eventClient=new Hne(this,this.logger,e?.telemetryEnabled),this.setGlobalCore(this)}static async init(e){const n=new ZO(e);await n.initialize();const s=await n.crypto.getClientId();return await n.storage.setItem(NJ,s),n}get context(){return Is(this.logger)}async start(){this.initialized||await this.initialize()}async getLogsBlob(){var e;return(e=this.logChunkController)==null?void 0:e.logsToBlob({clientId:await this.crypto.getClientId()})}async addLinkModeSupportedApp(e){this.linkModeSupportedApps.includes(e)||(this.linkModeSupportedApps.push(e),await this.storage.setItem(N_,this.linkModeSupportedApps))}async initialize(){this.logger.trace("Initialized");try{await this.crypto.init(),await this.history.init(),await this.expirer.init(),await this.relayer.init(),await this.heartbeat.init(),await this.pairing.init(),this.linkModeSupportedApps=await this.storage.getItem(N_)||[],this.initialized=!0,this.logger.info("Core Initialization Success")}catch(e){throw this.logger.warn(`Core Initialization Failure at epoch ${Date.now()}`,e),this.logger.error(e.message),e}}getGlobalCore(e=""){try{if(this.isGlobalCoreDisabled())return;const n=`_walletConnectCore_${e}`,s=`${n}_count`;return globalThis[s]=(globalThis[s]||0)+1,globalThis[s]>1&&console.warn(`WalletConnect Core is already initialized. This is probably a mistake and can lead to unexpected behavior. Init() was called ${globalThis[s]} times.`),globalThis[n]}catch(n){console.warn("Failed to get global WalletConnect core",n);return}}setGlobalCore(e){var n;try{if(this.isGlobalCoreDisabled())return;const s=`_walletConnectCore_${((n=e.opts)==null?void 0:n.customStoragePrefix)||""}`;globalThis[s]=e}catch(s){console.warn("Failed to set global WalletConnect core",s)}}isGlobalCoreDisabled(){try{return typeof process<"u"&&fJ.DISABLE_GLOBAL_CORE==="true"}catch{return!0}}};const Kne=Wne,JO="wc",eM=2,tM="client",iA=`${JO}@${eM}:${tM}:`,_b={name:tM,logger:"error"},G_="WALLETCONNECT_DEEPLINK_CHOICE",Gne="proposal",Y_="Proposal expired",Yne="session",lu=we.SEVEN_DAYS,Xne="engine",yn={wc_sessionPropose:{req:{ttl:we.FIVE_MINUTES,prompt:!0,tag:1100},res:{ttl:we.FIVE_MINUTES,prompt:!1,tag:1101},reject:{ttl:we.FIVE_MINUTES,prompt:!1,tag:1120},autoReject:{ttl:we.FIVE_MINUTES,prompt:!1,tag:1121}},wc_sessionSettle:{req:{ttl:we.FIVE_MINUTES,prompt:!1,tag:1102},res:{ttl:we.FIVE_MINUTES,prompt:!1,tag:1103}},wc_sessionUpdate:{req:{ttl:we.ONE_DAY,prompt:!1,tag:1104},res:{ttl:we.ONE_DAY,prompt:!1,tag:1105}},wc_sessionExtend:{req:{ttl:we.ONE_DAY,prompt:!1,tag:1106},res:{ttl:we.ONE_DAY,prompt:!1,tag:1107}},wc_sessionRequest:{req:{ttl:we.FIVE_MINUTES,prompt:!0,tag:1108},res:{ttl:we.FIVE_MINUTES,prompt:!1,tag:1109}},wc_sessionEvent:{req:{ttl:we.FIVE_MINUTES,prompt:!0,tag:1110},res:{ttl:we.FIVE_MINUTES,prompt:!1,tag:1111}},wc_sessionDelete:{req:{ttl:we.ONE_DAY,prompt:!1,tag:1112},res:{ttl:we.ONE_DAY,prompt:!1,tag:1113}},wc_sessionPing:{req:{ttl:we.ONE_DAY,prompt:!1,tag:1114},res:{ttl:we.ONE_DAY,prompt:!1,tag:1115}},wc_sessionAuthenticate:{req:{ttl:we.ONE_HOUR,prompt:!0,tag:1116},res:{ttl:we.ONE_HOUR,prompt:!1,tag:1117},reject:{ttl:we.FIVE_MINUTES,prompt:!1,tag:1118},autoReject:{ttl:we.FIVE_MINUTES,prompt:!1,tag:1119}}},Ib={min:we.FIVE_MINUTES,max:we.SEVEN_DAYS},pr={idle:"IDLE",active:"ACTIVE"},Qne={eth_sendTransaction:{key:""},eth_sendRawTransaction:{key:""},wallet_sendCalls:{key:""},solana_signTransaction:{key:"signature"},solana_signAllTransactions:{key:"transactions"},solana_signAndSendTransaction:{key:"signature"},sui_signAndExecuteTransaction:{key:"digest"},sui_signTransaction:{key:""},hedera_signAndExecuteTransaction:{key:"transactionId"},hedera_executeTransaction:{key:"transactionId"},near_signTransaction:{key:""},near_signTransactions:{key:""},tron_signTransaction:{key:"txID"},xrpl_signTransaction:{key:""},xrpl_signTransactionFor:{key:""},algo_signTxn:{key:""},sendTransfer:{key:"txid"},stacks_stxTransfer:{key:"txId"},polkadot_signTransaction:{key:""},cosmos_signDirect:{key:""}},Zne="request",Jne=["wc_sessionPropose","wc_sessionRequest","wc_authRequest","wc_sessionAuthenticate"],ese="wc",tse="auth",nse="authKeys",sse="pairingTopics",ise="requests",Gm=`${ese}@${1.5}:${tse}:`,B0=`${Gm}:PUB_KEY`;var rse=Object.defineProperty,ose=Object.defineProperties,ase=Object.getOwnPropertyDescriptors,X_=Object.getOwnPropertySymbols,cse=Object.prototype.hasOwnProperty,lse=Object.prototype.propertyIsEnumerable,h2=(t,e,n)=>e in t?rse(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Pt=(t,e)=>{for(var n in e||(e={}))cse.call(e,n)&&h2(t,n,e[n]);if(X_)for(var n of X_(e))lse.call(e,n)&&h2(t,n,e[n]);return t},gs=(t,e)=>ose(t,ase(e)),he=(t,e,n)=>h2(t,typeof e!="symbol"?e+"":e,n);class use extends WH{constructor(e){super(e),he(this,"name",Xne),he(this,"events",new DE),he(this,"initialized",!1),he(this,"requestQueue",{state:pr.idle,queue:[]}),he(this,"sessionRequestQueue",{state:pr.idle,queue:[]}),he(this,"emittedSessionRequests",new eY({limit:500})),he(this,"requestQueueDelay",we.ONE_SECOND),he(this,"expectedPairingMethodMap",new Map),he(this,"recentlyDeletedMap",new Map),he(this,"recentlyDeletedLimit",200),he(this,"relayMessageCache",[]),he(this,"pendingSessions",new Map),he(this,"init",async()=>{this.initialized||(await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.registerPairingEvents(),await this.registerLinkModeListeners(),this.client.core.pairing.register({methods:Object.keys(yn)}),this.initialized=!0,setTimeout(async()=>{await this.processPendingMessageEvents(),this.sessionRequestQueue.queue=this.getPendingSessionRequests(),this.processSessionRequestQueue()},we.toMiliseconds(this.requestQueueDelay)))}),he(this,"connect",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();const s=gs(Pt({},n),{requiredNamespaces:n.requiredNamespaces||{},optionalNamespaces:n.optionalNamespaces||{}});await this.isValidConnect(s),s.optionalNamespaces=tZ(s.requiredNamespaces,s.optionalNamespaces),s.requiredNamespaces={};const{pairingTopic:i,requiredNamespaces:a,optionalNamespaces:c,sessionProperties:u,scopedProperties:f,relays:h}=s;let p=i,g,y=!1;try{if(p){const I=this.client.core.pairing.pairings.get(p);this.client.logger.warn("connect() with existing pairing topic is deprecated and will be removed in the next major release."),y=I.active}}catch(I){throw this.client.logger.error(`connect() -> pairing.get(${p}) failed`),I}if(!p||!y){const{topic:I,uri:$}=await this.client.core.pairing.create();p=I,g=$}if(!p){const{message:I}=ye("NO_MATCHING_KEY",`connect() pairing topic: ${p}`);throw new Error(I)}const b=await this.client.core.crypto.generateKeyPair(),v=yn.wc_sessionPropose.req.ttl||we.FIVE_MINUTES,E=hn(v),A=gs(Pt(Pt({requiredNamespaces:a,optionalNamespaces:c,relays:h??[{protocol:kO}],proposer:{publicKey:b,metadata:this.client.metadata},expiryTimestamp:E,pairingTopic:p},u&&{sessionProperties:u}),f&&{scopedProperties:f}),{id:yr()}),x=dt("session_connect",A.id),{reject:D,resolve:S,done:N}=_c(v,Y_),T=({id:I})=>{I===A.id&&(this.client.events.off("proposal_expire",T),this.pendingSessions.delete(A.id),this.events.emit(x,{error:{message:Y_,code:0}}))};return this.client.events.on("proposal_expire",T),this.events.once(x,({error:I,session:$})=>{this.client.events.off("proposal_expire",T),I?D(I):$&&S($)}),await this.sendRequest({topic:p,method:"wc_sessionPropose",params:A,throwOnFailedPublish:!0,clientRpcId:A.id}),await this.setProposal(A.id,A),{uri:g,approval:N}}),he(this,"pair",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{return await this.client.core.pairing.pair(n)}catch(s){throw this.client.logger.error("pair() failed"),s}}),he(this,"approve",async n=>{var s,i,a;const c=this.client.core.eventClient.createEvent({properties:{topic:(s=n?.id)==null?void 0:s.toString(),trace:[ji.session_approve_started]}});try{this.isInitialized(),await this.confirmOnlineStateOrThrow()}catch(M){throw c.setError(Ac.no_internet_connection),M}try{await this.isValidProposalId(n?.id)}catch(M){throw this.client.logger.error(`approve() -> proposal.get(${n?.id}) failed`),c.setError(Ac.proposal_not_found),M}try{await this.isValidApprove(n)}catch(M){throw this.client.logger.error("approve() -> isValidApprove() failed"),c.setError(Ac.session_approve_namespace_validation_failure),M}const{id:u,relayProtocol:f,namespaces:h,sessionProperties:p,scopedProperties:g,sessionConfig:y}=n,b=this.client.proposal.get(u);this.client.core.eventClient.deleteEvent({eventId:c.eventId});const{pairingTopic:v,proposer:E,requiredNamespaces:A,optionalNamespaces:x}=b;let D=(i=this.client.core.eventClient)==null?void 0:i.getEvent({topic:v});D||(D=(a=this.client.core.eventClient)==null?void 0:a.createEvent({type:ji.session_approve_started,properties:{topic:v,trace:[ji.session_approve_started,ji.session_namespaces_validation_success]}}));const S=await this.client.core.crypto.generateKeyPair(),N=E.publicKey,T=await this.client.core.crypto.generateSharedKey(S,N),I=Pt(Pt(Pt({relay:{protocol:f??"irn"},namespaces:h,controller:{publicKey:S,metadata:this.client.metadata},expiry:hn(lu)},p&&{sessionProperties:p}),g&&{scopedProperties:g}),y&&{sessionConfig:y}),$=Lt.relay;D.addTrace(ji.subscribing_session_topic);try{await this.client.core.relayer.subscribe(T,{transportType:$})}catch(M){throw D.setError(Ac.subscribe_session_topic_failure),M}D.addTrace(ji.subscribe_session_topic_success);const P=gs(Pt({},I),{topic:T,requiredNamespaces:A,optionalNamespaces:x,pairingTopic:v,acknowledged:!1,self:I.controller,peer:{publicKey:E.publicKey,metadata:E.metadata},controller:S,transportType:Lt.relay});await this.client.session.set(T,P),D.addTrace(ji.store_session);try{D.addTrace(ji.publishing_session_settle),await this.sendRequest({topic:T,method:"wc_sessionSettle",params:I,throwOnFailedPublish:!0}).catch(M=>{throw D?.setError(Ac.session_settle_publish_failure),M}),D.addTrace(ji.session_settle_publish_success),D.addTrace(ji.publishing_session_approve),await this.sendResult({id:u,topic:v,result:{relay:{protocol:f??"irn"},responderPublicKey:S},throwOnFailedPublish:!0}).catch(M=>{throw D?.setError(Ac.session_approve_publish_failure),M}),D.addTrace(ji.session_approve_publish_success)}catch(M){throw this.client.logger.error(M),this.client.session.delete(T,jt("USER_DISCONNECTED")),await this.client.core.relayer.unsubscribe(T),M}return this.client.core.eventClient.deleteEvent({eventId:D.eventId}),await this.client.core.pairing.updateMetadata({topic:v,metadata:E.metadata}),await this.deleteProposal(u),await this.client.core.pairing.activate({topic:v}),await this.setExpiry(T,hn(lu)),{topic:T,acknowledged:()=>Promise.resolve(this.client.session.get(T))}}),he(this,"reject",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidReject(n)}catch(c){throw this.client.logger.error("reject() -> isValidReject() failed"),c}const{id:s,reason:i}=n;let a;try{a=this.client.proposal.get(s).pairingTopic}catch(c){throw this.client.logger.error(`reject() -> proposal.get(${s}) failed`),c}a&&await this.sendError({id:s,topic:a,error:i,rpcOpts:yn.wc_sessionPropose.reject}),await this.deleteProposal(s)}),he(this,"update",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidUpdate(n)}catch(g){throw this.client.logger.error("update() -> isValidUpdate() failed"),g}const{topic:s,namespaces:i}=n,{done:a,resolve:c,reject:u}=_c(),f=yr(),h=jc().toString(),p=this.client.session.get(s).namespaces;return this.events.once(dt("session_update",f),({error:g})=>{g?u(g):c()}),await this.client.session.update(s,{namespaces:i}),await this.sendRequest({topic:s,method:"wc_sessionUpdate",params:{namespaces:i},throwOnFailedPublish:!0,clientRpcId:f,relayRpcId:h}).catch(g=>{this.client.logger.error(g),this.client.session.update(s,{namespaces:p}),u(g)}),{acknowledged:a}}),he(this,"extend",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidExtend(n)}catch(f){throw this.client.logger.error("extend() -> isValidExtend() failed"),f}const{topic:s}=n,i=yr(),{done:a,resolve:c,reject:u}=_c();return this.events.once(dt("session_extend",i),({error:f})=>{f?u(f):c()}),await this.setExpiry(s,hn(lu)),this.sendRequest({topic:s,method:"wc_sessionExtend",params:{},clientRpcId:i,throwOnFailedPublish:!0}).catch(f=>{u(f)}),{acknowledged:a}}),he(this,"request",async n=>{this.isInitialized();try{await this.isValidRequest(n)}catch(A){throw this.client.logger.error("request() -> isValidRequest() failed"),A}const{chainId:s,request:i,topic:a,expiry:c=yn.wc_sessionRequest.req.ttl}=n,u=this.client.session.get(a);u?.transportType===Lt.relay&&await this.confirmOnlineStateOrThrow();const f=yr(),h=jc().toString(),{done:p,resolve:g,reject:y}=_c(c,"Request expired. Please try again.");this.events.once(dt("session_request",f),({error:A,result:x})=>{A?y(A):g(x)});const b="wc_sessionRequest",v=this.getAppLinkIfEnabled(u.peer.metadata,u.transportType);if(v)return await this.sendRequest({clientRpcId:f,relayRpcId:h,topic:a,method:b,params:{request:gs(Pt({},i),{expiryTimestamp:hn(c)}),chainId:s},expiry:c,throwOnFailedPublish:!0,appLink:v}).catch(A=>y(A)),this.client.events.emit("session_request_sent",{topic:a,request:i,chainId:s,id:f}),await p();const E={request:gs(Pt({},i),{expiryTimestamp:hn(c)}),chainId:s};return await Promise.all([new Promise(async A=>{await this.sendRequest({clientRpcId:f,relayRpcId:h,topic:a,method:b,params:E,expiry:c,throwOnFailedPublish:!0,tvf:this.getTVFParams(f,E)}).catch(x=>y(x)),this.client.events.emit("session_request_sent",{topic:a,request:i,chainId:s,id:f}),A()}),new Promise(async A=>{var x;if(!((x=u.sessionConfig)!=null&&x.disableDeepLink)){const D=await YG(this.client.core.storage,G_);await WG({id:f,topic:a,wcDeepLink:D})}A()}),p()]).then(A=>A[2])}),he(this,"respond",async n=>{this.isInitialized(),await this.isValidRespond(n);const{topic:s,response:i}=n,{id:a}=i,c=this.client.session.get(s);c.transportType===Lt.relay&&await this.confirmOnlineStateOrThrow();const u=this.getAppLinkIfEnabled(c.peer.metadata,c.transportType);wr(i)?await this.sendResult({id:a,topic:s,result:i.result,throwOnFailedPublish:!0,appLink:u}):vi(i)&&await this.sendError({id:a,topic:s,error:i.error,appLink:u}),this.cleanupAfterResponse(n)}),he(this,"ping",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidPing(n)}catch(i){throw this.client.logger.error("ping() -> isValidPing() failed"),i}const{topic:s}=n;if(this.client.session.keys.includes(s)){const i=yr(),a=jc().toString(),{done:c,resolve:u,reject:f}=_c();this.events.once(dt("session_ping",i),({error:h})=>{h?f(h):u()}),await Promise.all([this.sendRequest({topic:s,method:"wc_sessionPing",params:{},throwOnFailedPublish:!0,clientRpcId:i,relayRpcId:a}),c()])}else this.client.core.pairing.pairings.keys.includes(s)&&(this.client.logger.warn("ping() on pairing topic is deprecated and will be removed in the next major release."),await this.client.core.pairing.ping({topic:s}))}),he(this,"emit",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow(),await this.isValidEmit(n);const{topic:s,event:i,chainId:a}=n,c=jc().toString(),u=yr();await this.sendRequest({topic:s,method:"wc_sessionEvent",params:{event:i,chainId:a},throwOnFailedPublish:!0,relayRpcId:c,clientRpcId:u})}),he(this,"disconnect",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow(),await this.isValidDisconnect(n);const{topic:s}=n;if(this.client.session.keys.includes(s))await this.sendRequest({topic:s,method:"wc_sessionDelete",params:jt("USER_DISCONNECTED"),throwOnFailedPublish:!0}),await this.deleteSession({topic:s,emitEvent:!1});else if(this.client.core.pairing.pairings.keys.includes(s))await this.client.core.pairing.disconnect({topic:s});else{const{message:i}=ye("MISMATCHED_TOPIC",`Session or pairing topic not found: ${s}`);throw new Error(i)}}),he(this,"find",n=>(this.isInitialized(),this.client.session.getAll().filter(s=>iZ(s,n)))),he(this,"getPendingSessionRequests",()=>this.client.pendingRequest.getAll()),he(this,"authenticate",async(n,s)=>{var i;this.isInitialized(),this.isValidAuthenticate(n);const a=s&&this.client.core.linkModeSupportedApps.includes(s)&&((i=this.client.metadata.redirect)==null?void 0:i.linkMode),c=a?Lt.link_mode:Lt.relay;c===Lt.relay&&await this.confirmOnlineStateOrThrow();const{chains:u,statement:f="",uri:h,domain:p,nonce:g,type:y,exp:b,nbf:v,methods:E=[],expiry:A}=n,x=[...n.resources||[]],{topic:D,uri:S}=await this.client.core.pairing.create({methods:["wc_sessionAuthenticate"],transportType:c});this.client.logger.info({message:"Generated new pairing",pairing:{topic:D,uri:S}});const N=await this.client.core.crypto.generateKeyPair(),T=L0(N);if(await Promise.all([this.client.auth.authKeys.set(B0,{responseTopic:T,publicKey:N}),this.client.auth.pairingTopics.set(T,{topic:T,pairingTopic:D})]),await this.client.core.relayer.subscribe(T,{transportType:c}),this.client.logger.info(`sending request to new pairing topic: ${D}`),E.length>0){const{namespace:G}=zu(u[0]);let V=fX(G,"request",E);P0(x)&&(V=hX(V,x.pop())),x.push(V)}const I=A&&A>yn.wc_sessionAuthenticate.req.ttl?A:yn.wc_sessionAuthenticate.req.ttl,$={authPayload:{type:y??"caip122",chains:u,statement:f,aud:h,domain:p,version:"1",nonce:g,iat:new Date().toISOString(),exp:b,nbf:v,resources:x},requester:{publicKey:N,metadata:this.client.metadata},expiryTimestamp:hn(I)},P={eip155:{chains:u,methods:[...new Set(["personal_sign",...E])],events:["chainChanged","accountsChanged"]}},M={requiredNamespaces:{},optionalNamespaces:P,relays:[{protocol:"irn"}],pairingTopic:D,proposer:{publicKey:N,metadata:this.client.metadata},expiryTimestamp:hn(yn.wc_sessionPropose.req.ttl),id:yr()},{done:z,resolve:q,reject:F}=_c(I,"Request expired"),ee=yr(),Q=dt("session_connect",M.id),R=dt("session_request",ee),_=async({error:G,session:V})=>{this.events.off(R,k),G?F(G):V&&q({session:V})},k=async G=>{var V,U,K;if(await this.deletePendingAuthRequest(ee,{message:"fulfilled",code:0}),G.error){const Te=jt("WC_METHOD_UNSUPPORTED","wc_sessionAuthenticate");return G.error.code===Te.code?void 0:(this.events.off(Q,_),F(G.error.message))}await this.deleteProposal(M.id),this.events.off(Q,_);const{cacaos:te,responder:ie}=G.result,ue=[],pe=[];for(const Te of te){await kT({cacao:Te,projectId:this.client.core.projectId})||(this.client.logger.error(Te,"Signature verification failed"),F(jt("SESSION_SETTLEMENT_FAILED","Signature verification failed")));const{p:mt}=Te,Ot=P0(mt.resources),Os=[Vv(mt.iss)],Rr=hm(mt.iss);if(Ot){const Sn=BT(Ot),Qi=jT(Ot);ue.push(...Sn),Os.push(...Qi)}for(const Sn of Os)pe.push(`${Sn}:${Rr}`)}const xe=await this.client.core.crypto.generateSharedKey(N,ie.publicKey);let ke;ue.length>0&&(ke={topic:xe,acknowledged:!0,self:{publicKey:N,metadata:this.client.metadata},peer:ie,controller:ie.publicKey,expiry:hn(lu),requiredNamespaces:{},optionalNamespaces:{},relay:{protocol:"irn"},pairingTopic:D,namespaces:u_([...new Set(ue)],[...new Set(pe)]),transportType:c},await this.client.core.relayer.subscribe(xe,{transportType:c}),await this.client.session.set(xe,ke),D&&await this.client.core.pairing.updateMetadata({topic:D,metadata:ie.metadata}),ke=this.client.session.get(xe)),(V=this.client.metadata.redirect)!=null&&V.linkMode&&(U=ie.metadata.redirect)!=null&&U.linkMode&&(K=ie.metadata.redirect)!=null&&K.universal&&s&&(this.client.core.addLinkModeSupportedApp(ie.metadata.redirect.universal),this.client.session.update(xe,{transportType:Lt.link_mode})),q({auths:te,session:ke})};this.events.once(Q,_),this.events.once(R,k);let H;try{if(a){const G=Da("wc_sessionAuthenticate",$,ee);this.client.core.history.set(D,G);const V=await this.client.core.crypto.encode("",G,{type:bp,encoding:Na});H=d0(s,D,V)}else await Promise.all([this.sendRequest({topic:D,method:"wc_sessionAuthenticate",params:$,expiry:n.expiry,throwOnFailedPublish:!0,clientRpcId:ee}),this.sendRequest({topic:D,method:"wc_sessionPropose",params:M,expiry:yn.wc_sessionPropose.req.ttl,throwOnFailedPublish:!0,clientRpcId:M.id})])}catch(G){throw this.events.off(Q,_),this.events.off(R,k),G}return await this.setProposal(M.id,M),await this.setAuthRequest(ee,{request:gs(Pt({},$),{verifyContext:{}}),pairingTopic:D,transportType:c}),{uri:H??S,response:z}}),he(this,"approveSessionAuthenticate",async n=>{const{id:s,auths:i}=n,a=this.client.core.eventClient.createEvent({properties:{topic:s.toString(),trace:[Cc.authenticated_session_approve_started]}});try{this.isInitialized()}catch(A){throw a.setError(Od.no_internet_connection),A}const c=this.getPendingAuthRequest(s);if(!c)throw a.setError(Od.authenticated_session_pending_request_not_found),new Error(`Could not find pending auth request with id ${s}`);const u=c.transportType||Lt.relay;u===Lt.relay&&await this.confirmOnlineStateOrThrow();const f=c.requester.publicKey,h=await this.client.core.crypto.generateKeyPair(),p=L0(f),g={type:bo,receiverPublicKey:f,senderPublicKey:h},y=[],b=[];for(const A of i){if(!await kT({cacao:A,projectId:this.client.core.projectId})){a.setError(Od.invalid_cacao);const T=jt("SESSION_SETTLEMENT_FAILED","Signature verification failed");throw await this.sendError({id:s,topic:p,error:T,encodeOpts:g}),new Error(T.message)}a.addTrace(Cc.cacaos_verified);const{p:x}=A,D=P0(x.resources),S=[Vv(x.iss)],N=hm(x.iss);if(D){const T=BT(D),I=jT(D);y.push(...T),S.push(...I)}for(const T of S)b.push(`${T}:${N}`)}const v=await this.client.core.crypto.generateSharedKey(h,f);a.addTrace(Cc.create_authenticated_session_topic);let E;if(y?.length>0){E={topic:v,acknowledged:!0,self:{publicKey:h,metadata:this.client.metadata},peer:{publicKey:f,metadata:c.requester.metadata},controller:f,expiry:hn(lu),authentication:i,requiredNamespaces:{},optionalNamespaces:{},relay:{protocol:"irn"},pairingTopic:c.pairingTopic,namespaces:u_([...new Set(y)],[...new Set(b)]),transportType:u},a.addTrace(Cc.subscribing_authenticated_session_topic);try{await this.client.core.relayer.subscribe(v,{transportType:u})}catch(A){throw a.setError(Od.subscribe_authenticated_session_topic_failure),A}a.addTrace(Cc.subscribe_authenticated_session_topic_success),await this.client.session.set(v,E),a.addTrace(Cc.store_authenticated_session),await this.client.core.pairing.updateMetadata({topic:c.pairingTopic,metadata:c.requester.metadata})}a.addTrace(Cc.publishing_authenticated_session_approve);try{await this.sendResult({topic:p,id:s,result:{cacaos:i,responder:{publicKey:h,metadata:this.client.metadata}},encodeOpts:g,throwOnFailedPublish:!0,appLink:this.getAppLinkIfEnabled(c.requester.metadata,u)})}catch(A){throw a.setError(Od.authenticated_session_approve_publish_failure),A}return await this.client.auth.requests.delete(s,{message:"fulfilled",code:0}),await this.client.core.pairing.activate({topic:c.pairingTopic}),this.client.core.eventClient.deleteEvent({eventId:a.eventId}),{session:E}}),he(this,"rejectSessionAuthenticate",async n=>{this.isInitialized();const{id:s,reason:i}=n,a=this.getPendingAuthRequest(s);if(!a)throw new Error(`Could not find pending auth request with id ${s}`);a.transportType===Lt.relay&&await this.confirmOnlineStateOrThrow();const c=a.requester.publicKey,u=await this.client.core.crypto.generateKeyPair(),f=L0(c),h={type:bo,receiverPublicKey:c,senderPublicKey:u};await this.sendError({id:s,topic:f,error:i,encodeOpts:h,rpcOpts:yn.wc_sessionAuthenticate.reject,appLink:this.getAppLinkIfEnabled(a.requester.metadata,a.transportType)}),await this.client.auth.requests.delete(s,{message:"rejected",code:0}),await this.deleteProposal(s)}),he(this,"formatAuthMessage",n=>{this.isInitialized();const{request:s,iss:i}=n;return JD(s,i)}),he(this,"processRelayMessageCache",()=>{setTimeout(async()=>{if(this.relayMessageCache.length!==0)for(;this.relayMessageCache.length>0;)try{const n=this.relayMessageCache.shift();n&&await this.onRelayMessage(n)}catch(n){this.client.logger.error(n)}},50)}),he(this,"cleanupDuplicatePairings",async n=>{if(n.pairingTopic)try{const s=this.client.core.pairing.pairings.get(n.pairingTopic),i=this.client.core.pairing.pairings.getAll().filter(a=>{var c,u;return((c=a.peerMetadata)==null?void 0:c.url)&&((u=a.peerMetadata)==null?void 0:u.url)===n.peer.metadata.url&&a.topic&&a.topic!==s.topic});if(i.length===0)return;this.client.logger.info(`Cleaning up ${i.length} duplicate pairing(s)`),await Promise.all(i.map(a=>this.client.core.pairing.disconnect({topic:a.topic}))),this.client.logger.info("Duplicate pairings clean up finished")}catch(s){this.client.logger.error(s)}}),he(this,"deleteSession",async n=>{var s;const{topic:i,expirerHasDeleted:a=!1,emitEvent:c=!0,id:u=0}=n,{self:f}=this.client.session.get(i);await this.client.core.relayer.unsubscribe(i),await this.client.session.delete(i,jt("USER_DISCONNECTED")),this.addToRecentlyDeleted(i,"session"),this.client.core.crypto.keychain.has(f.publicKey)&&await this.client.core.crypto.deleteKeyPair(f.publicKey),this.client.core.crypto.keychain.has(i)&&await this.client.core.crypto.deleteSymKey(i),a||this.client.core.expirer.del(i),this.client.core.storage.removeItem(G_).catch(h=>this.client.logger.warn(h)),this.getPendingSessionRequests().forEach(h=>{h.topic===i&&this.deletePendingSessionRequest(h.id,jt("USER_DISCONNECTED"))}),i===((s=this.sessionRequestQueue.queue[0])==null?void 0:s.topic)&&(this.sessionRequestQueue.state=pr.idle),c&&this.client.events.emit("session_delete",{id:u,topic:i})}),he(this,"deleteProposal",async(n,s)=>{if(s)try{const i=this.client.proposal.get(n);this.client.core.eventClient.getEvent({topic:i.pairingTopic})?.setError(Ac.proposal_expired)}catch{}await Promise.all([this.client.proposal.delete(n,jt("USER_DISCONNECTED")),s?Promise.resolve():this.client.core.expirer.del(n)]),this.addToRecentlyDeleted(n,"proposal")}),he(this,"deletePendingSessionRequest",async(n,s,i=!1)=>{await Promise.all([this.client.pendingRequest.delete(n,s),i?Promise.resolve():this.client.core.expirer.del(n)]),this.addToRecentlyDeleted(n,"request"),this.sessionRequestQueue.queue=this.sessionRequestQueue.queue.filter(a=>a.id!==n),i&&(this.sessionRequestQueue.state=pr.idle,this.client.events.emit("session_request_expire",{id:n}))}),he(this,"deletePendingAuthRequest",async(n,s,i=!1)=>{await Promise.all([this.client.auth.requests.delete(n,s),i?Promise.resolve():this.client.core.expirer.del(n)])}),he(this,"setExpiry",async(n,s)=>{this.client.session.keys.includes(n)&&(this.client.core.expirer.set(n,s),await this.client.session.update(n,{expiry:s}))}),he(this,"setProposal",async(n,s)=>{this.client.core.expirer.set(n,hn(yn.wc_sessionPropose.req.ttl)),await this.client.proposal.set(n,s)}),he(this,"setAuthRequest",async(n,s)=>{const{request:i,pairingTopic:a,transportType:c=Lt.relay}=s;this.client.core.expirer.set(n,i.expiryTimestamp),await this.client.auth.requests.set(n,{authPayload:i.authPayload,requester:i.requester,expiryTimestamp:i.expiryTimestamp,id:n,pairingTopic:a,verifyContext:i.verifyContext,transportType:c})}),he(this,"setPendingSessionRequest",async n=>{const{id:s,topic:i,params:a,verifyContext:c}=n,u=a.request.expiryTimestamp||hn(yn.wc_sessionRequest.req.ttl);this.client.core.expirer.set(s,u),await this.client.pendingRequest.set(s,{id:s,topic:i,params:a,verifyContext:c})}),he(this,"sendRequest",async n=>{const{topic:s,method:i,params:a,expiry:c,relayRpcId:u,clientRpcId:f,throwOnFailedPublish:h,appLink:p,tvf:g}=n,y=Da(i,a,f);let b;const v=!!p;try{const x=v?Na:Ki;b=await this.client.core.crypto.encode(s,y,{encoding:x})}catch(x){throw await this.cleanup(),this.client.logger.error(`sendRequest() -> core.crypto.encode() for topic ${s} failed`),x}let E;if(Jne.includes(i)){const x=br(JSON.stringify(y)),D=br(b);E=await this.client.core.verify.register({id:D,decryptedId:x})}const A=yn[i].req;if(A.attestation=E,c&&(A.ttl=c),u&&(A.id=u),this.client.core.history.set(s,y),v){const x=d0(p,s,b);await global.Linking.openURL(x,this.client.name)}else{const x=yn[i].req;c&&(x.ttl=c),u&&(x.id=u),x.tvf=gs(Pt({},g),{correlationId:y.id}),h?(x.internal=gs(Pt({},x.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(s,b,x)):this.client.core.relayer.publish(s,b,x).catch(D=>this.client.logger.error(D))}return y.id}),he(this,"sendResult",async n=>{const{id:s,topic:i,result:a,throwOnFailedPublish:c,encodeOpts:u,appLink:f}=n,h=qm(s,a);let p;const g=f&&typeof(global==null?void 0:global.Linking)<"u";try{const v=g?Na:Ki;p=await this.client.core.crypto.encode(i,h,gs(Pt({},u||{}),{encoding:v}))}catch(v){throw await this.cleanup(),this.client.logger.error(`sendResult() -> core.crypto.encode() for topic ${i} failed`),v}let y,b;try{y=await this.client.core.history.get(i,s);const v=y.request;try{b=this.getTVFParams(s,v.params,a)}catch(E){this.client.logger.warn(`sendResult() -> getTVFParams() failed: ${E?.message}`)}}catch(v){throw this.client.logger.error(`sendResult() -> history.get(${i}, ${s}) failed`),v}if(g){const v=d0(f,i,p);await global.Linking.openURL(v,this.client.name)}else{const v=y.request.method,E=yn[v].res;E.tvf=gs(Pt({},b),{correlationId:s}),c?(E.internal=gs(Pt({},E.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(i,p,E)):this.client.core.relayer.publish(i,p,E).catch(A=>this.client.logger.error(A))}await this.client.core.history.resolve(h)}),he(this,"sendError",async n=>{const{id:s,topic:i,error:a,encodeOpts:c,rpcOpts:u,appLink:f}=n,h=Vm(s,a);let p;const g=f&&typeof(global==null?void 0:global.Linking)<"u";try{const b=g?Na:Ki;p=await this.client.core.crypto.encode(i,h,gs(Pt({},c||{}),{encoding:b}))}catch(b){throw await this.cleanup(),this.client.logger.error(`sendError() -> core.crypto.encode() for topic ${i} failed`),b}let y;try{y=await this.client.core.history.get(i,s)}catch(b){throw this.client.logger.error(`sendError() -> history.get(${i}, ${s}) failed`),b}if(g){const b=d0(f,i,p);await global.Linking.openURL(b,this.client.name)}else{const b=y.request.method,v=u||yn[b].res;this.client.core.relayer.publish(i,p,v)}await this.client.core.history.resolve(h)}),he(this,"cleanup",async()=>{const n=[],s=[];this.client.session.getAll().forEach(i=>{let a=!1;Aa(i.expiry)&&(a=!0),this.client.core.crypto.keychain.has(i.topic)||(a=!0),a&&n.push(i.topic)}),this.client.proposal.getAll().forEach(i=>{Aa(i.expiryTimestamp)&&s.push(i.id)}),await Promise.all([...n.map(i=>this.deleteSession({topic:i})),...s.map(i=>this.deleteProposal(i))])}),he(this,"onProviderMessageEvent",async n=>{!this.initialized||this.relayMessageCache.length>0?this.relayMessageCache.push(n):await this.onRelayMessage(n)}),he(this,"onRelayEventRequest",async n=>{this.requestQueue.queue.push(n),await this.processRequestsQueue()}),he(this,"processRequestsQueue",async()=>{if(this.requestQueue.state===pr.active){this.client.logger.info("Request queue already active, skipping...");return}for(this.client.logger.info(`Request queue starting with ${this.requestQueue.queue.length} requests`);this.requestQueue.queue.length>0;){this.requestQueue.state=pr.active;const n=this.requestQueue.queue.shift();if(n)try{await this.processRequest(n)}catch(s){this.client.logger.warn(s)}}this.requestQueue.state=pr.idle}),he(this,"processRequest",async n=>{const{topic:s,payload:i,attestation:a,transportType:c,encryptedId:u}=n,f=i.method;if(!this.shouldIgnorePairingRequest({topic:s,requestMethod:f}))switch(f){case"wc_sessionPropose":return await this.onSessionProposeRequest({topic:s,payload:i,attestation:a,encryptedId:u});case"wc_sessionSettle":return await this.onSessionSettleRequest(s,i);case"wc_sessionUpdate":return await this.onSessionUpdateRequest(s,i);case"wc_sessionExtend":return await this.onSessionExtendRequest(s,i);case"wc_sessionPing":return await this.onSessionPingRequest(s,i);case"wc_sessionDelete":return await this.onSessionDeleteRequest(s,i);case"wc_sessionRequest":return await this.onSessionRequest({topic:s,payload:i,attestation:a,encryptedId:u,transportType:c});case"wc_sessionEvent":return await this.onSessionEventRequest(s,i);case"wc_sessionAuthenticate":return await this.onSessionAuthenticateRequest({topic:s,payload:i,attestation:a,encryptedId:u,transportType:c});default:return this.client.logger.info(`Unsupported request method ${f}`)}}),he(this,"onRelayEventResponse",async n=>{const{topic:s,payload:i,transportType:a}=n,c=(await this.client.core.history.get(s,i.id)).request.method;switch(c){case"wc_sessionPropose":return this.onSessionProposeResponse(s,i,a);case"wc_sessionSettle":return this.onSessionSettleResponse(s,i);case"wc_sessionUpdate":return this.onSessionUpdateResponse(s,i);case"wc_sessionExtend":return this.onSessionExtendResponse(s,i);case"wc_sessionPing":return this.onSessionPingResponse(s,i);case"wc_sessionRequest":return this.onSessionRequestResponse(s,i);case"wc_sessionAuthenticate":return this.onSessionAuthenticateResponse(s,i);default:return this.client.logger.info(`Unsupported response method ${c}`)}}),he(this,"onRelayEventUnknownPayload",n=>{const{topic:s}=n,{message:i}=ye("MISSING_OR_INVALID",`Decoded payload on topic ${s} is not identifiable as a JSON-RPC request or a response.`);throw new Error(i)}),he(this,"shouldIgnorePairingRequest",n=>{const{topic:s,requestMethod:i}=n,a=this.expectedPairingMethodMap.get(s);return!a||a.includes(i)?!1:!!(a.includes("wc_sessionAuthenticate")&&this.client.events.listenerCount("session_authenticate")>0)}),he(this,"onSessionProposeRequest",async n=>{const{topic:s,payload:i,attestation:a,encryptedId:c}=n,{params:u,id:f}=i;try{const h=this.client.core.eventClient.getEvent({topic:s});this.client.events.listenerCount("session_proposal")===0&&(console.warn("No listener for session_proposal event"),h?.setError(po.proposal_listener_not_found)),this.isValidConnect(Pt({},i.params));const p=u.expiryTimestamp||hn(yn.wc_sessionPropose.req.ttl),g=Pt({id:f,pairingTopic:s,expiryTimestamp:p,attestation:a,encryptedId:c},u);await this.setProposal(f,g);const y=await this.getVerifyContext({attestationId:a,hash:br(JSON.stringify(i)),encryptedId:c,metadata:g.proposer.metadata});h?.addTrace(mr.emit_session_proposal),this.client.events.emit("session_proposal",{id:f,params:g,verifyContext:y})}catch(h){await this.sendError({id:f,topic:s,error:h,rpcOpts:yn.wc_sessionPropose.autoReject}),this.client.logger.error(h)}}),he(this,"onSessionProposeResponse",async(n,s,i)=>{const{id:a}=s;if(wr(s)){const{result:c}=s;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",result:c});const u=this.client.proposal.get(a);this.client.logger.trace({type:"method",method:"onSessionProposeResponse",proposal:u});const f=u.proposer.publicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",selfPublicKey:f});const h=c.responderPublicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",peerPublicKey:h});const p=await this.client.core.crypto.generateSharedKey(f,h);this.pendingSessions.set(a,{sessionTopic:p,pairingTopic:n,proposalId:a,publicKey:f});const g=await this.client.core.relayer.subscribe(p,{transportType:i});this.client.logger.trace({type:"method",method:"onSessionProposeResponse",subscriptionId:g}),await this.client.core.pairing.activate({topic:n})}else if(vi(s)){await this.deleteProposal(a);const c=dt("session_connect",a);if(this.events.listenerCount(c)===0)throw new Error(`emitting ${c} without any listeners, 954`);this.events.emit(c,{error:s.error})}}),he(this,"onSessionSettleRequest",async(n,s)=>{const{id:i,params:a}=s;try{this.isValidSessionSettleRequest(a);const{relay:c,controller:u,expiry:f,namespaces:h,sessionProperties:p,scopedProperties:g,sessionConfig:y}=s.params,b=[...this.pendingSessions.values()].find(A=>A.sessionTopic===n);if(!b)return this.client.logger.error(`Pending session not found for topic ${n}`);const v=this.client.proposal.get(b.proposalId),E=gs(Pt(Pt(Pt({topic:n,relay:c,expiry:f,namespaces:h,acknowledged:!0,pairingTopic:b.pairingTopic,requiredNamespaces:v.requiredNamespaces,optionalNamespaces:v.optionalNamespaces,controller:u.publicKey,self:{publicKey:b.publicKey,metadata:this.client.metadata},peer:{publicKey:u.publicKey,metadata:u.metadata}},p&&{sessionProperties:p}),g&&{scopedProperties:g}),y&&{sessionConfig:y}),{transportType:Lt.relay});await this.client.session.set(E.topic,E),await this.setExpiry(E.topic,E.expiry),await this.client.core.pairing.updateMetadata({topic:b.pairingTopic,metadata:E.peer.metadata}),this.client.events.emit("session_connect",{session:E}),this.events.emit(dt("session_connect",b.proposalId),{session:E}),this.pendingSessions.delete(b.proposalId),this.deleteProposal(b.proposalId,!1),this.cleanupDuplicatePairings(E),await this.sendResult({id:s.id,topic:n,result:!0})}catch(c){await this.sendError({id:i,topic:n,error:c}),this.client.logger.error(c)}}),he(this,"onSessionSettleResponse",async(n,s)=>{const{id:i}=s;wr(s)?(await this.client.session.update(n,{acknowledged:!0}),this.events.emit(dt("session_approve",i),{})):vi(s)&&(await this.client.session.delete(n,jt("USER_DISCONNECTED")),this.events.emit(dt("session_approve",i),{error:s.error}))}),he(this,"onSessionUpdateRequest",async(n,s)=>{const{params:i,id:a}=s;try{const c=`${n}_session_update`,u=Id.get(c);if(u&&this.isRequestOutOfSync(u,a)){this.client.logger.warn(`Discarding out of sync request - ${a}`),this.sendError({id:a,topic:n,error:jt("INVALID_UPDATE_REQUEST")});return}this.isValidUpdate(Pt({topic:n},i));try{Id.set(c,a),await this.client.session.update(n,{namespaces:i.namespaces}),await this.sendResult({id:a,topic:n,result:!0})}catch(f){throw Id.delete(c),f}this.client.events.emit("session_update",{id:a,topic:n,params:i})}catch(c){await this.sendError({id:a,topic:n,error:c}),this.client.logger.error(c)}}),he(this,"isRequestOutOfSync",(n,s)=>s.toString().slice(0,-3)<n.toString().slice(0,-3)),he(this,"onSessionUpdateResponse",(n,s)=>{const{id:i}=s,a=dt("session_update",i);if(this.events.listenerCount(a)===0)throw new Error(`emitting ${a} without any listeners`);wr(s)?this.events.emit(dt("session_update",i),{}):vi(s)&&this.events.emit(dt("session_update",i),{error:s.error})}),he(this,"onSessionExtendRequest",async(n,s)=>{const{id:i}=s;try{this.isValidExtend({topic:n}),await this.setExpiry(n,hn(lu)),await this.sendResult({id:i,topic:n,result:!0}),this.client.events.emit("session_extend",{id:i,topic:n})}catch(a){await this.sendError({id:i,topic:n,error:a}),this.client.logger.error(a)}}),he(this,"onSessionExtendResponse",(n,s)=>{const{id:i}=s,a=dt("session_extend",i);if(this.events.listenerCount(a)===0)throw new Error(`emitting ${a} without any listeners`);wr(s)?this.events.emit(dt("session_extend",i),{}):vi(s)&&this.events.emit(dt("session_extend",i),{error:s.error})}),he(this,"onSessionPingRequest",async(n,s)=>{const{id:i}=s;try{this.isValidPing({topic:n}),await this.sendResult({id:i,topic:n,result:!0,throwOnFailedPublish:!0}),this.client.events.emit("session_ping",{id:i,topic:n})}catch(a){await this.sendError({id:i,topic:n,error:a}),this.client.logger.error(a)}}),he(this,"onSessionPingResponse",(n,s)=>{const{id:i}=s,a=dt("session_ping",i);setTimeout(()=>{if(this.events.listenerCount(a)===0)throw new Error(`emitting ${a} without any listeners 2176`);wr(s)?this.events.emit(dt("session_ping",i),{}):vi(s)&&this.events.emit(dt("session_ping",i),{error:s.error})},500)}),he(this,"onSessionDeleteRequest",async(n,s)=>{const{id:i}=s;try{this.isValidDisconnect({topic:n,reason:s.params}),Promise.all([new Promise(a=>{this.client.core.relayer.once(vn.publish,async()=>{a(await this.deleteSession({topic:n,id:i}))})}),this.sendResult({id:i,topic:n,result:!0}),this.cleanupPendingSentRequestsForTopic({topic:n,error:jt("USER_DISCONNECTED")})]).catch(a=>this.client.logger.error(a))}catch(a){this.client.logger.error(a)}}),he(this,"onSessionRequest",async n=>{var s,i,a;const{topic:c,payload:u,attestation:f,encryptedId:h,transportType:p}=n,{id:g,params:y}=u;try{await this.isValidRequest(Pt({topic:c},y));const b=this.client.session.get(c),v=await this.getVerifyContext({attestationId:f,hash:br(JSON.stringify(Da("wc_sessionRequest",y,g))),encryptedId:h,metadata:b.peer.metadata,transportType:p}),E={id:g,topic:c,params:y,verifyContext:v};await this.setPendingSessionRequest(E),p===Lt.link_mode&&(s=b.peer.metadata.redirect)!=null&&s.universal&&this.client.core.addLinkModeSupportedApp((i=b.peer.metadata.redirect)==null?void 0:i.universal),(a=this.client.signConfig)!=null&&a.disableRequestQueue?this.emitSessionRequest(E):(this.addSessionRequestToSessionRequestQueue(E),this.processSessionRequestQueue())}catch(b){await this.sendError({id:g,topic:c,error:b}),this.client.logger.error(b)}}),he(this,"onSessionRequestResponse",(n,s)=>{const{id:i}=s,a=dt("session_request",i);if(this.events.listenerCount(a)===0)throw new Error(`emitting ${a} without any listeners`);wr(s)?this.events.emit(dt("session_request",i),{result:s.result}):vi(s)&&this.events.emit(dt("session_request",i),{error:s.error})}),he(this,"onSessionEventRequest",async(n,s)=>{const{id:i,params:a}=s;try{const c=`${n}_session_event_${a.event.name}`,u=Id.get(c);if(u&&this.isRequestOutOfSync(u,i)){this.client.logger.info(`Discarding out of sync request - ${i}`);return}this.isValidEmit(Pt({topic:n},a)),this.client.events.emit("session_event",{id:i,topic:n,params:a}),Id.set(c,i)}catch(c){await this.sendError({id:i,topic:n,error:c}),this.client.logger.error(c)}}),he(this,"onSessionAuthenticateResponse",(n,s)=>{const{id:i}=s;this.client.logger.trace({type:"method",method:"onSessionAuthenticateResponse",topic:n,payload:s}),wr(s)?this.events.emit(dt("session_request",i),{result:s.result}):vi(s)&&this.events.emit(dt("session_request",i),{error:s.error})}),he(this,"onSessionAuthenticateRequest",async n=>{var s;const{topic:i,payload:a,attestation:c,encryptedId:u,transportType:f}=n;try{const{requester:h,authPayload:p,expiryTimestamp:g}=a.params,y=await this.getVerifyContext({attestationId:c,hash:br(JSON.stringify(a)),encryptedId:u,metadata:h.metadata,transportType:f}),b={requester:h,pairingTopic:i,id:a.id,authPayload:p,verifyContext:y,expiryTimestamp:g};await this.setAuthRequest(a.id,{request:b,pairingTopic:i,transportType:f}),f===Lt.link_mode&&(s=h.metadata.redirect)!=null&&s.universal&&this.client.core.addLinkModeSupportedApp(h.metadata.redirect.universal),this.client.events.emit("session_authenticate",{topic:i,params:a.params,id:a.id,verifyContext:y})}catch(h){this.client.logger.error(h);const p=a.params.requester.publicKey,g=await this.client.core.crypto.generateKeyPair(),y=this.getAppLinkIfEnabled(a.params.requester.metadata,f),b={type:bo,receiverPublicKey:p,senderPublicKey:g};await this.sendError({id:a.id,topic:i,error:h,encodeOpts:b,rpcOpts:yn.wc_sessionAuthenticate.autoReject,appLink:y})}}),he(this,"addSessionRequestToSessionRequestQueue",n=>{this.sessionRequestQueue.queue.push(n)}),he(this,"cleanupAfterResponse",n=>{this.deletePendingSessionRequest(n.response.id,{message:"fulfilled",code:0}),setTimeout(()=>{this.sessionRequestQueue.state=pr.idle,this.processSessionRequestQueue()},we.toMiliseconds(this.requestQueueDelay))}),he(this,"cleanupPendingSentRequestsForTopic",({topic:n,error:s})=>{const i=this.client.core.history.pending;i.length>0&&i.filter(a=>a.topic===n&&a.request.method==="wc_sessionRequest").forEach(a=>{const c=a.request.id,u=dt("session_request",c);if(this.events.listenerCount(u)===0)throw new Error(`emitting ${u} without any listeners`);this.events.emit(dt("session_request",a.request.id),{error:s})})}),he(this,"processSessionRequestQueue",()=>{if(this.sessionRequestQueue.state===pr.active){this.client.logger.info("session request queue is already active.");return}const n=this.sessionRequestQueue.queue[0];if(!n){this.client.logger.info("session request queue is empty.");return}try{this.emitSessionRequest(n)}catch(s){this.client.logger.error(s)}}),he(this,"emitSessionRequest",n=>{if(this.emittedSessionRequests.has(n.id)){this.client.logger.warn({id:n.id},`Skipping emitting \`session_request\` event for duplicate request. id: ${n.id}`);return}this.sessionRequestQueue.state=pr.active,this.emittedSessionRequests.add(n.id),this.client.events.emit("session_request",n)}),he(this,"onPairingCreated",n=>{if(n.methods&&this.expectedPairingMethodMap.set(n.topic,n.methods),n.active)return;const s=this.client.proposal.getAll().find(i=>i.pairingTopic===n.topic);s&&this.onSessionProposeRequest({topic:n.topic,payload:Da("wc_sessionPropose",gs(Pt({},s),{requiredNamespaces:s.requiredNamespaces,optionalNamespaces:s.optionalNamespaces,relays:s.relays,proposer:s.proposer,sessionProperties:s.sessionProperties,scopedProperties:s.scopedProperties}),s.id),attestation:s.attestation,encryptedId:s.encryptedId})}),he(this,"isValidConnect",async n=>{if(!Es(n)){const{message:h}=ye("MISSING_OR_INVALID",`connect() params: ${JSON.stringify(n)}`);throw new Error(h)}const{pairingTopic:s,requiredNamespaces:i,optionalNamespaces:a,sessionProperties:c,scopedProperties:u,relays:f}=n;if($n(s)||await this.isValidPairingTopic(s),!mZ(f)){const{message:h}=ye("MISSING_OR_INVALID",`connect() relays: ${f}`);throw new Error(h)}if(!$n(i)&&_r(i)!==0){const h="requiredNamespaces are deprecated and are automatically assigned to optionalNamespaces";["fatal","error","silent"].includes(this.client.logger.level)?console.warn(h):this.client.logger.warn(h),this.validateNamespaces(i,"requiredNamespaces")}if(!$n(a)&&_r(a)!==0&&this.validateNamespaces(a,"optionalNamespaces"),$n(c)||this.validateSessionProps(c,"sessionProperties"),!$n(u)){this.validateSessionProps(u,"scopedProperties");const h=Object.keys(i||{}).concat(Object.keys(a||{}));if(!Object.keys(u).every(p=>h.includes(p.split(":")[0])))throw new Error(`Scoped properties must be a subset of required/optional namespaces, received: ${JSON.stringify(u)}, required/optional namespaces: ${JSON.stringify(h)}`)}}),he(this,"validateNamespaces",(n,s)=>{const i=gZ(n,"connect()",s);if(i)throw new Error(i.message)}),he(this,"isValidApprove",async n=>{if(!Es(n))throw new Error(ye("MISSING_OR_INVALID",`approve() params: ${n}`).message);const{id:s,namespaces:i,relayProtocol:a,sessionProperties:c,scopedProperties:u}=n;this.checkRecentlyDeleted(s),await this.isValidProposalId(s);const f=this.client.proposal.get(s),h=Eb(i,"approve()");if(h)throw new Error(h.message);const p=h_(f.requiredNamespaces,i,"approve()");if(p)throw new Error(p.message);if(!on(a,!0)){const{message:g}=ye("MISSING_OR_INVALID",`approve() relayProtocol: ${a}`);throw new Error(g)}if($n(c)||this.validateSessionProps(c,"sessionProperties"),!$n(u)){this.validateSessionProps(u,"scopedProperties");const g=new Set(Object.keys(i));if(!Object.keys(u).every(y=>g.has(y.split(":")[0])))throw new Error(`Scoped properties must be a subset of approved namespaces, received: ${JSON.stringify(u)}, approved namespaces: ${Array.from(g).join(", ")}`)}}),he(this,"isValidReject",async n=>{if(!Es(n)){const{message:a}=ye("MISSING_OR_INVALID",`reject() params: ${n}`);throw new Error(a)}const{id:s,reason:i}=n;if(this.checkRecentlyDeleted(s),await this.isValidProposalId(s),!wZ(i)){const{message:a}=ye("MISSING_OR_INVALID",`reject() reason: ${JSON.stringify(i)}`);throw new Error(a)}}),he(this,"isValidSessionSettleRequest",n=>{if(!Es(n)){const{message:h}=ye("MISSING_OR_INVALID",`onSessionSettleRequest() params: ${n}`);throw new Error(h)}const{relay:s,controller:i,namespaces:a,expiry:c}=n;if(!DO(s)){const{message:h}=ye("MISSING_OR_INVALID","onSessionSettleRequest() relay protocol should be a string");throw new Error(h)}const u=lZ(i,"onSessionSettleRequest()");if(u)throw new Error(u.message);const f=Eb(a,"onSessionSettleRequest()");if(f)throw new Error(f.message);if(Aa(c)){const{message:h}=ye("EXPIRED","onSessionSettleRequest()");throw new Error(h)}}),he(this,"isValidUpdate",async n=>{if(!Es(n)){const{message:f}=ye("MISSING_OR_INVALID",`update() params: ${n}`);throw new Error(f)}const{topic:s,namespaces:i}=n;this.checkRecentlyDeleted(s),await this.isValidSessionTopic(s);const a=this.client.session.get(s),c=Eb(i,"update()");if(c)throw new Error(c.message);const u=h_(a.requiredNamespaces,i,"update()");if(u)throw new Error(u.message)}),he(this,"isValidExtend",async n=>{if(!Es(n)){const{message:i}=ye("MISSING_OR_INVALID",`extend() params: ${n}`);throw new Error(i)}const{topic:s}=n;this.checkRecentlyDeleted(s),await this.isValidSessionTopic(s)}),he(this,"isValidRequest",async n=>{if(!Es(n)){const{message:f}=ye("MISSING_OR_INVALID",`request() params: ${n}`);throw new Error(f)}const{topic:s,request:i,chainId:a,expiry:c}=n;this.checkRecentlyDeleted(s),await this.isValidSessionTopic(s);const{namespaces:u}=this.client.session.get(s);if(!d_(u,a)){const{message:f}=ye("MISSING_OR_INVALID",`request() chainId: ${a}`);throw new Error(f)}if(!bZ(i)){const{message:f}=ye("MISSING_OR_INVALID",`request() ${JSON.stringify(i)}`);throw new Error(f)}if(!AZ(u,a,i.method)){const{message:f}=ye("MISSING_OR_INVALID",`request() method: ${i.method}`);throw new Error(f)}if(c&&!NZ(c,Ib)){const{message:f}=ye("MISSING_OR_INVALID",`request() expiry: ${c}. Expiry must be a number (in seconds) between ${Ib.min} and ${Ib.max}`);throw new Error(f)}}),he(this,"isValidRespond",async n=>{var s;if(!Es(n)){const{message:c}=ye("MISSING_OR_INVALID",`respond() params: ${n}`);throw new Error(c)}const{topic:i,response:a}=n;try{await this.isValidSessionTopic(i)}catch(c){throw(s=n?.response)!=null&&s.id&&this.cleanupAfterResponse(n),c}if(!vZ(a)){const{message:c}=ye("MISSING_OR_INVALID",`respond() response: ${JSON.stringify(a)}`);throw new Error(c)}}),he(this,"isValidPing",async n=>{if(!Es(n)){const{message:i}=ye("MISSING_OR_INVALID",`ping() params: ${n}`);throw new Error(i)}const{topic:s}=n;await this.isValidSessionOrPairingTopic(s)}),he(this,"isValidEmit",async n=>{if(!Es(n)){const{message:u}=ye("MISSING_OR_INVALID",`emit() params: ${n}`);throw new Error(u)}const{topic:s,event:i,chainId:a}=n;await this.isValidSessionTopic(s);const{namespaces:c}=this.client.session.get(s);if(!d_(c,a)){const{message:u}=ye("MISSING_OR_INVALID",`emit() chainId: ${a}`);throw new Error(u)}if(!EZ(i)){const{message:u}=ye("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(i)}`);throw new Error(u)}if(!CZ(c,a,i.name)){const{message:u}=ye("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(i)}`);throw new Error(u)}}),he(this,"isValidDisconnect",async n=>{if(!Es(n)){const{message:i}=ye("MISSING_OR_INVALID",`disconnect() params: ${n}`);throw new Error(i)}const{topic:s}=n;await this.isValidSessionOrPairingTopic(s)}),he(this,"isValidAuthenticate",n=>{const{chains:s,uri:i,domain:a,nonce:c}=n;if(!Array.isArray(s)||s.length===0)throw new Error("chains is required and must be a non-empty array");if(!on(i,!1))throw new Error("uri is required parameter");if(!on(a,!1))throw new Error("domain is required parameter");if(!on(c,!1))throw new Error("nonce is required parameter");if([...new Set(s.map(f=>zu(f).namespace))].length>1)throw new Error("Multi-namespace requests are not supported. Please request single namespace only.");const{namespace:u}=zu(s[0]);if(u!=="eip155")throw new Error("Only eip155 namespace is supported for authenticated sessions. Please use .connect() for non-eip155 chains.")}),he(this,"getVerifyContext",async n=>{const{attestationId:s,hash:i,encryptedId:a,metadata:c,transportType:u}=n,f={verified:{verifyUrl:c.verifyUrl||oh,validation:"UNKNOWN",origin:c.url||""}};try{if(u===Lt.link_mode){const p=this.getAppLinkIfEnabled(c,u);return f.verified.validation=p&&new URL(p).origin===new URL(c.url).origin?"VALID":"INVALID",f}const h=await this.client.core.verify.resolve({attestationId:s,hash:i,encryptedId:a,verifyUrl:c.verifyUrl});h&&(f.verified.origin=h.origin,f.verified.isScam=h.isScam,f.verified.validation=h.origin===new URL(c.url).origin?"VALID":"INVALID")}catch(h){this.client.logger.warn(h)}return this.client.logger.debug(`Verify context: ${JSON.stringify(f)}`),f}),he(this,"validateSessionProps",(n,s)=>{Object.values(n).forEach((i,a)=>{if(i==null){const{message:c}=ye("MISSING_OR_INVALID",`${s} must contain an existing value for each key. Received: ${i} for key ${Object.keys(n)[a]}`);throw new Error(c)}})}),he(this,"getPendingAuthRequest",n=>{const s=this.client.auth.requests.get(n);return typeof s=="object"?s:void 0}),he(this,"addToRecentlyDeleted",(n,s)=>{if(this.recentlyDeletedMap.set(n,s),this.recentlyDeletedMap.size>=this.recentlyDeletedLimit){let i=0;const a=this.recentlyDeletedLimit/2;for(const c of this.recentlyDeletedMap.keys()){if(i++>=a)break;this.recentlyDeletedMap.delete(c)}}}),he(this,"checkRecentlyDeleted",n=>{const s=this.recentlyDeletedMap.get(n);if(s){const{message:i}=ye("MISSING_OR_INVALID",`Record was recently deleted - ${s}: ${n}`);throw new Error(i)}}),he(this,"isLinkModeEnabled",(n,s)=>{var i,a,c,u,f,h,p,g,y;return!n||s!==Lt.link_mode?!1:((a=(i=this.client.metadata)==null?void 0:i.redirect)==null?void 0:a.linkMode)===!0&&((u=(c=this.client.metadata)==null?void 0:c.redirect)==null?void 0:u.universal)!==void 0&&((h=(f=this.client.metadata)==null?void 0:f.redirect)==null?void 0:h.universal)!==""&&((p=n?.redirect)==null?void 0:p.universal)!==void 0&&((g=n?.redirect)==null?void 0:g.universal)!==""&&((y=n?.redirect)==null?void 0:y.linkMode)===!0&&this.client.core.linkModeSupportedApps.includes(n.redirect.universal)&&typeof(global==null?void 0:global.Linking)<"u"}),he(this,"getAppLinkIfEnabled",(n,s)=>{var i;return this.isLinkModeEnabled(n,s)?(i=n?.redirect)==null?void 0:i.universal:void 0}),he(this,"handleLinkModeMessage",({url:n})=>{if(!n||!n.includes("wc_ev")||!n.includes("topic"))return;const s=NT(n,"topic")||"",i=decodeURIComponent(NT(n,"wc_ev")||""),a=this.client.session.keys.includes(s);a&&this.client.session.update(s,{transportType:Lt.link_mode}),this.client.core.dispatchEnvelope({topic:s,message:i,sessionExists:a})}),he(this,"registerLinkModeListeners",async()=>{var n;if(HE()||za()&&(n=this.client.metadata.redirect)!=null&&n.linkMode){const s=global==null?void 0:global.Linking;if(typeof s<"u"){s.addEventListener("url",this.handleLinkModeMessage,this.client.name);const i=await s.getInitialURL();i&&setTimeout(()=>{this.handleLinkModeMessage({url:i})},50)}}}),he(this,"getTVFParams",(n,s,i)=>{var a,c,u;if(!((a=s.request)!=null&&a.method))return{};const f={correlationId:n,rpcMethods:[s.request.method],chainId:s.chainId};try{const h=this.extractTxHashesFromResult(s.request,i);f.txHashes=h,f.contractAddresses=this.isValidContractData(s.request.params)?[(u=(c=s.request.params)==null?void 0:c[0])==null?void 0:u.to]:[]}catch(h){this.client.logger.warn("Error getting TVF params",h)}return f}),he(this,"isValidContractData",n=>{var s;if(!n)return!1;try{const i=n?.data||((s=n?.[0])==null?void 0:s.data);if(!i.startsWith("0x"))return!1;const a=i.slice(2);return/^[0-9a-fA-F]*$/.test(a)?a.length%2===0:!1}catch{}return!1}),he(this,"extractTxHashesFromResult",(n,s)=>{var i;try{if(!s)return[];const a=n.method,c=Qne[a];if(a==="sui_signTransaction")return[YY(s.transactionBytes)];if(a==="near_signTransaction")return[$T(s)];if(a==="near_signTransactions")return s.map(f=>$T(f));if(a==="xrpl_signTransactionFor"||a==="xrpl_signTransaction")return[(i=s.tx_json)==null?void 0:i.hash];if(a==="polkadot_signTransaction")return[zZ({transaction:n.params.transactionPayload,signature:s.signature})];if(a==="algo_signTxn")return vo(s)?s.map(f=>UT(f)):[UT(s)];if(a==="cosmos_signDirect")return[QY(s)];if(typeof s=="string")return[s];const u=s[c.key];if(vo(u))return a==="solana_signAllTransactions"?u.map(f=>GY(f)):u;if(typeof u=="string")return[u]}catch(a){this.client.logger.warn("Error extracting tx hashes from result",a)}return[]})}async processPendingMessageEvents(){try{const e=this.client.session.keys,n=this.client.core.relayer.messages.getWithoutAck(e);for(const[s,i]of Object.entries(n))for(const a of i)try{await this.onProviderMessageEvent({topic:s,message:a,publishedAt:Date.now()})}catch{this.client.logger.warn(`Error processing pending message event for topic: ${s}, message: ${a}`)}}catch(e){this.client.logger.warn("processPendingMessageEvents failed",e)}}isInitialized(){if(!this.initialized){const{message:e}=ye("NOT_INITIALIZED",this.name);throw new Error(e)}}async confirmOnlineStateOrThrow(){await this.client.core.relayer.confirmOnlineStateOrThrow()}registerRelayerEvents(){this.client.core.relayer.on(vn.message,e=>{this.onProviderMessageEvent(e)})}async onRelayMessage(e){const{topic:n,message:s,attestation:i,transportType:a}=e,{publicKey:c}=this.client.auth.authKeys.keys.includes(B0)?this.client.auth.authKeys.get(B0):{publicKey:void 0};try{const u=await this.client.core.crypto.decode(n,s,{receiverPublicKey:c,encoding:a===Lt.link_mode?Na:Ki});sA(u)?(this.client.core.history.set(n,u),await this.onRelayEventRequest({topic:n,payload:u,attestation:i,transportType:a,encryptedId:br(s)})):Wm(u)?(await this.client.core.history.resolve(u),await this.onRelayEventResponse({topic:n,payload:u,transportType:a}),this.client.core.history.delete(n,u.id)):await this.onRelayEventUnknownPayload({topic:n,payload:u,transportType:a}),await this.client.core.relayer.messages.ack(n,s)}catch(u){this.client.logger.error(u)}}registerExpirerEvents(){this.client.core.expirer.on(bi.expired,async e=>{const{topic:n,id:s}=kD(e.target);if(s&&this.client.pendingRequest.keys.includes(s))return await this.deletePendingSessionRequest(s,ye("EXPIRED"),!0);if(s&&this.client.auth.requests.keys.includes(s))return await this.deletePendingAuthRequest(s,ye("EXPIRED"),!0);n?this.client.session.keys.includes(n)&&(await this.deleteSession({topic:n,expirerHasDeleted:!0}),this.client.events.emit("session_expire",{topic:n})):s&&(await this.deleteProposal(s,!0),this.client.events.emit("proposal_expire",{id:s}))})}registerPairingEvents(){this.client.core.pairing.events.on(Mc.create,e=>this.onPairingCreated(e)),this.client.core.pairing.events.on(Mc.delete,e=>{this.addToRecentlyDeleted(e.topic,"pairing")})}isValidPairingTopic(e){if(!on(e,!1)){const{message:n}=ye("MISSING_OR_INVALID",`pairing topic should be a string: ${e}`);throw new Error(n)}if(!this.client.core.pairing.pairings.keys.includes(e)){const{message:n}=ye("NO_MATCHING_KEY",`pairing topic doesn't exist: ${e}`);throw new Error(n)}if(Aa(this.client.core.pairing.pairings.get(e).expiry)){const{message:n}=ye("EXPIRED",`pairing topic: ${e}`);throw new Error(n)}}async isValidSessionTopic(e){if(!on(e,!1)){const{message:n}=ye("MISSING_OR_INVALID",`session topic should be a string: ${e}`);throw new Error(n)}if(this.checkRecentlyDeleted(e),!this.client.session.keys.includes(e)){const{message:n}=ye("NO_MATCHING_KEY",`session topic doesn't exist: ${e}`);throw new Error(n)}if(Aa(this.client.session.get(e).expiry)){await this.deleteSession({topic:e});const{message:n}=ye("EXPIRED",`session topic: ${e}`);throw new Error(n)}if(!this.client.core.crypto.keychain.has(e)){const{message:n}=ye("MISSING_OR_INVALID",`session topic does not exist in keychain: ${e}`);throw await this.deleteSession({topic:e}),new Error(n)}}async isValidSessionOrPairingTopic(e){if(this.checkRecentlyDeleted(e),this.client.session.keys.includes(e))await this.isValidSessionTopic(e);else if(this.client.core.pairing.pairings.keys.includes(e))this.isValidPairingTopic(e);else if(on(e,!1)){const{message:n}=ye("NO_MATCHING_KEY",`session or pairing topic doesn't exist: ${e}`);throw new Error(n)}else{const{message:n}=ye("MISSING_OR_INVALID",`session or pairing topic should be a string: ${e}`);throw new Error(n)}}async isValidProposalId(e){if(!yZ(e)){const{message:n}=ye("MISSING_OR_INVALID",`proposal id should be a number: ${e}`);throw new Error(n)}if(!this.client.proposal.keys.includes(e)){const{message:n}=ye("NO_MATCHING_KEY",`proposal id doesn't exist: ${e}`);throw new Error(n)}if(Aa(this.client.proposal.get(e).expiryTimestamp)){await this.deleteProposal(e);const{message:n}=ye("EXPIRED",`proposal id: ${e}`);throw new Error(n)}}}class fse extends ol{constructor(e,n){super(e,n,Gne,iA),this.core=e,this.logger=n}}let dse=class extends ol{constructor(e,n){super(e,n,Yne,iA),this.core=e,this.logger=n}};class hse extends ol{constructor(e,n){super(e,n,Zne,iA,s=>s.id),this.core=e,this.logger=n}}class pse extends ol{constructor(e,n){super(e,n,nse,Gm,()=>B0),this.core=e,this.logger=n}}let gse=class extends ol{constructor(e,n){super(e,n,sse,Gm),this.core=e,this.logger=n}};class mse extends ol{constructor(e,n){super(e,n,ise,Gm,s=>s.id),this.core=e,this.logger=n}}var yse=Object.defineProperty,wse=(t,e,n)=>e in t?yse(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Db=(t,e,n)=>wse(t,typeof e!="symbol"?e+"":e,n);class bse{constructor(e,n){this.core=e,this.logger=n,Db(this,"authKeys"),Db(this,"pairingTopics"),Db(this,"requests"),this.authKeys=new pse(this.core,this.logger),this.pairingTopics=new gse(this.core,this.logger),this.requests=new mse(this.core,this.logger)}async init(){await this.authKeys.init(),await this.pairingTopics.init(),await this.requests.init()}}var vse=Object.defineProperty,Ese=(t,e,n)=>e in t?vse(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,et=(t,e,n)=>Ese(t,typeof e!="symbol"?e+"":e,n);let Ase=class nM extends VH{constructor(e){super(e),et(this,"protocol",JO),et(this,"version",eM),et(this,"name",_b.name),et(this,"metadata"),et(this,"core"),et(this,"logger"),et(this,"events",new Ti.EventEmitter),et(this,"engine"),et(this,"session"),et(this,"proposal"),et(this,"pendingRequest"),et(this,"auth"),et(this,"signConfig"),et(this,"on",(s,i)=>this.events.on(s,i)),et(this,"once",(s,i)=>this.events.once(s,i)),et(this,"off",(s,i)=>this.events.off(s,i)),et(this,"removeListener",(s,i)=>this.events.removeListener(s,i)),et(this,"removeAllListeners",s=>this.events.removeAllListeners(s)),et(this,"connect",async s=>{try{return await this.engine.connect(s)}catch(i){throw this.logger.error(i.message),i}}),et(this,"pair",async s=>{try{return await this.engine.pair(s)}catch(i){throw this.logger.error(i.message),i}}),et(this,"approve",async s=>{try{return await this.engine.approve(s)}catch(i){throw this.logger.error(i.message),i}}),et(this,"reject",async s=>{try{return await this.engine.reject(s)}catch(i){throw this.logger.error(i.message),i}}),et(this,"update",async s=>{try{return await this.engine.update(s)}catch(i){throw this.logger.error(i.message),i}}),et(this,"extend",async s=>{try{return await this.engine.extend(s)}catch(i){throw this.logger.error(i.message),i}}),et(this,"request",async s=>{try{return await this.engine.request(s)}catch(i){throw this.logger.error(i.message),i}}),et(this,"respond",async s=>{try{return await this.engine.respond(s)}catch(i){throw this.logger.error(i.message),i}}),et(this,"ping",async s=>{try{return await this.engine.ping(s)}catch(i){throw this.logger.error(i.message),i}}),et(this,"emit",async s=>{try{return await this.engine.emit(s)}catch(i){throw this.logger.error(i.message),i}}),et(this,"disconnect",async s=>{try{return await this.engine.disconnect(s)}catch(i){throw this.logger.error(i.message),i}}),et(this,"find",s=>{try{return this.engine.find(s)}catch(i){throw this.logger.error(i.message),i}}),et(this,"getPendingSessionRequests",()=>{try{return this.engine.getPendingSessionRequests()}catch(s){throw this.logger.error(s.message),s}}),et(this,"authenticate",async(s,i)=>{try{return await this.engine.authenticate(s,i)}catch(a){throw this.logger.error(a.message),a}}),et(this,"formatAuthMessage",s=>{try{return this.engine.formatAuthMessage(s)}catch(i){throw this.logger.error(i.message),i}}),et(this,"approveSessionAuthenticate",async s=>{try{return await this.engine.approveSessionAuthenticate(s)}catch(i){throw this.logger.error(i.message),i}}),et(this,"rejectSessionAuthenticate",async s=>{try{return await this.engine.rejectSessionAuthenticate(s)}catch(i){throw this.logger.error(i.message),i}}),this.name=e?.name||_b.name,this.metadata=jG(e?.metadata),this.signConfig=e?.signConfig;const n=typeof e?.logger<"u"&&typeof e?.logger!="string"?e.logger:fp(hp({level:e?.logger||_b.logger}));this.core=e?.core||new Kne(e),this.logger=rs(n,this.name),this.session=new dse(this.core,this.logger),this.proposal=new fse(this.core,this.logger),this.pendingRequest=new hse(this.core,this.logger),this.engine=new use(this),this.auth=new bse(this.core,this.logger)}static async init(e){const n=new nM(e);return await n.initialize(),n}get context(){return Is(this.logger)}get pairing(){return this.core.pairing.pairings}async initialize(){this.logger.trace("Initialized");try{await this.core.start(),await this.session.init(),await this.proposal.init(),await this.pendingRequest.init(),await this.auth.init(),await this.engine.init(),this.logger.info("SignClient Initialization Success")}catch(e){throw this.logger.info("SignClient Initialization Failure"),this.logger.error(e.message),e}}};var p0={exports:{}},Q_;function Cse(){return Q_||(Q_=1,(function(t,e){var n=typeof globalThis<"u"&&globalThis||typeof self<"u"&&self||typeof Ss<"u"&&Ss,s=(function(){function a(){this.fetch=!1,this.DOMException=n.DOMException}return a.prototype=n,new a})();(function(a){(function(c){var u=typeof a<"u"&&a||typeof self<"u"&&self||typeof Ss<"u"&&Ss||{},f={searchParams:"URLSearchParams"in u,iterable:"Symbol"in u&&"iterator"in Symbol,blob:"FileReader"in u&&"Blob"in u&&(function(){try{return new Blob,!0}catch{return!1}})(),formData:"FormData"in u,arrayBuffer:"ArrayBuffer"in u};function h(R){return R&&DataView.prototype.isPrototypeOf(R)}if(f.arrayBuffer)var p=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],g=ArrayBuffer.isView||function(R){return R&&p.indexOf(Object.prototype.toString.call(R))>-1};function y(R){if(typeof R!="string"&&(R=String(R)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(R)||R==="")throw new TypeError('Invalid character in header field name: "'+R+'"');return R.toLowerCase()}function b(R){return typeof R!="string"&&(R=String(R)),R}function v(R){var _={next:function(){var k=R.shift();return{done:k===void 0,value:k}}};return f.iterable&&(_[Symbol.iterator]=function(){return _}),_}function E(R){this.map={},R instanceof E?R.forEach(function(_,k){this.append(k,_)},this):Array.isArray(R)?R.forEach(function(_){if(_.length!=2)throw new TypeError("Headers constructor: expected name/value pair to be length 2, found"+_.length);this.append(_[0],_[1])},this):R&&Object.getOwnPropertyNames(R).forEach(function(_){this.append(_,R[_])},this)}E.prototype.append=function(R,_){R=y(R),_=b(_);var k=this.map[R];this.map[R]=k?k+", "+_:_},E.prototype.delete=function(R){delete this.map[y(R)]},E.prototype.get=function(R){return R=y(R),this.has(R)?this.map[R]:null},E.prototype.has=function(R){return this.map.hasOwnProperty(y(R))},E.prototype.set=function(R,_){this.map[y(R)]=b(_)},E.prototype.forEach=function(R,_){for(var k in this.map)this.map.hasOwnProperty(k)&&R.call(_,this.map[k],k,this)},E.prototype.keys=function(){var R=[];return this.forEach(function(_,k){R.push(k)}),v(R)},E.prototype.values=function(){var R=[];return this.forEach(function(_){R.push(_)}),v(R)},E.prototype.entries=function(){var R=[];return this.forEach(function(_,k){R.push([k,_])}),v(R)},f.iterable&&(E.prototype[Symbol.iterator]=E.prototype.entries);function A(R){if(!R._noBody){if(R.bodyUsed)return Promise.reject(new TypeError("Already read"));R.bodyUsed=!0}}function x(R){return new Promise(function(_,k){R.onload=function(){_(R.result)},R.onerror=function(){k(R.error)}})}function D(R){var _=new FileReader,k=x(_);return _.readAsArrayBuffer(R),k}function S(R){var _=new FileReader,k=x(_),H=/charset=([A-Za-z0-9_-]+)/.exec(R.type),G=H?H[1]:"utf-8";return _.readAsText(R,G),k}function N(R){for(var _=new Uint8Array(R),k=new Array(_.length),H=0;H<_.length;H++)k[H]=String.fromCharCode(_[H]);return k.join("")}function T(R){if(R.slice)return R.slice(0);var _=new Uint8Array(R.byteLength);return _.set(new Uint8Array(R)),_.buffer}function I(){return this.bodyUsed=!1,this._initBody=function(R){this.bodyUsed=this.bodyUsed,this._bodyInit=R,R?typeof R=="string"?this._bodyText=R:f.blob&&Blob.prototype.isPrototypeOf(R)?this._bodyBlob=R:f.formData&&FormData.prototype.isPrototypeOf(R)?this._bodyFormData=R:f.searchParams&&URLSearchParams.prototype.isPrototypeOf(R)?this._bodyText=R.toString():f.arrayBuffer&&f.blob&&h(R)?(this._bodyArrayBuffer=T(R.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):f.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(R)||g(R))?this._bodyArrayBuffer=T(R):this._bodyText=R=Object.prototype.toString.call(R):(this._noBody=!0,this._bodyText=""),this.headers.get("content-type")||(typeof R=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):f.searchParams&&URLSearchParams.prototype.isPrototypeOf(R)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},f.blob&&(this.blob=function(){var R=A(this);if(R)return R;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))}),this.arrayBuffer=function(){if(this._bodyArrayBuffer){var R=A(this);return R||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}else{if(f.blob)return this.blob().then(D);throw new Error("could not read as ArrayBuffer")}},this.text=function(){var R=A(this);if(R)return R;if(this._bodyBlob)return S(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(N(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},f.formData&&(this.formData=function(){return this.text().then(z)}),this.json=function(){return this.text().then(JSON.parse)},this}var $=["CONNECT","DELETE","GET","HEAD","OPTIONS","PATCH","POST","PUT","TRACE"];function P(R){var _=R.toUpperCase();return $.indexOf(_)>-1?_:R}function M(R,_){if(!(this instanceof M))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');_=_||{};var k=_.body;if(R instanceof M){if(R.bodyUsed)throw new TypeError("Already read");this.url=R.url,this.credentials=R.credentials,_.headers||(this.headers=new E(R.headers)),this.method=R.method,this.mode=R.mode,this.signal=R.signal,!k&&R._bodyInit!=null&&(k=R._bodyInit,R.bodyUsed=!0)}else this.url=String(R);if(this.credentials=_.credentials||this.credentials||"same-origin",(_.headers||!this.headers)&&(this.headers=new E(_.headers)),this.method=P(_.method||this.method||"GET"),this.mode=_.mode||this.mode||null,this.signal=_.signal||this.signal||(function(){if("AbortController"in u){var V=new AbortController;return V.signal}})(),this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&k)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(k),(this.method==="GET"||this.method==="HEAD")&&(_.cache==="no-store"||_.cache==="no-cache")){var H=/([?&])_=[^&]*/;if(H.test(this.url))this.url=this.url.replace(H,"$1_="+new Date().getTime());else{var G=/\?/;this.url+=(G.test(this.url)?"&":"?")+"_="+new Date().getTime()}}}M.prototype.clone=function(){return new M(this,{body:this._bodyInit})};function z(R){var _=new FormData;return R.trim().split("&").forEach(function(k){if(k){var H=k.split("="),G=H.shift().replace(/\+/g," "),V=H.join("=").replace(/\+/g," ");_.append(decodeURIComponent(G),decodeURIComponent(V))}}),_}function q(R){var _=new E,k=R.replace(/\r?\n[\t ]+/g," ");return k.split("\r").map(function(H){return H.indexOf(`
`)===0?H.substr(1,H.length):H}).forEach(function(H){var G=H.split(":"),V=G.shift().trim();if(V){var U=G.join(":").trim();try{_.append(V,U)}catch(K){console.warn("Response "+K.message)}}}),_}I.call(M.prototype);function F(R,_){if(!(this instanceof F))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');if(_||(_={}),this.type="default",this.status=_.status===void 0?200:_.status,this.status<200||this.status>599)throw new RangeError("Failed to construct 'Response': The status provided (0) is outside the range [200, 599].");this.ok=this.status>=200&&this.status<300,this.statusText=_.statusText===void 0?"":""+_.statusText,this.headers=new E(_.headers),this.url=_.url||"",this._initBody(R)}I.call(F.prototype),F.prototype.clone=function(){return new F(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new E(this.headers),url:this.url})},F.error=function(){var R=new F(null,{status:200,statusText:""});return R.ok=!1,R.status=0,R.type="error",R};var ee=[301,302,303,307,308];F.redirect=function(R,_){if(ee.indexOf(_)===-1)throw new RangeError("Invalid status code");return new F(null,{status:_,headers:{location:R}})},c.DOMException=u.DOMException;try{new c.DOMException}catch{c.DOMException=function(_,k){this.message=_,this.name=k;var H=Error(_);this.stack=H.stack},c.DOMException.prototype=Object.create(Error.prototype),c.DOMException.prototype.constructor=c.DOMException}function Q(R,_){return new Promise(function(k,H){var G=new M(R,_);if(G.signal&&G.signal.aborted)return H(new c.DOMException("Aborted","AbortError"));var V=new XMLHttpRequest;function U(){V.abort()}V.onload=function(){var ie={statusText:V.statusText,headers:q(V.getAllResponseHeaders()||"")};G.url.indexOf("file://")===0&&(V.status<200||V.status>599)?ie.status=200:ie.status=V.status,ie.url="responseURL"in V?V.responseURL:ie.headers.get("X-Request-URL");var ue="response"in V?V.response:V.responseText;setTimeout(function(){k(new F(ue,ie))},0)},V.onerror=function(){setTimeout(function(){H(new TypeError("Network request failed"))},0)},V.ontimeout=function(){setTimeout(function(){H(new TypeError("Network request timed out"))},0)},V.onabort=function(){setTimeout(function(){H(new c.DOMException("Aborted","AbortError"))},0)};function K(ie){try{return ie===""&&u.location.href?u.location.href:ie}catch{return ie}}if(V.open(G.method,K(G.url),!0),G.credentials==="include"?V.withCredentials=!0:G.credentials==="omit"&&(V.withCredentials=!1),"responseType"in V&&(f.blob?V.responseType="blob":f.arrayBuffer&&(V.responseType="arraybuffer")),_&&typeof _.headers=="object"&&!(_.headers instanceof E||u.Headers&&_.headers instanceof u.Headers)){var te=[];Object.getOwnPropertyNames(_.headers).forEach(function(ie){te.push(y(ie)),V.setRequestHeader(ie,b(_.headers[ie]))}),G.headers.forEach(function(ie,ue){te.indexOf(ue)===-1&&V.setRequestHeader(ue,ie)})}else G.headers.forEach(function(ie,ue){V.setRequestHeader(ue,ie)});G.signal&&(G.signal.addEventListener("abort",U),V.onreadystatechange=function(){V.readyState===4&&G.signal.removeEventListener("abort",U)}),V.send(typeof G._bodyInit>"u"?null:G._bodyInit)})}return Q.polyfill=!0,u.fetch||(u.fetch=Q,u.Headers=E,u.Request=M,u.Response=F),c.Headers=E,c.Request=M,c.Response=F,c.fetch=Q,Object.defineProperty(c,"__esModule",{value:!0}),c})({})})(s),s.fetch.ponyfill=!0,delete s.fetch.polyfill;var i=n.fetch?n:s;e=i.fetch,e.default=i.fetch,e.fetch=i.fetch,e.Headers=i.Headers,e.Request=i.Request,e.Response=i.Response,t.exports=e})(p0,p0.exports)),p0.exports}var Sse=Cse();const Z_=np(Sse);var xse=Object.defineProperty,Nse=Object.defineProperties,Tse=Object.getOwnPropertyDescriptors,J_=Object.getOwnPropertySymbols,_se=Object.prototype.hasOwnProperty,Ise=Object.prototype.propertyIsEnumerable,e5=(t,e,n)=>e in t?xse(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,t5=(t,e)=>{for(var n in e||(e={}))_se.call(e,n)&&e5(t,n,e[n]);if(J_)for(var n of J_(e))Ise.call(e,n)&&e5(t,n,e[n]);return t},n5=(t,e)=>Nse(t,Tse(e));const Dse={Accept:"application/json","Content-Type":"application/json"},Ose="POST",s5={headers:Dse,method:Ose},i5=10;let Xi=class{constructor(e,n=!1){if(this.url=e,this.disableProviderPing=n,this.events=new Ti.EventEmitter,this.isAvailable=!1,this.registering=!1,!v_(e))throw new Error(`Provided URL is not compatible with HTTP connection: ${e}`);this.url=e,this.disableProviderPing=n}get connected(){return this.isAvailable}get connecting(){return this.registering}on(e,n){this.events.on(e,n)}once(e,n){this.events.once(e,n)}off(e,n){this.events.off(e,n)}removeListener(e,n){this.events.removeListener(e,n)}async open(e=this.url){await this.register(e)}async close(){if(!this.isAvailable)throw new Error("Connection already closed");this.onClose()}async send(e){this.isAvailable||await this.register();try{const n=xo(e),s=await(await Z_(this.url,n5(t5({},s5),{body:n}))).json();this.onPayload({data:s})}catch(n){this.onError(e.id,n)}}async register(e=this.url){if(!v_(e))throw new Error(`Provided URL is not compatible with HTTP connection: ${e}`);if(this.registering){const n=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=n||this.events.listenerCount("open")>=n)&&this.events.setMaxListeners(n+1),new Promise((s,i)=>{this.events.once("register_error",a=>{this.resetMaxListeners(),i(a)}),this.events.once("open",()=>{if(this.resetMaxListeners(),typeof this.isAvailable>"u")return i(new Error("HTTP connection is missing or invalid"));s()})})}this.url=e,this.registering=!0;try{if(!this.disableProviderPing){const n=xo({id:1,jsonrpc:"2.0",method:"test",params:[]});await Z_(e,n5(t5({},s5),{body:n}))}this.onOpen()}catch(n){const s=this.parseError(n);throw this.events.emit("register_error",s),this.onClose(),s}}onOpen(){this.isAvailable=!0,this.registering=!1,this.events.emit("open")}onClose(){this.isAvailable=!1,this.registering=!1,this.events.emit("close")}onPayload(e){if(typeof e.data>"u")return;const n=typeof e.data=="string"?Xc(e.data):e.data;this.events.emit("payload",n)}onError(e,n){const s=this.parseError(n),i=s.message||s.toString(),a=Vm(e,i);this.events.emit("payload",a)}parseError(e,n=this.url){return RO(e,n,"HTTP")}resetMaxListeners(){this.events.getMaxListeners()>i5&&this.events.setMaxListeners(i5)}};const r5="error",Mse="wss://relay.walletconnect.org",Rse="wc",$se="universal_provider",g0=`${Rse}@2:${$se}:`,sM="https://rpc.walletconnect.org/v1/",xu="generic",Use=`${sM}bundler`,Ii={DEFAULT_CHAIN_CHANGED:"default_chain_changed"};function rA(t){return t==null||typeof t!="object"&&typeof t!="function"}function iM(t){return Object.getOwnPropertySymbols(t).filter(e=>Object.prototype.propertyIsEnumerable.call(t,e))}function rM(t){return t==null?t===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(t)}const Pse="[object RegExp]",oM="[object String]",aM="[object Number]",cM="[object Boolean]",lM="[object Arguments]",Lse="[object Symbol]",kse="[object Date]",Bse="[object Map]",jse="[object Set]",zse="[object Array]",Hse="[object ArrayBuffer]",Fse="[object Object]",qse="[object DataView]",Vse="[object Uint8Array]",Wse="[object Uint8ClampedArray]",Kse="[object Uint16Array]",Gse="[object Uint32Array]",Yse="[object Int8Array]",Xse="[object Int16Array]",Qse="[object Int32Array]",Zse="[object Float32Array]",Jse="[object Float64Array]";function oA(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function eie(t,e){return Pu(t,void 0,t,new Map,e)}function Pu(t,e,n,s=new Map,i=void 0){const a=i?.(t,e,n,s);if(a!=null)return a;if(rA(t))return t;if(s.has(t))return s.get(t);if(Array.isArray(t)){const c=new Array(t.length);s.set(t,c);for(let u=0;u<t.length;u++)c[u]=Pu(t[u],u,n,s,i);return Object.hasOwn(t,"index")&&(c.index=t.index),Object.hasOwn(t,"input")&&(c.input=t.input),c}if(t instanceof Date)return new Date(t.getTime());if(t instanceof RegExp){const c=new RegExp(t.source,t.flags);return c.lastIndex=t.lastIndex,c}if(t instanceof Map){const c=new Map;s.set(t,c);for(const[u,f]of t)c.set(u,Pu(f,u,n,s,i));return c}if(t instanceof Set){const c=new Set;s.set(t,c);for(const u of t)c.add(Pu(u,void 0,n,s,i));return c}if(typeof Buffer<"u"&&Buffer.isBuffer(t))return t.subarray();if(oA(t)){const c=new(Object.getPrototypeOf(t)).constructor(t.length);s.set(t,c);for(let u=0;u<t.length;u++)c[u]=Pu(t[u],u,n,s,i);return c}if(t instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&t instanceof SharedArrayBuffer)return t.slice(0);if(t instanceof DataView){const c=new DataView(t.buffer.slice(0),t.byteOffset,t.byteLength);return s.set(t,c),Rc(c,t,n,s,i),c}if(typeof File<"u"&&t instanceof File){const c=new File([t],t.name,{type:t.type});return s.set(t,c),Rc(c,t,n,s,i),c}if(t instanceof Blob){const c=new Blob([t],{type:t.type});return s.set(t,c),Rc(c,t,n,s,i),c}if(t instanceof Error){const c=new t.constructor;return s.set(t,c),c.message=t.message,c.name=t.name,c.stack=t.stack,c.cause=t.cause,Rc(c,t,n,s,i),c}if(typeof t=="object"&&tie(t)){const c=Object.create(Object.getPrototypeOf(t));return s.set(t,c),Rc(c,t,n,s,i),c}return t}function Rc(t,e,n=t,s,i){const a=[...Object.keys(e),...iM(e)];for(let c=0;c<a.length;c++){const u=a[c],f=Object.getOwnPropertyDescriptor(t,u);(f==null||f.writable)&&(t[u]=Pu(e[u],u,n,s,i))}}function tie(t){switch(rM(t)){case lM:case zse:case Hse:case qse:case cM:case kse:case Zse:case Jse:case Yse:case Xse:case Qse:case Bse:case aM:case Fse:case Pse:case jse:case oM:case Lse:case Vse:case Wse:case Kse:case Gse:return!0;default:return!1}}function nie(t,e){return eie(t,(n,s,i,a)=>{if(typeof t=="object")switch(Object.prototype.toString.call(t)){case aM:case oM:case cM:{const c=new t.constructor(t?.valueOf());return Rc(c,t),c}case lM:{const c={};return Rc(c,t),c.length=t.length,c[Symbol.iterator]=t[Symbol.iterator],c}default:return}})}function o5(t){return nie(t)}function a5(t){return t!==null&&typeof t=="object"&&rM(t)==="[object Arguments]"}function c5(t){return typeof t=="object"&&t!==null}function sie(){}function iie(t){return oA(t)}function rie(t){if(typeof t!="object"||t==null)return!1;if(Object.getPrototypeOf(t)===null)return!0;if(Object.prototype.toString.call(t)!=="[object Object]"){const n=t[Symbol.toStringTag];return n==null||!Object.getOwnPropertyDescriptor(t,Symbol.toStringTag)?.writable?!1:t.toString()===`[object ${n}]`}let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}function oie(t){if(rA(t))return t;if(Array.isArray(t)||oA(t)||t instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&t instanceof SharedArrayBuffer)return t.slice(0);const e=Object.getPrototypeOf(t),n=e.constructor;if(t instanceof Date||t instanceof Map||t instanceof Set)return new n(t);if(t instanceof RegExp){const s=new n(t);return s.lastIndex=t.lastIndex,s}if(t instanceof DataView)return new n(t.buffer.slice(0));if(t instanceof Error){const s=new n(t.message);return s.stack=t.stack,s.name=t.name,s.cause=t.cause,s}if(typeof File<"u"&&t instanceof File)return new n([t],t.name,{type:t.type,lastModified:t.lastModified});if(typeof t=="object"){const s=Object.create(e);return Object.assign(s,t)}return t}function aie(t,...e){const n=e.slice(0,-1),s=e[e.length-1];let i=t;for(let a=0;a<n.length;a++){const c=n[a];i=p2(i,c,s,new Map)}return i}function p2(t,e,n,s){if(rA(t)&&(t=Object(t)),e==null||typeof e!="object")return t;if(s.has(e))return oie(s.get(e));if(s.set(e,t),Array.isArray(e)){e=e.slice();for(let a=0;a<e.length;a++)e[a]=e[a]??void 0}const i=[...Object.keys(e),...iM(e)];for(let a=0;a<i.length;a++){const c=i[a];let u=e[c],f=t[c];if(a5(u)&&(u={...u}),a5(f)&&(f={...f}),typeof Buffer<"u"&&Buffer.isBuffer(u)&&(u=o5(u)),Array.isArray(u))if(typeof f=="object"&&f!=null){const p=[],g=Reflect.ownKeys(f);for(let y=0;y<g.length;y++){const b=g[y];p[b]=f[b]}f=p}else f=[];const h=n(f,u,c,t,e,s);h!=null?t[c]=h:Array.isArray(u)||c5(f)&&c5(u)?t[c]=p2(f,u,n,s):f==null&&rie(u)?t[c]=p2({},u,n,s):f==null&&iie(u)?t[c]=o5(u):(f===void 0||u!==void 0)&&(t[c]=u)}return t}function cie(t,...e){return aie(t,...e,sie)}var lie=Object.defineProperty,uie=Object.defineProperties,fie=Object.getOwnPropertyDescriptors,l5=Object.getOwnPropertySymbols,die=Object.prototype.hasOwnProperty,hie=Object.prototype.propertyIsEnumerable,u5=(t,e,n)=>e in t?lie(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,m0=(t,e)=>{for(var n in e||(e={}))die.call(e,n)&&u5(t,n,e[n]);if(l5)for(var n of l5(e))hie.call(e,n)&&u5(t,n,e[n]);return t},pie=(t,e)=>uie(t,fie(e));function Xs(t,e,n){var s;const i=zu(t);return((s=e.rpcMap)==null?void 0:s[i.reference])||`${sM}?chainId=${i.namespace}:${i.reference}&projectId=${n}`}function al(t){return t.includes(":")?t.split(":")[1]:t}function uM(t){return t.map(e=>`${e.split(":")[0]}:${e.split(":")[1]}`)}function gie(t,e){const n=Object.keys(e.namespaces).filter(i=>i.includes(t));if(!n.length)return[];const s=[];return n.forEach(i=>{const a=e.namespaces[i].accounts;s.push(...a)}),s}function f5(t){return Object.fromEntries(Object.entries(t).filter(([e,n])=>{var s,i;return((s=n?.chains)==null?void 0:s.length)&&((i=n?.chains)==null?void 0:i.length)>0}))}function y0(t={},e={}){const n=f5(d5(t)),s=f5(d5(e));return cie(n,s)}function d5(t){var e,n,s,i,a;const c={};if(!_r(t))return c;for(const[u,f]of Object.entries(t)){const h=Fm(u)?[u]:f.chains,p=f.methods||[],g=f.events||[],y=f.rpcMap||{},b=Uu(u);c[b]=pie(m0(m0({},c[b]),f),{chains:Tr(h,(e=c[b])==null?void 0:e.chains),methods:Tr(p,(n=c[b])==null?void 0:n.methods),events:Tr(g,(s=c[b])==null?void 0:s.events)}),(_r(y)||_r(((i=c[b])==null?void 0:i.rpcMap)||{}))&&(c[b].rpcMap=m0(m0({},y),(a=c[b])==null?void 0:a.rpcMap))}return c}function h5(t){return t.includes(":")?t.split(":")[2]:t}function p5(t){const e={};for(const[n,s]of Object.entries(t)){const i=s.methods||[],a=s.events||[],c=s.accounts||[],u=Fm(n)?[n]:s.chains?s.chains:uM(s.accounts);e[n]={chains:u,methods:i,events:a,accounts:c}}return e}function Ob(t){return typeof t=="number"?t:t.includes("0x")?parseInt(t,16):(t=t.includes(":")?t.split(":")[1]:t,isNaN(Number(t))?t:Number(t))}const fM={},lt=t=>fM[t],Mb=(t,e)=>{fM[t]=e};var mie=Object.defineProperty,g5=Object.getOwnPropertySymbols,yie=Object.prototype.hasOwnProperty,wie=Object.prototype.propertyIsEnumerable,m5=(t,e,n)=>e in t?mie(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,y5=(t,e)=>{for(var n in e||(e={}))yie.call(e,n)&&m5(t,n,e[n]);if(g5)for(var n of g5(e))wie.call(e,n)&&m5(t,n,e[n]);return t};const w5="eip155",bie=["atomic","flow-control","paymasterService","sessionKeys","auxiliaryFunds"],vie=t=>t&&t.startsWith("0x")?BigInt(t).toString(10):t,Rb=t=>t&&t.startsWith("0x")?t:`0x${BigInt(t).toString(16)}`,b5=t=>Object.keys(t).filter(e=>bie.includes(e)).reduce((e,n)=>(e[n]=t[n],e),{}),Eie=(t,e,n)=>{const{sessionProperties:s={},scopedProperties:i={}}=t,a={};if(!_r(i)&&!_r(s))return;const c=b5(s);for(const u of n){const f=vie(u);if(!f)continue;a[Rb(f)]=c;const h=i?.[`${w5}:${f}`];if(h){const p=h?.[`${w5}:${f}:${e}`];a[Rb(f)]=y5(y5({},a[Rb(f)]),b5(p||h))}}for(const[u,f]of Object.entries(a))Object.keys(f).length===0&&delete a[u];return Object.keys(a).length>0?a:void 0};var Aie=Object.defineProperty,Cie=(t,e,n)=>e in t?Aie(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,uu=(t,e,n)=>Cie(t,typeof e!="symbol"?e+"":e,n);let Sie=class{constructor(e){uu(this,"name","polkadot"),uu(this,"client"),uu(this,"httpProviders"),uu(this,"events"),uu(this,"namespace"),uu(this,"chainId"),this.namespace=e.namespace,this.events=lt("events"),this.client=lt("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(e,n),this.chainId=e,this.events.emit(Ii.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getAccounts(){const e=this.namespace.accounts;return e?e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2])||[]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var s;const i=al(n);e[i]=this.createHttpProvider(i,(s=this.namespace.rpcMap)==null?void 0:s[n])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const s=this.createHttpProvider(e,n);s&&(this.httpProviders[e]=s)}createHttpProvider(e,n){const s=n||Xs(e,this.namespace,this.client.core.projectId);if(!s)throw new Error(`No RPC url provided for chainId: ${e}`);return new _i(new Xi(s,lt("disableProviderPing")))}};var xie=Object.defineProperty,Nie=Object.defineProperties,Tie=Object.getOwnPropertyDescriptors,v5=Object.getOwnPropertySymbols,_ie=Object.prototype.hasOwnProperty,Iie=Object.prototype.propertyIsEnumerable,g2=(t,e,n)=>e in t?xie(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,E5=(t,e)=>{for(var n in e||(e={}))_ie.call(e,n)&&g2(t,n,e[n]);if(v5)for(var n of v5(e))Iie.call(e,n)&&g2(t,n,e[n]);return t},A5=(t,e)=>Nie(t,Tie(e)),fu=(t,e,n)=>g2(t,typeof e!="symbol"?e+"":e,n);let Die=class{constructor(e){fu(this,"name","eip155"),fu(this,"client"),fu(this,"chainId"),fu(this,"namespace"),fu(this,"httpProviders"),fu(this,"events"),this.namespace=e.namespace,this.events=lt("events"),this.client=lt("client"),this.httpProviders=this.createHttpProviders(),this.chainId=parseInt(this.getDefaultChain())}async request(e){switch(e.request.method){case"eth_requestAccounts":return this.getAccounts();case"eth_accounts":return this.getAccounts();case"wallet_switchEthereumChain":return await this.handleSwitchChain(e);case"eth_chainId":return parseInt(this.getDefaultChain());case"wallet_getCapabilities":return await this.getCapabilities(e);case"wallet_getCallsStatus":return await this.getCallStatus(e)}return this.namespace.methods.includes(e.request.method)?await this.client.request(e):this.getHttpProvider().request(e.request)}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(parseInt(e),n),this.chainId=parseInt(e),this.events.emit(Ii.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId.toString();if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}createHttpProvider(e,n){const s=n||Xs(`${this.name}:${e}`,this.namespace,this.client.core.projectId);if(!s)throw new Error(`No RPC url provided for chainId: ${e}`);return new _i(new Xi(s,lt("disableProviderPing")))}setHttpProvider(e,n){const s=this.createHttpProvider(e,n);s&&(this.httpProviders[e]=s)}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var s;const i=parseInt(al(n));e[i]=this.createHttpProvider(i,(s=this.namespace.rpcMap)==null?void 0:s[n])}),e}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}getHttpProvider(){const e=this.chainId,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}async handleSwitchChain(e){var n,s;let i=e.request.params?(n=e.request.params[0])==null?void 0:n.chainId:"0x0";i=i.startsWith("0x")?i:`0x${i}`;const a=parseInt(i,16);if(this.isChainApproved(a))this.setDefaultChain(`${a}`);else if(this.namespace.methods.includes("wallet_switchEthereumChain"))await this.client.request({topic:e.topic,request:{method:e.request.method,params:[{chainId:i}]},chainId:(s=this.namespace.chains)==null?void 0:s[0]}),this.setDefaultChain(`${a}`);else throw new Error(`Failed to switch to chain 'eip155:${a}'. The chain is not approved or the wallet does not support 'wallet_switchEthereumChain' method.`);return null}isChainApproved(e){return this.namespace.chains.includes(`${this.name}:${e}`)}async getCapabilities(e){var n,s,i,a,c;const u=(s=(n=e.request)==null?void 0:n.params)==null?void 0:s[0],f=((a=(i=e.request)==null?void 0:i.params)==null?void 0:a[1])||[];if(!u)throw new Error("Missing address parameter in `wallet_getCapabilities` request");const h=this.client.session.get(e.topic),p=((c=h?.sessionProperties)==null?void 0:c.capabilities)||{},g=`${u}${f.join(",")}`,y=p?.[g];if(y)return y;let b;try{b=Eie(h,u,f)}catch(E){console.warn("Failed to extract capabilities from session",E)}if(b)return b;const v=await this.client.request(e);try{await this.client.session.update(e.topic,{sessionProperties:A5(E5({},h.sessionProperties||{}),{capabilities:A5(E5({},p||{}),{[g]:v})})})}catch(E){console.warn("Failed to update session with capabilities",E)}return v}async getCallStatus(e){var n,s;const i=this.client.session.get(e.topic),a=(n=i.sessionProperties)==null?void 0:n.bundler_name;if(a){const u=this.getBundlerUrl(e.chainId,a);try{return await this.getUserOperationReceipt(u,e)}catch(f){console.warn("Failed to fetch call status from bundler",f,u)}}const c=(s=i.sessionProperties)==null?void 0:s.bundler_url;if(c)try{return await this.getUserOperationReceipt(c,e)}catch(u){console.warn("Failed to fetch call status from custom bundler",u,c)}if(this.namespace.methods.includes(e.request.method))return await this.client.request(e);throw new Error("Fetching call status not approved by the wallet.")}async getUserOperationReceipt(e,n){var s;const i=new URL(e),a=await fetch(i,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Da("eth_getUserOperationReceipt",[(s=n.request.params)==null?void 0:s[0]]))});if(!a.ok)throw new Error(`Failed to fetch user operation receipt - ${a.status}`);return await a.json()}getBundlerUrl(e,n){return`${Use}?projectId=${this.client.core.projectId}&chainId=${e}&bundler=${n}`}};var Oie=Object.defineProperty,Mie=(t,e,n)=>e in t?Oie(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,du=(t,e,n)=>Mie(t,typeof e!="symbol"?e+"":e,n);let Rie=class{constructor(e){du(this,"name","solana"),du(this,"client"),du(this,"httpProviders"),du(this,"events"),du(this,"namespace"),du(this,"chainId"),this.namespace=e.namespace,this.events=lt("events"),this.client=lt("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(e,n),this.chainId=e,this.events.emit(Ii.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var s;const i=al(n);e[i]=this.createHttpProvider(i,(s=this.namespace.rpcMap)==null?void 0:s[n])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const s=this.createHttpProvider(e,n);s&&(this.httpProviders[e]=s)}createHttpProvider(e,n){const s=n||Xs(e,this.namespace,this.client.core.projectId);if(!s)throw new Error(`No RPC url provided for chainId: ${e}`);return new _i(new Xi(s,lt("disableProviderPing")))}};var $ie=Object.defineProperty,Uie=(t,e,n)=>e in t?$ie(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,hu=(t,e,n)=>Uie(t,typeof e!="symbol"?e+"":e,n);let Pie=class{constructor(e){hu(this,"name","cosmos"),hu(this,"client"),hu(this,"httpProviders"),hu(this,"events"),hu(this,"namespace"),hu(this,"chainId"),this.namespace=e.namespace,this.events=lt("events"),this.client=lt("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(e,n),this.chainId=e,this.events.emit(Ii.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var s;const i=al(n);e[i]=this.createHttpProvider(i,(s=this.namespace.rpcMap)==null?void 0:s[n])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const s=this.createHttpProvider(e,n);s&&(this.httpProviders[e]=s)}createHttpProvider(e,n){const s=n||Xs(e,this.namespace,this.client.core.projectId);if(!s)throw new Error(`No RPC url provided for chainId: ${e}`);return new _i(new Xi(s,lt("disableProviderPing")))}};var Lie=Object.defineProperty,kie=(t,e,n)=>e in t?Lie(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,pu=(t,e,n)=>kie(t,typeof e!="symbol"?e+"":e,n);let Bie=class{constructor(e){pu(this,"name","algorand"),pu(this,"client"),pu(this,"httpProviders"),pu(this,"events"),pu(this,"namespace"),pu(this,"chainId"),this.namespace=e.namespace,this.events=lt("events"),this.client=lt("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){if(!this.httpProviders[e]){const s=n||Xs(`${this.name}:${e}`,this.namespace,this.client.core.projectId);if(!s)throw new Error(`No RPC url provided for chainId: ${e}`);this.setHttpProvider(e,s)}this.chainId=e,this.events.emit(Ii.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var s;e[n]=this.createHttpProvider(n,(s=this.namespace.rpcMap)==null?void 0:s[n])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const s=this.createHttpProvider(e,n);s&&(this.httpProviders[e]=s)}createHttpProvider(e,n){const s=n||Xs(e,this.namespace,this.client.core.projectId);return typeof s>"u"?void 0:new _i(new Xi(s,lt("disableProviderPing")))}};var jie=Object.defineProperty,zie=(t,e,n)=>e in t?jie(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,gu=(t,e,n)=>zie(t,typeof e!="symbol"?e+"":e,n);class Hie{constructor(e){gu(this,"name","cip34"),gu(this,"client"),gu(this,"httpProviders"),gu(this,"events"),gu(this,"namespace"),gu(this,"chainId"),this.namespace=e.namespace,this.events=lt("events"),this.client=lt("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(e,n),this.chainId=e,this.events.emit(Ii.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{const s=this.getCardanoRPCUrl(n),i=al(n);e[i]=this.createHttpProvider(i,s)}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}getCardanoRPCUrl(e){const n=this.namespace.rpcMap;if(n)return n[e]}setHttpProvider(e,n){const s=this.createHttpProvider(e,n);s&&(this.httpProviders[e]=s)}createHttpProvider(e,n){const s=n||this.getCardanoRPCUrl(e);if(!s)throw new Error(`No RPC url provided for chainId: ${e}`);return new _i(new Xi(s,lt("disableProviderPing")))}}var Fie=Object.defineProperty,qie=(t,e,n)=>e in t?Fie(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,mu=(t,e,n)=>qie(t,typeof e!="symbol"?e+"":e,n);class Vie{constructor(e){mu(this,"name","elrond"),mu(this,"client"),mu(this,"httpProviders"),mu(this,"events"),mu(this,"namespace"),mu(this,"chainId"),this.namespace=e.namespace,this.events=lt("events"),this.client=lt("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(e,n),this.chainId=e,this.events.emit(Ii.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var s;const i=al(n);e[i]=this.createHttpProvider(i,(s=this.namespace.rpcMap)==null?void 0:s[n])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const s=this.createHttpProvider(e,n);s&&(this.httpProviders[e]=s)}createHttpProvider(e,n){const s=n||Xs(e,this.namespace,this.client.core.projectId);if(!s)throw new Error(`No RPC url provided for chainId: ${e}`);return new _i(new Xi(s,lt("disableProviderPing")))}}var Wie=Object.defineProperty,Kie=(t,e,n)=>e in t?Wie(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,yu=(t,e,n)=>Kie(t,typeof e!="symbol"?e+"":e,n);class Gie{constructor(e){yu(this,"name","multiversx"),yu(this,"client"),yu(this,"httpProviders"),yu(this,"events"),yu(this,"namespace"),yu(this,"chainId"),this.namespace=e.namespace,this.events=lt("events"),this.client=lt("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(e,n),this.chainId=e,this.events.emit(Ii.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var s;const i=al(n);e[i]=this.createHttpProvider(i,(s=this.namespace.rpcMap)==null?void 0:s[n])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const s=this.createHttpProvider(e,n);s&&(this.httpProviders[e]=s)}createHttpProvider(e,n){const s=n||Xs(e,this.namespace,this.client.core.projectId);if(!s)throw new Error(`No RPC url provided for chainId: ${e}`);return new _i(new Xi(s,lt("disableProviderPing")))}}var Yie=Object.defineProperty,Xie=(t,e,n)=>e in t?Yie(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,wu=(t,e,n)=>Xie(t,typeof e!="symbol"?e+"":e,n);class Qie{constructor(e){wu(this,"name","near"),wu(this,"client"),wu(this,"httpProviders"),wu(this,"events"),wu(this,"namespace"),wu(this,"chainId"),this.namespace=e.namespace,this.events=lt("events"),this.client=lt("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){if(this.chainId=e,!this.httpProviders[e]){const s=n||Xs(`${this.name}:${e}`,this.namespace);if(!s)throw new Error(`No RPC url provided for chainId: ${e}`);this.setHttpProvider(e,s)}this.events.emit(Ii.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const e=this.namespace.accounts;return e?e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2])||[]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var s;e[n]=this.createHttpProvider(n,(s=this.namespace.rpcMap)==null?void 0:s[n])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const s=this.createHttpProvider(e,n);s&&(this.httpProviders[e]=s)}createHttpProvider(e,n){const s=n||Xs(e,this.namespace);return typeof s>"u"?void 0:new _i(new Xi(s,lt("disableProviderPing")))}}var Zie=Object.defineProperty,Jie=(t,e,n)=>e in t?Zie(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,bu=(t,e,n)=>Jie(t,typeof e!="symbol"?e+"":e,n);class ere{constructor(e){bu(this,"name","tezos"),bu(this,"client"),bu(this,"httpProviders"),bu(this,"events"),bu(this,"namespace"),bu(this,"chainId"),this.namespace=e.namespace,this.events=lt("events"),this.client=lt("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){if(this.chainId=e,!this.httpProviders[e]){const s=n||Xs(`${this.name}:${e}`,this.namespace);if(!s)throw new Error(`No RPC url provided for chainId: ${e}`);this.setHttpProvider(e,s)}this.events.emit(Ii.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const e=this.namespace.accounts;return e?e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2])||[]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{e[n]=this.createHttpProvider(n)}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const s=this.createHttpProvider(e,n);s&&(this.httpProviders[e]=s)}createHttpProvider(e,n){const s=n||Xs(e,this.namespace);return typeof s>"u"?void 0:new _i(new Xi(s))}}var tre=Object.defineProperty,nre=(t,e,n)=>e in t?tre(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,vu=(t,e,n)=>nre(t,typeof e!="symbol"?e+"":e,n);class sre{constructor(e){vu(this,"name",xu),vu(this,"client"),vu(this,"httpProviders"),vu(this,"events"),vu(this,"namespace"),vu(this,"chainId"),this.namespace=e.namespace,this.events=lt("events"),this.client=lt("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace.chains=[...new Set((this.namespace.chains||[]).concat(e.chains||[]))],this.namespace.accounts=[...new Set((this.namespace.accounts||[]).concat(e.accounts||[]))],this.namespace.methods=[...new Set((this.namespace.methods||[]).concat(e.methods||[]))],this.namespace.events=[...new Set((this.namespace.events||[]).concat(e.events||[]))],this.httpProviders=this.createHttpProviders()}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider(e.chainId).request(e.request)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(e,n),this.chainId=e,this.events.emit(Ii.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}createHttpProviders(){var e,n;const s={};return(n=(e=this.namespace)==null?void 0:e.accounts)==null||n.forEach(i=>{const a=zu(i);s[`${a.namespace}:${a.reference}`]=this.createHttpProvider(i)}),s}getHttpProvider(e){const n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const s=this.createHttpProvider(e,n);s&&(this.httpProviders[e]=s)}createHttpProvider(e,n){const s=n||Xs(e,this.namespace,this.client.core.projectId);if(!s)throw new Error(`No RPC url provided for chainId: ${e}`);return new _i(new Xi(s,lt("disableProviderPing")))}}var ire=Object.defineProperty,rre=Object.defineProperties,ore=Object.getOwnPropertyDescriptors,C5=Object.getOwnPropertySymbols,are=Object.prototype.hasOwnProperty,cre=Object.prototype.propertyIsEnumerable,m2=(t,e,n)=>e in t?ire(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,w0=(t,e)=>{for(var n in e||(e={}))are.call(e,n)&&m2(t,n,e[n]);if(C5)for(var n of C5(e))cre.call(e,n)&&m2(t,n,e[n]);return t},$b=(t,e)=>rre(t,ore(e)),pi=(t,e,n)=>m2(t,typeof e!="symbol"?e+"":e,n);class Ym{constructor(e){pi(this,"client"),pi(this,"namespaces"),pi(this,"optionalNamespaces"),pi(this,"sessionProperties"),pi(this,"scopedProperties"),pi(this,"events",new DE),pi(this,"rpcProviders",{}),pi(this,"session"),pi(this,"providerOpts"),pi(this,"logger"),pi(this,"uri"),pi(this,"disableProviderPing",!1),this.providerOpts=e,this.logger=typeof e?.logger<"u"&&typeof e?.logger!="string"?e.logger:fp(hp({level:e?.logger||r5})),this.disableProviderPing=e?.disableProviderPing||!1}static async init(e){const n=new Ym(e);return await n.initialize(),n}async request(e,n,s){const[i,a]=this.validateChain(n);if(!this.session)throw new Error("Please call connect() before request()");return await this.getProvider(i).request({request:w0({},e),chainId:`${i}:${a}`,topic:this.session.topic,expiry:s})}sendAsync(e,n,s,i){const a=new Date().getTime();this.request(e,s,i).then(c=>n(null,qm(a,c))).catch(c=>n(c,void 0))}async enable(){if(!this.client)throw new Error("Sign Client not initialized");return this.session||await this.connect({namespaces:this.namespaces,optionalNamespaces:this.optionalNamespaces,sessionProperties:this.sessionProperties,scopedProperties:this.scopedProperties}),await this.requestAccounts()}async disconnect(){var e;if(!this.session)throw new Error("Please call connect() before enable()");await this.client.disconnect({topic:(e=this.session)==null?void 0:e.topic,reason:jt("USER_DISCONNECTED")}),await this.cleanup()}async connect(e){if(!this.client)throw new Error("Sign Client not initialized");if(this.setNamespaces(e),await this.cleanupPendingPairings(),!e.skipPairing)return await this.pair(e.pairingTopic)}async authenticate(e,n){if(!this.client)throw new Error("Sign Client not initialized");this.setNamespaces(e),await this.cleanupPendingPairings();const{uri:s,response:i}=await this.client.authenticate(e,n);s&&(this.uri=s,this.events.emit("display_uri",s));const a=await i();if(this.session=a.session,this.session){const c=p5(this.session.namespaces);this.namespaces=y0(this.namespaces,c),await this.persist("namespaces",this.namespaces),this.onConnect()}return a}on(e,n){this.events.on(e,n)}once(e,n){this.events.once(e,n)}removeListener(e,n){this.events.removeListener(e,n)}off(e,n){this.events.off(e,n)}get isWalletConnect(){return!0}async pair(e){const{uri:n,approval:s}=await this.client.connect({pairingTopic:e,requiredNamespaces:this.namespaces,optionalNamespaces:this.optionalNamespaces,sessionProperties:this.sessionProperties,scopedProperties:this.scopedProperties});n&&(this.uri=n,this.events.emit("display_uri",n));const i=await s();this.session=i;const a=p5(i.namespaces);return this.namespaces=y0(this.namespaces,a),await this.persist("namespaces",this.namespaces),await this.persist("optionalNamespaces",this.optionalNamespaces),this.onConnect(),this.session}setDefaultChain(e,n){try{if(!this.session)return;const[s,i]=this.validateChain(e),a=this.getProvider(s);a.name===xu?a.setDefaultChain(`${s}:${i}`,n):a.setDefaultChain(i,n)}catch(s){if(!/Please call connect/.test(s.message))throw s}}async cleanupPendingPairings(e={}){this.logger.info("Cleaning up inactive pairings...");const n=this.client.pairing.getAll();if(vo(n)){for(const s of n)e.deletePairings?this.client.core.expirer.set(s.topic,0):await this.client.core.relayer.subscriber.unsubscribe(s.topic);this.logger.info(`Inactive pairings cleared: ${n.length}`)}}abortPairingAttempt(){this.logger.warn("abortPairingAttempt is deprecated. This is now a no-op.")}async checkStorage(){this.namespaces=await this.getFromStore("namespaces")||{},this.optionalNamespaces=await this.getFromStore("optionalNamespaces")||{},this.session&&this.createProviders()}async initialize(){this.logger.trace("Initialized"),await this.createClient(),await this.checkStorage(),this.registerEventListeners()}async createClient(){var e,n;if(this.client=this.providerOpts.client||await Ase.init({core:this.providerOpts.core,logger:this.providerOpts.logger||r5,relayUrl:this.providerOpts.relayUrl||Mse,projectId:this.providerOpts.projectId,metadata:this.providerOpts.metadata,storageOptions:this.providerOpts.storageOptions,storage:this.providerOpts.storage,name:this.providerOpts.name,customStoragePrefix:this.providerOpts.customStoragePrefix,telemetryEnabled:this.providerOpts.telemetryEnabled}),this.providerOpts.session)try{this.session=this.client.session.get(this.providerOpts.session.topic)}catch(s){throw this.logger.error("Failed to get session",s),new Error(`The provided session: ${(n=(e=this.providerOpts)==null?void 0:e.session)==null?void 0:n.topic} doesn't exist in the Sign client`)}else{const s=this.client.session.getAll();this.session=s[0]}this.logger.trace("SignClient Initialized")}createProviders(){if(!this.client)throw new Error("Sign Client not initialized");if(!this.session)throw new Error("Session not initialized. Please call connect() before enable()");const e=[...new Set(Object.keys(this.session.namespaces).map(n=>Uu(n)))];Mb("client",this.client),Mb("events",this.events),Mb("disableProviderPing",this.disableProviderPing),e.forEach(n=>{if(!this.session)return;const s=gie(n,this.session);if(s?.length===0)return;const i=uM(s),a=y0(this.namespaces,this.optionalNamespaces),c=$b(w0({},a[n]),{accounts:s,chains:i});switch(n){case"eip155":this.rpcProviders[n]=new Die({namespace:c});break;case"algorand":this.rpcProviders[n]=new Bie({namespace:c});break;case"solana":this.rpcProviders[n]=new Rie({namespace:c});break;case"cosmos":this.rpcProviders[n]=new Pie({namespace:c});break;case"polkadot":this.rpcProviders[n]=new Sie({namespace:c});break;case"cip34":this.rpcProviders[n]=new Hie({namespace:c});break;case"elrond":this.rpcProviders[n]=new Vie({namespace:c});break;case"multiversx":this.rpcProviders[n]=new Gie({namespace:c});break;case"near":this.rpcProviders[n]=new Qie({namespace:c});break;case"tezos":this.rpcProviders[n]=new ere({namespace:c});break;default:this.rpcProviders[xu]?this.rpcProviders[xu].updateNamespace(c):this.rpcProviders[xu]=new sre({namespace:c})}})}registerEventListeners(){if(typeof this.client>"u")throw new Error("Sign Client is not initialized");this.client.on("session_ping",e=>{var n;const{topic:s}=e;s===((n=this.session)==null?void 0:n.topic)&&this.events.emit("session_ping",e)}),this.client.on("session_event",e=>{var n;const{params:s,topic:i}=e;if(i!==((n=this.session)==null?void 0:n.topic))return;const{event:a}=s;if(a.name==="accountsChanged"){const c=a.data;c&&vo(c)&&this.events.emit("accountsChanged",c.map(h5))}else if(a.name==="chainChanged"){const c=s.chainId,u=s.event.data,f=Uu(c),h=Ob(c)!==Ob(u)?`${f}:${Ob(u)}`:c;this.onChainChanged(h)}else this.events.emit(a.name,a.data);this.events.emit("session_event",e)}),this.client.on("session_update",({topic:e,params:n})=>{var s,i;if(e!==((s=this.session)==null?void 0:s.topic))return;const{namespaces:a}=n,c=(i=this.client)==null?void 0:i.session.get(e);this.session=$b(w0({},c),{namespaces:a}),this.onSessionUpdate(),this.events.emit("session_update",{topic:e,params:n})}),this.client.on("session_delete",async e=>{var n;e.topic===((n=this.session)==null?void 0:n.topic)&&(await this.cleanup(),this.events.emit("session_delete",e),this.events.emit("disconnect",$b(w0({},jt("USER_DISCONNECTED")),{data:e.topic})))}),this.on(Ii.DEFAULT_CHAIN_CHANGED,e=>{this.onChainChanged(e,!0)})}getProvider(e){return this.rpcProviders[e]||this.rpcProviders[xu]}onSessionUpdate(){Object.keys(this.rpcProviders).forEach(e=>{var n;this.getProvider(e).updateNamespace((n=this.session)==null?void 0:n.namespaces[e])})}setNamespaces(e){const{namespaces:n={},optionalNamespaces:s={},sessionProperties:i,scopedProperties:a}=e;this.optionalNamespaces=y0(n,s),this.sessionProperties=i,this.scopedProperties=a}validateChain(e){const[n,s]=e?.split(":")||["",""];if(!this.namespaces||!Object.keys(this.namespaces).length)return[n,s];if(n&&!Object.keys(this.namespaces||{}).map(c=>Uu(c)).includes(n))throw new Error(`Namespace '${n}' is not configured. Please call connect() first with namespace config.`);if(n&&s)return[n,s];const i=Uu(Object.keys(this.namespaces)[0]),a=this.rpcProviders[i].getDefaultChain();return[i,a]}async requestAccounts(){const[e]=this.validateChain();return await this.getProvider(e).requestAccounts()}async onChainChanged(e,n=!1){if(!this.namespaces)return;const[s,i]=this.validateChain(e);if(!i)return;this.updateNamespaceChain(s,i),this.events.emit("chainChanged",i);const a=this.getProvider(s).getDefaultChain();n||this.getProvider(s).setDefaultChain(i),this.emitAccountsChangedOnChainChange({namespace:s,previousChainId:a,newChainId:e}),await this.persist("namespaces",this.namespaces)}emitAccountsChangedOnChainChange({namespace:e,previousChainId:n,newChainId:s}){var i,a;try{if(n===s)return;const c=(a=(i=this.session)==null?void 0:i.namespaces[e])==null?void 0:a.accounts;if(!c)return;const u=c.filter(f=>f.includes(`${s}:`)).map(h5);if(!vo(u))return;this.events.emit("accountsChanged",u)}catch(c){this.logger.warn("Failed to emit accountsChanged on chain change",c)}}updateNamespaceChain(e,n){if(!this.namespaces)return;const s=this.namespaces[e]?e:`${e}:${n}`,i={chains:[],methods:[],events:[],defaultChain:n};this.namespaces[s]?this.namespaces[s]&&(this.namespaces[s].defaultChain=n):this.namespaces[s]=i}onConnect(){this.createProviders(),this.events.emit("connect",{session:this.session})}async cleanup(){this.namespaces=void 0,this.optionalNamespaces=void 0,this.sessionProperties=void 0,await this.deleteFromStore("namespaces"),await this.deleteFromStore("optionalNamespaces"),await this.deleteFromStore("sessionProperties"),this.session=void 0,await this.cleanupPendingPairings({deletePairings:!0}),await this.cleanupStorage()}async persist(e,n){var s;const i=((s=this.session)==null?void 0:s.topic)||"";await this.client.core.storage.setItem(`${g0}/${e}${i}`,n)}async getFromStore(e){var n;const s=((n=this.session)==null?void 0:n.topic)||"";return await this.client.core.storage.getItem(`${g0}/${e}${s}`)}async deleteFromStore(e){var n;const s=((n=this.session)==null?void 0:n.topic)||"";await this.client.core.storage.removeItem(`${g0}/${e}${s}`)}async cleanupStorage(){var e;try{if(((e=this.client)==null?void 0:e.session.length)>0)return;const n=await this.client.core.storage.getKeys();for(const s of n)s.startsWith(g0)&&await this.client.core.storage.removeItem(s)}catch(n){this.logger.warn("Failed to cleanup storage",n)}}}const lre=Ym;var S5={};const de={WC_NAME_SUFFIX:".reown.id",WC_NAME_SUFFIX_LEGACY:".wcn.id",BLOCKCHAIN_API_RPC_URL:"https://rpc.walletconnect.org",PULSE_API_URL:"https://pulse.walletconnect.org",W3M_API_URL:"https://api.web3modal.org",CONNECTOR_ID:{WALLET_CONNECT:"walletConnect",INJECTED:"injected",WALLET_STANDARD:"announced",COINBASE:"coinbaseWallet",COINBASE_SDK:"coinbaseWalletSDK",SAFE:"safe",LEDGER:"ledger",OKX:"okx",EIP6963:"eip6963",AUTH:"ID_AUTH"},CONNECTOR_NAMES:{AUTH:"Auth"},AUTH_CONNECTOR_SUPPORTED_CHAINS:["eip155","solana"],LIMITS:{PENDING_TRANSACTIONS:99},CHAIN:{EVM:"eip155",SOLANA:"solana",POLKADOT:"polkadot",BITCOIN:"bip122"},CHAIN_NAME_MAP:{eip155:"EVM Networks",solana:"Solana",polkadot:"Polkadot",bip122:"Bitcoin",cosmos:"Cosmos",sui:"Sui",stacks:"Stacks"},ADAPTER_TYPES:{BITCOIN:"bitcoin",SOLANA:"solana",WAGMI:"wagmi",ETHERS:"ethers",ETHERS5:"ethers5"},USDT_CONTRACT_ADDRESSES:["0xdac17f958d2ee523a2206206994597c13d831ec7","0xc2132d05d31c914a87c6611c10748aeb04b58e8f","0x9702230a8ea53601f5cd2dc00fdbc13d4df4a8c7","0x919C1c267BC06a7039e03fcc2eF738525769109c","0x48065fbBE25f71C9282ddf5e1cD6D6A887483D5e","0x55d398326f99059fF775485246999027B3197955","0xfd086bc7cd5c481dcc9c85ebe478a1c0b69fcbb9"],HTTP_STATUS_CODES:{SERVER_ERROR:500,TOO_MANY_REQUESTS:429,SERVICE_UNAVAILABLE:503,FORBIDDEN:403},UNSUPPORTED_NETWORK_NAME:"Unknown Network",SECURE_SITE_SDK_ORIGIN:(typeof process<"u"&&typeof S5<"u"?S5.NEXT_PUBLIC_SECURE_SITE_ORIGIN:void 0)||"https://secure.walletconnect.org",REMOTE_FEATURES_ALERTS:{MULTI_WALLET_NOT_ENABLED:{DEFAULT:{displayMessage:"Multi-Wallet Not Enabled",debugMessage:"Multi-wallet support is not enabled. Please enable it in your AppKit configuration at cloud.reown.com."},CONNECTIONS_HOOK:{displayMessage:"Multi-Wallet Not Enabled",debugMessage:"Multi-wallet support is not enabled. Please enable it in your AppKit configuration at cloud.reown.com to use the useAppKitConnections hook."},CONNECTION_HOOK:{displayMessage:"Multi-Wallet Not Enabled",debugMessage:"Multi-wallet support is not enabled. Please enable it in your AppKit configuration at cloud.reown.com to use the useAppKitConnection hook."}}}},dM={caipNetworkIdToNumber(t){return t?Number(t.split(":")[1]):void 0},parseEvmChainId(t){return typeof t=="string"?this.caipNetworkIdToNumber(t):t},getNetworksByNamespace(t,e){return t?.filter(n=>n.chainNamespace===e)||[]},getFirstNetworkByNamespace(t,e){return this.getNetworksByNamespace(t,e)[0]},getNetworkNameByCaipNetworkId(t,e){if(!e)return;const n=t.find(i=>i.caipNetworkId===e);if(n)return n.name;const[s]=e.split(":");return de.CHAIN_NAME_MAP?.[s]||void 0}},hM=["eip155","solana","polkadot","bip122","cosmos","sui","stacks"];var ure=20,fre=1,Jc=1e6,x5=1e6,dre=-7,hre=21,pre=!1,Ep="[big.js] ",cl=Ep+"Invalid ",Xm=cl+"decimal places",gre=cl+"rounding mode",pM=Ep+"Division by zero",vt={},Ir=void 0,mre=/^-?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i;function gM(){function t(e){var n=this;if(!(n instanceof t))return e===Ir?gM():new t(e);if(e instanceof t)n.s=e.s,n.e=e.e,n.c=e.c.slice();else{if(typeof e!="string"){if(t.strict===!0&&typeof e!="bigint")throw TypeError(cl+"value");e=e===0&&1/e<0?"-0":String(e)}yre(n,e)}n.constructor=t}return t.prototype=vt,t.DP=ure,t.RM=fre,t.NE=dre,t.PE=hre,t.strict=pre,t.roundDown=0,t.roundHalfUp=1,t.roundHalfEven=2,t.roundUp=3,t}function yre(t,e){var n,s,i;if(!mre.test(e))throw Error(cl+"number");for(t.s=e.charAt(0)=="-"?(e=e.slice(1),-1):1,(n=e.indexOf("."))>-1&&(e=e.replace(".","")),(s=e.search(/e/i))>0?(n<0&&(n=s),n+=+e.slice(s+1),e=e.substring(0,s)):n<0&&(n=e.length),i=e.length,s=0;s<i&&e.charAt(s)=="0";)++s;if(s==i)t.c=[t.e=0];else{for(;i>0&&e.charAt(--i)=="0";);for(t.e=n-s-1,t.c=[],n=0;s<=i;)t.c[n++]=+e.charAt(s++)}return t}function ll(t,e,n,s){var i=t.c;if(n===Ir&&(n=t.constructor.RM),n!==0&&n!==1&&n!==2&&n!==3)throw Error(gre);if(e<1)s=n===3&&(s||!!i[0])||e===0&&(n===1&&i[0]>=5||n===2&&(i[0]>5||i[0]===5&&(s||i[1]!==Ir))),i.length=1,s?(t.e=t.e-e+1,i[0]=1):i[0]=t.e=0;else if(e<i.length){if(s=n===1&&i[e]>=5||n===2&&(i[e]>5||i[e]===5&&(s||i[e+1]!==Ir||i[e-1]&1))||n===3&&(s||!!i[0]),i.length=e,s){for(;++i[--e]>9;)if(i[e]=0,e===0){++t.e,i.unshift(1);break}}for(e=i.length;!i[--e];)i.pop()}return t}function ul(t,e,n){var s=t.e,i=t.c.join(""),a=i.length;if(e)i=i.charAt(0)+(a>1?"."+i.slice(1):"")+(s<0?"e":"e+")+s;else if(s<0){for(;++s;)i="0"+i;i="0."+i}else if(s>0)if(++s>a)for(s-=a;s--;)i+="0";else s<a&&(i=i.slice(0,s)+"."+i.slice(s));else a>1&&(i=i.charAt(0)+"."+i.slice(1));return t.s<0&&n?"-"+i:i}vt.abs=function(){var t=new this.constructor(this);return t.s=1,t};vt.cmp=function(t){var e,n=this,s=n.c,i=(t=new n.constructor(t)).c,a=n.s,c=t.s,u=n.e,f=t.e;if(!s[0]||!i[0])return s[0]?a:i[0]?-c:0;if(a!=c)return a;if(e=a<0,u!=f)return u>f^e?1:-1;for(c=(u=s.length)<(f=i.length)?u:f,a=-1;++a<c;)if(s[a]!=i[a])return s[a]>i[a]^e?1:-1;return u==f?0:u>f^e?1:-1};vt.div=function(t){var e=this,n=e.constructor,s=e.c,i=(t=new n(t)).c,a=e.s==t.s?1:-1,c=n.DP;if(c!==~~c||c<0||c>Jc)throw Error(Xm);if(!i[0])throw Error(pM);if(!s[0])return t.s=a,t.c=[t.e=0],t;var u,f,h,p,g,y=i.slice(),b=u=i.length,v=s.length,E=s.slice(0,u),A=E.length,x=t,D=x.c=[],S=0,N=c+(x.e=e.e-t.e)+1;for(x.s=a,a=N<0?0:N,y.unshift(0);A++<u;)E.push(0);do{for(h=0;h<10;h++){if(u!=(A=E.length))p=u>A?1:-1;else for(g=-1,p=0;++g<u;)if(i[g]!=E[g]){p=i[g]>E[g]?1:-1;break}if(p<0){for(f=A==u?i:y;A;){if(E[--A]<f[A]){for(g=A;g&&!E[--g];)E[g]=9;--E[g],E[A]+=10}E[A]-=f[A]}for(;!E[0];)E.shift()}else break}D[S++]=p?h:++h,E[0]&&p?E[A]=s[b]||0:E=[s[b]]}while((b++<v||E[0]!==Ir)&&a--);return!D[0]&&S!=1&&(D.shift(),x.e--,N--),S>N&&ll(x,N,n.RM,E[0]!==Ir),x};vt.eq=function(t){return this.cmp(t)===0};vt.gt=function(t){return this.cmp(t)>0};vt.gte=function(t){return this.cmp(t)>-1};vt.lt=function(t){return this.cmp(t)<0};vt.lte=function(t){return this.cmp(t)<1};vt.minus=vt.sub=function(t){var e,n,s,i,a=this,c=a.constructor,u=a.s,f=(t=new c(t)).s;if(u!=f)return t.s=-f,a.plus(t);var h=a.c.slice(),p=a.e,g=t.c,y=t.e;if(!h[0]||!g[0])return g[0]?t.s=-f:h[0]?t=new c(a):t.s=1,t;if(u=p-y){for((i=u<0)?(u=-u,s=h):(y=p,s=g),s.reverse(),f=u;f--;)s.push(0);s.reverse()}else for(n=((i=h.length<g.length)?h:g).length,u=f=0;f<n;f++)if(h[f]!=g[f]){i=h[f]<g[f];break}if(i&&(s=h,h=g,g=s,t.s=-t.s),(f=(n=g.length)-(e=h.length))>0)for(;f--;)h[e++]=0;for(f=e;n>u;){if(h[--n]<g[n]){for(e=n;e&&!h[--e];)h[e]=9;--h[e],h[n]+=10}h[n]-=g[n]}for(;h[--f]===0;)h.pop();for(;h[0]===0;)h.shift(),--y;return h[0]||(t.s=1,h=[y=0]),t.c=h,t.e=y,t};vt.mod=function(t){var e,n=this,s=n.constructor,i=n.s,a=(t=new s(t)).s;if(!t.c[0])throw Error(pM);return n.s=t.s=1,e=t.cmp(n)==1,n.s=i,t.s=a,e?new s(n):(i=s.DP,a=s.RM,s.DP=s.RM=0,n=n.div(t),s.DP=i,s.RM=a,this.minus(n.times(t)))};vt.neg=function(){var t=new this.constructor(this);return t.s=-t.s,t};vt.plus=vt.add=function(t){var e,n,s,i=this,a=i.constructor;if(t=new a(t),i.s!=t.s)return t.s=-t.s,i.minus(t);var c=i.e,u=i.c,f=t.e,h=t.c;if(!u[0]||!h[0])return h[0]||(u[0]?t=new a(i):t.s=i.s),t;if(u=u.slice(),e=c-f){for(e>0?(f=c,s=h):(e=-e,s=u),s.reverse();e--;)s.push(0);s.reverse()}for(u.length-h.length<0&&(s=h,h=u,u=s),e=h.length,n=0;e;u[e]%=10)n=(u[--e]=u[e]+h[e]+n)/10|0;for(n&&(u.unshift(n),++f),e=u.length;u[--e]===0;)u.pop();return t.c=u,t.e=f,t};vt.pow=function(t){var e=this,n=new e.constructor("1"),s=n,i=t<0;if(t!==~~t||t<-x5||t>x5)throw Error(cl+"exponent");for(i&&(t=-t);t&1&&(s=s.times(e)),t>>=1,!!t;)e=e.times(e);return i?n.div(s):s};vt.prec=function(t,e){if(t!==~~t||t<1||t>Jc)throw Error(cl+"precision");return ll(new this.constructor(this),t,e)};vt.round=function(t,e){if(t===Ir)t=0;else if(t!==~~t||t<-Jc||t>Jc)throw Error(Xm);return ll(new this.constructor(this),t+this.e+1,e)};vt.sqrt=function(){var t,e,n,s=this,i=s.constructor,a=s.s,c=s.e,u=new i("0.5");if(!s.c[0])return new i(s);if(a<0)throw Error(Ep+"No square root");a=Math.sqrt(+ul(s,!0,!0)),a===0||a===1/0?(e=s.c.join(""),e.length+c&1||(e+="0"),a=Math.sqrt(e),c=((c+1)/2|0)-(c<0||c&1),t=new i((a==1/0?"5e":(a=a.toExponential()).slice(0,a.indexOf("e")+1))+c)):t=new i(a+""),c=t.e+(i.DP+=4);do n=t,t=u.times(n.plus(s.div(n)));while(n.c.slice(0,c).join("")!==t.c.slice(0,c).join(""));return ll(t,(i.DP-=4)+t.e+1,i.RM)};vt.times=vt.mul=function(t){var e,n=this,s=n.constructor,i=n.c,a=(t=new s(t)).c,c=i.length,u=a.length,f=n.e,h=t.e;if(t.s=n.s==t.s?1:-1,!i[0]||!a[0])return t.c=[t.e=0],t;for(t.e=f+h,c<u&&(e=i,i=a,a=e,h=c,c=u,u=h),e=new Array(h=c+u);h--;)e[h]=0;for(f=u;f--;){for(u=0,h=c+f;h>f;)u=e[h]+a[f]*i[h-f-1]+u,e[h--]=u%10,u=u/10|0;e[h]=u}for(u?++t.e:e.shift(),f=e.length;!e[--f];)e.pop();return t.c=e,t};vt.toExponential=function(t,e){var n=this,s=n.c[0];if(t!==Ir){if(t!==~~t||t<0||t>Jc)throw Error(Xm);for(n=ll(new n.constructor(n),++t,e);n.c.length<t;)n.c.push(0)}return ul(n,!0,!!s)};vt.toFixed=function(t,e){var n=this,s=n.c[0];if(t!==Ir){if(t!==~~t||t<0||t>Jc)throw Error(Xm);for(n=ll(new n.constructor(n),t+n.e+1,e),t=t+n.e+1;n.c.length<t;)n.c.push(0)}return ul(n,!1,!!s)};vt[Symbol.for("nodejs.util.inspect.custom")]=vt.toJSON=vt.toString=function(){var t=this,e=t.constructor;return ul(t,t.e<=e.NE||t.e>=e.PE,!!t.c[0])};vt.toNumber=function(){var t=+ul(this,!0,!0);if(this.constructor.strict===!0&&!this.eq(t.toString()))throw Error(Ep+"Imprecise conversion");return t};vt.toPrecision=function(t,e){var n=this,s=n.constructor,i=n.c[0];if(t!==Ir){if(t!==~~t||t<1||t>Jc)throw Error(cl+"precision");for(n=ll(new s(n),t,e);n.c.length<t;)n.c.push(0)}return ul(n,t<=n.e||n.e<=s.NE||n.e>=s.PE,!!i)};vt.valueOf=function(){var t=this,e=t.constructor;if(e.strict===!0)throw Error(Ep+"valueOf disallowed");return ul(t,t.e<=e.NE||t.e>=e.PE,!0)};var $d=gM();const wre={bigNumber(t){return t?new $d(t):new $d(0)},multiply(t,e){if(t===void 0||e===void 0)return new $d(0);const n=new $d(t),s=new $d(e);return n.times(s)},formatNumberToLocalString(t,e=2){return t===void 0?"0.00":typeof t=="number"?t.toLocaleString("en-US",{maximumFractionDigits:e,minimumFractionDigits:e}):parseFloat(t).toLocaleString("en-US",{maximumFractionDigits:e,minimumFractionDigits:e})},parseLocalStringToNumber(t){return t===void 0?0:parseFloat(t.replace(/,/gu,""))}},bre=[{type:"function",name:"transfer",stateMutability:"nonpayable",inputs:[{name:"_to",type:"address"},{name:"_value",type:"uint256"}],outputs:[{name:"",type:"bool"}]},{type:"function",name:"transferFrom",stateMutability:"nonpayable",inputs:[{name:"_from",type:"address"},{name:"_to",type:"address"},{name:"_value",type:"uint256"}],outputs:[{name:"",type:"bool"}]}],vre=[{type:"function",name:"approve",stateMutability:"nonpayable",inputs:[{name:"spender",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]}],Ere=[{type:"function",name:"transfer",stateMutability:"nonpayable",inputs:[{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[]},{type:"function",name:"transferFrom",stateMutability:"nonpayable",inputs:[{name:"sender",type:"address"},{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[{name:"",type:"bool"}]}],Are={getERC20Abi:t=>de.USDT_CONTRACT_ADDRESSES.includes(t)?Ere:bre,getSwapAbi:()=>vre},Ks={validateCaipAddress(t){if(t.split(":")?.length!==3)throw new Error("Invalid CAIP Address");return t},parseCaipAddress(t){const e=t.split(":");if(e.length!==3)throw new Error(`Invalid CAIP-10 address: ${t}`);const[n,s,i]=e;if(!n||!s||!i)throw new Error(`Invalid CAIP-10 address: ${t}`);return{chainNamespace:n,chainId:s,address:i}},parseCaipNetworkId(t){const e=t.split(":");if(e.length!==2)throw new Error(`Invalid CAIP-2 network id: ${t}`);const[n,s]=e;if(!n||!s)throw new Error(`Invalid CAIP-2 network id: ${t}`);return{chainNamespace:n,chainId:s}}},$e={WALLET_ID:"@appkit/wallet_id",WALLET_NAME:"@appkit/wallet_name",SOLANA_WALLET:"@appkit/solana_wallet",SOLANA_CAIP_CHAIN:"@appkit/solana_caip_chain",ACTIVE_CAIP_NETWORK_ID:"@appkit/active_caip_network_id",CONNECTED_SOCIAL:"@appkit/connected_social",CONNECTED_SOCIAL_USERNAME:"@appkit-wallet/SOCIAL_USERNAME",RECENT_WALLETS:"@appkit/recent_wallets",DEEPLINK_CHOICE:"WALLETCONNECT_DEEPLINK_CHOICE",ACTIVE_NAMESPACE:"@appkit/active_namespace",CONNECTED_NAMESPACES:"@appkit/connected_namespaces",CONNECTION_STATUS:"@appkit/connection_status",SIWX_AUTH_TOKEN:"@appkit/siwx-auth-token",SIWX_NONCE_TOKEN:"@appkit/siwx-nonce-token",TELEGRAM_SOCIAL_PROVIDER:"@appkit/social_provider",NATIVE_BALANCE_CACHE:"@appkit/native_balance_cache",PORTFOLIO_CACHE:"@appkit/portfolio_cache",ENS_CACHE:"@appkit/ens_cache",IDENTITY_CACHE:"@appkit/identity_cache",PREFERRED_ACCOUNT_TYPES:"@appkit/preferred_account_types",CONNECTIONS:"@appkit/connections",DISCONNECTED_CONNECTOR_IDS:"@appkit/disconnected_connector_ids",HISTORY_TRANSACTIONS_CACHE:"@appkit/history_transactions_cache",TOKEN_PRICE_CACHE:"@appkit/token_price_cache",RECENT_EMAILS:"@appkit/recent_emails"};function Ub(t){if(!t)throw new Error("Namespace is required for CONNECTED_CONNECTOR_ID");return`@appkit/${t}:connected_connector_id`}const Me={setItem(t,e){Lu()&&e!==void 0&&localStorage.setItem(t,e)},getItem(t){if(Lu())return localStorage.getItem(t)||void 0},removeItem(t){Lu()&&localStorage.removeItem(t)},clear(){Lu()&&localStorage.clear()}};function Lu(){return typeof window<"u"&&typeof localStorage<"u"}function Oa(t,e){return e==="light"?{"--w3m-accent":t?.["--w3m-accent"]||"hsla(231, 100%, 70%, 1)","--w3m-background":"#fff"}:{"--w3m-accent":t?.["--w3m-accent"]||"hsla(230, 100%, 67%, 1)","--w3m-background":"#121313"}}const Cre=Symbol(),N5=Object.getPrototypeOf,y2=new WeakMap,Sre=t=>t&&(y2.has(t)?y2.get(t):N5(t)===Object.prototype||N5(t)===Array.prototype),xre=t=>Sre(t)&&t[Cre]||null,T5=(t,e=!0)=>{y2.set(t,e)},wm={},aA=t=>typeof t=="object"&&t!==null,Nre=t=>aA(t)&&!Ap.has(t)&&(Array.isArray(t)||!(Symbol.iterator in t))&&!(t instanceof WeakMap)&&!(t instanceof WeakSet)&&!(t instanceof Error)&&!(t instanceof Number)&&!(t instanceof Date)&&!(t instanceof String)&&!(t instanceof RegExp)&&!(t instanceof ArrayBuffer)&&!(t instanceof Promise),mM=(t,e)=>{const n=w2.get(t);if(n?.[0]===e)return n[1];const s=Array.isArray(t)?[]:Object.create(Object.getPrototypeOf(t));return T5(s,!0),w2.set(t,[e,s]),Reflect.ownKeys(t).forEach(i=>{if(Object.getOwnPropertyDescriptor(s,i))return;const a=Reflect.get(t,i),{enumerable:c}=Reflect.getOwnPropertyDescriptor(t,i),u={value:a,enumerable:c,configurable:!0};if(Ap.has(a))T5(a,!1);else if(Ba.has(a)){const[f,h]=Ba.get(a);u.value=mM(f,h())}Object.defineProperty(s,i,u)}),Object.preventExtensions(s)},Tre=(t,e,n,s)=>({deleteProperty(i,a){const c=Reflect.get(i,a);n(a);const u=Reflect.deleteProperty(i,a);return u&&s(["delete",[a],c]),u},set(i,a,c,u){const f=!t()&&Reflect.has(i,a),h=Reflect.get(i,a,u);if(f&&(_5(h,c)||Oh.has(c)&&_5(h,Oh.get(c))))return!0;n(a),aA(c)&&(c=xre(c)||c);const p=!Ba.has(c)&&Ire(c)?Dt(c):c;return e(a,p),Reflect.set(i,a,p,u),s(["set",[a],c,h]),!0}}),Ba=new WeakMap,Ap=new WeakSet,w2=new WeakMap,qd=[1,1],Oh=new WeakMap;let _5=Object.is,_re=(t,e)=>new Proxy(t,e),Ire=Nre,Dre=mM,Ore=Tre;function Dt(t={}){if(!aA(t))throw new Error("object required");const e=Oh.get(t);if(e)return e;let n=qd[0];const s=new Set,i=(A,x=++qd[0])=>{n!==x&&(n=x,s.forEach(D=>D(A,x)))};let a=qd[1];const c=(A=++qd[1])=>(a!==A&&!s.size&&(a=A,f.forEach(([x])=>{const D=x[1](A);D>n&&(n=D)})),n),u=A=>(x,D)=>{const S=[...x];S[1]=[A,...S[1]],i(S,D)},f=new Map,h=(A,x)=>{const D=!Ap.has(x)&&Ba.get(x);if(D){if((wm?"production":void 0)!=="production"&&f.has(A))throw new Error("prop listener already exists");if(s.size){const S=D[2](u(A));f.set(A,[D,S])}else f.set(A,[D])}},p=A=>{var x;const D=f.get(A);D&&(f.delete(A),(x=D[1])==null||x.call(D))},g=A=>(s.add(A),s.size===1&&f.forEach(([D,S],N)=>{if((wm?"production":void 0)!=="production"&&S)throw new Error("remove already exists");const T=D[2](u(N));f.set(N,[D,T])}),()=>{s.delete(A),s.size===0&&f.forEach(([D,S],N)=>{S&&(S(),f.set(N,[D]))})});let y=!0;const b=Ore(()=>y,h,p,i),v=_re(t,b);Oh.set(t,v);const E=[t,c,g];return Ba.set(v,E),Reflect.ownKeys(t).forEach(A=>{const x=Object.getOwnPropertyDescriptor(t,A);"value"in x&&x.writable&&(v[A]=t[A])}),y=!1,v}function Pn(t,e,n){const s=Ba.get(t);(wm?"production":void 0)!=="production"&&!s&&console.warn("Please use proxy object");let i;const a=[],c=s[2];let u=!1;const h=c(p=>{a.push(p),i||(i=Promise.resolve().then(()=>{i=void 0,u&&e(a.splice(0))}))});return u=!0,()=>{u=!1,h()}}function Mh(t){const e=Ba.get(t);(wm?"production":void 0)!=="production"&&!e&&console.warn("Please use proxy object");const[n,s]=e;return Dre(n,s())}function el(t){return Ap.add(t),t}function Mre(){return{proxyStateMap:Ba,refSet:Ap,snapCache:w2,versionHolder:qd,proxyCache:Oh}}function Qn(t,e,n,s){let i=t[e];return Pn(t,()=>{const a=t[e];Object.is(i,a)||n(i=a)})}const{proxyStateMap:Rre,snapCache:$re}=Mre(),b0=t=>Rre.has(t);function Ure(t){const e=[];let n=0;const s=new Map,i=new WeakMap,a=()=>{const h=$re.get(u),p=h?.[1];if(p&&!i.has(p)){const g=new Map(s);i.set(p,g)}},c=h=>i.get(h)||s,u={data:e,index:n,epoch:0,get size(){return b0(this)||a(),c(this).size},get(h){const g=c(this).get(h);if(g===void 0){this.epoch;return}return this.data[g]},has(h){const p=c(this);return this.epoch,p.has(h)},set(h,p){if(!b0(this))throw new Error("Cannot perform mutations on a snapshot");const g=s.get(h);return g===void 0?(s.set(h,this.index),this.data[this.index++]=p):this.data[g]=p,this.epoch++,this},delete(h){if(!b0(this))throw new Error("Cannot perform mutations on a snapshot");const p=s.get(h);return p===void 0?!1:(delete this.data[p],s.delete(h),this.epoch++,!0)},clear(){if(!b0(this))throw new Error("Cannot perform mutations on a snapshot");this.data.length=0,this.index=0,this.epoch++,s.clear()},forEach(h){this.epoch,c(this).forEach((g,y)=>{h(this.data[g],y,this)})},*entries(){this.epoch;const h=c(this);for(const[p,g]of h)yield[p,this.data[g]]},*keys(){this.epoch;const h=c(this);for(const p of h.keys())yield p},*values(){this.epoch;const h=c(this);for(const p of h.values())yield this.data[p]},[Symbol.iterator](){return this.entries()},get[Symbol.toStringTag](){return"Map"},toJSON(){return new Map(this.entries())}},f=Dt(u);return Object.defineProperties(f,{size:{enumerable:!1},index:{enumerable:!1},epoch:{enumerable:!1},data:{enumerable:!1},toJSON:{enumerable:!1}}),Object.seal(f),f}const yM=[{label:"Meld.io",name:"meld",feeRange:"1-2%",url:"https://meldcrypto.com",supportedChains:["eip155","solana"]}],Pre="WXETMuFUQmqqybHuRkSgxv:25B8LJHSfpG6LVjR2ytU5Cwh7Z4Sch2ocoU",gt={FOUR_MINUTES_MS:24e4,TEN_SEC_MS:1e4,ONE_SEC_MS:1e3,BALANCE_SUPPORTED_CHAINS:[de.CHAIN.EVM,de.CHAIN.SOLANA],NAMES_SUPPORTED_CHAIN_NAMESPACES:[de.CHAIN.EVM],NATIVE_TOKEN_ADDRESS:{eip155:"0xeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee",solana:"So11111111111111111111111111111111111111111",polkadot:"0x",bip122:"0x",cosmos:"0x",sui:"0x",stacks:"0x"},CONVERT_SLIPPAGE_TOLERANCE:1,CONNECT_LABELS:{MOBILE:"Open and continue in the wallet app"},SEND_SUPPORTED_NAMESPACES:[de.CHAIN.EVM,de.CHAIN.SOLANA],DEFAULT_REMOTE_FEATURES:{swaps:["1inch"],onramp:["meld"],email:!0,socials:["google","x","discord","farcaster","github","apple","facebook"],activity:!0,reownBranding:!0,multiWallet:!1,emailCapture:!1},DEFAULT_REMOTE_FEATURES_DISABLED:{email:!1,socials:!1,swaps:!1,onramp:!1,activity:!1,reownBranding:!1,emailCapture:!1},DEFAULT_FEATURES:{receive:!0,send:!0,emailShowWallets:!0,connectorTypeOrder:["walletConnect","recent","injected","featured","custom","external","recommended"],analytics:!0,allWallets:!0,legalCheckbox:!1,smartSessions:!1,collapseWallets:!1,walletFeaturesOrder:["onramp","swaps","receive","send"],connectMethodsOrder:void 0,pay:!1},DEFAULT_ACCOUNT_TYPES:{bip122:"payment",eip155:"smartAccount",polkadot:"eoa",solana:"eoa"},ADAPTER_TYPES:{UNIVERSAL:"universal"},SIWX_DEFAULTS:{signOutOnDisconnect:!0}},ge={cacheExpiry:{portfolio:3e4,nativeBalance:3e4,ens:3e5,identity:3e5,transactionsHistory:15e3,tokenPrice:15e3},isCacheExpired(t,e){return Date.now()-t>e},getActiveNetworkProps(){const t=ge.getActiveNamespace(),e=ge.getActiveCaipNetworkId(),n=e?e.split(":")[1]:void 0,s=n?isNaN(Number(n))?n:Number(n):void 0;return{namespace:t,caipNetworkId:e,chainId:s}},setWalletConnectDeepLink({name:t,href:e}){try{Me.setItem($e.DEEPLINK_CHOICE,JSON.stringify({href:e,name:t}))}catch{console.info("Unable to set WalletConnect deep link")}},getWalletConnectDeepLink(){try{const t=Me.getItem($e.DEEPLINK_CHOICE);if(t)return JSON.parse(t)}catch{console.info("Unable to get WalletConnect deep link")}},deleteWalletConnectDeepLink(){try{Me.removeItem($e.DEEPLINK_CHOICE)}catch{console.info("Unable to delete WalletConnect deep link")}},setActiveNamespace(t){try{Me.setItem($e.ACTIVE_NAMESPACE,t)}catch{console.info("Unable to set active namespace")}},setActiveCaipNetworkId(t){try{Me.setItem($e.ACTIVE_CAIP_NETWORK_ID,t),ge.setActiveNamespace(t.split(":")[0])}catch{console.info("Unable to set active caip network id")}},getActiveCaipNetworkId(){try{return Me.getItem($e.ACTIVE_CAIP_NETWORK_ID)}catch{console.info("Unable to get active caip network id");return}},deleteActiveCaipNetworkId(){try{Me.removeItem($e.ACTIVE_CAIP_NETWORK_ID)}catch{console.info("Unable to delete active caip network id")}},deleteConnectedConnectorId(t){try{const e=Ub(t);Me.removeItem(e)}catch{console.info("Unable to delete connected connector id")}},setAppKitRecent(t){try{const e=ge.getRecentWallets();e.find(s=>s.id===t.id)||(e.unshift(t),e.length>2&&e.pop(),Me.setItem($e.RECENT_WALLETS,JSON.stringify(e)))}catch{console.info("Unable to set AppKit recent")}},getRecentWallets(){try{const t=Me.getItem($e.RECENT_WALLETS);return t?JSON.parse(t):[]}catch{console.info("Unable to get AppKit recent")}return[]},setConnectedConnectorId(t,e){try{const n=Ub(t);Me.setItem(n,e)}catch{console.info("Unable to set Connected Connector Id")}},getActiveNamespace(){try{return Me.getItem($e.ACTIVE_NAMESPACE)}catch{console.info("Unable to get active namespace")}},getConnectedConnectorId(t){if(t)try{const e=Ub(t);return Me.getItem(e)}catch{console.info("Unable to get connected connector id in namespace",t)}},setConnectedSocialProvider(t){try{Me.setItem($e.CONNECTED_SOCIAL,t)}catch{console.info("Unable to set connected social provider")}},getConnectedSocialProvider(){try{return Me.getItem($e.CONNECTED_SOCIAL)}catch{console.info("Unable to get connected social provider")}},deleteConnectedSocialProvider(){try{Me.removeItem($e.CONNECTED_SOCIAL)}catch{console.info("Unable to delete connected social provider")}},getConnectedSocialUsername(){try{return Me.getItem($e.CONNECTED_SOCIAL_USERNAME)}catch{console.info("Unable to get connected social username")}},getStoredActiveCaipNetworkId(){return Me.getItem($e.ACTIVE_CAIP_NETWORK_ID)?.split(":")?.[1]},setConnectionStatus(t){try{Me.setItem($e.CONNECTION_STATUS,t)}catch{console.info("Unable to set connection status")}},getConnectionStatus(){try{return Me.getItem($e.CONNECTION_STATUS)}catch{return}},getConnectedNamespaces(){try{const t=Me.getItem($e.CONNECTED_NAMESPACES);return t?.length?t.split(","):[]}catch{return[]}},setConnectedNamespaces(t){try{const e=Array.from(new Set(t));Me.setItem($e.CONNECTED_NAMESPACES,e.join(","))}catch{console.info("Unable to set namespaces in storage")}},addConnectedNamespace(t){try{const e=ge.getConnectedNamespaces();e.includes(t)||(e.push(t),ge.setConnectedNamespaces(e))}catch{console.info("Unable to add connected namespace")}},removeConnectedNamespace(t){try{const e=ge.getConnectedNamespaces(),n=e.indexOf(t);n>-1&&(e.splice(n,1),ge.setConnectedNamespaces(e))}catch{console.info("Unable to remove connected namespace")}},getTelegramSocialProvider(){try{return Me.getItem($e.TELEGRAM_SOCIAL_PROVIDER)}catch{return console.info("Unable to get telegram social provider"),null}},setTelegramSocialProvider(t){try{Me.setItem($e.TELEGRAM_SOCIAL_PROVIDER,t)}catch{console.info("Unable to set telegram social provider")}},removeTelegramSocialProvider(){try{Me.removeItem($e.TELEGRAM_SOCIAL_PROVIDER)}catch{console.info("Unable to remove telegram social provider")}},getBalanceCache(){let t={};try{const e=Me.getItem($e.PORTFOLIO_CACHE);t=e?JSON.parse(e):{}}catch{console.info("Unable to get balance cache")}return t},removeAddressFromBalanceCache(t){try{const e=ge.getBalanceCache();Me.setItem($e.PORTFOLIO_CACHE,JSON.stringify({...e,[t]:void 0}))}catch{console.info("Unable to remove address from balance cache",t)}},getBalanceCacheForCaipAddress(t){try{const n=ge.getBalanceCache()[t];if(n&&!this.isCacheExpired(n.timestamp,this.cacheExpiry.portfolio))return n.balance;ge.removeAddressFromBalanceCache(t)}catch{console.info("Unable to get balance cache for address",t)}},updateBalanceCache(t){try{const e=ge.getBalanceCache();e[t.caipAddress]=t,Me.setItem($e.PORTFOLIO_CACHE,JSON.stringify(e))}catch{console.info("Unable to update balance cache",t)}},getNativeBalanceCache(){let t={};try{const e=Me.getItem($e.NATIVE_BALANCE_CACHE);t=e?JSON.parse(e):{}}catch{console.info("Unable to get balance cache")}return t},removeAddressFromNativeBalanceCache(t){try{const e=ge.getBalanceCache();Me.setItem($e.NATIVE_BALANCE_CACHE,JSON.stringify({...e,[t]:void 0}))}catch{console.info("Unable to remove address from balance cache",t)}},getNativeBalanceCacheForCaipAddress(t){try{const n=ge.getNativeBalanceCache()[t];if(n&&!this.isCacheExpired(n.timestamp,this.cacheExpiry.nativeBalance))return n;console.info("Discarding cache for address",t),ge.removeAddressFromBalanceCache(t)}catch{console.info("Unable to get balance cache for address",t)}},updateNativeBalanceCache(t){try{const e=ge.getNativeBalanceCache();e[t.caipAddress]=t,Me.setItem($e.NATIVE_BALANCE_CACHE,JSON.stringify(e))}catch{console.info("Unable to update balance cache",t)}},getEnsCache(){let t={};try{const e=Me.getItem($e.ENS_CACHE);t=e?JSON.parse(e):{}}catch{console.info("Unable to get ens name cache")}return t},getEnsFromCacheForAddress(t){try{const n=ge.getEnsCache()[t];if(n&&!this.isCacheExpired(n.timestamp,this.cacheExpiry.ens))return n.ens;ge.removeEnsFromCache(t)}catch{console.info("Unable to get ens name from cache",t)}},updateEnsCache(t){try{const e=ge.getEnsCache();e[t.address]=t,Me.setItem($e.ENS_CACHE,JSON.stringify(e))}catch{console.info("Unable to update ens name cache",t)}},removeEnsFromCache(t){try{const e=ge.getEnsCache();Me.setItem($e.ENS_CACHE,JSON.stringify({...e,[t]:void 0}))}catch{console.info("Unable to remove ens name from cache",t)}},getIdentityCache(){let t={};try{const e=Me.getItem($e.IDENTITY_CACHE);t=e?JSON.parse(e):{}}catch{console.info("Unable to get identity cache")}return t},getIdentityFromCacheForAddress(t){try{const n=ge.getIdentityCache()[t];if(n&&!this.isCacheExpired(n.timestamp,this.cacheExpiry.identity))return n.identity;ge.removeIdentityFromCache(t)}catch{console.info("Unable to get identity from cache",t)}},updateIdentityCache(t){try{const e=ge.getIdentityCache();e[t.address]={identity:t.identity,timestamp:t.timestamp},Me.setItem($e.IDENTITY_CACHE,JSON.stringify(e))}catch{console.info("Unable to update identity cache",t)}},removeIdentityFromCache(t){try{const e=ge.getIdentityCache();Me.setItem($e.IDENTITY_CACHE,JSON.stringify({...e,[t]:void 0}))}catch{console.info("Unable to remove identity from cache",t)}},clearAddressCache(){try{Me.removeItem($e.PORTFOLIO_CACHE),Me.removeItem($e.NATIVE_BALANCE_CACHE),Me.removeItem($e.ENS_CACHE),Me.removeItem($e.IDENTITY_CACHE),Me.removeItem($e.HISTORY_TRANSACTIONS_CACHE)}catch{console.info("Unable to clear address cache")}},setPreferredAccountTypes(t){try{Me.setItem($e.PREFERRED_ACCOUNT_TYPES,JSON.stringify(t))}catch{console.info("Unable to set preferred account types",t)}},getPreferredAccountTypes(){try{const t=Me.getItem($e.PREFERRED_ACCOUNT_TYPES);return t?JSON.parse(t):{}}catch{console.info("Unable to get preferred account types")}return{}},setConnections(t,e){try{const n=ge.getConnections(),s=n[e]??[],i=new Map;for(const c of s)i.set(c.connectorId,{...c});for(const c of t){const u=i.get(c.connectorId),f=c.connectorId===de.CONNECTOR_ID.AUTH;if(u&&!f){const h=new Set(u.accounts.map(g=>g.address.toLowerCase())),p=c.accounts.filter(g=>!h.has(g.address.toLowerCase()));u.accounts.push(...p)}else i.set(c.connectorId,{...c})}const a={...n,[e]:Array.from(i.values())};Me.setItem($e.CONNECTIONS,JSON.stringify(a))}catch(n){console.error("Unable to sync connections to storage",n)}},getConnections(){try{const t=Me.getItem($e.CONNECTIONS);return t?JSON.parse(t):{}}catch(t){return console.error("Unable to get connections from storage",t),{}}},deleteAddressFromConnection({connectorId:t,address:e,namespace:n}){try{const s=ge.getConnections(),i=s[n]??[],a=new Map(i.map(u=>[u.connectorId,u])),c=a.get(t);c&&(c.accounts.filter(f=>f.address.toLowerCase()!==e.toLowerCase()).length===0?a.delete(t):a.set(t,{...c,accounts:c.accounts.filter(f=>f.address.toLowerCase()!==e.toLowerCase())})),Me.setItem($e.CONNECTIONS,JSON.stringify({...s,[n]:Array.from(a.values())}))}catch{console.error(`Unable to remove address "${e}" from connector "${t}" in namespace "${n}"`)}},getDisconnectedConnectorIds(){try{const t=Me.getItem($e.DISCONNECTED_CONNECTOR_IDS);return t?JSON.parse(t):{}}catch{console.info("Unable to get disconnected connector ids")}return{}},addDisconnectedConnectorId(t,e){try{const n=ge.getDisconnectedConnectorIds(),s=n[e]??[];s.push(t),Me.setItem($e.DISCONNECTED_CONNECTOR_IDS,JSON.stringify({...n,[e]:Array.from(new Set(s))}))}catch{console.error(`Unable to set disconnected connector id "${t}" for namespace "${e}"`)}},removeDisconnectedConnectorId(t,e){try{const n=ge.getDisconnectedConnectorIds();let s=n[e]??[];s=s.filter(i=>i.toLowerCase()!==t.toLowerCase()),Me.setItem($e.DISCONNECTED_CONNECTOR_IDS,JSON.stringify({...n,[e]:Array.from(new Set(s))}))}catch{console.error(`Unable to remove disconnected connector id "${t}" for namespace "${e}"`)}},isConnectorDisconnected(t,e){try{return(ge.getDisconnectedConnectorIds()[e]??[]).some(i=>i.toLowerCase()===t.toLowerCase())}catch{console.info(`Unable to get disconnected connector id "${t}" for namespace "${e}"`)}return!1},getTransactionsCache(){try{const t=Me.getItem($e.HISTORY_TRANSACTIONS_CACHE);return t?JSON.parse(t):{}}catch{console.info("Unable to get transactions cache")}return{}},getTransactionsCacheForAddress({address:t,chainId:e=""}){try{const s=ge.getTransactionsCache()[t]?.[e];if(s&&!this.isCacheExpired(s.timestamp,this.cacheExpiry.transactionsHistory))return s.transactions;ge.removeTransactionsCache({address:t,chainId:e})}catch{console.info("Unable to get transactions cache")}},updateTransactionsCache({address:t,chainId:e="",timestamp:n,transactions:s}){try{const i=ge.getTransactionsCache();i[t]={...i[t],[e]:{timestamp:n,transactions:s}},Me.setItem($e.HISTORY_TRANSACTIONS_CACHE,JSON.stringify(i))}catch{console.info("Unable to update transactions cache",{address:t,chainId:e,timestamp:n,transactions:s})}},removeTransactionsCache({address:t,chainId:e}){try{const n=ge.getTransactionsCache(),s=n?.[t]||{},{[e]:i,...a}=s;Me.setItem($e.HISTORY_TRANSACTIONS_CACHE,JSON.stringify({...n,[t]:a}))}catch{console.info("Unable to remove transactions cache",{address:t,chainId:e})}},getTokenPriceCache(){try{const t=Me.getItem($e.TOKEN_PRICE_CACHE);return t?JSON.parse(t):{}}catch{console.info("Unable to get token price cache")}return{}},getTokenPriceCacheForAddresses(t){try{const n=ge.getTokenPriceCache()[t.join(",")];if(n&&!this.isCacheExpired(n.timestamp,this.cacheExpiry.tokenPrice))return n.tokenPrice;ge.removeTokenPriceCache(t)}catch{console.info("Unable to get token price cache for addresses",t)}},updateTokenPriceCache(t){try{const e=ge.getTokenPriceCache();e[t.addresses.join(",")]={timestamp:t.timestamp,tokenPrice:t.tokenPrice},Me.setItem($e.TOKEN_PRICE_CACHE,JSON.stringify(e))}catch{console.info("Unable to update token price cache",t)}},removeTokenPriceCache(t){try{const e=ge.getTokenPriceCache();Me.setItem($e.TOKEN_PRICE_CACHE,JSON.stringify({...e,[t.join(",")]:void 0}))}catch{console.info("Unable to remove token price cache",t)}}},Oe={isMobile(){return this.isClient()?!!(window?.matchMedia&&typeof window.matchMedia=="function"&&window.matchMedia("(pointer:coarse)")?.matches||/Android|webOS|iPhone|iPad|iPod|BlackBerry|Opera Mini/u.test(navigator.userAgent)):!1},checkCaipNetwork(t,e=""){return t?.caipNetworkId.toLocaleLowerCase().includes(e.toLowerCase())},isAndroid(){if(!this.isMobile())return!1;const t=window?.navigator.userAgent.toLowerCase();return Oe.isMobile()&&t.includes("android")},isIos(){if(!this.isMobile())return!1;const t=window?.navigator.userAgent.toLowerCase();return t.includes("iphone")||t.includes("ipad")},isSafari(){return this.isClient()?(window?.navigator.userAgent.toLowerCase()).includes("safari"):!1},isClient(){return typeof window<"u"},isPairingExpired(t){return t?t-Date.now()<=gt.TEN_SEC_MS:!0},isAllowedRetry(t,e=gt.ONE_SEC_MS){return Date.now()-t>=e},copyToClopboard(t){navigator.clipboard.writeText(t)},isIframe(){try{return window?.self!==window?.top}catch{return!1}},isSafeApp(){if(Oe.isClient()&&window.self!==window.top)try{const t=window?.location?.ancestorOrigins?.[0],e="https://app.safe.global";if(t){const n=new URL(t),s=new URL(e);return n.hostname===s.hostname}}catch{return!1}return!1},getPairingExpiry(){return Date.now()+gt.FOUR_MINUTES_MS},getNetworkId(t){return t?.split(":")[1]},getPlainAddress(t){return t?.split(":")[2]},async wait(t){return new Promise(e=>{setTimeout(e,t)})},debounce(t,e=500){let n;return(...s)=>{function i(){t(...s)}n&&clearTimeout(n),n=setTimeout(i,e)}},isHttpUrl(t){return t.startsWith("http://")||t.startsWith("https://")},formatNativeUrl(t,e,n=null){if(Oe.isHttpUrl(t))return this.formatUniversalUrl(t,e);let s=t,i=n;s.includes("://")||(s=t.replaceAll("/","").replaceAll(":",""),s=`${s}://`),s.endsWith("/")||(s=`${s}/`),i&&!i?.endsWith("/")&&(i=`${i}/`),this.isTelegram()&&this.isAndroid()&&(e=encodeURIComponent(e));const a=encodeURIComponent(e);return{redirect:`${s}wc?uri=${a}`,redirectUniversalLink:i?`${i}wc?uri=${a}`:void 0,href:s}},formatUniversalUrl(t,e){if(!Oe.isHttpUrl(t))return this.formatNativeUrl(t,e);let n=t;n.endsWith("/")||(n=`${n}/`);const s=encodeURIComponent(e);return{redirect:`${n}wc?uri=${s}`,href:n}},getOpenTargetForPlatform(t){return t==="popupWindow"?t:this.isTelegram()?ge.getTelegramSocialProvider()?"_top":"_blank":t},openHref(t,e,n){window?.open(t,this.getOpenTargetForPlatform(e),n||"noreferrer noopener")},returnOpenHref(t,e,n){return window?.open(t,this.getOpenTargetForPlatform(e),n||"noreferrer noopener")},isTelegram(){return typeof window<"u"&&(!!window.TelegramWebviewProxy||!!window.Telegram||!!window.TelegramWebviewProxyProto)},isPWA(){if(typeof window>"u")return!1;const t=window?.matchMedia&&typeof window.matchMedia=="function"?window.matchMedia("(display-mode: standalone)")?.matches:!1,e=window?.navigator?.standalone;return!!(t||e)},async preloadImage(t){const e=new Promise((n,s)=>{const i=new Image;i.onload=n,i.onerror=s,i.crossOrigin="anonymous",i.src=t});return Promise.race([e,Oe.wait(2e3)])},formatBalance(t,e){let n="0.000";if(typeof t=="string"){const s=Number(t);if(s){const i=Math.floor(s*1e3)/1e3;i&&(n=i.toString())}}return`${n}${e?` ${e}`:""}`},formatBalance2(t,e){let n;if(t==="0")n="0";else if(typeof t=="string"){const s=Number(t);s&&(n=s.toString().match(/^-?\d+(?:\.\d{0,3})?/u)?.[0])}return{value:n??"0",rest:n==="0"?"000":"",symbol:e}},getApiUrl(){return de.W3M_API_URL},getBlockchainApiUrl(){return de.BLOCKCHAIN_API_RPC_URL},getAnalyticsUrl(){return de.PULSE_API_URL},getUUID(){return crypto?.randomUUID?crypto.randomUUID():"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/gu,t=>{const e=Math.random()*16|0;return(t==="x"?e:e&3|8).toString(16)})},parseError(t){return typeof t=="string"?t:typeof t?.issues?.[0]?.message=="string"?t.issues[0].message:t instanceof Error?t.message:"Unknown error"},sortRequestedNetworks(t,e=[]){const n={};return e&&t&&(t.forEach((s,i)=>{n[s]=i}),e.sort((s,i)=>{const a=n[s.id],c=n[i.id];return a!==void 0&&c!==void 0?a-c:a!==void 0?-1:c!==void 0?1:0})),e},calculateBalance(t){let e=0;for(const n of t)e+=n.value??0;return e},formatTokenBalance(t){const e=t.toFixed(2),[n,s]=e.split(".");return{dollars:n,pennies:s}},isAddress(t,e="eip155"){switch(e){case"eip155":if(/^(?:0x)?[0-9a-f]{40}$/iu.test(t)){if(/^(?:0x)?[0-9a-f]{40}$/iu.test(t)||/^(?:0x)?[0-9A-F]{40}$/iu.test(t))return!0}else return!1;return!1;case"solana":return/[1-9A-HJ-NP-Za-km-z]{32,44}$/iu.test(t);default:return!1}},uniqueBy(t,e){const n=new Set;return t.filter(s=>{const i=s[e];return n.has(i)?!1:(n.add(i),!0)})},generateSdkVersion(t,e,n){const i=t.length===0?gt.ADAPTER_TYPES.UNIVERSAL:t.map(a=>a.adapterType).join(",");return`${e}-${i}-${n}`},createAccount(t,e,n,s,i){return{namespace:t,address:e,type:n,publicKey:s,path:i}},isCaipAddress(t){if(typeof t!="string")return!1;const e=t.split(":"),n=e[0];return e.filter(Boolean).length===3&&n in de.CHAIN_NAME_MAP},getAccount(t){return t?typeof t=="string"?{address:t,chainId:void 0}:{address:t.address,chainId:t.chainId}:{address:void 0,chainId:void 0}},isMac(){const t=window?.navigator.userAgent.toLowerCase();return t.includes("macintosh")&&!t.includes("safari")},formatTelegramSocialLoginUrl(t){const e=`--${encodeURIComponent(window?.location.href)}`,n="state=";if(new URL(t).host==="auth.magic.link"){const i="provider_authorization_url=",a=t.substring(t.indexOf(i)+i.length),c=this.injectIntoUrl(decodeURIComponent(a),n,e);return t.replace(a,encodeURIComponent(c))}return this.injectIntoUrl(t,n,e)},injectIntoUrl(t,e,n){const s=t.indexOf(e);if(s===-1)throw new Error(`${e} parameter not found in the URL: ${t}`);const i=t.indexOf("&",s),a=e.length,c=i!==-1?i:t.length,u=t.substring(0,s+a),f=t.substring(s+a,c),h=t.substring(i),p=f+n;return u+p+h}};async function Ud(...t){const e=await fetch(...t);if(!e.ok)throw new Error(`HTTP status code: ${e.status}`,{cause:e});return e}class Cp{constructor({baseUrl:e,clientId:n}){this.baseUrl=e,this.clientId=n}async get({headers:e,signal:n,cache:s,...i}){const a=this.createUrl(i);return(await Ud(a,{method:"GET",headers:e,signal:n,cache:s})).json()}async getBlob({headers:e,signal:n,...s}){const i=this.createUrl(s);return(await Ud(i,{method:"GET",headers:e,signal:n})).blob()}async post({body:e,headers:n,signal:s,...i}){const a=this.createUrl(i);return(await Ud(a,{method:"POST",headers:n,body:e?JSON.stringify(e):void 0,signal:s})).json()}async put({body:e,headers:n,signal:s,...i}){const a=this.createUrl(i);return(await Ud(a,{method:"PUT",headers:n,body:e?JSON.stringify(e):void 0,signal:s})).json()}async delete({body:e,headers:n,signal:s,...i}){const a=this.createUrl(i);return(await Ud(a,{method:"DELETE",headers:n,body:e?JSON.stringify(e):void 0,signal:s})).json()}createUrl({path:e,params:n}){const s=new URL(e,this.baseUrl);return n&&Object.entries(n).forEach(([i,a])=>{a&&s.searchParams.append(i,a)}),this.clientId&&s.searchParams.append("clientId",this.clientId),s}}const Lre={getFeatureValue(t,e){const n=e?.[t];return n===void 0?gt.DEFAULT_FEATURES[t]:n},filterSocialsByPlatform(t){if(!t||!t.length)return t;if(Oe.isTelegram()){if(Oe.isIos())return t.filter(e=>e!=="google");if(Oe.isMac())return t.filter(e=>e!=="x");if(Oe.isAndroid())return t.filter(e=>!["facebook","x"].includes(e))}return t}},Ie=Dt({features:gt.DEFAULT_FEATURES,projectId:"",sdkType:"appkit",sdkVersion:"html-wagmi-undefined",defaultAccountTypes:gt.DEFAULT_ACCOUNT_TYPES,enableNetworkSwitch:!0,experimental_preferUniversalLinks:!1,remoteFeatures:{}}),fe={state:Ie,subscribeKey(t,e){return Qn(Ie,t,e)},setOptions(t){Object.assign(Ie,t)},setRemoteFeatures(t){if(!t)return;const e={...Ie.remoteFeatures,...t};Ie.remoteFeatures=e,Ie.remoteFeatures?.socials&&(Ie.remoteFeatures.socials=Lre.filterSocialsByPlatform(Ie.remoteFeatures.socials)),Ie.features?.pay&&(Ie.remoteFeatures.email=!1,Ie.remoteFeatures.socials=!1)},setFeatures(t){if(!t)return;Ie.features||(Ie.features=gt.DEFAULT_FEATURES);const e={...Ie.features,...t};Ie.features=e,Ie.features?.pay&&Ie.remoteFeatures&&(Ie.remoteFeatures.email=!1,Ie.remoteFeatures.socials=!1)},setProjectId(t){Ie.projectId=t},setCustomRpcUrls(t){Ie.customRpcUrls=t},setAllWallets(t){Ie.allWallets=t},setIncludeWalletIds(t){Ie.includeWalletIds=t},setExcludeWalletIds(t){Ie.excludeWalletIds=t},setFeaturedWalletIds(t){Ie.featuredWalletIds=t},setTokens(t){Ie.tokens=t},setTermsConditionsUrl(t){Ie.termsConditionsUrl=t},setPrivacyPolicyUrl(t){Ie.privacyPolicyUrl=t},setCustomWallets(t){Ie.customWallets=t},setIsSiweEnabled(t){Ie.isSiweEnabled=t},setIsUniversalProvider(t){Ie.isUniversalProvider=t},setSdkVersion(t){Ie.sdkVersion=t},setMetadata(t){Ie.metadata=t},setDisableAppend(t){Ie.disableAppend=t},setEIP6963Enabled(t){Ie.enableEIP6963=t},setDebug(t){Ie.debug=t},setEnableWalletConnect(t){Ie.enableWalletConnect=t},setEnableWalletGuide(t){Ie.enableWalletGuide=t},setEnableAuthLogger(t){Ie.enableAuthLogger=t},setEnableWallets(t){Ie.enableWallets=t},setPreferUniversalLinks(t){Ie.experimental_preferUniversalLinks=t},setSIWX(t){if(t)for(const[e,n]of Object.entries(gt.SIWX_DEFAULTS))t[e]??=n;Ie.siwx=t},setConnectMethodsOrder(t){Ie.features={...Ie.features,connectMethodsOrder:t}},setWalletFeaturesOrder(t){Ie.features={...Ie.features,walletFeaturesOrder:t}},setSocialsOrder(t){Ie.remoteFeatures={...Ie.remoteFeatures,socials:t}},setCollapseWallets(t){Ie.features={...Ie.features,collapseWallets:t}},setEnableEmbedded(t){Ie.enableEmbedded=t},setAllowUnsupportedChain(t){Ie.allowUnsupportedChain=t},setManualWCControl(t){Ie.manualWCControl=t},setEnableNetworkSwitch(t){Ie.enableNetworkSwitch=t},setEnableReconnect(t){Ie.enableReconnect=t},setDefaultAccountTypes(t={}){Object.entries(t).forEach(([e,n])=>{n&&(Ie.defaultAccountTypes[e]=n)})},setUniversalProviderConfigOverride(t){Ie.universalProviderConfigOverride=t},getUniversalProviderConfigOverride(){return Ie.universalProviderConfigOverride},getSnapshot(){return Mh(Ie)}},kre=Object.freeze({enabled:!0,events:[]}),Bre=new Cp({baseUrl:Oe.getAnalyticsUrl(),clientId:null}),jre=5,zre=60*1e3,ba=Dt({...kre}),Hre={state:ba,subscribeKey(t,e){return Qn(ba,t,e)},async sendError(t,e){if(!ba.enabled)return;const n=Date.now();if(ba.events.filter(a=>{const c=new Date(a.properties.timestamp||"").getTime();return n-c<zre}).length>=jre)return;const i={type:"error",event:e,properties:{errorType:t.name,errorMessage:t.message,stackTrace:t.stack,timestamp:new Date().toISOString()}};ba.events.push(i);try{if(typeof window>"u")return;const{projectId:a,sdkType:c,sdkVersion:u}=fe.state;await Bre.post({path:"/e",params:{projectId:a,st:c,sv:u||"html-wagmi-4.2.2"},body:{eventId:Oe.getUUID(),url:window.location.href,domain:window.location.hostname,timestamp:new Date().toISOString(),props:{type:"error",event:e,errorType:t.name,errorMessage:t.message,stackTrace:t.stack}}})}catch{}},enable(){ba.enabled=!0},disable(){ba.enabled=!1},clearEvents(){ba.events=[]}};class Yu extends Error{constructor(e,n,s){super(e),this.name="AppKitError",this.category=n,this.originalError=s,Object.setPrototypeOf(this,Yu.prototype);let i=!1;if(s instanceof Error&&typeof s.stack=="string"&&s.stack){const a=s.stack,c=a.indexOf(`
`);if(c>-1){const u=a.substring(c+1);this.stack=`${this.name}: ${this.message}
${u}`,i=!0}}i||(Error.captureStackTrace?Error.captureStackTrace(this,Yu):this.stack||(this.stack=`${this.name}: ${this.message}`))}}function I5(t,e){const n=t instanceof Yu?t:new Yu(t instanceof Error?t.message:String(t),e,t);throw Hre.sendError(n,n.category),n}function Zs(t,e="INTERNAL_SDK_ERROR"){const n={};return Object.keys(t).forEach(s=>{const i=t[s];if(typeof i=="function"){let a=i;i.constructor.name==="AsyncFunction"?a=async(...c)=>{try{return await i(...c)}catch(u){return I5(u,e)}}:a=(...c)=>{try{return i(...c)}catch(u){return I5(u,e)}},n[s]=a}else n[s]=i}),n}const Wc={ACCOUNT_TYPES:{EOA:"eoa",SMART_ACCOUNT:"smartAccount"}},vr={PHANTOM:{id:"a797aa35c0fadbfc1a53e7f675162ed5226968b44a19ee3d24385c64d1d3c393",url:"https://phantom.app"},SOLFLARE:{id:"1ca0bdd4747578705b1939af023d120677c64fe6ca76add81fda36e350605e79",url:"https://solflare.com"},COINBASE:{id:"fd20dc426fb37566d803205b19bbc1d4096b248ac04548e3cfb6b3a38bd033aa",url:"https://go.cb-w.com"}},Fre={handleMobileDeeplinkRedirect(t,e){const n=window.location.href,s=encodeURIComponent(n);if(t===vr.PHANTOM.id&&!("phantom"in window)){const i=n.startsWith("https")?"https":"http",a=n.split("/")[2],c=encodeURIComponent(`${i}://${a}`);window.location.href=`${vr.PHANTOM.url}/ul/browse/${s}?ref=${c}`}t===vr.SOLFLARE.id&&!("solflare"in window)&&(window.location.href=`${vr.SOLFLARE.url}/ul/v1/browse/${s}?ref=${s}`),e===de.CHAIN.SOLANA&&t===vr.COINBASE.id&&!("coinbaseSolana"in window)&&(window.location.href=`${vr.COINBASE.url}/dapp?cb_url=${s}`)}},zs=Dt({walletImages:{},networkImages:{},chainImages:{},connectorImages:{},tokenImages:{},currencyImages:{}}),qre={state:zs,subscribeNetworkImages(t){return Pn(zs.networkImages,()=>t(zs.networkImages))},subscribeKey(t,e){return Qn(zs,t,e)},subscribe(t){return Pn(zs,()=>t(zs))},setWalletImage(t,e){zs.walletImages[t]=e},setNetworkImage(t,e){zs.networkImages[t]=e},setChainImage(t,e){zs.chainImages[t]=e},setConnectorImage(t,e){zs.connectorImages={...zs.connectorImages,[t]:e}},setTokenImage(t,e){zs.tokenImages[t]=e},setCurrencyImage(t,e){zs.currencyImages[t]=e}},Wi=Zs(qre),Vre={eip155:"ba0ba0cd-17c6-4806-ad93-f9d174f17900",solana:"a1b58899-f671-4276-6a5e-56ca5bd59700",polkadot:"",bip122:"0b4838db-0161-4ffe-022d-532bf03dba00",cosmos:"",sui:"",stacks:""},Pb=Dt({networkImagePromises:{}}),wM={async fetchWalletImage(t){if(t)return await Ue._fetchWalletImage(t),this.getWalletImageById(t)},async fetchNetworkImage(t){if(!t)return;const e=this.getNetworkImageById(t);return e||(Pb.networkImagePromises[t]||(Pb.networkImagePromises[t]=Ue._fetchNetworkImage(t)),await Pb.networkImagePromises[t],this.getNetworkImageById(t))},getWalletImageById(t){if(t)return Wi.state.walletImages[t]},getWalletImage(t){if(t?.image_url)return t?.image_url;if(t?.image_id)return Wi.state.walletImages[t.image_id]},getNetworkImage(t){if(t?.assets?.imageUrl)return t?.assets?.imageUrl;if(t?.assets?.imageId)return Wi.state.networkImages[t.assets.imageId]},getNetworkImageById(t){if(t)return Wi.state.networkImages[t]},getConnectorImage(t){if(t?.imageUrl)return t.imageUrl;if(t?.info?.icon)return t.info.icon;if(t?.imageId)return Wi.state.connectorImages[t.imageId]},getChainImage(t){return Wi.state.networkImages[Vre[t]]}},va=Dt({message:"",variant:"info",open:!1}),Wre={state:va,subscribeKey(t,e){return Qn(va,t,e)},open(t,e){const{debug:n}=fe.state,{code:s,displayMessage:i,debugMessage:a}=t;i&&n&&(va.message=i,va.variant=e,va.open=!0),a&&console.error(typeof a=="function"?a():a,s?{code:s}:void 0)},close(){va.open=!1,va.message="",va.variant="info"}},Yn=Zs(Wre),Kre=Oe.getAnalyticsUrl(),Gre=new Cp({baseUrl:Kre,clientId:null}),Yre=["MODAL_CREATED"],uo=Dt({timestamp:Date.now(),reportedErrors:{},data:{type:"track",event:"MODAL_CREATED"}}),xt={state:uo,subscribe(t){return Pn(uo,()=>t(uo))},getSdkProperties(){const{projectId:t,sdkType:e,sdkVersion:n}=fe.state;return{projectId:t,st:e,sv:n||"html-wagmi-4.2.2"}},async _sendAnalyticsEvent(t){try{const e=De.state.address;if(Yre.includes(t.data.event)||typeof window>"u")return;await Gre.post({path:"/e",params:xt.getSdkProperties(),body:{eventId:Oe.getUUID(),url:window.location.href,domain:window.location.hostname,timestamp:t.timestamp,props:{...t.data,address:e}}}),uo.reportedErrors.FORBIDDEN=!1}catch(e){e instanceof Error&&e.cause instanceof Response&&e.cause.status===de.HTTP_STATUS_CODES.FORBIDDEN&&!uo.reportedErrors.FORBIDDEN&&(Yn.open({displayMessage:"Invalid App Configuration",debugMessage:`Origin ${Lu()?window.origin:"uknown"} not found on Allowlist - update configuration on cloud.reown.com`},"error"),uo.reportedErrors.FORBIDDEN=!0)}},sendEvent(t){uo.timestamp=Date.now(),uo.data=t,(fe.state.features?.analytics||t.event==="INITIALIZE")&&xt._sendAnalyticsEvent(uo)}},Xre=Oe.getApiUrl(),ms=new Cp({baseUrl:Xre,clientId:null}),Qre=40,D5=4,Zre=20,Fe=Dt({promises:{},page:1,count:0,featured:[],allFeatured:[],recommended:[],allRecommended:[],wallets:[],filteredWallets:[],search:[],isAnalyticsEnabled:!1,excludedWallets:[],isFetchingRecommendedWallets:!1}),Ue={state:Fe,subscribeKey(t,e){return Qn(Fe,t,e)},_getSdkProperties(){const{projectId:t,sdkType:e,sdkVersion:n}=fe.state;return{projectId:t,st:e||"appkit",sv:n||"html-wagmi-4.2.2"}},_filterOutExtensions(t){return fe.state.isUniversalProvider?t.filter(e=>!!(e.mobile_link||e.desktop_link||e.webapp_link)):t},async _fetchWalletImage(t){const e=`${ms.baseUrl}/getWalletImage/${t}`,n=await ms.getBlob({path:e,params:Ue._getSdkProperties()});Wi.setWalletImage(t,URL.createObjectURL(n))},async _fetchNetworkImage(t){const e=`${ms.baseUrl}/public/getAssetImage/${t}`,n=await ms.getBlob({path:e,params:Ue._getSdkProperties()});Wi.setNetworkImage(t,URL.createObjectURL(n))},async _fetchConnectorImage(t){const e=`${ms.baseUrl}/public/getAssetImage/${t}`,n=await ms.getBlob({path:e,params:Ue._getSdkProperties()});Wi.setConnectorImage(t,URL.createObjectURL(n))},async _fetchCurrencyImage(t){const e=`${ms.baseUrl}/public/getCurrencyImage/${t}`,n=await ms.getBlob({path:e,params:Ue._getSdkProperties()});Wi.setCurrencyImage(t,URL.createObjectURL(n))},async _fetchTokenImage(t){const e=`${ms.baseUrl}/public/getTokenImage/${t}`,n=await ms.getBlob({path:e,params:Ue._getSdkProperties()});Wi.setTokenImage(t,URL.createObjectURL(n))},_filterWalletsByPlatform(t){return Oe.isMobile()?t?.filter(n=>n.mobile_link||n.id===vr.COINBASE.id?!0:B.state.activeChain==="solana"&&(n.id===vr.SOLFLARE.id||n.id===vr.PHANTOM.id)):t},async fetchProjectConfig(){return(await ms.get({path:"/appkit/v1/config",params:Ue._getSdkProperties()})).features},async fetchAllowedOrigins(){try{const{allowedOrigins:t}=await ms.get({path:"/projects/v1/origins",params:Ue._getSdkProperties()});return t}catch(t){if(t instanceof Error&&t.cause instanceof Response){const e=t.cause.status;if(e===de.HTTP_STATUS_CODES.TOO_MANY_REQUESTS)throw new Error("RATE_LIMITED",{cause:t});if(e>=de.HTTP_STATUS_CODES.SERVER_ERROR&&e<600)throw new Error("SERVER_ERROR",{cause:t});return[]}return[]}},async fetchNetworkImages(){const e=B.getAllRequestedCaipNetworks()?.map(({assets:n})=>n?.imageId).filter(Boolean).filter(n=>!wM.getNetworkImageById(n));e&&await Promise.allSettled(e.map(n=>Ue._fetchNetworkImage(n)))},async fetchConnectorImages(){const{connectors:t}=be.state,e=t.map(({imageId:n})=>n).filter(Boolean);await Promise.allSettled(e.map(n=>Ue._fetchConnectorImage(n)))},async fetchCurrencyImages(t=[]){await Promise.allSettled(t.map(e=>Ue._fetchCurrencyImage(e)))},async fetchTokenImages(t=[]){await Promise.allSettled(t.map(e=>Ue._fetchTokenImage(e)))},async fetchWallets(t){const e=t.exclude??[];Ue._getSdkProperties().sv.startsWith("html-core-")&&e.push(...Object.values(vr).map(a=>a.id));const s=await ms.get({path:"/getWallets",params:{...Ue._getSdkProperties(),...t,page:String(t.page),entries:String(t.entries),include:t.include?.join(","),exclude:e.join(",")}});return{data:Ue._filterWalletsByPlatform(s?.data)||[],count:s?.count}},async fetchFeaturedWallets(){const{featuredWalletIds:t}=fe.state;if(t?.length){const e={...Ue._getSdkProperties(),page:1,entries:t?.length??D5,include:t},{data:n}=await Ue.fetchWallets(e),s=[...n].sort((a,c)=>t.indexOf(a.id)-t.indexOf(c.id)),i=s.map(a=>a.image_id).filter(Boolean);await Promise.allSettled(i.map(a=>Ue._fetchWalletImage(a))),Fe.featured=s,Fe.allFeatured=s}},async fetchRecommendedWallets(){try{Fe.isFetchingRecommendedWallets=!0;const{includeWalletIds:t,excludeWalletIds:e,featuredWalletIds:n}=fe.state,s=[...e??[],...n??[]].filter(Boolean),i=B.getRequestedCaipNetworkIds().join(","),a={page:1,entries:D5,include:t,exclude:s,chains:i},{data:c,count:u}=await Ue.fetchWallets(a),f=ge.getRecentWallets(),h=c.map(g=>g.image_id).filter(Boolean),p=f.map(g=>g.image_id).filter(Boolean);await Promise.allSettled([...h,...p].map(g=>Ue._fetchWalletImage(g))),Fe.recommended=c,Fe.allRecommended=c,Fe.count=u??0}catch{}finally{Fe.isFetchingRecommendedWallets=!1}},async fetchWalletsByPage({page:t}){const{includeWalletIds:e,excludeWalletIds:n,featuredWalletIds:s}=fe.state,i=B.getRequestedCaipNetworkIds().join(","),a=[...Fe.recommended.map(({id:p})=>p),...n??[],...s??[]].filter(Boolean),c={page:t,entries:Qre,include:e,exclude:a,chains:i},{data:u,count:f}=await Ue.fetchWallets(c),h=u.slice(0,Zre).map(p=>p.image_id).filter(Boolean);await Promise.allSettled(h.map(p=>Ue._fetchWalletImage(p))),Fe.wallets=Oe.uniqueBy([...Fe.wallets,...Ue._filterOutExtensions(u)],"id").filter(p=>p.chains?.some(g=>i.includes(g))),Fe.count=f>Fe.count?f:Fe.count,Fe.page=t},async initializeExcludedWallets({ids:t}){const e={page:1,entries:t.length,include:t},{data:n}=await Ue.fetchWallets(e);n&&n.forEach(s=>{Fe.excludedWallets.push({rdns:s.rdns,name:s.name})})},async searchWallet({search:t,badge:e}){const{includeWalletIds:n,excludeWalletIds:s}=fe.state,i=B.getRequestedCaipNetworkIds().join(",");Fe.search=[];const a={page:1,entries:100,search:t?.trim(),badge_type:e,include:n,exclude:s,chains:i},{data:c}=await Ue.fetchWallets(a);xt.sendEvent({type:"track",event:"SEARCH_WALLET",properties:{badge:e??"",search:t??""}});const u=c.map(f=>f.image_id).filter(Boolean);await Promise.allSettled([...u.map(f=>Ue._fetchWalletImage(f)),Oe.wait(300)]),Fe.search=Ue._filterOutExtensions(c)},initPromise(t,e){const n=Fe.promises[t];return n||(Fe.promises[t]=e())},prefetch({fetchConnectorImages:t=!0,fetchFeaturedWallets:e=!0,fetchRecommendedWallets:n=!0,fetchNetworkImages:s=!0}={}){const i=[t&&Ue.initPromise("connectorImages",Ue.fetchConnectorImages),e&&Ue.initPromise("featuredWallets",Ue.fetchFeaturedWallets),n&&Ue.initPromise("recommendedWallets",Ue.fetchRecommendedWallets),s&&Ue.initPromise("networkImages",Ue.fetchNetworkImages)].filter(Boolean);return Promise.allSettled(i)},prefetchAnalyticsConfig(){fe.state.features?.analytics&&Ue.fetchAnalyticsConfig()},async fetchAnalyticsConfig(){try{const{isAnalyticsEnabled:t}=await ms.get({path:"/getAnalyticsConfig",params:Ue._getSdkProperties()});fe.setFeatures({analytics:t})}catch{fe.setFeatures({analytics:!1})}},filterByNamespaces(t){if(!t?.length){Fe.featured=Fe.allFeatured,Fe.recommended=Fe.allRecommended;return}const e=B.getRequestedCaipNetworkIds().join(",");Fe.featured=Fe.allFeatured.filter(n=>n.chains?.some(s=>e.includes(s))),Fe.recommended=Fe.allRecommended.filter(n=>n.chains?.some(s=>e.includes(s))),Fe.filteredWallets=Fe.wallets.filter(n=>n.chains?.some(s=>e.includes(s)))},clearFilterByNamespaces(){Fe.filteredWallets=[]},setFilterByNamespace(t){if(!t){Fe.featured=Fe.allFeatured,Fe.recommended=Fe.allRecommended;return}const e=B.getRequestedCaipNetworkIds().join(",");Fe.featured=Fe.allFeatured.filter(n=>n.chains?.some(s=>e.includes(s))),Fe.recommended=Fe.allRecommended.filter(n=>n.chains?.some(s=>e.includes(s))),Fe.filteredWallets=Fe.wallets.filter(n=>n.chains?.some(s=>e.includes(s)))}},St=Dt({view:"Connect",history:["Connect"],transactionStack:[]}),Jre={state:St,subscribeKey(t,e){return Qn(St,t,e)},pushTransactionStack(t){St.transactionStack.push(t)},popTransactionStack(t){const e=St.transactionStack.pop();if(!e)return;const{onSuccess:n,onError:s,onCancel:i}=e;switch(t){case"success":n?.();break;case"error":s?.(),je.goBack();break;case"cancel":i?.(),je.goBack();break}},push(t,e){t!==St.view&&(St.view=t,St.history.push(t),St.data=e)},reset(t,e){St.view=t,St.history=[t],St.data=e},replace(t,e){St.history.at(-1)===t||(St.view=t,St.history[St.history.length-1]=t,St.data=e)},goBack(){const t=B.state.activeCaipAddress,e=je.state.view==="ConnectingFarcaster",n=!t&&e;if(St.history.length>1){St.history.pop();const[s]=St.history.slice(-1);s&&(t&&s==="Connect"?St.view="Account":St.view=s)}else tt.close();St.data?.wallet&&(St.data.wallet=void 0),setTimeout(()=>{if(n){De.setFarcasterUrl(void 0,B.state.activeChain);const s=be.getAuthConnector();s?.provider?.reload();const i=Mh(fe.state);s?.provider?.syncDappData?.({metadata:i.metadata,sdkVersion:i.sdkVersion,projectId:i.projectId,sdkType:i.sdkType})}},100)},goBackToIndex(t){if(St.history.length>1){St.history=St.history.slice(0,t+1);const[e]=St.history.slice(-1);e&&(St.view=e)}},goBackOrCloseModal(){je.state.history.length>1?je.goBack():tt.close()}},je=Zs(Jre),fo=Dt({themeMode:"dark",themeVariables:{},w3mThemeVariables:void 0}),b2={state:fo,subscribe(t){return Pn(fo,()=>t(fo))},setThemeMode(t){fo.themeMode=t;try{const e=be.getAuthConnector();if(e){const n=b2.getSnapshot().themeVariables;e.provider.syncTheme({themeMode:t,themeVariables:n,w3mThemeVariables:Oa(n,t)})}}catch{console.info("Unable to sync theme to auth connector")}},setThemeVariables(t){fo.themeVariables={...fo.themeVariables,...t};try{const e=be.getAuthConnector();if(e){const n=b2.getSnapshot().themeVariables;e.provider.syncTheme({themeVariables:n,w3mThemeVariables:Oa(fo.themeVariables,fo.themeMode)})}}catch{console.info("Unable to sync theme to auth connector")}},getSnapshot(){return Mh(fo)}},Fs=Zs(b2),bM=Object.fromEntries(hM.map(t=>[t,void 0])),eoe=Object.fromEntries(hM.map(t=>[t,!0])),at=Dt({allConnectors:[],connectors:[],activeConnector:void 0,filterByNamespace:void 0,activeConnectorIds:bM,filterByNamespaceMap:eoe}),toe={state:at,subscribe(t){return Pn(at,()=>{t(at)})},subscribeKey(t,e){return Qn(at,t,e)},initialize(t){t.forEach(e=>{const n=ge.getConnectedConnectorId(e);n&&be.setConnectorId(n,e)})},setActiveConnector(t){t&&(at.activeConnector=el(t))},setConnectors(t){t.filter(i=>!at.allConnectors.some(a=>a.id===i.id&&be.getConnectorName(a.name)===be.getConnectorName(i.name)&&a.chain===i.chain)).forEach(i=>{i.type!=="MULTI_CHAIN"&&at.allConnectors.push(el(i))});const n=be.getEnabledNamespaces(),s=be.getEnabledConnectors(n);at.connectors=be.mergeMultiChainConnectors(s)},filterByNamespaces(t){Object.keys(at.filterByNamespaceMap).forEach(e=>{at.filterByNamespaceMap[e]=!1}),t.forEach(e=>{at.filterByNamespaceMap[e]=!0}),be.updateConnectorsForEnabledNamespaces()},filterByNamespace(t,e){at.filterByNamespaceMap[t]=e,be.updateConnectorsForEnabledNamespaces()},updateConnectorsForEnabledNamespaces(){const t=be.getEnabledNamespaces(),e=be.getEnabledConnectors(t),n=be.areAllNamespacesEnabled();at.connectors=be.mergeMultiChainConnectors(e),n?Ue.clearFilterByNamespaces():Ue.filterByNamespaces(t)},getEnabledNamespaces(){return Object.entries(at.filterByNamespaceMap).filter(([t,e])=>e).map(([t])=>t)},getEnabledConnectors(t){return at.allConnectors.filter(e=>t.includes(e.chain))},areAllNamespacesEnabled(){return Object.values(at.filterByNamespaceMap).every(t=>t)},mergeMultiChainConnectors(t){const e=be.generateConnectorMapByName(t),n=[];return e.forEach(s=>{const i=s[0],a=i?.id===de.CONNECTOR_ID.AUTH;s.length>1&&i?n.push({name:i.name,imageUrl:i.imageUrl,imageId:i.imageId,connectors:[...s],type:a?"AUTH":"MULTI_CHAIN",chain:"eip155",id:i?.id||""}):i&&n.push(i)}),n},generateConnectorMapByName(t){const e=new Map;return t.forEach(n=>{const{name:s}=n,i=be.getConnectorName(s);if(!i)return;const a=e.get(i)||[];a.find(u=>u.chain===n.chain)||a.push(n),e.set(i,a)}),e},getConnectorName(t){return t&&({"Trust Wallet":"Trust"}[t]||t)},getUniqueConnectorsByName(t){const e=[];return t.forEach(n=>{e.find(s=>s.chain===n.chain)||e.push(n)}),e},addConnector(t){if(t.id===de.CONNECTOR_ID.AUTH){const e=t,n=Mh(fe.state),s=Fs.getSnapshot().themeMode,i=Fs.getSnapshot().themeVariables;e?.provider?.syncDappData?.({metadata:n.metadata,sdkVersion:n.sdkVersion,projectId:n.projectId,sdkType:n.sdkType}),e?.provider?.syncTheme({themeMode:s,themeVariables:i,w3mThemeVariables:Oa(i,s)}),be.setConnectors([t])}else be.setConnectors([t])},getAuthConnector(t){const e=t||B.state.activeChain,n=at.connectors.find(s=>s.id===de.CONNECTOR_ID.AUTH);if(n)return n?.connectors?.length?n.connectors.find(i=>i.chain===e):n},getAnnouncedConnectorRdns(){return at.connectors.filter(t=>t.type==="ANNOUNCED").map(t=>t.info?.rdns)},getConnectorById(t){return at.allConnectors.find(e=>e.id===t)},getConnector({id:t,rdns:e,namespace:n}){const s=n||B.state.activeChain;return at.allConnectors.filter(a=>a.chain===s).find(a=>a.explorerId===t||a.info?.rdns===e)},syncIfAuthConnector(t){if(t.id!=="ID_AUTH")return;const e=t,n=Mh(fe.state),s=Fs.getSnapshot().themeMode,i=Fs.getSnapshot().themeVariables;e?.provider?.syncDappData?.({metadata:n.metadata,sdkVersion:n.sdkVersion,sdkType:n.sdkType,projectId:n.projectId}),e.provider.syncTheme({themeMode:s,themeVariables:i,w3mThemeVariables:Oa(i,s)})},getConnectorsByNamespace(t){const e=at.allConnectors.filter(n=>n.chain===t);return be.mergeMultiChainConnectors(e)},canSwitchToSmartAccount(t){return B.checkIfSmartAccountEnabled()&&Or(t)===Wc.ACCOUNT_TYPES.EOA},selectWalletConnector(t){const e=be.getConnector({id:t.id,rdns:t.rdns});Fre.handleMobileDeeplinkRedirect(e?.explorerId||t.id,B.state.activeChain),e?je.push("ConnectingExternal",{connector:e,wallet:t}):je.push("ConnectingWalletConnect",{wallet:t})},getConnectors(t){return t?be.getConnectorsByNamespace(t):be.mergeMultiChainConnectors(at.allConnectors)},setFilterByNamespace(t){at.filterByNamespace=t,at.connectors=be.getConnectors(t),Ue.setFilterByNamespace(t)},setConnectorId(t,e){t&&(at.activeConnectorIds={...at.activeConnectorIds,[e]:t},ge.setConnectedConnectorId(e,t))},removeConnectorId(t){at.activeConnectorIds={...at.activeConnectorIds,[t]:void 0},ge.deleteConnectedConnectorId(t)},getConnectorId(t){if(t)return at.activeConnectorIds[t]},isConnected(t){return t?!!at.activeConnectorIds[t]:Object.values(at.activeConnectorIds).some(e=>!!e)},resetConnectorIds(){at.activeConnectorIds={...bM}}},be=Zs(toe),noe=1e3,Pd={checkNamespaceConnectorId(t,e){return be.getConnectorId(t)===e},isSocialProvider(t){return gt.DEFAULT_REMOTE_FEATURES.socials.includes(t)},connectWalletConnect({walletConnect:t,connector:e,closeModalOnConnect:n=!0,redirectViewOnModalClose:s="Connect",onOpen:i,onConnect:a}){return new Promise((c,u)=>{if(t&&be.setActiveConnector(e),i?.(Oe.isMobile()&&t),s){const h=tt.subscribeKey("open",p=>{p||(je.state.view!==s&&je.replace(s),h(),u(new Error("Modal closed")))})}const f=B.subscribeKey("activeCaipAddress",h=>{h&&(a?.(),n&&tt.close(),f(),c(Ks.parseCaipAddress(h)))})})},connectExternal(t){return new Promise((e,n)=>{const s=B.subscribeKey("activeCaipAddress",i=>{i&&(tt.close(),s(),e(Ks.parseCaipAddress(i)))});ve.connectExternal(t,t.chain).catch(()=>{s(),n(new Error("Connection rejected"))})})},connectSocial({social:t,namespace:e,closeModalOnConnect:n=!0,onOpenFarcaster:s,onConnect:i}){let a=De.state.socialWindow,c=De.state.socialProvider,u=!1,f=null;const h=e||B.state.activeChain,p=B.subscribeKey("activeCaipAddress",g=>{g&&(n&&tt.close(),p())});return new Promise((g,y)=>{async function b(E){if(E.data?.resultUri)if(E.origin===de.SECURE_SITE_SDK_ORIGIN){window.removeEventListener("message",b,!1);try{const A=be.getAuthConnector(h);if(A&&!u){a&&(a.close(),De.setSocialWindow(void 0,h),a=De.state.socialWindow),u=!0;const x=E.data.resultUri;if(c&&xt.sendEvent({type:"track",event:"SOCIAL_LOGIN_REQUEST_USER_DATA",properties:{provider:c}}),c){ge.setConnectedSocialProvider(c),await ve.connectExternal({id:A.id,type:A.type,socialUri:x},A.chain);const D=B.state.activeCaipAddress;if(!D){y(new Error("Failed to connect"));return}g(Ks.parseCaipAddress(D)),xt.sendEvent({type:"track",event:"SOCIAL_LOGIN_SUCCESS",properties:{provider:c,caipNetworkId:B.getActiveCaipNetwork()?.caipNetworkId}})}}}catch{c&&xt.sendEvent({type:"track",event:"SOCIAL_LOGIN_ERROR",properties:{provider:c}}),y(new Error("Failed to connect"))}}else c&&xt.sendEvent({type:"track",event:"SOCIAL_LOGIN_ERROR",properties:{provider:c}})}async function v(){if(t&&(De.setSocialProvider(t,h),c=De.state.socialProvider,xt.sendEvent({type:"track",event:"SOCIAL_LOGIN_STARTED",properties:{provider:c}})),c==="farcaster"){s?.();const E=tt.subscribeKey("open",x=>{!x&&t==="farcaster"&&(y(new Error("Popup closed")),i?.(),E())}),A=be.getAuthConnector();if(A&&!De.state.farcasterUrl)try{const{url:x}=await A.provider.getFarcasterUri();De.setFarcasterUrl(x,h)}catch{y(new Error("Failed to connect to farcaster"))}}else{const E=be.getAuthConnector();f=Oe.returnOpenHref(`${de.SECURE_SITE_SDK_ORIGIN}/loading`,"popupWindow","width=600,height=800,scrollbars=yes");try{if(E&&c){const{uri:A}=await E.provider.getSocialRedirectUri({provider:c});if(f&&A){De.setSocialWindow(f,h),a=De.state.socialWindow,f.location.href=A;const x=setInterval(()=>{a?.closed&&!u&&(y(new Error("Popup closed")),clearInterval(x))},1e3);window.addEventListener("message",b,!1)}else f?.close(),y(new Error("Failed to initiate social connection"))}}catch{y(new Error("Failed to initiate social connection")),f?.close()}}}v()})},connectEmail({closeModalOnConnect:t=!0,redirectViewOnModalClose:e="Connect",onOpen:n,onConnect:s}){return new Promise((i,a)=>{if(n?.(),e){const u=tt.subscribeKey("open",f=>{f||(je.state.view!==e&&je.replace(e),u(),a(new Error("Modal closed")))})}const c=B.subscribeKey("activeCaipAddress",u=>{u&&(s?.(),t&&tt.close(),c(),i(Ks.parseCaipAddress(u)))})})},async updateEmail(){const t=ge.getConnectedConnectorId(B.state.activeChain),e=be.getAuthConnector();if(!e)throw new Error("No auth connector found");if(t!==de.CONNECTOR_ID.AUTH)throw new Error("Not connected to email or social");const n=e.provider.getEmail()??"";return await tt.open({view:"UpdateEmailWallet",data:{email:n,redirectView:void 0}}),new Promise((s,i)=>{const a=setInterval(()=>{const u=e.provider.getEmail()??"";u!==n&&(tt.close(),clearInterval(a),c(),s({email:u}))},noe),c=tt.subscribeKey("open",u=>{u||(je.state.view!=="Connect"&&je.push("Connect"),clearInterval(a),c(),i(new Error("Modal closed")))})})},canSwitchToSmartAccount(t){return B.checkIfSmartAccountEnabled()&&Or(t)===Wc.ACCOUNT_TYPES.EOA}};function vM(){const t=B.state.activeCaipNetwork?.chainNamespace||"eip155",e=B.state.activeCaipNetwork?.id||1,n=gt.NATIVE_TOKEN_ADDRESS[t];return`${t}:${e}:${n}`}function Or(t){return B.getAccountData(t)?.preferredAccountType}function O5(t){return B.state.activeCaipNetwork}const bm={getConnectionStatus(t,e){const n=be.state.activeConnectorIds[e],s=ve.getConnections(e);return!!n&&t.connectorId===n?"connected":s.some(c=>c.connectorId.toLowerCase()===t.connectorId.toLowerCase())?"active":"disconnected"},excludeConnectorAddressFromConnections({connections:t,connectorId:e,addresses:n}){return t.map(s=>{if((e?s.connectorId.toLowerCase()===e.toLowerCase():!1)&&n){const a=s.accounts.filter(c=>!n.some(f=>f.toLowerCase()===c.address.toLowerCase()));return{...s,accounts:a}}return s})},excludeExistingConnections(t,e){const n=new Set(t);return e.filter(s=>!n.has(s.connectorId))},getConnectionsByConnectorId(t,e){return t.filter(n=>n.connectorId.toLowerCase()===e.toLowerCase())},getConnectionsData(t){const e=!!fe.state.remoteFeatures?.multiWallet,n=be.state.activeConnectorIds[t],s=ve.getConnections(t),a=(ve.state.recentConnections.get(t)??[]).filter(u=>be.getConnectorById(u.connectorId)),c=bm.excludeExistingConnections([...s.map(u=>u.connectorId),...n?[n]:[]],a);return e?{connections:s,recentConnections:c}:{connections:s.filter(u=>u.connectorId.toLowerCase()===n?.toLowerCase()),recentConnections:[]}}},Ic=Object.freeze({message:"",variant:"success",svg:void 0,open:!1,autoClose:!0}),fn=Dt({...Ic}),soe={state:fn,subscribeKey(t,e){return Qn(fn,t,e)},showLoading(t,e={}){this._showMessage({message:t,variant:"loading",...e})},showSuccess(t){this._showMessage({message:t,variant:"success"})},showSvg(t,e){this._showMessage({message:t,svg:e})},showError(t){const e=Oe.parseError(t);this._showMessage({message:e,variant:"error"})},hide(){fn.message=Ic.message,fn.variant=Ic.variant,fn.svg=Ic.svg,fn.open=Ic.open,fn.autoClose=Ic.autoClose},_showMessage({message:t,svg:e,variant:n="success",autoClose:s=Ic.autoClose}){fn.open?(fn.open=!1,setTimeout(()=>{fn.message=t,fn.variant=n,fn.svg=e,fn.open=!0,fn.autoClose=s},150)):(fn.message=t,fn.variant=n,fn.svg=e,fn.open=!0,fn.autoClose=s)}},Cr=soe,Bt=Dt({transactions:[],transactionsByYear:{},lastNetworkInView:void 0,loading:!1,empty:!1,next:void 0}),ioe={state:Bt,subscribe(t){return Pn(Bt,()=>t(Bt))},setLastNetworkInView(t){Bt.lastNetworkInView=t},async fetchTransactions(t){if(!t)throw new Error("Transactions can't be fetched without an accountAddress");Bt.loading=!0;try{const e=await Pe.fetchTransactions({account:t,cursor:Bt.next,chainId:B.state.activeCaipNetwork?.caipNetworkId}),n=j0.filterSpamTransactions(e.data),s=j0.filterByConnectedChain(n),i=[...Bt.transactions,...s];Bt.loading=!1,Bt.transactions=i,Bt.transactionsByYear=j0.groupTransactionsByYearAndMonth(Bt.transactionsByYear,s),Bt.empty=i.length===0,Bt.next=e.next?e.next:void 0}catch{const n=B.state.activeChain;xt.sendEvent({type:"track",event:"ERROR_FETCH_TRANSACTIONS",properties:{address:t,projectId:fe.state.projectId,cursor:Bt.next,isSmartAccount:Or(n)===Wc.ACCOUNT_TYPES.SMART_ACCOUNT}}),Cr.showError("Failed to fetch transactions"),Bt.loading=!1,Bt.empty=!0,Bt.next=void 0}},groupTransactionsByYearAndMonth(t={},e=[]){const n=t;return e.forEach(s=>{const i=new Date(s.metadata.minedAt).getFullYear(),a=new Date(s.metadata.minedAt).getMonth(),c=n[i]??{},f=(c[a]??[]).filter(h=>h.id!==s.id);n[i]={...c,[a]:[...f,s].sort((h,p)=>new Date(p.metadata.minedAt).getTime()-new Date(h.metadata.minedAt).getTime())}}),n},filterSpamTransactions(t){return t.filter(e=>!e.transfers.every(s=>s.nft_info?.flags.is_spam===!0))},filterByConnectedChain(t){const e=B.state.activeCaipNetwork?.caipNetworkId;return t.filter(s=>s.metadata.chain===e)},clearCursor(){Bt.next=void 0},resetTransactions(){Bt.transactions=[],Bt.transactionsByYear={},Bt.lastNetworkInView=void 0,Bt.loading=!1,Bt.empty=!1,Bt.next=void 0}},j0=Zs(ioe,"API_ERROR"),ct=Dt({connections:new Map,recentConnections:new Map,isSwitchingConnection:!1,wcError:!1,buffering:!1,status:"disconnected"});let Sc;const roe={state:ct,subscribe(t){return Pn(ct,()=>t(ct))},subscribeKey(t,e){return Qn(ct,t,e)},_getClient(){return ct._client},setClient(t){ct._client=el(t)},initialize(t){const e=t.filter(n=>!!n.namespace).map(n=>n.namespace);ve.syncStorageConnections(e)},syncStorageConnections(t){const e=ge.getConnections(),n=t??Array.from(B.state.chains.keys());for(const s of n){const i=e[s]??[],a=new Map(ct.recentConnections);a.set(s,i),ct.recentConnections=a}},getConnections(t){return t?ct.connections.get(t)??[]:[]},hasAnyConnection(t){const e=ve.state.connections;return Array.from(e.values()).flatMap(n=>n).some(({connectorId:n})=>n===t)},async connectWalletConnect(){if(Oe.isTelegram()||Oe.isSafari()&&Oe.isIos()){if(Sc){await Sc,Sc=void 0;return}if(!Oe.isPairingExpired(ct?.wcPairingExpiry)){const t=ct.wcUri;ct.wcUri=t;return}Sc=ve._getClient()?.connectWalletConnect?.().catch(()=>{}),ve.state.status="connecting",await Sc,Sc=void 0,ct.wcPairingExpiry=void 0,ve.state.status="connected"}else await ve._getClient()?.connectWalletConnect?.()},async connectExternal(t,e,n=!0){const s=await ve._getClient()?.connectExternal?.(t);return n&&B.setActiveNamespace(e),s},async reconnectExternal(t){await ve._getClient()?.reconnectExternal?.(t);const e=t.chain||B.state.activeChain;e&&be.setConnectorId(t.id,e)},async setPreferredAccountType(t,e){if(!e)return;tt.setLoading(!0,B.state.activeChain);const n=be.getAuthConnector();n&&(De.setPreferredAccountType(t,e),await n.provider.setPreferredAccount(t),ge.setPreferredAccountTypes(Object.entries(B.state.chains).reduce((s,[i,a])=>{const c=i,u=Or(c);return u!==void 0&&(s[c]=u),s},{})),await ve.reconnectExternal(n),tt.setLoading(!1,B.state.activeChain),xt.sendEvent({type:"track",event:"SET_PREFERRED_ACCOUNT_TYPE",properties:{accountType:t,network:B.state.activeCaipNetwork?.caipNetworkId||""}}))},async signMessage(t){return ve._getClient()?.signMessage(t)},parseUnits(t,e){return ve._getClient()?.parseUnits(t,e)},formatUnits(t,e){return ve._getClient()?.formatUnits(t,e)},async sendTransaction(t){return ve._getClient()?.sendTransaction(t)},async getCapabilities(t){return ve._getClient()?.getCapabilities(t)},async grantPermissions(t){return ve._getClient()?.grantPermissions(t)},async walletGetAssets(t){return ve._getClient()?.walletGetAssets(t)??{}},async estimateGas(t){return ve._getClient()?.estimateGas(t)},async writeContract(t){return ve._getClient()?.writeContract(t)},async getEnsAddress(t){return ve._getClient()?.getEnsAddress(t)},async getEnsAvatar(t){return ve._getClient()?.getEnsAvatar(t)},checkInstalled(t){return ve._getClient()?.checkInstalled?.(t)||!1},resetWcConnection(){ct.wcUri=void 0,ct.wcPairingExpiry=void 0,ct.wcLinking=void 0,ct.recentWallet=void 0,ct.status="disconnected",j0.resetTransactions(),ge.deleteWalletConnectDeepLink()},resetUri(){ct.wcUri=void 0,ct.wcPairingExpiry=void 0,Sc=void 0},finalizeWcConnection(){const{wcLinking:t,recentWallet:e}=ve.state;t&&ge.setWalletConnectDeepLink(t),e&&ge.setAppKitRecent(e),xt.sendEvent({type:"track",event:"CONNECT_SUCCESS",properties:{method:t?"mobile":"qrcode",name:je.state.data?.wallet?.name||"Unknown",caipNetworkId:B.getActiveCaipNetwork()?.caipNetworkId}})},setWcBasic(t){ct.wcBasic=t},setUri(t){ct.wcUri=t,ct.wcPairingExpiry=Oe.getPairingExpiry()},setWcLinking(t){ct.wcLinking=t},setWcError(t){ct.wcError=t,ct.buffering=!1},setRecentWallet(t){ct.recentWallet=t},setBuffering(t){ct.buffering=t},setStatus(t){ct.status=t},setIsSwitchingConnection(t){ct.isSwitchingConnection=t},async disconnect({id:t,namespace:e,initialDisconnect:n}={}){try{await ve._getClient()?.disconnect({id:t,chainNamespace:e,initialDisconnect:n})}catch(s){throw new Yu("Failed to disconnect","INTERNAL_SDK_ERROR",s)}},setConnections(t,e){const n=new Map(ct.connections);n.set(e,t),ct.connections=n},async handleAuthAccountSwitch({address:t,namespace:e}){const n=De.state.user?.accounts?.find(i=>i.type==="smartAccount"),s=n&&n.address.toLowerCase()===t.toLowerCase()&&Pd.canSwitchToSmartAccount(e)?"smartAccount":"eoa";await ve.setPreferredAccountType(s,e)},async handleActiveConnection({connection:t,namespace:e,address:n}){const s=be.getConnectorById(t.connectorId),i=t.connectorId===de.CONNECTOR_ID.AUTH;if(!s)throw new Error(`No connector found for connection: ${t.connectorId}`);if(i)i&&n&&await ve.handleAuthAccountSwitch({address:n,namespace:e});else return(await ve.connectExternal({id:s.id,type:s.type,provider:s.provider,address:n,chain:e},e))?.address;return n},async handleDisconnectedConnection({connection:t,namespace:e,address:n,closeModalOnConnect:s}){const i=be.getConnectorById(t.connectorId),a=t.auth?.name?.toLowerCase(),c=t.connectorId===de.CONNECTOR_ID.AUTH,u=t.connectorId===de.CONNECTOR_ID.WALLET_CONNECT;if(!i)throw new Error(`No connector found for connection: ${t.connectorId}`);let f;if(c)if(a&&Pd.isSocialProvider(a)){const{address:h}=await Pd.connectSocial({social:a,closeModalOnConnect:s,onOpenFarcaster(){tt.open({view:"ConnectingFarcaster"})},onConnect(){je.replace("ProfileWallets")}});f=h}else{const{address:h}=await Pd.connectEmail({closeModalOnConnect:s,onOpen(){tt.open({view:"EmailLogin"})},onConnect(){je.replace("ProfileWallets")}});f=h}else if(u){const{address:h}=await Pd.connectWalletConnect({walletConnect:!0,connector:i,closeModalOnConnect:s,onOpen(p){tt.open({view:p?"AllWallets":"ConnectingWalletConnect"})},onConnect(){je.replace("ProfileWallets")}});f=h}else{const h=await ve.connectExternal({id:i.id,type:i.type,provider:i.provider,chain:e},e);h&&(f=h.address)}return c&&n&&await ve.handleAuthAccountSwitch({address:n,namespace:e}),f},async switchConnection({connection:t,address:e,namespace:n,closeModalOnConnect:s,onChange:i}){let a;const c=De.getCaipAddress(n);if(c){const{address:f}=Ks.parseCaipAddress(c);a=f}const u=bm.getConnectionStatus(t,n);switch(u){case"connected":case"active":{const f=await ve.handleActiveConnection({connection:t,namespace:n,address:e});if(a&&f){const h=f.toLowerCase()!==a.toLowerCase();i?.({address:f,namespace:n,hasSwitchedAccount:h,hasSwitchedWallet:u==="active"})}break}case"disconnected":{const f=await ve.handleDisconnectedConnection({connection:t,namespace:n,address:e,closeModalOnConnect:s});f&&i?.({address:f,namespace:n,hasSwitchedAccount:!0,hasSwitchedWallet:!0});break}default:throw new Error(`Invalid connection status: ${u}`)}}},ve=Zs(roe),Eu=Dt({loading:!1,open:!1,selectedNetworkId:void 0,activeChain:void 0,initialized:!1}),mo={state:Eu,subscribe(t){return Pn(Eu,()=>t(Eu))},subscribeOpen(t){return Qn(Eu,"open",t)},set(t){Object.assign(Eu,{...Eu,...t})}},ooe={async getTokenList(){const t=B.state.activeCaipNetwork;return(await Pe.fetchSwapTokens({chainId:t?.caipNetworkId}))?.tokens?.map(s=>({...s,eip2612:!1,quantity:{decimals:"0",numeric:"0"},price:0,value:0}))||[]},async fetchGasPrice(){const t=B.state.activeCaipNetwork;if(!t)return null;try{switch(t.chainNamespace){case"solana":const e=(await ve?.estimateGas({chainNamespace:"solana"}))?.toString();return{standard:e,fast:e,instant:e};case"eip155":default:return await Pe.fetchGasPrice({chainId:t.caipNetworkId})}}catch{return null}},async fetchSwapAllowance({tokenAddress:t,userAddress:e,sourceTokenAmount:n,sourceTokenDecimals:s}){const i=await Pe.fetchSwapAllowance({tokenAddress:t,userAddress:e});if(i?.allowance&&n&&s){const a=ve.parseUnits(n,s)||0;return BigInt(i.allowance)>=a}return!1},async getMyTokensWithBalance(t){const e=await fA.getMyTokensWithBalance(t);return De.setTokenBalance(e,B.state.activeChain),this.mapBalancesToSwapTokens(e)},mapBalancesToSwapTokens(t){return t?.map(e=>({...e,address:e?.address?e.address:vM(),decimals:parseInt(e.quantity.decimals,10),logoUri:e.iconUrl,eip2612:!1}))||[]}},bt=Dt({tokenBalances:[],loading:!1}),aoe={state:bt,subscribe(t){return Pn(bt,()=>t(bt))},subscribeKey(t,e){return Qn(bt,t,e)},setToken(t){t&&(bt.token=el(t))},setTokenAmount(t){bt.sendTokenAmount=t},setReceiverAddress(t){bt.receiverAddress=t},setReceiverProfileImageUrl(t){bt.receiverProfileImageUrl=t},setReceiverProfileName(t){bt.receiverProfileName=t},setNetworkBalanceInUsd(t){bt.networkBalanceInUSD=t},setLoading(t){bt.loading=t},async sendToken(){try{switch(ft.setLoading(!0),B.state.activeCaipNetwork?.chainNamespace){case"eip155":await ft.sendEvmToken();return;case"solana":await ft.sendSolanaToken();return;default:throw new Error("Unsupported chain")}}finally{ft.setLoading(!1)}},async sendEvmToken(){const t=B.state.activeChain;if(!t)throw new Error("SendController:sendEvmToken - activeChainNamespace is required");const e=Or(t);if(!ft.state.sendTokenAmount||!ft.state.receiverAddress)throw new Error("An amount and receiver address are required");if(!ft.state.token)throw new Error("A token is required");ft.state.token?.address?(xt.sendEvent({type:"track",event:"SEND_INITIATED",properties:{isSmartAccount:e===Wc.ACCOUNT_TYPES.SMART_ACCOUNT,token:ft.state.token.address,amount:ft.state.sendTokenAmount,network:B.state.activeCaipNetwork?.caipNetworkId||""}}),await ft.sendERC20Token({receiverAddress:ft.state.receiverAddress,tokenAddress:ft.state.token.address,sendTokenAmount:ft.state.sendTokenAmount,decimals:ft.state.token.quantity.decimals})):(xt.sendEvent({type:"track",event:"SEND_INITIATED",properties:{isSmartAccount:e===Wc.ACCOUNT_TYPES.SMART_ACCOUNT,token:ft.state.token.symbol||"",amount:ft.state.sendTokenAmount,network:B.state.activeCaipNetwork?.caipNetworkId||""}}),await ft.sendNativeToken({receiverAddress:ft.state.receiverAddress,sendTokenAmount:ft.state.sendTokenAmount,decimals:ft.state.token.quantity.decimals}))},async fetchTokenBalance(t){bt.loading=!0;const e=B.state.activeCaipNetwork?.caipNetworkId,n=B.state.activeCaipNetwork?.chainNamespace,s=B.state.activeCaipAddress,i=s?Oe.getPlainAddress(s):void 0;if(bt.lastRetry&&!Oe.isAllowedRetry(bt.lastRetry,30*gt.ONE_SEC_MS))return bt.loading=!1,[];try{if(i&&e&&n){const a=await fA.getMyTokensWithBalance();return bt.tokenBalances=a,bt.lastRetry=void 0,a}}catch(a){bt.lastRetry=Date.now(),t?.(a),Cr.showError("Token Balance Unavailable")}finally{bt.loading=!1}return[]},fetchNetworkBalance(){if(bt.tokenBalances.length===0)return;const t=ooe.mapBalancesToSwapTokens(bt.tokenBalances);if(!t)return;const e=t.find(n=>n.address===vM());e&&(bt.networkBalanceInUSD=e?wre.multiply(e.quantity.numeric,e.price).toString():"0")},async sendNativeToken(t){je.pushTransactionStack({});const e=t.receiverAddress,n=De.state.address,s=ve.parseUnits(t.sendTokenAmount.toString(),Number(t.decimals));await ve.sendTransaction({chainNamespace:de.CHAIN.EVM,to:e,address:n,data:"0x",value:s??BigInt(0)}),xt.sendEvent({type:"track",event:"SEND_SUCCESS",properties:{isSmartAccount:Or("eip155")===Wc.ACCOUNT_TYPES.SMART_ACCOUNT,token:ft.state.token?.symbol||"",amount:t.sendTokenAmount,network:B.state.activeCaipNetwork?.caipNetworkId||""}}),ve._getClient()?.updateBalance("eip155"),ft.resetSend()},async sendERC20Token(t){je.pushTransactionStack({onSuccess(){je.replace("Account")}});const e=ve.parseUnits(t.sendTokenAmount.toString(),Number(t.decimals));if(De.state.address&&t.sendTokenAmount&&t.receiverAddress&&t.tokenAddress){const n=Oe.getPlainAddress(t.tokenAddress);if(!n)throw new Error("SendController:sendERC20Token - tokenAddress is required");await ve.writeContract({fromAddress:De.state.address,tokenAddress:n,args:[t.receiverAddress,e??BigInt(0)],method:"transfer",abi:Are.getERC20Abi(n),chainNamespace:de.CHAIN.EVM}),ft.resetSend()}},async sendSolanaToken(){if(!ft.state.sendTokenAmount||!ft.state.receiverAddress)throw new Error("An amount and receiver address are required");je.pushTransactionStack({onSuccess(){je.replace("Account")}}),await ve.sendTransaction({chainNamespace:"solana",to:ft.state.receiverAddress,value:ft.state.sendTokenAmount}),ve._getClient()?.updateBalance("solana"),ft.resetSend()},resetSend(){bt.token=void 0,bt.sendTokenAmount=void 0,bt.receiverAddress=void 0,bt.receiverProfileImageUrl=void 0,bt.receiverProfileName=void 0,bt.loading=!1,bt.tokenBalances=[]}},ft=Zs(aoe),Lb={currentTab:0,tokenBalance:[],smartAccountDeployed:!1,addressLabels:new Map,user:void 0,preferredAccountType:void 0},v0={caipNetwork:void 0,supportsAllNetworks:!0,smartAccountEnabledNetworks:[]},Ae=Dt({chains:Ure(),activeCaipAddress:void 0,activeChain:void 0,activeCaipNetwork:void 0,noAdapters:!1,universalAdapter:{networkControllerClient:void 0,connectionControllerClient:void 0},isSwitchingNamespace:!1}),coe={state:Ae,subscribe(t){return Pn(Ae,()=>{t(Ae)})},subscribeKey(t,e){return Qn(Ae,t,e)},subscribeChainProp(t,e,n){let s;return Pn(Ae.chains,()=>{const i=n||Ae.activeChain;if(i){const a=Ae.chains.get(i)?.[t];s!==a&&(s=a,e(a))}})},initialize(t,e,n){const{chainId:s,namespace:i}=ge.getActiveNetworkProps(),a=e?.find(p=>p.id.toString()===s?.toString()),u=t.find(p=>p?.namespace===i)||t?.[0],f=t.map(p=>p.namespace).filter(p=>p!==void 0),h=fe.state.enableEmbedded?new Set([...f]):new Set([...e?.map(p=>p.chainNamespace)??[]]);(t?.length===0||!u)&&(Ae.noAdapters=!0),Ae.noAdapters||(Ae.activeChain=u?.namespace,Ae.activeCaipNetwork=a,B.setChainNetworkData(u?.namespace,{caipNetwork:a}),Ae.activeChain&&mo.set({activeChain:u?.namespace})),h.forEach(p=>{const g=e?.filter(v=>v.chainNamespace===p),y=ge.getPreferredAccountTypes()||{},b={...fe.state.defaultAccountTypes,...y};B.state.chains.set(p,{namespace:p,networkState:Dt({...v0,caipNetwork:g?.[0]}),accountState:Dt({...Lb,preferredAccountType:b[p]}),caipNetworks:g??[],...n}),B.setRequestedCaipNetworks(g??[],p)})},removeAdapter(t){if(Ae.activeChain===t){const e=Array.from(Ae.chains.entries()).find(([n])=>n!==t);if(e){const n=e[1]?.caipNetworks?.[0];n&&B.setActiveCaipNetwork(n)}}Ae.chains.delete(t)},addAdapter(t,{networkControllerClient:e,connectionControllerClient:n},s){if(!t.namespace)throw new Error("ChainController:addAdapter - adapter must have a namespace");Ae.chains.set(t.namespace,{namespace:t.namespace,networkState:{...v0,caipNetwork:s[0]},accountState:Lb,caipNetworks:s,connectionControllerClient:n,networkControllerClient:e}),B.setRequestedCaipNetworks(s?.filter(i=>i.chainNamespace===t.namespace)??[],t.namespace)},addNetwork(t){const e=Ae.chains.get(t.chainNamespace);if(e){const n=[...e.caipNetworks||[]];e.caipNetworks?.find(s=>s.id===t.id)||n.push(t),Ae.chains.set(t.chainNamespace,{...e,caipNetworks:n}),B.setRequestedCaipNetworks(n,t.chainNamespace),be.filterByNamespace(t.chainNamespace,!0)}},removeNetwork(t,e){const n=Ae.chains.get(t);if(n){const s=Ae.activeCaipNetwork?.id===e,i=[...n.caipNetworks?.filter(a=>a.id!==e)||[]];s&&n?.caipNetworks?.[0]&&B.setActiveCaipNetwork(n.caipNetworks[0]),Ae.chains.set(t,{...n,caipNetworks:i}),B.setRequestedCaipNetworks(i||[],t),i.length===0&&be.filterByNamespace(t,!1)}},setAdapterNetworkState(t,e){const n=Ae.chains.get(t);n&&(n.networkState={...n.networkState||v0,...e},Ae.chains.set(t,n))},setChainAccountData(t,e,n=!0){if(!t)throw new Error("Chain is required to update chain account data");const s=Ae.chains.get(t);if(s){const i={...s.accountState||Lb,...e};Ae.chains.set(t,{...s,accountState:i}),(Ae.chains.size===1||Ae.activeChain===t)&&(e.caipAddress&&(Ae.activeCaipAddress=e.caipAddress),De.replaceState(i))}},setChainNetworkData(t,e){if(!t)return;const n=Ae.chains.get(t);if(n){const s={...n.networkState||v0,...e};Ae.chains.set(t,{...n,networkState:s})}},setAccountProp(t,e,n,s=!0){B.setChainAccountData(n,{[t]:e},s)},setActiveNamespace(t){Ae.activeChain=t;const e=t?Ae.chains.get(t):void 0,n=e?.networkState?.caipNetwork;n?.id&&t&&(Ae.activeCaipAddress=e?.accountState?.caipAddress,Ae.activeCaipNetwork=n,B.setChainNetworkData(t,{caipNetwork:n}),ge.setActiveCaipNetworkId(n?.caipNetworkId),mo.set({activeChain:t,selectedNetworkId:n?.caipNetworkId}))},setActiveCaipNetwork(t){if(!t)return;Ae.activeChain!==t.chainNamespace&&B.setIsSwitchingNamespace(!0);const e=Ae.chains.get(t.chainNamespace);Ae.activeChain=t.chainNamespace,Ae.activeCaipNetwork=t,B.setChainNetworkData(t.chainNamespace,{caipNetwork:t}),e?.accountState?.address?Ae.activeCaipAddress=`${t.chainNamespace}:${t.id}:${e?.accountState?.address}`:Ae.activeCaipAddress=void 0,B.setAccountProp("caipAddress",Ae.activeCaipAddress,t.chainNamespace),e&&De.replaceState(e.accountState),ft.resetSend(),mo.set({activeChain:Ae.activeChain,selectedNetworkId:Ae.activeCaipNetwork?.caipNetworkId}),ge.setActiveCaipNetworkId(t.caipNetworkId),!B.checkIfSupportedNetwork(t.chainNamespace)&&fe.state.enableNetworkSwitch&&!fe.state.allowUnsupportedChain&&!ve.state.wcBasic&&B.showUnsupportedChainUI()},addCaipNetwork(t){if(!t)return;const e=Ae.chains.get(t.chainNamespace);e&&e?.caipNetworks?.push(t)},async switchActiveNamespace(t){if(!t)return;const e=t!==B.state.activeChain,n=B.getNetworkData(t)?.caipNetwork,s=B.getCaipNetworkByNamespace(t,n?.id);e&&s&&await B.switchActiveNetwork(s)},async switchActiveNetwork(t){const e=B.state.activeChain;if(!e)throw new Error("ChainController:switchActiveNetwork - namespace is required");const s=!B.state.chains.get(e)?.caipNetworks?.some(a=>a.id===Ae.activeCaipNetwork?.id),i=B.getNetworkControllerClient(t.chainNamespace);if(i){try{await i.switchCaipNetwork(t),s&&tt.close()}catch{je.goBack()}xt.sendEvent({type:"track",event:"SWITCH_NETWORK",properties:{network:t.caipNetworkId}})}},getNetworkControllerClient(t){const e=t||Ae.activeChain;if(!e)throw new Error("ChainController:getNetworkControllerClient - chain is required");const n=Ae.chains.get(e);if(!n)throw new Error("Chain adapter not found");if(!n.networkControllerClient)throw new Error("NetworkController client not set");return n.networkControllerClient},getConnectionControllerClient(t){const e=t||Ae.activeChain;if(!e)throw new Error("Chain is required to get connection controller client");const n=Ae.chains.get(e);if(!n?.connectionControllerClient)throw new Error("ConnectionController client not set");return n.connectionControllerClient},getNetworkProp(t,e){const n=Ae.chains.get(e)?.networkState;if(n)return n[t]},getRequestedCaipNetworks(t){const e=Ae.chains.get(t),{approvedCaipNetworkIds:n=[],requestedCaipNetworks:s=[]}=e?.networkState||{};return Oe.sortRequestedNetworks(n,s).filter(c=>c?.id)},getAllRequestedCaipNetworks(){const t=[];return Ae.chains.forEach(e=>{if(!e.namespace)throw new Error("ChainController:getAllRequestedCaipNetworks - chainAdapter must have a namespace");const n=B.getRequestedCaipNetworks(e.namespace);t.push(...n)}),t},setRequestedCaipNetworks(t,e){B.setAdapterNetworkState(e,{requestedCaipNetworks:t});const s=B.getAllRequestedCaipNetworks().map(a=>a.chainNamespace),i=Array.from(new Set(s));be.filterByNamespaces(i)},getAllApprovedCaipNetworkIds(){const t=[];return Ae.chains.forEach(e=>{if(!e.namespace)throw new Error("ChainController:getAllApprovedCaipNetworkIds - chainAdapter must have a namespace");const n=B.getApprovedCaipNetworkIds(e.namespace);t.push(...n)}),t},getActiveCaipNetwork(t){return t?Ae.chains.get(t)?.networkState?.caipNetwork:Ae.activeCaipNetwork},getActiveCaipAddress(){return Ae.activeCaipAddress},getApprovedCaipNetworkIds(t){return Ae.chains.get(t)?.networkState?.approvedCaipNetworkIds||[]},async setApprovedCaipNetworksData(t){const n=await B.getNetworkControllerClient()?.getApprovedCaipNetworksData();B.setAdapterNetworkState(t,{approvedCaipNetworkIds:n?.approvedCaipNetworkIds,supportsAllNetworks:n?.supportsAllNetworks})},checkIfSupportedNetwork(t,e){const n=e||Ae.activeCaipNetwork?.caipNetworkId,s=B.getRequestedCaipNetworks(t);return s.length?s?.some(i=>i.caipNetworkId===n):!0},checkIfSupportedChainId(t){return Ae.activeChain?B.getRequestedCaipNetworks(Ae.activeChain)?.some(n=>n.id===t):!0},setSmartAccountEnabledNetworks(t,e){B.setAdapterNetworkState(e,{smartAccountEnabledNetworks:t})},checkIfSmartAccountEnabled(){const t=dM.caipNetworkIdToNumber(Ae.activeCaipNetwork?.caipNetworkId),e=Ae.activeChain;return!e||!t?!1:!!B.getNetworkProp("smartAccountEnabledNetworks",e)?.includes(Number(t))},showUnsupportedChainUI(){tt.open({view:"UnsupportedChain"})},checkIfNamesSupported(){const t=Ae.activeCaipNetwork;return!!(t?.chainNamespace&&gt.NAMES_SUPPORTED_CHAIN_NAMESPACES.includes(t.chainNamespace))},resetNetwork(t){B.setAdapterNetworkState(t,{approvedCaipNetworkIds:void 0,supportsAllNetworks:!0})},resetAccount(t){const e=t;if(!e)throw new Error("Chain is required to set account prop");const n=B.state.chains.get(e)?.accountState?.preferredAccountType,s=fe.state.defaultAccountTypes[e];Ae.activeCaipAddress=void 0,B.setChainAccountData(e,{smartAccountDeployed:!1,currentTab:0,caipAddress:void 0,address:void 0,balance:void 0,balanceSymbol:void 0,profileName:void 0,profileImage:void 0,addressExplorerUrl:void 0,tokenBalance:[],connectedWalletInfo:void 0,preferredAccountType:s||n,socialProvider:void 0,socialWindow:void 0,farcasterUrl:void 0,user:void 0,status:"disconnected"}),be.removeConnectorId(e)},setIsSwitchingNamespace(t){Ae.isSwitchingNamespace=t},getFirstCaipNetworkSupportsAuthConnector(){const t=[];let e;if(Ae.chains.forEach(n=>{de.AUTH_CONNECTOR_SUPPORTED_CHAINS.find(s=>s===n.namespace)&&n.namespace&&t.push(n.namespace)}),t.length>0){const n=t[0];return e=n?Ae.chains.get(n)?.caipNetworks?.[0]:void 0,e}},getAccountData(t){const e=t||Ae.activeChain;if(e)return B.state.chains.get(e)?.accountState},getNetworkData(t){const e=t||Ae.activeChain;if(e)return B.state.chains.get(e)?.networkState},getCaipNetworkByNamespace(t,e){if(!t)return;const n=B.state.chains.get(t),s=n?.caipNetworks?.find(i=>i.id===e);return s||n?.networkState?.caipNetwork||n?.caipNetworks?.[0]},getRequestedCaipNetworkIds(){const t=be.state.filterByNamespace;return(t?[Ae.chains.get(t)]:Array.from(Ae.chains.values())).flatMap(n=>n?.caipNetworks||[]).map(n=>n.caipNetworkId)},getCaipNetworks(t){return t?B.getRequestedCaipNetworks(t):B.getAllRequestedCaipNetworks()},setLastConnectedSIWECaipNetwork(t){Ae.lastConnectedSIWECaipNetwork=t},getLastConnectedSIWECaipNetwork(){return Ae.lastConnectedSIWECaipNetwork}},B=Zs(coe),loe={purchaseCurrencies:[{id:"2b92315d-eab7-5bef-84fa-089a131333f5",name:"USD Coin",symbol:"USDC",networks:[{name:"ethereum-mainnet",display_name:"Ethereum",chain_id:"1",contract_address:"0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48"},{name:"polygon-mainnet",display_name:"Polygon",chain_id:"137",contract_address:"0x2791Bca1f2de4661ED88A30C99A7a9449Aa84174"}]},{id:"2b92315d-eab7-5bef-84fa-089a131333f5",name:"Ether",symbol:"ETH",networks:[{name:"ethereum-mainnet",display_name:"Ethereum",chain_id:"1",contract_address:"0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48"},{name:"polygon-mainnet",display_name:"Polygon",chain_id:"137",contract_address:"0x2791Bca1f2de4661ED88A30C99A7a9449Aa84174"}]}],paymentCurrencies:[{id:"USD",payment_method_limits:[{id:"card",min:"10.00",max:"7500.00"},{id:"ach_bank_account",min:"10.00",max:"25000.00"}]},{id:"EUR",payment_method_limits:[{id:"card",min:"10.00",max:"7500.00"},{id:"ach_bank_account",min:"10.00",max:"25000.00"}]}]},EM=Oe.getBlockchainApiUrl(),ys=Dt({clientId:null,api:new Cp({baseUrl:EM,clientId:null}),supportedChains:{http:[],ws:[]}}),Pe={state:ys,async get(t){const{st:e,sv:n}=Pe.getSdkProperties(),s=fe.state.projectId,i={...t.params||{},st:e,sv:n,projectId:s};return ys.api.get({...t,params:i})},getSdkProperties(){const{sdkType:t,sdkVersion:e}=fe.state;return{st:t||"unknown",sv:e||"unknown"}},async isNetworkSupported(t){if(!t)return!1;try{ys.supportedChains.http.length||await Pe.getSupportedNetworks()}catch{return!1}return ys.supportedChains.http.includes(t)},async getSupportedNetworks(){try{const t=await Pe.get({path:"v1/supported-chains"});return ys.supportedChains=t,t}catch{return ys.supportedChains}},async fetchIdentity({address:t,caipNetworkId:e}){if(!await Pe.isNetworkSupported(e))return{avatar:"",name:""};const s=ge.getIdentityFromCacheForAddress(t);if(s)return s;const i=await Pe.get({path:`/v1/identity/${t}`,params:{sender:B.state.activeCaipAddress?Oe.getPlainAddress(B.state.activeCaipAddress):void 0}});return ge.updateIdentityCache({address:t,identity:i,timestamp:Date.now()}),i},async fetchTransactions({account:t,cursor:e,signal:n,cache:s,chainId:i}){if(!await Pe.isNetworkSupported(B.state.activeCaipNetwork?.caipNetworkId))return{data:[],next:void 0};const c=ge.getTransactionsCacheForAddress({address:t,chainId:i});if(c)return c;const u=await Pe.get({path:`/v1/account/${t}/history`,params:{cursor:e,chainId:i},signal:n,cache:s});return ge.updateTransactionsCache({address:t,chainId:i,timestamp:Date.now(),transactions:u}),u},async fetchSwapQuote({amount:t,userAddress:e,from:n,to:s,gasPrice:i}){return await Pe.isNetworkSupported(B.state.activeCaipNetwork?.caipNetworkId)?Pe.get({path:"/v1/convert/quotes",headers:{"Content-Type":"application/json"},params:{amount:t,userAddress:e,from:n,to:s,gasPrice:i}}):{quotes:[]}},async fetchSwapTokens({chainId:t}){return await Pe.isNetworkSupported(B.state.activeCaipNetwork?.caipNetworkId)?Pe.get({path:"/v1/convert/tokens",params:{chainId:t}}):{tokens:[]}},async fetchTokenPrice({addresses:t}){if(!await Pe.isNetworkSupported(B.state.activeCaipNetwork?.caipNetworkId))return{fungibles:[]};const n=ge.getTokenPriceCacheForAddresses(t);if(n)return n;const s=await ys.api.post({path:"/v1/fungible/price",body:{currency:"usd",addresses:t,projectId:fe.state.projectId},headers:{"Content-Type":"application/json"}});return ge.updateTokenPriceCache({addresses:t,timestamp:Date.now(),tokenPrice:s}),s},async fetchSwapAllowance({tokenAddress:t,userAddress:e}){return await Pe.isNetworkSupported(B.state.activeCaipNetwork?.caipNetworkId)?Pe.get({path:"/v1/convert/allowance",params:{tokenAddress:t,userAddress:e},headers:{"Content-Type":"application/json"}}):{allowance:"0"}},async fetchGasPrice({chainId:t}){const{st:e,sv:n}=Pe.getSdkProperties();if(!await Pe.isNetworkSupported(B.state.activeCaipNetwork?.caipNetworkId))throw new Error("Network not supported for Gas Price");return Pe.get({path:"/v1/convert/gas-price",headers:{"Content-Type":"application/json"},params:{chainId:t,st:e,sv:n}})},async generateSwapCalldata({amount:t,from:e,to:n,userAddress:s,disableEstimate:i}){if(!await Pe.isNetworkSupported(B.state.activeCaipNetwork?.caipNetworkId))throw new Error("Network not supported for Swaps");return ys.api.post({path:"/v1/convert/build-transaction",headers:{"Content-Type":"application/json"},body:{amount:t,eip155:{slippage:gt.CONVERT_SLIPPAGE_TOLERANCE},projectId:fe.state.projectId,from:e,to:n,userAddress:s,disableEstimate:i}})},async generateApproveCalldata({from:t,to:e,userAddress:n}){const{st:s,sv:i}=Pe.getSdkProperties();if(!await Pe.isNetworkSupported(B.state.activeCaipNetwork?.caipNetworkId))throw new Error("Network not supported for Swaps");return Pe.get({path:"/v1/convert/build-approve",headers:{"Content-Type":"application/json"},params:{userAddress:n,from:t,to:e,st:s,sv:i}})},async getBalance(t,e,n){const{st:s,sv:i}=Pe.getSdkProperties();if(!await Pe.isNetworkSupported(B.state.activeCaipNetwork?.caipNetworkId))return Cr.showError("Token Balance Unavailable"),{balances:[]};const c=`${e}:${t}`,u=ge.getBalanceCacheForCaipAddress(c);if(u)return u;const f=await Pe.get({path:`/v1/account/${t}/balance`,params:{currency:"usd",chainId:e,forceUpdate:n,st:s,sv:i}});return ge.updateBalanceCache({caipAddress:c,balance:f,timestamp:Date.now()}),f},async lookupEnsName(t){return await Pe.isNetworkSupported(B.state.activeCaipNetwork?.caipNetworkId)?Pe.get({path:`/v1/profile/account/${t}`,params:{apiVersion:"2"}}):{addresses:{},attributes:[]}},async reverseLookupEnsName({address:t}){return await Pe.isNetworkSupported(B.state.activeCaipNetwork?.caipNetworkId)?Pe.get({path:`/v1/profile/reverse/${t}`,params:{sender:De.state.address,apiVersion:"2"}}):[]},async getEnsNameSuggestions(t){return await Pe.isNetworkSupported(B.state.activeCaipNetwork?.caipNetworkId)?Pe.get({path:`/v1/profile/suggestions/${t}`,params:{zone:"reown.id"}}):{suggestions:[]}},async registerEnsName({coinType:t,address:e,message:n,signature:s}){return await Pe.isNetworkSupported(B.state.activeCaipNetwork?.caipNetworkId)?ys.api.post({path:"/v1/profile/account",body:{coin_type:t,address:e,message:n,signature:s},headers:{"Content-Type":"application/json"}}):{success:!1}},async generateOnRampURL({destinationWallets:t,partnerUserId:e,defaultNetwork:n,purchaseAmount:s,paymentAmount:i}){return await Pe.isNetworkSupported(B.state.activeCaipNetwork?.caipNetworkId)?(await ys.api.post({path:"/v1/generators/onrampurl",params:{projectId:fe.state.projectId},body:{destinationWallets:t,defaultNetwork:n,partnerUserId:e,defaultExperience:"buy",presetCryptoAmount:s,presetFiatAmount:i}})).url:""},async getOnrampOptions(){if(!await Pe.isNetworkSupported(B.state.activeCaipNetwork?.caipNetworkId))return{paymentCurrencies:[],purchaseCurrencies:[]};try{return await Pe.get({path:"/v1/onramp/options"})}catch{return loe}},async getOnrampQuote({purchaseCurrency:t,paymentCurrency:e,amount:n,network:s}){try{return await Pe.isNetworkSupported(B.state.activeCaipNetwork?.caipNetworkId)?await ys.api.post({path:"/v1/onramp/quote",params:{projectId:fe.state.projectId},body:{purchaseCurrency:t,paymentCurrency:e,amount:n,network:s}}):null}catch{return{networkFee:{amount:n,currency:e.id},paymentSubtotal:{amount:n,currency:e.id},paymentTotal:{amount:n,currency:e.id},purchaseAmount:{amount:n,currency:e.id},quoteId:"mocked-quote-id"}}},async getSmartSessions(t){return await Pe.isNetworkSupported(B.state.activeCaipNetwork?.caipNetworkId)?Pe.get({path:`/v1/sessions/${t}`}):[]},async revokeSmartSession(t,e,n){return await Pe.isNetworkSupported(B.state.activeCaipNetwork?.caipNetworkId)?ys.api.post({path:`/v1/sessions/${t}/revoke`,params:{projectId:fe.state.projectId},body:{pci:e,signature:n}}):{success:!1}},setClientId(t){ys.clientId=t,ys.api=new Cp({baseUrl:EM,clientId:t})}};function uoe(t,{strict:e=!0}={}){return!t||typeof t!="string"?!1:e?/^0x[0-9a-fA-F]*$/.test(t):t.startsWith("0x")}function M5(t){return uoe(t,{strict:!1})?Math.ceil((t.length-2)/2):t.length}const AM="2.38.2";let kb={getDocsUrl:({docsBaseUrl:t,docsPath:e="",docsSlug:n})=>e?`${t??"https://viem.sh"}${e}${n?`#${n}`:""}`:void 0,version:`viem@${AM}`};class Qs extends Error{constructor(e,n={}){const s=n.cause instanceof Qs?n.cause.details:n.cause?.message?n.cause.message:n.details,i=n.cause instanceof Qs&&n.cause.docsPath||n.docsPath,a=kb.getDocsUrl?.({...n,docsPath:i}),c=[e||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...a?[`Docs: ${a}`]:[],...s?[`Details: ${s}`]:[],...kb.version?[`Version: ${kb.version}`]:[]].join(`
`);super(c,n.cause?{cause:n.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),this.details=s,this.docsPath=i,this.metaMessages=n.metaMessages,this.name=n.name??this.name,this.shortMessage=e,this.version=AM}walk(e){return CM(this,e)}}function CM(t,e){return e?.(t)?t:t&&typeof t=="object"&&"cause"in t&&t.cause!==void 0?CM(t.cause,e):e?null:t}class SM extends Qs{constructor({size:e,targetSize:n,type:s}){super(`${s.charAt(0).toUpperCase()}${s.slice(1).toLowerCase()} size (${e}) exceeds padding size (${n}).`,{name:"SizeExceedsPaddingSizeError"})}}function cA(t,{dir:e,size:n=32}={}){return typeof t=="string"?foe(t,{dir:e,size:n}):doe(t,{dir:e,size:n})}function foe(t,{dir:e,size:n=32}={}){if(n===null)return t;const s=t.replace("0x","");if(s.length>n*2)throw new SM({size:Math.ceil(s.length/2),targetSize:n,type:"hex"});return`0x${s[e==="right"?"padEnd":"padStart"](n*2,"0")}`}function doe(t,{dir:e,size:n=32}={}){if(n===null)return t;if(t.length>n)throw new SM({size:t.length,targetSize:n,type:"bytes"});const s=new Uint8Array(n);for(let i=0;i<n;i++){const a=e==="right";s[a?i:n-i-1]=t[a?i:t.length-i-1]}return s}class hoe extends Qs{constructor({max:e,min:n,signed:s,size:i,value:a}){super(`Number "${a}" is not in safe ${i?`${i*8}-bit ${s?"signed":"unsigned"} `:""}integer range ${e?`(${n} to ${e})`:`(above ${n})`}`,{name:"IntegerOutOfRangeError"})}}class poe extends Qs{constructor({givenSize:e,maxSize:n}){super(`Size cannot exceed ${n} bytes. Given size: ${e} bytes.`,{name:"SizeOverflowError"})}}function xM(t,{size:e}){if(M5(t)>e)throw new poe({givenSize:M5(t),maxSize:e})}const goe=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function R5(t,e={}){return typeof t=="number"||typeof t=="bigint"?yoe(t,e):typeof t=="string"?TM(t,e):typeof t=="boolean"?moe(t,e):NM(t,e)}function moe(t,e={}){const n=`0x${Number(t)}`;return typeof e.size=="number"?(xM(n,{size:e.size}),cA(n,{size:e.size})):n}function NM(t,e={}){let n="";for(let i=0;i<t.length;i++)n+=goe[t[i]];const s=`0x${n}`;return typeof e.size=="number"?(xM(s,{size:e.size}),cA(s,{dir:"right",size:e.size})):s}function yoe(t,e={}){const{signed:n,size:s}=e,i=BigInt(t);let a;s?n?a=(1n<<BigInt(s)*8n-1n)-1n:a=2n**(BigInt(s)*8n)-1n:typeof t=="number"&&(a=BigInt(Number.MAX_SAFE_INTEGER));const c=typeof a=="bigint"&&n?-a-1n:0;if(a&&i>a||i<c){const f=typeof t=="bigint"?"n":"";throw new hoe({max:a?`${a}${f}`:void 0,min:`${c}${f}`,signed:n,size:s,value:`${t}${f}`})}const u=`0x${(n&&i<0?(1n<<BigInt(s*8))+BigInt(i):i).toString(16)}`;return s?cA(u,{size:s}):u}const woe=new TextEncoder;function TM(t,e={}){const n=woe.encode(t);return NM(n,e)}class boe extends Map{constructor(e){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=e}get(e){const n=super.get(e);return super.has(e)&&n!==void 0&&(this.delete(e),super.set(e,n)),n}set(e,n){if(super.set(e,n),this.maxSize&&this.size>this.maxSize){const s=this.keys().next().value;s&&this.delete(s)}return this}}const Kc=(t,e,n)=>JSON.stringify(t,(s,i)=>typeof i=="bigint"?i.toString():i,n);function voe(t,e){let n=t.toString();const s=n.startsWith("-");s&&(n=n.slice(1)),n=n.padStart(e,"0");let[i,a]=[n.slice(0,n.length-e),n.slice(n.length-e)];return a=a.replace(/(0+)$/,""),`${s?"-":""}${i||"0"}${a?`.${a}`:""}`}const lA=t=>t;class ch extends Qs{constructor({body:e,cause:n,details:s,headers:i,status:a,url:c}){super("HTTP request failed.",{cause:n,details:s,metaMessages:[a&&`Status: ${a}`,`URL: ${lA(c)}`,e&&`Request body: ${Kc(e)}`].filter(Boolean),name:"HttpRequestError"}),Object.defineProperty(this,"body",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"headers",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"status",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.body=e,this.headers=i,this.status=a,this.url=c}}class _M extends Qs{constructor({body:e,error:n,url:s}){super("RPC Request failed.",{cause:n,details:n.message,metaMessages:[`URL: ${lA(s)}`,`Request body: ${Kc(e)}`],name:"RpcRequestError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.code=n.code,this.data=n.data}}class $5 extends Qs{constructor({body:e,url:n}){super("The request took too long to respond.",{details:"The request timed out.",metaMessages:[`URL: ${lA(n)}`,`Request body: ${Kc(e)}`],name:"TimeoutError"})}}const Eoe=-1;class Ds extends Qs{constructor(e,{code:n,docsPath:s,metaMessages:i,name:a,shortMessage:c}){super(c,{cause:e,docsPath:s,metaMessages:i||e?.metaMessages,name:a||"RpcError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name=a||e.name,this.code=e instanceof _M?e.code:n??Eoe}}class Js extends Ds{constructor(e,n){super(e,n),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=n.data}}class Rh extends Ds{constructor(e){super(e,{code:Rh.code,name:"ParseRpcError",shortMessage:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."})}}Object.defineProperty(Rh,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32700});class $h extends Ds{constructor(e){super(e,{code:$h.code,name:"InvalidRequestRpcError",shortMessage:"JSON is not a valid request object."})}}Object.defineProperty($h,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32600});class Uh extends Ds{constructor(e,{method:n}={}){super(e,{code:Uh.code,name:"MethodNotFoundRpcError",shortMessage:`The method${n?` "${n}"`:""} does not exist / is not available.`})}}Object.defineProperty(Uh,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32601});class Ph extends Ds{constructor(e){super(e,{code:Ph.code,name:"InvalidParamsRpcError",shortMessage:["Invalid parameters were provided to the RPC method.","Double check you have provided the correct parameters."].join(`
`)})}}Object.defineProperty(Ph,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32602});class Xu extends Ds{constructor(e){super(e,{code:Xu.code,name:"InternalRpcError",shortMessage:"An internal error was received."})}}Object.defineProperty(Xu,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32603});class Lh extends Ds{constructor(e){super(e,{code:Lh.code,name:"InvalidInputRpcError",shortMessage:["Missing or invalid parameters.","Double check you have provided the correct parameters."].join(`
`)})}}Object.defineProperty(Lh,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32e3});class kh extends Ds{constructor(e){super(e,{code:kh.code,name:"ResourceNotFoundRpcError",shortMessage:"Requested resource not found."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ResourceNotFoundRpcError"})}}Object.defineProperty(kh,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32001});class Bh extends Ds{constructor(e){super(e,{code:Bh.code,name:"ResourceUnavailableRpcError",shortMessage:"Requested resource not available."})}}Object.defineProperty(Bh,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32002});class Qu extends Ds{constructor(e){super(e,{code:Qu.code,name:"TransactionRejectedRpcError",shortMessage:"Transaction creation failed."})}}Object.defineProperty(Qu,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32003});class zc extends Ds{constructor(e,{method:n}={}){super(e,{code:zc.code,name:"MethodNotSupportedRpcError",shortMessage:`Method${n?` "${n}"`:""} is not supported.`})}}Object.defineProperty(zc,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32004});class Zu extends Ds{constructor(e){super(e,{code:Zu.code,name:"LimitExceededRpcError",shortMessage:"Request exceeds defined limit."})}}Object.defineProperty(Zu,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32005});class jh extends Ds{constructor(e){super(e,{code:jh.code,name:"JsonRpcVersionUnsupportedError",shortMessage:"Version of JSON-RPC protocol is not supported."})}}Object.defineProperty(jh,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32006});class Gc extends Js{constructor(e){super(e,{code:Gc.code,name:"UserRejectedRequestError",shortMessage:"User rejected the request."})}}Object.defineProperty(Gc,"code",{enumerable:!0,configurable:!0,writable:!0,value:4001});class zh extends Js{constructor(e){super(e,{code:zh.code,name:"UnauthorizedProviderError",shortMessage:"The requested method and/or account has not been authorized by the user."})}}Object.defineProperty(zh,"code",{enumerable:!0,configurable:!0,writable:!0,value:4100});class Hh extends Js{constructor(e,{method:n}={}){super(e,{code:Hh.code,name:"UnsupportedProviderMethodError",shortMessage:`The Provider does not support the requested method${n?` " ${n}"`:""}.`})}}Object.defineProperty(Hh,"code",{enumerable:!0,configurable:!0,writable:!0,value:4200});class Fh extends Js{constructor(e){super(e,{code:Fh.code,name:"ProviderDisconnectedError",shortMessage:"The Provider is disconnected from all chains."})}}Object.defineProperty(Fh,"code",{enumerable:!0,configurable:!0,writable:!0,value:4900});class qh extends Js{constructor(e){super(e,{code:qh.code,name:"ChainDisconnectedError",shortMessage:"The Provider is not connected to the requested chain."})}}Object.defineProperty(qh,"code",{enumerable:!0,configurable:!0,writable:!0,value:4901});class Vh extends Js{constructor(e){super(e,{code:Vh.code,name:"SwitchChainError",shortMessage:"An error occurred when attempting to switch chain."})}}Object.defineProperty(Vh,"code",{enumerable:!0,configurable:!0,writable:!0,value:4902});class Wh extends Js{constructor(e){super(e,{code:Wh.code,name:"UnsupportedNonOptionalCapabilityError",shortMessage:"This Wallet does not support a capability that was not marked as optional."})}}Object.defineProperty(Wh,"code",{enumerable:!0,configurable:!0,writable:!0,value:5700});class Kh extends Js{constructor(e){super(e,{code:Kh.code,name:"UnsupportedChainIdError",shortMessage:"This Wallet does not support the requested chain ID."})}}Object.defineProperty(Kh,"code",{enumerable:!0,configurable:!0,writable:!0,value:5710});class Gh extends Js{constructor(e){super(e,{code:Gh.code,name:"DuplicateIdError",shortMessage:"There is already a bundle submitted with this ID."})}}Object.defineProperty(Gh,"code",{enumerable:!0,configurable:!0,writable:!0,value:5720});class Yh extends Js{constructor(e){super(e,{code:Yh.code,name:"UnknownBundleIdError",shortMessage:"This bundle id is unknown / has not been submitted"})}}Object.defineProperty(Yh,"code",{enumerable:!0,configurable:!0,writable:!0,value:5730});class Xh extends Js{constructor(e){super(e,{code:Xh.code,name:"BundleTooLargeError",shortMessage:"The call bundle is too large for the Wallet to process."})}}Object.defineProperty(Xh,"code",{enumerable:!0,configurable:!0,writable:!0,value:5740});class Qh extends Js{constructor(e){super(e,{code:Qh.code,name:"AtomicReadyWalletRejectedUpgradeError",shortMessage:"The Wallet can support atomicity after an upgrade, but the user rejected the upgrade."})}}Object.defineProperty(Qh,"code",{enumerable:!0,configurable:!0,writable:!0,value:5750});class Zh extends Js{constructor(e){super(e,{code:Zh.code,name:"AtomicityNotSupportedError",shortMessage:"The wallet does not support atomic execution but the request requires it."})}}Object.defineProperty(Zh,"code",{enumerable:!0,configurable:!0,writable:!0,value:5760});class Aoe extends Ds{constructor(e){super(e,{name:"UnknownRpcError",shortMessage:"An unknown RPC error occurred."})}}class uA extends Qs{constructor({cause:e,message:n}={}){const s=n?.replace("execution reverted: ","")?.replace("execution reverted","");super(`Execution reverted ${s?`with reason: ${s}`:"for an unknown reason"}.`,{cause:e,name:"ExecutionRevertedError"})}}Object.defineProperty(uA,"code",{enumerable:!0,configurable:!0,writable:!0,value:3});Object.defineProperty(uA,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/execution reverted/});function Coe(){let t=()=>{},e=()=>{};return{promise:new Promise((s,i)=>{t=s,e=i}),resolve:t,reject:e}}const Bb=new Map;function Soe({fn:t,id:e,shouldSplitBatch:n,wait:s=0,sort:i}){const a=async()=>{const p=f();c();const g=p.map(({args:y})=>y);g.length!==0&&t(g).then(y=>{i&&Array.isArray(y)&&y.sort(i);for(let b=0;b<p.length;b++){const{resolve:v}=p[b];v?.([y[b],y])}}).catch(y=>{for(let b=0;b<p.length;b++){const{reject:v}=p[b];v?.(y)}})},c=()=>Bb.delete(e),u=()=>f().map(({args:p})=>p),f=()=>Bb.get(e)||[],h=p=>Bb.set(e,[...f(),p]);return{flush:c,async schedule(p){const{promise:g,resolve:y,reject:b}=Coe();return n?.([...u(),p])&&a(),f().length>0?(h({args:p,resolve:y,reject:b}),g):(h({args:p,resolve:y,reject:b}),setTimeout(a,s),g)}}}async function IM(t){return new Promise(e=>setTimeout(e,t))}function xoe(t,{delay:e=100,retryCount:n=2,shouldRetry:s=()=>!0}={}){return new Promise((i,a)=>{const c=async({count:u=0}={})=>{const f=async({error:h})=>{const p=typeof e=="function"?e({count:u,error:h}):e;p&&await IM(p),c({count:u+1})};try{const h=await t();i(h)}catch(h){if(u<n&&await s({count:u,error:h}))return f({error:h});a(h)}};c()})}const v2=256;let E0=v2,A0;function Noe(t=11){if(!A0||E0+t>v2*2){A0="",E0=0;for(let e=0;e<v2;e++)A0+=(256+Math.random()*256|0).toString(16).substring(1)}return A0.substring(E0,E0+++t)}const C0=new boe(8192);function Toe(t,{enabled:e=!0,id:n}){if(!e||!n)return t();if(C0.get(n))return C0.get(n);const s=t().finally(()=>C0.delete(n));return C0.set(n,s),s}function _oe(t,e={}){return async(n,s={})=>{const{dedupe:i=!1,methods:a,retryDelay:c=150,retryCount:u=3,uid:f}={...e,...s},{method:h}=n;if(a?.exclude?.includes(h))throw new zc(new Error("method not supported"),{method:h});if(a?.include&&!a.include.includes(h))throw new zc(new Error("method not supported"),{method:h});const p=i?TM(`${f}.${Kc(n)}`):void 0;return Toe(()=>xoe(async()=>{try{return await t(n)}catch(g){const y=g;switch(y.code){case Rh.code:throw new Rh(y);case $h.code:throw new $h(y);case Uh.code:throw new Uh(y,{method:n.method});case Ph.code:throw new Ph(y);case Xu.code:throw new Xu(y);case Lh.code:throw new Lh(y);case kh.code:throw new kh(y);case Bh.code:throw new Bh(y);case Qu.code:throw new Qu(y);case zc.code:throw new zc(y,{method:n.method});case Zu.code:throw new Zu(y);case jh.code:throw new jh(y);case Gc.code:throw new Gc(y);case zh.code:throw new zh(y);case Hh.code:throw new Hh(y);case Fh.code:throw new Fh(y);case qh.code:throw new qh(y);case Vh.code:throw new Vh(y);case Wh.code:throw new Wh(y);case Kh.code:throw new Kh(y);case Gh.code:throw new Gh(y);case Yh.code:throw new Yh(y);case Xh.code:throw new Xh(y);case Qh.code:throw new Qh(y);case Zh.code:throw new Zh(y);case 5e3:throw new Gc(y);default:throw g instanceof Qs?g:new Aoe(y)}}},{delay:({count:g,error:y})=>{if(y&&y instanceof ch){const b=y?.headers?.get("Retry-After");if(b?.match(/\d/))return Number.parseInt(b,10)*1e3}return~~(1<<g)*c},retryCount:u,shouldRetry:({error:g})=>Ioe(g)}),{enabled:i,id:p})}}function Ioe(t){return"code"in t&&typeof t.code=="number"?t.code===-1||t.code===Zu.code||t.code===Xu.code:t instanceof ch&&t.status?t.status===403||t.status===408||t.status===413||t.status===429||t.status===500||t.status===502||t.status===503||t.status===504:!0}function Doe(t,{errorInstance:e=new Error("timed out"),timeout:n,signal:s}){return new Promise((i,a)=>{(async()=>{let c;try{const u=new AbortController;n>0&&(c=setTimeout(()=>{s&&u.abort()},n)),i(await t({signal:u?.signal||null}))}catch(u){u?.name==="AbortError"&&a(e),a(u)}finally{clearTimeout(c)}})()})}function Ooe(){return{current:0,take(){return this.current++},reset(){this.current=0}}}const U5=Ooe();function Moe(t,e={}){return{async request(n){const{body:s,fetchFn:i=e.fetchFn??fetch,onRequest:a=e.onRequest,onResponse:c=e.onResponse,timeout:u=e.timeout??1e4}=n,f={...e.fetchOptions??{},...n.fetchOptions??{}},{headers:h,method:p,signal:g}=f;try{const y=await Doe(async({signal:v})=>{const E={...f,body:Array.isArray(s)?Kc(s.map(S=>({jsonrpc:"2.0",id:S.id??U5.take(),...S}))):Kc({jsonrpc:"2.0",id:s.id??U5.take(),...s}),headers:{"Content-Type":"application/json",...h},method:p||"POST",signal:g||(u>0?v:null)},A=new Request(t,E),x=await a?.(A,E)??{...E,url:t};return await i(x.url??t,x)},{errorInstance:new $5({body:s,url:t}),timeout:u,signal:!0});c&&await c(y);let b;if(y.headers.get("Content-Type")?.startsWith("application/json"))b=await y.json();else{b=await y.text();try{b=JSON.parse(b||"{}")}catch(v){if(y.ok)throw v;b={error:b}}}if(!y.ok)throw new ch({body:s,details:Kc(b.error)||y.statusText,headers:y.headers,status:y.status,url:t});return b}catch(y){throw y instanceof ch||y instanceof $5?y:new ch({body:s,cause:y,url:t})}}}}function DM({key:t,methods:e,name:n,request:s,retryCount:i=3,retryDelay:a=150,timeout:c,type:u},f){const h=Noe();return{config:{key:t,methods:e,name:n,request:s,retryCount:i,retryDelay:a,timeout:c,type:u},request:_oe(s,{methods:e,retryCount:i,retryDelay:a,uid:h}),value:f}}function P5(t,e={}){const{key:n="fallback",name:s="Fallback",rank:i=!1,shouldThrow:a=Roe,retryCount:c,retryDelay:u}=e;return(({chain:f,pollingInterval:h=4e3,timeout:p,...g})=>{let y=t,b=()=>{};const v=DM({key:n,name:s,async request({method:E,params:A}){let x;const D=async(S=0)=>{const N=y[S]({...g,chain:f,retryCount:0,timeout:p});try{const T=await N.request({method:E,params:A});return b({method:E,params:A,response:T,transport:N,status:"success"}),T}catch(T){if(b({error:T,method:E,params:A,transport:N,status:"error"}),a(T)||S===y.length-1||(x??=y.slice(S+1).some(I=>{const{include:$,exclude:P}=I({chain:f}).config.methods||{};return $?$.includes(E):P?!P.includes(E):!0}),!x))throw T;return D(S+1)}};return D()},retryCount:c,retryDelay:u,type:"fallback"},{onResponse:E=>b=E,transports:y.map(E=>E({chain:f,retryCount:0}))});if(i){const E=typeof i=="object"?i:{};$oe({chain:f,interval:E.interval??h,onTransports:A=>y=A,ping:E.ping,sampleCount:E.sampleCount,timeout:E.timeout,transports:y,weights:E.weights})}return v})}function Roe(t){return!!("code"in t&&typeof t.code=="number"&&(t.code===Qu.code||t.code===Gc.code||uA.nodeMessage.test(t.message)||t.code===5e3))}function $oe({chain:t,interval:e=4e3,onTransports:n,ping:s,sampleCount:i=10,timeout:a=1e3,transports:c,weights:u={}}){const{stability:f=.7,latency:h=.3}=u,p=[],g=async()=>{const y=await Promise.all(c.map(async E=>{const A=E({chain:t,retryCount:0,timeout:a}),x=Date.now();let D,S;try{await(s?s({transport:A}):A.request({method:"net_listening"})),S=1}catch{S=0}finally{D=Date.now()}return{latency:D-x,success:S}}));p.push(y),p.length>i&&p.shift();const b=Math.max(...p.map(E=>Math.max(...E.map(({latency:A})=>A)))),v=c.map((E,A)=>{const x=p.map(I=>I[A].latency),S=1-x.reduce((I,$)=>I+$,0)/x.length/b,N=p.map(I=>I[A].success),T=N.reduce((I,$)=>I+$,0)/N.length;return T===0?[0,A]:[h*S+f*T,A]}).sort((E,A)=>A[0]-E[0]);n(v.map(([,E])=>c[E])),await IM(e),g()};g()}class Uoe extends Qs{constructor(){super("No URL was provided to the Transport. Please provide a valid RPC URL to the Transport.",{docsPath:"/docs/clients/intro",name:"UrlRequiredError"})}}function S0(t,e={}){const{batch:n,fetchFn:s,fetchOptions:i,key:a="http",methods:c,name:u="HTTP JSON-RPC",onFetchRequest:f,onFetchResponse:h,retryDelay:p,raw:g}=e;return({chain:y,retryCount:b,timeout:v})=>{const{batchSize:E=1e3,wait:A=0}=typeof n=="object"?n:{},x=e.retryCount??b,D=v??e.timeout??1e4,S=t||y?.rpcUrls.default.http[0];if(!S)throw new Uoe;const N=Moe(S,{fetchFn:s,fetchOptions:i,onRequest:f,onResponse:h,timeout:D});return DM({key:a,methods:c,name:u,async request({method:T,params:I}){const $={method:T,params:I},{schedule:P}=Soe({id:S,wait:A,shouldSplitBatch(F){return F.length>E},fn:F=>N.request({body:F}),sort:(F,ee)=>F.id-ee.id}),M=async F=>n?P(F):[await N.request({body:F})],[{error:z,result:q}]=await M($);if(g)return{error:z,result:q};if(z)throw new _M({body:$,error:z,url:S});return q},retryCount:x,retryDelay:p,timeout:D,type:"http"},{fetchOptions:i,url:S})}}const jb={createBalance(t,e){const n={name:t.metadata.name||"",symbol:t.metadata.symbol||"",decimals:t.metadata.decimals||0,value:t.metadata.value||0,price:t.metadata.price||0,iconUrl:t.metadata.iconUrl||""};return{name:n.name,symbol:n.symbol,chainId:e,address:t.address==="native"?void 0:this.convertAddressToCAIP10Address(t.address,e),value:n.value,price:n.price,quantity:{decimals:n.decimals.toString(),numeric:this.convertHexToBalance({hex:t.balance,decimals:n.decimals})},iconUrl:n.iconUrl}},convertHexToBalance({hex:t,decimals:e}){return voe(BigInt(t),e)},convertAddressToCAIP10Address(t,e){return`${e}:${t}`},createCAIP2ChainId(t,e){return`${e}:${parseInt(t,16)}`},getChainIdHexFromCAIP2ChainId(t){const e=t.split(":");if(e.length<2||!e[1])return"0x0";const n=e[1],s=parseInt(n,10);return isNaN(s)?"0x0":`0x${s.toString(16)}`},isWalletGetAssetsResponse(t){return typeof t!="object"||t===null?!1:Object.values(t).every(e=>Array.isArray(e)&&e.every(n=>this.isValidAsset(n)))},isValidAsset(t){return typeof t=="object"&&t!==null&&typeof t.address=="string"&&typeof t.balance=="string"&&(t.type==="ERC20"||t.type==="NATIVE")&&typeof t.metadata=="object"&&t.metadata!==null&&typeof t.metadata.name=="string"&&typeof t.metadata.symbol=="string"&&typeof t.metadata.decimals=="number"&&typeof t.metadata.price=="number"&&typeof t.metadata.iconUrl=="string"}},fA={async getMyTokensWithBalance(t){const e=De.state.address,n=B.state.activeCaipNetwork,s=be.getConnectorId("eip155")===de.CONNECTOR_ID.AUTH;if(!e||!n)return[];const i=`${n.caipNetworkId}:${e}`,a=ge.getBalanceCacheForCaipAddress(i);if(a)return a.balances;if(n.chainNamespace===de.CHAIN.EVM&&s){const u=await this.getEIP155Balances(e,n);if(u)return this.filterLowQualityTokens(u)}const c=await Pe.getBalance(e,n.caipNetworkId,t);return this.filterLowQualityTokens(c.balances)},async getEIP155Balances(t,e){try{const n=jb.getChainIdHexFromCAIP2ChainId(e.caipNetworkId);if(!(await ve.getCapabilities(t))?.[n]?.assetDiscovery?.supported)return null;const i=await ve.walletGetAssets({account:t,chainFilter:[n]});if(!jb.isWalletGetAssetsResponse(i))return null;const c=(i[n]||[]).map(u=>jb.createBalance(u,e.caipNetworkId));return ge.updateBalanceCache({caipAddress:`${e.caipNetworkId}:${t}`,balance:{balances:c},timestamp:Date.now()}),c}catch{return null}},filterLowQualityTokens(t){return t.filter(e=>e.quantity.decimals!=="0")}},gr=Dt({currentTab:0,tokenBalance:[],smartAccountDeployed:!1,addressLabels:new Map}),Poe={state:gr,replaceState(t){t&&Object.assign(gr,el(t))},subscribe(t){return B.subscribeChainProp("accountState",e=>{if(e)return t(e)})},subscribeKey(t,e,n){let s;return B.subscribeChainProp("accountState",i=>{if(i){const a=i[t];s!==a&&(s=a,e(a))}},n)},setStatus(t,e){B.setAccountProp("status",t,e)},getCaipAddress(t){if(t)return B.state.chains.get(t)?.accountState?.caipAddress},setCaipAddress(t,e){const n=t?Oe.getPlainAddress(t):void 0;e===B.state.activeChain&&(B.state.activeCaipAddress=t),B.setAccountProp("caipAddress",t,e),B.setAccountProp("address",n,e)},setBalance(t,e,n){B.setAccountProp("balance",t,n),B.setAccountProp("balanceSymbol",e,n)},setProfileName(t,e){B.setAccountProp("profileName",t,e)},setProfileImage(t,e){B.setAccountProp("profileImage",t,e)},setUser(t,e){B.setAccountProp("user",t,e)},setAddressExplorerUrl(t,e){B.setAccountProp("addressExplorerUrl",t,e)},setSmartAccountDeployed(t,e){B.setAccountProp("smartAccountDeployed",t,e)},setCurrentTab(t){B.setAccountProp("currentTab",t,B.state.activeChain)},setTokenBalance(t,e){t&&B.setAccountProp("tokenBalance",t,e)},setShouldUpdateToAddress(t,e){B.setAccountProp("shouldUpdateToAddress",t,e)},addAddressLabel(t,e,n){if(!n)return;const s=B.state.chains.get(n)?.accountState?.addressLabels||new Map;s.set(t,e),B.setAccountProp("addressLabels",s,n)},removeAddressLabel(t,e){if(!e)return;const n=B.state.chains.get(e)?.accountState?.addressLabels||new Map;n.delete(t),B.setAccountProp("addressLabels",n,e)},setConnectedWalletInfo(t,e){B.setAccountProp("connectedWalletInfo",t,e,!1)},setPreferredAccountType(t,e){B.setAccountProp("preferredAccountType",t,e)},setSocialProvider(t,e){t&&B.setAccountProp("socialProvider",t,e)},setSocialWindow(t,e){B.setAccountProp("socialWindow",t?el(t):void 0,e)},setFarcasterUrl(t,e){B.setAccountProp("farcasterUrl",t,e)},async fetchTokenBalance(t){gr.balanceLoading=!0;const e=B.state.activeCaipNetwork?.caipNetworkId,n=B.state.activeCaipNetwork?.chainNamespace,s=B.state.activeCaipAddress,i=s?Oe.getPlainAddress(s):void 0;if(gr.lastRetry&&!Oe.isAllowedRetry(gr.lastRetry,30*gt.ONE_SEC_MS))return gr.balanceLoading=!1,[];try{if(i&&e&&n){const a=await fA.getMyTokensWithBalance();return De.setTokenBalance(a,n),gr.lastRetry=void 0,gr.balanceLoading=!1,a}}catch(a){gr.lastRetry=Date.now(),t?.(a),Cr.showError("Token Balance Unavailable")}finally{gr.balanceLoading=!1}return[]},resetAccount(t){B.resetAccount(t)}},De=Zs(Poe),Loe={onSwitchNetwork({network:t,ignoreSwitchConfirmation:e=!1}){const n=B.state.activeCaipNetwork,s=je.state.data;if(t.id===n?.id)return;const a=De.getCaipAddress(B.state.activeChain),c=t.chainNamespace!==B.state.activeChain,u=De.getCaipAddress(t.chainNamespace),h=be.getConnectorId(B.state.activeChain)===de.CONNECTOR_ID.AUTH,p=de.AUTH_CONNECTOR_SUPPORTED_CHAINS.find(g=>g===t.chainNamespace);e||h&&p?je.push("SwitchNetwork",{...s,network:t}):a&&c&&!u?je.push("SwitchActiveChain",{switchToChain:t.chainNamespace,navigateTo:"Connect",navigateWithReplace:!0,network:t}):je.push("SwitchNetwork",{...s,network:t})}},ws=Dt({loading:!1,loadingNamespaceMap:new Map,open:!1,shake:!1,namespace:void 0}),koe={state:ws,subscribe(t){return Pn(ws,()=>t(ws))},subscribeKey(t,e){return Qn(ws,t,e)},async open(t){const e=t?.namespace,n=B.state.activeChain,s=e&&e!==n,i=B.getAccountData(t?.namespace)?.caipAddress;if(ve.state.wcBasic?Ue.prefetch({fetchNetworkImages:!1,fetchConnectorImages:!1}):await Ue.prefetch(),be.setFilterByNamespace(t?.namespace),tt.setLoading(!0,e),e&&s){const a=B.getNetworkData(e)?.caipNetwork||B.getRequestedCaipNetworks(e)[0];a&&Loe.onSwitchNetwork({network:a,ignoreSwitchConfirmation:!0})}else{const a=B.state.noAdapters;fe.state.manualWCControl||a&&!i?Oe.isMobile()?je.reset("AllWallets"):je.reset("ConnectingWalletConnectBasic"):t?.view?je.reset(t.view,t.data):i?je.reset("Account"):je.reset("Connect")}ws.open=!0,mo.set({open:!0}),xt.sendEvent({type:"track",event:"MODAL_OPEN",properties:{connected:!!i}})},close(){const t=fe.state.enableEmbedded,e=!!B.state.activeCaipAddress;ws.open&&xt.sendEvent({type:"track",event:"MODAL_CLOSE",properties:{connected:e}}),ws.open=!1,je.reset("Connect"),tt.clearLoading(),t?e?je.replace("Account"):je.push("Connect"):mo.set({open:!1}),ve.resetUri()},setLoading(t,e){e&&ws.loadingNamespaceMap.set(e,t),ws.loading=t,mo.set({loading:t})},clearLoading(){ws.loadingNamespaceMap.clear(),ws.loading=!1,mo.set({loading:!1})},shake(){ws.shake||(ws.shake=!0,setTimeout(()=>{ws.shake=!1},500))}},tt=Zs(koe),lh={id:"2b92315d-eab7-5bef-84fa-089a131333f5",name:"USD Coin",symbol:"USDC",networks:[{name:"ethereum-mainnet",display_name:"Ethereum",chain_id:"1",contract_address:"0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48"},{name:"polygon-mainnet",display_name:"Polygon",chain_id:"137",contract_address:"0x2791Bca1f2de4661ED88A30C99A7a9449Aa84174"}]},E2={id:"USD",payment_method_limits:[{id:"card",min:"10.00",max:"7500.00"},{id:"ach_bank_account",min:"10.00",max:"25000.00"}]},Boe={providers:yM,selectedProvider:null,error:null,purchaseCurrency:lh,paymentCurrency:E2,purchaseCurrencies:[lh],paymentCurrencies:[],quotesLoading:!1},nt=Dt(Boe),joe={state:nt,subscribe(t){return Pn(nt,()=>t(nt))},subscribeKey(t,e){return Qn(nt,t,e)},setSelectedProvider(t){if(t&&t.name==="meld"){const e=B.state.activeChain,n=e===de.CHAIN.SOLANA?"SOL":"USDC",s=e?B.state.chains.get(e)?.accountState?.address??"":"",i=new URL(t.url);i.searchParams.append("publicKey",Pre),i.searchParams.append("destinationCurrencyCode",n),i.searchParams.append("walletAddress",s),i.searchParams.append("externalCustomerId",fe.state.projectId),nt.selectedProvider={...t,url:i.toString()}}else nt.selectedProvider=t},setOnrampProviders(t){if(Array.isArray(t)&&t.every(e=>typeof e=="string")){const e=t,n=yM.filter(s=>e.includes(s.name));nt.providers=n}else nt.providers=[]},setPurchaseCurrency(t){nt.purchaseCurrency=t},setPaymentCurrency(t){nt.paymentCurrency=t},setPurchaseAmount(t){A2.state.purchaseAmount=t},setPaymentAmount(t){A2.state.paymentAmount=t},async getAvailableCurrencies(){const t=await Pe.getOnrampOptions();nt.purchaseCurrencies=t.purchaseCurrencies,nt.paymentCurrencies=t.paymentCurrencies,nt.paymentCurrency=t.paymentCurrencies[0]||E2,nt.purchaseCurrency=t.purchaseCurrencies[0]||lh,await Ue.fetchCurrencyImages(t.paymentCurrencies.map(e=>e.id)),await Ue.fetchTokenImages(t.purchaseCurrencies.map(e=>e.symbol))},async getQuote(){nt.quotesLoading=!0;try{const t=await Pe.getOnrampQuote({purchaseCurrency:nt.purchaseCurrency,paymentCurrency:nt.paymentCurrency,amount:nt.paymentAmount?.toString()||"0",network:nt.purchaseCurrency?.symbol});return nt.quotesLoading=!1,nt.purchaseAmount=Number(t?.purchaseAmount.amount),t}catch(t){return nt.error=t.message,nt.quotesLoading=!1,null}finally{nt.quotesLoading=!1}},resetState(){nt.selectedProvider=null,nt.error=null,nt.purchaseCurrency=lh,nt.paymentCurrency=E2,nt.purchaseCurrencies=[lh],nt.paymentCurrencies=[],nt.paymentAmount=void 0,nt.purchaseAmount=void 0,nt.quotesLoading=!1}},A2=Zs(joe),L5=2147483648,zoe={convertEVMChainIdToCoinType(t){if(t>=L5)throw new Error("Invalid chainId");return(L5|t)>>>0}},gi=Dt({suggestions:[],loading:!1}),Hoe={state:gi,subscribe(t){return Pn(gi,()=>t(gi))},subscribeKey(t,e){return Qn(gi,t,e)},async resolveName(t){try{return await Pe.lookupEnsName(t)}catch(e){const n=e;throw new Error(n?.reasons?.[0]?.description||"Error resolving name")}},async isNameRegistered(t){try{return await Pe.lookupEnsName(t),!0}catch{return!1}},async getSuggestions(t){try{gi.loading=!0,gi.suggestions=[];const e=await Pe.getEnsNameSuggestions(t);return gi.suggestions=e.suggestions.map(n=>({...n,name:n.name}))||[],gi.suggestions}catch(e){const n=uh.parseEnsApiError(e,"Error fetching name suggestions");throw new Error(n)}finally{gi.loading=!1}},async getNamesForAddress(t){try{if(!B.state.activeCaipNetwork)return[];const n=ge.getEnsFromCacheForAddress(t);if(n)return n;const s=await Pe.reverseLookupEnsName({address:t});return ge.updateEnsCache({address:t,ens:s,timestamp:Date.now()}),s}catch(e){const n=uh.parseEnsApiError(e,"Error fetching names for address");throw new Error(n)}},async registerName(t){const e=B.state.activeCaipNetwork,n=De.state.address,s=be.getAuthConnector();if(!e)throw new Error("Network not found");if(!n||!s)throw new Error("Address or auth connector not found");gi.loading=!0;try{const i=JSON.stringify({name:t,attributes:{},timestamp:Math.floor(Date.now()/1e3)});je.pushTransactionStack({onCancel(){je.replace("RegisterAccountName")}});const a=await ve.signMessage(i);gi.loading=!1;const c=e.id;if(!c)throw new Error("Network not found");const u=zoe.convertEVMChainIdToCoinType(Number(c));await Pe.registerEnsName({coinType:u,address:n,signature:a,message:i}),De.setProfileName(t,e.chainNamespace),je.replace("RegisterAccountNameSuccess")}catch(i){const a=uh.parseEnsApiError(i,`Error registering name ${t}`);throw je.replace("RegisterAccountName"),new Error(a)}finally{gi.loading=!1}},validateName(t){return/^[a-zA-Z0-9-]{4,}$/u.test(t)},parseEnsApiError(t,e){return t?.reasons?.[0]?.description||e}},uh=Zs(Hoe);let xc=null;const Er={getSIWX(){return fe.state.siwx},async initializeIfEnabled(t=B.getActiveCaipAddress()){const e=fe.state.siwx;if(!(e&&t))return;const[n,s,i]=t.split(":");if(B.checkIfSupportedNetwork(n,`${n}:${s}`))try{if(fe.state.remoteFeatures?.emailCapture){const c=B.getAccountData(n)?.user;await tt.open({view:"DataCapture",data:{email:c?.email??void 0}});return}if(xc&&await xc,(await e.getSessions(`${n}:${s}`,i)).length)return;await tt.open({view:"SIWXSignMessage"})}catch(a){console.error("SIWXUtil:initializeIfEnabled",a),xt.sendEvent({type:"track",event:"SIWX_AUTH_ERROR",properties:this.getSIWXEventProperties()}),await ve._getClient()?.disconnect().catch(console.error),je.reset("Connect"),Cr.showError("A problem occurred while trying initialize authentication")}},async requestSignMessage(){const t=fe.state.siwx,e=Oe.getPlainAddress(B.getActiveCaipAddress()),n=O5(),s=ve._getClient();if(!t)throw new Error("SIWX is not enabled");if(!e)throw new Error("No ActiveCaipAddress found");if(!n)throw new Error("No ActiveCaipNetwork or client found");if(!s)throw new Error("No ConnectionController client found");try{const i=await t.createMessage({chainId:n.caipNetworkId,accountAddress:e}),a=i.toString();be.getConnectorId(n.chainNamespace)===de.CONNECTOR_ID.AUTH&&je.pushTransactionStack({});const u=await s.signMessage(a);await t.addSession({data:i,message:a,signature:u}),B.setLastConnectedSIWECaipNetwork(n),tt.close(),xt.sendEvent({type:"track",event:"SIWX_AUTH_SUCCESS",properties:this.getSIWXEventProperties()})}catch(i){const a=this.getSIWXEventProperties();(!tt.state.open||je.state.view==="ApproveTransaction")&&await tt.open({view:"SIWXSignMessage"}),Cr.showError("Error signing message"),xt.sendEvent({type:"track",event:"SIWX_AUTH_ERROR",properties:a}),console.error("SWIXUtil:requestSignMessage",i)}},async cancelSignMessage(){try{const t=this.getSIWX();if(t?.getRequired?.()){const n=B.getLastConnectedSIWECaipNetwork();if(n){const s=await t?.getSessions(n?.caipNetworkId,Oe.getPlainAddress(B.getActiveCaipAddress())||"");s&&s.length>0?await B.switchActiveNetwork(n):await ve.disconnect()}else await ve.disconnect()}else tt.close();tt.close(),xt.sendEvent({event:"CLICK_CANCEL_SIWX",type:"track",properties:this.getSIWXEventProperties()})}catch(t){console.error("SIWXUtil:cancelSignMessage",t)}},async getAllSessions(){const t=this.getSIWX(),e=B.getAllRequestedCaipNetworks(),n=[];return await Promise.all(e.map(async s=>{const i=await t?.getSessions(s.caipNetworkId,Oe.getPlainAddress(B.getActiveCaipAddress())||"");i&&n.push(...i)})),n},async getSessions(t){const e=fe.state.siwx;let n=t?.address;if(!n){const i=B.getActiveCaipAddress();n=Oe.getPlainAddress(i)}let s=t?.caipNetworkId;return s||(s=B.getActiveCaipNetwork()?.caipNetworkId),e&&n&&s?e.getSessions(s,n):[]},async isSIWXCloseDisabled(){const t=this.getSIWX();if(t){const e=je.state.view==="ApproveTransaction",n=je.state.view==="SIWXSignMessage";if(e||n)return t.getRequired?.()&&(await this.getSessions()).length===0}return!1},async authConnectorAuthenticate({authConnector:t,chainId:e,socialUri:n,preferredAccountType:s,chainNamespace:i}){const a=Er.getSIWX();if(!a||!i.includes(de.CHAIN.EVM)||fe.state.remoteFeatures?.emailCapture){const p=await t.connect({chainId:e,socialUri:n,preferredAccountType:s});return{address:p.address,chainId:p.chainId,accounts:p.accounts}}const c=`${i}:${e}`,u=await a.createMessage({chainId:c,accountAddress:"<<AccountAddress>>"}),f={accountAddress:u.accountAddress,chainId:u.chainId,domain:u.domain,uri:u.uri,version:u.version,nonce:u.nonce,notBefore:u.notBefore,statement:u.statement,resources:u.resources,requestId:u.requestId,issuedAt:u.issuedAt,expirationTime:u.expirationTime,serializedMessage:u.toString()},h=await t.connect({chainId:e,socialUri:n,siwxMessage:f,preferredAccountType:s});return f.accountAddress=h.address,f.serializedMessage=h.message||"",h.signature&&h.message&&await Er.addEmbeddedWalletSession(f,h.message,h.signature),{address:h.address,chainId:h.chainId,accounts:h.accounts}},async addEmbeddedWalletSession(t,e,n){if(xc)return xc;const s=Er.getSIWX();return s?(xc=s.addSession({data:t,message:e,signature:n}).finally(()=>{xc=null}),xc):Promise.resolve()},async universalProviderAuthenticate({universalProvider:t,chains:e,methods:n}){const s=Er.getSIWX(),i=new Set(e.map(u=>u.split(":")[0]));if(!s||i.size!==1||!i.has("eip155"))return!1;const a=await s.createMessage({chainId:O5()?.caipNetworkId||"",accountAddress:""}),c=await t.authenticate({nonce:a.nonce,domain:a.domain,uri:a.uri,exp:a.expirationTime,iat:a.issuedAt,nbf:a.notBefore,requestId:a.requestId,version:a.version,resources:a.resources,statement:a.statement,chainId:a.chainId,methods:n,chains:[a.chainId,...e.filter(u=>u!==a.chainId)]});if(Cr.showLoading("Authenticating...",{autoClose:!1}),De.setConnectedWalletInfo({...c.session.peer.metadata,name:c.session.peer.metadata.name,icon:c.session.peer.metadata.icons?.[0],type:"WALLET_CONNECT"},Array.from(i)[0]),c?.auths?.length){const u=c.auths.map(f=>{const h=t.client.formatAuthMessage({request:f.p,iss:f.p.iss});return{data:{...f.p,accountAddress:f.p.iss.split(":").slice(-1).join(""),chainId:f.p.iss.split(":").slice(2,4).join(":"),uri:f.p.aud,version:f.p.version||a.version,expirationTime:f.p.exp,issuedAt:f.p.iat,notBefore:f.p.nbf},message:h,signature:f.s.s,cacao:f}});try{await s.setSessions(u),xt.sendEvent({type:"track",event:"SIWX_AUTH_SUCCESS",properties:Er.getSIWXEventProperties()})}catch(f){throw console.error("SIWX:universalProviderAuth - failed to set sessions",f),xt.sendEvent({type:"track",event:"SIWX_AUTH_ERROR",properties:Er.getSIWXEventProperties()}),await t.disconnect().catch(console.error),f}finally{Cr.hide()}}return!0},getSIWXEventProperties(){const t=B.state.activeChain;if(!t)throw new Error("SIWXUtil:getSIWXEventProperties - namespace is required");return{network:B.state.activeCaipNetwork?.caipNetworkId||"",isSmartAccount:Or(t)===Wc.ACCOUNT_TYPES.SMART_ACCOUNT}},async clearSessions(){const t=this.getSIWX();t&&await t.setSessions([])}},Dc={EIP155:de.CHAIN.EVM,CONNECTOR_TYPE_WALLET_CONNECT:"WALLET_CONNECT",CONNECTOR_TYPE_INJECTED:"INJECTED",CONNECTOR_TYPE_ANNOUNCED:"ANNOUNCED"},Jh={NetworkImageIds:{1:"ba0ba0cd-17c6-4806-ad93-f9d174f17900",42161:"3bff954d-5cb0-47a0-9a23-d20192e74600",43114:"30c46e53-e989-45fb-4549-be3bd4eb3b00",56:"93564157-2e8e-4ce7-81df-b264dbee9b00",250:"06b26297-fe0c-4733-5d6b-ffa5498aac00",10:"ab9c186a-c52f-464b-2906-ca59d760a400",137:"41d04d42-da3b-4453-8506-668cc0727900",5e3:"e86fae9b-b770-4eea-e520-150e12c81100",295:"6a97d510-cac8-4e58-c7ce-e8681b044c00",11155111:"e909ea0a-f92a-4512-c8fc-748044ea6800",84532:"a18a7ecd-e307-4360-4746-283182228e00",1301:"4eeea7ef-0014-4649-5d1d-07271a80f600",130:"2257980a-3463-48c6-cbac-a42d2a956e00",10143:"0a728e83-bacb-46db-7844-948f05434900",100:"02b53f6a-e3d4-479e-1cb4-21178987d100",9001:"f926ff41-260d-4028-635e-91913fc28e00",324:"b310f07f-4ef7-49f3-7073-2a0a39685800",314:"5a73b3dd-af74-424e-cae0-0de859ee9400",4689:"34e68754-e536-40da-c153-6ef2e7188a00",1088:"3897a66d-40b9-4833-162f-a2c90531c900",1284:"161038da-44ae-4ec7-1208-0ea569454b00",1285:"f1d73bb6-5450-4e18-38f7-fb6484264a00",7777777:"845c60df-d429-4991-e687-91ae45791600",42220:"ab781bbc-ccc6-418d-d32d-789b15da1f00",8453:"7289c336-3981-4081-c5f4-efc26ac64a00",1313161554:"3ff73439-a619-4894-9262-4470c773a100",2020:"b8101fc0-9c19-4b6f-ec65-f6dfff106e00",2021:"b8101fc0-9c19-4b6f-ec65-f6dfff106e00",80094:"e329c2c9-59b0-4a02-83e4-212ff3779900",2741:"fc2427d1-5af9-4a9c-8da5-6f94627cd900","5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp":"a1b58899-f671-4276-6a5e-56ca5bd59700","4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z":"a1b58899-f671-4276-6a5e-56ca5bd59700",EtWTRABZaYq6iMfeYKouRu166VU2xqa1:"a1b58899-f671-4276-6a5e-56ca5bd59700","000000000019d6689c085ae165831e93":"0b4838db-0161-4ffe-022d-532bf03dba00","000000000933ea01ad0ee984209779ba":"39354064-d79b-420b-065d-f980c4b78200"},ConnectorImageIds:{[de.CONNECTOR_ID.COINBASE]:"0c2840c3-5b04-4c44-9661-fbd4b49e1800",[de.CONNECTOR_ID.COINBASE_SDK]:"0c2840c3-5b04-4c44-9661-fbd4b49e1800",[de.CONNECTOR_ID.SAFE]:"461db637-8616-43ce-035a-d89b8a1d5800",[de.CONNECTOR_ID.LEDGER]:"54a1aa77-d202-4f8d-0fb2-5d2bb6db0300",[de.CONNECTOR_ID.WALLET_CONNECT]:"ef1a1fcf-7fe8-4d69-bd6d-fda1345b4400",[de.CONNECTOR_ID.INJECTED]:"07ba87ed-43aa-4adf-4540-9e6a2b9cae00"},ConnectorNamesMap:{[de.CONNECTOR_ID.INJECTED]:"Browser Wallet",[de.CONNECTOR_ID.WALLET_CONNECT]:"WalletConnect",[de.CONNECTOR_ID.COINBASE]:"Coinbase",[de.CONNECTOR_ID.COINBASE_SDK]:"Coinbase",[de.CONNECTOR_ID.LEDGER]:"Ledger",[de.CONNECTOR_ID.SAFE]:"Safe"}},Gs={getCaipTokens(t){if(!t)return;const e={};return Object.entries(t).forEach(([n,s])=>{e[`${Dc.EIP155}:${n}`]=s}),e},isLowerCaseMatch(t,e){return t?.toLowerCase()===e?.toLowerCase()},getActiveNamespaceConnectedToAuth(){const t=B.state.activeChain;return de.AUTH_CONNECTOR_SUPPORTED_CHAINS.find(e=>be.getConnectorId(e)===de.CONNECTOR_ID.AUTH&&e===t)},withRetry({conditionFn:t,intervalMs:e,maxRetries:n}){let s=0;return new Promise(i=>{async function a(){return s+=1,await t()?i(!0):s>=n?i(!1):(setTimeout(a,e),null)}a()})}},Foe=new AbortController,mi={EmbeddedWalletAbortController:Foe,UniversalProviderErrors:{UNAUTHORIZED_DOMAIN_NOT_ALLOWED:{message:"Unauthorized: origin not allowed",alertErrorKey:"ORIGIN_NOT_ALLOWED"},JWT_VALIDATION_ERROR:{message:"JWT validation error: JWT Token is not yet valid",alertErrorKey:"JWT_TOKEN_NOT_VALID"},INVALID_KEY:{message:"Unauthorized: invalid key",alertErrorKey:"INVALID_PROJECT_ID"}},ALERT_ERRORS:{SWITCH_NETWORK_NOT_FOUND:{code:"APKT001",displayMessage:"Network Not Found",debugMessage:"The specified network is not recognized. Please ensure it is included in the `networks` array of your `createAppKit` configuration."},ORIGIN_NOT_ALLOWED:{code:"APKT002",displayMessage:"Invalid App Configuration",debugMessage:()=>`The origin ${Lu()?window.origin:"unknown"} is not in your allow list. Please update your allowed domains at https://dashboard.reown.com.`},IFRAME_LOAD_FAILED:{code:"APKT003",displayMessage:"Network Error: Wallet Load Failed",debugMessage:()=>"Failed to load the embedded wallet. This may be due to network issues or server downtime. Please check your network connection and try again shortly. Contact support if the issue persists."},IFRAME_REQUEST_TIMEOUT:{code:"APKT004",displayMessage:"Wallet Request Timeout",debugMessage:()=>"The request to the embedded wallet timed out. Please check your network connection and try again shortly. Contact support if the issue persists."},UNVERIFIED_DOMAIN:{code:"APKT005",displayMessage:"Unverified Domain",debugMessage:()=>"Embedded wallet load failed. Ensure your domain is verified in https://dashboard.reown.com."},JWT_TOKEN_NOT_VALID:{code:"APKT006",displayMessage:"Session Expired",debugMessage:"Your session is invalid or expired. Please check your system’s date and time settings, then reconnect."},INVALID_PROJECT_ID:{code:"APKT007",displayMessage:"Invalid Project ID",debugMessage:"The specified project ID is invalid. Please visit https://dashboard.reown.com to obtain a valid project ID."},PROJECT_ID_NOT_CONFIGURED:{code:"APKT008",displayMessage:"Project ID Missing",debugMessage:"No project ID is configured. You can create and configure a project ID at https://dashboard.reown.com."},SERVER_ERROR_APP_CONFIGURATION:{code:"APKT009",displayMessage:"Server Error",debugMessage:t=>`Unable to fetch App Configuration. ${t}. Please check your network connection and try again shortly. Contact support if the issue persists.`},RATE_LIMITED_APP_CONFIGURATION:{code:"APKT010",displayMessage:"Rate Limited",debugMessage:"You have been rate limited while retrieving App Configuration. Please wait a few minutes and try again. Contact support if the issue persists."}},ALERT_WARNINGS:{LOCAL_CONFIGURATION_IGNORED:{debugMessage:t=>`[Reown Config Notice] ${t}`}}},qoe={createLogger(t,e="error"){const n=hp({level:e}),{logger:s}=O6({opts:n});return s.error=(...i)=>{for(const a of i)if(a instanceof Error){t(a,...i);return}t(void 0,...i)},s}},Voe="rpc.walletconnect.org";function k5(t,e){const n=new URL("https://rpc.walletconnect.org/v1/");return n.searchParams.set("chainId",t),n.searchParams.set("projectId",e),n.toString()}const zb=["near:mainnet","solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp","eip155:1101","eip155:56","eip155:42161","eip155:7777777","eip155:59144","eip155:324","solana:EtWTRABZaYq6iMfeYKouRu166VU2xqa1","eip155:5000","solana:4sgjmw1sunhzsxgspuhpqldx6wiyjntz","eip155:80084","eip155:5003","eip155:100","eip155:8453","eip155:42220","eip155:1313161555","eip155:17000","eip155:1","eip155:300","eip155:1313161554","eip155:1329","eip155:84532","eip155:421614","eip155:11155111","eip155:8217","eip155:43114","solana:4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z","eip155:999999999","eip155:11155420","eip155:80002","eip155:97","eip155:43113","eip155:137","eip155:10","eip155:1301","bip122:000000000019d6689c085ae165831e93","bip122:000000000933ea01ad0ee984209779ba"],Nu={extendRpcUrlWithProjectId(t,e){let n=!1;try{n=new URL(t).host===Voe}catch{n=!1}if(n){const s=new URL(t);return s.searchParams.has("projectId")||s.searchParams.set("projectId",e),s.toString()}return t},isCaipNetwork(t){return"chainNamespace"in t&&"caipNetworkId"in t},getChainNamespace(t){return this.isCaipNetwork(t)?t.chainNamespace:de.CHAIN.EVM},getCaipNetworkId(t){return this.isCaipNetwork(t)?t.caipNetworkId:`${de.CHAIN.EVM}:${t.id}`},getDefaultRpcUrl(t,e,n){const s=t.rpcUrls?.default?.http?.[0];return zb.includes(e)?k5(e,n):s||""},extendCaipNetwork(t,{customNetworkImageUrls:e,projectId:n,customRpcUrls:s}){const i=this.getChainNamespace(t),a=this.getCaipNetworkId(t),c=t.rpcUrls?.default?.http?.[0],u=this.getDefaultRpcUrl(t,a,n),f=t?.rpcUrls?.chainDefault?.http?.[0]||c,h=s?.[a]?.map(y=>y.url)||[],p=[...h,...u?[u]:[]],g=[...h];return f&&!g.includes(f)&&g.push(f),{...t,chainNamespace:i,caipNetworkId:a,assets:{imageId:Jh.NetworkImageIds[t.id],imageUrl:e?.[t.id]},rpcUrls:{...t.rpcUrls,default:{http:p},chainDefault:{http:g}}}},extendCaipNetworks(t,{customNetworkImageUrls:e,projectId:n,customRpcUrls:s}){return t.map(i=>Nu.extendCaipNetwork(i,{customNetworkImageUrls:e,customRpcUrls:s,projectId:n}))},getViemTransport(t,e,n){const s=[];return n?.forEach(i=>{s.push(S0(i.url,i.config))}),zb.includes(t.caipNetworkId)&&s.push(S0(k5(t.caipNetworkId,e),{fetchOptions:{headers:{"Content-Type":"text/plain"}}})),t?.rpcUrls?.default?.http?.forEach(i=>{s.push(S0(i))}),P5(s)},extendWagmiTransports(t,e,n){if(zb.includes(t.caipNetworkId)){const s=this.getDefaultRpcUrl(t,t.caipNetworkId,e);return P5([n,S0(s)])}return n},getUnsupportedNetwork(t){return{id:t.split(":")[1],caipNetworkId:t,name:de.UNSUPPORTED_NETWORK_NAME,chainNamespace:t.split(":")[0],nativeCurrency:{name:"",decimals:0,symbol:""},rpcUrls:{default:{http:[]}}}},getCaipNetworkFromStorage(t){const e=ge.getActiveCaipNetworkId(),n=B.getAllRequestedCaipNetworks(),s=Array.from(B.state.chains?.keys()||[]),i=e?.split(":")[0],a=i?s.includes(i):!1,c=n?.find(f=>f.caipNetworkId===e);return a&&!c&&e?this.getUnsupportedNetwork(e):c||t||n?.[0]}},vm={eip155:void 0,solana:void 0,polkadot:void 0,bip122:void 0,cosmos:void 0,sui:void 0,stacks:void 0},bs=Dt({providers:{...vm},providerIds:{...vm}}),Gt={state:bs,subscribeKey(t,e){return Qn(bs,t,e)},subscribe(t){return Pn(bs,()=>{t(bs)})},subscribeProviders(t){return Pn(bs.providers,()=>t(bs.providers))},setProvider(t,e){t&&e&&(bs.providers[t]=el(e))},getProvider(t){if(t)return bs.providers[t]},setProviderId(t,e){e&&(bs.providerIds[t]=e)},getProviderId(t){if(t)return bs.providerIds[t]},reset(){bs.providers={...vm},bs.providerIds={...vm}},resetChain(t){bs.providers[t]=void 0,bs.providerIds[t]=void 0}},Woe={VIEW_DIRECTION:{Next:"next",Prev:"prev"},DEFAULT_CONNECT_METHOD_ORDER:["email","social","wallet"],ANIMATION_DURATIONS:{HeaderText:120,ModalHeight:150,ViewTransition:150}},C2={filterOutDuplicatesByRDNS(t){const e=fe.state.enableEIP6963?be.state.connectors:[],n=ge.getRecentWallets(),s=e.map(u=>u.info?.rdns).filter(Boolean),i=n.map(u=>u.rdns).filter(Boolean),a=s.concat(i);if(a.includes("io.metamask.mobile")&&Oe.isMobile()){const u=a.indexOf("io.metamask.mobile");a[u]="io.metamask"}return t.filter(u=>!(u?.rdns&&a.includes(String(u.rdns))||!u?.rdns&&e.some(h=>h.name===u.name)))},filterOutDuplicatesByIds(t){const e=be.state.connectors.filter(u=>u.type==="ANNOUNCED"||u.type==="INJECTED"),n=ge.getRecentWallets(),s=e.map(u=>u.explorerId),i=n.map(u=>u.id),a=s.concat(i);return t.filter(u=>!a.includes(u?.id))},filterOutDuplicateWallets(t){const e=this.filterOutDuplicatesByRDNS(t);return this.filterOutDuplicatesByIds(e)},markWalletsAsInstalled(t){const{connectors:e}=be.state,{featuredWalletIds:n}=fe.state,s=e.filter(c=>c.type==="ANNOUNCED").reduce((c,u)=>(u.info?.rdns&&(c[u.info.rdns]=!0),c),{});return t.map(c=>({...c,installed:!!c.rdns&&!!s[c.rdns??""]})).sort((c,u)=>{const f=Number(u.installed)-Number(c.installed);if(f!==0)return f;if(n?.length){const h=n.indexOf(c.id),p=n.indexOf(u.id);if(h!==-1&&p!==-1)return h-p;if(h!==-1)return-1;if(p!==-1)return 1}return 0})},getConnectOrderMethod(t,e){const n=t?.connectMethodsOrder||fe.state.features?.connectMethodsOrder,s=e||be.state.connectors;if(n)return n;const{injected:i,announced:a}=z0.getConnectorsByType(s,Ue.state.recommended,Ue.state.featured),c=i.filter(z0.showConnector),u=a.filter(z0.showConnector);return c.length||u.length?["wallet","email","social"]:Woe.DEFAULT_CONNECT_METHOD_ORDER},isExcluded(t){const e=!!t.rdns&&Ue.state.excludedWallets.some(s=>s.rdns===t.rdns),n=!!t.name&&Ue.state.excludedWallets.some(s=>Gs.isLowerCaseMatch(s.name,t.name));return e||n},markWalletsWithDisplayIndex(t){return t.map((e,n)=>({...e,display_index:n}))}},z0={getConnectorsByType(t,e,n){const{customWallets:s}=fe.state,i=ge.getRecentWallets(),a=C2.filterOutDuplicateWallets(e),c=C2.filterOutDuplicateWallets(n),u=t.filter(g=>g.type==="MULTI_CHAIN"),f=t.filter(g=>g.type==="ANNOUNCED"),h=t.filter(g=>g.type==="INJECTED"),p=t.filter(g=>g.type==="EXTERNAL");return{custom:s,recent:i,external:p,multiChain:u,announced:f,injected:h,recommended:a,featured:c}},showConnector(t){const e=t.info?.rdns,n=!!e&&Ue.state.excludedWallets.some(i=>!!i.rdns&&i.rdns===e),s=!!t.name&&Ue.state.excludedWallets.some(i=>Gs.isLowerCaseMatch(i.name,t.name));return!(t.type==="INJECTED"&&(t.name==="Browser Wallet"&&(!Oe.isMobile()||Oe.isMobile()&&!e&&!ve.checkInstalled())||n||s)||(t.type==="ANNOUNCED"||t.type==="EXTERNAL")&&(n||s))},getIsConnectedWithWC(){return Array.from(B.state.chains.values()).some(n=>be.getConnectorId(n.namespace)===de.CONNECTOR_ID.WALLET_CONNECT)},getConnectorTypeOrder({recommended:t,featured:e,custom:n,recent:s,announced:i,injected:a,multiChain:c,external:u,overriddenConnectors:f=fe.state.features?.connectorTypeOrder??[]}){const g=[{type:"walletConnect",isEnabled:fe.state.enableWalletConnect},{type:"recent",isEnabled:s.length>0},{type:"injected",isEnabled:[...a,...i,...c].length>0},{type:"featured",isEnabled:e.length>0},{type:"custom",isEnabled:n&&n.length>0},{type:"external",isEnabled:u.length>0},{type:"recommended",isEnabled:t.length>0}].filter(E=>E.isEnabled),y=new Set(g.map(E=>E.type)),b=f.filter(E=>y.has(E)).map(E=>({type:E,isEnabled:!0})),v=g.filter(({type:E})=>!b.some(({type:x})=>x===E));return Array.from(new Set([...b,...v].map(({type:E})=>E)))},getAuthName({email:t,socialUsername:e,socialProvider:n}){return e?n&&n==="discord"&&e.endsWith("0")?e.slice(0,-1):e:t.length>30?`${t.slice(0,-3)}...`:t},async fetchProviderData(t){try{if(t.name==="Browser Wallet"&&!Oe.isMobile())return{accounts:[],chainId:void 0};if(t.id===de.CONNECTOR_ID.AUTH)return{accounts:[],chainId:void 0};const[e,n]=await Promise.all([t.provider?.request({method:"eth_accounts"}),t.provider?.request({method:"eth_chainId"}).then(s=>Number(s))]);return{accounts:e,chainId:n}}catch(e){return console.warn(`Failed to fetch provider data for ${t.name}`,e),{accounts:[],chainId:void 0}}}};/**
 * @license
 * Copyright 2019 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const H0=globalThis,dA=H0.ShadowRoot&&(H0.ShadyCSS===void 0||H0.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,hA=Symbol(),B5=new WeakMap;let OM=class{constructor(e,n,s){if(this._$cssResult$=!0,s!==hA)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=e,this.t=n}get styleSheet(){let e=this.o;const n=this.t;if(dA&&e===void 0){const s=n!==void 0&&n.length===1;s&&(e=B5.get(n)),e===void 0&&((this.o=e=new CSSStyleSheet).replaceSync(this.cssText),s&&B5.set(n,e))}return e}toString(){return this.cssText}};const yi=t=>new OM(typeof t=="string"?t:t+"",void 0,hA),Hu=(t,...e)=>{const n=t.length===1?t[0]:e.reduce(((s,i,a)=>s+(c=>{if(c._$cssResult$===!0)return c.cssText;if(typeof c=="number")return c;throw Error("Value passed to 'css' function must be a 'css' function result: "+c+". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.")})(i)+t[a+1]),t[0]);return new OM(n,t,hA)},Koe=(t,e)=>{if(dA)t.adoptedStyleSheets=e.map((n=>n instanceof CSSStyleSheet?n:n.styleSheet));else for(const n of e){const s=document.createElement("style"),i=H0.litNonce;i!==void 0&&s.setAttribute("nonce",i),s.textContent=n.cssText,t.appendChild(s)}},j5=dA?t=>t:t=>t instanceof CSSStyleSheet?(e=>{let n="";for(const s of e.cssRules)n+=s.cssText;return yi(n)})(t):t;/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const{is:Goe,defineProperty:Yoe,getOwnPropertyDescriptor:Xoe,getOwnPropertyNames:Qoe,getOwnPropertySymbols:Zoe,getPrototypeOf:Joe}=Object,Qm=globalThis,z5=Qm.trustedTypes,eae=z5?z5.emptyScript:"",tae=Qm.reactiveElementPolyfillSupport,fh=(t,e)=>t,S2={toAttribute(t,e){switch(e){case Boolean:t=t?eae:null;break;case Object:case Array:t=t==null?t:JSON.stringify(t)}return t},fromAttribute(t,e){let n=t;switch(e){case Boolean:n=t!==null;break;case Number:n=t===null?null:Number(t);break;case Object:case Array:try{n=JSON.parse(t)}catch{n=null}}return n}},MM=(t,e)=>!Goe(t,e),H5={attribute:!0,type:String,converter:S2,reflect:!1,useDefault:!1,hasChanged:MM};Symbol.metadata??=Symbol("metadata"),Qm.litPropertyMetadata??=new WeakMap;let Tu=class extends HTMLElement{static addInitializer(e){this._$Ei(),(this.l??=[]).push(e)}static get observedAttributes(){return this.finalize(),this._$Eh&&[...this._$Eh.keys()]}static createProperty(e,n=H5){if(n.state&&(n.attribute=!1),this._$Ei(),this.prototype.hasOwnProperty(e)&&((n=Object.create(n)).wrapped=!0),this.elementProperties.set(e,n),!n.noAccessor){const s=Symbol(),i=this.getPropertyDescriptor(e,s,n);i!==void 0&&Yoe(this.prototype,e,i)}}static getPropertyDescriptor(e,n,s){const{get:i,set:a}=Xoe(this.prototype,e)??{get(){return this[n]},set(c){this[n]=c}};return{get:i,set(c){const u=i?.call(this);a?.call(this,c),this.requestUpdate(e,u,s)},configurable:!0,enumerable:!0}}static getPropertyOptions(e){return this.elementProperties.get(e)??H5}static _$Ei(){if(this.hasOwnProperty(fh("elementProperties")))return;const e=Joe(this);e.finalize(),e.l!==void 0&&(this.l=[...e.l]),this.elementProperties=new Map(e.elementProperties)}static finalize(){if(this.hasOwnProperty(fh("finalized")))return;if(this.finalized=!0,this._$Ei(),this.hasOwnProperty(fh("properties"))){const n=this.properties,s=[...Qoe(n),...Zoe(n)];for(const i of s)this.createProperty(i,n[i])}const e=this[Symbol.metadata];if(e!==null){const n=litPropertyMetadata.get(e);if(n!==void 0)for(const[s,i]of n)this.elementProperties.set(s,i)}this._$Eh=new Map;for(const[n,s]of this.elementProperties){const i=this._$Eu(n,s);i!==void 0&&this._$Eh.set(i,n)}this.elementStyles=this.finalizeStyles(this.styles)}static finalizeStyles(e){const n=[];if(Array.isArray(e)){const s=new Set(e.flat(1/0).reverse());for(const i of s)n.unshift(j5(i))}else e!==void 0&&n.push(j5(e));return n}static _$Eu(e,n){const s=n.attribute;return s===!1?void 0:typeof s=="string"?s:typeof e=="string"?e.toLowerCase():void 0}constructor(){super(),this._$Ep=void 0,this.isUpdatePending=!1,this.hasUpdated=!1,this._$Em=null,this._$Ev()}_$Ev(){this._$ES=new Promise((e=>this.enableUpdating=e)),this._$AL=new Map,this._$E_(),this.requestUpdate(),this.constructor.l?.forEach((e=>e(this)))}addController(e){(this._$EO??=new Set).add(e),this.renderRoot!==void 0&&this.isConnected&&e.hostConnected?.()}removeController(e){this._$EO?.delete(e)}_$E_(){const e=new Map,n=this.constructor.elementProperties;for(const s of n.keys())this.hasOwnProperty(s)&&(e.set(s,this[s]),delete this[s]);e.size>0&&(this._$Ep=e)}createRenderRoot(){const e=this.shadowRoot??this.attachShadow(this.constructor.shadowRootOptions);return Koe(e,this.constructor.elementStyles),e}connectedCallback(){this.renderRoot??=this.createRenderRoot(),this.enableUpdating(!0),this._$EO?.forEach((e=>e.hostConnected?.()))}enableUpdating(e){}disconnectedCallback(){this._$EO?.forEach((e=>e.hostDisconnected?.()))}attributeChangedCallback(e,n,s){this._$AK(e,s)}_$ET(e,n){const s=this.constructor.elementProperties.get(e),i=this.constructor._$Eu(e,s);if(i!==void 0&&s.reflect===!0){const a=(s.converter?.toAttribute!==void 0?s.converter:S2).toAttribute(n,s.type);this._$Em=e,a==null?this.removeAttribute(i):this.setAttribute(i,a),this._$Em=null}}_$AK(e,n){const s=this.constructor,i=s._$Eh.get(e);if(i!==void 0&&this._$Em!==i){const a=s.getPropertyOptions(i),c=typeof a.converter=="function"?{fromAttribute:a.converter}:a.converter?.fromAttribute!==void 0?a.converter:S2;this._$Em=i;const u=c.fromAttribute(n,a.type);this[i]=u??this._$Ej?.get(i)??u,this._$Em=null}}requestUpdate(e,n,s){if(e!==void 0){const i=this.constructor,a=this[e];if(s??=i.getPropertyOptions(e),!((s.hasChanged??MM)(a,n)||s.useDefault&&s.reflect&&a===this._$Ej?.get(e)&&!this.hasAttribute(i._$Eu(e,s))))return;this.C(e,n,s)}this.isUpdatePending===!1&&(this._$ES=this._$EP())}C(e,n,{useDefault:s,reflect:i,wrapped:a},c){s&&!(this._$Ej??=new Map).has(e)&&(this._$Ej.set(e,c??n??this[e]),a!==!0||c!==void 0)||(this._$AL.has(e)||(this.hasUpdated||s||(n=void 0),this._$AL.set(e,n)),i===!0&&this._$Em!==e&&(this._$Eq??=new Set).add(e))}async _$EP(){this.isUpdatePending=!0;try{await this._$ES}catch(n){Promise.reject(n)}const e=this.scheduleUpdate();return e!=null&&await e,!this.isUpdatePending}scheduleUpdate(){return this.performUpdate()}performUpdate(){if(!this.isUpdatePending)return;if(!this.hasUpdated){if(this.renderRoot??=this.createRenderRoot(),this._$Ep){for(const[i,a]of this._$Ep)this[i]=a;this._$Ep=void 0}const s=this.constructor.elementProperties;if(s.size>0)for(const[i,a]of s){const{wrapped:c}=a,u=this[i];c!==!0||this._$AL.has(i)||u===void 0||this.C(i,void 0,a,u)}}let e=!1;const n=this._$AL;try{e=this.shouldUpdate(n),e?(this.willUpdate(n),this._$EO?.forEach((s=>s.hostUpdate?.())),this.update(n)):this._$EM()}catch(s){throw e=!1,this._$EM(),s}e&&this._$AE(n)}willUpdate(e){}_$AE(e){this._$EO?.forEach((n=>n.hostUpdated?.())),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(e)),this.updated(e)}_$EM(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$ES}shouldUpdate(e){return!0}update(e){this._$Eq&&=this._$Eq.forEach((n=>this._$ET(n,this[n]))),this._$EM()}updated(e){}firstUpdated(e){}};Tu.elementStyles=[],Tu.shadowRootOptions={mode:"open"},Tu[fh("elementProperties")]=new Map,Tu[fh("finalized")]=new Map,tae?.({ReactiveElement:Tu}),(Qm.reactiveElementVersions??=[]).push("2.1.1");/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const pA=globalThis,Em=pA.trustedTypes,F5=Em?Em.createPolicy("lit-html",{createHTML:t=>t}):void 0,RM="$lit$",Ta=`lit$${Math.random().toFixed(9).slice(2)}$`,$M="?"+Ta,nae=`<${$M}>`,tl=document,ep=()=>tl.createComment(""),tp=t=>t===null||typeof t!="object"&&typeof t!="function",gA=Array.isArray,sae=t=>gA(t)||typeof t?.[Symbol.iterator]=="function",Hb=`[ 	
\f\r]`,Ld=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,q5=/-->/g,V5=/>/g,Nc=RegExp(`>|${Hb}(?:([^\\s"'>=/]+)(${Hb}*=${Hb}*(?:[^ 	
\f\r"'\`<>=]|("|')|))|$)`,"g"),W5=/'/g,K5=/"/g,UM=/^(?:script|style|textarea|title)$/i,PM=t=>(e,...n)=>({_$litType$:t,strings:e,values:n}),Mle=PM(1),Rle=PM(2),Ju=Symbol.for("lit-noChange"),En=Symbol.for("lit-nothing"),G5=new WeakMap,Hc=tl.createTreeWalker(tl,129);function LM(t,e){if(!gA(t)||!t.hasOwnProperty("raw"))throw Error("invalid template strings array");return F5!==void 0?F5.createHTML(e):e}const iae=(t,e)=>{const n=t.length-1,s=[];let i,a=e===2?"<svg>":e===3?"<math>":"",c=Ld;for(let u=0;u<n;u++){const f=t[u];let h,p,g=-1,y=0;for(;y<f.length&&(c.lastIndex=y,p=c.exec(f),p!==null);)y=c.lastIndex,c===Ld?p[1]==="!--"?c=q5:p[1]!==void 0?c=V5:p[2]!==void 0?(UM.test(p[2])&&(i=RegExp("</"+p[2],"g")),c=Nc):p[3]!==void 0&&(c=Nc):c===Nc?p[0]===">"?(c=i??Ld,g=-1):p[1]===void 0?g=-2:(g=c.lastIndex-p[2].length,h=p[1],c=p[3]===void 0?Nc:p[3]==='"'?K5:W5):c===K5||c===W5?c=Nc:c===q5||c===V5?c=Ld:(c=Nc,i=void 0);const b=c===Nc&&t[u+1].startsWith("/>")?" ":"";a+=c===Ld?f+nae:g>=0?(s.push(h),f.slice(0,g)+RM+f.slice(g)+Ta+b):f+Ta+(g===-2?u:b)}return[LM(t,a+(t[n]||"<?>")+(e===2?"</svg>":e===3?"</math>":"")),s]};let x2=class kM{constructor({strings:e,_$litType$:n},s){let i;this.parts=[];let a=0,c=0;const u=e.length-1,f=this.parts,[h,p]=iae(e,n);if(this.el=kM.createElement(h,s),Hc.currentNode=this.el.content,n===2||n===3){const g=this.el.content.firstChild;g.replaceWith(...g.childNodes)}for(;(i=Hc.nextNode())!==null&&f.length<u;){if(i.nodeType===1){if(i.hasAttributes())for(const g of i.getAttributeNames())if(g.endsWith(RM)){const y=p[c++],b=i.getAttribute(g).split(Ta),v=/([.?@])?(.*)/.exec(y);f.push({type:1,index:a,name:v[2],strings:b,ctor:v[1]==="."?oae:v[1]==="?"?aae:v[1]==="@"?cae:Zm}),i.removeAttribute(g)}else g.startsWith(Ta)&&(f.push({type:6,index:a}),i.removeAttribute(g));if(UM.test(i.tagName)){const g=i.textContent.split(Ta),y=g.length-1;if(y>0){i.textContent=Em?Em.emptyScript:"";for(let b=0;b<y;b++)i.append(g[b],ep()),Hc.nextNode(),f.push({type:2,index:++a});i.append(g[y],ep())}}}else if(i.nodeType===8)if(i.data===$M)f.push({type:2,index:a});else{let g=-1;for(;(g=i.data.indexOf(Ta,g+1))!==-1;)f.push({type:7,index:a}),g+=Ta.length-1}a++}}static createElement(e,n){const s=tl.createElement("template");return s.innerHTML=e,s}};function ef(t,e,n=t,s){if(e===Ju)return e;let i=s!==void 0?n._$Co?.[s]:n._$Cl;const a=tp(e)?void 0:e._$litDirective$;return i?.constructor!==a&&(i?._$AO?.(!1),a===void 0?i=void 0:(i=new a(t),i._$AT(t,n,s)),s!==void 0?(n._$Co??=[])[s]=i:n._$Cl=i),i!==void 0&&(e=ef(t,i._$AS(t,e.values),i,s)),e}class rae{constructor(e,n){this._$AV=[],this._$AN=void 0,this._$AD=e,this._$AM=n}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(e){const{el:{content:n},parts:s}=this._$AD,i=(e?.creationScope??tl).importNode(n,!0);Hc.currentNode=i;let a=Hc.nextNode(),c=0,u=0,f=s[0];for(;f!==void 0;){if(c===f.index){let h;f.type===2?h=new mA(a,a.nextSibling,this,e):f.type===1?h=new f.ctor(a,f.name,f.strings,this,e):f.type===6&&(h=new lae(a,this,e)),this._$AV.push(h),f=s[++u]}c!==f?.index&&(a=Hc.nextNode(),c++)}return Hc.currentNode=tl,i}p(e){let n=0;for(const s of this._$AV)s!==void 0&&(s.strings!==void 0?(s._$AI(e,s,n),n+=s.strings.length-2):s._$AI(e[n])),n++}}let mA=class BM{get _$AU(){return this._$AM?._$AU??this._$Cv}constructor(e,n,s,i){this.type=2,this._$AH=En,this._$AN=void 0,this._$AA=e,this._$AB=n,this._$AM=s,this.options=i,this._$Cv=i?.isConnected??!0}get parentNode(){let e=this._$AA.parentNode;const n=this._$AM;return n!==void 0&&e?.nodeType===11&&(e=n.parentNode),e}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(e,n=this){e=ef(this,e,n),tp(e)?e===En||e==null||e===""?(this._$AH!==En&&this._$AR(),this._$AH=En):e!==this._$AH&&e!==Ju&&this._(e):e._$litType$!==void 0?this.$(e):e.nodeType!==void 0?this.T(e):sae(e)?this.k(e):this._(e)}O(e){return this._$AA.parentNode.insertBefore(e,this._$AB)}T(e){this._$AH!==e&&(this._$AR(),this._$AH=this.O(e))}_(e){this._$AH!==En&&tp(this._$AH)?this._$AA.nextSibling.data=e:this.T(tl.createTextNode(e)),this._$AH=e}$(e){const{values:n,_$litType$:s}=e,i=typeof s=="number"?this._$AC(e):(s.el===void 0&&(s.el=x2.createElement(LM(s.h,s.h[0]),this.options)),s);if(this._$AH?._$AD===i)this._$AH.p(n);else{const a=new rae(i,this),c=a.u(this.options);a.p(n),this.T(c),this._$AH=a}}_$AC(e){let n=G5.get(e.strings);return n===void 0&&G5.set(e.strings,n=new x2(e)),n}k(e){gA(this._$AH)||(this._$AH=[],this._$AR());const n=this._$AH;let s,i=0;for(const a of e)i===n.length?n.push(s=new BM(this.O(ep()),this.O(ep()),this,this.options)):s=n[i],s._$AI(a),i++;i<n.length&&(this._$AR(s&&s._$AB.nextSibling,i),n.length=i)}_$AR(e=this._$AA.nextSibling,n){for(this._$AP?.(!1,!0,n);e!==this._$AB;){const s=e.nextSibling;e.remove(),e=s}}setConnected(e){this._$AM===void 0&&(this._$Cv=e,this._$AP?.(e))}};class Zm{get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}constructor(e,n,s,i,a){this.type=1,this._$AH=En,this._$AN=void 0,this.element=e,this.name=n,this._$AM=i,this.options=a,s.length>2||s[0]!==""||s[1]!==""?(this._$AH=Array(s.length-1).fill(new String),this.strings=s):this._$AH=En}_$AI(e,n=this,s,i){const a=this.strings;let c=!1;if(a===void 0)e=ef(this,e,n,0),c=!tp(e)||e!==this._$AH&&e!==Ju,c&&(this._$AH=e);else{const u=e;let f,h;for(e=a[0],f=0;f<a.length-1;f++)h=ef(this,u[s+f],n,f),h===Ju&&(h=this._$AH[f]),c||=!tp(h)||h!==this._$AH[f],h===En?e=En:e!==En&&(e+=(h??"")+a[f+1]),this._$AH[f]=h}c&&!i&&this.j(e)}j(e){e===En?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,e??"")}}class oae extends Zm{constructor(){super(...arguments),this.type=3}j(e){this.element[this.name]=e===En?void 0:e}}class aae extends Zm{constructor(){super(...arguments),this.type=4}j(e){this.element.toggleAttribute(this.name,!!e&&e!==En)}}class cae extends Zm{constructor(e,n,s,i,a){super(e,n,s,i,a),this.type=5}_$AI(e,n=this){if((e=ef(this,e,n,0)??En)===Ju)return;const s=this._$AH,i=e===En&&s!==En||e.capture!==s.capture||e.once!==s.once||e.passive!==s.passive,a=e!==En&&(s===En||i);i&&this.element.removeEventListener(this.name,this,s),a&&this.element.addEventListener(this.name,this,e),this._$AH=e}handleEvent(e){typeof this._$AH=="function"?this._$AH.call(this.options?.host??this.element,e):this._$AH.handleEvent(e)}}class lae{constructor(e,n,s){this.element=e,this.type=6,this._$AN=void 0,this._$AM=n,this.options=s}get _$AU(){return this._$AM._$AU}_$AI(e){ef(this,e)}}const uae=pA.litHtmlPolyfillSupport;uae?.(x2,mA),(pA.litHtmlVersions??=[]).push("3.3.1");const fae=(t,e,n)=>{const s=n?.renderBefore??e;let i=s._$litPart$;if(i===void 0){const a=n?.renderBefore??null;s._$litPart$=i=new mA(e.insertBefore(ep(),a),a,void 0,n??{})}return i._$AI(t),i};/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const yA=globalThis;class F0 extends Tu{constructor(){super(...arguments),this.renderOptions={host:this},this._$Do=void 0}createRenderRoot(){const e=super.createRenderRoot();return this.renderOptions.renderBefore??=e.firstChild,e}update(e){const n=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(e),this._$Do=fae(n,this.renderRoot,this.renderOptions)}connectedCallback(){super.connectedCallback(),this._$Do?.setConnected(!0)}disconnectedCallback(){super.disconnectedCallback(),this._$Do?.setConnected(!1)}render(){return Ju}}F0._$litElement$=!0,F0.finalized=!0,yA.litElementHydrateSupport?.({LitElement:F0});const dae=yA.litElementPolyfillSupport;dae?.({LitElement:F0});(yA.litElementVersions??=[]).push("4.2.1");let dh,$a,Ua;function $le(t,e){dh=document.createElement("style"),$a=document.createElement("style"),Ua=document.createElement("style"),dh.textContent=Fu(t).core.cssText,$a.textContent=Fu(t).dark.cssText,Ua.textContent=Fu(t).light.cssText,document.head.appendChild(dh),document.head.appendChild($a),document.head.appendChild(Ua),jM(e)}function jM(t){$a&&Ua&&(t==="light"?($a.removeAttribute("media"),Ua.media="enabled"):(Ua.removeAttribute("media"),$a.media="enabled"))}function hae(t){dh&&$a&&Ua&&(dh.textContent=Fu(t).core.cssText,$a.textContent=Fu(t).dark.cssText,Ua.textContent=Fu(t).light.cssText)}function Fu(t){return{core:Hu`
      @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap');
      @keyframes w3m-shake {
        0% {
          transform: scale(1) rotate(0deg);
        }
        20% {
          transform: scale(1) rotate(-1deg);
        }
        40% {
          transform: scale(1) rotate(1.5deg);
        }
        60% {
          transform: scale(1) rotate(-1.5deg);
        }
        80% {
          transform: scale(1) rotate(1deg);
        }
        100% {
          transform: scale(1) rotate(0deg);
        }
      }
      @keyframes w3m-iframe-fade-out {
        0% {
          opacity: 1;
        }
        100% {
          opacity: 0;
        }
      }
      @keyframes w3m-iframe-zoom-in {
        0% {
          transform: translateY(50px);
          opacity: 0;
        }
        100% {
          transform: translateY(0px);
          opacity: 1;
        }
      }
      @keyframes w3m-iframe-zoom-in-mobile {
        0% {
          transform: scale(0.95);
          opacity: 0;
        }
        100% {
          transform: scale(1);
          opacity: 1;
        }
      }
      :root {
        --w3m-modal-width: 360px;
        --w3m-color-mix-strength: ${yi(t?.["--w3m-color-mix-strength"]?`${t["--w3m-color-mix-strength"]}%`:"0%")};
        --w3m-font-family: ${yi(t?.["--w3m-font-family"]||"Inter, Segoe UI, Roboto, Oxygen, Ubuntu, Cantarell, Fira Sans, Droid Sans, Helvetica Neue, sans-serif;")};
        --w3m-font-size-master: ${yi(t?.["--w3m-font-size-master"]||"10px")};
        --w3m-border-radius-master: ${yi(t?.["--w3m-border-radius-master"]||"4px")};
        --w3m-z-index: ${yi(t?.["--w3m-z-index"]||999)};

        --wui-font-family: var(--w3m-font-family);

        --wui-font-size-mini: calc(var(--w3m-font-size-master) * 0.8);
        --wui-font-size-micro: var(--w3m-font-size-master);
        --wui-font-size-tiny: calc(var(--w3m-font-size-master) * 1.2);
        --wui-font-size-small: calc(var(--w3m-font-size-master) * 1.4);
        --wui-font-size-paragraph: calc(var(--w3m-font-size-master) * 1.6);
        --wui-font-size-medium: calc(var(--w3m-font-size-master) * 1.8);
        --wui-font-size-large: calc(var(--w3m-font-size-master) * 2);
        --wui-font-size-title-6: calc(var(--w3m-font-size-master) * 2.2);
        --wui-font-size-medium-title: calc(var(--w3m-font-size-master) * 2.4);
        --wui-font-size-2xl: calc(var(--w3m-font-size-master) * 4);

        --wui-border-radius-5xs: var(--w3m-border-radius-master);
        --wui-border-radius-4xs: calc(var(--w3m-border-radius-master) * 1.5);
        --wui-border-radius-3xs: calc(var(--w3m-border-radius-master) * 2);
        --wui-border-radius-xxs: calc(var(--w3m-border-radius-master) * 3);
        --wui-border-radius-xs: calc(var(--w3m-border-radius-master) * 4);
        --wui-border-radius-s: calc(var(--w3m-border-radius-master) * 5);
        --wui-border-radius-m: calc(var(--w3m-border-radius-master) * 7);
        --wui-border-radius-l: calc(var(--w3m-border-radius-master) * 9);
        --wui-border-radius-3xl: calc(var(--w3m-border-radius-master) * 20);

        --wui-font-weight-light: 400;
        --wui-font-weight-regular: 500;
        --wui-font-weight-medium: 600;
        --wui-font-weight-bold: 700;

        --wui-letter-spacing-2xl: -1.6px;
        --wui-letter-spacing-medium-title: -0.96px;
        --wui-letter-spacing-title-6: -0.88px;
        --wui-letter-spacing-large: -0.8px;
        --wui-letter-spacing-medium: -0.72px;
        --wui-letter-spacing-paragraph: -0.64px;
        --wui-letter-spacing-small: -0.56px;
        --wui-letter-spacing-tiny: -0.48px;
        --wui-letter-spacing-micro: -0.2px;
        --wui-letter-spacing-mini: -0.16px;

        --wui-spacing-0: 0px;
        --wui-spacing-4xs: 2px;
        --wui-spacing-3xs: 4px;
        --wui-spacing-xxs: 6px;
        --wui-spacing-2xs: 7px;
        --wui-spacing-xs: 8px;
        --wui-spacing-1xs: 10px;
        --wui-spacing-s: 12px;
        --wui-spacing-m: 14px;
        --wui-spacing-l: 16px;
        --wui-spacing-2l: 18px;
        --wui-spacing-xl: 20px;
        --wui-spacing-xxl: 24px;
        --wui-spacing-2xl: 32px;
        --wui-spacing-3xl: 40px;
        --wui-spacing-4xl: 90px;
        --wui-spacing-5xl: 95px;

        --wui-icon-box-size-xxs: 14px;
        --wui-icon-box-size-xs: 20px;
        --wui-icon-box-size-sm: 24px;
        --wui-icon-box-size-md: 32px;
        --wui-icon-box-size-mdl: 36px;
        --wui-icon-box-size-lg: 40px;
        --wui-icon-box-size-2lg: 48px;
        --wui-icon-box-size-xl: 64px;

        --wui-icon-size-inherit: inherit;
        --wui-icon-size-xxs: 10px;
        --wui-icon-size-xs: 12px;
        --wui-icon-size-sm: 14px;
        --wui-icon-size-md: 16px;
        --wui-icon-size-mdl: 18px;
        --wui-icon-size-lg: 20px;
        --wui-icon-size-xl: 24px;
        --wui-icon-size-xxl: 28px;

        --wui-wallet-image-size-inherit: inherit;
        --wui-wallet-image-size-sm: 40px;
        --wui-wallet-image-size-md: 56px;
        --wui-wallet-image-size-lg: 80px;

        --wui-visual-size-size-inherit: inherit;
        --wui-visual-size-sm: 40px;
        --wui-visual-size-md: 55px;
        --wui-visual-size-lg: 80px;

        --wui-box-size-md: 100px;
        --wui-box-size-lg: 120px;

        --wui-ease-out-power-2: cubic-bezier(0, 0, 0.22, 1);
        --wui-ease-out-power-1: cubic-bezier(0, 0, 0.55, 1);

        --wui-ease-in-power-3: cubic-bezier(0.66, 0, 1, 1);
        --wui-ease-in-power-2: cubic-bezier(0.45, 0, 1, 1);
        --wui-ease-in-power-1: cubic-bezier(0.3, 0, 1, 1);

        --wui-ease-inout-power-1: cubic-bezier(0.45, 0, 0.55, 1);

        --wui-duration-lg: 200ms;
        --wui-duration-md: 125ms;
        --wui-duration-sm: 75ms;

        --wui-path-network-sm: path(
          'M15.4 2.1a5.21 5.21 0 0 1 5.2 0l11.61 6.7a5.21 5.21 0 0 1 2.61 4.52v13.4c0 1.87-1 3.59-2.6 4.52l-11.61 6.7c-1.62.93-3.6.93-5.22 0l-11.6-6.7a5.21 5.21 0 0 1-2.61-4.51v-13.4c0-1.87 1-3.6 2.6-4.52L15.4 2.1Z'
        );

        --wui-path-network-md: path(
          'M43.4605 10.7248L28.0485 1.61089C25.5438 0.129705 22.4562 0.129705 19.9515 1.61088L4.53951 10.7248C2.03626 12.2051 0.5 14.9365 0.5 17.886V36.1139C0.5 39.0635 2.03626 41.7949 4.53951 43.2752L19.9515 52.3891C22.4562 53.8703 25.5438 53.8703 28.0485 52.3891L43.4605 43.2752C45.9637 41.7949 47.5 39.0635 47.5 36.114V17.8861C47.5 14.9365 45.9637 12.2051 43.4605 10.7248Z'
        );

        --wui-path-network-lg: path(
          'M78.3244 18.926L50.1808 2.45078C45.7376 -0.150261 40.2624 -0.150262 35.8192 2.45078L7.6756 18.926C3.23322 21.5266 0.5 26.3301 0.5 31.5248V64.4752C0.5 69.6699 3.23322 74.4734 7.6756 77.074L35.8192 93.5492C40.2624 96.1503 45.7376 96.1503 50.1808 93.5492L78.3244 77.074C82.7668 74.4734 85.5 69.6699 85.5 64.4752V31.5248C85.5 26.3301 82.7668 21.5266 78.3244 18.926Z'
        );

        --wui-width-network-sm: 36px;
        --wui-width-network-md: 48px;
        --wui-width-network-lg: 86px;

        --wui-height-network-sm: 40px;
        --wui-height-network-md: 54px;
        --wui-height-network-lg: 96px;

        --wui-icon-size-network-xs: 12px;
        --wui-icon-size-network-sm: 16px;
        --wui-icon-size-network-md: 24px;
        --wui-icon-size-network-lg: 42px;

        --wui-color-inherit: inherit;

        --wui-color-inverse-100: #fff;
        --wui-color-inverse-000: #000;

        --wui-cover: rgba(20, 20, 20, 0.8);

        --wui-color-modal-bg: var(--wui-color-modal-bg-base);

        --wui-color-accent-100: var(--wui-color-accent-base-100);
        --wui-color-accent-090: var(--wui-color-accent-base-090);
        --wui-color-accent-080: var(--wui-color-accent-base-080);

        --wui-color-success-100: var(--wui-color-success-base-100);
        --wui-color-success-125: var(--wui-color-success-base-125);

        --wui-color-warning-100: var(--wui-color-warning-base-100);

        --wui-color-error-100: var(--wui-color-error-base-100);
        --wui-color-error-125: var(--wui-color-error-base-125);

        --wui-color-blue-100: var(--wui-color-blue-base-100);
        --wui-color-blue-90: var(--wui-color-blue-base-90);

        --wui-icon-box-bg-error-100: var(--wui-icon-box-bg-error-base-100);
        --wui-icon-box-bg-blue-100: var(--wui-icon-box-bg-blue-base-100);
        --wui-icon-box-bg-success-100: var(--wui-icon-box-bg-success-base-100);
        --wui-icon-box-bg-inverse-100: var(--wui-icon-box-bg-inverse-base-100);

        --wui-all-wallets-bg-100: var(--wui-all-wallets-bg-100);

        --wui-avatar-border: var(--wui-avatar-border-base);

        --wui-thumbnail-border: var(--wui-thumbnail-border-base);

        --wui-wallet-button-bg: var(--wui-wallet-button-bg-base);

        --wui-box-shadow-blue: var(--wui-color-accent-glass-020);
      }

      @supports (background: color-mix(in srgb, white 50%, black)) {
        :root {
          --wui-color-modal-bg: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-modal-bg-base)
          );

          --wui-box-shadow-blue: color-mix(in srgb, var(--wui-color-accent-100) 20%, transparent);

          --wui-color-accent-100: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 100%,
            transparent
          );
          --wui-color-accent-090: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 90%,
            transparent
          );
          --wui-color-accent-080: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 80%,
            transparent
          );
          --wui-color-accent-glass-090: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 90%,
            transparent
          );
          --wui-color-accent-glass-080: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 80%,
            transparent
          );
          --wui-color-accent-glass-020: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 20%,
            transparent
          );
          --wui-color-accent-glass-015: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 15%,
            transparent
          );
          --wui-color-accent-glass-010: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 10%,
            transparent
          );
          --wui-color-accent-glass-005: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 5%,
            transparent
          );
          --wui-color-accent-002: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 2%,
            transparent
          );

          --wui-color-fg-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-100)
          );
          --wui-color-fg-125: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-125)
          );
          --wui-color-fg-150: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-150)
          );
          --wui-color-fg-175: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-175)
          );
          --wui-color-fg-200: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-200)
          );
          --wui-color-fg-225: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-225)
          );
          --wui-color-fg-250: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-250)
          );
          --wui-color-fg-275: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-275)
          );
          --wui-color-fg-300: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-300)
          );
          --wui-color-fg-325: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-325)
          );
          --wui-color-fg-350: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-350)
          );

          --wui-color-bg-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-100)
          );
          --wui-color-bg-125: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-125)
          );
          --wui-color-bg-150: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-150)
          );
          --wui-color-bg-175: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-175)
          );
          --wui-color-bg-200: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-200)
          );
          --wui-color-bg-225: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-225)
          );
          --wui-color-bg-250: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-250)
          );
          --wui-color-bg-275: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-275)
          );
          --wui-color-bg-300: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-300)
          );
          --wui-color-bg-325: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-325)
          );
          --wui-color-bg-350: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-350)
          );

          --wui-color-success-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-success-base-100)
          );
          --wui-color-success-125: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-success-base-125)
          );

          --wui-color-warning-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-warning-base-100)
          );

          --wui-color-error-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-error-base-100)
          );
          --wui-color-blue-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-blue-base-100)
          );
          --wui-color-blue-90: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-blue-base-90)
          );
          --wui-color-error-125: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-error-base-125)
          );

          --wui-icon-box-bg-error-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-icon-box-bg-error-base-100)
          );
          --wui-icon-box-bg-accent-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-icon-box-bg-blue-base-100)
          );
          --wui-icon-box-bg-success-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-icon-box-bg-success-base-100)
          );
          --wui-icon-box-bg-inverse-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-icon-box-bg-inverse-base-100)
          );

          --wui-all-wallets-bg-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-all-wallets-bg-100)
          );

          --wui-avatar-border: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-avatar-border-base)
          );

          --wui-thumbnail-border: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-thumbnail-border-base)
          );

          --wui-wallet-button-bg: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-wallet-button-bg-base)
          );
        }
      }
    `,light:Hu`
      :root {
        --w3m-color-mix: ${yi(t?.["--w3m-color-mix"]||"#fff")};
        --w3m-accent: ${yi(Oa(t,"dark")["--w3m-accent"])};
        --w3m-default: #fff;

        --wui-color-modal-bg-base: ${yi(Oa(t,"dark")["--w3m-background"])};
        --wui-color-accent-base-100: var(--w3m-accent);

        --wui-color-blueberry-100: hsla(230, 100%, 67%, 1);
        --wui-color-blueberry-090: hsla(231, 76%, 61%, 1);
        --wui-color-blueberry-080: hsla(230, 59%, 55%, 1);
        --wui-color-blueberry-050: hsla(231, 100%, 70%, 0.1);

        --wui-color-fg-100: #e4e7e7;
        --wui-color-fg-125: #d0d5d5;
        --wui-color-fg-150: #a8b1b1;
        --wui-color-fg-175: #a8b0b0;
        --wui-color-fg-200: #949e9e;
        --wui-color-fg-225: #868f8f;
        --wui-color-fg-250: #788080;
        --wui-color-fg-275: #788181;
        --wui-color-fg-300: #6e7777;
        --wui-color-fg-325: #9a9a9a;
        --wui-color-fg-350: #363636;

        --wui-color-bg-100: #141414;
        --wui-color-bg-125: #191a1a;
        --wui-color-bg-150: #1e1f1f;
        --wui-color-bg-175: #222525;
        --wui-color-bg-200: #272a2a;
        --wui-color-bg-225: #2c3030;
        --wui-color-bg-250: #313535;
        --wui-color-bg-275: #363b3b;
        --wui-color-bg-300: #3b4040;
        --wui-color-bg-325: #252525;
        --wui-color-bg-350: #ffffff;

        --wui-color-success-base-100: #26d962;
        --wui-color-success-base-125: #30a46b;

        --wui-color-warning-base-100: #f3a13f;

        --wui-color-error-base-100: #f25a67;
        --wui-color-error-base-125: #df4a34;

        --wui-color-blue-base-100: rgba(102, 125, 255, 1);
        --wui-color-blue-base-90: rgba(102, 125, 255, 0.9);

        --wui-color-success-glass-001: rgba(38, 217, 98, 0.01);
        --wui-color-success-glass-002: rgba(38, 217, 98, 0.02);
        --wui-color-success-glass-005: rgba(38, 217, 98, 0.05);
        --wui-color-success-glass-010: rgba(38, 217, 98, 0.1);
        --wui-color-success-glass-015: rgba(38, 217, 98, 0.15);
        --wui-color-success-glass-020: rgba(38, 217, 98, 0.2);
        --wui-color-success-glass-025: rgba(38, 217, 98, 0.25);
        --wui-color-success-glass-030: rgba(38, 217, 98, 0.3);
        --wui-color-success-glass-060: rgba(38, 217, 98, 0.6);
        --wui-color-success-glass-080: rgba(38, 217, 98, 0.8);

        --wui-color-success-glass-reown-020: rgba(48, 164, 107, 0.2);

        --wui-color-warning-glass-reown-020: rgba(243, 161, 63, 0.2);

        --wui-color-error-glass-001: rgba(242, 90, 103, 0.01);
        --wui-color-error-glass-002: rgba(242, 90, 103, 0.02);
        --wui-color-error-glass-005: rgba(242, 90, 103, 0.05);
        --wui-color-error-glass-010: rgba(242, 90, 103, 0.1);
        --wui-color-error-glass-015: rgba(242, 90, 103, 0.15);
        --wui-color-error-glass-020: rgba(242, 90, 103, 0.2);
        --wui-color-error-glass-025: rgba(242, 90, 103, 0.25);
        --wui-color-error-glass-030: rgba(242, 90, 103, 0.3);
        --wui-color-error-glass-060: rgba(242, 90, 103, 0.6);
        --wui-color-error-glass-080: rgba(242, 90, 103, 0.8);

        --wui-color-error-glass-reown-020: rgba(223, 74, 52, 0.2);

        --wui-color-gray-glass-001: rgba(255, 255, 255, 0.01);
        --wui-color-gray-glass-002: rgba(255, 255, 255, 0.02);
        --wui-color-gray-glass-005: rgba(255, 255, 255, 0.05);
        --wui-color-gray-glass-010: rgba(255, 255, 255, 0.1);
        --wui-color-gray-glass-015: rgba(255, 255, 255, 0.15);
        --wui-color-gray-glass-020: rgba(255, 255, 255, 0.2);
        --wui-color-gray-glass-025: rgba(255, 255, 255, 0.25);
        --wui-color-gray-glass-030: rgba(255, 255, 255, 0.3);
        --wui-color-gray-glass-060: rgba(255, 255, 255, 0.6);
        --wui-color-gray-glass-080: rgba(255, 255, 255, 0.8);
        --wui-color-gray-glass-090: rgba(255, 255, 255, 0.9);

        --wui-color-dark-glass-100: rgba(42, 42, 42, 1);

        --wui-icon-box-bg-error-base-100: #3c2426;
        --wui-icon-box-bg-blue-base-100: #20303f;
        --wui-icon-box-bg-success-base-100: #1f3a28;
        --wui-icon-box-bg-inverse-base-100: #243240;

        --wui-all-wallets-bg-100: #222b35;

        --wui-avatar-border-base: #252525;

        --wui-thumbnail-border-base: #252525;

        --wui-wallet-button-bg-base: var(--wui-color-bg-125);

        --w3m-card-embedded-shadow-color: rgb(17 17 18 / 25%);
      }
    `,dark:Hu`
      :root {
        --w3m-color-mix: ${yi(t?.["--w3m-color-mix"]||"#000")};
        --w3m-accent: ${yi(Oa(t,"light")["--w3m-accent"])};
        --w3m-default: #000;

        --wui-color-modal-bg-base: ${yi(Oa(t,"light")["--w3m-background"])};
        --wui-color-accent-base-100: var(--w3m-accent);

        --wui-color-blueberry-100: hsla(231, 100%, 70%, 1);
        --wui-color-blueberry-090: hsla(231, 97%, 72%, 1);
        --wui-color-blueberry-080: hsla(231, 92%, 74%, 1);

        --wui-color-fg-100: #141414;
        --wui-color-fg-125: #2d3131;
        --wui-color-fg-150: #474d4d;
        --wui-color-fg-175: #636d6d;
        --wui-color-fg-200: #798686;
        --wui-color-fg-225: #828f8f;
        --wui-color-fg-250: #8b9797;
        --wui-color-fg-275: #95a0a0;
        --wui-color-fg-300: #9ea9a9;
        --wui-color-fg-325: #9a9a9a;
        --wui-color-fg-350: #d0d0d0;

        --wui-color-bg-100: #ffffff;
        --wui-color-bg-125: #f5fafa;
        --wui-color-bg-150: #f3f8f8;
        --wui-color-bg-175: #eef4f4;
        --wui-color-bg-200: #eaf1f1;
        --wui-color-bg-225: #e5eded;
        --wui-color-bg-250: #e1e9e9;
        --wui-color-bg-275: #dce7e7;
        --wui-color-bg-300: #d8e3e3;
        --wui-color-bg-325: #f3f3f3;
        --wui-color-bg-350: #202020;

        --wui-color-success-base-100: #26b562;
        --wui-color-success-base-125: #30a46b;

        --wui-color-warning-base-100: #f3a13f;

        --wui-color-error-base-100: #f05142;
        --wui-color-error-base-125: #df4a34;

        --wui-color-blue-base-100: rgba(102, 125, 255, 1);
        --wui-color-blue-base-90: rgba(102, 125, 255, 0.9);

        --wui-color-success-glass-001: rgba(38, 181, 98, 0.01);
        --wui-color-success-glass-002: rgba(38, 181, 98, 0.02);
        --wui-color-success-glass-005: rgba(38, 181, 98, 0.05);
        --wui-color-success-glass-010: rgba(38, 181, 98, 0.1);
        --wui-color-success-glass-015: rgba(38, 181, 98, 0.15);
        --wui-color-success-glass-020: rgba(38, 181, 98, 0.2);
        --wui-color-success-glass-025: rgba(38, 181, 98, 0.25);
        --wui-color-success-glass-030: rgba(38, 181, 98, 0.3);
        --wui-color-success-glass-060: rgba(38, 181, 98, 0.6);
        --wui-color-success-glass-080: rgba(38, 181, 98, 0.8);

        --wui-color-success-glass-reown-020: rgba(48, 164, 107, 0.2);

        --wui-color-warning-glass-reown-020: rgba(243, 161, 63, 0.2);

        --wui-color-error-glass-001: rgba(240, 81, 66, 0.01);
        --wui-color-error-glass-002: rgba(240, 81, 66, 0.02);
        --wui-color-error-glass-005: rgba(240, 81, 66, 0.05);
        --wui-color-error-glass-010: rgba(240, 81, 66, 0.1);
        --wui-color-error-glass-015: rgba(240, 81, 66, 0.15);
        --wui-color-error-glass-020: rgba(240, 81, 66, 0.2);
        --wui-color-error-glass-025: rgba(240, 81, 66, 0.25);
        --wui-color-error-glass-030: rgba(240, 81, 66, 0.3);
        --wui-color-error-glass-060: rgba(240, 81, 66, 0.6);
        --wui-color-error-glass-080: rgba(240, 81, 66, 0.8);

        --wui-color-error-glass-reown-020: rgba(223, 74, 52, 0.2);

        --wui-icon-box-bg-error-base-100: #f4dfdd;
        --wui-icon-box-bg-blue-base-100: #d9ecfb;
        --wui-icon-box-bg-success-base-100: #daf0e4;
        --wui-icon-box-bg-inverse-base-100: #dcecfc;

        --wui-all-wallets-bg-100: #e8f1fa;

        --wui-avatar-border-base: #f3f4f4;

        --wui-thumbnail-border-base: #eaefef;

        --wui-wallet-button-bg-base: var(--wui-color-bg-125);

        --wui-color-gray-glass-001: rgba(0, 0, 0, 0.01);
        --wui-color-gray-glass-002: rgba(0, 0, 0, 0.02);
        --wui-color-gray-glass-005: rgba(0, 0, 0, 0.05);
        --wui-color-gray-glass-010: rgba(0, 0, 0, 0.1);
        --wui-color-gray-glass-015: rgba(0, 0, 0, 0.15);
        --wui-color-gray-glass-020: rgba(0, 0, 0, 0.2);
        --wui-color-gray-glass-025: rgba(0, 0, 0, 0.25);
        --wui-color-gray-glass-030: rgba(0, 0, 0, 0.3);
        --wui-color-gray-glass-060: rgba(0, 0, 0, 0.6);
        --wui-color-gray-glass-080: rgba(0, 0, 0, 0.8);
        --wui-color-gray-glass-090: rgba(0, 0, 0, 0.9);

        --wui-color-dark-glass-100: rgba(233, 233, 233, 1);

        --w3m-card-embedded-shadow-color: rgb(224 225 233 / 25%);
      }
    `}}const Ule=Hu`
  *,
  *::after,
  *::before,
  :host {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
    font-style: normal;
    text-rendering: optimizeSpeed;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    -webkit-tap-highlight-color: transparent;
    font-family: var(--wui-font-family);
    backface-visibility: hidden;
  }
`,Ple=Hu`
  button,
  a {
    cursor: pointer;
    display: flex;
    justify-content: center;
    align-items: center;
    position: relative;
    transition:
      color var(--wui-duration-lg) var(--wui-ease-out-power-1),
      background-color var(--wui-duration-lg) var(--wui-ease-out-power-1),
      border var(--wui-duration-lg) var(--wui-ease-out-power-1),
      border-radius var(--wui-duration-lg) var(--wui-ease-out-power-1),
      box-shadow var(--wui-duration-lg) var(--wui-ease-out-power-1);
    will-change: background-color, color, border, box-shadow, border-radius;
    outline: none;
    border: none;
    column-gap: var(--wui-spacing-3xs);
    background-color: transparent;
    text-decoration: none;
  }

  wui-flex {
    transition: border-radius var(--wui-duration-lg) var(--wui-ease-out-power-1);
    will-change: border-radius;
  }

  button:disabled > wui-wallet-image,
  button:disabled > wui-all-wallets-image,
  button:disabled > wui-network-image,
  button:disabled > wui-image,
  button:disabled > wui-transaction-visual,
  button:disabled > wui-logo {
    filter: grayscale(1);
  }

  @media (hover: hover) and (pointer: fine) {
    button:hover:enabled {
      background-color: var(--wui-color-gray-glass-005);
    }

    button:active:enabled {
      background-color: var(--wui-color-gray-glass-010);
    }
  }

  button:disabled > wui-icon-box {
    opacity: 0.5;
  }

  input {
    border: none;
    outline: none;
    appearance: none;
  }
`,Lle=Hu`
  .wui-color-inherit {
    color: var(--wui-color-inherit);
  }

  .wui-color-accent-100 {
    color: var(--wui-color-accent-100);
  }

  .wui-color-error-100 {
    color: var(--wui-color-error-100);
  }

  .wui-color-blue-100 {
    color: var(--wui-color-blue-100);
  }

  .wui-color-blue-90 {
    color: var(--wui-color-blue-90);
  }

  .wui-color-error-125 {
    color: var(--wui-color-error-125);
  }

  .wui-color-success-100 {
    color: var(--wui-color-success-100);
  }

  .wui-color-success-125 {
    color: var(--wui-color-success-125);
  }

  .wui-color-inverse-100 {
    color: var(--wui-color-inverse-100);
  }

  .wui-color-inverse-000 {
    color: var(--wui-color-inverse-000);
  }

  .wui-color-fg-100 {
    color: var(--wui-color-fg-100);
  }

  .wui-color-fg-200 {
    color: var(--wui-color-fg-200);
  }

  .wui-color-fg-300 {
    color: var(--wui-color-fg-300);
  }

  .wui-color-fg-325 {
    color: var(--wui-color-fg-325);
  }

  .wui-color-fg-350 {
    color: var(--wui-color-fg-350);
  }

  .wui-bg-color-inherit {
    background-color: var(--wui-color-inherit);
  }

  .wui-bg-color-blue-100 {
    background-color: var(--wui-color-accent-100);
  }

  .wui-bg-color-error-100 {
    background-color: var(--wui-color-error-100);
  }

  .wui-bg-color-error-125 {
    background-color: var(--wui-color-error-125);
  }

  .wui-bg-color-success-100 {
    background-color: var(--wui-color-success-100);
  }

  .wui-bg-color-success-125 {
    background-color: var(--wui-color-success-100);
  }

  .wui-bg-color-inverse-100 {
    background-color: var(--wui-color-inverse-100);
  }

  .wui-bg-color-inverse-000 {
    background-color: var(--wui-color-inverse-000);
  }

  .wui-bg-color-fg-100 {
    background-color: var(--wui-color-fg-100);
  }

  .wui-bg-color-fg-200 {
    background-color: var(--wui-color-fg-200);
  }

  .wui-bg-color-fg-300 {
    background-color: var(--wui-color-fg-300);
  }

  .wui-color-fg-325 {
    background-color: var(--wui-color-fg-325);
  }

  .wui-color-fg-350 {
    background-color: var(--wui-color-fg-350);
  }
`,q0={hexStringToNumber(t){const e=t.startsWith("0x")?t.slice(2):t;return parseInt(e,16)},numberToHexString(t){return`0x${t.toString(16)}`},async getUserInfo(t){const[e,n]=await Promise.all([q0.getAddresses(t),q0.getChainId(t)]);return{chainId:n,addresses:e}},async getChainId(t){const e=await t.request({method:"eth_chainId"});return Number(e)},async getAddress(t){const[e]=await t.request({method:"eth_accounts"});return e},async getAddresses(t){return await t.request({method:"eth_accounts"})},async addEthereumChain(t,e){const n=e.rpcUrls.chainDefault?.http||[];await t.request({method:"wallet_addEthereumChain",params:[{chainId:q0.numberToHexString(e.id),rpcUrls:[...n],chainName:e.name,nativeCurrency:{name:e.nativeCurrency.name,decimals:e.nativeCurrency.decimals,symbol:e.nativeCurrency.symbol},blockExplorerUrls:[e.blockExplorers?.default.url],iconUrls:[Jh.NetworkImageIds[e.id]]}]})}},Au={ACCOUNT_INDEXES:{PAYMENT:0,ORDINAL:1}};function Sp(t){return{formatters:void 0,fees:void 0,serializers:void 0,...t}}const Y5=Sp({id:"5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp",name:"Solana",network:"solana-mainnet",nativeCurrency:{name:"Solana",symbol:"SOL",decimals:9},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}},blockExplorers:{default:{name:"Solscan",url:"https://solscan.io"}},testnet:!1,chainNamespace:"solana",caipNetworkId:"solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp",deprecatedCaipNetworkId:"solana:4sGjMW1sUnHzSxGspuhpqLDx6wiyjNtZ"}),X5=Sp({id:"EtWTRABZaYq6iMfeYKouRu166VU2xqa1",name:"Solana Devnet",network:"solana-devnet",nativeCurrency:{name:"Solana",symbol:"SOL",decimals:9},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}},blockExplorers:{default:{name:"Solscan",url:"https://solscan.io"}},testnet:!0,chainNamespace:"solana",caipNetworkId:"solana:EtWTRABZaYq6iMfeYKouRu166VU2xqa1",deprecatedCaipNetworkId:"solana:8E9rvCKLFQia2Y35HXjjpWzj8weVo44K"});Sp({id:"4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z",name:"Solana Testnet",network:"solana-testnet",nativeCurrency:{name:"Solana",symbol:"SOL",decimals:9},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}},blockExplorers:{default:{name:"Solscan",url:"https://solscan.io"}},testnet:!0,chainNamespace:"solana",caipNetworkId:"solana:4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z"});const zM=Sp({id:"000000000019d6689c085ae165831e93",caipNetworkId:"bip122:000000000019d6689c085ae165831e93",chainNamespace:"bip122",name:"Bitcoin",nativeCurrency:{name:"Bitcoin",symbol:"BTC",decimals:8},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}}});Sp({id:"000000000933ea01ad0ee984209779ba",caipNetworkId:"bip122:000000000933ea01ad0ee984209779ba",chainNamespace:"bip122",name:"Bitcoin Testnet",nativeCurrency:{name:"Bitcoin",symbol:"BTC",decimals:8},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}},testnet:!0});const pae={solana:["solana_signMessage","solana_signTransaction","solana_requestAccounts","solana_getAccounts","solana_signAllTransactions","solana_signAndSendTransaction"],eip155:["eth_accounts","eth_requestAccounts","eth_sendRawTransaction","eth_sign","eth_signTransaction","eth_signTypedData","eth_signTypedData_v3","eth_signTypedData_v4","eth_sendTransaction","personal_sign","wallet_switchEthereumChain","wallet_addEthereumChain","wallet_getPermissions","wallet_requestPermissions","wallet_registerOnboarding","wallet_watchAsset","wallet_scanQRCode","wallet_getCallsStatus","wallet_showCallsStatus","wallet_sendCalls","wallet_getCapabilities","wallet_grantPermissions","wallet_revokePermissions","wallet_getAssets"],bip122:["sendTransfer","signMessage","signPsbt","getAccountAddresses"]},Eo={getMethodsByChainNamespace(t){return pae[t]||[]},createDefaultNamespace(t){return{methods:this.getMethodsByChainNamespace(t),events:["accountsChanged","chainChanged"],chains:[],rpcMap:{}}},applyNamespaceOverrides(t,e){if(!e)return{...t};const n={...t},s=new Set;if(e.methods&&Object.keys(e.methods).forEach(i=>s.add(i)),e.chains&&Object.keys(e.chains).forEach(i=>s.add(i)),e.events&&Object.keys(e.events).forEach(i=>s.add(i)),e.rpcMap&&Object.keys(e.rpcMap).forEach(i=>{const[a]=i.split(":");a&&s.add(a)}),s.forEach(i=>{n[i]||(n[i]=this.createDefaultNamespace(i))}),e.methods&&Object.entries(e.methods).forEach(([i,a])=>{n[i]&&(n[i].methods=a)}),e.chains&&Object.entries(e.chains).forEach(([i,a])=>{n[i]&&(n[i].chains=a)}),e.events&&Object.entries(e.events).forEach(([i,a])=>{n[i]&&(n[i].events=a)}),e.rpcMap){const i=new Set;Object.entries(e.rpcMap).forEach(([a,c])=>{const[u,f]=a.split(":");!u||!f||!n[u]||(n[u].rpcMap||(n[u].rpcMap={}),i.has(u)||(n[u].rpcMap={},i.add(u)),n[u].rpcMap[f]=c)})}return n},createNamespaces(t,e){const n=t.reduce((s,i)=>{const{id:a,chainNamespace:c,rpcUrls:u}=i,f=u.default.http[0];s[c]||(s[c]=this.createDefaultNamespace(c));const h=`${c}:${a}`,p=s[c];switch(p.chains.push(h),h){case Y5.caipNetworkId:p.chains.push(Y5.deprecatedCaipNetworkId);break;case X5.caipNetworkId:p.chains.push(X5.deprecatedCaipNetworkId);break}return p?.rpcMap&&f&&(p.rpcMap[a]=f),s},{});return this.applyNamespaceOverrides(n,e)},resolveReownName:async t=>{const e=await uh.resolveName(t);return(Object.values(e?.addresses)||[])[0]?.address||!1},getChainsFromNamespaces(t={}){return Object.values(t).flatMap(e=>{const n=e.chains||[],s=e.accounts.map(i=>{const[a,c]=i.split(":");return`${a}:${c}`});return Array.from(new Set([...n,...s]))})},isSessionEventData(t){return typeof t=="object"&&t!==null&&"id"in t&&"topic"in t&&"params"in t&&typeof t.params=="object"&&t.params!==null&&"chainId"in t.params&&"event"in t.params&&typeof t.params.event=="object"&&t.params.event!==null},isOriginAllowed(t,e,n){for(const s of[...e,...n])if(s.includes("*")){const a=`^${s.replace(/[.*+?^${}()|[\]\\]/gu,"\\$&").replace(/\\\*/gu,".*")}$`;if(new RegExp(a,"u").test(t))return!0}else try{if(new URL(s).origin===t)return!0}catch{if(s===t)return!0}return!1},listenWcProvider({universalProvider:t,namespace:e,onConnect:n,onDisconnect:s,onAccountsChanged:i,onChainChanged:a,onDisplayUri:c}){n&&t.on("connect",()=>{const u=Eo.getWalletConnectAccounts(t,e);n(u)}),s&&t.on("disconnect",()=>{s()}),i&&t.on("session_event",u=>{if(Eo.isSessionEventData(u)){const{name:f,data:h}=u.params.event;if(f==="accountsChanged"&&Array.isArray(h)){const p=h.filter(g=>Oe.isCaipAddress(g)).map(g=>Ks.parseCaipAddress(g)).filter(g=>g.chainNamespace===e);i(p)}}}),a&&t.on("chainChanged",u=>{a(u)}),c&&t.on("display_uri",u=>{c(u)})},getWalletConnectAccounts(t,e){const n=new Set,s=t?.session?.namespaces?.[e]?.accounts?.map(i=>Ks.parseCaipAddress(i)).filter(({address:i})=>n.has(i.toLowerCase())?!1:(n.add(i.toLowerCase()),!0));return s&&s.length>0?s:[]}};class gae{constructor(e){this.namespace=e.namespace}async syncConnections(e){switch(this.namespace){case de.CHAIN.EVM:await this.syncEVMConnections(e);break;case de.CHAIN.SOLANA:await this.syncSolanaConnections(e);break;case de.CHAIN.BITCOIN:await this.syncBitcoinConnections(e);break;default:throw new Error(`Unsupported chain namespace: ${this.namespace}`)}}async syncEVMConnections({connectors:e,caipNetworks:n,universalProvider:s,getConnectionStatusInfo:i,onConnection:a,onListenProvider:c}){await Promise.all(e.filter(u=>{const{hasDisconnected:f,hasConnected:h}=i(u.id);return!f&&h}).map(async u=>{if(u.id===de.CONNECTOR_ID.WALLET_CONNECT){const f=Eo.getWalletConnectAccounts(s,this.namespace),h=n.find(p=>p.chainNamespace===this.namespace&&p.id.toString()===f[0]?.chainId?.toString());f.length>0&&a({connectorId:u.id,accounts:f.map(p=>({address:p.address})),caipNetwork:h})}else{const{accounts:f,chainId:h}=await z0.fetchProviderData(u);if(f.length>0&&h){const p=n.find(g=>g.chainNamespace===this.namespace&&g.id.toString()===h.toString());a({connectorId:u.id,accounts:f.map(g=>({address:g})),caipNetwork:p}),u.provider&&u.id!==de.CONNECTOR_ID.AUTH&&u.id!==de.CONNECTOR_ID.WALLET_CONNECT&&c(u.id,u.provider)}}}))}async syncSolanaConnections({connectors:e,caipNetwork:n,universalProvider:s,getConnectionStatusInfo:i,onConnection:a,onListenProvider:c}){await Promise.all(e.filter(u=>{const{hasDisconnected:f,hasConnected:h}=i(u.id);return!f&&h}).map(async u=>{if(u.id===de.CONNECTOR_ID.WALLET_CONNECT){const f=Eo.getWalletConnectAccounts(s,this.namespace);f.length>0&&a({connectorId:u.id,accounts:f.map(h=>({address:h.address})),caipNetwork:n})}else{const f=await u.connect({chainId:n?.id});f&&(a({connectorId:u.id,accounts:[{address:f}],caipNetwork:n}),c(u.id,u.provider))}}))}async syncBitcoinConnections({connectors:e,caipNetwork:n,universalProvider:s,getConnectionStatusInfo:i,onConnection:a,onListenProvider:c}){await Promise.all(e.filter(u=>{const{hasDisconnected:f,hasConnected:h}=i(u.id);return!f&&h}).map(async u=>{if(u.id===de.CONNECTOR_ID.WALLET_CONNECT){const y=Eo.getWalletConnectAccounts(s,this.namespace);y.length>0&&a({connectorId:u.id,accounts:y.map(b=>({address:b.address})),caipNetwork:n});return}const f=await u.connect();let p=(await u.getAccountAddresses())?.map(y=>Oe.createAccount(de.CHAIN.BITCOIN,y.address,y.purpose||"payment",y.publicKey,y.path));if(p&&p.length>1&&(p=[{namespace:de.CHAIN.BITCOIN,publicKey:p[Au.ACCOUNT_INDEXES.PAYMENT]?.publicKey??"",path:p[Au.ACCOUNT_INDEXES.PAYMENT]?.path??"",address:p[Au.ACCOUNT_INDEXES.PAYMENT]?.address??"",type:"payment"},{namespace:de.CHAIN.BITCOIN,publicKey:p[Au.ACCOUNT_INDEXES.ORDINAL]?.publicKey??"",path:p[Au.ACCOUNT_INDEXES.ORDINAL]?.path??"",address:p[Au.ACCOUNT_INDEXES.ORDINAL]?.address??"",type:"ordinal"}]),!(u.chains.find(y=>y.id===n?.id)||u.chains[0]))throw new Error("The connector does not support any of the requested chains");f&&(c(u.id,u.provider),a({connectorId:u.id,accounts:p.map(y=>({address:y.address,type:y.type})),caipNetwork:n}))}))}getConnection({address:e,connectorId:n,connections:s,connectors:i}){if(n){const c=s.find(h=>Gs.isLowerCaseMatch(h.connectorId,n));if(!c)return null;const u=i.find(h=>Gs.isLowerCaseMatch(h.id,c.connectorId)),f=e?c.accounts.find(h=>Gs.isLowerCaseMatch(h.address,e)):c.accounts[0];return{...c,account:f,connector:u}}const a=s.find(c=>c.accounts.length>0&&i.some(u=>Gs.isLowerCaseMatch(u.id,c.connectorId)));if(a){const[c]=a.accounts,u=i.find(f=>Gs.isLowerCaseMatch(f.id,a.connectorId));return{...a,account:c,connector:u}}return null}}const Vd={ERROR_CODE_UNRECOGNIZED_CHAIN_ID:4902,ERROR_CODE_DEFAULT:5e3,ERROR_INVALID_CHAIN_ID:32603,DEFAULT_ALLOWED_ANCESTORS:["http://localhost:*","https://localhost:*","http://127.0.0.1:*","https://127.0.0.1:*","https://*.pages.dev","https://*.vercel.app","https://*.ngrok-free.app","https://secure-mobile.walletconnect.com","https://secure-mobile.walletconnect.org"]};class HM{constructor({provider:e,namespace:n}){this.id=de.CONNECTOR_ID.WALLET_CONNECT,this.name=Jh.ConnectorNamesMap[de.CONNECTOR_ID.WALLET_CONNECT],this.type="WALLET_CONNECT",this.imageId=Jh.ConnectorImageIds[de.CONNECTOR_ID.WALLET_CONNECT],this.getCaipNetworks=B.getCaipNetworks.bind(B),this.caipNetworks=this.getCaipNetworks(),this.provider=e,this.chain=n}get chains(){return this.getCaipNetworks()}async connectWalletConnect(){if(!await this.authenticate()){const n=this.getCaipNetworks(),s=fe.state.universalProviderConfigOverride,i=Eo.createNamespaces(n,s);await this.provider.connect({optionalNamespaces:i})}return{clientId:await this.provider.client.core.crypto.getClientId(),session:this.provider.session}}async disconnect(){await this.provider.disconnect()}async authenticate(){const e=this.chains.map(n=>n.caipNetworkId);return Er.universalProviderAuthenticate({universalProvider:this.provider,chains:e,methods:mae})}}const mae=["eth_accounts","eth_requestAccounts","eth_sendRawTransaction","eth_sign","eth_signTransaction","eth_signTypedData","eth_signTypedData_v3","eth_signTypedData_v4","eth_sendTransaction","personal_sign","wallet_switchEthereumChain","wallet_addEthereumChain","wallet_getPermissions","wallet_requestPermissions","wallet_registerOnboarding","wallet_watchAsset","wallet_scanQRCode","wallet_getCallsStatus","wallet_sendCalls","wallet_getCapabilities","wallet_grantPermissions","wallet_revokePermissions","wallet_getAssets"],yae=[de.CONNECTOR_ID.AUTH,de.CONNECTOR_ID.WALLET_CONNECT];class wae{constructor(e){this.availableConnectors=[],this.availableConnections=[],this.providerHandlers={},this.eventListeners=new Map,this.getCaipNetworks=n=>B.getCaipNetworks(n),this.getConnectorId=n=>be.getConnectorId(n),e&&this.construct(e),e?.namespace&&(this.connectionManager=new gae({namespace:e.namespace}))}construct(e){this.projectId=e.projectId,this.namespace=e.namespace,this.adapterType=e.adapterType}get connectors(){return this.availableConnectors}get connections(){return this.availableConnections}get networks(){return this.getCaipNetworks(this.namespace)}onAuthConnected({accounts:e,chainId:n}){const s=this.getCaipNetworks().filter(i=>i.chainNamespace===this.namespace).find(i=>i.id.toString()===n?.toString());e&&s&&this.addConnection({connectorId:de.CONNECTOR_ID.AUTH,accounts:e,caipNetwork:s})}setAuthProvider(e){e.onConnect(this.onAuthConnected.bind(this)),e.onSocialConnected(this.onAuthConnected.bind(this)),this.addConnector({id:de.CONNECTOR_ID.AUTH,type:"AUTH",name:de.CONNECTOR_NAMES.AUTH,provider:e,imageId:Jh.ConnectorImageIds[de.CONNECTOR_ID.AUTH],chain:this.namespace,chains:[]})}addConnector(...e){const n=new Set;this.availableConnectors=[...e,...this.availableConnectors].filter(s=>n.has(s.id)?!1:(n.add(s.id),!0)),this.emit("connectors",this.availableConnectors)}addConnection(...e){const n=new Set;this.availableConnections=[...e,...this.availableConnections].filter(s=>n.has(s.connectorId.toLowerCase())?!1:(n.add(s.connectorId.toLowerCase()),!0)),this.emit("connections",this.availableConnections)}deleteConnection(e){this.availableConnections=this.availableConnections.filter(n=>!Gs.isLowerCaseMatch(n.connectorId,e)),this.emit("connections",this.availableConnections)}clearConnections(e=!1){this.availableConnections=[],e&&this.emit("connections",this.availableConnections)}setStatus(e,n){De.setStatus(e,n)}on(e,n){this.eventListeners.has(e)||this.eventListeners.set(e,new Set),this.eventListeners.get(e)?.add(n)}off(e,n){const s=this.eventListeners.get(e);s&&s.delete(n)}removeAllEventListeners(){this.eventListeners.forEach(e=>{e.clear()})}emit(e,n){const s=this.eventListeners.get(e);s&&s.forEach(i=>i(n))}async connectWalletConnect(e){return{clientId:(await this.getWalletConnectConnector().connectWalletConnect()).clientId}}async switchNetwork(e){const{caipNetwork:n,providerType:s}=e;if(!e.provider)return;const i="provider"in e.provider?e.provider.provider:e.provider;if(s==="WALLET_CONNECT"){i.setDefaultChain(n.caipNetworkId);return}if(i&&s==="AUTH"){const a=i,c=Or(n.chainNamespace);await a.switchNetwork({chainId:n.caipNetworkId});const u=await a.getUser({chainId:n.caipNetworkId,preferredAccountType:c});this.emit("switchNetwork",u)}}getWalletConnectConnector(){const e=this.connectors.find(n=>n instanceof HM);if(!e)throw new Error("WalletConnectConnector not found");return e}onConnect(e,n){if(e.length>0){const{address:s,chainId:i}=Oe.getAccount(e[0]),a=this.getCaipNetworks().filter(u=>u.chainNamespace===this.namespace).find(u=>u.id.toString()===i?.toString()),c=this.connectors.find(u=>u.id===n);s&&(this.emit("accountChanged",{address:s,chainId:i,connector:c}),this.addConnection({connectorId:n,accounts:e.map(u=>{const{address:f}=Oe.getAccount(u);return{address:f}}),caipNetwork:a}))}}onAccountsChanged(e,n,s=!0){if(e.length>0){const{address:i}=Oe.getAccount(e[0]),a=this.connectionManager?.getConnection({connectorId:n,connections:this.connections,connectors:this.connectors});i&&Gs.isLowerCaseMatch(this.getConnectorId(de.CHAIN.EVM),n)&&this.emit("accountChanged",{address:i,chainId:a?.caipNetwork?.id,connector:a?.connector}),this.addConnection({connectorId:n,accounts:e.map(c=>{const{address:u}=Oe.getAccount(c);return{address:u}}),caipNetwork:a?.caipNetwork})}else s&&this.onDisconnect(n)}onDisconnect(e){this.removeProviderListeners(e),this.deleteConnection(e),Gs.isLowerCaseMatch(this.getConnectorId(de.CHAIN.EVM),e)&&this.emitFirstAvailableConnection(),this.connections.length===0&&this.emit("disconnect")}onChainChanged(e,n){const s=typeof e=="string"&&e.startsWith("0x")?q0.hexStringToNumber(e).toString():e.toString(),i=this.connectionManager?.getConnection({connectorId:n,connections:this.connections,connectors:this.connectors}),a=this.getCaipNetworks().filter(c=>c.chainNamespace===this.namespace).find(c=>c.id.toString()===s);i&&this.addConnection({connectorId:n,accounts:i.accounts,caipNetwork:a}),Gs.isLowerCaseMatch(this.getConnectorId(de.CHAIN.EVM),n)&&this.emit("switchNetwork",{chainId:s})}listenProviderEvents(e,n){if(yae.includes(e))return;const s=c=>this.onAccountsChanged(c,e),i=c=>this.onChainChanged(c,e),a=()=>this.onDisconnect(e);this.providerHandlers[e]||(n.on("disconnect",a),n.on("accountsChanged",s),n.on("chainChanged",i),this.providerHandlers[e]={provider:n,disconnect:a,accountsChanged:s,chainChanged:i})}removeProviderListeners(e){if(this.providerHandlers[e]){const{provider:n,disconnect:s,accountsChanged:i,chainChanged:a}=this.providerHandlers[e];n.removeListener("disconnect",s),n.removeListener("accountsChanged",i),n.removeListener("chainChanged",a),this.providerHandlers[e]=null}}emitFirstAvailableConnection(){const e=this.connectionManager?.getConnection({connections:this.connections,connectors:this.connectors});if(e){const[n]=e.accounts;this.emit("accountChanged",{address:n?.address,chainId:e.caipNetwork?.id,connector:e.connector})}}}class bae extends wae{async setUniversalProvider(e){if(!this.namespace)throw new Error("UniversalAdapter:setUniversalProvider - namespace is required");return this.addConnector(new HM({provider:e,caipNetworks:this.getCaipNetworks(),namespace:this.namespace})),Promise.resolve()}async connect(e){return Promise.resolve({id:"WALLET_CONNECT",type:"WALLET_CONNECT",chainId:Number(e.chainId),provider:this.provider,address:""})}async disconnect(){try{await this.getWalletConnectConnector().disconnect(),this.emit("disconnect")}catch(e){console.warn("UniversalAdapter:disconnect - error",e)}return{connections:[]}}syncConnections(){return Promise.resolve()}async getAccounts({namespace:e}){const s=this.provider?.session?.namespaces?.[e]?.accounts?.map(i=>{const[,,a]=i.split(":");return a}).filter((i,a,c)=>c.indexOf(i)===a)||[];return Promise.resolve({accounts:s.map(i=>Oe.createAccount(e,i,e==="bip122"?"payment":"eoa"))})}async syncConnectors(){return Promise.resolve()}async getBalance(e){if(!(e.caipNetwork&&gt.BALANCE_SUPPORTED_CHAINS.includes(e.caipNetwork?.chainNamespace))||e.caipNetwork?.testnet)return{balance:"0.00",symbol:e.caipNetwork?.nativeCurrency.symbol||""};if(De.state.balanceLoading&&e.chainId===B.state.activeCaipNetwork?.id)return{balance:De.state.balance||"0.00",symbol:De.state.balanceSymbol||""};const i=(await De.fetchTokenBalance()).find(a=>a.chainId===`${e.caipNetwork?.chainNamespace}:${e.chainId}`&&a.symbol===e.caipNetwork?.nativeCurrency.symbol);return{balance:i?.quantity.numeric||"0.00",symbol:i?.symbol||e.caipNetwork?.nativeCurrency.symbol||""}}async signMessage(e){const{provider:n,message:s,address:i}=e;if(!n)throw new Error("UniversalAdapter:signMessage - provider is undefined");let a="";return B.state.activeCaipNetwork?.chainNamespace===de.CHAIN.SOLANA?a=(await n.request({method:"solana_signMessage",params:{message:ff.encode(new TextEncoder().encode(s)),pubkey:i}},B.state.activeCaipNetwork?.caipNetworkId)).signature:a=await n.request({method:"personal_sign",params:[s,i]},B.state.activeCaipNetwork?.caipNetworkId),{signature:a}}async estimateGas(){return Promise.resolve({gas:BigInt(0)})}async sendTransaction(){return Promise.resolve({hash:""})}walletGetAssets(e){return Promise.resolve({})}async writeContract(){return Promise.resolve({hash:""})}emitFirstAvailableConnection(){}parseUnits(){return 0n}formatUnits(){return"0"}async getCapabilities(){return Promise.resolve({})}async grantPermissions(){return Promise.resolve({})}async revokePermissions(){return Promise.resolve("0x")}async syncConnection(){return Promise.resolve({id:"WALLET_CONNECT",type:"WALLET_CONNECT",chainId:1,provider:this.provider,address:""})}async switchNetwork(e){const{caipNetwork:n}=e,s=this.getWalletConnectConnector();if(n.chainNamespace===de.CHAIN.EVM)try{await s.provider?.request({method:"wallet_switchEthereumChain",params:[{chainId:R5(n.id)}]})}catch(i){if(i.code===Vd.ERROR_CODE_UNRECOGNIZED_CHAIN_ID||i.code===Vd.ERROR_INVALID_CHAIN_ID||i.code===Vd.ERROR_CODE_DEFAULT||i?.data?.originalError?.code===Vd.ERROR_CODE_UNRECOGNIZED_CHAIN_ID)try{await s.provider?.request({method:"wallet_addEthereumChain",params:[{chainId:R5(n.id),rpcUrls:[n?.rpcUrls.chainDefault?.http],chainName:n.name,nativeCurrency:n.nativeCurrency,blockExplorerUrls:[n.blockExplorers?.default.url]}]})}catch{throw new Error("Chain is not supported")}}s.provider.setDefaultChain(n.caipNetworkId)}getWalletConnectProvider(){return this.connectors.find(s=>s.type==="WALLET_CONNECT")?.provider}}const vae=["email","socials","swaps","onramp","activity","reownBranding","multiWallet","emailCapture"],x0={email:{apiFeatureName:"social_login",localFeatureName:"email",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:t=>{if(!t?.config)return!1;const e=t.config;return!!t.isEnabled&&e.includes("email")},processFallback:t=>t===void 0?gt.DEFAULT_REMOTE_FEATURES.email:!!t},socials:{apiFeatureName:"social_login",localFeatureName:"socials",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:t=>{if(!t?.config)return!1;const e=t.config;return t.isEnabled&&e.length>0?e.filter(n=>n!=="email"):!1},processFallback:t=>t===void 0?gt.DEFAULT_REMOTE_FEATURES.socials:typeof t=="boolean"?t?gt.DEFAULT_REMOTE_FEATURES.socials:!1:t},swaps:{apiFeatureName:"swap",localFeatureName:"swaps",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:t=>{if(!t?.config)return!1;const e=t.config;return t.isEnabled&&e.length>0?e:!1},processFallback:t=>t===void 0?gt.DEFAULT_REMOTE_FEATURES.swaps:typeof t=="boolean"?t?gt.DEFAULT_REMOTE_FEATURES.swaps:!1:t},onramp:{apiFeatureName:"onramp",localFeatureName:"onramp",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:t=>{if(!t?.config)return!1;const e=t.config;return t.isEnabled&&e.length>0?e:!1},processFallback:t=>t===void 0?gt.DEFAULT_REMOTE_FEATURES.onramp:typeof t=="boolean"?t?gt.DEFAULT_REMOTE_FEATURES.onramp:!1:t},activity:{apiFeatureName:"activity",localFeatureName:"history",returnType:!1,isLegacy:!0,isAvailableOnBasic:!1,processApi:t=>!!t.isEnabled,processFallback:t=>t===void 0?gt.DEFAULT_REMOTE_FEATURES.activity:!!t},reownBranding:{apiFeatureName:"reown_branding",localFeatureName:"reownBranding",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:t=>!!t.isEnabled,processFallback:t=>t===void 0?gt.DEFAULT_REMOTE_FEATURES.reownBranding:!!t},emailCapture:{apiFeatureName:"email_capture",localFeatureName:"emailCapture",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:t=>t.isEnabled&&(t.config??[]),processFallback:t=>!1},multiWallet:{apiFeatureName:"multi_wallet",localFeatureName:"multiWallet",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:t=>!!t.isEnabled,processFallback:()=>gt.DEFAULT_REMOTE_FEATURES.multiWallet}},Eae={localSettingsOverridden:new Set,getApiConfig(t,e){return e?.find(n=>n.id===t)},addWarning(t,e){if(t!==void 0){const n=x0[e],s=n.isLegacy?`"features.${n.localFeatureName}" (now "${e}")`:`"features.${e}"`;this.localSettingsOverridden.add(s)}},processFeature(t,e,n,s,i){const a=x0[t],c=e[a.localFeatureName];if(i&&!a.isAvailableOnBasic)return!1;if(s){const u=this.getApiConfig(a.apiFeatureName,n);return u?.config===null?this.processFallbackFeature(t,c):u?.config?(c!==void 0&&this.addWarning(c,t),this.processApiFeature(t,u)):!1}return this.processFallbackFeature(t,c)},processApiFeature(t,e){return x0[t].processApi(e)},processFallbackFeature(t,e){return x0[t].processFallback(e)},async fetchRemoteFeatures(t){const e=t.basic??!1,n=t.features||{};this.localSettingsOverridden.clear();let s=null,i=!1;try{s=await Ue.fetchProjectConfig(),i=s!=null}catch(c){console.warn("[Reown Config] Failed to fetch remote project configuration. Using local/default values.",c)}const a=i&&!e?gt.DEFAULT_REMOTE_FEATURES:gt.DEFAULT_REMOTE_FEATURES_DISABLED;try{for(const c of vae){const u=this.processFeature(c,n,s,i,e);Object.assign(a,{[c]:u})}}catch(c){return console.warn("[Reown Config] Failed to process the configuration from Cloud. Using default values.",c),gt.DEFAULT_REMOTE_FEATURES}if(i&&this.localSettingsOverridden.size>0){const c=`Your local configuration for ${Array.from(this.localSettingsOverridden).join(", ")} was ignored because a remote configuration was successfully fetched. Please manage these features via your project dashboard on dashboard.reown.com.`;Yn.open({debugMessage:mi.ALERT_WARNINGS.LOCAL_CONFIGURATION_IGNORED.debugMessage(c)},"warning")}return a}};class Aae{constructor(e){this.chainNamespaces=[],this.remoteFeatures={},this.reportedAlertErrors={},this.getCaipNetwork=(n,s)=>{if(n){const i=B.getCaipNetworks(n)?.find(u=>u.id===s);if(i)return i;const a=B.getNetworkData(n)?.caipNetwork;return a||B.getRequestedCaipNetworks(n).filter(u=>u.chainNamespace===n)?.[0]}return B.state.activeCaipNetwork||this.defaultCaipNetwork},this.getCaipNetworkId=()=>{const n=this.getCaipNetwork();if(n)return n.id},this.getCaipNetworks=n=>B.getCaipNetworks(n),this.getActiveChainNamespace=()=>B.state.activeChain,this.setRequestedCaipNetworks=(n,s)=>{B.setRequestedCaipNetworks(n,s)},this.getApprovedCaipNetworkIds=()=>B.getAllApprovedCaipNetworkIds(),this.getCaipAddress=n=>B.state.activeChain===n||!n?B.state.activeCaipAddress:B.state.chains.get(n)?.accountState?.caipAddress,this.setClientId=n=>{Pe.setClientId(n)},this.getProvider=n=>Gt.getProvider(n),this.getProviderType=n=>Gt.getProviderId(n),this.getPreferredAccountType=n=>Or(n),this.setCaipAddress=(n,s)=>{De.setCaipAddress(n,s)},this.setBalance=(n,s,i)=>{De.setBalance(n,s,i)},this.setProfileName=(n,s)=>{De.setProfileName(n,s)},this.setProfileImage=(n,s)=>{De.setProfileImage(n,s)},this.setUser=(n,s)=>{De.setUser(n,s)},this.resetAccount=n=>{De.resetAccount(n)},this.setCaipNetwork=n=>{B.setActiveCaipNetwork(n)},this.setCaipNetworkOfNamespace=(n,s)=>{B.setChainNetworkData(s,{caipNetwork:n})},this.setStatus=(n,s)=>{De.setStatus(n,s),be.isConnected()?ge.setConnectionStatus("connected"):ge.setConnectionStatus("disconnected")},this.getAddressByChainNamespace=n=>B.state.chains.get(n)?.accountState?.address,this.setConnectors=n=>{const s=[...be.state.allConnectors,...n];be.setConnectors(s)},this.setConnections=(n,s)=>{ge.setConnections(n,s),ve.setConnections(n,s)},this.fetchIdentity=n=>Pe.fetchIdentity(n),this.getReownName=n=>uh.getNamesForAddress(n),this.getConnectors=()=>be.getConnectors(),this.getConnectorImage=n=>wM.getConnectorImage(n),this.getConnections=n=>this.remoteFeatures.multiWallet?bm.getConnectionsData(n).connections:(Yn.open(de.REMOTE_FEATURES_ALERTS.MULTI_WALLET_NOT_ENABLED.DEFAULT,"info"),[]),this.getRecentConnections=n=>this.remoteFeatures.multiWallet?bm.getConnectionsData(n).recentConnections:(Yn.open(de.REMOTE_FEATURES_ALERTS.MULTI_WALLET_NOT_ENABLED.DEFAULT,"info"),[]),this.switchConnection=async n=>{if(!this.remoteFeatures.multiWallet){Yn.open(de.REMOTE_FEATURES_ALERTS.MULTI_WALLET_NOT_ENABLED.DEFAULT,"info");return}await ve.switchConnection(n)},this.deleteConnection=n=>{if(!this.remoteFeatures.multiWallet){Yn.open(de.REMOTE_FEATURES_ALERTS.MULTI_WALLET_NOT_ENABLED.DEFAULT,"info");return}ge.deleteAddressFromConnection(n),ve.syncStorageConnections()},this.setConnectedWalletInfo=(n,s)=>{const i=Gt.getProviderId(s),a=n?{...n,type:i}:void 0;De.setConnectedWalletInfo(a,s)},this.getIsConnectedState=()=>!!B.state.activeCaipAddress,this.addAddressLabel=(n,s,i)=>{De.addAddressLabel(n,s,i)},this.removeAddressLabel=(n,s)=>{De.removeAddressLabel(n,s)},this.getAddress=n=>B.state.activeChain===n||!n?De.state.address:B.state.chains.get(n)?.accountState?.address,this.setApprovedCaipNetworksData=n=>B.setApprovedCaipNetworksData(n),this.resetNetwork=n=>{B.resetNetwork(n)},this.addConnector=n=>{be.addConnector(n)},this.resetWcConnection=()=>{ve.resetWcConnection()},this.setAddressExplorerUrl=(n,s)=>{De.setAddressExplorerUrl(n,s)},this.setSmartAccountDeployed=(n,s)=>{De.setSmartAccountDeployed(n,s)},this.setPreferredAccountType=(n,s)=>{B.setAccountProp("preferredAccountType",n,s)},this.setEIP6963Enabled=n=>{fe.setEIP6963Enabled(n)},this.handleUnsafeRPCRequest=()=>{if(this.isOpen()){if(this.isTransactionStackEmpty())return;this.redirect("ApproveTransaction")}else this.open({view:"ApproveTransaction"})},this.options=e,this.version=e.sdkVersion,this.caipNetworks=this.extendCaipNetworks(e),this.chainNamespaces=this.getChainNamespacesSet(e.adapters,this.caipNetworks),this.defaultCaipNetwork=this.extendDefaultCaipNetwork(e),this.chainAdapters=this.createAdapters(e.adapters),this.readyPromise=this.initialize(e)}getChainNamespacesSet(e,n){const s=e?.map(a=>a.namespace).filter(a=>!!a);if(s?.length)return[...new Set(s)];const i=n?.map(a=>a.chainNamespace);return[...new Set(i)]}async initialize(e){this.initializeProjectSettings(e),this.initControllers(e),await this.initChainAdapters(),this.sendInitializeEvent(e),fe.state.enableReconnect?(await this.syncExistingConnection(),await this.syncAdapterConnections()):await this.unSyncExistingConnection(),this.remoteFeatures=await Eae.fetchRemoteFeatures(e),fe.setRemoteFeatures(this.remoteFeatures),this.remoteFeatures.onramp&&A2.setOnrampProviders(this.remoteFeatures.onramp),(fe.state.remoteFeatures?.email||Array.isArray(fe.state.remoteFeatures?.socials)&&fe.state.remoteFeatures?.socials.length>0)&&await this.checkAllowedOrigins()}async checkAllowedOrigins(){try{const e=await Ue.fetchAllowedOrigins();if(!e||!Oe.isClient()){Yn.open(mi.ALERT_ERRORS.PROJECT_ID_NOT_CONFIGURED,"error");return}const n=window.location.origin;Eo.isOriginAllowed(n,e,Vd.DEFAULT_ALLOWED_ANCESTORS)||Yn.open(mi.ALERT_ERRORS.ORIGIN_NOT_ALLOWED,"error")}catch(e){if(!(e instanceof Error)){Yn.open(mi.ALERT_ERRORS.PROJECT_ID_NOT_CONFIGURED,"error");return}switch(e.message){case"RATE_LIMITED":Yn.open(mi.ALERT_ERRORS.RATE_LIMITED_APP_CONFIGURATION,"error");break;case"SERVER_ERROR":{const n=e.cause instanceof Error?e.cause:e;Yn.open({displayMessage:mi.ALERT_ERRORS.SERVER_ERROR_APP_CONFIGURATION.displayMessage,debugMessage:mi.ALERT_ERRORS.SERVER_ERROR_APP_CONFIGURATION.debugMessage(n.message)},"error");break}default:Yn.open(mi.ALERT_ERRORS.PROJECT_ID_NOT_CONFIGURED,"error")}}}sendInitializeEvent(e){const{...n}=e;delete n.adapters,delete n.universalProvider,xt.sendEvent({type:"track",event:"INITIALIZE",properties:{...n,networks:e.networks.map(s=>s.id),siweConfig:{options:e.siweConfig?.options||{}}}})}initControllers(e){this.initializeOptionsController(e),this.initializeChainController(e),this.initializeThemeController(e),this.initializeConnectionController(e),this.initializeConnectorController()}initializeThemeController(e){e.themeMode&&Fs.setThemeMode(e.themeMode),e.themeVariables&&Fs.setThemeVariables(e.themeVariables)}initializeChainController(e){if(!this.connectionControllerClient||!this.networkControllerClient)throw new Error("ConnectionControllerClient and NetworkControllerClient must be set");B.initialize(e.adapters??[],this.caipNetworks,{connectionControllerClient:this.connectionControllerClient,networkControllerClient:this.networkControllerClient});const n=this.getDefaultNetwork();n&&B.setActiveCaipNetwork(n)}initializeConnectionController(e){ve.initialize(e.adapters??[]),ve.setWcBasic(e.basic??!1)}initializeConnectorController(){be.initialize(this.chainNamespaces)}initializeProjectSettings(e){fe.setProjectId(e.projectId),fe.setSdkVersion(e.sdkVersion)}initializeOptionsController(e){fe.setDebug(e.debug!==!1),fe.setEnableWalletConnect(e.enableWalletConnect!==!1),fe.setEnableWalletGuide(e.enableWalletGuide!==!1),fe.setEnableWallets(e.enableWallets!==!1),fe.setEIP6963Enabled(e.enableEIP6963!==!1),fe.setEnableNetworkSwitch(e.enableNetworkSwitch!==!1),fe.setEnableReconnect(e.enableReconnect!==!1),fe.setEnableAuthLogger(e.enableAuthLogger!==!1),fe.setCustomRpcUrls(e.customRpcUrls),fe.setEnableEmbedded(e.enableEmbedded),fe.setAllWallets(e.allWallets),fe.setIncludeWalletIds(e.includeWalletIds),fe.setExcludeWalletIds(e.excludeWalletIds),fe.setFeaturedWalletIds(e.featuredWalletIds),fe.setTokens(e.tokens),fe.setTermsConditionsUrl(e.termsConditionsUrl),fe.setPrivacyPolicyUrl(e.privacyPolicyUrl),fe.setCustomWallets(e.customWallets),fe.setFeatures(e.features),fe.setAllowUnsupportedChain(e.allowUnsupportedChain),fe.setUniversalProviderConfigOverride(e.universalProviderConfigOverride),fe.setPreferUniversalLinks(e.experimental_preferUniversalLinks),fe.setDefaultAccountTypes(e.defaultAccountTypes);const n=this.getDefaultMetaData();if(!e.metadata&&n&&(e.metadata=n),fe.setMetadata(e.metadata),fe.setDisableAppend(e.disableAppend),fe.setEnableEmbedded(e.enableEmbedded),fe.setSIWX(e.siwx),!e.projectId){Yn.open(mi.ALERT_ERRORS.PROJECT_ID_NOT_CONFIGURED,"error");return}if(e.adapters?.find(i=>i.namespace===de.CHAIN.EVM)&&e.siweConfig){if(e.siwx)throw new Error("Cannot set both `siweConfig` and `siwx` options");fe.setSIWX(e.siweConfig.mapToSIWX())}}getDefaultMetaData(){return Oe.isClient()?{name:document.getElementsByTagName("title")?.[0]?.textContent||"",description:document.querySelector('meta[property="og:description"]')?.content||"",url:window.location.origin,icons:[document.querySelector('link[rel~="icon"]')?.href||""]}:null}setUnsupportedNetwork(e){const n=this.getActiveChainNamespace();if(n){const s=Nu.getUnsupportedNetwork(`${n}:${e}`);B.setActiveCaipNetwork(s)}}getDefaultNetwork(){return Nu.getCaipNetworkFromStorage(this.defaultCaipNetwork)}extendCaipNetwork(e,n){return Nu.extendCaipNetwork(e,{customNetworkImageUrls:n.chainImages,projectId:n.projectId})}extendCaipNetworks(e){return Nu.extendCaipNetworks(e.networks,{customNetworkImageUrls:e.chainImages,customRpcUrls:e.customRpcUrls,projectId:e.projectId})}extendDefaultCaipNetwork(e){const n=e.networks.find(i=>i.id===e.defaultNetwork?.id);return n?Nu.extendCaipNetwork(n,{customNetworkImageUrls:e.chainImages,customRpcUrls:e.customRpcUrls,projectId:e.projectId}):void 0}async disconnectNamespace(e,n){try{this.setLoading(!0,e);let s={connections:[]};const i=this.getAdapter(e);return(B.state.chains.get(e)?.accountState?.caipAddress||!fe.state.enableReconnect)&&i?.disconnect&&(s=await i.disconnect({id:n})),this.setLoading(!1,e),s}catch(s){throw this.setLoading(!1,e),new Error(`Failed to disconnect chains: ${s.message}`)}}createClients(){this.connectionControllerClient={connectWalletConnect:async()=>{const e=B.state.activeChain,n=this.getAdapter(e),s=this.getCaipNetwork(e)?.id,i=ve.getConnections(e),a=this.remoteFeatures.multiWallet,c=i.length>0;if(!n)throw new Error("Adapter not found");const u=await n.connectWalletConnect(s);(!c||!a)&&this.close(),this.setClientId(u?.clientId||null),ge.setConnectedNamespaces([...B.state.chains.keys()]),await this.syncWalletConnectAccount(),await Er.initializeIfEnabled()},connectExternal:async({id:e,address:n,info:s,type:i,provider:a,chain:c,caipNetwork:u,socialUri:f})=>{const h=B.state.activeChain,p=c||h,g=this.getAdapter(p);if(c&&c!==h&&!u){const v=this.getCaipNetworks().find(E=>E.chainNamespace===c);v&&this.setCaipNetwork(v)}if(!p)throw new Error("connectExternal: namespace not found");if(!g)throw new Error("connectExternal: adapter not found");const y=this.getCaipNetwork(p),b=await g.connect({id:e,address:n,info:s,type:i,provider:a,socialUri:f,chainId:u?.id||y?.id,rpcUrl:u?.rpcUrls?.default?.http?.[0]||y?.rpcUrls?.default?.http?.[0]});if(b)return ge.addConnectedNamespace(p),this.syncProvider({...b,chainNamespace:p}),this.setStatus("connected",p),this.syncConnectedWalletInfo(p),ge.removeDisconnectedConnectorId(e,p),{address:b.address}},reconnectExternal:async({id:e,info:n,type:s,provider:i})=>{const a=B.state.activeChain,c=this.getAdapter(a);if(!a)throw new Error("reconnectExternal: namespace not found");if(!c)throw new Error("reconnectExternal: adapter not found");c?.reconnect&&(await c?.reconnect({id:e,info:n,type:s,provider:i,chainId:this.getCaipNetwork()?.id}),ge.addConnectedNamespace(a),this.syncConnectedWalletInfo(a))},disconnect:async e=>{const{id:n,chainNamespace:s,initialDisconnect:i}=e||{},a=s||B.state.activeChain,c=be.getConnectorId(a),u=n===de.CONNECTOR_ID.AUTH||c===de.CONNECTOR_ID.AUTH,f=n===de.CONNECTOR_ID.WALLET_CONNECT||c===de.CONNECTOR_ID.WALLET_CONNECT;try{const h=Array.from(B.state.chains.keys());let p=s?[s]:h;(f||u)&&(p=h);const g=p.map(async v=>{const E=be.getConnectorId(v),A=await this.disconnectNamespace(v,n||E);A&&(u&&ge.deleteConnectedSocialProvider(),A.connections.forEach(x=>{ge.addDisconnectedConnectorId(x.connectorId,v)})),i&&this.onDisconnectNamespace({chainNamespace:v,closeModal:!1})}),y=await Promise.allSettled(g);ft.resetSend(),ve.resetWcConnection(),Er.getSIWX()?.signOutOnDisconnect&&await Er.clearSessions(),be.setFilterByNamespace(void 0),ve.syncStorageConnections();const b=y.filter(v=>v.status==="rejected");if(b.length>0)throw new Error(b.map(v=>v.reason.message).join(", "));xt.sendEvent({type:"track",event:"DISCONNECT_SUCCESS",properties:{namespace:s||"all"}})}catch(h){throw new Error(`Failed to disconnect chains: ${h.message}`)}},checkInstalled:e=>e?e.some(n=>!!window.ethereum?.[String(n)]):!!window.ethereum,signMessage:async e=>{const n=B.state.activeChain,s=this.getAdapter(B.state.activeChain);if(!n)throw new Error("signMessage: namespace not found");if(!s)throw new Error("signMessage: adapter not found");return(await s?.signMessage({message:e,address:De.state.address,provider:Gt.getProvider(n)}))?.signature||""},sendTransaction:async e=>{const n=e.chainNamespace;if(!n)throw new Error("sendTransaction: namespace not found");if(gt.SEND_SUPPORTED_NAMESPACES.includes(n)){const s=this.getAdapter(n);if(!s)throw new Error("sendTransaction: adapter not found");const i=Gt.getProvider(n);return(await s?.sendTransaction({...e,caipNetwork:this.getCaipNetwork(),provider:i}))?.hash||""}return""},estimateGas:async e=>{const n=e.chainNamespace;if(n===de.CHAIN.EVM){const s=this.getAdapter(n);if(!s)throw new Error("estimateGas: adapter is required but got undefined");const i=Gt.getProvider(n),a=this.getCaipNetwork();if(!a)throw new Error("estimateGas: caipNetwork is required but got undefined");return(await s?.estimateGas({...e,provider:i,caipNetwork:a}))?.gas||0n}return 0n},getEnsAvatar:async()=>{const e=B.state.activeChain;if(!e)throw new Error("getEnsAvatar: namespace is required but got undefined");return await this.syncIdentity({address:De.state.address,chainId:Number(this.getCaipNetwork()?.id),chainNamespace:e}),De.state.profileImage||!1},getEnsAddress:async e=>await Eo.resolveReownName(e),writeContract:async e=>{const n=B.state.activeChain,s=this.getAdapter(n);if(!n)throw new Error("writeContract: namespace is required but got undefined");if(!s)throw new Error("writeContract: adapter is required but got undefined");const i=this.getCaipNetwork(),a=this.getCaipAddress(),c=Gt.getProvider(n);if(!i||!a)throw new Error("writeContract: caipNetwork or caipAddress is required but got undefined");return(await s?.writeContract({...e,caipNetwork:i,provider:c,caipAddress:a}))?.hash},parseUnits:(e,n)=>{const s=this.getAdapter(B.state.activeChain);if(!s)throw new Error("parseUnits: adapter is required but got undefined");return s?.parseUnits({value:e,decimals:n})??0n},formatUnits:(e,n)=>{const s=this.getAdapter(B.state.activeChain);if(!s)throw new Error("formatUnits: adapter is required but got undefined");return s?.formatUnits({value:e,decimals:n})??"0"},getCapabilities:async e=>{const n=this.getAdapter(B.state.activeChain);if(!n)throw new Error("getCapabilities: adapter is required but got undefined");return await n?.getCapabilities(e)},grantPermissions:async e=>{const n=this.getAdapter(B.state.activeChain);if(!n)throw new Error("grantPermissions: adapter is required but got undefined");return await n?.grantPermissions(e)},revokePermissions:async e=>{const n=this.getAdapter(B.state.activeChain);if(!n)throw new Error("revokePermissions: adapter is required but got undefined");return n?.revokePermissions?await n.revokePermissions(e):"0x"},walletGetAssets:async e=>{const n=this.getAdapter(B.state.activeChain);if(!n)throw new Error("walletGetAssets: adapter is required but got undefined");return await n?.walletGetAssets(e)??{}},updateBalance:e=>{const n=this.getCaipNetwork(e);!n||!De.state.address||this.updateNativeBalance(De.state.address,n?.id,e)}},this.networkControllerClient={switchCaipNetwork:async e=>await this.switchCaipNetwork(e),getApprovedCaipNetworksData:async()=>this.getApprovedCaipNetworksData()},ve.setClient(this.connectionControllerClient)}getApprovedCaipNetworksData(){if(Gt.getProviderId(B.state.activeChain)===Dc.CONNECTOR_TYPE_WALLET_CONNECT){const n=this.universalProvider?.session?.namespaces;return{supportsAllNetworks:this.universalProvider?.session?.peer?.metadata.name==="MetaMask Wallet",approvedCaipNetworkIds:this.getChainsFromNamespaces(n)}}return{supportsAllNetworks:!0,approvedCaipNetworkIds:[]}}async switchCaipNetwork(e){if(!e)return;const n=e.chainNamespace;if(this.getAddressByChainNamespace(e.chainNamespace)){const i=Gt.getProvider(n),a=Gt.getProviderId(n);if(e.chainNamespace===B.state.activeChain)await this.getAdapter(n)?.switchNetwork({caipNetwork:e,provider:i,providerType:a});else if(this.setCaipNetwork(e),a===Dc.CONNECTOR_TYPE_WALLET_CONNECT)this.syncWalletConnectAccount();else{const c=this.getAddressByChainNamespace(n);c&&this.syncAccount({address:c,chainId:e.id,chainNamespace:n})}}else this.setCaipNetwork(e)}getChainsFromNamespaces(e={}){return Object.values(e).flatMap(n=>{const s=n.chains||[],i=n.accounts.map(a=>{const{chainId:c,chainNamespace:u}=Ks.parseCaipAddress(a);return`${u}:${c}`});return Array.from(new Set([...s,...i]))})}createAdapters(e){return this.createClients(),this.chainNamespaces.reduce((n,s)=>{const i=e?.find(a=>a.namespace===s);return i?(i.construct({namespace:s,projectId:this.options?.projectId,networks:this.getCaipNetworks()}),n[s]=i):n[s]=new bae({namespace:s,networks:this.getCaipNetworks()}),n},{})}async initChainAdapter(e){this.onConnectors(e),this.listenAdapter(e),await this.chainAdapters?.[e].syncConnectors(this.options,this),await this.createUniversalProviderForAdapter(e)}async initChainAdapters(){await Promise.all(this.chainNamespaces.map(async e=>{await this.initChainAdapter(e)}))}onConnectors(e){this.getAdapter(e)?.on("connectors",this.setConnectors.bind(this))}listenAdapter(e){const n=this.getAdapter(e);if(!n)return;const s=ge.getConnectionStatus();fe.state.enableReconnect===!1?this.setStatus("disconnected",e):s==="connected"?this.setStatus("connecting",e):s==="disconnected"?(ge.clearAddressCache(),this.setStatus(s,e)):this.setStatus(s,e),n.on("switchNetwork",({address:i,chainId:a})=>{const c=this.getCaipNetworks().find(h=>h.id.toString()===a.toString()||h.caipNetworkId.toString()===a.toString()),u=B.state.activeChain===e,f=B.state.chains.get(e)?.accountState?.address;if(c){const h=u&&i?i:f;h&&this.syncAccount({address:h,chainId:c.id,chainNamespace:e})}else this.setUnsupportedNetwork(a)}),n.on("disconnect",()=>{const i=this.remoteFeatures.multiWallet,a=Array.from(ve.state.connections.values()).flat();this.onDisconnectNamespace({chainNamespace:e,closeModal:!i||a.length===0})}),n.on("connections",i=>{this.setConnections(i,e)}),n.on("pendingTransactions",()=>{const i=De.state.address,a=B.state.activeCaipNetwork;!i||!a?.id||this.updateNativeBalance(i,a.id,a.chainNamespace)}),n.on("accountChanged",({address:i,chainId:a,connector:c})=>{const u=B.state.activeChain===e;c?.provider&&(this.syncProvider({id:c.id,type:c.type,provider:c.provider,chainNamespace:e}),this.syncConnectedWalletInfo(e)),u&&a?this.syncAccount({address:i,chainId:a,chainNamespace:e}):u&&B.state.activeCaipNetwork?.id?this.syncAccount({address:i,chainId:B.state.activeCaipNetwork?.id,chainNamespace:e}):this.syncAccountInfo(i,a,e),ge.addConnectedNamespace(e)})}async createUniversalProviderForAdapter(e){await this.getUniversalProvider(),this.universalProvider&&await this.chainAdapters?.[e]?.setUniversalProvider?.(this.universalProvider)}async syncExistingConnection(){await Promise.allSettled(this.chainNamespaces.map(e=>this.syncNamespaceConnection(e)))}async unSyncExistingConnection(){try{await Promise.allSettled(this.chainNamespaces.map(e=>ve.disconnect({namespace:e,initialDisconnect:!0})))}catch(e){console.error("Error disconnecting existing connections:",e)}}async syncNamespaceConnection(e){try{e===de.CHAIN.EVM&&Oe.isSafeApp()&&be.setConnectorId(de.CONNECTOR_ID.SAFE,e);const n=be.getConnectorId(e);switch(this.setStatus("connecting",e),n){case de.CONNECTOR_ID.WALLET_CONNECT:await this.syncWalletConnectAccount();break;case de.CONNECTOR_ID.AUTH:break;default:await this.syncAdapterConnection(e)}}catch(n){console.warn("AppKit couldn't sync existing connection",n),this.setStatus("disconnected",e)}}onDisconnectNamespace(e){const{chainNamespace:n,closeModal:s}=e||{};B.resetAccount(n),B.resetNetwork(n),ge.removeConnectedNamespace(n);const i=Array.from(B.state.chains.keys());(n?[n]:i).forEach(c=>ge.addDisconnectedConnectorId(be.getConnectorId(c)||"",c)),be.removeConnectorId(n),Gt.resetChain(n),this.setUser(void 0,n),this.setStatus("disconnected",n),this.setConnectedWalletInfo(void 0,n),s!==!1&&tt.close()}async syncAdapterConnections(){await Promise.allSettled(this.chainNamespaces.map(e=>{const n=this.getCaipAddress(e),s=this.getCaipNetwork(e);return this.chainAdapters?.[e].syncConnections({connectToFirstConnector:!n,caipNetwork:s,getConnectorStorageInfo(i){const c=ge.getConnections()[e]??[];return{hasDisconnected:ge.isConnectorDisconnected(i,e),hasConnected:c.some(u=>Gs.isLowerCaseMatch(u.connectorId,i))}}})}))}async syncAdapterConnection(e){const n=this.getAdapter(e),s=be.getConnectorId(e),i=this.getCaipNetwork(e),c=be.getConnectors(e).find(u=>u.id===s);try{if(!n||!c)throw new Error(`Adapter or connector not found for namespace ${e}`);if(!i?.id)throw new Error("CaipNetwork not found");const u=await n?.syncConnection({namespace:e,id:c.id,chainId:i.id,rpcUrl:i?.rpcUrls?.default?.http?.[0]});u?(this.syncProvider({...u,chainNamespace:e}),await this.syncAccount({...u,chainNamespace:e}),this.setStatus("connected",e)):this.setStatus("disconnected",e)}catch{this.onDisconnectNamespace({chainNamespace:e,closeModal:!1})}}async syncWalletConnectAccount(){const e=Object.keys(this.universalProvider?.session?.namespaces||{}),n=this.chainNamespaces.map(async s=>{const i=this.getAdapter(s);if(!i)return;const a=this.universalProvider?.session?.namespaces?.[s]?.accounts||[],c=B.state.activeCaipNetwork?.id,u=a.find(f=>{const{chainId:h}=Ks.parseCaipAddress(f);return h===c?.toString()})||a[0];if(u){const f=Ks.validateCaipAddress(u),{chainId:h,address:p}=Ks.parseCaipAddress(f);if(Gt.setProviderId(s,Dc.CONNECTOR_TYPE_WALLET_CONNECT),this.caipNetworks&&B.state.activeCaipNetwork&&i.namespace!==de.CHAIN.EVM){const g=i.getWalletConnectProvider({caipNetworks:this.getCaipNetworks(),provider:this.universalProvider,activeCaipNetwork:B.state.activeCaipNetwork});Gt.setProvider(s,g)}else Gt.setProvider(s,this.universalProvider);be.setConnectorId(de.CONNECTOR_ID.WALLET_CONNECT,s),ge.addConnectedNamespace(s),await this.syncAccount({address:p,chainId:h,chainNamespace:s})}else e.includes(s)&&this.setStatus("disconnected",s);this.syncConnectedWalletInfo(s),await B.setApprovedCaipNetworksData(s)});await Promise.all(n)}syncProvider({type:e,provider:n,id:s,chainNamespace:i}){Gt.setProviderId(i,e),Gt.setProvider(i,n),be.setConnectorId(s,i)}async syncAccount(e){const n=e.chainNamespace===B.state.activeChain,s=B.getCaipNetworkByNamespace(e.chainNamespace,e.chainId),{address:i,chainId:a,chainNamespace:c}=e,{chainId:u}=ge.getActiveNetworkProps(),f=a||u,h=B.state.activeCaipNetwork?.name===de.UNSUPPORTED_NETWORK_NAME,p=B.getNetworkProp("supportsAllNetworks",c);if(this.setStatus("connected",c),!(h&&!p)&&f){let g=this.getCaipNetworks().find(v=>v.id.toString()===f.toString()),y=this.getCaipNetworks().find(v=>v.chainNamespace===c);if(!p&&!g&&!y){const v=this.getApprovedCaipNetworkIds()||[],E=v.find(x=>Ks.parseCaipNetworkId(x)?.chainId===f.toString()),A=v.find(x=>Ks.parseCaipNetworkId(x)?.chainNamespace===c);g=this.getCaipNetworks().find(x=>x.caipNetworkId===E),y=this.getCaipNetworks().find(x=>x.caipNetworkId===A||"deprecatedCaipNetworkId"in x&&x.deprecatedCaipNetworkId===A)}const b=g||y;b?.chainNamespace===B.state.activeChain?fe.state.enableNetworkSwitch&&!fe.state.allowUnsupportedChain&&B.state.activeCaipNetwork?.name===de.UNSUPPORTED_NETWORK_NAME?B.showUnsupportedChainUI():this.setCaipNetwork(b):n||s&&this.setCaipNetworkOfNamespace(s,c),this.syncConnectedWalletInfo(c),Gs.isLowerCaseMatch(i,De.state.address)||this.syncAccountInfo(i,b?.id,c),n?await this.syncBalance({address:i,chainId:b?.id,chainNamespace:c}):await this.syncBalance({address:i,chainId:s?.id,chainNamespace:c})}}async syncAccountInfo(e,n,s){const i=this.getCaipAddress(s),a=n||i?.split(":")[1];if(!a)return;const c=`${s}:${a}:${e}`;this.setCaipAddress(c,s),await this.syncIdentity({address:e,chainId:a,chainNamespace:s})}async syncReownName(e,n){try{const s=await this.getReownName(e);if(s[0]){const i=s[0];this.setProfileName(i.name,n)}else this.setProfileName(null,n)}catch{this.setProfileName(null,n)}}syncConnectedWalletInfo(e){const n=be.getConnectorId(e),s=Gt.getProviderId(e);if(s===Dc.CONNECTOR_TYPE_ANNOUNCED||s===Dc.CONNECTOR_TYPE_INJECTED){if(n){const a=this.getConnectors().find(c=>{const u=c.id===n,f=c.info?.rdns===n,h=c.connectors?.some(p=>p.id===n||p.info?.rdns===n);return u||f||!!h});if(a){const{info:c,name:u,imageUrl:f}=a,h=f||this.getConnectorImage(a);this.setConnectedWalletInfo({name:u,icon:h,...c},e)}}}else if(s===Dc.CONNECTOR_TYPE_WALLET_CONNECT){const i=Gt.getProvider(e);i?.session&&this.setConnectedWalletInfo({...i.session.peer.metadata,name:i.session.peer.metadata.name,icon:i.session.peer.metadata.icons?.[0]},e)}else if(n&&(n===de.CONNECTOR_ID.COINBASE_SDK||n===de.CONNECTOR_ID.COINBASE)){const i=this.getConnectors().find(f=>f.id===n),a=i?.name||"Coinbase Wallet",c=i?.imageUrl||this.getConnectorImage(i),u=i?.info;this.setConnectedWalletInfo({...u,name:a,icon:c},e)}}async syncBalance(e){!dM.getNetworksByNamespace(this.getCaipNetworks(),e.chainNamespace).find(s=>s.id.toString()===e.chainId?.toString())||!e.chainId||await this.updateNativeBalance(e.address,e.chainId,e.chainNamespace)}async ready(){await this.readyPromise}async updateNativeBalance(e,n,s){const i=this.getAdapter(s),a=B.getCaipNetworkByNamespace(s,n);if(i){const c=await i.getBalance({address:e,chainId:n,caipNetwork:a,tokens:this.options.tokens});return this.setBalance(c.balance,c.symbol,s),c}}async initializeUniversalAdapter(){const e=qoe.createLogger((s,...i)=>{s&&this.handleAlertError(s),console.error(...i)}),n={projectId:this.options?.projectId,metadata:{name:this.options?.metadata?this.options?.metadata.name:"",description:this.options?.metadata?this.options?.metadata.description:"",url:this.options?.metadata?this.options?.metadata.url:"",icons:this.options?.metadata?this.options?.metadata.icons:[""]},logger:e};fe.setManualWCControl(!!this.options?.manualWCControl),this.universalProvider=this.options.universalProvider??await Ym.init(n),fe.state.enableReconnect===!1&&this.universalProvider.session&&await this.universalProvider.disconnect(),this.listenWalletConnect()}listenWalletConnect(){this.universalProvider&&this.chainNamespaces.forEach(e=>{Eo.listenWcProvider({universalProvider:this.universalProvider,namespace:e,onDisplayUri:n=>{ve.setUri(n)},onConnect:()=>{ve.finalizeWcConnection()},onDisconnect:()=>{B.state.noAdapters&&this.resetAccount(e),ve.resetWcConnection()},onChainChanged:n=>{const s=B.state.activeChain,i=s&&be.state.activeConnectorIds[s]===de.CONNECTOR_ID.WALLET_CONNECT;if(s===e&&(B.state.noAdapters||i)){const a=this.getCaipNetworks().find(u=>u.id.toString()===n.toString()||u.caipNetworkId.toString()===n.toString()),c=this.getCaipNetwork();if(!a){this.setUnsupportedNetwork(n);return}c?.id.toString()!==a?.id.toString()&&c?.chainNamespace===a?.chainNamespace&&this.setCaipNetwork(a)}},onAccountsChanged:n=>{const s=B.state.activeChain,i=s&&be.state.activeConnectorIds[s]===de.CONNECTOR_ID.WALLET_CONNECT;if(s===e&&(B.state.noAdapters||i)&&n.length>0){const a=n[0];this.syncAccount({address:a.address,chainId:a.chainId,chainNamespace:a.chainNamespace})}}})})}createUniversalProvider(){return!this.universalProviderInitPromise&&Oe.isClient()&&this.options?.projectId&&(this.universalProviderInitPromise=this.initializeUniversalAdapter()),this.universalProviderInitPromise}async getUniversalProvider(){if(!this.universalProvider)try{await this.createUniversalProvider()}catch(e){xt.sendEvent({type:"error",event:"INTERNAL_SDK_ERROR",properties:{errorType:"UniversalProviderInitError",errorMessage:e instanceof Error?e.message:"Unknown",uncaught:!1}}),console.error("AppKit:getUniversalProvider - Cannot create provider",e)}return this.universalProvider}handleAlertError(e){const n=Object.entries(mi.UniversalProviderErrors).find(([,{message:u}])=>e.message.includes(u)),[s,i]=n??[],{message:a,alertErrorKey:c}=i??{};if(s&&a&&!this.reportedAlertErrors[s]){const u=mi.ALERT_ERRORS[c];u&&(Yn.open(u,"error"),this.reportedAlertErrors[s]=!0)}}getAdapter(e){if(e)return this.chainAdapters?.[e]}createAdapter(e){if(!e)return;const n=e.namespace;if(!n)return;this.createClients();const s=e;s.namespace=n,s.construct({namespace:n,projectId:this.options?.projectId,networks:this.getCaipNetworks()}),this.chainNamespaces.includes(n)||this.chainNamespaces.push(n),this.chainAdapters&&(this.chainAdapters[n]=s)}async open(e){if(await this.injectModalUi(),e?.uri&&ve.setUri(e.uri),e?.arguments)switch(e?.view){case"Swap":return tt.open({...e,data:{swap:e.arguments}})}return tt.open(e)}async close(){await this.injectModalUi(),tt.close()}setLoading(e,n){tt.setLoading(e,n)}async disconnect(e){await ve.disconnect({namespace:e})}getSIWX(){return fe.state.siwx}getError(){return""}getChainId(){return B.state.activeCaipNetwork?.id}async switchNetwork(e){const n=this.getCaipNetworks().find(s=>s.id===e.id);if(!n){Yn.open(mi.ALERT_ERRORS.SWITCH_NETWORK_NOT_FOUND,"error");return}await B.switchActiveNetwork(n)}getWalletProvider(){return B.state.activeChain?Gt.state.providers[B.state.activeChain]:null}getWalletProviderType(){return Gt.getProviderId(B.state.activeChain)}subscribeProviders(e){return Gt.subscribeProviders(e)}getThemeMode(){return Fs.state.themeMode}getThemeVariables(){return Fs.state.themeVariables}setThemeMode(e){Fs.setThemeMode(e),jM(Fs.state.themeMode)}setTermsConditionsUrl(e){fe.setTermsConditionsUrl(e)}setPrivacyPolicyUrl(e){fe.setPrivacyPolicyUrl(e)}setThemeVariables(e){Fs.setThemeVariables(e),hae(Fs.state.themeVariables)}subscribeTheme(e){return Fs.subscribe(e)}subscribeConnections(e){return this.remoteFeatures.multiWallet?ve.subscribe(e):(Yn.open(de.REMOTE_FEATURES_ALERTS.MULTI_WALLET_NOT_ENABLED.DEFAULT,"info"),()=>{})}getWalletInfo(e){return e?B.state.chains.get(e)?.accountState?.connectedWalletInfo:De.state.connectedWalletInfo}getAccount(e){const n=e||B.state.activeChain,s=be.getAuthConnector(n),i=B.getAccountData(n),a=ge.getConnectedConnectorId(B.state.activeChain),c=ve.getConnections(n);if(!n)throw new Error("AppKit:getAccount - namespace is required");const u=c.flatMap(f=>f.accounts.map(({address:h,type:p})=>Oe.createAccount(n,h,p||"eoa")));if(i)return{allAccounts:u,caipAddress:i.caipAddress,address:Oe.getPlainAddress(i.caipAddress),isConnected:!!i.caipAddress,status:i.status,embeddedWalletInfo:s&&a===de.CONNECTOR_ID.AUTH?{user:i.user?{...i.user,username:ge.getConnectedSocialUsername()}:void 0,authProvider:i.socialProvider||"email",accountType:Or(n),isSmartAccountDeployed:!!i.smartAccountDeployed}:void 0}}subscribeAccount(e,n){const s=()=>{const i=this.getAccount(n);i&&e(i)};n?B.subscribeChainProp("accountState",s,n):B.subscribe(s),be.subscribe(s)}subscribeNetwork(e){return B.subscribe(({activeCaipNetwork:n})=>{e({caipNetwork:n,chainId:n?.id,caipNetworkId:n?.caipNetworkId})})}subscribeWalletInfo(e,n){return n?De.subscribeKey("connectedWalletInfo",e,n):De.subscribeKey("connectedWalletInfo",e)}subscribeShouldUpdateToAddress(e){De.subscribeKey("shouldUpdateToAddress",e)}subscribeCaipNetworkChange(e){B.subscribeKey("activeCaipNetwork",e)}getState(){return mo.state}getRemoteFeatures(){return fe.state.remoteFeatures}subscribeState(e){return mo.subscribe(e)}subscribeRemoteFeatures(e){return fe.subscribeKey("remoteFeatures",e)}showErrorMessage(e){Cr.showError(e)}showSuccessMessage(e){Cr.showSuccess(e)}getEvent(){return{...xt.state}}subscribeEvents(e){return xt.subscribe(e)}replace(e){je.replace(e)}redirect(e){je.push(e)}popTransactionStack(e){je.popTransactionStack(e)}isOpen(){return tt.state.open}isTransactionStackEmpty(){return je.state.transactionStack.length===0}static getInstance(){return this.instance}updateFeatures(e){fe.setFeatures(e)}updateRemoteFeatures(e){fe.setRemoteFeatures(e)}updateOptions(e){const s={...fe.state||{},...e};fe.setOptions(s)}setConnectMethodsOrder(e){fe.setConnectMethodsOrder(e)}setWalletFeaturesOrder(e){fe.setWalletFeaturesOrder(e)}setCollapseWallets(e){fe.setCollapseWallets(e)}setSocialsOrder(e){fe.setSocialsOrder(e)}getConnectMethodsOrder(){return C2.getConnectOrderMethod(fe.state.features,be.getConnectors())}addNetwork(e,n){if(this.chainAdapters&&!this.chainAdapters[e])throw new Error(`Adapter for namespace ${e} doesn't exist`);const s=this.extendCaipNetwork(n,this.options);this.getCaipNetworks().find(i=>i.id===s.id)||B.addNetwork(s)}removeNetwork(e,n){if(this.chainAdapters&&!this.chainAdapters[e])throw new Error(`Adapter for namespace ${e} doesn't exist`);this.getCaipNetworks().find(i=>i.id===n)&&B.removeNetwork(e,n)}}let Q5=!1;class Cae extends Aae{async open(e){be.isConnected()||await super.open(e)}async close(){await super.close(),this.options.manualWCControl&&ve.finalizeWcConnection()}async syncIdentity(e){return Promise.resolve()}async syncBalance(e){return Promise.resolve()}async injectModalUi(){if(!Q5&&Oe.isClient()){if(await vh(()=>import("./basic-B_3PngJL.js"),__vite__mapDeps([0,1])),await vh(()=>import("./w3m-modal-BxHtVqyc.js"),__vite__mapDeps([2,1])),!document.querySelector("w3m-modal")){const n=document.createElement("w3m-modal");!fe.state.disableAppend&&!fe.state.enableEmbedded&&document.body.insertAdjacentElement("beforeend",n)}Q5=!0}}}const Sae="1.7.17";function xae(t){return new Cae({...t,basic:!0,sdkVersion:`html-core-${Sae}`})}class wA{constructor({appKit:e,provider:n,config:s}){this.appKit=e,this.provider=n,this.config=s}static async init(e){const n=await lre.init({projectId:e.projectId,metadata:e.metadata}),s={networks:e.networks.flatMap(a=>a.chains),projectId:e.projectId,metadata:e.metadata,universalProvider:n,manualWCControl:!0},i=xae(s);return new wA({appKit:i,provider:n,config:e})}async connect(){const e=this.config?.networks.reduce((n,s)=>(n[s.namespace]={...s||{},methods:s?.methods||[],events:s?.events||[],chains:s?.chains?.map(i=>i.caipNetworkId)||[]},n),{});try{await this.appKit.open();const n=await this.provider.connect({optionalNamespaces:e});if(!n)throw new Error("Error connecting to wallet: No session found");return await this.appKit.close(),{session:n}}catch(n){throw await this.appKit.close(),new Error(`Error connecting to wallet: ${n instanceof Error?n.message:"Unknown error"}`)}}async disconnect(){await this.appKit.disconnect(),await this.provider.disconnect()}async request(e,n){return await this.provider.request(e,n)}}var Nae=Object.defineProperty,Tae=Object.defineProperties,_ae=Object.getOwnPropertyDescriptors,Am=Object.getOwnPropertySymbols,FM=Object.prototype.hasOwnProperty,qM=Object.prototype.propertyIsEnumerable,Z5=(t,e,n)=>e in t?Nae(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,ts=(t,e)=>{for(var n in e||(e={}))FM.call(e,n)&&Z5(t,n,e[n]);if(Am)for(var n of Am(e))qM.call(e,n)&&Z5(t,n,e[n]);return t},yo=(t,e)=>Tae(t,_ae(e)),Iae=(t,e)=>{var n={};for(var s in t)FM.call(t,s)&&e.indexOf(s)<0&&(n[s]=t[s]);if(t!=null&&Am)for(var s of Am(t))e.indexOf(s)<0&&qM.call(t,s)&&(n[s]=t[s]);return n},ku=class VM extends Error{constructor(e,n,s,i){super(e),this.message=e,this.code=n,this.data=s,this.cause=i,this.name="JsonRpcError",this.message=e,this.code=n,this.data=s,this.cause=i}static fromResponse(e){return new VM(e.message,e.code,e.data)}toString(){return`${this.name} (${this.code}): ${this.message}${this.data?`: ${JSON.stringify(this.data)}`:""}`}},Dae=(t=>(t[t.ParseError=-32700]="ParseError",t[t.InvalidRequest=-32600]="InvalidRequest",t[t.MethodNotFound=-32601]="MethodNotFound",t[t.InvalidParams=-32602]="InvalidParams",t[t.InternalError=-32603]="InternalError",t[t.UserRejection=-32e3]="UserRejection",t[t.MethodAddressMismatch=-32001]="MethodAddressMismatch",t[t.MethodAccessDenied=-32002]="MethodAccessDenied",t[t.UnknownError=-31e3]="UnknownError",t[t.UserCanceled=-31001]="UserCanceled",t))(Dae||{}),WM="asigna-stx",Fb=(t,e)=>new Promise(n=>{function s(i){i.data.source===WM&&i.data[e]&&(n(i.data[e]),window.removeEventListener("message",s))}window.addEventListener("message",s),window.top.postMessage(Mae(t,e),"*")}),Oae={authenticationRequest:async t=>Fb(t,"authenticationRequest"),transactionRequest:async t=>Fb(t,"transactionRequest"),request:async(t,e)=>Fb(e,t)},Mae=(t,e)=>({source:WM,[e]:t}),Rae=()=>{typeof window>"u"||window.top!==window.self&&(window.AsignaProvider=Oae)};Rae();var $ae=[{id:"LeatherProvider",name:"Leather",icon:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTI4IiBoZWlnaHQ9IjEyOCIgdmlld0JveD0iMCAwIDEyOCAxMjgiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSIxMjgiIGhlaWdodD0iMTI4IiByeD0iMjYuODM4NyIgZmlsbD0iIzEyMTAwRiIvPgo8cGF0aCBkPSJNNzQuOTE3MSA1Mi43MTE0QzgyLjQ3NjYgNTEuNTQwOCA5My40MDg3IDQzLjU4MDQgOTMuNDA4NyAzNy4zNzYxQzkzLjQwODcgMzUuNTAzMSA5MS44OTY4IDM0LjIxNTQgODkuNjg3MSAzNC4yMTU0Qzg1LjUwMDQgMzQuMjE1NCA3OC40MDYxIDQwLjUzNjggNzQuOTE3MSA1Mi43MTE0Wk0zOS45MTEgODMuNDk5MUMzMC4wMjU2IDgzLjQ5OTEgMjkuMjExNSA5My4zMzI0IDM5LjA5NjkgOTMuMzMyNEM0My41MTYzIDkzLjMzMjQgNDguODY2MSA5MS41NzY0IDUxLjY1NzMgODguNDE1N0M0Ny41ODY4IDg0LjkwMzggNDQuMjE0MSA4My40OTkxIDM5LjkxMSA4My40OTkxWk0xMDIuODI5IDc5LjI4NDhDMTAzLjQxIDk1Ljc5MDcgOTUuMDM2OSAxMDUuMDM5IDgwLjg0ODQgMTA1LjAzOUM3Mi40NzQ4IDEwNS4wMzkgNjguMjg4MSAxMDEuODc4IDU5LjMzMyA5Ni4wMjQ5QzU0LjY4MSAxMDEuMTc2IDQ1Ljg0MjMgMTA1LjAzOSAzOC41MTU0IDEwNS4wMzlDMTMuMjc4NSAxMDUuMDM5IDE0LjMyNTIgNzIuODQ2MyA0MC4wMjczIDcyLjg0NjNDNDUuMzc3MSA3Mi44NDYzIDQ5LjkxMjggNzQuMjUxMSA1NS43Mjc3IDc3Ljg4TDU5LjU2NTYgNjQuNDE3N0M0My43NDg5IDYwLjA4NjQgMzUuODQwNSA0Ny45MTE4IDQzLjYzMjYgMzAuNDY5M0g1Ni4xOTI5QzQ5LjIxNSA0Mi4wNTg2IDUzLjk4MzIgNTEuNjU3OCA2Mi44MjIgNTIuNzExNEM2Ny41OTAzIDM1LjczNzIgNzcuODI0NiAyMi41MDkgOTEuNDMxNiAyMi41MDlDOTkuMTA3NCAyMi41MDkgMTA1LjE1NSAyNy41NDI4IDEwNS4xNTUgMzYuNjczN0MxMDUuMTU1IDUxLjMwNjYgODYuMDgxOSA2My4yNDcxIDcxLjY2MDcgNjQuNDE3N0w2NS43Mjk1IDg1LjM3MjFDNzIuNDc0OCA5My4yMTUzIDkxLjE5OSAxMDAuODI0IDkxLjE5OSA3OS4yODQ4SDEwMi44MjlaIiBmaWxsPSIjRjVGMUVEIi8+Cjwvc3ZnPgo=",webUrl:"https://leather.io",chromeWebStoreUrl:"https://chrome.google.com/webstore/detail/hiro-wallet/ldinpeekobnhjjdofggfgjlcehhmanlj",mozillaAddOnsUrl:"https://leather.io/install-extension"},{id:"XverseProviders.BitcoinProvider",name:"Xverse Wallet",icon:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI2MDAiIGhlaWdodD0iNjAwIj48ZyBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPjxwYXRoIGZpbGw9IiMxNzE3MTciIGQ9Ik0wIDBoNjAwdjYwMEgweiIvPjxwYXRoIGZpbGw9IiNGRkYiIGZpbGwtcnVsZT0ibm9uemVybyIgZD0iTTQ0MCA0MzUuNHYtNTFjMC0yLS44LTMuOS0yLjItNS4zTDIyMCAxNjIuMmE3LjYgNy42IDAgMCAwLTUuNC0yLjJoLTUxLjFjLTIuNSAwLTQuNiAyLTQuNiA0LjZ2NDcuM2MwIDIgLjggNCAyLjIgNS40bDc4LjIgNzcuOGE0LjYgNC42IDAgMCAxIDAgNi41bC03OSA3OC43Yy0xIC45LTEuNCAyLTEuNCAzLjJ2NTJjMCAyLjQgMiA0LjUgNC42IDQuNUgyNDljMi42IDAgNC42LTIgNC42LTQuNlY0MDVjMC0xLjIuNS0yLjQgMS40LTMuM2w0Mi40LTQyLjJhNC42IDQuNiAwIDAgMSA2LjQgMGw3OC43IDc4LjRhNy42IDcuNiAwIDAgMCA1LjQgMi4yaDQ3LjVjMi41IDAgNC42LTIgNC42LTQuNloiLz48cGF0aCBmaWxsPSIjRUU3QTMwIiBmaWxsLXJ1bGU9Im5vbnplcm8iIGQ9Ik0zMjUuNiAyMjcuMmg0Mi44YzIuNiAwIDQuNiAyLjEgNC42IDQuNnY0Mi42YzAgNCA1IDYuMSA4IDMuMmw1OC43LTU4LjVjLjgtLjggMS4zLTIgMS4zLTMuMnYtNTEuMmMwLTIuNi0yLTQuNi00LjYtNC42TDM4NCAxNjBjLTEuMiAwLTIuNC41LTMuMyAxLjNsLTU4LjQgNTguMWE0LjYgNC42IDAgMCAwIDMuMiA3LjhaIi8+PC9nPjwvc3ZnPg==",webUrl:"https://xverse.app",chromeWebStoreUrl:"https://chrome.google.com/webstore/detail/xverse-wallet/idnnbdplmphpflfnlkomgpfbpcgelopg",googlePlayStoreUrl:"https://play.google.com/store/apps/details?id=com.secretkeylabs.xverse",iOSAppStoreUrl:"https://apps.apple.com/app/xverse-bitcoin-web3-wallet/id1552272513",mozillaAddOnsUrl:"https://www.xverse.app/download"},{id:"AsignaProvider",name:"Asigna Multisig",icon:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMiIgaGVpZ2h0PSIzMiIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMDEwMCIgZD0iTTAgMGgzMnYzMkgweiIvPjxwYXRoIGZpbGw9InVybCgjYSkiIGQ9Ik0xNS4xMSA1LjU1YTMgMyAwIDAgMC0xLjgyIDEuM2wtLjA1LjA4LS40My43Mi0uMDcuMTEtLjUuODUtLjA1LjA5LTEuMjkgMi4xOC0uMDQuMDctLjQ3LjgtLjA2LjEtLjQ2Ljc4LS4wNy4xMS0xLjYzIDIuNzYtLjA3LjExLS4zOC42Ni0uMDUuMDgtLjczIDEuMjQtLjM1LjYtLjQuNjctLjA1LjA5TDUuMSAyMC43bC0uMTEuMTgtLjE0LjIzLS4wNy4xMy0uMzMuNTUtLjA0LjA3di4wMWExLjI2IDEuMjYgMCAwIDAtLjE0LjQ3IDEuMzEgMS4zMSAwIDAgMCAxLjI0IDEuNGgxLjVsLjA1LS4wNi4wNC0uMDYuODctMS4yMS4wNS0uMDguNzctMS4wNy4wNS0uMDcuNC0uNTcuMDUtLjA2LjI0LS4zNGExLjUyIDEuNTIgMCAwIDEgMS4zOS0uNjIgMS41IDEuNSAwIDAgMSAuNjQuMiAxLjQ3IDEuNDcgMCAwIDEgLjczIDEuMjcgMS40NCAxLjQ0IDAgMCAxLS4yNy44NGwtLjYzLjg4LS4wNS4wNy0uMzIuNDUtLjA2LjA4LS4wOC4xMi0uMTIuMTYtLjA1LjA4aDIuMTNhMi4zMiAyLjMyIDAgMCAwIDEuNzctLjk2bDEuMTgtMS42My43Ny0xLjA4IDEuMy0xLjhhMS4yNCAxLjI0IDAgMCAxIC41NS0uNDNsLjA4LS4wM2ExLjMgMS4zIDAgMCAxIC4zLS4wNiAxLjI4IDEuMjggMCAwIDEgMS4xNS41NGwuMTEuMmExLjEzIDEuMTMgMCAwIDEgLjEuNDEgMS4xOSAxLjE5IDAgMCAxLS4yMy43N2wtLjAzLjA1LS41Ny44LS43Ljk4LS4yNy4zN2ExLjIyIDEuMjIgMCAwIDAtLjIuNSAxLjA1IDEuMDUgMCAwIDAtLjAyLjIzdi4wNmExLjE3IDEuMTcgMCAwIDAgLjE0LjQzbC4wMi4wNS4wNy4xYTEuNDQgMS40NCAwIDAgMCAuMS4xMWwuMDUuMDYuMDEuMDFhMS44IDEuOCAwIDAgMCAuMTQuMWMwIC4wMi4wMi4wMy4wNC4wM2ExIDEgMCAwIDAgLjA4LjA1bC4wNy4wNGExLjI1IDEuMjUgMCAwIDAgLjUuMWg2LjljLjEgMCAuMi0uMDEuMjktLjAzbC4wNi0uMDJhMS4yNyAxLjI3IDAgMCAwIC4yNy0uMS41Ny41NyAwIDAgMCAuMDctLjAzIDEuMjEgMS4yMSAwIDAgMCAuMjYtLjE5bC4wOC0uMDdhLjkyLjkyIDAgMCAwIC4xNS0uMTkgMS41NSAxLjU1IDAgMCAwIC4wOS0uMTdsLjAyLS4wNWExLjIyIDEuMjIgMCAwIDAgLjA4LS4yNnYtLjA0bC4wMi0uMDh2LS4wOGExLjMyIDEuMzIgMCAwIDAtLjItLjc0bC0xLjYtMi42NC0uMDYtLjEtLjItLjMyLS4zMy0uNTR2LS4wMWwtLjA1LS4wOC0xLjMtMi4xNS0uMDctLjEtLjA0LS4wNi0uOC0xLjMyLS4wNC0uMDctLjItLjM0LS4xLS4xNC0uMS0uMTYtLjUzLS45LS4xMy0uMi0uMDktLjE0LTIuMTctMy41Ny0uMDQtLjA3LS43Mi0xLjE5LS4wNS0uMDctLjQtLjY1YTIuNjUgMi42NSAwIDAgMC0uMy0uNCAyLjk2IDIuOTYgMCAwIDAtLjk3LS43NCAzLjA0IDMuMDQgMCAwIDAtMS4zLS4zYy0uMjUgMC0uNS4wNC0uNzQuMVoiLz48cGF0aCBmaWxsPSJ1cmwoI2IpIiBkPSJNMTkgMTYuM2E1LjQ1IDUuNDUgMCAwIDAtLjgzIDEuNTZsLS4wNC4xNWExLjM2IDEuMzYgMCAwIDEgLjI4LS4xNiAxLjI0IDEuMjQgMCAwIDEgLjM4LS4wOGguMWExLjI4IDEuMjggMCAwIDEgMS4wNS41NGMuMDQuMDYuMDguMTMuMS4yYTEuMjQgMS4yNCAwIDAgMSAuMDkuMjcgMS4xOSAxLjE5IDAgMCAxLS4yLjkxbC0uMDQuMDUtLjU3Ljc5LS43Ljk5LS4yNy4zN2ExLjIzIDEuMjMgMCAwIDAtLjIuNDIgMS4wNiAxLjA2IDAgMCAwLS4wMi4zMXYuMDZhMS4xNyAxLjE3IDAgMCAwIC4xNi40Ny45My45MyAwIDAgMCAuMDcuMSAxLjUgMS41IDAgMCAwIC4xLjEybC4wNS4wNmguMDFhMS45NCAxLjk0IDAgMCAwIC4wOS4wOCAxIDEgMCAwIDAgLjE3LjFsLjA3LjA0YTEuMjUgMS4yNSAwIDAgMCAuNS4xaDYuOWMuMSAwIC4yIDAgLjI4LS4wMmwuMDctLjAyYTEuMzIgMS4zMiAwIDAgMCAuMzQtLjEzbC4xNi0uMS4wMy0uMDNhMS4yOSAxLjI5IDAgMCAwIC4yLS4yIDIuNDMgMi40MyAwIDAgMCAuMTItLjE3Yy4wMy0uMDMuMDUtLjA4LjA3LS4xMmwuMDItLjA1YTEuMjEgMS4yMSAwIDAgMCAuMDktLjN2LS4wOGwuMDEtLjA5YTEuMzIgMS4zMiAwIDAgMC0uMi0uNzNsLTEuNi0yLjY0LS4wNi0uMS0uMi0uMzItLjMzLS41NHYtLjAybC0uMDUtLjA3LTEuMy0yLjE1LS4xMi0uMDctLjA3LS4wNGE0Ljk0IDQuOTQgMCAwIDAtMi40Ni0uNjdjLTEuMDMgMC0xLjc2LjU3LTIuMjYgMS4yWiIvPjxwYXRoIGZpbGw9IiNmZmYiIGQ9Ik0xMi4yOSAyMS4wOGMwIC4yOS0uMDkuNTgtLjI3Ljg0bC0xLjMxIDEuODRIN2wyLjUyLTMuNTNhMS41NCAxLjU0IDAgMCAxIDIuMS0uMzZjLjQzLjI4LjY2Ljc0LjY2IDEuMloiLz48cGF0aCBmaWxsPSIjMDAwIiBkPSJNMTEuMTYgMjEuMjVhLjU2LjU2IDAgMCAxLS41Ny41NS41Ni41NiAwIDAgMS0uNTctLjU2LjU2LjU2IDAgMCAxIC41Ny0uNTUuNTYuNTYgMCAwIDEgLjU3LjU2WiIvPjxkZWZzPjxsaW5lYXJHcmFkaWVudCBpZD0iYSIgeDE9IjE1LjIzIiB4Mj0iMTkuMyIgeTE9IjI1Ljc4IiB5Mj0iNi4xMSIgZ3JhZGllbnRVbml0cz0idXNlclNwYWNlT25Vc2UiPjxzdG9wIHN0b3AtY29sb3I9IiM2NTIyRjQiLz48c3RvcCBvZmZzZXQ9Ii41NSIgc3RvcC1jb2xvcj0iIzlCNkJGRiIvPjxzdG9wIG9mZnNldD0iMSIgc3RvcC1jb2xvcj0iI0E1ODVGRiIvPjwvbGluZWFyR3JhZGllbnQ+PGxpbmVhckdyYWRpZW50IGlkPSJiIiB4MT0iMjIuNTkiIHgyPSIyNC44IiB5MT0iMjQuNzEiIHkyPSIxNS41MyIgZ3JhZGllbnRVbml0cz0idXNlclNwYWNlT25Vc2UiPjxzdG9wIHN0b3AtY29sb3I9IiM0MjFGOEIiLz48c3RvcCBvZmZzZXQ9Ii41NSIgc3RvcC1jb2xvcj0iIzcyMzBGRiIvPjxzdG9wIG9mZnNldD0iMSIgc3RvcC1jb2xvcj0iIzk3NzNGRiIvPjwvbGluZWFyR3JhZGllbnQ+PC9kZWZzPjwvc3ZnPg==",webUrl:"https://asigna.io",chromeWebStoreUrl:"https://stx.asigna.io/"},{id:"FordefiProviders.UtxoProvider",name:"Fordefi",icon:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDIiIGhlaWdodD0iNDIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CiAgPHBhdGggZmlsbD0iIzEwMTExNCIgZD0iTTAgMGg0MnY0MkgweiIvPgogIDxwYXRoIGQ9Ik0xOS40NyAyNi44OUg1djMuNTdhNC41NyA0LjU3IDAgMCAwIDQuNTggNC41N2g1LjgzbDQuMDYtOC4xNFoiIGZpbGw9IiM3OTk0RkYiLz4KICA8cGF0aCBkPSJNNSAxNy40aDI3LjU4bC0zLjIgNi43OEg1VjE3LjRaIiBmaWxsPSIjNDg2REZGIi8+CiAgPHBhdGggZD0iTTE0LjY3IDdINXY3LjY4aDMzVjdoLTkuNjd2NS43NGgtMlY3aC05LjY3djUuNzRoLTEuOTlWN1oiIGZpbGw9IiM1Q0QxRkEiLz4KPC9zdmc+Cg==",webUrl:"https://www.fordefi.com/",chromeWebStoreUrl:"https://chromewebstore.google.com/detail/fordefi/hcmehenccjdmfbojapcbcofkgdpbnlle"}],Uae={id:"WalletConnectProvider",name:"WalletConnect",icon:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI0MDAiIGhlaWdodD0iNDAwIiBmaWxsPSJub25lIj48bWFzayBpZD0iYSIgd2lkdGg9IjQwMCIgaGVpZ2h0PSI0MDAiIHg9IjAiIHk9IjAiIG1hc2tVbml0cz0idXNlclNwYWNlT25Vc2UiIHN0eWxlPSJtYXNrLXR5cGU6bHVtaW5hbmNlIj48cGF0aCBmaWxsPSIjZmZmIiBkPSJNMCAwaDQwMHY0MDBIMFYwWiIvPjwvbWFzaz48ZyBtYXNrPSJ1cmwoI2EpIj48cGF0aCBmaWxsPSIjMzM5NkZGIiBkPSJNNDAwIDQwMEgwVjBoNDAwdjQwMFoiLz48cGF0aCBmaWxsPSIjZmZmIiBkPSJNMTIyLjUyIDE0OC45N2M0Mi43OS00MS43MyAxMTIuMTctNDEuNzMgMTU0Ljk2IDBsNS4xNSA1LjAyYTUuMjUgNS4yNSAwIDAgMSAwIDcuNTVsLTE3LjYyIDE3LjE4YTIuNzkgMi43OSAwIDAgMS0zLjg3IDBsLTcuMDktNi45Yy0yOS44NS0yOS4xMi03OC4yNS0yOS4xMi0xMDguMSAwbC03LjYgNy40YTIuNzkgMi43OSAwIDAgMS0zLjg3IDBsLTE3LjYxLTE3LjE5YTUuMjUgNS4yNSAwIDAgMSAwLTcuNTVsNS42NS01LjUxWm0xOTEuNCAzNS41MiAxNS42OCAxNS4zYTUuMjUgNS4yNSAwIDAgMSAwIDcuNTVsLTcwLjcgNjguOTRhNS41OCA1LjU4IDAgMCAxLTcuNzUgMGwtNTAuMTgtNDguOTNhMS40IDEuNCAwIDAgMC0xLjk0IDBsLTUwLjE4IDQ4LjkzYTUuNTggNS41OCAwIDAgMS03Ljc0IDBsLTcwLjctNjguOTRhNS4yNSA1LjI1IDAgMCAxIDAtNy41NmwxNS42Ny0xNS4yOWE1LjU4IDUuNTggMCAwIDEgNy43NSAwbDUwLjE4IDQ4Ljk0Yy41NC41MiAxLjQuNTIgMS45NCAwbDUwLjE4LTQ4Ljk0YTUuNTggNS41OCAwIDAgMSA3Ljc0IDBsNTAuMTggNDguOTRjLjU0LjUyIDEuNC41MiAxLjk0IDBsNTAuMTgtNDguOTRhNS41OCA1LjU4IDAgMCAxIDcuNzUgMFoiLz48L2c+PC9zdmc+",webUrl:"https://walletconnect.com/",chromeWebStoreUrl:""},bA="@stacks/connect",Pae={addresses:{stx:[],btc:[]},version:"0.0.1"},J5=t=>[...new Map(t.map(e=>[e.address,e])).values()].map(e=>{var n=Iae(e,[]);return"publicKey"in n&&delete n.publicKey,"derivationPath"in n&&delete n.derivationPath,"tweakedPublicKey"in n&&delete n.tweakedPublicKey,n});function Lae(t){try{let e=Jm()||Pae,n=yo(ts({},e),{updatedAt:Date.now(),addresses:ts(ts({},e.addresses),t.addresses&&{stx:t.addresses.stx&&J5([...e.addresses.stx,...t.addresses.stx]),btc:t.addresses.btc&&J5([...e.addresses.btc,...t.addresses.btc])})});localStorage.setItem(bA,ap(Tm(JSON.stringify(n))))}catch(e){console.warn("Failed to store data in localStorage:",e)}}function kae(){try{localStorage.removeItem(bA)}catch(t){console.warn("Failed to clear localStorage:",t)}}function Jm(){try{let t=localStorage.getItem(bA);return t?JSON.parse(uk(Yc(t))):null}catch(t){return console.warn("Failed to get data from localStorage:",t),null}}function Bae(){let t=t6();t&&"disconnect"in t&&t.disconnect(),Ek(),kae(),new ece().store.deleteSessionData()}function KM(){let t=Jm();return t?.addresses.stx.length>0||t?.addresses.btc.length>0}var jae=["stx_signMessage","stx_signTransaction","stx_signStructuredMessage","stx_getAccounts","stx_getAddresses","stx_updateProfile","stx_transferStx","stx_transferSip10Ft","stx_transferSip9Nft","stx_callContract","stx_deployContract","sendTransfer","signPsbt","getAddresses"],N2={id:1,chainNamespace:"stacks",caipNetworkId:"stacks:1",name:"Stacks",nativeCurrency:{name:"STX",symbol:"STX",decimals:6},rpcUrls:{default:{http:["https://api.mainnet.hiro.so"]}}},zae={projectId:"your_project_id",metadata:{name:"Universal Connector",description:"Universal Connector",url:"https://appkit.reown.com",icons:["https://appkit.reown.com/icon.png"]},networks:[{namespace:"stacks",chains:[N2],methods:jae,events:["stx_chainChanged","stx_accountsChanged"]},{namespace:"bip122",chains:[zM],methods:["signMessage","sendTransfer","signPsbt","getAccountAddresses"],events:["bip122_addressesChanged"]}]};function eI(t){return{jsonrpc:"2.0",id:1,result:t}}var Hae=class{constructor(t){this.connector=t}async connect(){try{let{session:t}=await this.connector.connect();return t}catch(t){throw console.error(">> WalletConnectProvider connect error",t),t}}get stacksAddresses(){var t;let e=(t=this.connector.provider)==null?void 0:t.session,n=e?.sessionProperties.stacks_getAddresses,s=JSON.parse(n||"[]"),i=[...e.namespaces.stacks.accounts.map(a=>({address:a.split(":")[2],publicKey:""}))||[],...s||[]].sort(a=>a.publicKey?1:-1);return Array.from(new Map(i.map(a=>[a.address,a])).values())}get btcAddresses(){var t;let e=(t=this.connector.provider)==null?void 0:t.session,n=e?.sessionProperties.bip122_getAccountAddresses,s=JSON.parse(n||"{}"),i=e.namespaces.bip122.accounts.map(c=>({address:c.split(":")[2],publicKey:""})),a=[...s?.payment.map(c=>yo(ts({},c),{purpose:"payment"}))||[],...s?.ordinal.map(c=>yo(ts({},c),{purpose:"ordinal"}))||[],...i||[]].sort(c=>c.publicKey?1:-1).sort((c,u)=>c?.address.length-u?.address.length);return Array.from(new Map(a.map(c=>[c.address,c])).values())}async getAddresses(){var t;let e=(t=this.connector.provider)==null?void 0:t.session;e||(e=await this.connect());let n=this.stacksAddresses||[],s=this.btcAddresses||[];return{addresses:[...n,...s]}}validateRpcMethod(t){var e,n,s,i;if(["getAddresses","stx_getAccounts","stx_getAddresses"].includes(t))return;if(!((e=this.connector.provider)!=null&&e.session))throw new Error("WalletConnectProvider not connected. Please connect first.");let a=(n=this.connector.provider)==null?void 0:n.session.namespaces,c=((s=a.stacks)==null?void 0:s.methods)||[],u=((i=a.bip122)==null?void 0:i.methods)||[];if(![...c,...u].includes(t))throw new Error(`WalletConnectProvider does not support method ${t}. Please use a supported method.`)}getTargetCaipNetworkId(t){var e,n,s,i,a,c,u,f;if(["getAddresses","stx_getAccounts","stx_getAddresses"].includes(t)||(i=(s=(n=(e=this.connector.provider)==null?void 0:e.session)==null?void 0:n.namespaces)==null?void 0:s.stacks)!=null&&i.methods.includes(t))return N2.caipNetworkId;if((f=(u=(c=(a=this.connector.provider)==null?void 0:a.session)==null?void 0:c.namespaces)==null?void 0:u.bip122)!=null&&f.methods.includes(t))return zM.caipNetworkId;throw new Error(`WalletConnectProvider does not support method ${t}. Please use a supported method.`)}async request(t,e){var n,s,i,a;try{this.validateRpcMethod(t);let c=this.getTargetCaipNetworkId(t);switch(t){case"getAddresses":case"stx_getAddresses":case"stx_getAccounts":let u=await this.getAddresses();return eI(u);case"stx_signMessage":let f=((a=(i=(s=(n=this.connector.provider)==null?void 0:n.session)==null?void 0:s.namespaces)==null?void 0:i.stacks)==null?void 0:a.accounts[0]).split(":")[2],h=await this.connector.request({method:t,params:ts({address:f},e)},c);return eI(h);default:return await this.connector.request({method:t,params:e},c)}}catch(c){throw console.error(">> WalletConnectProvider request error",c),c}}async disconnect(){await this.connector.disconnect()}},Fae=async t=>{let e=await wA.init(yo(ts({},zae),{projectId:t})),n=new Hae(e);window.WalletConnectProvider=n};async function tI(t,e,n){var s;try{let i=await t.request(e,n);if("error"in i)throw ku.fromResponse(i.error);return i.result}catch(i){if(i instanceof ku)throw i;if("jsonrpc"in i)throw ku.fromResponse(i.error);let a=(s=i.code)!=null?s:-31e3;throw new ku(i.message,a,i.data,i)}}function qae(t){return t?async function(e,n,s){let i=await tI(e,n,s);if((n==="getAddresses"||n==="wallet_connect")&&"addresses"in i){let{stx:a,btc:c}=Zae(i.addresses).reduce((u,f)=>(u[f.address.startsWith("S")?"stx":"btc"].push(f),u),{stx:[],btc:[]});Lae({addresses:{stx:a,btc:c}})}return i}:tI}async function vA(...t){let{options:e,method:n,params:s}=Vae(t),i=$ae;e!=null&&e.walletConnectProjectId&&(await Fae(e.walletConnectProjectId).catch(console.error),i=[...i,Uae]);let a=Object.assign({provider:t6(),defaultProviders:i,forceWalletSelect:!1,persistWalletSelect:!0,enableOverrides:!0,enableLocalStorage:!0},Yae(e)),c=Xae(a.enableOverrides,qae(a.enableLocalStorage));if(a.provider&&!a.forceWalletSelect){let{method:u,params:f}=iI(a.provider,n,s,a.enableOverrides);return await c(a.provider,u,oI(f))}if(typeof window<"u")return hB(),new Promise((u,f)=>{let h=document.createElement("connect-modal");h.defaultProviders=nI(a.approvedProviderIds,i),h.installedProviders=nI(a.approvedProviderIds,Ck(i));let p=document.body.style.overflow;document.body.style.overflow="hidden";let g=()=>{h.remove(),document.body.style.overflow=p};h.callback=b=>{g();let v=wE(b),{method:E,params:A}=iI(v,n,s,a.enableOverrides),x=Qae(a.persistWalletSelect,b);u(c(v,E,oI(A)).then(x))},h.cancelCallback=()=>{g(),f(new ku("User canceled the request",-31001))},document.body.appendChild(h);let y=b=>{b.key==="Escape"&&(document.removeEventListener("keydown",y),h.remove(),f(new ku("User canceled the request",-31001)))};document.addEventListener("keydown",y)})}function Vae(t){return typeof t[0]=="string"?{method:t[0],params:t[1]}:{options:t[0],method:t[1],params:t[2]}}function nI(t,e){return t?e.filter(n=>t.includes(n.id)):e}function Wae(t){return vA(yo(ts({},t),{forceWalletSelect:!0}),"getAddresses",void 0)}function N0(t){return Kae(t)||Gae(t)}function Kae(t){return"signMultipleTransactions"in t&&"createRepeatInscriptions"in t&&!(t!=null&&t.isLeather)&&!(t!=null&&t.isFordefi)}function Gae(t){return"isFordefi"in t&&!!t.isFordefi}function sI(t){return"isLeather"in t&&!!t.isLeather}function Yae(t){if(t===void 0)return{};let e={};for(let[n,s]of Object.entries(t))s!==void 0&&(e[n]=s);return e}function Xae(t,e){return t?async(n,s,i)=>{let a=await e(n,s,i),c=ts({},a);return a!==null&&"txId"in a&&a.txId&&!("txid"in c)&&(c.txid=a.txId),a!==null&&"hex"in a&&a.hex&&typeof a.hex=="string"&&!("psbt"in c)&&(c.psbt=e6.encode(Yc(a.hex))),c}:e}function iI(t,e,n,s=!0){if(!s)return{method:e,params:n};if(N0(t)&&["getAddresses","stx_getAddresses"].includes(e))return{method:"wallet_connect",params:n};if(N0(t)&&e==="sendTransfer"){let i=yo(ts({},n),{recipients:n.recipients.map(a=>yo(ts({},a),{amount:Number(a.amount)})),network:void 0});return{method:e,params:i}}if(N0(t)&&e==="signPsbt"){let i=n.signInputs;if(!i)return{method:e,params:n};let a={};for(let u of i)typeof u!="number"&&u.address&&(a[u.address]||(a[u.address]=[]),a[u.address].push(u.index));let c={psbt:n.psbt,signInputs:a,broadcast:n.broadcast};return{method:e,params:c}}if(!N0(t)&&e==="stx_signMessage"){let i=ts({},n);return delete i.publicKey,{method:e,params:i}}if(sI(t)&&e==="sendTransfer"){let i=yo(ts({},n),{recipients:n.recipients.map(a=>yo(ts({},a),{amount:a.amount.toString()}))});return{method:e,params:i}}if(sI(t)&&e==="signPsbt"){let i={hex:ap(e6.decode(n.psbt)),signAtIndex:n.signInputs.map(a=>typeof a=="number"?a:a.index),allowedSighash:n.allowedSighash,broadcast:n.broadcast,network:n.network};return{method:e,params:i}}return{method:e,params:n}}var rI=["stx-postcondition","ft-postcondition","nft-postcondition"];function oI(t){if(!t||typeof t!="object")return t;let e=ts({},t);for(let[n,s]of Object.entries(t)){if(typeof s=="bigint"){e[n]=s.toString();continue}if(s){if(Array.isArray(s)){e[n]=s.map(i=>typeof i=="bigint"?i.toString():!i||typeof i!="object"||!("type"in i)?i:rI.includes(i.type)?hN(i):pN(i));continue}typeof s=="object"&&"type"in s&&(e[n]=rI.includes(s.type)?hN(s):pN(s))}}return JSON.parse(JSON.stringify(e))}function Qae(t,e){return function(n){if(t)try{vk(e)}catch{}return n}}function Zae(t){return t.slice().sort((e,n)=>{let s="purpose"in e&&e.purpose==="payment",i="purpose"in n&&n.purpose==="payment";return s&&!i?-1:!s&&i?1:0})}typeof window<"u"&&(window.__CONNECT_VERSION__="__VERSION__");var Jae="blockstack-session",ece=class{constructor(t){t!=null&&t.appConfig&&(this.appConfig=t.appConfig),typeof window>"u"&&typeof self>"u"?this.store=new tce:this.store=new nce}makeAuthRequestToken(){}generateAndStoreTransitKey(){}getAuthResponseToken(){}isSignInPending(){return!1}isUserSignedIn(){return!!this.store.getSessionData().userData}async handlePendingSignIn(){return Promise.resolve(this.loadUserData())}loadUserData(){let t=this.store.getSessionData().userData;if(!t)throw new fE("No user data found. Did the user sign in?");return t}encryptContent(){}decryptContent(){}signUserOut(t){this.store.deleteSessionData(),t&&typeof location<"u"&&location.href&&(location.href=t)}},GM=class{constructor(t){t&&this.setSessionData(t)}getSessionData(){throw new Error("Abstract class")}setSessionData(t){throw new Error("Abstract class")}deleteSessionData(){throw new Error("Abstract class")}},tce=class extends GM{constructor(t){super(t),this.sessionData||this.setSessionData({})}getSessionData(){if(!this.sessionData)throw new fE("No session data was found.");return this.sessionData}setSessionData(t){return this.sessionData=t,!0}deleteSessionData(){return this.setSessionData({}),!0}},nce=class extends GM{constructor(t){var e;super(t),this.key=typeof((e=t?.storeOptions)==null?void 0:e.localStorageKey)=="string"?t.storeOptions.localStorageKey:Jae,localStorage.getItem(this.key)||this.setSessionData({})}getSessionData(){let t=localStorage.getItem(this.key);if(!t)throw new fE("No session data was found in localStorage");return JSON.parse(t)}setSessionData(t){return localStorage.setItem(this.key,JSON.stringify(t)),!0}deleteSessionData(){return localStorage.removeItem(this.key),this.setSessionData({}),!0}},sce=(t=>(t.ContractCall="contract_call",t.ContractDeploy="smart_contract",t.STXTransfer="token_transfer",t))(sce||{}),ice=(t=>(t.BUFFER="buffer",t.UINT="uint",t.INT="int",t.PRINCIPAL="principal",t.BOOL="bool",t))(ice||{}),rce=(t=>(t[t.DEFAULT=0]="DEFAULT",t[t.ALL=1]="ALL",t[t.NONE=2]="NONE",t[t.SINGLE=3]="SINGLE",t[t.ANYONECANPAY=128]="ANYONECANPAY",t))(rce||{});const oce=async(t,e)=>{try{if(KM()){const s=Jm();if(s?.addresses?.stx?.[0]?.address){t(s.addresses.stx[0].address);return}}const n=await Wae();if(n?.addresses?.stx?.[0]?.address){const s=n.addresses.stx[0].address;t(s)}}catch(n){console.error("Wallet connection error:",n),e&&e()}},ace=()=>{Bae()},cce=()=>KM(),lce=()=>Jm()?.addresses?.stx?.[0]?.address||null,YM="ST28MDT9SAV31XJ73M2W3W5DVC1NWHYX713Q6SEP5",XM="quest-nft",uce=async()=>{try{const t=await vA("stx_callContract",{contract:`${YM}.${XM}`,functionName:"mint-quest-pass",functionArgs:[],postConditionMode:sm.Allow});return console.log("Quest Pass minted, txId:",t.txid),{success:!0,txId:t.txid,message:"Quest Pass NFT minted successfully!"}}catch(t){throw console.error("Error minting Quest Pass:",t),t}},fce=async t=>{try{const e=await vA("stx_callContract",{contract:`${YM}.${XM}`,functionName:"mint-quest-badge",functionArgs:[Tj(t)],postConditionMode:sm.Allow});return console.log(`Quest Badge Level ${t} minted, txId:`,e.txid),{success:!0,txId:e.txid,message:`Quest Badge Level ${t} minted successfully!`}}catch(e){throw console.error(`Error minting Quest Badge Level ${t}:`,e),e}},QM=()=>{const{walletConnected:t,walletAddress:e,connectWallet:n,disconnectWallet:s}=tf();wo.useEffect(()=>{if(cce()){const u=lce();u&&n(u)}},[]);const i=async()=>{await oce(u=>{n(u)},()=>{console.log("Wallet connection cancelled")})},a=()=>{ace(),s()},c=u=>u?`${u.slice(0,6)}...${u.slice(-4)}`:"";return X.jsx("div",{className:"flex items-center gap-4",children:t?X.jsxs("div",{className:"flex items-center gap-3",children:[X.jsx("div",{className:"bg-game-blue/20 border-2 border-game-yellow px-4 py-2 rounded-lg",children:X.jsx("span",{className:"font-retro text-sm",children:c(e)})}),X.jsx(Ve.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:a,className:"bg-red-600 text-white px-4 py-2 rounded-lg font-pixel text-xs hover:bg-red-700 transition-all",children:"Disconnect"})]}):X.jsxs(Ve.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:i,className:"flex items-center gap-2 bg-game-yellow text-game-dark px-6 py-3 rounded-lg font-pixel text-xs hover:box-shadow-neon transition-all",children:[X.jsx(ik,{}),"Connect Wallet"]})})},dce=({onStartGame:t,onMintPass:e})=>{const{walletConnected:n,questPassMinted:s}=tf();return X.jsxs("div",{className:"min-h-screen bg-game-dark flex flex-col items-center justify-center p-8",children:[X.jsxs(Ve.div,{initial:{opacity:0,y:-50},animate:{opacity:1,y:0},transition:{duration:.8},className:"text-center",children:[X.jsx(Ve.h1,{className:"font-pixel text-4xl md:text-6xl text-game-yellow text-shadow-glow mb-4",animate:{scale:[1,1.05,1]},transition:{duration:2,repeat:1/0},children:"🧱 BLOCK QUEST"}),X.jsx(Ve.p,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.3},className:"font-retro text-xl text-white mb-8 max-w-2xl",children:"A blockchain mining adventure on Stacks (Bitcoin Layer 2)"}),X.jsx("div",{className:"mb-12 flex justify-center",children:X.jsx(QM,{})}),X.jsxs(Ve.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.5},className:"bg-game-blue/10 border-2 border-game-yellow rounded-lg p-8 mb-8 max-w-3xl",children:[X.jsx("h2",{className:"font-pixel text-2xl text-game-yellow mb-6",children:"How to Play"}),X.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 text-left",children:[X.jsxs("div",{className:"flex items-start gap-3",children:[X.jsx(lE,{className:"text-game-yellow text-3xl mt-1"}),X.jsxs("div",{children:[X.jsx("h3",{className:"font-pixel text-sm text-white mb-2",children:"Mine Blocks"}),X.jsx("p",{className:"font-retro text-gray-300",children:"Click tiles to discover coins (60%), crystals (20%), empty blocks (15%), or traps (5%)"})]})]}),X.jsxs("div",{className:"flex items-start gap-3",children:[X.jsx(uE,{className:"text-blue-400 text-3xl mt-1"}),X.jsxs("div",{children:[X.jsx("h3",{className:"font-pixel text-sm text-white mb-2",children:"Level Up"}),X.jsx("p",{className:"font-retro text-gray-300",children:"Earn XP from mining. Every 500 XP = Level Up!"})]})]}),X.jsxs("div",{className:"flex items-start gap-3",children:[X.jsx(fv,{className:"text-green-400 text-3xl mt-1"}),X.jsxs("div",{children:[X.jsx("h3",{className:"font-pixel text-sm text-white mb-2",children:"Mint NFTs"}),X.jsx("p",{className:"font-retro text-gray-300",children:"Get Quest Pass to start, then mint Quest Badges as you level up"})]})]}),X.jsxs("div",{className:"flex items-start gap-3",children:[X.jsx(b4,{className:"text-purple-400 text-3xl mt-1"}),X.jsxs("div",{children:[X.jsx("h3",{className:"font-pixel text-sm text-white mb-2",children:"Compete"}),X.jsx("p",{className:"font-retro text-gray-300",children:"Climb the leaderboard and prove you're the ultimate miner!"})]})]})]})]}),X.jsxs("div",{className:"flex flex-col md:flex-row gap-6 justify-center items-center",children:[X.jsxs(Ve.button,{whileHover:{scale:1.1},whileTap:{scale:.95},onClick:t,disabled:!n,className:`flex items-center gap-3 px-8 py-4 rounded-lg font-pixel text-lg transition-all ${n?"bg-game-yellow text-game-dark hover:box-shadow-neon cursor-pointer":"bg-gray-600 text-gray-400 cursor-not-allowed"}`,children:[X.jsx(b4,{}),"Start Quest"]}),n&&!s&&X.jsxs(Ve.button,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},whileHover:{scale:1.1},whileTap:{scale:.95},onClick:e,className:"flex items-center gap-3 bg-green-600 text-white px-8 py-4 rounded-lg font-pixel text-lg hover:bg-green-700 transition-all",children:[X.jsx(fv,{}),"Mint Quest Pass"]})]}),!n&&X.jsx(Ve.p,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.8},className:"font-retro text-gray-400 mt-6",children:"⚠️ Connect your wallet to start playing"})]}),X.jsx(Ve.footer,{initial:{opacity:0},animate:{opacity:1},transition:{delay:1},className:"absolute bottom-4 text-center font-retro text-gray-500",children:"Built on Stacks • Powered by Bitcoin"})]})},hce=({onLevelUp:t})=>{const{mineBlock:e,minedBlocks:n}=tf(),[s,i]=me.useState(null),[a,c]=me.useState({}),u=10,f=Array.from({length:u*u},(y,b)=>b),h=y=>{if(n.includes(y))return;const b=e(y);b&&(i(y),c(v=>({...v,[y]:b.result})),setTimeout(()=>{i(null),b.levelUp&&t(b.newLevel)},800))},p=y=>{const b=a[y];if(!b)return"?";switch(b){case"coin":return X.jsx(lE,{className:"text-yellow-400 text-2xl"});case"crystal":return X.jsx(uE,{className:"text-blue-400 text-2xl"});case"trap":return X.jsx(H8,{className:"text-red-500 text-2xl"});case"empty":return X.jsx("span",{className:"text-gray-500 text-2xl",children:"∅"});default:return"?"}},g=y=>{if(!n.includes(y))return"bg-gradient-to-br from-gray-700 to-gray-800 hover:from-gray-600 hover:to-gray-700";switch(a[y]){case"coin":return"bg-gradient-to-br from-yellow-600 to-yellow-800";case"crystal":return"bg-gradient-to-br from-blue-600 to-blue-800";case"trap":return"bg-gradient-to-br from-red-600 to-red-800";case"empty":return"bg-gradient-to-br from-gray-600 to-gray-800";default:return"bg-gray-700"}};return X.jsx("div",{className:"flex justify-center items-center p-4",children:X.jsx("div",{className:"grid grid-cols-10 gap-1 md:gap-2 max-w-4xl",children:f.map(y=>{const b=n.includes(y),v=s===y;return X.jsx(Ve.button,{onClick:()=>h(y),disabled:b,className:`
                w-10 h-10 md:w-14 md:h-14 lg:w-16 lg:h-16
                rounded-lg border-2 border-game-yellow/30
                flex items-center justify-center
                transition-all duration-300
                ${g(y)}
                ${b?"cursor-not-allowed":"cursor-pointer hover:border-game-yellow"}
                ${v?"border-game-yellow box-shadow-neon":""}
              `,whileHover:b?{}:{scale:1.1},whileTap:b?{}:{scale:.9},animate:v?{rotateY:[0,180],scale:[1,1.2,1]}:{},transition:{duration:.6},children:X.jsx(J2,{mode:"wait",children:b?X.jsx(Ve.div,{initial:{opacity:0,scale:0},animate:{opacity:1,scale:1},exit:{opacity:0,scale:0},transition:{duration:.3},children:p(y)},"result"):X.jsx(Ve.span,{className:"text-game-yellow text-2xl md:text-3xl font-pixel",animate:{opacity:[.5,1,.5]},transition:{duration:2,repeat:1/0},children:"?"},"question")})},y)})})})},pce=({onMintBadge:t})=>{const{coins:e,crystals:n,traps:s,level:i,xp:a,questBadges:c}=tf(),u=i*500,f=a/u*100;return X.jsxs("div",{className:"bg-game-blue/10 border-2 border-game-yellow rounded-lg p-6 w-full max-w-md",children:[X.jsx("h2",{className:"font-pixel text-xl text-game-yellow mb-6 text-center",children:"Inventory"}),X.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[X.jsxs(Ve.div,{whileHover:{scale:1.05},className:"bg-yellow-900/30 border border-yellow-600 rounded-lg p-4 flex items-center gap-3",children:[X.jsx(lE,{className:"text-yellow-400 text-3xl"}),X.jsxs("div",{children:[X.jsx("p",{className:"font-retro text-gray-300 text-sm",children:"Coins"}),X.jsx("p",{className:"font-pixel text-xl text-white",children:e})]})]}),X.jsxs(Ve.div,{whileHover:{scale:1.05},className:"bg-blue-900/30 border border-blue-600 rounded-lg p-4 flex items-center gap-3",children:[X.jsx(uE,{className:"text-blue-400 text-3xl"}),X.jsxs("div",{children:[X.jsx("p",{className:"font-retro text-gray-300 text-sm",children:"Crystals"}),X.jsx("p",{className:"font-pixel text-xl text-white",children:n})]})]}),X.jsxs(Ve.div,{whileHover:{scale:1.05},className:"bg-red-900/30 border border-red-600 rounded-lg p-4 flex items-center gap-3",children:[X.jsx(H8,{className:"text-red-400 text-3xl"}),X.jsxs("div",{children:[X.jsx("p",{className:"font-retro text-gray-300 text-sm",children:"Traps"}),X.jsx("p",{className:"font-pixel text-xl text-white",children:s})]})]}),X.jsxs(Ve.div,{whileHover:{scale:1.05},className:"bg-purple-900/30 border border-purple-600 rounded-lg p-4 flex items-center gap-3",children:[X.jsx(F8,{className:"text-purple-400 text-3xl"}),X.jsxs("div",{children:[X.jsx("p",{className:"font-retro text-gray-300 text-sm",children:"Level"}),X.jsx("p",{className:"font-pixel text-xl text-white",children:i})]})]})]}),X.jsxs("div",{className:"mb-6",children:[X.jsxs("div",{className:"flex justify-between items-center mb-2",children:[X.jsx("span",{className:"font-retro text-sm text-gray-300",children:"XP Progress"}),X.jsxs("span",{className:"font-retro text-sm text-game-yellow",children:[a," / ",u]})]}),X.jsx("div",{className:"w-full bg-gray-700 rounded-full h-4 overflow-hidden border border-game-yellow/50",children:X.jsx(Ve.div,{className:"bg-gradient-to-r from-game-yellow to-yellow-600 h-full",initial:{width:0},animate:{width:`${f}%`},transition:{duration:.5}})})]}),c.length>0&&X.jsxs("div",{className:"mb-4",children:[X.jsxs("h3",{className:"font-pixel text-sm text-game-yellow mb-3 flex items-center gap-2",children:[X.jsx(sk,{className:"text-yellow-400"}),"Quest Badges"]}),X.jsx("div",{className:"flex flex-wrap gap-2",children:c.map((h,p)=>X.jsx(Ve.div,{initial:{scale:0},animate:{scale:1},className:"bg-gradient-to-br from-yellow-600 to-orange-600 border-2 border-yellow-400 rounded-lg px-3 py-2",children:X.jsxs("span",{className:"font-pixel text-xs text-white",children:["Lvl ",h.level]})},p))})]}),i>c.length&&X.jsxs(Ve.button,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},whileHover:{scale:1.05},whileTap:{scale:.95},onClick:t,className:"w-full bg-gradient-to-r from-green-600 to-green-700 text-white px-6 py-3 rounded-lg font-pixel text-xs hover:from-green-500 hover:to-green-600 transition-all border-2 border-green-400",children:["🏆 Mint Level ",i," Badge"]})]})},gce=({isOpen:t,level:e,onClose:n,onMintBadge:s})=>X.jsx(J2,{children:t&&X.jsx(Ve.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/80 flex items-center justify-center z-50 p-4",children:X.jsxs(Ve.div,{initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0},exit:{scale:0,rotate:180},transition:{type:"spring",duration:.8},className:"bg-gradient-to-br from-game-dark to-purple-900 border-4 border-game-yellow rounded-lg p-8 max-w-md w-full text-center relative overflow-hidden",children:[[...Array(20)].map((i,a)=>X.jsx(Ve.div,{className:"absolute",initial:{opacity:0,scale:0},animate:{opacity:[0,1,0],scale:[0,1,0],x:Math.random()*400-200,y:Math.random()*400-200},transition:{duration:2,delay:Math.random()*.5,repeat:1/0,repeatDelay:Math.random()*2},children:X.jsx(tk,{className:"text-game-yellow"})},a)),X.jsx(Ve.div,{animate:{scale:[1,1.2,1]},transition:{duration:1,repeat:1/0},className:"relative z-10",children:X.jsx(F8,{className:"text-8xl text-game-yellow mx-auto mb-4"})}),X.jsx(Ve.h2,{className:"font-pixel text-3xl text-game-yellow mb-2 relative z-10",animate:{scale:[1,1.05,1]},transition:{duration:.5,repeat:1/0},children:"LEVEL UP!"}),X.jsxs(Ve.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"font-retro text-2xl text-white mb-6 relative z-10",children:["You've reached Level ",e,"!"]}),X.jsxs(Ve.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},className:"bg-game-blue/20 border border-game-yellow/50 rounded-lg p-4 mb-6 relative z-10",children:[X.jsx(q8,{className:"text-yellow-400 text-4xl mx-auto mb-2"}),X.jsxs("p",{className:"font-retro text-gray-300",children:["Congratulations! You can now mint your Level ",e," Quest Badge NFT to commemorate this achievement!"]})]}),X.jsxs("div",{className:"flex gap-4 relative z-10",children:[X.jsx(Ve.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:n,className:"flex-1 bg-gray-600 text-white px-6 py-3 rounded-lg font-pixel text-xs hover:bg-gray-700 transition-all",children:"Continue"}),X.jsx(Ve.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{n(),s()},className:"flex-1 bg-gradient-to-r from-green-600 to-green-700 text-white px-6 py-3 rounded-lg font-pixel text-xs hover:from-green-500 hover:to-green-600 transition-all border-2 border-green-400",children:"Mint Badge"})]})]})})}),ZM=({isOpen:t,onClose:e,type:n,level:s,onConfirm:i})=>{const[a,c]=me.useState(!1),[u,f]=me.useState(!1),h=async()=>{c(!0),await i(),c(!1),f(!0),setTimeout(()=>{f(!1),e()},2e3)},p=n==="pass",g=p?"Mint Quest Pass":`Mint Quest Badge Level ${s}`,y=p?"Your Quest Pass NFT grants you access to the Block Quest adventure. This is your proof of participation on the blockchain!":`Congratulations on reaching Level ${s}! Mint your Quest Badge NFT to commemorate this achievement on the blockchain.`,b=p?X.jsx(fv,{className:"text-6xl"}):X.jsx(q8,{className:"text-6xl"});return X.jsx(J2,{children:t&&X.jsx(Ve.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/80 flex items-center justify-center z-50 p-4",onClick:e,children:X.jsxs(Ve.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.8,opacity:0},onClick:v=>v.stopPropagation(),className:"bg-game-dark border-4 border-game-yellow rounded-lg p-8 max-w-md w-full relative",children:[X.jsx("button",{onClick:e,className:"absolute top-4 right-4 text-gray-400 hover:text-white transition-colors",children:X.jsx(nk,{className:"text-2xl"})}),X.jsx("div",{className:"text-center",children:u?X.jsxs(Ve.div,{initial:{scale:0},animate:{scale:1},className:"text-green-400",children:[X.jsx(Ve.div,{animate:{rotate:360},transition:{duration:1},children:"✅"}),X.jsx("h2",{className:"font-pixel text-2xl mt-4",children:"Success!"}),X.jsx("p",{className:"font-retro text-lg mt-2",children:"NFT Minted Successfully"})]}):X.jsxs(X.Fragment,{children:[X.jsx(Ve.div,{animate:{scale:[1,1.1,1]},transition:{duration:2,repeat:1/0},className:"text-game-yellow mb-4 flex justify-center",children:b}),X.jsx("h2",{className:"font-pixel text-2xl text-game-yellow mb-4",children:g}),X.jsx("p",{className:"font-retro text-gray-300 mb-6",children:y}),X.jsxs("div",{className:"bg-game-blue/20 border border-game-yellow/50 rounded-lg p-4 mb-6",children:[X.jsx("p",{className:"font-retro text-sm text-gray-400 mb-2",children:"NFT Details:"}),X.jsxs("ul",{className:"font-retro text-sm text-white space-y-1 text-left",children:[X.jsxs("li",{children:["• Type: ",p?"Quest Pass":"Quest Badge"]}),!p&&X.jsxs("li",{children:["• Level: ",s]}),X.jsx("li",{children:"• Network: Stacks Testnet"}),X.jsx("li",{children:"• Gas Fee: ~0.001 STX"})]})]}),X.jsxs("div",{className:"flex gap-4",children:[X.jsx(Ve.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:e,disabled:a,className:"flex-1 bg-gray-600 text-white px-6 py-3 rounded-lg font-pixel text-xs hover:bg-gray-700 transition-all disabled:opacity-50",children:"Cancel"}),X.jsx(Ve.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:h,disabled:a,className:"flex-1 bg-game-yellow text-game-dark px-6 py-3 rounded-lg font-pixel text-xs hover:box-shadow-neon transition-all disabled:opacity-50 flex items-center justify-center gap-2",children:a?X.jsxs(X.Fragment,{children:[X.jsx(ek,{className:"animate-spin"}),"Minting..."]}):"Mint NFT"})]})]})})]})})})},mce=({onBackHome:t})=>{const{level:e,resetGame:n,walletAddress:s,mintQuestBadge:i}=tf(),[a,c]=me.useState(!1),[u,f]=me.useState(!1),[h,p]=me.useState(1),g=E=>{p(E),c(!0)},y=()=>{f(!0)},b=async()=>{try{(await fce(e)).success&&i(e)}catch(E){console.error("Error minting Quest Badge:",E)}},v=()=>{window.confirm("Are you sure you want to reset your progress? This cannot be undone.")&&n()};return X.jsxs("div",{className:"min-h-screen bg-game-dark p-4",children:[X.jsx("div",{className:"max-w-7xl mx-auto mb-6",children:X.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center gap-4 bg-game-blue/10 border-2 border-game-yellow rounded-lg p-4",children:[X.jsx(Ve.h1,{className:"font-pixel text-2xl md:text-3xl text-game-yellow",animate:{opacity:[.8,1,.8]},transition:{duration:2,repeat:1/0},children:"🧱 BLOCK QUEST"}),X.jsxs("div",{className:"flex items-center gap-3",children:[X.jsx(QM,{}),X.jsxs(Ve.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:v,className:"bg-orange-600 text-white px-4 py-2 rounded-lg font-pixel text-xs hover:bg-orange-700 transition-all flex items-center gap-2",children:[X.jsx(JL,{}),"Reset"]}),X.jsxs(Ve.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:t,className:"bg-game-blue text-white px-4 py-2 rounded-lg font-pixel text-xs hover:bg-blue-700 transition-all flex items-center gap-2",children:[X.jsx(ZL,{}),"Home"]})]})]})}),X.jsx("div",{className:"max-w-7xl mx-auto",children:X.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[X.jsx("div",{className:"lg:col-span-2",children:X.jsxs(Ve.div,{initial:{opacity:0,x:-50},animate:{opacity:1,x:0},className:"bg-game-blue/10 border-2 border-game-yellow rounded-lg p-4",children:[X.jsx("h2",{className:"font-pixel text-xl text-game-yellow mb-4 text-center",children:"Mining Grid"}),X.jsx(hce,{onLevelUp:g}),X.jsx("p",{className:"font-retro text-center text-gray-400 mt-4",children:"Click blocks to mine treasures! 💰 Coins • 💎 Crystals • 💀 Traps"})]})}),X.jsx(Ve.div,{initial:{opacity:0,x:50},animate:{opacity:1,x:0},className:"flex justify-center lg:justify-start",children:X.jsx(pce,{onMintBadge:y})})]})}),X.jsx(gce,{isOpen:a,level:h,onClose:()=>c(!1),onMintBadge:y}),X.jsx(ZM,{isOpen:u,onClose:()=>f(!1),type:"badge",level:e,onConfirm:b})]})};function yce(){const[t,e]=me.useState("home"),[n,s]=me.useState(!1),{walletAddress:i,mintQuestPass:a}=tf(),c=()=>{e("game")},u=()=>{e("home")},f=()=>{s(!0)},h=async()=>{try{(await uce()).success&&a()}catch(p){console.error("Error minting Quest Pass:",p)}};return X.jsxs(X.Fragment,{children:[t==="home"?X.jsx(dce,{onStartGame:c,onMintPass:f}):X.jsx(mce,{onBackHome:u}),X.jsx(ZM,{isOpen:n,onClose:()=>s(!1),type:"pass",onConfirm:h})]})}function wce(){return X.jsx(uU,{children:X.jsx(yce,{})})}lU.createRoot(document.getElementById("root")).render(X.jsx(wo.StrictMode,{children:X.jsx(wce,{})}));export{NW as $,Ue as A,Er as B,be as C,Yn as D,xt as E,Woe as F,De as G,Gs as H,$le as I,MM as J,S2 as K,Ju as L,tt as M,xW as N,fe as O,Ks as P,ile as Q,je as R,ge as S,Fs as T,uT as U,mD as V,C2 as W,Nh as X,bW as Y,gD as Z,vh as _,Ule as a,rle as a0,sle as a1,um as a2,ale as a3,ole as a4,F0 as b,Oe as c,ve as d,Ple as e,de as f,Ece as g,Kk as h,Hu as i,z0 as j,wM as k,B as l,Wi as m,Cr as n,gt as o,np as p,Rle as q,vce as r,Nu as s,En as t,Lle as u,Dt as v,Zs as w,Mle as x,Qn as y,Pn as z};
