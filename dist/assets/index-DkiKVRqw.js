const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/basic-BTYcdKWD.js","assets/index-CdEdKs9r.js","assets/w3m-modal-wmSSn47b.js"])))=>i.map(i=>d[i]);
(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function n(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(s){if(s.ep)return;s.ep=!0;const o=n(s);fetch(s.href,o)}})();var cr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Yf(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function KB(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var t=e.default;if(typeof t=="function"){var n=function r(){var s=!1;try{s=this instanceof r}catch{}return s?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var s=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return e[r]}})}),n}var wb={exports:{}},ld={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kN;function GB(){if(kN)return ld;kN=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(r,s,o){var c=null;if(o!==void 0&&(c=""+o),s.key!==void 0&&(c=""+s.key),"key"in s){o={};for(var l in s)l!=="key"&&(o[l]=s[l])}else o=s;return s=o.ref,{$$typeof:e,type:r,key:c,ref:s!==void 0?s:null,props:o}}return ld.Fragment=t,ld.jsx=n,ld.jsxs=n,ld}var jN;function YB(){return jN||(jN=1,wb.exports=GB()),wb.exports}var Q=YB(),bb={exports:{}},He={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zN;function XB(){if(zN)return He;zN=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),c=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),g=Symbol.for("react.activity"),y=Symbol.iterator;function b(P){return P===null||typeof P!="object"?null:(P=y&&P[y]||P["@@iterator"],typeof P=="function"?P:null)}var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E=Object.assign,S={};function C(P,G,te){this.props=P,this.context=G,this.refs=S,this.updater=te||v}C.prototype.isReactComponent={},C.prototype.setState=function(P,G){if(typeof P!="object"&&typeof P!="function"&&P!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,P,G,"setState")},C.prototype.forceUpdate=function(P){this.updater.enqueueForceUpdate(this,P,"forceUpdate")};function O(){}O.prototype=C.prototype;function x(P,G,te){this.props=P,this.context=G,this.refs=S,this.updater=te||v}var N=x.prototype=new O;N.constructor=x,E(N,C.prototype),N.isPureReactComponent=!0;var T=Array.isArray;function I(){}var R={H:null,A:null,T:null,S:null},L=Object.prototype.hasOwnProperty;function U(P,G,te){var se=te.ref;return{$$typeof:e,type:P,key:G,ref:se!==void 0?se:null,props:te}}function D(P,G){return U(P.type,G,P.props)}function B(P){return typeof P=="object"&&P!==null&&P.$$typeof===e}function H(P){var G={"=":"=0",":":"=2"};return"$"+P.replace(/[=:]/g,function(te){return G[te]})}var X=/\/+/g;function Y(P,G){return typeof P=="object"&&P!==null&&P.key!=null?H(""+P.key):G.toString(36)}function M(P){switch(P.status){case"fulfilled":return P.value;case"rejected":throw P.reason;default:switch(typeof P.status=="string"?P.then(I,I):(P.status="pending",P.then(function(G){P.status==="pending"&&(P.status="fulfilled",P.value=G)},function(G){P.status==="pending"&&(P.status="rejected",P.reason=G)})),P.status){case"fulfilled":return P.value;case"rejected":throw P.reason}}throw P}function _(P,G,te,se,ue){var pe=typeof P;(pe==="undefined"||pe==="boolean")&&(P=null);var Te=!1;if(P===null)Te=!0;else switch(pe){case"bigint":case"string":case"number":Te=!0;break;case"object":switch(P.$$typeof){case e:case t:Te=!0;break;case p:return Te=P._init,_(Te(P._payload),G,te,se,ue)}}if(Te)return ue=ue(P),Te=se===""?"."+Y(P,0):se,T(ue)?(te="",Te!=null&&(te=Te.replace(X,"$&/")+"/"),_(ue,G,te,"",function(Et){return Et})):ue!=null&&(B(ue)&&(ue=D(ue,te+(ue.key==null||P&&P.key===ue.key?"":(""+ue.key).replace(X,"$&/")+"/")+Te)),G.push(ue)),1;Te=0;var ke=se===""?".":se+":";if(T(P))for(var Ie=0;Ie<P.length;Ie++)se=P[Ie],pe=ke+Y(se,Ie),Te+=_(se,G,te,pe,ue);else if(Ie=b(P),typeof Ie=="function")for(P=Ie.call(P),Ie=0;!(se=P.next()).done;)se=se.value,pe=ke+Y(se,Ie++),Te+=_(se,G,te,pe,ue);else if(pe==="object"){if(typeof P.then=="function")return _(M(P),G,te,se,ue);throw G=String(P),Error("Objects are not valid as a React child (found: "+(G==="[object Object]"?"object with keys {"+Object.keys(P).join(", ")+"}":G)+"). If you meant to render a collection of children, use an array instead.")}return Te}function j(P,G,te){if(P==null)return P;var se=[],ue=0;return _(P,se,"","",function(pe){return G.call(te,pe,ue++)}),se}function q(P){if(P._status===-1){var G=P._result;G=G(),G.then(function(te){(P._status===0||P._status===-1)&&(P._status=1,P._result=te)},function(te){(P._status===0||P._status===-1)&&(P._status=2,P._result=te)}),P._status===-1&&(P._status=0,P._result=G)}if(P._status===1)return P._result.default;throw P._result}var W=typeof reportError=="function"?reportError:function(P){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var G=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof P=="object"&&P!==null&&typeof P.message=="string"?String(P.message):String(P),error:P});if(!window.dispatchEvent(G))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",P);return}console.error(P)},V={map:j,forEach:function(P,G,te){j(P,function(){G.apply(this,arguments)},te)},count:function(P){var G=0;return j(P,function(){G++}),G},toArray:function(P){return j(P,function(G){return G})||[]},only:function(P){if(!B(P))throw Error("React.Children.only expected to receive a single React element child.");return P}};return He.Activity=g,He.Children=V,He.Component=C,He.Fragment=n,He.Profiler=s,He.PureComponent=x,He.StrictMode=r,He.Suspense=f,He.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=R,He.__COMPILER_RUNTIME={__proto__:null,c:function(P){return R.H.useMemoCache(P)}},He.cache=function(P){return function(){return P.apply(null,arguments)}},He.cacheSignal=function(){return null},He.cloneElement=function(P,G,te){if(P==null)throw Error("The argument must be a React element, but you passed "+P+".");var se=E({},P.props),ue=P.key;if(G!=null)for(pe in G.key!==void 0&&(ue=""+G.key),G)!L.call(G,pe)||pe==="key"||pe==="__self"||pe==="__source"||pe==="ref"&&G.ref===void 0||(se[pe]=G[pe]);var pe=arguments.length-2;if(pe===1)se.children=te;else if(1<pe){for(var Te=Array(pe),ke=0;ke<pe;ke++)Te[ke]=arguments[ke+2];se.children=Te}return U(P.type,ue,se)},He.createContext=function(P){return P={$$typeof:c,_currentValue:P,_currentValue2:P,_threadCount:0,Provider:null,Consumer:null},P.Provider=P,P.Consumer={$$typeof:o,_context:P},P},He.createElement=function(P,G,te){var se,ue={},pe=null;if(G!=null)for(se in G.key!==void 0&&(pe=""+G.key),G)L.call(G,se)&&se!=="key"&&se!=="__self"&&se!=="__source"&&(ue[se]=G[se]);var Te=arguments.length-2;if(Te===1)ue.children=te;else if(1<Te){for(var ke=Array(Te),Ie=0;Ie<Te;Ie++)ke[Ie]=arguments[Ie+2];ue.children=ke}if(P&&P.defaultProps)for(se in Te=P.defaultProps,Te)ue[se]===void 0&&(ue[se]=Te[se]);return U(P,pe,ue)},He.createRef=function(){return{current:null}},He.forwardRef=function(P){return{$$typeof:l,render:P}},He.isValidElement=B,He.lazy=function(P){return{$$typeof:p,_payload:{_status:-1,_result:P},_init:q}},He.memo=function(P,G){return{$$typeof:d,type:P,compare:G===void 0?null:G}},He.startTransition=function(P){var G=R.T,te={};R.T=te;try{var se=P(),ue=R.S;ue!==null&&ue(te,se),typeof se=="object"&&se!==null&&typeof se.then=="function"&&se.then(I,W)}catch(pe){W(pe)}finally{G!==null&&te.types!==null&&(G.types=te.types),R.T=G}},He.unstable_useCacheRefresh=function(){return R.H.useCacheRefresh()},He.use=function(P){return R.H.use(P)},He.useActionState=function(P,G,te){return R.H.useActionState(P,G,te)},He.useCallback=function(P,G){return R.H.useCallback(P,G)},He.useContext=function(P){return R.H.useContext(P)},He.useDebugValue=function(){},He.useDeferredValue=function(P,G){return R.H.useDeferredValue(P,G)},He.useEffect=function(P,G){return R.H.useEffect(P,G)},He.useEffectEvent=function(P){return R.H.useEffectEvent(P)},He.useId=function(){return R.H.useId()},He.useImperativeHandle=function(P,G,te){return R.H.useImperativeHandle(P,G,te)},He.useInsertionEffect=function(P,G){return R.H.useInsertionEffect(P,G)},He.useLayoutEffect=function(P,G){return R.H.useLayoutEffect(P,G)},He.useMemo=function(P,G){return R.H.useMemo(P,G)},He.useOptimistic=function(P,G){return R.H.useOptimistic(P,G)},He.useReducer=function(P,G,te){return R.H.useReducer(P,G,te)},He.useRef=function(P){return R.H.useRef(P)},He.useState=function(P){return R.H.useState(P)},He.useSyncExternalStore=function(P,G,te){return R.H.useSyncExternalStore(P,G,te)},He.useTransition=function(){return R.H.useTransition()},He.version="19.2.0",He}var HN;function aS(){return HN||(HN=1,bb.exports=XB()),bb.exports}var me=aS();const Ho=Yf(me);var vb={exports:{}},ud={},Eb={exports:{}},Sb={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var FN;function ZB(){return FN||(FN=1,(function(e){function t(_,j){var q=_.length;_.push(j);e:for(;0<q;){var W=q-1>>>1,V=_[W];if(0<s(V,j))_[W]=j,_[q]=V,q=W;else break e}}function n(_){return _.length===0?null:_[0]}function r(_){if(_.length===0)return null;var j=_[0],q=_.pop();if(q!==j){_[0]=q;e:for(var W=0,V=_.length,P=V>>>1;W<P;){var G=2*(W+1)-1,te=_[G],se=G+1,ue=_[se];if(0>s(te,q))se<V&&0>s(ue,te)?(_[W]=ue,_[se]=q,W=se):(_[W]=te,_[G]=q,W=G);else if(se<V&&0>s(ue,q))_[W]=ue,_[se]=q,W=se;else break e}}return j}function s(_,j){var q=_.sortIndex-j.sortIndex;return q!==0?q:_.id-j.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var c=Date,l=c.now();e.unstable_now=function(){return c.now()-l}}var f=[],d=[],p=1,g=null,y=3,b=!1,v=!1,E=!1,S=!1,C=typeof setTimeout=="function"?setTimeout:null,O=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;function N(_){for(var j=n(d);j!==null;){if(j.callback===null)r(d);else if(j.startTime<=_)r(d),j.sortIndex=j.expirationTime,t(f,j);else break;j=n(d)}}function T(_){if(E=!1,N(_),!v)if(n(f)!==null)v=!0,I||(I=!0,H());else{var j=n(d);j!==null&&M(T,j.startTime-_)}}var I=!1,R=-1,L=5,U=-1;function D(){return S?!0:!(e.unstable_now()-U<L)}function B(){if(S=!1,I){var _=e.unstable_now();U=_;var j=!0;try{e:{v=!1,E&&(E=!1,O(R),R=-1),b=!0;var q=y;try{t:{for(N(_),g=n(f);g!==null&&!(g.expirationTime>_&&D());){var W=g.callback;if(typeof W=="function"){g.callback=null,y=g.priorityLevel;var V=W(g.expirationTime<=_);if(_=e.unstable_now(),typeof V=="function"){g.callback=V,N(_),j=!0;break t}g===n(f)&&r(f),N(_)}else r(f);g=n(f)}if(g!==null)j=!0;else{var P=n(d);P!==null&&M(T,P.startTime-_),j=!1}}break e}finally{g=null,y=q,b=!1}j=void 0}}finally{j?H():I=!1}}}var H;if(typeof x=="function")H=function(){x(B)};else if(typeof MessageChannel<"u"){var X=new MessageChannel,Y=X.port2;X.port1.onmessage=B,H=function(){Y.postMessage(null)}}else H=function(){C(B,0)};function M(_,j){R=C(function(){_(e.unstable_now())},j)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(_){_.callback=null},e.unstable_forceFrameRate=function(_){0>_||125<_?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):L=0<_?Math.floor(1e3/_):5},e.unstable_getCurrentPriorityLevel=function(){return y},e.unstable_next=function(_){switch(y){case 1:case 2:case 3:var j=3;break;default:j=y}var q=y;y=j;try{return _()}finally{y=q}},e.unstable_requestPaint=function(){S=!0},e.unstable_runWithPriority=function(_,j){switch(_){case 1:case 2:case 3:case 4:case 5:break;default:_=3}var q=y;y=_;try{return j()}finally{y=q}},e.unstable_scheduleCallback=function(_,j,q){var W=e.unstable_now();switch(typeof q=="object"&&q!==null?(q=q.delay,q=typeof q=="number"&&0<q?W+q:W):q=W,_){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=q+V,_={id:p++,callback:j,priorityLevel:_,startTime:q,expirationTime:V,sortIndex:-1},q>W?(_.sortIndex=q,t(d,_),n(f)===null&&_===n(d)&&(E?(O(R),R=-1):E=!0,M(T,q-W))):(_.sortIndex=V,t(f,_),v||b||(v=!0,I||(I=!0,H()))),_},e.unstable_shouldYield=D,e.unstable_wrapCallback=function(_){var j=y;return function(){var q=y;y=j;try{return _.apply(this,arguments)}finally{y=q}}}})(Sb)),Sb}var qN;function QB(){return qN||(qN=1,Eb.exports=ZB()),Eb.exports}var Ab={exports:{}},tr={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var VN;function JB(){if(VN)return tr;VN=1;var e=aS();function t(f){var d="https://react.dev/errors/"+f;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)d+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+f+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},s=Symbol.for("react.portal");function o(f,d,p){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:g==null?null:""+g,children:f,containerInfo:d,implementation:p}}var c=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function l(f,d){if(f==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return tr.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,tr.createPortal=function(f,d){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(t(299));return o(f,d,null,p)},tr.flushSync=function(f){var d=c.T,p=r.p;try{if(c.T=null,r.p=2,f)return f()}finally{c.T=d,r.p=p,r.d.f()}},tr.preconnect=function(f,d){typeof f=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,r.d.C(f,d))},tr.prefetchDNS=function(f){typeof f=="string"&&r.d.D(f)},tr.preinit=function(f,d){if(typeof f=="string"&&d&&typeof d.as=="string"){var p=d.as,g=l(p,d.crossOrigin),y=typeof d.integrity=="string"?d.integrity:void 0,b=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;p==="style"?r.d.S(f,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:g,integrity:y,fetchPriority:b}):p==="script"&&r.d.X(f,{crossOrigin:g,integrity:y,fetchPriority:b,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},tr.preinitModule=function(f,d){if(typeof f=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var p=l(d.as,d.crossOrigin);r.d.M(f,{crossOrigin:p,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&r.d.M(f)},tr.preload=function(f,d){if(typeof f=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var p=d.as,g=l(p,d.crossOrigin);r.d.L(f,p,{crossOrigin:g,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},tr.preloadModule=function(f,d){if(typeof f=="string")if(d){var p=l(d.as,d.crossOrigin);r.d.m(f,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:p,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else r.d.m(f)},tr.requestFormReset=function(f){r.d.r(f)},tr.unstable_batchedUpdates=function(f,d){return f(d)},tr.useFormState=function(f,d,p){return c.H.useFormState(f,d,p)},tr.useFormStatus=function(){return c.H.useHostTransitionStatus()},tr.version="19.2.0",tr}var WN;function eL(){if(WN)return Ab.exports;WN=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Ab.exports=JB(),Ab.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var KN;function tL(){if(KN)return ud;KN=1;var e=QB(),t=aS(),n=eL();function r(i){var a="https://react.dev/errors/"+i;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var u=2;u<arguments.length;u++)a+="&args[]="+encodeURIComponent(arguments[u])}return"Minified React error #"+i+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function o(i){var a=i,u=i;if(i.alternate)for(;a.return;)a=a.return;else{i=a;do a=i,(a.flags&4098)!==0&&(u=a.return),i=a.return;while(i)}return a.tag===3?u:null}function c(i){if(i.tag===13){var a=i.memoizedState;if(a===null&&(i=i.alternate,i!==null&&(a=i.memoizedState)),a!==null)return a.dehydrated}return null}function l(i){if(i.tag===31){var a=i.memoizedState;if(a===null&&(i=i.alternate,i!==null&&(a=i.memoizedState)),a!==null)return a.dehydrated}return null}function f(i){if(o(i)!==i)throw Error(r(188))}function d(i){var a=i.alternate;if(!a){if(a=o(i),a===null)throw Error(r(188));return a!==i?null:i}for(var u=i,h=a;;){var m=u.return;if(m===null)break;var w=m.alternate;if(w===null){if(h=m.return,h!==null){u=h;continue}break}if(m.child===w.child){for(w=m.child;w;){if(w===u)return f(m),i;if(w===h)return f(m),a;w=w.sibling}throw Error(r(188))}if(u.return!==h.return)u=m,h=w;else{for(var A=!1,$=m.child;$;){if($===u){A=!0,u=m,h=w;break}if($===h){A=!0,h=m,u=w;break}$=$.sibling}if(!A){for($=w.child;$;){if($===u){A=!0,u=w,h=m;break}if($===h){A=!0,h=w,u=m;break}$=$.sibling}if(!A)throw Error(r(189))}}if(u.alternate!==h)throw Error(r(190))}if(u.tag!==3)throw Error(r(188));return u.stateNode.current===u?i:a}function p(i){var a=i.tag;if(a===5||a===26||a===27||a===6)return i;for(i=i.child;i!==null;){if(a=p(i),a!==null)return a;i=i.sibling}return null}var g=Object.assign,y=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),v=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),O=Symbol.for("react.consumer"),x=Symbol.for("react.context"),N=Symbol.for("react.forward_ref"),T=Symbol.for("react.suspense"),I=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),L=Symbol.for("react.lazy"),U=Symbol.for("react.activity"),D=Symbol.for("react.memo_cache_sentinel"),B=Symbol.iterator;function H(i){return i===null||typeof i!="object"?null:(i=B&&i[B]||i["@@iterator"],typeof i=="function"?i:null)}var X=Symbol.for("react.client.reference");function Y(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===X?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case E:return"Fragment";case C:return"Profiler";case S:return"StrictMode";case T:return"Suspense";case I:return"SuspenseList";case U:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case v:return"Portal";case x:return i.displayName||"Context";case O:return(i._context.displayName||"Context")+".Consumer";case N:var a=i.render;return i=i.displayName,i||(i=a.displayName||a.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case R:return a=i.displayName||null,a!==null?a:Y(i.type)||"Memo";case L:a=i._payload,i=i._init;try{return Y(i(a))}catch{}}return null}var M=Array.isArray,_=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,j=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,q={pending:!1,data:null,method:null,action:null},W=[],V=-1;function P(i){return{current:i}}function G(i){0>V||(i.current=W[V],W[V]=null,V--)}function te(i,a){V++,W[V]=i.current,i.current=a}var se=P(null),ue=P(null),pe=P(null),Te=P(null);function ke(i,a){switch(te(pe,a),te(ue,i),te(se,null),a.nodeType){case 9:case 11:i=(i=a.documentElement)&&(i=i.namespaceURI)?cN(i):0;break;default:if(i=a.tagName,a=a.namespaceURI)a=cN(a),i=lN(a,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}G(se),te(se,i)}function Ie(){G(se),G(ue),G(pe)}function Et(i){i.memoizedState!==null&&te(Te,i);var a=se.current,u=lN(a,i.type);a!==u&&(te(ue,i),te(se,u))}function jt(i){ue.current===i&&(G(se),G(ue)),Te.current===i&&(G(Te),id._currentValue=q)}var Vr,ro;function Rn(i){if(Vr===void 0)try{throw Error()}catch(u){var a=u.stack.trim().match(/\n( *(at )?)/);Vr=a&&a[1]||"",ro=-1<u.stack.indexOf(`
    at`)?" (<anonymous>)":-1<u.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Vr+i+ro}var bi=!1;function so(i,a){if(!i||bi)return"";bi=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var h={DetermineComponentFrameRoot:function(){try{if(a){var ce=function(){throw Error()};if(Object.defineProperty(ce.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ce,[])}catch(ie){var re=ie}Reflect.construct(i,[],ce)}else{try{ce.call()}catch(ie){re=ie}i.call(ce.prototype)}}else{try{throw Error()}catch(ie){re=ie}(ce=i())&&typeof ce.catch=="function"&&ce.catch(function(){})}}catch(ie){if(ie&&re&&typeof ie.stack=="string")return[ie.stack,re.stack]}return[null,null]}};h.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var m=Object.getOwnPropertyDescriptor(h.DetermineComponentFrameRoot,"name");m&&m.configurable&&Object.defineProperty(h.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var w=h.DetermineComponentFrameRoot(),A=w[0],$=w[1];if(A&&$){var F=A.split(`
`),ee=$.split(`
`);for(m=h=0;h<F.length&&!F[h].includes("DetermineComponentFrameRoot");)h++;for(;m<ee.length&&!ee[m].includes("DetermineComponentFrameRoot");)m++;if(h===F.length||m===ee.length)for(h=F.length-1,m=ee.length-1;1<=h&&0<=m&&F[h]!==ee[m];)m--;for(;1<=h&&0<=m;h--,m--)if(F[h]!==ee[m]){if(h!==1||m!==1)do if(h--,m--,0>m||F[h]!==ee[m]){var oe=`
`+F[h].replace(" at new "," at ");return i.displayName&&oe.includes("<anonymous>")&&(oe=oe.replace("<anonymous>",i.displayName)),oe}while(1<=h&&0<=m);break}}}finally{bi=!1,Error.prepareStackTrace=u}return(u=i?i.displayName||i.name:"")?Rn(u):""}function Gl(i,a){switch(i.tag){case 26:case 27:case 5:return Rn(i.type);case 16:return Rn("Lazy");case 13:return i.child!==a&&a!==null?Rn("Suspense Fallback"):Rn("Suspense");case 19:return Rn("SuspenseList");case 0:case 15:return so(i.type,!1);case 11:return so(i.type.render,!1);case 1:return so(i.type,!0);case 31:return Rn("Activity");default:return""}}function Yl(i){try{var a="",u=null;do a+=Gl(i,u),u=i,i=i.return;while(i);return a}catch(h){return`
Error generating stack: `+h.message+`
`+h.stack}}var Jo=Object.prototype.hasOwnProperty,Gs=e.unstable_scheduleCallback,Ys=e.unstable_cancelCallback,wc=e.unstable_shouldYield,bc=e.unstable_requestPaint,zt=e.unstable_now,io=e.unstable_getCurrentPriorityLevel,vc=e.unstable_ImmediatePriority,Ec=e.unstable_UserBlockingPriority,oo=e.unstable_NormalPriority,Xl=e.unstable_LowPriority,Zl=e.unstable_IdlePriority,fw=e.log,hw=e.unstable_setDisableYieldValue,Sc=null,Qn=null;function vi(i){if(typeof fw=="function"&&hw(i),Qn&&typeof Qn.setStrictMode=="function")try{Qn.setStrictMode(Sc,i)}catch{}}var hr=Math.clz32?Math.clz32:dh,hh=Math.log,Ac=Math.LN2;function dh(i){return i>>>=0,i===0?32:31-(hh(i)/Ac|0)|0}var ea=256,ta=262144,Ei=4194304;function ao(i){var a=i&42;if(a!==0)return a;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return i&261888;case 262144:case 524288:case 1048576:case 2097152:return i&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function Ql(i,a,u){var h=i.pendingLanes;if(h===0)return 0;var m=0,w=i.suspendedLanes,A=i.pingedLanes;i=i.warmLanes;var $=h&134217727;return $!==0?(h=$&~w,h!==0?m=ao(h):(A&=$,A!==0?m=ao(A):u||(u=$&~i,u!==0&&(m=ao(u))))):($=h&~w,$!==0?m=ao($):A!==0?m=ao(A):u||(u=h&~i,u!==0&&(m=ao(u)))),m===0?0:a!==0&&a!==m&&(a&w)===0&&(w=m&-m,u=a&-a,w>=u||w===32&&(u&4194048)!==0)?a:m}function Cc(i,a){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&a)===0}function dw(i,a){switch(i){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ng(){var i=Ei;return Ei<<=1,(Ei&62914560)===0&&(Ei=4194304),i}function Jl(i){for(var a=[],u=0;31>u;u++)a.push(i);return a}function na(i,a){i.pendingLanes|=a,a!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function co(i,a,u,h,m,w){var A=i.pendingLanes;i.pendingLanes=u,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=u,i.entangledLanes&=u,i.errorRecoveryDisabledLanes&=u,i.shellSuspendCounter=0;var $=i.entanglements,F=i.expirationTimes,ee=i.hiddenUpdates;for(u=A&~u;0<u;){var oe=31-hr(u),ce=1<<oe;$[oe]=0,F[oe]=-1;var re=ee[oe];if(re!==null)for(ee[oe]=null,oe=0;oe<re.length;oe++){var ie=re[oe];ie!==null&&(ie.lane&=-536870913)}u&=~ce}h!==0&&Tg(i,h,0),w!==0&&m===0&&i.tag!==0&&(i.suspendedLanes|=w&~(A&~a))}function Tg(i,a,u){i.pendingLanes|=a,i.suspendedLanes&=~a;var h=31-hr(a);i.entangledLanes|=a,i.entanglements[h]=i.entanglements[h]|1073741824|u&261930}function _g(i,a){var u=i.entangledLanes|=a;for(i=i.entanglements;u;){var h=31-hr(u),m=1<<h;m&a|i[h]&a&&(i[h]|=a),u&=~m}}function Ig(i,a){var u=a&-a;return u=(u&42)!==0?1:ph(u),(u&(i.suspendedLanes|a))!==0?0:u}function ph(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function gh(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function ys(){var i=j.p;return i!==0?i:(i=window.event,i===void 0?32:MN(i.type))}function Og(i,a){var u=j.p;try{return j.p=i,a()}finally{j.p=u}}var Si=Math.random().toString(36).slice(2),vn="__reactFiber$"+Si,Jn="__reactProps$"+Si,ra="__reactContainer$"+Si,Ai="__reactEvents$"+Si,pw="__reactListeners$"+Si,gw="__reactHandles$"+Si,Dg="__reactResources$"+Si,xc="__reactMarker$"+Si;function mh(i){delete i[vn],delete i[Jn],delete i[Ai],delete i[pw],delete i[gw]}function Wr(i){var a=i[vn];if(a)return a;for(var u=i.parentNode;u;){if(a=u[ra]||u[vn]){if(u=a.alternate,a.child!==null||u!==null&&u.child!==null)for(i=mN(i);i!==null;){if(u=i[vn])return u;i=mN(i)}return a}i=u,u=i.parentNode}return null}function sa(i){if(i=i[vn]||i[ra]){var a=i.tag;if(a===5||a===6||a===13||a===31||a===26||a===27||a===3)return i}return null}function Nc(i){var a=i.tag;if(a===5||a===26||a===27||a===6)return i.stateNode;throw Error(r(33))}function ia(i){var a=i[Dg];return a||(a=i[Dg]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function hn(i){i[xc]=!0}var Mg=new Set,$g={};function Ci(i,a){Xs(i,a),Xs(i+"Capture",a)}function Xs(i,a){for($g[i]=a,i=0;i<a.length;i++)Mg.add(a[i])}var mw=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),eu={},Ug={};function yw(i){return Jo.call(Ug,i)?!0:Jo.call(eu,i)?!1:mw.test(i)?Ug[i]=!0:(eu[i]=!0,!1)}function tu(i,a,u){if(yw(a))if(u===null)i.removeAttribute(a);else{switch(typeof u){case"undefined":case"function":case"symbol":i.removeAttribute(a);return;case"boolean":var h=a.toLowerCase().slice(0,5);if(h!=="data-"&&h!=="aria-"){i.removeAttribute(a);return}}i.setAttribute(a,""+u)}}function nu(i,a,u){if(u===null)i.removeAttribute(a);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(a);return}i.setAttribute(a,""+u)}}function Zs(i,a,u,h){if(h===null)i.removeAttribute(u);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(u);return}i.setAttributeNS(a,u,""+h)}}function vr(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function ru(i){var a=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function ww(i,a,u){var h=Object.getOwnPropertyDescriptor(i.constructor.prototype,a);if(!i.hasOwnProperty(a)&&typeof h<"u"&&typeof h.get=="function"&&typeof h.set=="function"){var m=h.get,w=h.set;return Object.defineProperty(i,a,{configurable:!0,get:function(){return m.call(this)},set:function(A){u=""+A,w.call(this,A)}}),Object.defineProperty(i,a,{enumerable:h.enumerable}),{getValue:function(){return u},setValue:function(A){u=""+A},stopTracking:function(){i._valueTracker=null,delete i[a]}}}}function yh(i){if(!i._valueTracker){var a=ru(i)?"checked":"value";i._valueTracker=ww(i,a,""+i[a])}}function Rg(i){if(!i)return!1;var a=i._valueTracker;if(!a)return!0;var u=a.getValue(),h="";return i&&(h=ru(i)?i.checked?"true":"false":i.value),i=h,i!==u?(a.setValue(i),!0):!1}function su(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var bw=/[\n"\\]/g;function Er(i){return i.replace(bw,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function wh(i,a,u,h,m,w,A,$){i.name="",A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?i.type=A:i.removeAttribute("type"),a!=null?A==="number"?(a===0&&i.value===""||i.value!=a)&&(i.value=""+vr(a)):i.value!==""+vr(a)&&(i.value=""+vr(a)):A!=="submit"&&A!=="reset"||i.removeAttribute("value"),a!=null?vh(i,A,vr(a)):u!=null?vh(i,A,vr(u)):h!=null&&i.removeAttribute("value"),m==null&&w!=null&&(i.defaultChecked=!!w),m!=null&&(i.checked=m&&typeof m!="function"&&typeof m!="symbol"),$!=null&&typeof $!="function"&&typeof $!="symbol"&&typeof $!="boolean"?i.name=""+vr($):i.removeAttribute("name")}function bh(i,a,u,h,m,w,A,$){if(w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"&&(i.type=w),a!=null||u!=null){if(!(w!=="submit"&&w!=="reset"||a!=null)){yh(i);return}u=u!=null?""+vr(u):"",a=a!=null?""+vr(a):u,$||a===i.value||(i.value=a),i.defaultValue=a}h=h??m,h=typeof h!="function"&&typeof h!="symbol"&&!!h,i.checked=$?i.checked:!!h,i.defaultChecked=!!h,A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"&&(i.name=A),yh(i)}function vh(i,a,u){a==="number"&&su(i.ownerDocument)===i||i.defaultValue===""+u||(i.defaultValue=""+u)}function oa(i,a,u,h){if(i=i.options,a){a={};for(var m=0;m<u.length;m++)a["$"+u[m]]=!0;for(u=0;u<i.length;u++)m=a.hasOwnProperty("$"+i[u].value),i[u].selected!==m&&(i[u].selected=m),m&&h&&(i[u].defaultSelected=!0)}else{for(u=""+vr(u),a=null,m=0;m<i.length;m++){if(i[m].value===u){i[m].selected=!0,h&&(i[m].defaultSelected=!0);return}a!==null||i[m].disabled||(a=i[m])}a!==null&&(a.selected=!0)}}function Tc(i,a,u){if(a!=null&&(a=""+vr(a),a!==i.value&&(i.value=a),u==null)){i.defaultValue!==a&&(i.defaultValue=a);return}i.defaultValue=u!=null?""+vr(u):""}function lo(i,a,u,h){if(a==null){if(h!=null){if(u!=null)throw Error(r(92));if(M(h)){if(1<h.length)throw Error(r(93));h=h[0]}u=h}u==null&&(u=""),a=u}u=vr(a),i.defaultValue=u,h=i.textContent,h===u&&h!==""&&h!==null&&(i.value=h),yh(i)}function uo(i,a){if(a){var u=i.firstChild;if(u&&u===i.lastChild&&u.nodeType===3){u.nodeValue=a;return}}i.textContent=a}var fo=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Pg(i,a,u){var h=a.indexOf("--")===0;u==null||typeof u=="boolean"||u===""?h?i.setProperty(a,""):a==="float"?i.cssFloat="":i[a]="":h?i.setProperty(a,u):typeof u!="number"||u===0||fo.has(a)?a==="float"?i.cssFloat=u:i[a]=(""+u).trim():i[a]=u+"px"}function Bg(i,a,u){if(a!=null&&typeof a!="object")throw Error(r(62));if(i=i.style,u!=null){for(var h in u)!u.hasOwnProperty(h)||a!=null&&a.hasOwnProperty(h)||(h.indexOf("--")===0?i.setProperty(h,""):h==="float"?i.cssFloat="":i[h]="");for(var m in a)h=a[m],a.hasOwnProperty(m)&&u[m]!==h&&Pg(i,m,h)}else for(var w in a)a.hasOwnProperty(w)&&Pg(i,w,a[w])}function Eh(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var vw=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ew=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function iu(i){return Ew.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}function ws(){}var Qs=null;function Sh(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var ho=null,aa=null;function ou(i){var a=sa(i);if(a&&(i=a.stateNode)){var u=i[Jn]||null;e:switch(i=a.stateNode,a.type){case"input":if(wh(i,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name),a=u.name,u.type==="radio"&&a!=null){for(u=i;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll('input[name="'+Er(""+a)+'"][type="radio"]'),a=0;a<u.length;a++){var h=u[a];if(h!==i&&h.form===i.form){var m=h[Jn]||null;if(!m)throw Error(r(90));wh(h,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name)}}for(a=0;a<u.length;a++)h=u[a],h.form===i.form&&Rg(h)}break e;case"textarea":Tc(i,u.value,u.defaultValue);break e;case"select":a=u.value,a!=null&&oa(i,!!u.multiple,a,!1)}}}var au=!1;function Lg(i,a,u){if(au)return i(a,u);au=!0;try{var h=i(a);return h}finally{if(au=!1,(ho!==null||aa!==null)&&(Em(),ho&&(a=ho,i=aa,aa=ho=null,ou(a),i)))for(a=0;a<i.length;a++)ou(i[a])}}function _c(i,a){var u=i.stateNode;if(u===null)return null;var h=u[Jn]||null;if(h===null)return null;u=h[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(i=i.type,h=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!h;break e;default:i=!1}if(i)return null;if(u&&typeof u!="function")throw Error(r(231,a,typeof u));return u}var bs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ah=!1;if(bs)try{var xi={};Object.defineProperty(xi,"passive",{get:function(){Ah=!0}}),window.addEventListener("test",xi,xi),window.removeEventListener("test",xi,xi)}catch{Ah=!1}var Ni=null,Ic=null,cu=null;function kg(){if(cu)return cu;var i,a=Ic,u=a.length,h,m="value"in Ni?Ni.value:Ni.textContent,w=m.length;for(i=0;i<u&&a[i]===m[i];i++);var A=u-i;for(h=1;h<=A&&a[u-h]===m[w-h];h++);return cu=m.slice(i,1<h?1-h:void 0)}function k(i){var a=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&a===13&&(i=13)):i=a,i===10&&(i=13),32<=i||i===13?i:0}function ne(){return!0}function le(){return!1}function Ee(i){function a(u,h,m,w,A){this._reactName=u,this._targetInst=m,this.type=h,this.nativeEvent=w,this.target=A,this.currentTarget=null;for(var $ in i)i.hasOwnProperty($)&&(u=i[$],this[$]=u?u(w):w[$]);return this.isDefaultPrevented=(w.defaultPrevented!=null?w.defaultPrevented:w.returnValue===!1)?ne:le,this.isPropagationStopped=le,this}return g(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=ne)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=ne)},persist:function(){},isPersistent:ne}),a}var Ht={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},En=Ee(Ht),dr=g({},Ht,{view:0,detail:0}),er=Ee(dr),lu,Ti,ca,Oc=g({},dr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Aw,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==ca&&(ca&&i.type==="mousemove"?(lu=i.screenX-ca.screenX,Ti=i.screenY-ca.screenY):Ti=lu=0,ca=i),lu)},movementY:function(i){return"movementY"in i?i.movementY:Ti}}),Ch=Ee(Oc),xh=g({},Oc,{dataTransfer:0}),uu=Ee(xh),GR=g({},dr,{relatedTarget:0}),Sw=Ee(GR),YR=g({},Ht,{animationName:0,elapsedTime:0,pseudoElement:0}),XR=Ee(YR),ZR=g({},Ht,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),QR=Ee(ZR),JR=g({},Ht,{data:0}),hC=Ee(JR),eP={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},tP={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},nP={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function rP(i){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(i):(i=nP[i])?!!a[i]:!1}function Aw(){return rP}var sP=g({},dr,{key:function(i){if(i.key){var a=eP[i.key]||i.key;if(a!=="Unidentified")return a}return i.type==="keypress"?(i=k(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?tP[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Aw,charCode:function(i){return i.type==="keypress"?k(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?k(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),iP=Ee(sP),oP=g({},Oc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),dC=Ee(oP),aP=g({},dr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Aw}),cP=Ee(aP),lP=g({},Ht,{propertyName:0,elapsedTime:0,pseudoElement:0}),uP=Ee(lP),fP=g({},Oc,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),hP=Ee(fP),dP=g({},Ht,{newState:0,oldState:0}),pP=Ee(dP),gP=[9,13,27,32],Cw=bs&&"CompositionEvent"in window,Nh=null;bs&&"documentMode"in document&&(Nh=document.documentMode);var mP=bs&&"TextEvent"in window&&!Nh,pC=bs&&(!Cw||Nh&&8<Nh&&11>=Nh),gC=" ",mC=!1;function yC(i,a){switch(i){case"keyup":return gP.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function wC(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var fu=!1;function yP(i,a){switch(i){case"compositionend":return wC(a);case"keypress":return a.which!==32?null:(mC=!0,gC);case"textInput":return i=a.data,i===gC&&mC?null:i;default:return null}}function wP(i,a){if(fu)return i==="compositionend"||!Cw&&yC(i,a)?(i=kg(),cu=Ic=Ni=null,fu=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return pC&&a.locale!=="ko"?null:a.data;default:return null}}var bP={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function bC(i){var a=i&&i.nodeName&&i.nodeName.toLowerCase();return a==="input"?!!bP[i.type]:a==="textarea"}function vC(i,a,u,h){ho?aa?aa.push(h):aa=[h]:ho=h,a=_m(a,"onChange"),0<a.length&&(u=new En("onChange","change",null,u,h),i.push({event:u,listeners:a}))}var Th=null,_h=null;function vP(i){nN(i,0)}function jg(i){var a=Nc(i);if(Rg(a))return i}function EC(i,a){if(i==="change")return a}var SC=!1;if(bs){var xw;if(bs){var Nw="oninput"in document;if(!Nw){var AC=document.createElement("div");AC.setAttribute("oninput","return;"),Nw=typeof AC.oninput=="function"}xw=Nw}else xw=!1;SC=xw&&(!document.documentMode||9<document.documentMode)}function CC(){Th&&(Th.detachEvent("onpropertychange",xC),_h=Th=null)}function xC(i){if(i.propertyName==="value"&&jg(_h)){var a=[];vC(a,_h,i,Sh(i)),Lg(vP,a)}}function EP(i,a,u){i==="focusin"?(CC(),Th=a,_h=u,Th.attachEvent("onpropertychange",xC)):i==="focusout"&&CC()}function SP(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return jg(_h)}function AP(i,a){if(i==="click")return jg(a)}function CP(i,a){if(i==="input"||i==="change")return jg(a)}function xP(i,a){return i===a&&(i!==0||1/i===1/a)||i!==i&&a!==a}var Kr=typeof Object.is=="function"?Object.is:xP;function Ih(i,a){if(Kr(i,a))return!0;if(typeof i!="object"||i===null||typeof a!="object"||a===null)return!1;var u=Object.keys(i),h=Object.keys(a);if(u.length!==h.length)return!1;for(h=0;h<u.length;h++){var m=u[h];if(!Jo.call(a,m)||!Kr(i[m],a[m]))return!1}return!0}function NC(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function TC(i,a){var u=NC(i);i=0;for(var h;u;){if(u.nodeType===3){if(h=i+u.textContent.length,i<=a&&h>=a)return{node:u,offset:a-i};i=h}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=NC(u)}}function _C(i,a){return i&&a?i===a?!0:i&&i.nodeType===3?!1:a&&a.nodeType===3?_C(i,a.parentNode):"contains"in i?i.contains(a):i.compareDocumentPosition?!!(i.compareDocumentPosition(a)&16):!1:!1}function IC(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var a=su(i.document);a instanceof i.HTMLIFrameElement;){try{var u=typeof a.contentWindow.location.href=="string"}catch{u=!1}if(u)i=a.contentWindow;else break;a=su(i.document)}return a}function Tw(i){var a=i&&i.nodeName&&i.nodeName.toLowerCase();return a&&(a==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||a==="textarea"||i.contentEditable==="true")}var NP=bs&&"documentMode"in document&&11>=document.documentMode,hu=null,_w=null,Oh=null,Iw=!1;function OC(i,a,u){var h=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;Iw||hu==null||hu!==su(h)||(h=hu,"selectionStart"in h&&Tw(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),Oh&&Ih(Oh,h)||(Oh=h,h=_m(_w,"onSelect"),0<h.length&&(a=new En("onSelect","select",null,a,u),i.push({event:a,listeners:h}),a.target=hu)))}function Dc(i,a){var u={};return u[i.toLowerCase()]=a.toLowerCase(),u["Webkit"+i]="webkit"+a,u["Moz"+i]="moz"+a,u}var du={animationend:Dc("Animation","AnimationEnd"),animationiteration:Dc("Animation","AnimationIteration"),animationstart:Dc("Animation","AnimationStart"),transitionrun:Dc("Transition","TransitionRun"),transitionstart:Dc("Transition","TransitionStart"),transitioncancel:Dc("Transition","TransitionCancel"),transitionend:Dc("Transition","TransitionEnd")},Ow={},DC={};bs&&(DC=document.createElement("div").style,"AnimationEvent"in window||(delete du.animationend.animation,delete du.animationiteration.animation,delete du.animationstart.animation),"TransitionEvent"in window||delete du.transitionend.transition);function Mc(i){if(Ow[i])return Ow[i];if(!du[i])return i;var a=du[i],u;for(u in a)if(a.hasOwnProperty(u)&&u in DC)return Ow[i]=a[u];return i}var MC=Mc("animationend"),$C=Mc("animationiteration"),UC=Mc("animationstart"),TP=Mc("transitionrun"),_P=Mc("transitionstart"),IP=Mc("transitioncancel"),RC=Mc("transitionend"),PC=new Map,Dw="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Dw.push("scrollEnd");function Js(i,a){PC.set(i,a),Ci(a,[i])}var zg=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)},vs=[],pu=0,Mw=0;function Hg(){for(var i=pu,a=Mw=pu=0;a<i;){var u=vs[a];vs[a++]=null;var h=vs[a];vs[a++]=null;var m=vs[a];vs[a++]=null;var w=vs[a];if(vs[a++]=null,h!==null&&m!==null){var A=h.pending;A===null?m.next=m:(m.next=A.next,A.next=m),h.pending=m}w!==0&&BC(u,m,w)}}function Fg(i,a,u,h){vs[pu++]=i,vs[pu++]=a,vs[pu++]=u,vs[pu++]=h,Mw|=h,i.lanes|=h,i=i.alternate,i!==null&&(i.lanes|=h)}function $w(i,a,u,h){return Fg(i,a,u,h),qg(i)}function $c(i,a){return Fg(i,null,null,a),qg(i)}function BC(i,a,u){i.lanes|=u;var h=i.alternate;h!==null&&(h.lanes|=u);for(var m=!1,w=i.return;w!==null;)w.childLanes|=u,h=w.alternate,h!==null&&(h.childLanes|=u),w.tag===22&&(i=w.stateNode,i===null||i._visibility&1||(m=!0)),i=w,w=w.return;return i.tag===3?(w=i.stateNode,m&&a!==null&&(m=31-hr(u),i=w.hiddenUpdates,h=i[m],h===null?i[m]=[a]:h.push(a),a.lane=u|536870912),w):null}function qg(i){if(50<Qh)throw Qh=0,H1=null,Error(r(185));for(var a=i.return;a!==null;)i=a,a=i.return;return i.tag===3?i.stateNode:null}var gu={};function OP(i,a,u,h){this.tag=i,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Gr(i,a,u,h){return new OP(i,a,u,h)}function Uw(i){return i=i.prototype,!(!i||!i.isReactComponent)}function po(i,a){var u=i.alternate;return u===null?(u=Gr(i.tag,a,i.key,i.mode),u.elementType=i.elementType,u.type=i.type,u.stateNode=i.stateNode,u.alternate=i,i.alternate=u):(u.pendingProps=a,u.type=i.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=i.flags&65011712,u.childLanes=i.childLanes,u.lanes=i.lanes,u.child=i.child,u.memoizedProps=i.memoizedProps,u.memoizedState=i.memoizedState,u.updateQueue=i.updateQueue,a=i.dependencies,u.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},u.sibling=i.sibling,u.index=i.index,u.ref=i.ref,u.refCleanup=i.refCleanup,u}function LC(i,a){i.flags&=65011714;var u=i.alternate;return u===null?(i.childLanes=0,i.lanes=a,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=u.childLanes,i.lanes=u.lanes,i.child=u.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=u.memoizedProps,i.memoizedState=u.memoizedState,i.updateQueue=u.updateQueue,i.type=u.type,a=u.dependencies,i.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),i}function Vg(i,a,u,h,m,w){var A=0;if(h=i,typeof i=="function")Uw(i)&&(A=1);else if(typeof i=="string")A=RB(i,u,se.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case U:return i=Gr(31,u,a,m),i.elementType=U,i.lanes=w,i;case E:return Uc(u.children,m,w,a);case S:A=8,m|=24;break;case C:return i=Gr(12,u,a,m|2),i.elementType=C,i.lanes=w,i;case T:return i=Gr(13,u,a,m),i.elementType=T,i.lanes=w,i;case I:return i=Gr(19,u,a,m),i.elementType=I,i.lanes=w,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case x:A=10;break e;case O:A=9;break e;case N:A=11;break e;case R:A=14;break e;case L:A=16,h=null;break e}A=29,u=Error(r(130,i===null?"null":typeof i,"")),h=null}return a=Gr(A,u,a,m),a.elementType=i,a.type=h,a.lanes=w,a}function Uc(i,a,u,h){return i=Gr(7,i,h,a),i.lanes=u,i}function Rw(i,a,u){return i=Gr(6,i,null,a),i.lanes=u,i}function kC(i){var a=Gr(18,null,null,0);return a.stateNode=i,a}function Pw(i,a,u){return a=Gr(4,i.children!==null?i.children:[],i.key,a),a.lanes=u,a.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},a}var jC=new WeakMap;function Es(i,a){if(typeof i=="object"&&i!==null){var u=jC.get(i);return u!==void 0?u:(a={value:i,source:a,stack:Yl(a)},jC.set(i,a),a)}return{value:i,source:a,stack:Yl(a)}}var mu=[],yu=0,Wg=null,Dh=0,Ss=[],As=0,la=null,_i=1,Ii="";function go(i,a){mu[yu++]=Dh,mu[yu++]=Wg,Wg=i,Dh=a}function zC(i,a,u){Ss[As++]=_i,Ss[As++]=Ii,Ss[As++]=la,la=i;var h=_i;i=Ii;var m=32-hr(h)-1;h&=~(1<<m),u+=1;var w=32-hr(a)+m;if(30<w){var A=m-m%5;w=(h&(1<<A)-1).toString(32),h>>=A,m-=A,_i=1<<32-hr(a)+m|u<<m|h,Ii=w+i}else _i=1<<w|u<<m|h,Ii=i}function Bw(i){i.return!==null&&(go(i,1),zC(i,1,0))}function Lw(i){for(;i===Wg;)Wg=mu[--yu],mu[yu]=null,Dh=mu[--yu],mu[yu]=null;for(;i===la;)la=Ss[--As],Ss[As]=null,Ii=Ss[--As],Ss[As]=null,_i=Ss[--As],Ss[As]=null}function HC(i,a){Ss[As++]=_i,Ss[As++]=Ii,Ss[As++]=la,_i=a.id,Ii=a.overflow,la=i}var Pn=null,Ft=null,et=!1,ua=null,Cs=!1,kw=Error(r(519));function fa(i){var a=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Mh(Es(a,i)),kw}function FC(i){var a=i.stateNode,u=i.type,h=i.memoizedProps;switch(a[vn]=i,a[Jn]=h,u){case"dialog":Ze("cancel",a),Ze("close",a);break;case"iframe":case"object":case"embed":Ze("load",a);break;case"video":case"audio":for(u=0;u<ed.length;u++)Ze(ed[u],a);break;case"source":Ze("error",a);break;case"img":case"image":case"link":Ze("error",a),Ze("load",a);break;case"details":Ze("toggle",a);break;case"input":Ze("invalid",a),bh(a,h.value,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name,!0);break;case"select":Ze("invalid",a);break;case"textarea":Ze("invalid",a),lo(a,h.value,h.defaultValue,h.children)}u=h.children,typeof u!="string"&&typeof u!="number"&&typeof u!="bigint"||a.textContent===""+u||h.suppressHydrationWarning===!0||oN(a.textContent,u)?(h.popover!=null&&(Ze("beforetoggle",a),Ze("toggle",a)),h.onScroll!=null&&Ze("scroll",a),h.onScrollEnd!=null&&Ze("scrollend",a),h.onClick!=null&&(a.onclick=ws),a=!0):a=!1,a||fa(i,!0)}function qC(i){for(Pn=i.return;Pn;)switch(Pn.tag){case 5:case 31:case 13:Cs=!1;return;case 27:case 3:Cs=!0;return;default:Pn=Pn.return}}function wu(i){if(i!==Pn)return!1;if(!et)return qC(i),et=!0,!1;var a=i.tag,u;if((u=a!==3&&a!==27)&&((u=a===5)&&(u=i.type,u=!(u!=="form"&&u!=="button")||rb(i.type,i.memoizedProps)),u=!u),u&&Ft&&fa(i),qC(i),a===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));Ft=gN(i)}else if(a===31){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));Ft=gN(i)}else a===27?(a=Ft,xa(i.type)?(i=cb,cb=null,Ft=i):Ft=a):Ft=Pn?Ns(i.stateNode.nextSibling):null;return!0}function Rc(){Ft=Pn=null,et=!1}function jw(){var i=ua;return i!==null&&(xr===null?xr=i:xr.push.apply(xr,i),ua=null),i}function Mh(i){ua===null?ua=[i]:ua.push(i)}var zw=P(null),Pc=null,mo=null;function ha(i,a,u){te(zw,a._currentValue),a._currentValue=u}function yo(i){i._currentValue=zw.current,G(zw)}function Hw(i,a,u){for(;i!==null;){var h=i.alternate;if((i.childLanes&a)!==a?(i.childLanes|=a,h!==null&&(h.childLanes|=a)):h!==null&&(h.childLanes&a)!==a&&(h.childLanes|=a),i===u)break;i=i.return}}function Fw(i,a,u,h){var m=i.child;for(m!==null&&(m.return=i);m!==null;){var w=m.dependencies;if(w!==null){var A=m.child;w=w.firstContext;e:for(;w!==null;){var $=w;w=m;for(var F=0;F<a.length;F++)if($.context===a[F]){w.lanes|=u,$=w.alternate,$!==null&&($.lanes|=u),Hw(w.return,u,i),h||(A=null);break e}w=$.next}}else if(m.tag===18){if(A=m.return,A===null)throw Error(r(341));A.lanes|=u,w=A.alternate,w!==null&&(w.lanes|=u),Hw(A,u,i),A=null}else A=m.child;if(A!==null)A.return=m;else for(A=m;A!==null;){if(A===i){A=null;break}if(m=A.sibling,m!==null){m.return=A.return,A=m;break}A=A.return}m=A}}function bu(i,a,u,h){i=null;for(var m=a,w=!1;m!==null;){if(!w){if((m.flags&524288)!==0)w=!0;else if((m.flags&262144)!==0)break}if(m.tag===10){var A=m.alternate;if(A===null)throw Error(r(387));if(A=A.memoizedProps,A!==null){var $=m.type;Kr(m.pendingProps.value,A.value)||(i!==null?i.push($):i=[$])}}else if(m===Te.current){if(A=m.alternate,A===null)throw Error(r(387));A.memoizedState.memoizedState!==m.memoizedState.memoizedState&&(i!==null?i.push(id):i=[id])}m=m.return}i!==null&&Fw(a,i,u,h),a.flags|=262144}function Kg(i){for(i=i.firstContext;i!==null;){if(!Kr(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function Bc(i){Pc=i,mo=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function Bn(i){return VC(Pc,i)}function Gg(i,a){return Pc===null&&Bc(i),VC(i,a)}function VC(i,a){var u=a._currentValue;if(a={context:a,memoizedValue:u,next:null},mo===null){if(i===null)throw Error(r(308));mo=a,i.dependencies={lanes:0,firstContext:a},i.flags|=524288}else mo=mo.next=a;return u}var DP=typeof AbortController<"u"?AbortController:function(){var i=[],a=this.signal={aborted:!1,addEventListener:function(u,h){i.push(h)}};this.abort=function(){a.aborted=!0,i.forEach(function(u){return u()})}},MP=e.unstable_scheduleCallback,$P=e.unstable_NormalPriority,dn={$$typeof:x,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function qw(){return{controller:new DP,data:new Map,refCount:0}}function $h(i){i.refCount--,i.refCount===0&&MP($P,function(){i.controller.abort()})}var Uh=null,Vw=0,vu=0,Eu=null;function UP(i,a){if(Uh===null){var u=Uh=[];Vw=0,vu=G1(),Eu={status:"pending",value:void 0,then:function(h){u.push(h)}}}return Vw++,a.then(WC,WC),a}function WC(){if(--Vw===0&&Uh!==null){Eu!==null&&(Eu.status="fulfilled");var i=Uh;Uh=null,vu=0,Eu=null;for(var a=0;a<i.length;a++)(0,i[a])()}}function RP(i,a){var u=[],h={status:"pending",value:null,reason:null,then:function(m){u.push(m)}};return i.then(function(){h.status="fulfilled",h.value=a;for(var m=0;m<u.length;m++)(0,u[m])(a)},function(m){for(h.status="rejected",h.reason=m,m=0;m<u.length;m++)(0,u[m])(void 0)}),h}var KC=_.S;_.S=function(i,a){O3=zt(),typeof a=="object"&&a!==null&&typeof a.then=="function"&&UP(i,a),KC!==null&&KC(i,a)};var Lc=P(null);function Ww(){var i=Lc.current;return i!==null?i:Dt.pooledCache}function Yg(i,a){a===null?te(Lc,Lc.current):te(Lc,a.pool)}function GC(){var i=Ww();return i===null?null:{parent:dn._currentValue,pool:i}}var Su=Error(r(460)),Kw=Error(r(474)),Xg=Error(r(542)),Zg={then:function(){}};function YC(i){return i=i.status,i==="fulfilled"||i==="rejected"}function XC(i,a,u){switch(u=i[u],u===void 0?i.push(a):u!==a&&(a.then(ws,ws),a=u),a.status){case"fulfilled":return a.value;case"rejected":throw i=a.reason,QC(i),i;default:if(typeof a.status=="string")a.then(ws,ws);else{if(i=Dt,i!==null&&100<i.shellSuspendCounter)throw Error(r(482));i=a,i.status="pending",i.then(function(h){if(a.status==="pending"){var m=a;m.status="fulfilled",m.value=h}},function(h){if(a.status==="pending"){var m=a;m.status="rejected",m.reason=h}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw i=a.reason,QC(i),i}throw jc=a,Su}}function kc(i){try{var a=i._init;return a(i._payload)}catch(u){throw u!==null&&typeof u=="object"&&typeof u.then=="function"?(jc=u,Su):u}}var jc=null;function ZC(){if(jc===null)throw Error(r(459));var i=jc;return jc=null,i}function QC(i){if(i===Su||i===Xg)throw Error(r(483))}var Au=null,Rh=0;function Qg(i){var a=Rh;return Rh+=1,Au===null&&(Au=[]),XC(Au,i,a)}function Ph(i,a){a=a.props.ref,i.ref=a!==void 0?a:null}function Jg(i,a){throw a.$$typeof===y?Error(r(525)):(i=Object.prototype.toString.call(a),Error(r(31,i==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":i)))}function JC(i){function a(Z,K){if(i){var J=Z.deletions;J===null?(Z.deletions=[K],Z.flags|=16):J.push(K)}}function u(Z,K){if(!i)return null;for(;K!==null;)a(Z,K),K=K.sibling;return null}function h(Z){for(var K=new Map;Z!==null;)Z.key!==null?K.set(Z.key,Z):K.set(Z.index,Z),Z=Z.sibling;return K}function m(Z,K){return Z=po(Z,K),Z.index=0,Z.sibling=null,Z}function w(Z,K,J){return Z.index=J,i?(J=Z.alternate,J!==null?(J=J.index,J<K?(Z.flags|=67108866,K):J):(Z.flags|=67108866,K)):(Z.flags|=1048576,K)}function A(Z){return i&&Z.alternate===null&&(Z.flags|=67108866),Z}function $(Z,K,J,ae){return K===null||K.tag!==6?(K=Rw(J,Z.mode,ae),K.return=Z,K):(K=m(K,J),K.return=Z,K)}function F(Z,K,J,ae){var Ue=J.type;return Ue===E?oe(Z,K,J.props.children,ae,J.key):K!==null&&(K.elementType===Ue||typeof Ue=="object"&&Ue!==null&&Ue.$$typeof===L&&kc(Ue)===K.type)?(K=m(K,J.props),Ph(K,J),K.return=Z,K):(K=Vg(J.type,J.key,J.props,null,Z.mode,ae),Ph(K,J),K.return=Z,K)}function ee(Z,K,J,ae){return K===null||K.tag!==4||K.stateNode.containerInfo!==J.containerInfo||K.stateNode.implementation!==J.implementation?(K=Pw(J,Z.mode,ae),K.return=Z,K):(K=m(K,J.children||[]),K.return=Z,K)}function oe(Z,K,J,ae,Ue){return K===null||K.tag!==7?(K=Uc(J,Z.mode,ae,Ue),K.return=Z,K):(K=m(K,J),K.return=Z,K)}function ce(Z,K,J){if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return K=Rw(""+K,Z.mode,J),K.return=Z,K;if(typeof K=="object"&&K!==null){switch(K.$$typeof){case b:return J=Vg(K.type,K.key,K.props,null,Z.mode,J),Ph(J,K),J.return=Z,J;case v:return K=Pw(K,Z.mode,J),K.return=Z,K;case L:return K=kc(K),ce(Z,K,J)}if(M(K)||H(K))return K=Uc(K,Z.mode,J,null),K.return=Z,K;if(typeof K.then=="function")return ce(Z,Qg(K),J);if(K.$$typeof===x)return ce(Z,Gg(Z,K),J);Jg(Z,K)}return null}function re(Z,K,J,ae){var Ue=K!==null?K.key:null;if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return Ue!==null?null:$(Z,K,""+J,ae);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case b:return J.key===Ue?F(Z,K,J,ae):null;case v:return J.key===Ue?ee(Z,K,J,ae):null;case L:return J=kc(J),re(Z,K,J,ae)}if(M(J)||H(J))return Ue!==null?null:oe(Z,K,J,ae,null);if(typeof J.then=="function")return re(Z,K,Qg(J),ae);if(J.$$typeof===x)return re(Z,K,Gg(Z,J),ae);Jg(Z,J)}return null}function ie(Z,K,J,ae,Ue){if(typeof ae=="string"&&ae!==""||typeof ae=="number"||typeof ae=="bigint")return Z=Z.get(J)||null,$(K,Z,""+ae,Ue);if(typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case b:return Z=Z.get(ae.key===null?J:ae.key)||null,F(K,Z,ae,Ue);case v:return Z=Z.get(ae.key===null?J:ae.key)||null,ee(K,Z,ae,Ue);case L:return ae=kc(ae),ie(Z,K,J,ae,Ue)}if(M(ae)||H(ae))return Z=Z.get(J)||null,oe(K,Z,ae,Ue,null);if(typeof ae.then=="function")return ie(Z,K,J,Qg(ae),Ue);if(ae.$$typeof===x)return ie(Z,K,J,Gg(K,ae),Ue);Jg(K,ae)}return null}function xe(Z,K,J,ae){for(var Ue=null,ct=null,_e=K,Ve=K=0,Je=null;_e!==null&&Ve<J.length;Ve++){_e.index>Ve?(Je=_e,_e=null):Je=_e.sibling;var lt=re(Z,_e,J[Ve],ae);if(lt===null){_e===null&&(_e=Je);break}i&&_e&&lt.alternate===null&&a(Z,_e),K=w(lt,K,Ve),ct===null?Ue=lt:ct.sibling=lt,ct=lt,_e=Je}if(Ve===J.length)return u(Z,_e),et&&go(Z,Ve),Ue;if(_e===null){for(;Ve<J.length;Ve++)_e=ce(Z,J[Ve],ae),_e!==null&&(K=w(_e,K,Ve),ct===null?Ue=_e:ct.sibling=_e,ct=_e);return et&&go(Z,Ve),Ue}for(_e=h(_e);Ve<J.length;Ve++)Je=ie(_e,Z,Ve,J[Ve],ae),Je!==null&&(i&&Je.alternate!==null&&_e.delete(Je.key===null?Ve:Je.key),K=w(Je,K,Ve),ct===null?Ue=Je:ct.sibling=Je,ct=Je);return i&&_e.forEach(function(Oa){return a(Z,Oa)}),et&&go(Z,Ve),Ue}function Le(Z,K,J,ae){if(J==null)throw Error(r(151));for(var Ue=null,ct=null,_e=K,Ve=K=0,Je=null,lt=J.next();_e!==null&&!lt.done;Ve++,lt=J.next()){_e.index>Ve?(Je=_e,_e=null):Je=_e.sibling;var Oa=re(Z,_e,lt.value,ae);if(Oa===null){_e===null&&(_e=Je);break}i&&_e&&Oa.alternate===null&&a(Z,_e),K=w(Oa,K,Ve),ct===null?Ue=Oa:ct.sibling=Oa,ct=Oa,_e=Je}if(lt.done)return u(Z,_e),et&&go(Z,Ve),Ue;if(_e===null){for(;!lt.done;Ve++,lt=J.next())lt=ce(Z,lt.value,ae),lt!==null&&(K=w(lt,K,Ve),ct===null?Ue=lt:ct.sibling=lt,ct=lt);return et&&go(Z,Ve),Ue}for(_e=h(_e);!lt.done;Ve++,lt=J.next())lt=ie(_e,Z,Ve,lt.value,ae),lt!==null&&(i&&lt.alternate!==null&&_e.delete(lt.key===null?Ve:lt.key),K=w(lt,K,Ve),ct===null?Ue=lt:ct.sibling=lt,ct=lt);return i&&_e.forEach(function(WB){return a(Z,WB)}),et&&go(Z,Ve),Ue}function _t(Z,K,J,ae){if(typeof J=="object"&&J!==null&&J.type===E&&J.key===null&&(J=J.props.children),typeof J=="object"&&J!==null){switch(J.$$typeof){case b:e:{for(var Ue=J.key;K!==null;){if(K.key===Ue){if(Ue=J.type,Ue===E){if(K.tag===7){u(Z,K.sibling),ae=m(K,J.props.children),ae.return=Z,Z=ae;break e}}else if(K.elementType===Ue||typeof Ue=="object"&&Ue!==null&&Ue.$$typeof===L&&kc(Ue)===K.type){u(Z,K.sibling),ae=m(K,J.props),Ph(ae,J),ae.return=Z,Z=ae;break e}u(Z,K);break}else a(Z,K);K=K.sibling}J.type===E?(ae=Uc(J.props.children,Z.mode,ae,J.key),ae.return=Z,Z=ae):(ae=Vg(J.type,J.key,J.props,null,Z.mode,ae),Ph(ae,J),ae.return=Z,Z=ae)}return A(Z);case v:e:{for(Ue=J.key;K!==null;){if(K.key===Ue)if(K.tag===4&&K.stateNode.containerInfo===J.containerInfo&&K.stateNode.implementation===J.implementation){u(Z,K.sibling),ae=m(K,J.children||[]),ae.return=Z,Z=ae;break e}else{u(Z,K);break}else a(Z,K);K=K.sibling}ae=Pw(J,Z.mode,ae),ae.return=Z,Z=ae}return A(Z);case L:return J=kc(J),_t(Z,K,J,ae)}if(M(J))return xe(Z,K,J,ae);if(H(J)){if(Ue=H(J),typeof Ue!="function")throw Error(r(150));return J=Ue.call(J),Le(Z,K,J,ae)}if(typeof J.then=="function")return _t(Z,K,Qg(J),ae);if(J.$$typeof===x)return _t(Z,K,Gg(Z,J),ae);Jg(Z,J)}return typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint"?(J=""+J,K!==null&&K.tag===6?(u(Z,K.sibling),ae=m(K,J),ae.return=Z,Z=ae):(u(Z,K),ae=Rw(J,Z.mode,ae),ae.return=Z,Z=ae),A(Z)):u(Z,K)}return function(Z,K,J,ae){try{Rh=0;var Ue=_t(Z,K,J,ae);return Au=null,Ue}catch(_e){if(_e===Su||_e===Xg)throw _e;var ct=Gr(29,_e,null,Z.mode);return ct.lanes=ae,ct.return=Z,ct}finally{}}}var zc=JC(!0),ex=JC(!1),da=!1;function Gw(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Yw(i,a){i=i.updateQueue,a.updateQueue===i&&(a.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function pa(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function ga(i,a,u){var h=i.updateQueue;if(h===null)return null;if(h=h.shared,(gt&2)!==0){var m=h.pending;return m===null?a.next=a:(a.next=m.next,m.next=a),h.pending=a,a=qg(i),BC(i,null,u),a}return Fg(i,h,a,u),qg(i)}function Bh(i,a,u){if(a=a.updateQueue,a!==null&&(a=a.shared,(u&4194048)!==0)){var h=a.lanes;h&=i.pendingLanes,u|=h,a.lanes=u,_g(i,u)}}function Xw(i,a){var u=i.updateQueue,h=i.alternate;if(h!==null&&(h=h.updateQueue,u===h)){var m=null,w=null;if(u=u.firstBaseUpdate,u!==null){do{var A={lane:u.lane,tag:u.tag,payload:u.payload,callback:null,next:null};w===null?m=w=A:w=w.next=A,u=u.next}while(u!==null);w===null?m=w=a:w=w.next=a}else m=w=a;u={baseState:h.baseState,firstBaseUpdate:m,lastBaseUpdate:w,shared:h.shared,callbacks:h.callbacks},i.updateQueue=u;return}i=u.lastBaseUpdate,i===null?u.firstBaseUpdate=a:i.next=a,u.lastBaseUpdate=a}var Zw=!1;function Lh(){if(Zw){var i=Eu;if(i!==null)throw i}}function kh(i,a,u,h){Zw=!1;var m=i.updateQueue;da=!1;var w=m.firstBaseUpdate,A=m.lastBaseUpdate,$=m.shared.pending;if($!==null){m.shared.pending=null;var F=$,ee=F.next;F.next=null,A===null?w=ee:A.next=ee,A=F;var oe=i.alternate;oe!==null&&(oe=oe.updateQueue,$=oe.lastBaseUpdate,$!==A&&($===null?oe.firstBaseUpdate=ee:$.next=ee,oe.lastBaseUpdate=F))}if(w!==null){var ce=m.baseState;A=0,oe=ee=F=null,$=w;do{var re=$.lane&-536870913,ie=re!==$.lane;if(ie?(Qe&re)===re:(h&re)===re){re!==0&&re===vu&&(Zw=!0),oe!==null&&(oe=oe.next={lane:0,tag:$.tag,payload:$.payload,callback:null,next:null});e:{var xe=i,Le=$;re=a;var _t=u;switch(Le.tag){case 1:if(xe=Le.payload,typeof xe=="function"){ce=xe.call(_t,ce,re);break e}ce=xe;break e;case 3:xe.flags=xe.flags&-65537|128;case 0:if(xe=Le.payload,re=typeof xe=="function"?xe.call(_t,ce,re):xe,re==null)break e;ce=g({},ce,re);break e;case 2:da=!0}}re=$.callback,re!==null&&(i.flags|=64,ie&&(i.flags|=8192),ie=m.callbacks,ie===null?m.callbacks=[re]:ie.push(re))}else ie={lane:re,tag:$.tag,payload:$.payload,callback:$.callback,next:null},oe===null?(ee=oe=ie,F=ce):oe=oe.next=ie,A|=re;if($=$.next,$===null){if($=m.shared.pending,$===null)break;ie=$,$=ie.next,ie.next=null,m.lastBaseUpdate=ie,m.shared.pending=null}}while(!0);oe===null&&(F=ce),m.baseState=F,m.firstBaseUpdate=ee,m.lastBaseUpdate=oe,w===null&&(m.shared.lanes=0),va|=A,i.lanes=A,i.memoizedState=ce}}function tx(i,a){if(typeof i!="function")throw Error(r(191,i));i.call(a)}function nx(i,a){var u=i.callbacks;if(u!==null)for(i.callbacks=null,i=0;i<u.length;i++)tx(u[i],a)}var Cu=P(null),em=P(0);function rx(i,a){i=No,te(em,i),te(Cu,a),No=i|a.baseLanes}function Qw(){te(em,No),te(Cu,Cu.current)}function Jw(){No=em.current,G(Cu),G(em)}var Yr=P(null),xs=null;function ma(i){var a=i.alternate;te(sn,sn.current&1),te(Yr,i),xs===null&&(a===null||Cu.current!==null||a.memoizedState!==null)&&(xs=i)}function e1(i){te(sn,sn.current),te(Yr,i),xs===null&&(xs=i)}function sx(i){i.tag===22?(te(sn,sn.current),te(Yr,i),xs===null&&(xs=i)):ya()}function ya(){te(sn,sn.current),te(Yr,Yr.current)}function Xr(i){G(Yr),xs===i&&(xs=null),G(sn)}var sn=P(0);function tm(i){for(var a=i;a!==null;){if(a.tag===13){var u=a.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||ob(u)||ab(u)))return a}else if(a.tag===19&&(a.memoizedProps.revealOrder==="forwards"||a.memoizedProps.revealOrder==="backwards"||a.memoizedProps.revealOrder==="unstable_legacy-backwards"||a.memoizedProps.revealOrder==="together")){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var wo=0,Fe=null,Nt=null,pn=null,nm=!1,xu=!1,Hc=!1,rm=0,jh=0,Nu=null,PP=0;function en(){throw Error(r(321))}function t1(i,a){if(a===null)return!1;for(var u=0;u<a.length&&u<i.length;u++)if(!Kr(i[u],a[u]))return!1;return!0}function n1(i,a,u,h,m,w){return wo=w,Fe=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,_.H=i===null||i.memoizedState===null?zx:y1,Hc=!1,w=u(h,m),Hc=!1,xu&&(w=ox(a,u,h,m)),ix(i),w}function ix(i){_.H=Fh;var a=Nt!==null&&Nt.next!==null;if(wo=0,pn=Nt=Fe=null,nm=!1,jh=0,Nu=null,a)throw Error(r(300));i===null||gn||(i=i.dependencies,i!==null&&Kg(i)&&(gn=!0))}function ox(i,a,u,h){Fe=i;var m=0;do{if(xu&&(Nu=null),jh=0,xu=!1,25<=m)throw Error(r(301));if(m+=1,pn=Nt=null,i.updateQueue!=null){var w=i.updateQueue;w.lastEffect=null,w.events=null,w.stores=null,w.memoCache!=null&&(w.memoCache.index=0)}_.H=Hx,w=a(u,h)}while(xu);return w}function BP(){var i=_.H,a=i.useState()[0];return a=typeof a.then=="function"?zh(a):a,i=i.useState()[0],(Nt!==null?Nt.memoizedState:null)!==i&&(Fe.flags|=1024),a}function r1(){var i=rm!==0;return rm=0,i}function s1(i,a,u){a.updateQueue=i.updateQueue,a.flags&=-2053,i.lanes&=~u}function i1(i){if(nm){for(i=i.memoizedState;i!==null;){var a=i.queue;a!==null&&(a.pending=null),i=i.next}nm=!1}wo=0,pn=Nt=Fe=null,xu=!1,jh=rm=0,Nu=null}function pr(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return pn===null?Fe.memoizedState=pn=i:pn=pn.next=i,pn}function on(){if(Nt===null){var i=Fe.alternate;i=i!==null?i.memoizedState:null}else i=Nt.next;var a=pn===null?Fe.memoizedState:pn.next;if(a!==null)pn=a,Nt=i;else{if(i===null)throw Fe.alternate===null?Error(r(467)):Error(r(310));Nt=i,i={memoizedState:Nt.memoizedState,baseState:Nt.baseState,baseQueue:Nt.baseQueue,queue:Nt.queue,next:null},pn===null?Fe.memoizedState=pn=i:pn=pn.next=i}return pn}function sm(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function zh(i){var a=jh;return jh+=1,Nu===null&&(Nu=[]),i=XC(Nu,i,a),a=Fe,(pn===null?a.memoizedState:pn.next)===null&&(a=a.alternate,_.H=a===null||a.memoizedState===null?zx:y1),i}function im(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return zh(i);if(i.$$typeof===x)return Bn(i)}throw Error(r(438,String(i)))}function o1(i){var a=null,u=Fe.updateQueue;if(u!==null&&(a=u.memoCache),a==null){var h=Fe.alternate;h!==null&&(h=h.updateQueue,h!==null&&(h=h.memoCache,h!=null&&(a={data:h.data.map(function(m){return m.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),u===null&&(u=sm(),Fe.updateQueue=u),u.memoCache=a,u=a.data[a.index],u===void 0)for(u=a.data[a.index]=Array(i),h=0;h<i;h++)u[h]=D;return a.index++,u}function bo(i,a){return typeof a=="function"?a(i):a}function om(i){var a=on();return a1(a,Nt,i)}function a1(i,a,u){var h=i.queue;if(h===null)throw Error(r(311));h.lastRenderedReducer=u;var m=i.baseQueue,w=h.pending;if(w!==null){if(m!==null){var A=m.next;m.next=w.next,w.next=A}a.baseQueue=m=w,h.pending=null}if(w=i.baseState,m===null)i.memoizedState=w;else{a=m.next;var $=A=null,F=null,ee=a,oe=!1;do{var ce=ee.lane&-536870913;if(ce!==ee.lane?(Qe&ce)===ce:(wo&ce)===ce){var re=ee.revertLane;if(re===0)F!==null&&(F=F.next={lane:0,revertLane:0,gesture:null,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null}),ce===vu&&(oe=!0);else if((wo&re)===re){ee=ee.next,re===vu&&(oe=!0);continue}else ce={lane:0,revertLane:ee.revertLane,gesture:null,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null},F===null?($=F=ce,A=w):F=F.next=ce,Fe.lanes|=re,va|=re;ce=ee.action,Hc&&u(w,ce),w=ee.hasEagerState?ee.eagerState:u(w,ce)}else re={lane:ce,revertLane:ee.revertLane,gesture:ee.gesture,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null},F===null?($=F=re,A=w):F=F.next=re,Fe.lanes|=ce,va|=ce;ee=ee.next}while(ee!==null&&ee!==a);if(F===null?A=w:F.next=$,!Kr(w,i.memoizedState)&&(gn=!0,oe&&(u=Eu,u!==null)))throw u;i.memoizedState=w,i.baseState=A,i.baseQueue=F,h.lastRenderedState=w}return m===null&&(h.lanes=0),[i.memoizedState,h.dispatch]}function c1(i){var a=on(),u=a.queue;if(u===null)throw Error(r(311));u.lastRenderedReducer=i;var h=u.dispatch,m=u.pending,w=a.memoizedState;if(m!==null){u.pending=null;var A=m=m.next;do w=i(w,A.action),A=A.next;while(A!==m);Kr(w,a.memoizedState)||(gn=!0),a.memoizedState=w,a.baseQueue===null&&(a.baseState=w),u.lastRenderedState=w}return[w,h]}function ax(i,a,u){var h=Fe,m=on(),w=et;if(w){if(u===void 0)throw Error(r(407));u=u()}else u=a();var A=!Kr((Nt||m).memoizedState,u);if(A&&(m.memoizedState=u,gn=!0),m=m.queue,f1(ux.bind(null,h,m,i),[i]),m.getSnapshot!==a||A||pn!==null&&pn.memoizedState.tag&1){if(h.flags|=2048,Tu(9,{destroy:void 0},lx.bind(null,h,m,u,a),null),Dt===null)throw Error(r(349));w||(wo&127)!==0||cx(h,a,u)}return u}function cx(i,a,u){i.flags|=16384,i={getSnapshot:a,value:u},a=Fe.updateQueue,a===null?(a=sm(),Fe.updateQueue=a,a.stores=[i]):(u=a.stores,u===null?a.stores=[i]:u.push(i))}function lx(i,a,u,h){a.value=u,a.getSnapshot=h,fx(a)&&hx(i)}function ux(i,a,u){return u(function(){fx(a)&&hx(i)})}function fx(i){var a=i.getSnapshot;i=i.value;try{var u=a();return!Kr(i,u)}catch{return!0}}function hx(i){var a=$c(i,2);a!==null&&Nr(a,i,2)}function l1(i){var a=pr();if(typeof i=="function"){var u=i;if(i=u(),Hc){vi(!0);try{u()}finally{vi(!1)}}}return a.memoizedState=a.baseState=i,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:bo,lastRenderedState:i},a}function dx(i,a,u,h){return i.baseState=u,a1(i,Nt,typeof h=="function"?h:bo)}function LP(i,a,u,h,m){if(lm(i))throw Error(r(485));if(i=a.action,i!==null){var w={payload:m,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(A){w.listeners.push(A)}};_.T!==null?u(!0):w.isTransition=!1,h(w),u=a.pending,u===null?(w.next=a.pending=w,px(a,w)):(w.next=u.next,a.pending=u.next=w)}}function px(i,a){var u=a.action,h=a.payload,m=i.state;if(a.isTransition){var w=_.T,A={};_.T=A;try{var $=u(m,h),F=_.S;F!==null&&F(A,$),gx(i,a,$)}catch(ee){u1(i,a,ee)}finally{w!==null&&A.types!==null&&(w.types=A.types),_.T=w}}else try{w=u(m,h),gx(i,a,w)}catch(ee){u1(i,a,ee)}}function gx(i,a,u){u!==null&&typeof u=="object"&&typeof u.then=="function"?u.then(function(h){mx(i,a,h)},function(h){return u1(i,a,h)}):mx(i,a,u)}function mx(i,a,u){a.status="fulfilled",a.value=u,yx(a),i.state=u,a=i.pending,a!==null&&(u=a.next,u===a?i.pending=null:(u=u.next,a.next=u,px(i,u)))}function u1(i,a,u){var h=i.pending;if(i.pending=null,h!==null){h=h.next;do a.status="rejected",a.reason=u,yx(a),a=a.next;while(a!==h)}i.action=null}function yx(i){i=i.listeners;for(var a=0;a<i.length;a++)(0,i[a])()}function wx(i,a){return a}function bx(i,a){if(et){var u=Dt.formState;if(u!==null){e:{var h=Fe;if(et){if(Ft){t:{for(var m=Ft,w=Cs;m.nodeType!==8;){if(!w){m=null;break t}if(m=Ns(m.nextSibling),m===null){m=null;break t}}w=m.data,m=w==="F!"||w==="F"?m:null}if(m){Ft=Ns(m.nextSibling),h=m.data==="F!";break e}}fa(h)}h=!1}h&&(a=u[0])}}return u=pr(),u.memoizedState=u.baseState=a,h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:wx,lastRenderedState:a},u.queue=h,u=Lx.bind(null,Fe,h),h.dispatch=u,h=l1(!1),w=m1.bind(null,Fe,!1,h.queue),h=pr(),m={state:a,dispatch:null,action:i,pending:null},h.queue=m,u=LP.bind(null,Fe,m,w,u),m.dispatch=u,h.memoizedState=i,[a,u,!1]}function vx(i){var a=on();return Ex(a,Nt,i)}function Ex(i,a,u){if(a=a1(i,a,wx)[0],i=om(bo)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var h=zh(a)}catch(A){throw A===Su?Xg:A}else h=a;a=on();var m=a.queue,w=m.dispatch;return u!==a.memoizedState&&(Fe.flags|=2048,Tu(9,{destroy:void 0},kP.bind(null,m,u),null)),[h,w,i]}function kP(i,a){i.action=a}function Sx(i){var a=on(),u=Nt;if(u!==null)return Ex(a,u,i);on(),a=a.memoizedState,u=on();var h=u.queue.dispatch;return u.memoizedState=i,[a,h,!1]}function Tu(i,a,u,h){return i={tag:i,create:u,deps:h,inst:a,next:null},a=Fe.updateQueue,a===null&&(a=sm(),Fe.updateQueue=a),u=a.lastEffect,u===null?a.lastEffect=i.next=i:(h=u.next,u.next=i,i.next=h,a.lastEffect=i),i}function Ax(){return on().memoizedState}function am(i,a,u,h){var m=pr();Fe.flags|=i,m.memoizedState=Tu(1|a,{destroy:void 0},u,h===void 0?null:h)}function cm(i,a,u,h){var m=on();h=h===void 0?null:h;var w=m.memoizedState.inst;Nt!==null&&h!==null&&t1(h,Nt.memoizedState.deps)?m.memoizedState=Tu(a,w,u,h):(Fe.flags|=i,m.memoizedState=Tu(1|a,w,u,h))}function Cx(i,a){am(8390656,8,i,a)}function f1(i,a){cm(2048,8,i,a)}function jP(i){Fe.flags|=4;var a=Fe.updateQueue;if(a===null)a=sm(),Fe.updateQueue=a,a.events=[i];else{var u=a.events;u===null?a.events=[i]:u.push(i)}}function xx(i){var a=on().memoizedState;return jP({ref:a,nextImpl:i}),function(){if((gt&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}function Nx(i,a){return cm(4,2,i,a)}function Tx(i,a){return cm(4,4,i,a)}function _x(i,a){if(typeof a=="function"){i=i();var u=a(i);return function(){typeof u=="function"?u():a(null)}}if(a!=null)return i=i(),a.current=i,function(){a.current=null}}function Ix(i,a,u){u=u!=null?u.concat([i]):null,cm(4,4,_x.bind(null,a,i),u)}function h1(){}function Ox(i,a){var u=on();a=a===void 0?null:a;var h=u.memoizedState;return a!==null&&t1(a,h[1])?h[0]:(u.memoizedState=[i,a],i)}function Dx(i,a){var u=on();a=a===void 0?null:a;var h=u.memoizedState;if(a!==null&&t1(a,h[1]))return h[0];if(h=i(),Hc){vi(!0);try{i()}finally{vi(!1)}}return u.memoizedState=[h,a],h}function d1(i,a,u){return u===void 0||(wo&1073741824)!==0&&(Qe&261930)===0?i.memoizedState=a:(i.memoizedState=u,i=M3(),Fe.lanes|=i,va|=i,u)}function Mx(i,a,u,h){return Kr(u,a)?u:Cu.current!==null?(i=d1(i,u,h),Kr(i,a)||(gn=!0),i):(wo&42)===0||(wo&1073741824)!==0&&(Qe&261930)===0?(gn=!0,i.memoizedState=u):(i=M3(),Fe.lanes|=i,va|=i,a)}function $x(i,a,u,h,m){var w=j.p;j.p=w!==0&&8>w?w:8;var A=_.T,$={};_.T=$,m1(i,!1,a,u);try{var F=m(),ee=_.S;if(ee!==null&&ee($,F),F!==null&&typeof F=="object"&&typeof F.then=="function"){var oe=RP(F,h);Hh(i,a,oe,Jr(i))}else Hh(i,a,h,Jr(i))}catch(ce){Hh(i,a,{then:function(){},status:"rejected",reason:ce},Jr())}finally{j.p=w,A!==null&&$.types!==null&&(A.types=$.types),_.T=A}}function zP(){}function p1(i,a,u,h){if(i.tag!==5)throw Error(r(476));var m=Ux(i).queue;$x(i,m,a,q,u===null?zP:function(){return Rx(i),u(h)})}function Ux(i){var a=i.memoizedState;if(a!==null)return a;a={memoizedState:q,baseState:q,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:bo,lastRenderedState:q},next:null};var u={};return a.next={memoizedState:u,baseState:u,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:bo,lastRenderedState:u},next:null},i.memoizedState=a,i=i.alternate,i!==null&&(i.memoizedState=a),a}function Rx(i){var a=Ux(i);a.next===null&&(a=i.alternate.memoizedState),Hh(i,a.next.queue,{},Jr())}function g1(){return Bn(id)}function Px(){return on().memoizedState}function Bx(){return on().memoizedState}function HP(i){for(var a=i.return;a!==null;){switch(a.tag){case 24:case 3:var u=Jr();i=pa(u);var h=ga(a,i,u);h!==null&&(Nr(h,a,u),Bh(h,a,u)),a={cache:qw()},i.payload=a;return}a=a.return}}function FP(i,a,u){var h=Jr();u={lane:h,revertLane:0,gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},lm(i)?kx(a,u):(u=$w(i,a,u,h),u!==null&&(Nr(u,i,h),jx(u,a,h)))}function Lx(i,a,u){var h=Jr();Hh(i,a,u,h)}function Hh(i,a,u,h){var m={lane:h,revertLane:0,gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null};if(lm(i))kx(a,m);else{var w=i.alternate;if(i.lanes===0&&(w===null||w.lanes===0)&&(w=a.lastRenderedReducer,w!==null))try{var A=a.lastRenderedState,$=w(A,u);if(m.hasEagerState=!0,m.eagerState=$,Kr($,A))return Fg(i,a,m,0),Dt===null&&Hg(),!1}catch{}finally{}if(u=$w(i,a,m,h),u!==null)return Nr(u,i,h),jx(u,a,h),!0}return!1}function m1(i,a,u,h){if(h={lane:2,revertLane:G1(),gesture:null,action:h,hasEagerState:!1,eagerState:null,next:null},lm(i)){if(a)throw Error(r(479))}else a=$w(i,u,h,2),a!==null&&Nr(a,i,2)}function lm(i){var a=i.alternate;return i===Fe||a!==null&&a===Fe}function kx(i,a){xu=nm=!0;var u=i.pending;u===null?a.next=a:(a.next=u.next,u.next=a),i.pending=a}function jx(i,a,u){if((u&4194048)!==0){var h=a.lanes;h&=i.pendingLanes,u|=h,a.lanes=u,_g(i,u)}}var Fh={readContext:Bn,use:im,useCallback:en,useContext:en,useEffect:en,useImperativeHandle:en,useLayoutEffect:en,useInsertionEffect:en,useMemo:en,useReducer:en,useRef:en,useState:en,useDebugValue:en,useDeferredValue:en,useTransition:en,useSyncExternalStore:en,useId:en,useHostTransitionStatus:en,useFormState:en,useActionState:en,useOptimistic:en,useMemoCache:en,useCacheRefresh:en};Fh.useEffectEvent=en;var zx={readContext:Bn,use:im,useCallback:function(i,a){return pr().memoizedState=[i,a===void 0?null:a],i},useContext:Bn,useEffect:Cx,useImperativeHandle:function(i,a,u){u=u!=null?u.concat([i]):null,am(4194308,4,_x.bind(null,a,i),u)},useLayoutEffect:function(i,a){return am(4194308,4,i,a)},useInsertionEffect:function(i,a){am(4,2,i,a)},useMemo:function(i,a){var u=pr();a=a===void 0?null:a;var h=i();if(Hc){vi(!0);try{i()}finally{vi(!1)}}return u.memoizedState=[h,a],h},useReducer:function(i,a,u){var h=pr();if(u!==void 0){var m=u(a);if(Hc){vi(!0);try{u(a)}finally{vi(!1)}}}else m=a;return h.memoizedState=h.baseState=m,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:m},h.queue=i,i=i.dispatch=FP.bind(null,Fe,i),[h.memoizedState,i]},useRef:function(i){var a=pr();return i={current:i},a.memoizedState=i},useState:function(i){i=l1(i);var a=i.queue,u=Lx.bind(null,Fe,a);return a.dispatch=u,[i.memoizedState,u]},useDebugValue:h1,useDeferredValue:function(i,a){var u=pr();return d1(u,i,a)},useTransition:function(){var i=l1(!1);return i=$x.bind(null,Fe,i.queue,!0,!1),pr().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,a,u){var h=Fe,m=pr();if(et){if(u===void 0)throw Error(r(407));u=u()}else{if(u=a(),Dt===null)throw Error(r(349));(Qe&127)!==0||cx(h,a,u)}m.memoizedState=u;var w={value:u,getSnapshot:a};return m.queue=w,Cx(ux.bind(null,h,w,i),[i]),h.flags|=2048,Tu(9,{destroy:void 0},lx.bind(null,h,w,u,a),null),u},useId:function(){var i=pr(),a=Dt.identifierPrefix;if(et){var u=Ii,h=_i;u=(h&~(1<<32-hr(h)-1)).toString(32)+u,a="_"+a+"R_"+u,u=rm++,0<u&&(a+="H"+u.toString(32)),a+="_"}else u=PP++,a="_"+a+"r_"+u.toString(32)+"_";return i.memoizedState=a},useHostTransitionStatus:g1,useFormState:bx,useActionState:bx,useOptimistic:function(i){var a=pr();a.memoizedState=a.baseState=i;var u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=u,a=m1.bind(null,Fe,!0,u),u.dispatch=a,[i,a]},useMemoCache:o1,useCacheRefresh:function(){return pr().memoizedState=HP.bind(null,Fe)},useEffectEvent:function(i){var a=pr(),u={impl:i};return a.memoizedState=u,function(){if((gt&2)!==0)throw Error(r(440));return u.impl.apply(void 0,arguments)}}},y1={readContext:Bn,use:im,useCallback:Ox,useContext:Bn,useEffect:f1,useImperativeHandle:Ix,useInsertionEffect:Nx,useLayoutEffect:Tx,useMemo:Dx,useReducer:om,useRef:Ax,useState:function(){return om(bo)},useDebugValue:h1,useDeferredValue:function(i,a){var u=on();return Mx(u,Nt.memoizedState,i,a)},useTransition:function(){var i=om(bo)[0],a=on().memoizedState;return[typeof i=="boolean"?i:zh(i),a]},useSyncExternalStore:ax,useId:Px,useHostTransitionStatus:g1,useFormState:vx,useActionState:vx,useOptimistic:function(i,a){var u=on();return dx(u,Nt,i,a)},useMemoCache:o1,useCacheRefresh:Bx};y1.useEffectEvent=xx;var Hx={readContext:Bn,use:im,useCallback:Ox,useContext:Bn,useEffect:f1,useImperativeHandle:Ix,useInsertionEffect:Nx,useLayoutEffect:Tx,useMemo:Dx,useReducer:c1,useRef:Ax,useState:function(){return c1(bo)},useDebugValue:h1,useDeferredValue:function(i,a){var u=on();return Nt===null?d1(u,i,a):Mx(u,Nt.memoizedState,i,a)},useTransition:function(){var i=c1(bo)[0],a=on().memoizedState;return[typeof i=="boolean"?i:zh(i),a]},useSyncExternalStore:ax,useId:Px,useHostTransitionStatus:g1,useFormState:Sx,useActionState:Sx,useOptimistic:function(i,a){var u=on();return Nt!==null?dx(u,Nt,i,a):(u.baseState=i,[i,u.queue.dispatch])},useMemoCache:o1,useCacheRefresh:Bx};Hx.useEffectEvent=xx;function w1(i,a,u,h){a=i.memoizedState,u=u(h,a),u=u==null?a:g({},a,u),i.memoizedState=u,i.lanes===0&&(i.updateQueue.baseState=u)}var b1={enqueueSetState:function(i,a,u){i=i._reactInternals;var h=Jr(),m=pa(h);m.payload=a,u!=null&&(m.callback=u),a=ga(i,m,h),a!==null&&(Nr(a,i,h),Bh(a,i,h))},enqueueReplaceState:function(i,a,u){i=i._reactInternals;var h=Jr(),m=pa(h);m.tag=1,m.payload=a,u!=null&&(m.callback=u),a=ga(i,m,h),a!==null&&(Nr(a,i,h),Bh(a,i,h))},enqueueForceUpdate:function(i,a){i=i._reactInternals;var u=Jr(),h=pa(u);h.tag=2,a!=null&&(h.callback=a),a=ga(i,h,u),a!==null&&(Nr(a,i,u),Bh(a,i,u))}};function Fx(i,a,u,h,m,w,A){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(h,w,A):a.prototype&&a.prototype.isPureReactComponent?!Ih(u,h)||!Ih(m,w):!0}function qx(i,a,u,h){i=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(u,h),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(u,h),a.state!==i&&b1.enqueueReplaceState(a,a.state,null)}function Fc(i,a){var u=a;if("ref"in a){u={};for(var h in a)h!=="ref"&&(u[h]=a[h])}if(i=i.defaultProps){u===a&&(u=g({},u));for(var m in i)u[m]===void 0&&(u[m]=i[m])}return u}function Vx(i){zg(i)}function Wx(i){console.error(i)}function Kx(i){zg(i)}function um(i,a){try{var u=i.onUncaughtError;u(a.value,{componentStack:a.stack})}catch(h){setTimeout(function(){throw h})}}function Gx(i,a,u){try{var h=i.onCaughtError;h(u.value,{componentStack:u.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(m){setTimeout(function(){throw m})}}function v1(i,a,u){return u=pa(u),u.tag=3,u.payload={element:null},u.callback=function(){um(i,a)},u}function Yx(i){return i=pa(i),i.tag=3,i}function Xx(i,a,u,h){var m=u.type.getDerivedStateFromError;if(typeof m=="function"){var w=h.value;i.payload=function(){return m(w)},i.callback=function(){Gx(a,u,h)}}var A=u.stateNode;A!==null&&typeof A.componentDidCatch=="function"&&(i.callback=function(){Gx(a,u,h),typeof m!="function"&&(Ea===null?Ea=new Set([this]):Ea.add(this));var $=h.stack;this.componentDidCatch(h.value,{componentStack:$!==null?$:""})})}function qP(i,a,u,h,m){if(u.flags|=32768,h!==null&&typeof h=="object"&&typeof h.then=="function"){if(a=u.alternate,a!==null&&bu(a,u,m,!0),u=Yr.current,u!==null){switch(u.tag){case 31:case 13:return xs===null?Sm():u.alternate===null&&tn===0&&(tn=3),u.flags&=-257,u.flags|=65536,u.lanes=m,h===Zg?u.flags|=16384:(a=u.updateQueue,a===null?u.updateQueue=new Set([h]):a.add(h),V1(i,h,m)),!1;case 22:return u.flags|=65536,h===Zg?u.flags|=16384:(a=u.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([h])},u.updateQueue=a):(u=a.retryQueue,u===null?a.retryQueue=new Set([h]):u.add(h)),V1(i,h,m)),!1}throw Error(r(435,u.tag))}return V1(i,h,m),Sm(),!1}if(et)return a=Yr.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=m,h!==kw&&(i=Error(r(422),{cause:h}),Mh(Es(i,u)))):(h!==kw&&(a=Error(r(423),{cause:h}),Mh(Es(a,u))),i=i.current.alternate,i.flags|=65536,m&=-m,i.lanes|=m,h=Es(h,u),m=v1(i.stateNode,h,m),Xw(i,m),tn!==4&&(tn=2)),!1;var w=Error(r(520),{cause:h});if(w=Es(w,u),Zh===null?Zh=[w]:Zh.push(w),tn!==4&&(tn=2),a===null)return!0;h=Es(h,u),u=a;do{switch(u.tag){case 3:return u.flags|=65536,i=m&-m,u.lanes|=i,i=v1(u.stateNode,h,i),Xw(u,i),!1;case 1:if(a=u.type,w=u.stateNode,(u.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(Ea===null||!Ea.has(w))))return u.flags|=65536,m&=-m,u.lanes|=m,m=Yx(m),Xx(m,i,u,h),Xw(u,m),!1}u=u.return}while(u!==null);return!1}var E1=Error(r(461)),gn=!1;function Ln(i,a,u,h){a.child=i===null?ex(a,null,u,h):zc(a,i.child,u,h)}function Zx(i,a,u,h,m){u=u.render;var w=a.ref;if("ref"in h){var A={};for(var $ in h)$!=="ref"&&(A[$]=h[$])}else A=h;return Bc(a),h=n1(i,a,u,A,w,m),$=r1(),i!==null&&!gn?(s1(i,a,m),vo(i,a,m)):(et&&$&&Bw(a),a.flags|=1,Ln(i,a,h,m),a.child)}function Qx(i,a,u,h,m){if(i===null){var w=u.type;return typeof w=="function"&&!Uw(w)&&w.defaultProps===void 0&&u.compare===null?(a.tag=15,a.type=w,Jx(i,a,w,h,m)):(i=Vg(u.type,null,h,a,a.mode,m),i.ref=a.ref,i.return=a,a.child=i)}if(w=i.child,!I1(i,m)){var A=w.memoizedProps;if(u=u.compare,u=u!==null?u:Ih,u(A,h)&&i.ref===a.ref)return vo(i,a,m)}return a.flags|=1,i=po(w,h),i.ref=a.ref,i.return=a,a.child=i}function Jx(i,a,u,h,m){if(i!==null){var w=i.memoizedProps;if(Ih(w,h)&&i.ref===a.ref)if(gn=!1,a.pendingProps=h=w,I1(i,m))(i.flags&131072)!==0&&(gn=!0);else return a.lanes=i.lanes,vo(i,a,m)}return S1(i,a,u,h,m)}function e3(i,a,u,h){var m=h.children,w=i!==null?i.memoizedState:null;if(i===null&&a.stateNode===null&&(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),h.mode==="hidden"){if((a.flags&128)!==0){if(w=w!==null?w.baseLanes|u:u,i!==null){for(h=a.child=i.child,m=0;h!==null;)m=m|h.lanes|h.childLanes,h=h.sibling;h=m&~w}else h=0,a.child=null;return t3(i,a,w,u,h)}if((u&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},i!==null&&Yg(a,w!==null?w.cachePool:null),w!==null?rx(a,w):Qw(),sx(a);else return h=a.lanes=536870912,t3(i,a,w!==null?w.baseLanes|u:u,u,h)}else w!==null?(Yg(a,w.cachePool),rx(a,w),ya(),a.memoizedState=null):(i!==null&&Yg(a,null),Qw(),ya());return Ln(i,a,m,u),a.child}function qh(i,a){return i!==null&&i.tag===22||a.stateNode!==null||(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),a.sibling}function t3(i,a,u,h,m){var w=Ww();return w=w===null?null:{parent:dn._currentValue,pool:w},a.memoizedState={baseLanes:u,cachePool:w},i!==null&&Yg(a,null),Qw(),sx(a),i!==null&&bu(i,a,h,!0),a.childLanes=m,null}function fm(i,a){return a=dm({mode:a.mode,children:a.children},i.mode),a.ref=i.ref,i.child=a,a.return=i,a}function n3(i,a,u){return zc(a,i.child,null,u),i=fm(a,a.pendingProps),i.flags|=2,Xr(a),a.memoizedState=null,i}function VP(i,a,u){var h=a.pendingProps,m=(a.flags&128)!==0;if(a.flags&=-129,i===null){if(et){if(h.mode==="hidden")return i=fm(a,h),a.lanes=536870912,qh(null,i);if(e1(a),(i=Ft)?(i=pN(i,Cs),i=i!==null&&i.data==="&"?i:null,i!==null&&(a.memoizedState={dehydrated:i,treeContext:la!==null?{id:_i,overflow:Ii}:null,retryLane:536870912,hydrationErrors:null},u=kC(i),u.return=a,a.child=u,Pn=a,Ft=null)):i=null,i===null)throw fa(a);return a.lanes=536870912,null}return fm(a,h)}var w=i.memoizedState;if(w!==null){var A=w.dehydrated;if(e1(a),m)if(a.flags&256)a.flags&=-257,a=n3(i,a,u);else if(a.memoizedState!==null)a.child=i.child,a.flags|=128,a=null;else throw Error(r(558));else if(gn||bu(i,a,u,!1),m=(u&i.childLanes)!==0,gn||m){if(h=Dt,h!==null&&(A=Ig(h,u),A!==0&&A!==w.retryLane))throw w.retryLane=A,$c(i,A),Nr(h,i,A),E1;Sm(),a=n3(i,a,u)}else i=w.treeContext,Ft=Ns(A.nextSibling),Pn=a,et=!0,ua=null,Cs=!1,i!==null&&HC(a,i),a=fm(a,h),a.flags|=4096;return a}return i=po(i.child,{mode:h.mode,children:h.children}),i.ref=a.ref,a.child=i,i.return=a,i}function hm(i,a){var u=a.ref;if(u===null)i!==null&&i.ref!==null&&(a.flags|=4194816);else{if(typeof u!="function"&&typeof u!="object")throw Error(r(284));(i===null||i.ref!==u)&&(a.flags|=4194816)}}function S1(i,a,u,h,m){return Bc(a),u=n1(i,a,u,h,void 0,m),h=r1(),i!==null&&!gn?(s1(i,a,m),vo(i,a,m)):(et&&h&&Bw(a),a.flags|=1,Ln(i,a,u,m),a.child)}function r3(i,a,u,h,m,w){return Bc(a),a.updateQueue=null,u=ox(a,h,u,m),ix(i),h=r1(),i!==null&&!gn?(s1(i,a,w),vo(i,a,w)):(et&&h&&Bw(a),a.flags|=1,Ln(i,a,u,w),a.child)}function s3(i,a,u,h,m){if(Bc(a),a.stateNode===null){var w=gu,A=u.contextType;typeof A=="object"&&A!==null&&(w=Bn(A)),w=new u(h,w),a.memoizedState=w.state!==null&&w.state!==void 0?w.state:null,w.updater=b1,a.stateNode=w,w._reactInternals=a,w=a.stateNode,w.props=h,w.state=a.memoizedState,w.refs={},Gw(a),A=u.contextType,w.context=typeof A=="object"&&A!==null?Bn(A):gu,w.state=a.memoizedState,A=u.getDerivedStateFromProps,typeof A=="function"&&(w1(a,u,A,h),w.state=a.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof w.getSnapshotBeforeUpdate=="function"||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(A=w.state,typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount(),A!==w.state&&b1.enqueueReplaceState(w,w.state,null),kh(a,h,w,m),Lh(),w.state=a.memoizedState),typeof w.componentDidMount=="function"&&(a.flags|=4194308),h=!0}else if(i===null){w=a.stateNode;var $=a.memoizedProps,F=Fc(u,$);w.props=F;var ee=w.context,oe=u.contextType;A=gu,typeof oe=="object"&&oe!==null&&(A=Bn(oe));var ce=u.getDerivedStateFromProps;oe=typeof ce=="function"||typeof w.getSnapshotBeforeUpdate=="function",$=a.pendingProps!==$,oe||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||($||ee!==A)&&qx(a,w,h,A),da=!1;var re=a.memoizedState;w.state=re,kh(a,h,w,m),Lh(),ee=a.memoizedState,$||re!==ee||da?(typeof ce=="function"&&(w1(a,u,ce,h),ee=a.memoizedState),(F=da||Fx(a,u,F,h,re,ee,A))?(oe||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount()),typeof w.componentDidMount=="function"&&(a.flags|=4194308)):(typeof w.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=h,a.memoizedState=ee),w.props=h,w.state=ee,w.context=A,h=F):(typeof w.componentDidMount=="function"&&(a.flags|=4194308),h=!1)}else{w=a.stateNode,Yw(i,a),A=a.memoizedProps,oe=Fc(u,A),w.props=oe,ce=a.pendingProps,re=w.context,ee=u.contextType,F=gu,typeof ee=="object"&&ee!==null&&(F=Bn(ee)),$=u.getDerivedStateFromProps,(ee=typeof $=="function"||typeof w.getSnapshotBeforeUpdate=="function")||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(A!==ce||re!==F)&&qx(a,w,h,F),da=!1,re=a.memoizedState,w.state=re,kh(a,h,w,m),Lh();var ie=a.memoizedState;A!==ce||re!==ie||da||i!==null&&i.dependencies!==null&&Kg(i.dependencies)?(typeof $=="function"&&(w1(a,u,$,h),ie=a.memoizedState),(oe=da||Fx(a,u,oe,h,re,ie,F)||i!==null&&i.dependencies!==null&&Kg(i.dependencies))?(ee||typeof w.UNSAFE_componentWillUpdate!="function"&&typeof w.componentWillUpdate!="function"||(typeof w.componentWillUpdate=="function"&&w.componentWillUpdate(h,ie,F),typeof w.UNSAFE_componentWillUpdate=="function"&&w.UNSAFE_componentWillUpdate(h,ie,F)),typeof w.componentDidUpdate=="function"&&(a.flags|=4),typeof w.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof w.componentDidUpdate!="function"||A===i.memoizedProps&&re===i.memoizedState||(a.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||A===i.memoizedProps&&re===i.memoizedState||(a.flags|=1024),a.memoizedProps=h,a.memoizedState=ie),w.props=h,w.state=ie,w.context=F,h=oe):(typeof w.componentDidUpdate!="function"||A===i.memoizedProps&&re===i.memoizedState||(a.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||A===i.memoizedProps&&re===i.memoizedState||(a.flags|=1024),h=!1)}return w=h,hm(i,a),h=(a.flags&128)!==0,w||h?(w=a.stateNode,u=h&&typeof u.getDerivedStateFromError!="function"?null:w.render(),a.flags|=1,i!==null&&h?(a.child=zc(a,i.child,null,m),a.child=zc(a,null,u,m)):Ln(i,a,u,m),a.memoizedState=w.state,i=a.child):i=vo(i,a,m),i}function i3(i,a,u,h){return Rc(),a.flags|=256,Ln(i,a,u,h),a.child}var A1={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function C1(i){return{baseLanes:i,cachePool:GC()}}function x1(i,a,u){return i=i!==null?i.childLanes&~u:0,a&&(i|=Qr),i}function o3(i,a,u){var h=a.pendingProps,m=!1,w=(a.flags&128)!==0,A;if((A=w)||(A=i!==null&&i.memoizedState===null?!1:(sn.current&2)!==0),A&&(m=!0,a.flags&=-129),A=(a.flags&32)!==0,a.flags&=-33,i===null){if(et){if(m?ma(a):ya(),(i=Ft)?(i=pN(i,Cs),i=i!==null&&i.data!=="&"?i:null,i!==null&&(a.memoizedState={dehydrated:i,treeContext:la!==null?{id:_i,overflow:Ii}:null,retryLane:536870912,hydrationErrors:null},u=kC(i),u.return=a,a.child=u,Pn=a,Ft=null)):i=null,i===null)throw fa(a);return ab(i)?a.lanes=32:a.lanes=536870912,null}var $=h.children;return h=h.fallback,m?(ya(),m=a.mode,$=dm({mode:"hidden",children:$},m),h=Uc(h,m,u,null),$.return=a,h.return=a,$.sibling=h,a.child=$,h=a.child,h.memoizedState=C1(u),h.childLanes=x1(i,A,u),a.memoizedState=A1,qh(null,h)):(ma(a),N1(a,$))}var F=i.memoizedState;if(F!==null&&($=F.dehydrated,$!==null)){if(w)a.flags&256?(ma(a),a.flags&=-257,a=T1(i,a,u)):a.memoizedState!==null?(ya(),a.child=i.child,a.flags|=128,a=null):(ya(),$=h.fallback,m=a.mode,h=dm({mode:"visible",children:h.children},m),$=Uc($,m,u,null),$.flags|=2,h.return=a,$.return=a,h.sibling=$,a.child=h,zc(a,i.child,null,u),h=a.child,h.memoizedState=C1(u),h.childLanes=x1(i,A,u),a.memoizedState=A1,a=qh(null,h));else if(ma(a),ab($)){if(A=$.nextSibling&&$.nextSibling.dataset,A)var ee=A.dgst;A=ee,h=Error(r(419)),h.stack="",h.digest=A,Mh({value:h,source:null,stack:null}),a=T1(i,a,u)}else if(gn||bu(i,a,u,!1),A=(u&i.childLanes)!==0,gn||A){if(A=Dt,A!==null&&(h=Ig(A,u),h!==0&&h!==F.retryLane))throw F.retryLane=h,$c(i,h),Nr(A,i,h),E1;ob($)||Sm(),a=T1(i,a,u)}else ob($)?(a.flags|=192,a.child=i.child,a=null):(i=F.treeContext,Ft=Ns($.nextSibling),Pn=a,et=!0,ua=null,Cs=!1,i!==null&&HC(a,i),a=N1(a,h.children),a.flags|=4096);return a}return m?(ya(),$=h.fallback,m=a.mode,F=i.child,ee=F.sibling,h=po(F,{mode:"hidden",children:h.children}),h.subtreeFlags=F.subtreeFlags&65011712,ee!==null?$=po(ee,$):($=Uc($,m,u,null),$.flags|=2),$.return=a,h.return=a,h.sibling=$,a.child=h,qh(null,h),h=a.child,$=i.child.memoizedState,$===null?$=C1(u):(m=$.cachePool,m!==null?(F=dn._currentValue,m=m.parent!==F?{parent:F,pool:F}:m):m=GC(),$={baseLanes:$.baseLanes|u,cachePool:m}),h.memoizedState=$,h.childLanes=x1(i,A,u),a.memoizedState=A1,qh(i.child,h)):(ma(a),u=i.child,i=u.sibling,u=po(u,{mode:"visible",children:h.children}),u.return=a,u.sibling=null,i!==null&&(A=a.deletions,A===null?(a.deletions=[i],a.flags|=16):A.push(i)),a.child=u,a.memoizedState=null,u)}function N1(i,a){return a=dm({mode:"visible",children:a},i.mode),a.return=i,i.child=a}function dm(i,a){return i=Gr(22,i,null,a),i.lanes=0,i}function T1(i,a,u){return zc(a,i.child,null,u),i=N1(a,a.pendingProps.children),i.flags|=2,a.memoizedState=null,i}function a3(i,a,u){i.lanes|=a;var h=i.alternate;h!==null&&(h.lanes|=a),Hw(i.return,a,u)}function _1(i,a,u,h,m,w){var A=i.memoizedState;A===null?i.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:h,tail:u,tailMode:m,treeForkCount:w}:(A.isBackwards=a,A.rendering=null,A.renderingStartTime=0,A.last=h,A.tail=u,A.tailMode=m,A.treeForkCount=w)}function c3(i,a,u){var h=a.pendingProps,m=h.revealOrder,w=h.tail;h=h.children;var A=sn.current,$=(A&2)!==0;if($?(A=A&1|2,a.flags|=128):A&=1,te(sn,A),Ln(i,a,h,u),h=et?Dh:0,!$&&i!==null&&(i.flags&128)!==0)e:for(i=a.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&a3(i,u,a);else if(i.tag===19)a3(i,u,a);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===a)break e;for(;i.sibling===null;){if(i.return===null||i.return===a)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}switch(m){case"forwards":for(u=a.child,m=null;u!==null;)i=u.alternate,i!==null&&tm(i)===null&&(m=u),u=u.sibling;u=m,u===null?(m=a.child,a.child=null):(m=u.sibling,u.sibling=null),_1(a,!1,m,u,w,h);break;case"backwards":case"unstable_legacy-backwards":for(u=null,m=a.child,a.child=null;m!==null;){if(i=m.alternate,i!==null&&tm(i)===null){a.child=m;break}i=m.sibling,m.sibling=u,u=m,m=i}_1(a,!0,u,null,w,h);break;case"together":_1(a,!1,null,null,void 0,h);break;default:a.memoizedState=null}return a.child}function vo(i,a,u){if(i!==null&&(a.dependencies=i.dependencies),va|=a.lanes,(u&a.childLanes)===0)if(i!==null){if(bu(i,a,u,!1),(u&a.childLanes)===0)return null}else return null;if(i!==null&&a.child!==i.child)throw Error(r(153));if(a.child!==null){for(i=a.child,u=po(i,i.pendingProps),a.child=u,u.return=a;i.sibling!==null;)i=i.sibling,u=u.sibling=po(i,i.pendingProps),u.return=a;u.sibling=null}return a.child}function I1(i,a){return(i.lanes&a)!==0?!0:(i=i.dependencies,!!(i!==null&&Kg(i)))}function WP(i,a,u){switch(a.tag){case 3:ke(a,a.stateNode.containerInfo),ha(a,dn,i.memoizedState.cache),Rc();break;case 27:case 5:Et(a);break;case 4:ke(a,a.stateNode.containerInfo);break;case 10:ha(a,a.type,a.memoizedProps.value);break;case 31:if(a.memoizedState!==null)return a.flags|=128,e1(a),null;break;case 13:var h=a.memoizedState;if(h!==null)return h.dehydrated!==null?(ma(a),a.flags|=128,null):(u&a.child.childLanes)!==0?o3(i,a,u):(ma(a),i=vo(i,a,u),i!==null?i.sibling:null);ma(a);break;case 19:var m=(i.flags&128)!==0;if(h=(u&a.childLanes)!==0,h||(bu(i,a,u,!1),h=(u&a.childLanes)!==0),m){if(h)return c3(i,a,u);a.flags|=128}if(m=a.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),te(sn,sn.current),h)break;return null;case 22:return a.lanes=0,e3(i,a,u,a.pendingProps);case 24:ha(a,dn,i.memoizedState.cache)}return vo(i,a,u)}function l3(i,a,u){if(i!==null)if(i.memoizedProps!==a.pendingProps)gn=!0;else{if(!I1(i,u)&&(a.flags&128)===0)return gn=!1,WP(i,a,u);gn=(i.flags&131072)!==0}else gn=!1,et&&(a.flags&1048576)!==0&&zC(a,Dh,a.index);switch(a.lanes=0,a.tag){case 16:e:{var h=a.pendingProps;if(i=kc(a.elementType),a.type=i,typeof i=="function")Uw(i)?(h=Fc(i,h),a.tag=1,a=s3(null,a,i,h,u)):(a.tag=0,a=S1(null,a,i,h,u));else{if(i!=null){var m=i.$$typeof;if(m===N){a.tag=11,a=Zx(null,a,i,h,u);break e}else if(m===R){a.tag=14,a=Qx(null,a,i,h,u);break e}}throw a=Y(i)||i,Error(r(306,a,""))}}return a;case 0:return S1(i,a,a.type,a.pendingProps,u);case 1:return h=a.type,m=Fc(h,a.pendingProps),s3(i,a,h,m,u);case 3:e:{if(ke(a,a.stateNode.containerInfo),i===null)throw Error(r(387));h=a.pendingProps;var w=a.memoizedState;m=w.element,Yw(i,a),kh(a,h,null,u);var A=a.memoizedState;if(h=A.cache,ha(a,dn,h),h!==w.cache&&Fw(a,[dn],u,!0),Lh(),h=A.element,w.isDehydrated)if(w={element:h,isDehydrated:!1,cache:A.cache},a.updateQueue.baseState=w,a.memoizedState=w,a.flags&256){a=i3(i,a,h,u);break e}else if(h!==m){m=Es(Error(r(424)),a),Mh(m),a=i3(i,a,h,u);break e}else{switch(i=a.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(Ft=Ns(i.firstChild),Pn=a,et=!0,ua=null,Cs=!0,u=ex(a,null,h,u),a.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling}else{if(Rc(),h===m){a=vo(i,a,u);break e}Ln(i,a,h,u)}a=a.child}return a;case 26:return hm(i,a),i===null?(u=vN(a.type,null,a.pendingProps,null))?a.memoizedState=u:et||(u=a.type,i=a.pendingProps,h=Im(pe.current).createElement(u),h[vn]=a,h[Jn]=i,kn(h,u,i),hn(h),a.stateNode=h):a.memoizedState=vN(a.type,i.memoizedProps,a.pendingProps,i.memoizedState),null;case 27:return Et(a),i===null&&et&&(h=a.stateNode=yN(a.type,a.pendingProps,pe.current),Pn=a,Cs=!0,m=Ft,xa(a.type)?(cb=m,Ft=Ns(h.firstChild)):Ft=m),Ln(i,a,a.pendingProps.children,u),hm(i,a),i===null&&(a.flags|=4194304),a.child;case 5:return i===null&&et&&((m=h=Ft)&&(h=SB(h,a.type,a.pendingProps,Cs),h!==null?(a.stateNode=h,Pn=a,Ft=Ns(h.firstChild),Cs=!1,m=!0):m=!1),m||fa(a)),Et(a),m=a.type,w=a.pendingProps,A=i!==null?i.memoizedProps:null,h=w.children,rb(m,w)?h=null:A!==null&&rb(m,A)&&(a.flags|=32),a.memoizedState!==null&&(m=n1(i,a,BP,null,null,u),id._currentValue=m),hm(i,a),Ln(i,a,h,u),a.child;case 6:return i===null&&et&&((i=u=Ft)&&(u=AB(u,a.pendingProps,Cs),u!==null?(a.stateNode=u,Pn=a,Ft=null,i=!0):i=!1),i||fa(a)),null;case 13:return o3(i,a,u);case 4:return ke(a,a.stateNode.containerInfo),h=a.pendingProps,i===null?a.child=zc(a,null,h,u):Ln(i,a,h,u),a.child;case 11:return Zx(i,a,a.type,a.pendingProps,u);case 7:return Ln(i,a,a.pendingProps,u),a.child;case 8:return Ln(i,a,a.pendingProps.children,u),a.child;case 12:return Ln(i,a,a.pendingProps.children,u),a.child;case 10:return h=a.pendingProps,ha(a,a.type,h.value),Ln(i,a,h.children,u),a.child;case 9:return m=a.type._context,h=a.pendingProps.children,Bc(a),m=Bn(m),h=h(m),a.flags|=1,Ln(i,a,h,u),a.child;case 14:return Qx(i,a,a.type,a.pendingProps,u);case 15:return Jx(i,a,a.type,a.pendingProps,u);case 19:return c3(i,a,u);case 31:return VP(i,a,u);case 22:return e3(i,a,u,a.pendingProps);case 24:return Bc(a),h=Bn(dn),i===null?(m=Ww(),m===null&&(m=Dt,w=qw(),m.pooledCache=w,w.refCount++,w!==null&&(m.pooledCacheLanes|=u),m=w),a.memoizedState={parent:h,cache:m},Gw(a),ha(a,dn,m)):((i.lanes&u)!==0&&(Yw(i,a),kh(a,null,null,u),Lh()),m=i.memoizedState,w=a.memoizedState,m.parent!==h?(m={parent:h,cache:h},a.memoizedState=m,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=m),ha(a,dn,h)):(h=w.cache,ha(a,dn,h),h!==m.cache&&Fw(a,[dn],u,!0))),Ln(i,a,a.pendingProps.children,u),a.child;case 29:throw a.pendingProps}throw Error(r(156,a.tag))}function Eo(i){i.flags|=4}function O1(i,a,u,h,m){if((a=(i.mode&32)!==0)&&(a=!1),a){if(i.flags|=16777216,(m&335544128)===m)if(i.stateNode.complete)i.flags|=8192;else if(P3())i.flags|=8192;else throw jc=Zg,Kw}else i.flags&=-16777217}function u3(i,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!xN(a))if(P3())i.flags|=8192;else throw jc=Zg,Kw}function pm(i,a){a!==null&&(i.flags|=4),i.flags&16384&&(a=i.tag!==22?Ng():536870912,i.lanes|=a,Du|=a)}function Vh(i,a){if(!et)switch(i.tailMode){case"hidden":a=i.tail;for(var u=null;a!==null;)a.alternate!==null&&(u=a),a=a.sibling;u===null?i.tail=null:u.sibling=null;break;case"collapsed":u=i.tail;for(var h=null;u!==null;)u.alternate!==null&&(h=u),u=u.sibling;h===null?a||i.tail===null?i.tail=null:i.tail.sibling=null:h.sibling=null}}function qt(i){var a=i.alternate!==null&&i.alternate.child===i.child,u=0,h=0;if(a)for(var m=i.child;m!==null;)u|=m.lanes|m.childLanes,h|=m.subtreeFlags&65011712,h|=m.flags&65011712,m.return=i,m=m.sibling;else for(m=i.child;m!==null;)u|=m.lanes|m.childLanes,h|=m.subtreeFlags,h|=m.flags,m.return=i,m=m.sibling;return i.subtreeFlags|=h,i.childLanes=u,a}function KP(i,a,u){var h=a.pendingProps;switch(Lw(a),a.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return qt(a),null;case 1:return qt(a),null;case 3:return u=a.stateNode,h=null,i!==null&&(h=i.memoizedState.cache),a.memoizedState.cache!==h&&(a.flags|=2048),yo(dn),Ie(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(i===null||i.child===null)&&(wu(a)?Eo(a):i===null||i.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,jw())),qt(a),null;case 26:var m=a.type,w=a.memoizedState;return i===null?(Eo(a),w!==null?(qt(a),u3(a,w)):(qt(a),O1(a,m,null,h,u))):w?w!==i.memoizedState?(Eo(a),qt(a),u3(a,w)):(qt(a),a.flags&=-16777217):(i=i.memoizedProps,i!==h&&Eo(a),qt(a),O1(a,m,i,h,u)),null;case 27:if(jt(a),u=pe.current,m=a.type,i!==null&&a.stateNode!=null)i.memoizedProps!==h&&Eo(a);else{if(!h){if(a.stateNode===null)throw Error(r(166));return qt(a),null}i=se.current,wu(a)?FC(a):(i=yN(m,h,u),a.stateNode=i,Eo(a))}return qt(a),null;case 5:if(jt(a),m=a.type,i!==null&&a.stateNode!=null)i.memoizedProps!==h&&Eo(a);else{if(!h){if(a.stateNode===null)throw Error(r(166));return qt(a),null}if(w=se.current,wu(a))FC(a);else{var A=Im(pe.current);switch(w){case 1:w=A.createElementNS("http://www.w3.org/2000/svg",m);break;case 2:w=A.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;default:switch(m){case"svg":w=A.createElementNS("http://www.w3.org/2000/svg",m);break;case"math":w=A.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;case"script":w=A.createElement("div"),w.innerHTML="<script><\/script>",w=w.removeChild(w.firstChild);break;case"select":w=typeof h.is=="string"?A.createElement("select",{is:h.is}):A.createElement("select"),h.multiple?w.multiple=!0:h.size&&(w.size=h.size);break;default:w=typeof h.is=="string"?A.createElement(m,{is:h.is}):A.createElement(m)}}w[vn]=a,w[Jn]=h;e:for(A=a.child;A!==null;){if(A.tag===5||A.tag===6)w.appendChild(A.stateNode);else if(A.tag!==4&&A.tag!==27&&A.child!==null){A.child.return=A,A=A.child;continue}if(A===a)break e;for(;A.sibling===null;){if(A.return===null||A.return===a)break e;A=A.return}A.sibling.return=A.return,A=A.sibling}a.stateNode=w;e:switch(kn(w,m,h),m){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break e;case"img":h=!0;break e;default:h=!1}h&&Eo(a)}}return qt(a),O1(a,a.type,i===null?null:i.memoizedProps,a.pendingProps,u),null;case 6:if(i&&a.stateNode!=null)i.memoizedProps!==h&&Eo(a);else{if(typeof h!="string"&&a.stateNode===null)throw Error(r(166));if(i=pe.current,wu(a)){if(i=a.stateNode,u=a.memoizedProps,h=null,m=Pn,m!==null)switch(m.tag){case 27:case 5:h=m.memoizedProps}i[vn]=a,i=!!(i.nodeValue===u||h!==null&&h.suppressHydrationWarning===!0||oN(i.nodeValue,u)),i||fa(a,!0)}else i=Im(i).createTextNode(h),i[vn]=a,a.stateNode=i}return qt(a),null;case 31:if(u=a.memoizedState,i===null||i.memoizedState!==null){if(h=wu(a),u!==null){if(i===null){if(!h)throw Error(r(318));if(i=a.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(557));i[vn]=a}else Rc(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;qt(a),i=!1}else u=jw(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=u),i=!0;if(!i)return a.flags&256?(Xr(a),a):(Xr(a),null);if((a.flags&128)!==0)throw Error(r(558))}return qt(a),null;case 13:if(h=a.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(m=wu(a),h!==null&&h.dehydrated!==null){if(i===null){if(!m)throw Error(r(318));if(m=a.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(r(317));m[vn]=a}else Rc(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;qt(a),m=!1}else m=jw(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=m),m=!0;if(!m)return a.flags&256?(Xr(a),a):(Xr(a),null)}return Xr(a),(a.flags&128)!==0?(a.lanes=u,a):(u=h!==null,i=i!==null&&i.memoizedState!==null,u&&(h=a.child,m=null,h.alternate!==null&&h.alternate.memoizedState!==null&&h.alternate.memoizedState.cachePool!==null&&(m=h.alternate.memoizedState.cachePool.pool),w=null,h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(w=h.memoizedState.cachePool.pool),w!==m&&(h.flags|=2048)),u!==i&&u&&(a.child.flags|=8192),pm(a,a.updateQueue),qt(a),null);case 4:return Ie(),i===null&&Q1(a.stateNode.containerInfo),qt(a),null;case 10:return yo(a.type),qt(a),null;case 19:if(G(sn),h=a.memoizedState,h===null)return qt(a),null;if(m=(a.flags&128)!==0,w=h.rendering,w===null)if(m)Vh(h,!1);else{if(tn!==0||i!==null&&(i.flags&128)!==0)for(i=a.child;i!==null;){if(w=tm(i),w!==null){for(a.flags|=128,Vh(h,!1),i=w.updateQueue,a.updateQueue=i,pm(a,i),a.subtreeFlags=0,i=u,u=a.child;u!==null;)LC(u,i),u=u.sibling;return te(sn,sn.current&1|2),et&&go(a,h.treeForkCount),a.child}i=i.sibling}h.tail!==null&&zt()>bm&&(a.flags|=128,m=!0,Vh(h,!1),a.lanes=4194304)}else{if(!m)if(i=tm(w),i!==null){if(a.flags|=128,m=!0,i=i.updateQueue,a.updateQueue=i,pm(a,i),Vh(h,!0),h.tail===null&&h.tailMode==="hidden"&&!w.alternate&&!et)return qt(a),null}else 2*zt()-h.renderingStartTime>bm&&u!==536870912&&(a.flags|=128,m=!0,Vh(h,!1),a.lanes=4194304);h.isBackwards?(w.sibling=a.child,a.child=w):(i=h.last,i!==null?i.sibling=w:a.child=w,h.last=w)}return h.tail!==null?(i=h.tail,h.rendering=i,h.tail=i.sibling,h.renderingStartTime=zt(),i.sibling=null,u=sn.current,te(sn,m?u&1|2:u&1),et&&go(a,h.treeForkCount),i):(qt(a),null);case 22:case 23:return Xr(a),Jw(),h=a.memoizedState!==null,i!==null?i.memoizedState!==null!==h&&(a.flags|=8192):h&&(a.flags|=8192),h?(u&536870912)!==0&&(a.flags&128)===0&&(qt(a),a.subtreeFlags&6&&(a.flags|=8192)):qt(a),u=a.updateQueue,u!==null&&pm(a,u.retryQueue),u=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(u=i.memoizedState.cachePool.pool),h=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(h=a.memoizedState.cachePool.pool),h!==u&&(a.flags|=2048),i!==null&&G(Lc),null;case 24:return u=null,i!==null&&(u=i.memoizedState.cache),a.memoizedState.cache!==u&&(a.flags|=2048),yo(dn),qt(a),null;case 25:return null;case 30:return null}throw Error(r(156,a.tag))}function GP(i,a){switch(Lw(a),a.tag){case 1:return i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 3:return yo(dn),Ie(),i=a.flags,(i&65536)!==0&&(i&128)===0?(a.flags=i&-65537|128,a):null;case 26:case 27:case 5:return jt(a),null;case 31:if(a.memoizedState!==null){if(Xr(a),a.alternate===null)throw Error(r(340));Rc()}return i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 13:if(Xr(a),i=a.memoizedState,i!==null&&i.dehydrated!==null){if(a.alternate===null)throw Error(r(340));Rc()}return i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 19:return G(sn),null;case 4:return Ie(),null;case 10:return yo(a.type),null;case 22:case 23:return Xr(a),Jw(),i!==null&&G(Lc),i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 24:return yo(dn),null;case 25:return null;default:return null}}function f3(i,a){switch(Lw(a),a.tag){case 3:yo(dn),Ie();break;case 26:case 27:case 5:jt(a);break;case 4:Ie();break;case 31:a.memoizedState!==null&&Xr(a);break;case 13:Xr(a);break;case 19:G(sn);break;case 10:yo(a.type);break;case 22:case 23:Xr(a),Jw(),i!==null&&G(Lc);break;case 24:yo(dn)}}function Wh(i,a){try{var u=a.updateQueue,h=u!==null?u.lastEffect:null;if(h!==null){var m=h.next;u=m;do{if((u.tag&i)===i){h=void 0;var w=u.create,A=u.inst;h=w(),A.destroy=h}u=u.next}while(u!==m)}}catch($){At(a,a.return,$)}}function wa(i,a,u){try{var h=a.updateQueue,m=h!==null?h.lastEffect:null;if(m!==null){var w=m.next;h=w;do{if((h.tag&i)===i){var A=h.inst,$=A.destroy;if($!==void 0){A.destroy=void 0,m=a;var F=u,ee=$;try{ee()}catch(oe){At(m,F,oe)}}}h=h.next}while(h!==w)}}catch(oe){At(a,a.return,oe)}}function h3(i){var a=i.updateQueue;if(a!==null){var u=i.stateNode;try{nx(a,u)}catch(h){At(i,i.return,h)}}}function d3(i,a,u){u.props=Fc(i.type,i.memoizedProps),u.state=i.memoizedState;try{u.componentWillUnmount()}catch(h){At(i,a,h)}}function Kh(i,a){try{var u=i.ref;if(u!==null){switch(i.tag){case 26:case 27:case 5:var h=i.stateNode;break;case 30:h=i.stateNode;break;default:h=i.stateNode}typeof u=="function"?i.refCleanup=u(h):u.current=h}}catch(m){At(i,a,m)}}function Oi(i,a){var u=i.ref,h=i.refCleanup;if(u!==null)if(typeof h=="function")try{h()}catch(m){At(i,a,m)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof u=="function")try{u(null)}catch(m){At(i,a,m)}else u.current=null}function p3(i){var a=i.type,u=i.memoizedProps,h=i.stateNode;try{e:switch(a){case"button":case"input":case"select":case"textarea":u.autoFocus&&h.focus();break e;case"img":u.src?h.src=u.src:u.srcSet&&(h.srcset=u.srcSet)}}catch(m){At(i,i.return,m)}}function D1(i,a,u){try{var h=i.stateNode;mB(h,i.type,u,a),h[Jn]=a}catch(m){At(i,i.return,m)}}function g3(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&xa(i.type)||i.tag===4}function M1(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||g3(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&xa(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function $1(i,a,u){var h=i.tag;if(h===5||h===6)i=i.stateNode,a?(u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u).insertBefore(i,a):(a=u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u,a.appendChild(i),u=u._reactRootContainer,u!=null||a.onclick!==null||(a.onclick=ws));else if(h!==4&&(h===27&&xa(i.type)&&(u=i.stateNode,a=null),i=i.child,i!==null))for($1(i,a,u),i=i.sibling;i!==null;)$1(i,a,u),i=i.sibling}function gm(i,a,u){var h=i.tag;if(h===5||h===6)i=i.stateNode,a?u.insertBefore(i,a):u.appendChild(i);else if(h!==4&&(h===27&&xa(i.type)&&(u=i.stateNode),i=i.child,i!==null))for(gm(i,a,u),i=i.sibling;i!==null;)gm(i,a,u),i=i.sibling}function m3(i){var a=i.stateNode,u=i.memoizedProps;try{for(var h=i.type,m=a.attributes;m.length;)a.removeAttributeNode(m[0]);kn(a,h,u),a[vn]=i,a[Jn]=u}catch(w){At(i,i.return,w)}}var So=!1,mn=!1,U1=!1,y3=typeof WeakSet=="function"?WeakSet:Set,_n=null;function YP(i,a){if(i=i.containerInfo,tb=Pm,i=IC(i),Tw(i)){if("selectionStart"in i)var u={start:i.selectionStart,end:i.selectionEnd};else e:{u=(u=i.ownerDocument)&&u.defaultView||window;var h=u.getSelection&&u.getSelection();if(h&&h.rangeCount!==0){u=h.anchorNode;var m=h.anchorOffset,w=h.focusNode;h=h.focusOffset;try{u.nodeType,w.nodeType}catch{u=null;break e}var A=0,$=-1,F=-1,ee=0,oe=0,ce=i,re=null;t:for(;;){for(var ie;ce!==u||m!==0&&ce.nodeType!==3||($=A+m),ce!==w||h!==0&&ce.nodeType!==3||(F=A+h),ce.nodeType===3&&(A+=ce.nodeValue.length),(ie=ce.firstChild)!==null;)re=ce,ce=ie;for(;;){if(ce===i)break t;if(re===u&&++ee===m&&($=A),re===w&&++oe===h&&(F=A),(ie=ce.nextSibling)!==null)break;ce=re,re=ce.parentNode}ce=ie}u=$===-1||F===-1?null:{start:$,end:F}}else u=null}u=u||{start:0,end:0}}else u=null;for(nb={focusedElem:i,selectionRange:u},Pm=!1,_n=a;_n!==null;)if(a=_n,i=a.child,(a.subtreeFlags&1028)!==0&&i!==null)i.return=a,_n=i;else for(;_n!==null;){switch(a=_n,w=a.alternate,i=a.flags,a.tag){case 0:if((i&4)!==0&&(i=a.updateQueue,i=i!==null?i.events:null,i!==null))for(u=0;u<i.length;u++)m=i[u],m.ref.impl=m.nextImpl;break;case 11:case 15:break;case 1:if((i&1024)!==0&&w!==null){i=void 0,u=a,m=w.memoizedProps,w=w.memoizedState,h=u.stateNode;try{var xe=Fc(u.type,m);i=h.getSnapshotBeforeUpdate(xe,w),h.__reactInternalSnapshotBeforeUpdate=i}catch(Le){At(u,u.return,Le)}}break;case 3:if((i&1024)!==0){if(i=a.stateNode.containerInfo,u=i.nodeType,u===9)ib(i);else if(u===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":ib(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(r(163))}if(i=a.sibling,i!==null){i.return=a.return,_n=i;break}_n=a.return}}function w3(i,a,u){var h=u.flags;switch(u.tag){case 0:case 11:case 15:Co(i,u),h&4&&Wh(5,u);break;case 1:if(Co(i,u),h&4)if(i=u.stateNode,a===null)try{i.componentDidMount()}catch(A){At(u,u.return,A)}else{var m=Fc(u.type,a.memoizedProps);a=a.memoizedState;try{i.componentDidUpdate(m,a,i.__reactInternalSnapshotBeforeUpdate)}catch(A){At(u,u.return,A)}}h&64&&h3(u),h&512&&Kh(u,u.return);break;case 3:if(Co(i,u),h&64&&(i=u.updateQueue,i!==null)){if(a=null,u.child!==null)switch(u.child.tag){case 27:case 5:a=u.child.stateNode;break;case 1:a=u.child.stateNode}try{nx(i,a)}catch(A){At(u,u.return,A)}}break;case 27:a===null&&h&4&&m3(u);case 26:case 5:Co(i,u),a===null&&h&4&&p3(u),h&512&&Kh(u,u.return);break;case 12:Co(i,u);break;case 31:Co(i,u),h&4&&E3(i,u);break;case 13:Co(i,u),h&4&&S3(i,u),h&64&&(i=u.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(u=sB.bind(null,u),CB(i,u))));break;case 22:if(h=u.memoizedState!==null||So,!h){a=a!==null&&a.memoizedState!==null||mn,m=So;var w=mn;So=h,(mn=a)&&!w?xo(i,u,(u.subtreeFlags&8772)!==0):Co(i,u),So=m,mn=w}break;case 30:break;default:Co(i,u)}}function b3(i){var a=i.alternate;a!==null&&(i.alternate=null,b3(a)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(a=i.stateNode,a!==null&&mh(a)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var Kt=null,Sr=!1;function Ao(i,a,u){for(u=u.child;u!==null;)v3(i,a,u),u=u.sibling}function v3(i,a,u){if(Qn&&typeof Qn.onCommitFiberUnmount=="function")try{Qn.onCommitFiberUnmount(Sc,u)}catch{}switch(u.tag){case 26:mn||Oi(u,a),Ao(i,a,u),u.memoizedState?u.memoizedState.count--:u.stateNode&&(u=u.stateNode,u.parentNode.removeChild(u));break;case 27:mn||Oi(u,a);var h=Kt,m=Sr;xa(u.type)&&(Kt=u.stateNode,Sr=!1),Ao(i,a,u),nd(u.stateNode),Kt=h,Sr=m;break;case 5:mn||Oi(u,a);case 6:if(h=Kt,m=Sr,Kt=null,Ao(i,a,u),Kt=h,Sr=m,Kt!==null)if(Sr)try{(Kt.nodeType===9?Kt.body:Kt.nodeName==="HTML"?Kt.ownerDocument.body:Kt).removeChild(u.stateNode)}catch(w){At(u,a,w)}else try{Kt.removeChild(u.stateNode)}catch(w){At(u,a,w)}break;case 18:Kt!==null&&(Sr?(i=Kt,hN(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,u.stateNode),ku(i)):hN(Kt,u.stateNode));break;case 4:h=Kt,m=Sr,Kt=u.stateNode.containerInfo,Sr=!0,Ao(i,a,u),Kt=h,Sr=m;break;case 0:case 11:case 14:case 15:wa(2,u,a),mn||wa(4,u,a),Ao(i,a,u);break;case 1:mn||(Oi(u,a),h=u.stateNode,typeof h.componentWillUnmount=="function"&&d3(u,a,h)),Ao(i,a,u);break;case 21:Ao(i,a,u);break;case 22:mn=(h=mn)||u.memoizedState!==null,Ao(i,a,u),mn=h;break;default:Ao(i,a,u)}}function E3(i,a){if(a.memoizedState===null&&(i=a.alternate,i!==null&&(i=i.memoizedState,i!==null))){i=i.dehydrated;try{ku(i)}catch(u){At(a,a.return,u)}}}function S3(i,a){if(a.memoizedState===null&&(i=a.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{ku(i)}catch(u){At(a,a.return,u)}}function XP(i){switch(i.tag){case 31:case 13:case 19:var a=i.stateNode;return a===null&&(a=i.stateNode=new y3),a;case 22:return i=i.stateNode,a=i._retryCache,a===null&&(a=i._retryCache=new y3),a;default:throw Error(r(435,i.tag))}}function mm(i,a){var u=XP(i);a.forEach(function(h){if(!u.has(h)){u.add(h);var m=iB.bind(null,i,h);h.then(m,m)}})}function Ar(i,a){var u=a.deletions;if(u!==null)for(var h=0;h<u.length;h++){var m=u[h],w=i,A=a,$=A;e:for(;$!==null;){switch($.tag){case 27:if(xa($.type)){Kt=$.stateNode,Sr=!1;break e}break;case 5:Kt=$.stateNode,Sr=!1;break e;case 3:case 4:Kt=$.stateNode.containerInfo,Sr=!0;break e}$=$.return}if(Kt===null)throw Error(r(160));v3(w,A,m),Kt=null,Sr=!1,w=m.alternate,w!==null&&(w.return=null),m.return=null}if(a.subtreeFlags&13886)for(a=a.child;a!==null;)A3(a,i),a=a.sibling}var ei=null;function A3(i,a){var u=i.alternate,h=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:Ar(a,i),Cr(i),h&4&&(wa(3,i,i.return),Wh(3,i),wa(5,i,i.return));break;case 1:Ar(a,i),Cr(i),h&512&&(mn||u===null||Oi(u,u.return)),h&64&&So&&(i=i.updateQueue,i!==null&&(h=i.callbacks,h!==null&&(u=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=u===null?h:u.concat(h))));break;case 26:var m=ei;if(Ar(a,i),Cr(i),h&512&&(mn||u===null||Oi(u,u.return)),h&4){var w=u!==null?u.memoizedState:null;if(h=i.memoizedState,u===null)if(h===null)if(i.stateNode===null){e:{h=i.type,u=i.memoizedProps,m=m.ownerDocument||m;t:switch(h){case"title":w=m.getElementsByTagName("title")[0],(!w||w[xc]||w[vn]||w.namespaceURI==="http://www.w3.org/2000/svg"||w.hasAttribute("itemprop"))&&(w=m.createElement(h),m.head.insertBefore(w,m.querySelector("head > title"))),kn(w,h,u),w[vn]=i,hn(w),h=w;break e;case"link":var A=AN("link","href",m).get(h+(u.href||""));if(A){for(var $=0;$<A.length;$++)if(w=A[$],w.getAttribute("href")===(u.href==null||u.href===""?null:u.href)&&w.getAttribute("rel")===(u.rel==null?null:u.rel)&&w.getAttribute("title")===(u.title==null?null:u.title)&&w.getAttribute("crossorigin")===(u.crossOrigin==null?null:u.crossOrigin)){A.splice($,1);break t}}w=m.createElement(h),kn(w,h,u),m.head.appendChild(w);break;case"meta":if(A=AN("meta","content",m).get(h+(u.content||""))){for($=0;$<A.length;$++)if(w=A[$],w.getAttribute("content")===(u.content==null?null:""+u.content)&&w.getAttribute("name")===(u.name==null?null:u.name)&&w.getAttribute("property")===(u.property==null?null:u.property)&&w.getAttribute("http-equiv")===(u.httpEquiv==null?null:u.httpEquiv)&&w.getAttribute("charset")===(u.charSet==null?null:u.charSet)){A.splice($,1);break t}}w=m.createElement(h),kn(w,h,u),m.head.appendChild(w);break;default:throw Error(r(468,h))}w[vn]=i,hn(w),h=w}i.stateNode=h}else CN(m,i.type,i.stateNode);else i.stateNode=SN(m,h,i.memoizedProps);else w!==h?(w===null?u.stateNode!==null&&(u=u.stateNode,u.parentNode.removeChild(u)):w.count--,h===null?CN(m,i.type,i.stateNode):SN(m,h,i.memoizedProps)):h===null&&i.stateNode!==null&&D1(i,i.memoizedProps,u.memoizedProps)}break;case 27:Ar(a,i),Cr(i),h&512&&(mn||u===null||Oi(u,u.return)),u!==null&&h&4&&D1(i,i.memoizedProps,u.memoizedProps);break;case 5:if(Ar(a,i),Cr(i),h&512&&(mn||u===null||Oi(u,u.return)),i.flags&32){m=i.stateNode;try{uo(m,"")}catch(xe){At(i,i.return,xe)}}h&4&&i.stateNode!=null&&(m=i.memoizedProps,D1(i,m,u!==null?u.memoizedProps:m)),h&1024&&(U1=!0);break;case 6:if(Ar(a,i),Cr(i),h&4){if(i.stateNode===null)throw Error(r(162));h=i.memoizedProps,u=i.stateNode;try{u.nodeValue=h}catch(xe){At(i,i.return,xe)}}break;case 3:if(Mm=null,m=ei,ei=Om(a.containerInfo),Ar(a,i),ei=m,Cr(i),h&4&&u!==null&&u.memoizedState.isDehydrated)try{ku(a.containerInfo)}catch(xe){At(i,i.return,xe)}U1&&(U1=!1,C3(i));break;case 4:h=ei,ei=Om(i.stateNode.containerInfo),Ar(a,i),Cr(i),ei=h;break;case 12:Ar(a,i),Cr(i);break;case 31:Ar(a,i),Cr(i),h&4&&(h=i.updateQueue,h!==null&&(i.updateQueue=null,mm(i,h)));break;case 13:Ar(a,i),Cr(i),i.child.flags&8192&&i.memoizedState!==null!=(u!==null&&u.memoizedState!==null)&&(wm=zt()),h&4&&(h=i.updateQueue,h!==null&&(i.updateQueue=null,mm(i,h)));break;case 22:m=i.memoizedState!==null;var F=u!==null&&u.memoizedState!==null,ee=So,oe=mn;if(So=ee||m,mn=oe||F,Ar(a,i),mn=oe,So=ee,Cr(i),h&8192)e:for(a=i.stateNode,a._visibility=m?a._visibility&-2:a._visibility|1,m&&(u===null||F||So||mn||qc(i)),u=null,a=i;;){if(a.tag===5||a.tag===26){if(u===null){F=u=a;try{if(w=F.stateNode,m)A=w.style,typeof A.setProperty=="function"?A.setProperty("display","none","important"):A.display="none";else{$=F.stateNode;var ce=F.memoizedProps.style,re=ce!=null&&ce.hasOwnProperty("display")?ce.display:null;$.style.display=re==null||typeof re=="boolean"?"":(""+re).trim()}}catch(xe){At(F,F.return,xe)}}}else if(a.tag===6){if(u===null){F=a;try{F.stateNode.nodeValue=m?"":F.memoizedProps}catch(xe){At(F,F.return,xe)}}}else if(a.tag===18){if(u===null){F=a;try{var ie=F.stateNode;m?dN(ie,!0):dN(F.stateNode,!1)}catch(xe){At(F,F.return,xe)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===i)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===i)break e;for(;a.sibling===null;){if(a.return===null||a.return===i)break e;u===a&&(u=null),a=a.return}u===a&&(u=null),a.sibling.return=a.return,a=a.sibling}h&4&&(h=i.updateQueue,h!==null&&(u=h.retryQueue,u!==null&&(h.retryQueue=null,mm(i,u))));break;case 19:Ar(a,i),Cr(i),h&4&&(h=i.updateQueue,h!==null&&(i.updateQueue=null,mm(i,h)));break;case 30:break;case 21:break;default:Ar(a,i),Cr(i)}}function Cr(i){var a=i.flags;if(a&2){try{for(var u,h=i.return;h!==null;){if(g3(h)){u=h;break}h=h.return}if(u==null)throw Error(r(160));switch(u.tag){case 27:var m=u.stateNode,w=M1(i);gm(i,w,m);break;case 5:var A=u.stateNode;u.flags&32&&(uo(A,""),u.flags&=-33);var $=M1(i);gm(i,$,A);break;case 3:case 4:var F=u.stateNode.containerInfo,ee=M1(i);$1(i,ee,F);break;default:throw Error(r(161))}}catch(oe){At(i,i.return,oe)}i.flags&=-3}a&4096&&(i.flags&=-4097)}function C3(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var a=i;C3(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),i=i.sibling}}function Co(i,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)w3(i,a.alternate,a),a=a.sibling}function qc(i){for(i=i.child;i!==null;){var a=i;switch(a.tag){case 0:case 11:case 14:case 15:wa(4,a,a.return),qc(a);break;case 1:Oi(a,a.return);var u=a.stateNode;typeof u.componentWillUnmount=="function"&&d3(a,a.return,u),qc(a);break;case 27:nd(a.stateNode);case 26:case 5:Oi(a,a.return),qc(a);break;case 22:a.memoizedState===null&&qc(a);break;case 30:qc(a);break;default:qc(a)}i=i.sibling}}function xo(i,a,u){for(u=u&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var h=a.alternate,m=i,w=a,A=w.flags;switch(w.tag){case 0:case 11:case 15:xo(m,w,u),Wh(4,w);break;case 1:if(xo(m,w,u),h=w,m=h.stateNode,typeof m.componentDidMount=="function")try{m.componentDidMount()}catch(ee){At(h,h.return,ee)}if(h=w,m=h.updateQueue,m!==null){var $=h.stateNode;try{var F=m.shared.hiddenCallbacks;if(F!==null)for(m.shared.hiddenCallbacks=null,m=0;m<F.length;m++)tx(F[m],$)}catch(ee){At(h,h.return,ee)}}u&&A&64&&h3(w),Kh(w,w.return);break;case 27:m3(w);case 26:case 5:xo(m,w,u),u&&h===null&&A&4&&p3(w),Kh(w,w.return);break;case 12:xo(m,w,u);break;case 31:xo(m,w,u),u&&A&4&&E3(m,w);break;case 13:xo(m,w,u),u&&A&4&&S3(m,w);break;case 22:w.memoizedState===null&&xo(m,w,u),Kh(w,w.return);break;case 30:break;default:xo(m,w,u)}a=a.sibling}}function R1(i,a){var u=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(u=i.memoizedState.cachePool.pool),i=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(i=a.memoizedState.cachePool.pool),i!==u&&(i!=null&&i.refCount++,u!=null&&$h(u))}function P1(i,a){i=null,a.alternate!==null&&(i=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==i&&(a.refCount++,i!=null&&$h(i))}function ti(i,a,u,h){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)x3(i,a,u,h),a=a.sibling}function x3(i,a,u,h){var m=a.flags;switch(a.tag){case 0:case 11:case 15:ti(i,a,u,h),m&2048&&Wh(9,a);break;case 1:ti(i,a,u,h);break;case 3:ti(i,a,u,h),m&2048&&(i=null,a.alternate!==null&&(i=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==i&&(a.refCount++,i!=null&&$h(i)));break;case 12:if(m&2048){ti(i,a,u,h),i=a.stateNode;try{var w=a.memoizedProps,A=w.id,$=w.onPostCommit;typeof $=="function"&&$(A,a.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(F){At(a,a.return,F)}}else ti(i,a,u,h);break;case 31:ti(i,a,u,h);break;case 13:ti(i,a,u,h);break;case 23:break;case 22:w=a.stateNode,A=a.alternate,a.memoizedState!==null?w._visibility&2?ti(i,a,u,h):Gh(i,a):w._visibility&2?ti(i,a,u,h):(w._visibility|=2,_u(i,a,u,h,(a.subtreeFlags&10256)!==0||!1)),m&2048&&R1(A,a);break;case 24:ti(i,a,u,h),m&2048&&P1(a.alternate,a);break;default:ti(i,a,u,h)}}function _u(i,a,u,h,m){for(m=m&&((a.subtreeFlags&10256)!==0||!1),a=a.child;a!==null;){var w=i,A=a,$=u,F=h,ee=A.flags;switch(A.tag){case 0:case 11:case 15:_u(w,A,$,F,m),Wh(8,A);break;case 23:break;case 22:var oe=A.stateNode;A.memoizedState!==null?oe._visibility&2?_u(w,A,$,F,m):Gh(w,A):(oe._visibility|=2,_u(w,A,$,F,m)),m&&ee&2048&&R1(A.alternate,A);break;case 24:_u(w,A,$,F,m),m&&ee&2048&&P1(A.alternate,A);break;default:_u(w,A,$,F,m)}a=a.sibling}}function Gh(i,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var u=i,h=a,m=h.flags;switch(h.tag){case 22:Gh(u,h),m&2048&&R1(h.alternate,h);break;case 24:Gh(u,h),m&2048&&P1(h.alternate,h);break;default:Gh(u,h)}a=a.sibling}}var Yh=8192;function Iu(i,a,u){if(i.subtreeFlags&Yh)for(i=i.child;i!==null;)N3(i,a,u),i=i.sibling}function N3(i,a,u){switch(i.tag){case 26:Iu(i,a,u),i.flags&Yh&&i.memoizedState!==null&&PB(u,ei,i.memoizedState,i.memoizedProps);break;case 5:Iu(i,a,u);break;case 3:case 4:var h=ei;ei=Om(i.stateNode.containerInfo),Iu(i,a,u),ei=h;break;case 22:i.memoizedState===null&&(h=i.alternate,h!==null&&h.memoizedState!==null?(h=Yh,Yh=16777216,Iu(i,a,u),Yh=h):Iu(i,a,u));break;default:Iu(i,a,u)}}function T3(i){var a=i.alternate;if(a!==null&&(i=a.child,i!==null)){a.child=null;do a=i.sibling,i.sibling=null,i=a;while(i!==null)}}function Xh(i){var a=i.deletions;if((i.flags&16)!==0){if(a!==null)for(var u=0;u<a.length;u++){var h=a[u];_n=h,I3(h,i)}T3(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)_3(i),i=i.sibling}function _3(i){switch(i.tag){case 0:case 11:case 15:Xh(i),i.flags&2048&&wa(9,i,i.return);break;case 3:Xh(i);break;case 12:Xh(i);break;case 22:var a=i.stateNode;i.memoizedState!==null&&a._visibility&2&&(i.return===null||i.return.tag!==13)?(a._visibility&=-3,ym(i)):Xh(i);break;default:Xh(i)}}function ym(i){var a=i.deletions;if((i.flags&16)!==0){if(a!==null)for(var u=0;u<a.length;u++){var h=a[u];_n=h,I3(h,i)}T3(i)}for(i=i.child;i!==null;){switch(a=i,a.tag){case 0:case 11:case 15:wa(8,a,a.return),ym(a);break;case 22:u=a.stateNode,u._visibility&2&&(u._visibility&=-3,ym(a));break;default:ym(a)}i=i.sibling}}function I3(i,a){for(;_n!==null;){var u=_n;switch(u.tag){case 0:case 11:case 15:wa(8,u,a);break;case 23:case 22:if(u.memoizedState!==null&&u.memoizedState.cachePool!==null){var h=u.memoizedState.cachePool.pool;h!=null&&h.refCount++}break;case 24:$h(u.memoizedState.cache)}if(h=u.child,h!==null)h.return=u,_n=h;else e:for(u=i;_n!==null;){h=_n;var m=h.sibling,w=h.return;if(b3(h),h===u){_n=null;break e}if(m!==null){m.return=w,_n=m;break e}_n=w}}}var ZP={getCacheForType:function(i){var a=Bn(dn),u=a.data.get(i);return u===void 0&&(u=i(),a.data.set(i,u)),u},cacheSignal:function(){return Bn(dn).controller.signal}},QP=typeof WeakMap=="function"?WeakMap:Map,gt=0,Dt=null,Xe=null,Qe=0,St=0,Zr=null,ba=!1,Ou=!1,B1=!1,No=0,tn=0,va=0,Vc=0,L1=0,Qr=0,Du=0,Zh=null,xr=null,k1=!1,wm=0,O3=0,bm=1/0,vm=null,Ea=null,Sn=0,Sa=null,Mu=null,To=0,j1=0,z1=null,D3=null,Qh=0,H1=null;function Jr(){return(gt&2)!==0&&Qe!==0?Qe&-Qe:_.T!==null?G1():ys()}function M3(){if(Qr===0)if((Qe&536870912)===0||et){var i=ta;ta<<=1,(ta&3932160)===0&&(ta=262144),Qr=i}else Qr=536870912;return i=Yr.current,i!==null&&(i.flags|=32),Qr}function Nr(i,a,u){(i===Dt&&(St===2||St===9)||i.cancelPendingCommit!==null)&&($u(i,0),Aa(i,Qe,Qr,!1)),na(i,u),((gt&2)===0||i!==Dt)&&(i===Dt&&((gt&2)===0&&(Vc|=u),tn===4&&Aa(i,Qe,Qr,!1)),Di(i))}function $3(i,a,u){if((gt&6)!==0)throw Error(r(327));var h=!u&&(a&127)===0&&(a&i.expiredLanes)===0||Cc(i,a),m=h?tB(i,a):q1(i,a,!0),w=h;do{if(m===0){Ou&&!h&&Aa(i,a,0,!1);break}else{if(u=i.current.alternate,w&&!JP(u)){m=q1(i,a,!1),w=!1;continue}if(m===2){if(w=a,i.errorRecoveryDisabledLanes&w)var A=0;else A=i.pendingLanes&-536870913,A=A!==0?A:A&536870912?536870912:0;if(A!==0){a=A;e:{var $=i;m=Zh;var F=$.current.memoizedState.isDehydrated;if(F&&($u($,A).flags|=256),A=q1($,A,!1),A!==2){if(B1&&!F){$.errorRecoveryDisabledLanes|=w,Vc|=w,m=4;break e}w=xr,xr=m,w!==null&&(xr===null?xr=w:xr.push.apply(xr,w))}m=A}if(w=!1,m!==2)continue}}if(m===1){$u(i,0),Aa(i,a,0,!0);break}e:{switch(h=i,w=m,w){case 0:case 1:throw Error(r(345));case 4:if((a&4194048)!==a)break;case 6:Aa(h,a,Qr,!ba);break e;case 2:xr=null;break;case 3:case 5:break;default:throw Error(r(329))}if((a&62914560)===a&&(m=wm+300-zt(),10<m)){if(Aa(h,a,Qr,!ba),Ql(h,0,!0)!==0)break e;To=a,h.timeoutHandle=uN(U3.bind(null,h,u,xr,vm,k1,a,Qr,Vc,Du,ba,w,"Throttled",-0,0),m);break e}U3(h,u,xr,vm,k1,a,Qr,Vc,Du,ba,w,null,-0,0)}}break}while(!0);Di(i)}function U3(i,a,u,h,m,w,A,$,F,ee,oe,ce,re,ie){if(i.timeoutHandle=-1,ce=a.subtreeFlags,ce&8192||(ce&16785408)===16785408){ce={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ws},N3(a,w,ce);var xe=(w&62914560)===w?wm-zt():(w&4194048)===w?O3-zt():0;if(xe=BB(ce,xe),xe!==null){To=w,i.cancelPendingCommit=xe(H3.bind(null,i,a,w,u,h,m,A,$,F,oe,ce,null,re,ie)),Aa(i,w,A,!ee);return}}H3(i,a,w,u,h,m,A,$,F)}function JP(i){for(var a=i;;){var u=a.tag;if((u===0||u===11||u===15)&&a.flags&16384&&(u=a.updateQueue,u!==null&&(u=u.stores,u!==null)))for(var h=0;h<u.length;h++){var m=u[h],w=m.getSnapshot;m=m.value;try{if(!Kr(w(),m))return!1}catch{return!1}}if(u=a.child,a.subtreeFlags&16384&&u!==null)u.return=a,a=u;else{if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function Aa(i,a,u,h){a&=~L1,a&=~Vc,i.suspendedLanes|=a,i.pingedLanes&=~a,h&&(i.warmLanes|=a),h=i.expirationTimes;for(var m=a;0<m;){var w=31-hr(m),A=1<<w;h[w]=-1,m&=~A}u!==0&&Tg(i,u,a)}function Em(){return(gt&6)===0?(Jh(0),!1):!0}function F1(){if(Xe!==null){if(St===0)var i=Xe.return;else i=Xe,mo=Pc=null,i1(i),Au=null,Rh=0,i=Xe;for(;i!==null;)f3(i.alternate,i),i=i.return;Xe=null}}function $u(i,a){var u=i.timeoutHandle;u!==-1&&(i.timeoutHandle=-1,bB(u)),u=i.cancelPendingCommit,u!==null&&(i.cancelPendingCommit=null,u()),To=0,F1(),Dt=i,Xe=u=po(i.current,null),Qe=a,St=0,Zr=null,ba=!1,Ou=Cc(i,a),B1=!1,Du=Qr=L1=Vc=va=tn=0,xr=Zh=null,k1=!1,(a&8)!==0&&(a|=a&32);var h=i.entangledLanes;if(h!==0)for(i=i.entanglements,h&=a;0<h;){var m=31-hr(h),w=1<<m;a|=i[m],h&=~w}return No=a,Hg(),u}function R3(i,a){Fe=null,_.H=Fh,a===Su||a===Xg?(a=ZC(),St=3):a===Kw?(a=ZC(),St=4):St=a===E1?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,Zr=a,Xe===null&&(tn=1,um(i,Es(a,i.current)))}function P3(){var i=Yr.current;return i===null?!0:(Qe&4194048)===Qe?xs===null:(Qe&62914560)===Qe||(Qe&536870912)!==0?i===xs:!1}function B3(){var i=_.H;return _.H=Fh,i===null?Fh:i}function L3(){var i=_.A;return _.A=ZP,i}function Sm(){tn=4,ba||(Qe&4194048)!==Qe&&Yr.current!==null||(Ou=!0),(va&134217727)===0&&(Vc&134217727)===0||Dt===null||Aa(Dt,Qe,Qr,!1)}function q1(i,a,u){var h=gt;gt|=2;var m=B3(),w=L3();(Dt!==i||Qe!==a)&&(vm=null,$u(i,a)),a=!1;var A=tn;e:do try{if(St!==0&&Xe!==null){var $=Xe,F=Zr;switch(St){case 8:F1(),A=6;break e;case 3:case 2:case 9:case 6:Yr.current===null&&(a=!0);var ee=St;if(St=0,Zr=null,Uu(i,$,F,ee),u&&Ou){A=0;break e}break;default:ee=St,St=0,Zr=null,Uu(i,$,F,ee)}}eB(),A=tn;break}catch(oe){R3(i,oe)}while(!0);return a&&i.shellSuspendCounter++,mo=Pc=null,gt=h,_.H=m,_.A=w,Xe===null&&(Dt=null,Qe=0,Hg()),A}function eB(){for(;Xe!==null;)k3(Xe)}function tB(i,a){var u=gt;gt|=2;var h=B3(),m=L3();Dt!==i||Qe!==a?(vm=null,bm=zt()+500,$u(i,a)):Ou=Cc(i,a);e:do try{if(St!==0&&Xe!==null){a=Xe;var w=Zr;t:switch(St){case 1:St=0,Zr=null,Uu(i,a,w,1);break;case 2:case 9:if(YC(w)){St=0,Zr=null,j3(a);break}a=function(){St!==2&&St!==9||Dt!==i||(St=7),Di(i)},w.then(a,a);break e;case 3:St=7;break e;case 4:St=5;break e;case 7:YC(w)?(St=0,Zr=null,j3(a)):(St=0,Zr=null,Uu(i,a,w,7));break;case 5:var A=null;switch(Xe.tag){case 26:A=Xe.memoizedState;case 5:case 27:var $=Xe;if(A?xN(A):$.stateNode.complete){St=0,Zr=null;var F=$.sibling;if(F!==null)Xe=F;else{var ee=$.return;ee!==null?(Xe=ee,Am(ee)):Xe=null}break t}}St=0,Zr=null,Uu(i,a,w,5);break;case 6:St=0,Zr=null,Uu(i,a,w,6);break;case 8:F1(),tn=6;break e;default:throw Error(r(462))}}nB();break}catch(oe){R3(i,oe)}while(!0);return mo=Pc=null,_.H=h,_.A=m,gt=u,Xe!==null?0:(Dt=null,Qe=0,Hg(),tn)}function nB(){for(;Xe!==null&&!wc();)k3(Xe)}function k3(i){var a=l3(i.alternate,i,No);i.memoizedProps=i.pendingProps,a===null?Am(i):Xe=a}function j3(i){var a=i,u=a.alternate;switch(a.tag){case 15:case 0:a=r3(u,a,a.pendingProps,a.type,void 0,Qe);break;case 11:a=r3(u,a,a.pendingProps,a.type.render,a.ref,Qe);break;case 5:i1(a);default:f3(u,a),a=Xe=LC(a,No),a=l3(u,a,No)}i.memoizedProps=i.pendingProps,a===null?Am(i):Xe=a}function Uu(i,a,u,h){mo=Pc=null,i1(a),Au=null,Rh=0;var m=a.return;try{if(qP(i,m,a,u,Qe)){tn=1,um(i,Es(u,i.current)),Xe=null;return}}catch(w){if(m!==null)throw Xe=m,w;tn=1,um(i,Es(u,i.current)),Xe=null;return}a.flags&32768?(et||h===1?i=!0:Ou||(Qe&536870912)!==0?i=!1:(ba=i=!0,(h===2||h===9||h===3||h===6)&&(h=Yr.current,h!==null&&h.tag===13&&(h.flags|=16384))),z3(a,i)):Am(a)}function Am(i){var a=i;do{if((a.flags&32768)!==0){z3(a,ba);return}i=a.return;var u=KP(a.alternate,a,No);if(u!==null){Xe=u;return}if(a=a.sibling,a!==null){Xe=a;return}Xe=a=i}while(a!==null);tn===0&&(tn=5)}function z3(i,a){do{var u=GP(i.alternate,i);if(u!==null){u.flags&=32767,Xe=u;return}if(u=i.return,u!==null&&(u.flags|=32768,u.subtreeFlags=0,u.deletions=null),!a&&(i=i.sibling,i!==null)){Xe=i;return}Xe=i=u}while(i!==null);tn=6,Xe=null}function H3(i,a,u,h,m,w,A,$,F){i.cancelPendingCommit=null;do Cm();while(Sn!==0);if((gt&6)!==0)throw Error(r(327));if(a!==null){if(a===i.current)throw Error(r(177));if(w=a.lanes|a.childLanes,w|=Mw,co(i,u,w,A,$,F),i===Dt&&(Xe=Dt=null,Qe=0),Mu=a,Sa=i,To=u,j1=w,z1=m,D3=h,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,oB(oo,function(){return K3(),null})):(i.callbackNode=null,i.callbackPriority=0),h=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||h){h=_.T,_.T=null,m=j.p,j.p=2,A=gt,gt|=4;try{YP(i,a,u)}finally{gt=A,j.p=m,_.T=h}}Sn=1,F3(),q3(),V3()}}function F3(){if(Sn===1){Sn=0;var i=Sa,a=Mu,u=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||u){u=_.T,_.T=null;var h=j.p;j.p=2;var m=gt;gt|=4;try{A3(a,i);var w=nb,A=IC(i.containerInfo),$=w.focusedElem,F=w.selectionRange;if(A!==$&&$&&$.ownerDocument&&_C($.ownerDocument.documentElement,$)){if(F!==null&&Tw($)){var ee=F.start,oe=F.end;if(oe===void 0&&(oe=ee),"selectionStart"in $)$.selectionStart=ee,$.selectionEnd=Math.min(oe,$.value.length);else{var ce=$.ownerDocument||document,re=ce&&ce.defaultView||window;if(re.getSelection){var ie=re.getSelection(),xe=$.textContent.length,Le=Math.min(F.start,xe),_t=F.end===void 0?Le:Math.min(F.end,xe);!ie.extend&&Le>_t&&(A=_t,_t=Le,Le=A);var Z=TC($,Le),K=TC($,_t);if(Z&&K&&(ie.rangeCount!==1||ie.anchorNode!==Z.node||ie.anchorOffset!==Z.offset||ie.focusNode!==K.node||ie.focusOffset!==K.offset)){var J=ce.createRange();J.setStart(Z.node,Z.offset),ie.removeAllRanges(),Le>_t?(ie.addRange(J),ie.extend(K.node,K.offset)):(J.setEnd(K.node,K.offset),ie.addRange(J))}}}}for(ce=[],ie=$;ie=ie.parentNode;)ie.nodeType===1&&ce.push({element:ie,left:ie.scrollLeft,top:ie.scrollTop});for(typeof $.focus=="function"&&$.focus(),$=0;$<ce.length;$++){var ae=ce[$];ae.element.scrollLeft=ae.left,ae.element.scrollTop=ae.top}}Pm=!!tb,nb=tb=null}finally{gt=m,j.p=h,_.T=u}}i.current=a,Sn=2}}function q3(){if(Sn===2){Sn=0;var i=Sa,a=Mu,u=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||u){u=_.T,_.T=null;var h=j.p;j.p=2;var m=gt;gt|=4;try{w3(i,a.alternate,a)}finally{gt=m,j.p=h,_.T=u}}Sn=3}}function V3(){if(Sn===4||Sn===3){Sn=0,bc();var i=Sa,a=Mu,u=To,h=D3;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?Sn=5:(Sn=0,Mu=Sa=null,W3(i,i.pendingLanes));var m=i.pendingLanes;if(m===0&&(Ea=null),gh(u),a=a.stateNode,Qn&&typeof Qn.onCommitFiberRoot=="function")try{Qn.onCommitFiberRoot(Sc,a,void 0,(a.current.flags&128)===128)}catch{}if(h!==null){a=_.T,m=j.p,j.p=2,_.T=null;try{for(var w=i.onRecoverableError,A=0;A<h.length;A++){var $=h[A];w($.value,{componentStack:$.stack})}}finally{_.T=a,j.p=m}}(To&3)!==0&&Cm(),Di(i),m=i.pendingLanes,(u&261930)!==0&&(m&42)!==0?i===H1?Qh++:(Qh=0,H1=i):Qh=0,Jh(0)}}function W3(i,a){(i.pooledCacheLanes&=a)===0&&(a=i.pooledCache,a!=null&&(i.pooledCache=null,$h(a)))}function Cm(){return F3(),q3(),V3(),K3()}function K3(){if(Sn!==5)return!1;var i=Sa,a=j1;j1=0;var u=gh(To),h=_.T,m=j.p;try{j.p=32>u?32:u,_.T=null,u=z1,z1=null;var w=Sa,A=To;if(Sn=0,Mu=Sa=null,To=0,(gt&6)!==0)throw Error(r(331));var $=gt;if(gt|=4,_3(w.current),x3(w,w.current,A,u),gt=$,Jh(0,!1),Qn&&typeof Qn.onPostCommitFiberRoot=="function")try{Qn.onPostCommitFiberRoot(Sc,w)}catch{}return!0}finally{j.p=m,_.T=h,W3(i,a)}}function G3(i,a,u){a=Es(u,a),a=v1(i.stateNode,a,2),i=ga(i,a,2),i!==null&&(na(i,2),Di(i))}function At(i,a,u){if(i.tag===3)G3(i,i,u);else for(;a!==null;){if(a.tag===3){G3(a,i,u);break}else if(a.tag===1){var h=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(Ea===null||!Ea.has(h))){i=Es(u,i),u=Yx(2),h=ga(a,u,2),h!==null&&(Xx(u,h,a,i),na(h,2),Di(h));break}}a=a.return}}function V1(i,a,u){var h=i.pingCache;if(h===null){h=i.pingCache=new QP;var m=new Set;h.set(a,m)}else m=h.get(a),m===void 0&&(m=new Set,h.set(a,m));m.has(u)||(B1=!0,m.add(u),i=rB.bind(null,i,a,u),a.then(i,i))}function rB(i,a,u){var h=i.pingCache;h!==null&&h.delete(a),i.pingedLanes|=i.suspendedLanes&u,i.warmLanes&=~u,Dt===i&&(Qe&u)===u&&(tn===4||tn===3&&(Qe&62914560)===Qe&&300>zt()-wm?(gt&2)===0&&$u(i,0):L1|=u,Du===Qe&&(Du=0)),Di(i)}function Y3(i,a){a===0&&(a=Ng()),i=$c(i,a),i!==null&&(na(i,a),Di(i))}function sB(i){var a=i.memoizedState,u=0;a!==null&&(u=a.retryLane),Y3(i,u)}function iB(i,a){var u=0;switch(i.tag){case 31:case 13:var h=i.stateNode,m=i.memoizedState;m!==null&&(u=m.retryLane);break;case 19:h=i.stateNode;break;case 22:h=i.stateNode._retryCache;break;default:throw Error(r(314))}h!==null&&h.delete(a),Y3(i,u)}function oB(i,a){return Gs(i,a)}var xm=null,Ru=null,W1=!1,Nm=!1,K1=!1,Ca=0;function Di(i){i!==Ru&&i.next===null&&(Ru===null?xm=Ru=i:Ru=Ru.next=i),Nm=!0,W1||(W1=!0,cB())}function Jh(i,a){if(!K1&&Nm){K1=!0;do for(var u=!1,h=xm;h!==null;){if(i!==0){var m=h.pendingLanes;if(m===0)var w=0;else{var A=h.suspendedLanes,$=h.pingedLanes;w=(1<<31-hr(42|i)+1)-1,w&=m&~(A&~$),w=w&201326741?w&201326741|1:w?w|2:0}w!==0&&(u=!0,J3(h,w))}else w=Qe,w=Ql(h,h===Dt?w:0,h.cancelPendingCommit!==null||h.timeoutHandle!==-1),(w&3)===0||Cc(h,w)||(u=!0,J3(h,w));h=h.next}while(u);K1=!1}}function aB(){X3()}function X3(){Nm=W1=!1;var i=0;Ca!==0&&wB()&&(i=Ca);for(var a=zt(),u=null,h=xm;h!==null;){var m=h.next,w=Z3(h,a);w===0?(h.next=null,u===null?xm=m:u.next=m,m===null&&(Ru=u)):(u=h,(i!==0||(w&3)!==0)&&(Nm=!0)),h=m}Sn!==0&&Sn!==5||Jh(i),Ca!==0&&(Ca=0)}function Z3(i,a){for(var u=i.suspendedLanes,h=i.pingedLanes,m=i.expirationTimes,w=i.pendingLanes&-62914561;0<w;){var A=31-hr(w),$=1<<A,F=m[A];F===-1?(($&u)===0||($&h)!==0)&&(m[A]=dw($,a)):F<=a&&(i.expiredLanes|=$),w&=~$}if(a=Dt,u=Qe,u=Ql(i,i===a?u:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),h=i.callbackNode,u===0||i===a&&(St===2||St===9)||i.cancelPendingCommit!==null)return h!==null&&h!==null&&Ys(h),i.callbackNode=null,i.callbackPriority=0;if((u&3)===0||Cc(i,u)){if(a=u&-u,a===i.callbackPriority)return a;switch(h!==null&&Ys(h),gh(u)){case 2:case 8:u=Ec;break;case 32:u=oo;break;case 268435456:u=Zl;break;default:u=oo}return h=Q3.bind(null,i),u=Gs(u,h),i.callbackPriority=a,i.callbackNode=u,a}return h!==null&&h!==null&&Ys(h),i.callbackPriority=2,i.callbackNode=null,2}function Q3(i,a){if(Sn!==0&&Sn!==5)return i.callbackNode=null,i.callbackPriority=0,null;var u=i.callbackNode;if(Cm()&&i.callbackNode!==u)return null;var h=Qe;return h=Ql(i,i===Dt?h:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),h===0?null:($3(i,h,a),Z3(i,zt()),i.callbackNode!=null&&i.callbackNode===u?Q3.bind(null,i):null)}function J3(i,a){if(Cm())return null;$3(i,a,!0)}function cB(){vB(function(){(gt&6)!==0?Gs(vc,aB):X3()})}function G1(){if(Ca===0){var i=vu;i===0&&(i=ea,ea<<=1,(ea&261888)===0&&(ea=256)),Ca=i}return Ca}function eN(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:iu(""+i)}function tN(i,a){var u=a.ownerDocument.createElement("input");return u.name=a.name,u.value=a.value,i.id&&u.setAttribute("form",i.id),a.parentNode.insertBefore(u,a),i=new FormData(i),u.parentNode.removeChild(u),i}function lB(i,a,u,h,m){if(a==="submit"&&u&&u.stateNode===m){var w=eN((m[Jn]||null).action),A=h.submitter;A&&(a=(a=A[Jn]||null)?eN(a.formAction):A.getAttribute("formAction"),a!==null&&(w=a,A=null));var $=new En("action","action",null,h,m);i.push({event:$,listeners:[{instance:null,listener:function(){if(h.defaultPrevented){if(Ca!==0){var F=A?tN(m,A):new FormData(m);p1(u,{pending:!0,data:F,method:m.method,action:w},null,F)}}else typeof w=="function"&&($.preventDefault(),F=A?tN(m,A):new FormData(m),p1(u,{pending:!0,data:F,method:m.method,action:w},w,F))},currentTarget:m}]})}}for(var Y1=0;Y1<Dw.length;Y1++){var X1=Dw[Y1],uB=X1.toLowerCase(),fB=X1[0].toUpperCase()+X1.slice(1);Js(uB,"on"+fB)}Js(MC,"onAnimationEnd"),Js($C,"onAnimationIteration"),Js(UC,"onAnimationStart"),Js("dblclick","onDoubleClick"),Js("focusin","onFocus"),Js("focusout","onBlur"),Js(TP,"onTransitionRun"),Js(_P,"onTransitionStart"),Js(IP,"onTransitionCancel"),Js(RC,"onTransitionEnd"),Xs("onMouseEnter",["mouseout","mouseover"]),Xs("onMouseLeave",["mouseout","mouseover"]),Xs("onPointerEnter",["pointerout","pointerover"]),Xs("onPointerLeave",["pointerout","pointerover"]),Ci("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ci("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ci("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ci("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ci("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ci("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ed="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),hB=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ed));function nN(i,a){a=(a&4)!==0;for(var u=0;u<i.length;u++){var h=i[u],m=h.event;h=h.listeners;e:{var w=void 0;if(a)for(var A=h.length-1;0<=A;A--){var $=h[A],F=$.instance,ee=$.currentTarget;if($=$.listener,F!==w&&m.isPropagationStopped())break e;w=$,m.currentTarget=ee;try{w(m)}catch(oe){zg(oe)}m.currentTarget=null,w=F}else for(A=0;A<h.length;A++){if($=h[A],F=$.instance,ee=$.currentTarget,$=$.listener,F!==w&&m.isPropagationStopped())break e;w=$,m.currentTarget=ee;try{w(m)}catch(oe){zg(oe)}m.currentTarget=null,w=F}}}}function Ze(i,a){var u=a[Ai];u===void 0&&(u=a[Ai]=new Set);var h=i+"__bubble";u.has(h)||(rN(a,i,2,!1),u.add(h))}function Z1(i,a,u){var h=0;a&&(h|=4),rN(u,i,h,a)}var Tm="_reactListening"+Math.random().toString(36).slice(2);function Q1(i){if(!i[Tm]){i[Tm]=!0,Mg.forEach(function(u){u!=="selectionchange"&&(hB.has(u)||Z1(u,!1,i),Z1(u,!0,i))});var a=i.nodeType===9?i:i.ownerDocument;a===null||a[Tm]||(a[Tm]=!0,Z1("selectionchange",!1,a))}}function rN(i,a,u,h){switch(MN(a)){case 2:var m=jB;break;case 8:m=zB;break;default:m=db}u=m.bind(null,a,u,i),m=void 0,!Ah||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(m=!0),h?m!==void 0?i.addEventListener(a,u,{capture:!0,passive:m}):i.addEventListener(a,u,!0):m!==void 0?i.addEventListener(a,u,{passive:m}):i.addEventListener(a,u,!1)}function J1(i,a,u,h,m){var w=h;if((a&1)===0&&(a&2)===0&&h!==null)e:for(;;){if(h===null)return;var A=h.tag;if(A===3||A===4){var $=h.stateNode.containerInfo;if($===m)break;if(A===4)for(A=h.return;A!==null;){var F=A.tag;if((F===3||F===4)&&A.stateNode.containerInfo===m)return;A=A.return}for(;$!==null;){if(A=Wr($),A===null)return;if(F=A.tag,F===5||F===6||F===26||F===27){h=w=A;continue e}$=$.parentNode}}h=h.return}Lg(function(){var ee=w,oe=Sh(u),ce=[];e:{var re=PC.get(i);if(re!==void 0){var ie=En,xe=i;switch(i){case"keypress":if(k(u)===0)break e;case"keydown":case"keyup":ie=iP;break;case"focusin":xe="focus",ie=Sw;break;case"focusout":xe="blur",ie=Sw;break;case"beforeblur":case"afterblur":ie=Sw;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ie=Ch;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ie=uu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ie=cP;break;case MC:case $C:case UC:ie=XR;break;case RC:ie=uP;break;case"scroll":case"scrollend":ie=er;break;case"wheel":ie=hP;break;case"copy":case"cut":case"paste":ie=QR;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ie=dC;break;case"toggle":case"beforetoggle":ie=pP}var Le=(a&4)!==0,_t=!Le&&(i==="scroll"||i==="scrollend"),Z=Le?re!==null?re+"Capture":null:re;Le=[];for(var K=ee,J;K!==null;){var ae=K;if(J=ae.stateNode,ae=ae.tag,ae!==5&&ae!==26&&ae!==27||J===null||Z===null||(ae=_c(K,Z),ae!=null&&Le.push(td(K,ae,J))),_t)break;K=K.return}0<Le.length&&(re=new ie(re,xe,null,u,oe),ce.push({event:re,listeners:Le}))}}if((a&7)===0){e:{if(re=i==="mouseover"||i==="pointerover",ie=i==="mouseout"||i==="pointerout",re&&u!==Qs&&(xe=u.relatedTarget||u.fromElement)&&(Wr(xe)||xe[ra]))break e;if((ie||re)&&(re=oe.window===oe?oe:(re=oe.ownerDocument)?re.defaultView||re.parentWindow:window,ie?(xe=u.relatedTarget||u.toElement,ie=ee,xe=xe?Wr(xe):null,xe!==null&&(_t=o(xe),Le=xe.tag,xe!==_t||Le!==5&&Le!==27&&Le!==6)&&(xe=null)):(ie=null,xe=ee),ie!==xe)){if(Le=Ch,ae="onMouseLeave",Z="onMouseEnter",K="mouse",(i==="pointerout"||i==="pointerover")&&(Le=dC,ae="onPointerLeave",Z="onPointerEnter",K="pointer"),_t=ie==null?re:Nc(ie),J=xe==null?re:Nc(xe),re=new Le(ae,K+"leave",ie,u,oe),re.target=_t,re.relatedTarget=J,ae=null,Wr(oe)===ee&&(Le=new Le(Z,K+"enter",xe,u,oe),Le.target=J,Le.relatedTarget=_t,ae=Le),_t=ae,ie&&xe)t:{for(Le=dB,Z=ie,K=xe,J=0,ae=Z;ae;ae=Le(ae))J++;ae=0;for(var Ue=K;Ue;Ue=Le(Ue))ae++;for(;0<J-ae;)Z=Le(Z),J--;for(;0<ae-J;)K=Le(K),ae--;for(;J--;){if(Z===K||K!==null&&Z===K.alternate){Le=Z;break t}Z=Le(Z),K=Le(K)}Le=null}else Le=null;ie!==null&&sN(ce,re,ie,Le,!1),xe!==null&&_t!==null&&sN(ce,_t,xe,Le,!0)}}e:{if(re=ee?Nc(ee):window,ie=re.nodeName&&re.nodeName.toLowerCase(),ie==="select"||ie==="input"&&re.type==="file")var ct=EC;else if(bC(re))if(SC)ct=CP;else{ct=SP;var _e=EP}else ie=re.nodeName,!ie||ie.toLowerCase()!=="input"||re.type!=="checkbox"&&re.type!=="radio"?ee&&Eh(ee.elementType)&&(ct=EC):ct=AP;if(ct&&(ct=ct(i,ee))){vC(ce,ct,u,oe);break e}_e&&_e(i,re,ee),i==="focusout"&&ee&&re.type==="number"&&ee.memoizedProps.value!=null&&vh(re,"number",re.value)}switch(_e=ee?Nc(ee):window,i){case"focusin":(bC(_e)||_e.contentEditable==="true")&&(hu=_e,_w=ee,Oh=null);break;case"focusout":Oh=_w=hu=null;break;case"mousedown":Iw=!0;break;case"contextmenu":case"mouseup":case"dragend":Iw=!1,OC(ce,u,oe);break;case"selectionchange":if(NP)break;case"keydown":case"keyup":OC(ce,u,oe)}var Ve;if(Cw)e:{switch(i){case"compositionstart":var Je="onCompositionStart";break e;case"compositionend":Je="onCompositionEnd";break e;case"compositionupdate":Je="onCompositionUpdate";break e}Je=void 0}else fu?yC(i,u)&&(Je="onCompositionEnd"):i==="keydown"&&u.keyCode===229&&(Je="onCompositionStart");Je&&(pC&&u.locale!=="ko"&&(fu||Je!=="onCompositionStart"?Je==="onCompositionEnd"&&fu&&(Ve=kg()):(Ni=oe,Ic="value"in Ni?Ni.value:Ni.textContent,fu=!0)),_e=_m(ee,Je),0<_e.length&&(Je=new hC(Je,i,null,u,oe),ce.push({event:Je,listeners:_e}),Ve?Je.data=Ve:(Ve=wC(u),Ve!==null&&(Je.data=Ve)))),(Ve=mP?yP(i,u):wP(i,u))&&(Je=_m(ee,"onBeforeInput"),0<Je.length&&(_e=new hC("onBeforeInput","beforeinput",null,u,oe),ce.push({event:_e,listeners:Je}),_e.data=Ve)),lB(ce,i,ee,u,oe)}nN(ce,a)})}function td(i,a,u){return{instance:i,listener:a,currentTarget:u}}function _m(i,a){for(var u=a+"Capture",h=[];i!==null;){var m=i,w=m.stateNode;if(m=m.tag,m!==5&&m!==26&&m!==27||w===null||(m=_c(i,u),m!=null&&h.unshift(td(i,m,w)),m=_c(i,a),m!=null&&h.push(td(i,m,w))),i.tag===3)return h;i=i.return}return[]}function dB(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function sN(i,a,u,h,m){for(var w=a._reactName,A=[];u!==null&&u!==h;){var $=u,F=$.alternate,ee=$.stateNode;if($=$.tag,F!==null&&F===h)break;$!==5&&$!==26&&$!==27||ee===null||(F=ee,m?(ee=_c(u,w),ee!=null&&A.unshift(td(u,ee,F))):m||(ee=_c(u,w),ee!=null&&A.push(td(u,ee,F)))),u=u.return}A.length!==0&&i.push({event:a,listeners:A})}var pB=/\r\n?/g,gB=/\u0000|\uFFFD/g;function iN(i){return(typeof i=="string"?i:""+i).replace(pB,`
`).replace(gB,"")}function oN(i,a){return a=iN(a),iN(i)===a}function Tt(i,a,u,h,m,w){switch(u){case"children":typeof h=="string"?a==="body"||a==="textarea"&&h===""||uo(i,h):(typeof h=="number"||typeof h=="bigint")&&a!=="body"&&uo(i,""+h);break;case"className":nu(i,"class",h);break;case"tabIndex":nu(i,"tabindex",h);break;case"dir":case"role":case"viewBox":case"width":case"height":nu(i,u,h);break;case"style":Bg(i,h,w);break;case"data":if(a!=="object"){nu(i,"data",h);break}case"src":case"href":if(h===""&&(a!=="a"||u!=="href")){i.removeAttribute(u);break}if(h==null||typeof h=="function"||typeof h=="symbol"||typeof h=="boolean"){i.removeAttribute(u);break}h=iu(""+h),i.setAttribute(u,h);break;case"action":case"formAction":if(typeof h=="function"){i.setAttribute(u,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof w=="function"&&(u==="formAction"?(a!=="input"&&Tt(i,a,"name",m.name,m,null),Tt(i,a,"formEncType",m.formEncType,m,null),Tt(i,a,"formMethod",m.formMethod,m,null),Tt(i,a,"formTarget",m.formTarget,m,null)):(Tt(i,a,"encType",m.encType,m,null),Tt(i,a,"method",m.method,m,null),Tt(i,a,"target",m.target,m,null)));if(h==null||typeof h=="symbol"||typeof h=="boolean"){i.removeAttribute(u);break}h=iu(""+h),i.setAttribute(u,h);break;case"onClick":h!=null&&(i.onclick=ws);break;case"onScroll":h!=null&&Ze("scroll",i);break;case"onScrollEnd":h!=null&&Ze("scrollend",i);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(r(61));if(u=h.__html,u!=null){if(m.children!=null)throw Error(r(60));i.innerHTML=u}}break;case"multiple":i.multiple=h&&typeof h!="function"&&typeof h!="symbol";break;case"muted":i.muted=h&&typeof h!="function"&&typeof h!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(h==null||typeof h=="function"||typeof h=="boolean"||typeof h=="symbol"){i.removeAttribute("xlink:href");break}u=iu(""+h),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",u);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":h!=null&&typeof h!="function"&&typeof h!="symbol"?i.setAttribute(u,""+h):i.removeAttribute(u);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":h&&typeof h!="function"&&typeof h!="symbol"?i.setAttribute(u,""):i.removeAttribute(u);break;case"capture":case"download":h===!0?i.setAttribute(u,""):h!==!1&&h!=null&&typeof h!="function"&&typeof h!="symbol"?i.setAttribute(u,h):i.removeAttribute(u);break;case"cols":case"rows":case"size":case"span":h!=null&&typeof h!="function"&&typeof h!="symbol"&&!isNaN(h)&&1<=h?i.setAttribute(u,h):i.removeAttribute(u);break;case"rowSpan":case"start":h==null||typeof h=="function"||typeof h=="symbol"||isNaN(h)?i.removeAttribute(u):i.setAttribute(u,h);break;case"popover":Ze("beforetoggle",i),Ze("toggle",i),tu(i,"popover",h);break;case"xlinkActuate":Zs(i,"http://www.w3.org/1999/xlink","xlink:actuate",h);break;case"xlinkArcrole":Zs(i,"http://www.w3.org/1999/xlink","xlink:arcrole",h);break;case"xlinkRole":Zs(i,"http://www.w3.org/1999/xlink","xlink:role",h);break;case"xlinkShow":Zs(i,"http://www.w3.org/1999/xlink","xlink:show",h);break;case"xlinkTitle":Zs(i,"http://www.w3.org/1999/xlink","xlink:title",h);break;case"xlinkType":Zs(i,"http://www.w3.org/1999/xlink","xlink:type",h);break;case"xmlBase":Zs(i,"http://www.w3.org/XML/1998/namespace","xml:base",h);break;case"xmlLang":Zs(i,"http://www.w3.org/XML/1998/namespace","xml:lang",h);break;case"xmlSpace":Zs(i,"http://www.w3.org/XML/1998/namespace","xml:space",h);break;case"is":tu(i,"is",h);break;case"innerText":case"textContent":break;default:(!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(u=vw.get(u)||u,tu(i,u,h))}}function eb(i,a,u,h,m,w){switch(u){case"style":Bg(i,h,w);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(r(61));if(u=h.__html,u!=null){if(m.children!=null)throw Error(r(60));i.innerHTML=u}}break;case"children":typeof h=="string"?uo(i,h):(typeof h=="number"||typeof h=="bigint")&&uo(i,""+h);break;case"onScroll":h!=null&&Ze("scroll",i);break;case"onScrollEnd":h!=null&&Ze("scrollend",i);break;case"onClick":h!=null&&(i.onclick=ws);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!$g.hasOwnProperty(u))e:{if(u[0]==="o"&&u[1]==="n"&&(m=u.endsWith("Capture"),a=u.slice(2,m?u.length-7:void 0),w=i[Jn]||null,w=w!=null?w[u]:null,typeof w=="function"&&i.removeEventListener(a,w,m),typeof h=="function")){typeof w!="function"&&w!==null&&(u in i?i[u]=null:i.hasAttribute(u)&&i.removeAttribute(u)),i.addEventListener(a,h,m);break e}u in i?i[u]=h:h===!0?i.setAttribute(u,""):tu(i,u,h)}}}function kn(i,a,u){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ze("error",i),Ze("load",i);var h=!1,m=!1,w;for(w in u)if(u.hasOwnProperty(w)){var A=u[w];if(A!=null)switch(w){case"src":h=!0;break;case"srcSet":m=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,a));default:Tt(i,a,w,A,u,null)}}m&&Tt(i,a,"srcSet",u.srcSet,u,null),h&&Tt(i,a,"src",u.src,u,null);return;case"input":Ze("invalid",i);var $=w=A=m=null,F=null,ee=null;for(h in u)if(u.hasOwnProperty(h)){var oe=u[h];if(oe!=null)switch(h){case"name":m=oe;break;case"type":A=oe;break;case"checked":F=oe;break;case"defaultChecked":ee=oe;break;case"value":w=oe;break;case"defaultValue":$=oe;break;case"children":case"dangerouslySetInnerHTML":if(oe!=null)throw Error(r(137,a));break;default:Tt(i,a,h,oe,u,null)}}bh(i,w,$,F,ee,A,m,!1);return;case"select":Ze("invalid",i),h=A=w=null;for(m in u)if(u.hasOwnProperty(m)&&($=u[m],$!=null))switch(m){case"value":w=$;break;case"defaultValue":A=$;break;case"multiple":h=$;default:Tt(i,a,m,$,u,null)}a=w,u=A,i.multiple=!!h,a!=null?oa(i,!!h,a,!1):u!=null&&oa(i,!!h,u,!0);return;case"textarea":Ze("invalid",i),w=m=h=null;for(A in u)if(u.hasOwnProperty(A)&&($=u[A],$!=null))switch(A){case"value":h=$;break;case"defaultValue":m=$;break;case"children":w=$;break;case"dangerouslySetInnerHTML":if($!=null)throw Error(r(91));break;default:Tt(i,a,A,$,u,null)}lo(i,h,m,w);return;case"option":for(F in u)if(u.hasOwnProperty(F)&&(h=u[F],h!=null))switch(F){case"selected":i.selected=h&&typeof h!="function"&&typeof h!="symbol";break;default:Tt(i,a,F,h,u,null)}return;case"dialog":Ze("beforetoggle",i),Ze("toggle",i),Ze("cancel",i),Ze("close",i);break;case"iframe":case"object":Ze("load",i);break;case"video":case"audio":for(h=0;h<ed.length;h++)Ze(ed[h],i);break;case"image":Ze("error",i),Ze("load",i);break;case"details":Ze("toggle",i);break;case"embed":case"source":case"link":Ze("error",i),Ze("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ee in u)if(u.hasOwnProperty(ee)&&(h=u[ee],h!=null))switch(ee){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,a));default:Tt(i,a,ee,h,u,null)}return;default:if(Eh(a)){for(oe in u)u.hasOwnProperty(oe)&&(h=u[oe],h!==void 0&&eb(i,a,oe,h,u,void 0));return}}for($ in u)u.hasOwnProperty($)&&(h=u[$],h!=null&&Tt(i,a,$,h,u,null))}function mB(i,a,u,h){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var m=null,w=null,A=null,$=null,F=null,ee=null,oe=null;for(ie in u){var ce=u[ie];if(u.hasOwnProperty(ie)&&ce!=null)switch(ie){case"checked":break;case"value":break;case"defaultValue":F=ce;default:h.hasOwnProperty(ie)||Tt(i,a,ie,null,h,ce)}}for(var re in h){var ie=h[re];if(ce=u[re],h.hasOwnProperty(re)&&(ie!=null||ce!=null))switch(re){case"type":w=ie;break;case"name":m=ie;break;case"checked":ee=ie;break;case"defaultChecked":oe=ie;break;case"value":A=ie;break;case"defaultValue":$=ie;break;case"children":case"dangerouslySetInnerHTML":if(ie!=null)throw Error(r(137,a));break;default:ie!==ce&&Tt(i,a,re,ie,h,ce)}}wh(i,A,$,F,ee,oe,w,m);return;case"select":ie=A=$=re=null;for(w in u)if(F=u[w],u.hasOwnProperty(w)&&F!=null)switch(w){case"value":break;case"multiple":ie=F;default:h.hasOwnProperty(w)||Tt(i,a,w,null,h,F)}for(m in h)if(w=h[m],F=u[m],h.hasOwnProperty(m)&&(w!=null||F!=null))switch(m){case"value":re=w;break;case"defaultValue":$=w;break;case"multiple":A=w;default:w!==F&&Tt(i,a,m,w,h,F)}a=$,u=A,h=ie,re!=null?oa(i,!!u,re,!1):!!h!=!!u&&(a!=null?oa(i,!!u,a,!0):oa(i,!!u,u?[]:"",!1));return;case"textarea":ie=re=null;for($ in u)if(m=u[$],u.hasOwnProperty($)&&m!=null&&!h.hasOwnProperty($))switch($){case"value":break;case"children":break;default:Tt(i,a,$,null,h,m)}for(A in h)if(m=h[A],w=u[A],h.hasOwnProperty(A)&&(m!=null||w!=null))switch(A){case"value":re=m;break;case"defaultValue":ie=m;break;case"children":break;case"dangerouslySetInnerHTML":if(m!=null)throw Error(r(91));break;default:m!==w&&Tt(i,a,A,m,h,w)}Tc(i,re,ie);return;case"option":for(var xe in u)if(re=u[xe],u.hasOwnProperty(xe)&&re!=null&&!h.hasOwnProperty(xe))switch(xe){case"selected":i.selected=!1;break;default:Tt(i,a,xe,null,h,re)}for(F in h)if(re=h[F],ie=u[F],h.hasOwnProperty(F)&&re!==ie&&(re!=null||ie!=null))switch(F){case"selected":i.selected=re&&typeof re!="function"&&typeof re!="symbol";break;default:Tt(i,a,F,re,h,ie)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Le in u)re=u[Le],u.hasOwnProperty(Le)&&re!=null&&!h.hasOwnProperty(Le)&&Tt(i,a,Le,null,h,re);for(ee in h)if(re=h[ee],ie=u[ee],h.hasOwnProperty(ee)&&re!==ie&&(re!=null||ie!=null))switch(ee){case"children":case"dangerouslySetInnerHTML":if(re!=null)throw Error(r(137,a));break;default:Tt(i,a,ee,re,h,ie)}return;default:if(Eh(a)){for(var _t in u)re=u[_t],u.hasOwnProperty(_t)&&re!==void 0&&!h.hasOwnProperty(_t)&&eb(i,a,_t,void 0,h,re);for(oe in h)re=h[oe],ie=u[oe],!h.hasOwnProperty(oe)||re===ie||re===void 0&&ie===void 0||eb(i,a,oe,re,h,ie);return}}for(var Z in u)re=u[Z],u.hasOwnProperty(Z)&&re!=null&&!h.hasOwnProperty(Z)&&Tt(i,a,Z,null,h,re);for(ce in h)re=h[ce],ie=u[ce],!h.hasOwnProperty(ce)||re===ie||re==null&&ie==null||Tt(i,a,ce,re,h,ie)}function aN(i){switch(i){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function yB(){if(typeof performance.getEntriesByType=="function"){for(var i=0,a=0,u=performance.getEntriesByType("resource"),h=0;h<u.length;h++){var m=u[h],w=m.transferSize,A=m.initiatorType,$=m.duration;if(w&&$&&aN(A)){for(A=0,$=m.responseEnd,h+=1;h<u.length;h++){var F=u[h],ee=F.startTime;if(ee>$)break;var oe=F.transferSize,ce=F.initiatorType;oe&&aN(ce)&&(F=F.responseEnd,A+=oe*(F<$?1:($-ee)/(F-ee)))}if(--h,a+=8*(w+A)/(m.duration/1e3),i++,10<i)break}}if(0<i)return a/i/1e6}return navigator.connection&&(i=navigator.connection.downlink,typeof i=="number")?i:5}var tb=null,nb=null;function Im(i){return i.nodeType===9?i:i.ownerDocument}function cN(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function lN(i,a){if(i===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&a==="foreignObject"?0:i}function rb(i,a){return i==="textarea"||i==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var sb=null;function wB(){var i=window.event;return i&&i.type==="popstate"?i===sb?!1:(sb=i,!0):(sb=null,!1)}var uN=typeof setTimeout=="function"?setTimeout:void 0,bB=typeof clearTimeout=="function"?clearTimeout:void 0,fN=typeof Promise=="function"?Promise:void 0,vB=typeof queueMicrotask=="function"?queueMicrotask:typeof fN<"u"?function(i){return fN.resolve(null).then(i).catch(EB)}:uN;function EB(i){setTimeout(function(){throw i})}function xa(i){return i==="head"}function hN(i,a){var u=a,h=0;do{var m=u.nextSibling;if(i.removeChild(u),m&&m.nodeType===8)if(u=m.data,u==="/$"||u==="/&"){if(h===0){i.removeChild(m),ku(a);return}h--}else if(u==="$"||u==="$?"||u==="$~"||u==="$!"||u==="&")h++;else if(u==="html")nd(i.ownerDocument.documentElement);else if(u==="head"){u=i.ownerDocument.head,nd(u);for(var w=u.firstChild;w;){var A=w.nextSibling,$=w.nodeName;w[xc]||$==="SCRIPT"||$==="STYLE"||$==="LINK"&&w.rel.toLowerCase()==="stylesheet"||u.removeChild(w),w=A}}else u==="body"&&nd(i.ownerDocument.body);u=m}while(u);ku(a)}function dN(i,a){var u=i;i=0;do{var h=u.nextSibling;if(u.nodeType===1?a?(u._stashedDisplay=u.style.display,u.style.display="none"):(u.style.display=u._stashedDisplay||"",u.getAttribute("style")===""&&u.removeAttribute("style")):u.nodeType===3&&(a?(u._stashedText=u.nodeValue,u.nodeValue=""):u.nodeValue=u._stashedText||""),h&&h.nodeType===8)if(u=h.data,u==="/$"){if(i===0)break;i--}else u!=="$"&&u!=="$?"&&u!=="$~"&&u!=="$!"||i++;u=h}while(u)}function ib(i){var a=i.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var u=a;switch(a=a.nextSibling,u.nodeName){case"HTML":case"HEAD":case"BODY":ib(u),mh(u);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(u.rel.toLowerCase()==="stylesheet")continue}i.removeChild(u)}}function SB(i,a,u,h){for(;i.nodeType===1;){var m=u;if(i.nodeName.toLowerCase()!==a.toLowerCase()){if(!h&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(h){if(!i[xc])switch(a){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(w=i.getAttribute("rel"),w==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(w!==m.rel||i.getAttribute("href")!==(m.href==null||m.href===""?null:m.href)||i.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin)||i.getAttribute("title")!==(m.title==null?null:m.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(w=i.getAttribute("src"),(w!==(m.src==null?null:m.src)||i.getAttribute("type")!==(m.type==null?null:m.type)||i.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin))&&w&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(a==="input"&&i.type==="hidden"){var w=m.name==null?null:""+m.name;if(m.type==="hidden"&&i.getAttribute("name")===w)return i}else return i;if(i=Ns(i.nextSibling),i===null)break}return null}function AB(i,a,u){if(a==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!u||(i=Ns(i.nextSibling),i===null))return null;return i}function pN(i,a){for(;i.nodeType!==8;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!a||(i=Ns(i.nextSibling),i===null))return null;return i}function ob(i){return i.data==="$?"||i.data==="$~"}function ab(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState!=="loading"}function CB(i,a){var u=i.ownerDocument;if(i.data==="$~")i._reactRetry=a;else if(i.data!=="$?"||u.readyState!=="loading")a();else{var h=function(){a(),u.removeEventListener("DOMContentLoaded",h)};u.addEventListener("DOMContentLoaded",h),i._reactRetry=h}}function Ns(i){for(;i!=null;i=i.nextSibling){var a=i.nodeType;if(a===1||a===3)break;if(a===8){if(a=i.data,a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"||a==="F!"||a==="F")break;if(a==="/$"||a==="/&")return null}}return i}var cb=null;function gN(i){i=i.nextSibling;for(var a=0;i;){if(i.nodeType===8){var u=i.data;if(u==="/$"||u==="/&"){if(a===0)return Ns(i.nextSibling);a--}else u!=="$"&&u!=="$!"&&u!=="$?"&&u!=="$~"&&u!=="&"||a++}i=i.nextSibling}return null}function mN(i){i=i.previousSibling;for(var a=0;i;){if(i.nodeType===8){var u=i.data;if(u==="$"||u==="$!"||u==="$?"||u==="$~"||u==="&"){if(a===0)return i;a--}else u!=="/$"&&u!=="/&"||a++}i=i.previousSibling}return null}function yN(i,a,u){switch(a=Im(u),i){case"html":if(i=a.documentElement,!i)throw Error(r(452));return i;case"head":if(i=a.head,!i)throw Error(r(453));return i;case"body":if(i=a.body,!i)throw Error(r(454));return i;default:throw Error(r(451))}}function nd(i){for(var a=i.attributes;a.length;)i.removeAttributeNode(a[0]);mh(i)}var Ts=new Map,wN=new Set;function Om(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var _o=j.d;j.d={f:xB,r:NB,D:TB,C:_B,L:IB,m:OB,X:MB,S:DB,M:$B};function xB(){var i=_o.f(),a=Em();return i||a}function NB(i){var a=sa(i);a!==null&&a.tag===5&&a.type==="form"?Rx(a):_o.r(i)}var Pu=typeof document>"u"?null:document;function bN(i,a,u){var h=Pu;if(h&&typeof a=="string"&&a){var m=Er(a);m='link[rel="'+i+'"][href="'+m+'"]',typeof u=="string"&&(m+='[crossorigin="'+u+'"]'),wN.has(m)||(wN.add(m),i={rel:i,crossOrigin:u,href:a},h.querySelector(m)===null&&(a=h.createElement("link"),kn(a,"link",i),hn(a),h.head.appendChild(a)))}}function TB(i){_o.D(i),bN("dns-prefetch",i,null)}function _B(i,a){_o.C(i,a),bN("preconnect",i,a)}function IB(i,a,u){_o.L(i,a,u);var h=Pu;if(h&&i&&a){var m='link[rel="preload"][as="'+Er(a)+'"]';a==="image"&&u&&u.imageSrcSet?(m+='[imagesrcset="'+Er(u.imageSrcSet)+'"]',typeof u.imageSizes=="string"&&(m+='[imagesizes="'+Er(u.imageSizes)+'"]')):m+='[href="'+Er(i)+'"]';var w=m;switch(a){case"style":w=Bu(i);break;case"script":w=Lu(i)}Ts.has(w)||(i=g({rel:"preload",href:a==="image"&&u&&u.imageSrcSet?void 0:i,as:a},u),Ts.set(w,i),h.querySelector(m)!==null||a==="style"&&h.querySelector(rd(w))||a==="script"&&h.querySelector(sd(w))||(a=h.createElement("link"),kn(a,"link",i),hn(a),h.head.appendChild(a)))}}function OB(i,a){_o.m(i,a);var u=Pu;if(u&&i){var h=a&&typeof a.as=="string"?a.as:"script",m='link[rel="modulepreload"][as="'+Er(h)+'"][href="'+Er(i)+'"]',w=m;switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":w=Lu(i)}if(!Ts.has(w)&&(i=g({rel:"modulepreload",href:i},a),Ts.set(w,i),u.querySelector(m)===null)){switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(u.querySelector(sd(w)))return}h=u.createElement("link"),kn(h,"link",i),hn(h),u.head.appendChild(h)}}}function DB(i,a,u){_o.S(i,a,u);var h=Pu;if(h&&i){var m=ia(h).hoistableStyles,w=Bu(i);a=a||"default";var A=m.get(w);if(!A){var $={loading:0,preload:null};if(A=h.querySelector(rd(w)))$.loading=5;else{i=g({rel:"stylesheet",href:i,"data-precedence":a},u),(u=Ts.get(w))&&lb(i,u);var F=A=h.createElement("link");hn(F),kn(F,"link",i),F._p=new Promise(function(ee,oe){F.onload=ee,F.onerror=oe}),F.addEventListener("load",function(){$.loading|=1}),F.addEventListener("error",function(){$.loading|=2}),$.loading|=4,Dm(A,a,h)}A={type:"stylesheet",instance:A,count:1,state:$},m.set(w,A)}}}function MB(i,a){_o.X(i,a);var u=Pu;if(u&&i){var h=ia(u).hoistableScripts,m=Lu(i),w=h.get(m);w||(w=u.querySelector(sd(m)),w||(i=g({src:i,async:!0},a),(a=Ts.get(m))&&ub(i,a),w=u.createElement("script"),hn(w),kn(w,"link",i),u.head.appendChild(w)),w={type:"script",instance:w,count:1,state:null},h.set(m,w))}}function $B(i,a){_o.M(i,a);var u=Pu;if(u&&i){var h=ia(u).hoistableScripts,m=Lu(i),w=h.get(m);w||(w=u.querySelector(sd(m)),w||(i=g({src:i,async:!0,type:"module"},a),(a=Ts.get(m))&&ub(i,a),w=u.createElement("script"),hn(w),kn(w,"link",i),u.head.appendChild(w)),w={type:"script",instance:w,count:1,state:null},h.set(m,w))}}function vN(i,a,u,h){var m=(m=pe.current)?Om(m):null;if(!m)throw Error(r(446));switch(i){case"meta":case"title":return null;case"style":return typeof u.precedence=="string"&&typeof u.href=="string"?(a=Bu(u.href),u=ia(m).hoistableStyles,h=u.get(a),h||(h={type:"style",instance:null,count:0,state:null},u.set(a,h)),h):{type:"void",instance:null,count:0,state:null};case"link":if(u.rel==="stylesheet"&&typeof u.href=="string"&&typeof u.precedence=="string"){i=Bu(u.href);var w=ia(m).hoistableStyles,A=w.get(i);if(A||(m=m.ownerDocument||m,A={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},w.set(i,A),(w=m.querySelector(rd(i)))&&!w._p&&(A.instance=w,A.state.loading=5),Ts.has(i)||(u={rel:"preload",as:"style",href:u.href,crossOrigin:u.crossOrigin,integrity:u.integrity,media:u.media,hrefLang:u.hrefLang,referrerPolicy:u.referrerPolicy},Ts.set(i,u),w||UB(m,i,u,A.state))),a&&h===null)throw Error(r(528,""));return A}if(a&&h!==null)throw Error(r(529,""));return null;case"script":return a=u.async,u=u.src,typeof u=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=Lu(u),u=ia(m).hoistableScripts,h=u.get(a),h||(h={type:"script",instance:null,count:0,state:null},u.set(a,h)),h):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,i))}}function Bu(i){return'href="'+Er(i)+'"'}function rd(i){return'link[rel="stylesheet"]['+i+"]"}function EN(i){return g({},i,{"data-precedence":i.precedence,precedence:null})}function UB(i,a,u,h){i.querySelector('link[rel="preload"][as="style"]['+a+"]")?h.loading=1:(a=i.createElement("link"),h.preload=a,a.addEventListener("load",function(){return h.loading|=1}),a.addEventListener("error",function(){return h.loading|=2}),kn(a,"link",u),hn(a),i.head.appendChild(a))}function Lu(i){return'[src="'+Er(i)+'"]'}function sd(i){return"script[async]"+i}function SN(i,a,u){if(a.count++,a.instance===null)switch(a.type){case"style":var h=i.querySelector('style[data-href~="'+Er(u.href)+'"]');if(h)return a.instance=h,hn(h),h;var m=g({},u,{"data-href":u.href,"data-precedence":u.precedence,href:null,precedence:null});return h=(i.ownerDocument||i).createElement("style"),hn(h),kn(h,"style",m),Dm(h,u.precedence,i),a.instance=h;case"stylesheet":m=Bu(u.href);var w=i.querySelector(rd(m));if(w)return a.state.loading|=4,a.instance=w,hn(w),w;h=EN(u),(m=Ts.get(m))&&lb(h,m),w=(i.ownerDocument||i).createElement("link"),hn(w);var A=w;return A._p=new Promise(function($,F){A.onload=$,A.onerror=F}),kn(w,"link",h),a.state.loading|=4,Dm(w,u.precedence,i),a.instance=w;case"script":return w=Lu(u.src),(m=i.querySelector(sd(w)))?(a.instance=m,hn(m),m):(h=u,(m=Ts.get(w))&&(h=g({},u),ub(h,m)),i=i.ownerDocument||i,m=i.createElement("script"),hn(m),kn(m,"link",h),i.head.appendChild(m),a.instance=m);case"void":return null;default:throw Error(r(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(h=a.instance,a.state.loading|=4,Dm(h,u.precedence,i));return a.instance}function Dm(i,a,u){for(var h=u.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),m=h.length?h[h.length-1]:null,w=m,A=0;A<h.length;A++){var $=h[A];if($.dataset.precedence===a)w=$;else if(w!==m)break}w?w.parentNode.insertBefore(i,w.nextSibling):(a=u.nodeType===9?u.head:u,a.insertBefore(i,a.firstChild))}function lb(i,a){i.crossOrigin==null&&(i.crossOrigin=a.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=a.referrerPolicy),i.title==null&&(i.title=a.title)}function ub(i,a){i.crossOrigin==null&&(i.crossOrigin=a.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=a.referrerPolicy),i.integrity==null&&(i.integrity=a.integrity)}var Mm=null;function AN(i,a,u){if(Mm===null){var h=new Map,m=Mm=new Map;m.set(u,h)}else m=Mm,h=m.get(u),h||(h=new Map,m.set(u,h));if(h.has(i))return h;for(h.set(i,null),u=u.getElementsByTagName(i),m=0;m<u.length;m++){var w=u[m];if(!(w[xc]||w[vn]||i==="link"&&w.getAttribute("rel")==="stylesheet")&&w.namespaceURI!=="http://www.w3.org/2000/svg"){var A=w.getAttribute(a)||"";A=i+A;var $=h.get(A);$?$.push(w):h.set(A,[w])}}return h}function CN(i,a,u){i=i.ownerDocument||i,i.head.insertBefore(u,a==="title"?i.querySelector("head > title"):null)}function RB(i,a,u){if(u===1||a.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;switch(a.rel){case"stylesheet":return i=a.disabled,typeof a.precedence=="string"&&i==null;default:return!0}case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function xN(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}function PB(i,a,u,h){if(u.type==="stylesheet"&&(typeof h.media!="string"||matchMedia(h.media).matches!==!1)&&(u.state.loading&4)===0){if(u.instance===null){var m=Bu(h.href),w=a.querySelector(rd(m));if(w){a=w._p,a!==null&&typeof a=="object"&&typeof a.then=="function"&&(i.count++,i=$m.bind(i),a.then(i,i)),u.state.loading|=4,u.instance=w,hn(w);return}w=a.ownerDocument||a,h=EN(h),(m=Ts.get(m))&&lb(h,m),w=w.createElement("link"),hn(w);var A=w;A._p=new Promise(function($,F){A.onload=$,A.onerror=F}),kn(w,"link",h),u.instance=w}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(u,a),(a=u.state.preload)&&(u.state.loading&3)===0&&(i.count++,u=$m.bind(i),a.addEventListener("load",u),a.addEventListener("error",u))}}var fb=0;function BB(i,a){return i.stylesheets&&i.count===0&&Rm(i,i.stylesheets),0<i.count||0<i.imgCount?function(u){var h=setTimeout(function(){if(i.stylesheets&&Rm(i,i.stylesheets),i.unsuspend){var w=i.unsuspend;i.unsuspend=null,w()}},6e4+a);0<i.imgBytes&&fb===0&&(fb=62500*yB());var m=setTimeout(function(){if(i.waitingForImages=!1,i.count===0&&(i.stylesheets&&Rm(i,i.stylesheets),i.unsuspend)){var w=i.unsuspend;i.unsuspend=null,w()}},(i.imgBytes>fb?50:800)+a);return i.unsuspend=u,function(){i.unsuspend=null,clearTimeout(h),clearTimeout(m)}}:null}function $m(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Rm(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var Um=null;function Rm(i,a){i.stylesheets=null,i.unsuspend!==null&&(i.count++,Um=new Map,a.forEach(LB,i),Um=null,$m.call(i))}function LB(i,a){if(!(a.state.loading&4)){var u=Um.get(i);if(u)var h=u.get(null);else{u=new Map,Um.set(i,u);for(var m=i.querySelectorAll("link[data-precedence],style[data-precedence]"),w=0;w<m.length;w++){var A=m[w];(A.nodeName==="LINK"||A.getAttribute("media")!=="not all")&&(u.set(A.dataset.precedence,A),h=A)}h&&u.set(null,h)}m=a.instance,A=m.getAttribute("data-precedence"),w=u.get(A)||h,w===h&&u.set(null,m),u.set(A,m),this.count++,h=$m.bind(this),m.addEventListener("load",h),m.addEventListener("error",h),w?w.parentNode.insertBefore(m,w.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(m,i.firstChild)),a.state.loading|=4}}var id={$$typeof:x,Provider:null,Consumer:null,_currentValue:q,_currentValue2:q,_threadCount:0};function kB(i,a,u,h,m,w,A,$,F){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Jl(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Jl(0),this.hiddenUpdates=Jl(null),this.identifierPrefix=h,this.onUncaughtError=m,this.onCaughtError=w,this.onRecoverableError=A,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=F,this.incompleteTransitions=new Map}function NN(i,a,u,h,m,w,A,$,F,ee,oe,ce){return i=new kB(i,a,u,A,F,ee,oe,ce,$),a=1,w===!0&&(a|=24),w=Gr(3,null,null,a),i.current=w,w.stateNode=i,a=qw(),a.refCount++,i.pooledCache=a,a.refCount++,w.memoizedState={element:h,isDehydrated:u,cache:a},Gw(w),i}function TN(i){return i?(i=gu,i):gu}function _N(i,a,u,h,m,w){m=TN(m),h.context===null?h.context=m:h.pendingContext=m,h=pa(a),h.payload={element:u},w=w===void 0?null:w,w!==null&&(h.callback=w),u=ga(i,h,a),u!==null&&(Nr(u,i,a),Bh(u,i,a))}function IN(i,a){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var u=i.retryLane;i.retryLane=u!==0&&u<a?u:a}}function hb(i,a){IN(i,a),(i=i.alternate)&&IN(i,a)}function ON(i){if(i.tag===13||i.tag===31){var a=$c(i,67108864);a!==null&&Nr(a,i,67108864),hb(i,67108864)}}function DN(i){if(i.tag===13||i.tag===31){var a=Jr();a=ph(a);var u=$c(i,a);u!==null&&Nr(u,i,a),hb(i,a)}}var Pm=!0;function jB(i,a,u,h){var m=_.T;_.T=null;var w=j.p;try{j.p=2,db(i,a,u,h)}finally{j.p=w,_.T=m}}function zB(i,a,u,h){var m=_.T;_.T=null;var w=j.p;try{j.p=8,db(i,a,u,h)}finally{j.p=w,_.T=m}}function db(i,a,u,h){if(Pm){var m=pb(h);if(m===null)J1(i,a,h,Bm,u),$N(i,h);else if(FB(m,i,a,u,h))h.stopPropagation();else if($N(i,h),a&4&&-1<HB.indexOf(i)){for(;m!==null;){var w=sa(m);if(w!==null)switch(w.tag){case 3:if(w=w.stateNode,w.current.memoizedState.isDehydrated){var A=ao(w.pendingLanes);if(A!==0){var $=w;for($.pendingLanes|=2,$.entangledLanes|=2;A;){var F=1<<31-hr(A);$.entanglements[1]|=F,A&=~F}Di(w),(gt&6)===0&&(bm=zt()+500,Jh(0))}}break;case 31:case 13:$=$c(w,2),$!==null&&Nr($,w,2),Em(),hb(w,2)}if(w=pb(h),w===null&&J1(i,a,h,Bm,u),w===m)break;m=w}m!==null&&h.stopPropagation()}else J1(i,a,h,null,u)}}function pb(i){return i=Sh(i),gb(i)}var Bm=null;function gb(i){if(Bm=null,i=Wr(i),i!==null){var a=o(i);if(a===null)i=null;else{var u=a.tag;if(u===13){if(i=c(a),i!==null)return i;i=null}else if(u===31){if(i=l(a),i!==null)return i;i=null}else if(u===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;i=null}else a!==i&&(i=null)}}return Bm=i,null}function MN(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(io()){case vc:return 2;case Ec:return 8;case oo:case Xl:return 32;case Zl:return 268435456;default:return 32}default:return 32}}var mb=!1,Na=null,Ta=null,_a=null,od=new Map,ad=new Map,Ia=[],HB="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function $N(i,a){switch(i){case"focusin":case"focusout":Na=null;break;case"dragenter":case"dragleave":Ta=null;break;case"mouseover":case"mouseout":_a=null;break;case"pointerover":case"pointerout":od.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":ad.delete(a.pointerId)}}function cd(i,a,u,h,m,w){return i===null||i.nativeEvent!==w?(i={blockedOn:a,domEventName:u,eventSystemFlags:h,nativeEvent:w,targetContainers:[m]},a!==null&&(a=sa(a),a!==null&&ON(a)),i):(i.eventSystemFlags|=h,a=i.targetContainers,m!==null&&a.indexOf(m)===-1&&a.push(m),i)}function FB(i,a,u,h,m){switch(a){case"focusin":return Na=cd(Na,i,a,u,h,m),!0;case"dragenter":return Ta=cd(Ta,i,a,u,h,m),!0;case"mouseover":return _a=cd(_a,i,a,u,h,m),!0;case"pointerover":var w=m.pointerId;return od.set(w,cd(od.get(w)||null,i,a,u,h,m)),!0;case"gotpointercapture":return w=m.pointerId,ad.set(w,cd(ad.get(w)||null,i,a,u,h,m)),!0}return!1}function UN(i){var a=Wr(i.target);if(a!==null){var u=o(a);if(u!==null){if(a=u.tag,a===13){if(a=c(u),a!==null){i.blockedOn=a,Og(i.priority,function(){DN(u)});return}}else if(a===31){if(a=l(u),a!==null){i.blockedOn=a,Og(i.priority,function(){DN(u)});return}}else if(a===3&&u.stateNode.current.memoizedState.isDehydrated){i.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Lm(i){if(i.blockedOn!==null)return!1;for(var a=i.targetContainers;0<a.length;){var u=pb(i.nativeEvent);if(u===null){u=i.nativeEvent;var h=new u.constructor(u.type,u);Qs=h,u.target.dispatchEvent(h),Qs=null}else return a=sa(u),a!==null&&ON(a),i.blockedOn=u,!1;a.shift()}return!0}function RN(i,a,u){Lm(i)&&u.delete(a)}function qB(){mb=!1,Na!==null&&Lm(Na)&&(Na=null),Ta!==null&&Lm(Ta)&&(Ta=null),_a!==null&&Lm(_a)&&(_a=null),od.forEach(RN),ad.forEach(RN)}function km(i,a){i.blockedOn===a&&(i.blockedOn=null,mb||(mb=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,qB)))}var jm=null;function PN(i){jm!==i&&(jm=i,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){jm===i&&(jm=null);for(var a=0;a<i.length;a+=3){var u=i[a],h=i[a+1],m=i[a+2];if(typeof h!="function"){if(gb(h||u)===null)continue;break}var w=sa(u);w!==null&&(i.splice(a,3),a-=3,p1(w,{pending:!0,data:m,method:u.method,action:h},h,m))}}))}function ku(i){function a(F){return km(F,i)}Na!==null&&km(Na,i),Ta!==null&&km(Ta,i),_a!==null&&km(_a,i),od.forEach(a),ad.forEach(a);for(var u=0;u<Ia.length;u++){var h=Ia[u];h.blockedOn===i&&(h.blockedOn=null)}for(;0<Ia.length&&(u=Ia[0],u.blockedOn===null);)UN(u),u.blockedOn===null&&Ia.shift();if(u=(i.ownerDocument||i).$$reactFormReplay,u!=null)for(h=0;h<u.length;h+=3){var m=u[h],w=u[h+1],A=m[Jn]||null;if(typeof w=="function")A||PN(u);else if(A){var $=null;if(w&&w.hasAttribute("formAction")){if(m=w,A=w[Jn]||null)$=A.formAction;else if(gb(m)!==null)continue}else $=A.action;typeof $=="function"?u[h+1]=$:(u.splice(h,3),h-=3),PN(u)}}}function BN(){function i(w){w.canIntercept&&w.info==="react-transition"&&w.intercept({handler:function(){return new Promise(function(A){return m=A})},focusReset:"manual",scroll:"manual"})}function a(){m!==null&&(m(),m=null),h||setTimeout(u,20)}function u(){if(!h&&!navigation.transition){var w=navigation.currentEntry;w&&w.url!=null&&navigation.navigate(w.url,{state:w.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var h=!1,m=null;return navigation.addEventListener("navigate",i),navigation.addEventListener("navigatesuccess",a),navigation.addEventListener("navigateerror",a),setTimeout(u,100),function(){h=!0,navigation.removeEventListener("navigate",i),navigation.removeEventListener("navigatesuccess",a),navigation.removeEventListener("navigateerror",a),m!==null&&(m(),m=null)}}}function yb(i){this._internalRoot=i}zm.prototype.render=yb.prototype.render=function(i){var a=this._internalRoot;if(a===null)throw Error(r(409));var u=a.current,h=Jr();_N(u,h,i,a,null,null)},zm.prototype.unmount=yb.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var a=i.containerInfo;_N(i.current,2,null,i,null,null),Em(),a[ra]=null}};function zm(i){this._internalRoot=i}zm.prototype.unstable_scheduleHydration=function(i){if(i){var a=ys();i={blockedOn:null,target:i,priority:a};for(var u=0;u<Ia.length&&a!==0&&a<Ia[u].priority;u++);Ia.splice(u,0,i),u===0&&UN(i)}};var LN=t.version;if(LN!=="19.2.0")throw Error(r(527,LN,"19.2.0"));j.findDOMNode=function(i){var a=i._reactInternals;if(a===void 0)throw typeof i.render=="function"?Error(r(188)):(i=Object.keys(i).join(","),Error(r(268,i)));return i=d(a),i=i!==null?p(i):null,i=i===null?null:i.stateNode,i};var VB={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:_,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Hm=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Hm.isDisabled&&Hm.supportsFiber)try{Sc=Hm.inject(VB),Qn=Hm}catch{}}return ud.createRoot=function(i,a){if(!s(i))throw Error(r(299));var u=!1,h="",m=Vx,w=Wx,A=Kx;return a!=null&&(a.unstable_strictMode===!0&&(u=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(m=a.onUncaughtError),a.onCaughtError!==void 0&&(w=a.onCaughtError),a.onRecoverableError!==void 0&&(A=a.onRecoverableError)),a=NN(i,1,!1,null,null,u,h,null,m,w,A,BN),i[ra]=a.current,Q1(i),new yb(a)},ud.hydrateRoot=function(i,a,u){if(!s(i))throw Error(r(299));var h=!1,m="",w=Vx,A=Wx,$=Kx,F=null;return u!=null&&(u.unstable_strictMode===!0&&(h=!0),u.identifierPrefix!==void 0&&(m=u.identifierPrefix),u.onUncaughtError!==void 0&&(w=u.onUncaughtError),u.onCaughtError!==void 0&&(A=u.onCaughtError),u.onRecoverableError!==void 0&&($=u.onRecoverableError),u.formState!==void 0&&(F=u.formState)),a=NN(i,1,!0,a,u??null,h,m,F,w,A,$,BN),a.context=TN(null),u=a.current,h=Jr(),h=ph(h),m=pa(h),m.callback=null,ga(u,m,h),u=h,a.current.lanes=u,na(a,u),Di(a),i[ra]=a.current,Q1(i),new zm(a)},ud.version="19.2.0",ud}var GN;function nL(){if(GN)return vb.exports;GN=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),vb.exports=tL(),vb.exports}var rL=nL();const sL=Yf(rL),h6=me.createContext(),Xf=()=>{const e=me.useContext(h6);if(!e)throw new Error("useGame must be used within GameProvider");return e},iL=({children:e})=>{const[t,n]=me.useState(!1),[r,s]=me.useState(""),[o,c]=me.useState(0),[l,f]=me.useState(0),[d,p]=me.useState(0),[g,y]=me.useState(1),[b,v]=me.useState(0),[E,S]=me.useState([]),[C,O]=me.useState(!1),[x,N]=me.useState([]);me.useEffect(()=>{const H=localStorage.getItem("blockQuestData");if(H){const X=JSON.parse(H);c(X.coins||0),f(X.crystals||0),p(X.traps||0),y(X.level||1),v(X.xp||0),S(X.minedBlocks||[]),O(X.questPassMinted||!1),N(X.questBadges||[])}},[]),me.useEffect(()=>{const H={coins:o,crystals:l,traps:d,level:g,xp:b,minedBlocks:E,questPassMinted:C,questBadges:x};localStorage.setItem("blockQuestData",JSON.stringify(H))},[o,l,d,g,b,E,C,x]);const B={walletConnected:t,walletAddress:r,coins:o,crystals:l,traps:d,level:g,xp:b,minedBlocks:E,questPassMinted:C,questBadges:x,mineBlock:H=>{if(E.includes(H))return null;const X=Math.random();let Y,M=0;X<.6?(Y="coin",c(q=>q+10),M=10):X<.8?(Y="crystal",f(q=>q+1),M=50):X<.95?(Y="empty",M=5):(Y="trap",p(q=>q+1),M=-20),S(q=>[...q,H]);const _=Math.max(0,b+M);v(_);const j=g*500;return _>=j?(y(q=>q+1),v(0),{result:Y,levelUp:!0,newLevel:g+1}):{result:Y,levelUp:!1}},resetGame:()=>{c(0),f(0),p(0),y(1),v(0),S([]),localStorage.removeItem("blockQuestData")},connectWallet:H=>{n(!0),s(H)},disconnectWallet:()=>{n(!1),s("")},mintQuestPass:()=>{O(!0)},mintQuestBadge:H=>{N(X=>[...X,{level:H,timestamp:Date.now()}])}};return Q.jsx(h6.Provider,{value:B,children:e})},cS=me.createContext({});function lS(e){const t=me.useRef(null);return t.current===null&&(t.current=e()),t.current}const uS=typeof window<"u",d6=uS?me.useLayoutEffect:me.useEffect,Oy=me.createContext(null);function fS(e,t){e.indexOf(t)===-1&&e.push(t)}function hS(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const Wo=(e,t,n)=>n>t?t:n<e?e:n;let dS=()=>{};const Ko={},p6=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function g6(e){return typeof e=="object"&&e!==null}const m6=e=>/^0[^.\s]+$/u.test(e);function pS(e){let t;return()=>(t===void 0&&(t=e()),t)}const Hs=e=>e,oL=(e,t)=>n=>t(e(n)),ng=(...e)=>e.reduce(oL),lp=(e,t,n)=>{const r=t-e;return r===0?1:(n-e)/r};class gS{constructor(){this.subscriptions=[]}add(t){return fS(this.subscriptions,t),()=>hS(this.subscriptions,t)}notify(t,n,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](t,n,r);else for(let o=0;o<s;o++){const c=this.subscriptions[o];c&&c(t,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Ki=e=>e*1e3,js=e=>e/1e3;function y6(e,t){return t?e*(1e3/t):0}const w6=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,aL=1e-7,cL=12;function lL(e,t,n,r,s){let o,c,l=0;do c=t+(n-t)/2,o=w6(c,r,s)-e,o>0?n=c:t=c;while(Math.abs(o)>aL&&++l<cL);return c}function rg(e,t,n,r){if(e===t&&n===r)return Hs;const s=o=>lL(o,0,1,e,n);return o=>o===0||o===1?o:w6(s(o),t,r)}const b6=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,v6=e=>t=>1-e(1-t),E6=rg(.33,1.53,.69,.99),mS=v6(E6),S6=b6(mS),A6=e=>(e*=2)<1?.5*mS(e):.5*(2-Math.pow(2,-10*(e-1))),yS=e=>1-Math.sin(Math.acos(e)),C6=v6(yS),x6=b6(yS),uL=rg(.42,0,1,1),fL=rg(0,0,.58,1),N6=rg(.42,0,.58,1),hL=e=>Array.isArray(e)&&typeof e[0]!="number",T6=e=>Array.isArray(e)&&typeof e[0]=="number",dL={linear:Hs,easeIn:uL,easeInOut:N6,easeOut:fL,circIn:yS,circInOut:x6,circOut:C6,backIn:mS,backInOut:S6,backOut:E6,anticipate:A6},pL=e=>typeof e=="string",YN=e=>{if(T6(e)){dS(e.length===4);const[t,n,r,s]=e;return rg(t,n,r,s)}else if(pL(e))return dL[e];return e},Fm=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function gL(e,t){let n=new Set,r=new Set,s=!1,o=!1;const c=new WeakSet;let l={delta:0,timestamp:0,isProcessing:!1};function f(p){c.has(p)&&(d.schedule(p),e()),p(l)}const d={schedule:(p,g=!1,y=!1)=>{const v=y&&s?n:r;return g&&c.add(p),v.has(p)||v.add(p),p},cancel:p=>{r.delete(p),c.delete(p)},process:p=>{if(l=p,s){o=!0;return}s=!0,[n,r]=[r,n],n.forEach(f),n.clear(),s=!1,o&&(o=!1,d.process(p))}};return d}const mL=40;function _6(e,t){let n=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},o=()=>n=!0,c=Fm.reduce((x,N)=>(x[N]=gL(o),x),{}),{setup:l,read:f,resolveKeyframes:d,preUpdate:p,update:g,preRender:y,render:b,postRender:v}=c,E=()=>{const x=Ko.useManualTiming?s.timestamp:performance.now();n=!1,Ko.useManualTiming||(s.delta=r?1e3/60:Math.max(Math.min(x-s.timestamp,mL),1)),s.timestamp=x,s.isProcessing=!0,l.process(s),f.process(s),d.process(s),p.process(s),g.process(s),y.process(s),b.process(s),v.process(s),s.isProcessing=!1,n&&t&&(r=!1,e(E))},S=()=>{n=!0,r=!0,s.isProcessing||e(E)};return{schedule:Fm.reduce((x,N)=>{const T=c[N];return x[N]=(I,R=!1,L=!1)=>(n||S(),T.schedule(I,R,L)),x},{}),cancel:x=>{for(let N=0;N<Fm.length;N++)c[Fm[N]].cancel(x)},state:s,steps:c}}const{schedule:Zt,cancel:lc,state:Fn,steps:Cb}=_6(typeof requestAnimationFrame<"u"?requestAnimationFrame:Hs,!0);let D0;function yL(){D0=void 0}const Lr={now:()=>(D0===void 0&&Lr.set(Fn.isProcessing||Ko.useManualTiming?Fn.timestamp:performance.now()),D0),set:e=>{D0=e,queueMicrotask(yL)}},I6=e=>t=>typeof t=="string"&&t.startsWith(e),wS=I6("--"),wL=I6("var(--"),bS=e=>wL(e)?bL.test(e.split("/*")[0].trim()):!1,bL=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Zf={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},up={...Zf,transform:e=>Wo(0,1,e)},qm={...Zf,default:1},Hd=e=>Math.round(e*1e5)/1e5,vS=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function vL(e){return e==null}const EL=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,ES=(e,t)=>n=>!!(typeof n=="string"&&EL.test(n)&&n.startsWith(e)||t&&!vL(n)&&Object.prototype.hasOwnProperty.call(n,t)),O6=(e,t,n)=>r=>{if(typeof r!="string")return r;const[s,o,c,l]=r.match(vS);return{[e]:parseFloat(s),[t]:parseFloat(o),[n]:parseFloat(c),alpha:l!==void 0?parseFloat(l):1}},SL=e=>Wo(0,255,e),xb={...Zf,transform:e=>Math.round(SL(e))},fl={test:ES("rgb","red"),parse:O6("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+xb.transform(e)+", "+xb.transform(t)+", "+xb.transform(n)+", "+Hd(up.transform(r))+")"};function AL(e){let t="",n="",r="",s="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),s=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),s=e.substring(4,5),t+=t,n+=n,r+=r,s+=s),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const i2={test:ES("#"),parse:AL,transform:fl.transform},sg=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Va=sg("deg"),Gi=sg("%"),je=sg("px"),CL=sg("vh"),xL=sg("vw"),XN={...Gi,parse:e=>Gi.parse(e)/100,transform:e=>Gi.transform(e*100)},df={test:ES("hsl","hue"),parse:O6("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+Gi.transform(Hd(t))+", "+Gi.transform(Hd(n))+", "+Hd(up.transform(r))+")"},wn={test:e=>fl.test(e)||i2.test(e)||df.test(e),parse:e=>fl.test(e)?fl.parse(e):df.test(e)?df.parse(e):i2.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?fl.transform(e):df.transform(e),getAnimatableNone:e=>{const t=wn.parse(e);return t.alpha=0,wn.transform(t)}},NL=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function TL(e){return isNaN(e)&&typeof e=="string"&&(e.match(vS)?.length||0)+(e.match(NL)?.length||0)>0}const D6="number",M6="color",_L="var",IL="var(",ZN="${}",OL=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function fp(e){const t=e.toString(),n=[],r={color:[],number:[],var:[]},s=[];let o=0;const l=t.replace(OL,f=>(wn.test(f)?(r.color.push(o),s.push(M6),n.push(wn.parse(f))):f.startsWith(IL)?(r.var.push(o),s.push(_L),n.push(f)):(r.number.push(o),s.push(D6),n.push(parseFloat(f))),++o,ZN)).split(ZN);return{values:n,split:l,indexes:r,types:s}}function $6(e){return fp(e).values}function U6(e){const{split:t,types:n}=fp(e),r=t.length;return s=>{let o="";for(let c=0;c<r;c++)if(o+=t[c],s[c]!==void 0){const l=n[c];l===D6?o+=Hd(s[c]):l===M6?o+=wn.transform(s[c]):o+=s[c]}return o}}const DL=e=>typeof e=="number"?0:wn.test(e)?wn.getAnimatableNone(e):e;function ML(e){const t=$6(e);return U6(e)(t.map(DL))}const uc={test:TL,parse:$6,createTransformer:U6,getAnimatableNone:ML};function Nb(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function $L({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let s=0,o=0,c=0;if(!t)s=o=c=n;else{const l=n<.5?n*(1+t):n+t-n*t,f=2*n-l;s=Nb(f,l,e+1/3),o=Nb(f,l,e),c=Nb(f,l,e-1/3)}return{red:Math.round(s*255),green:Math.round(o*255),blue:Math.round(c*255),alpha:r}}function Y0(e,t){return n=>n>0?t:e}const Qt=(e,t,n)=>e+(t-e)*n,Tb=(e,t,n)=>{const r=e*e,s=n*(t*t-r)+r;return s<0?0:Math.sqrt(s)},UL=[i2,fl,df],RL=e=>UL.find(t=>t.test(e));function QN(e){const t=RL(e);if(!t)return!1;let n=t.parse(e);return t===df&&(n=$L(n)),n}const JN=(e,t)=>{const n=QN(e),r=QN(t);if(!n||!r)return Y0(e,t);const s={...n};return o=>(s.red=Tb(n.red,r.red,o),s.green=Tb(n.green,r.green,o),s.blue=Tb(n.blue,r.blue,o),s.alpha=Qt(n.alpha,r.alpha,o),fl.transform(s))},o2=new Set(["none","hidden"]);function PL(e,t){return o2.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function BL(e,t){return n=>Qt(e,t,n)}function SS(e){return typeof e=="number"?BL:typeof e=="string"?bS(e)?Y0:wn.test(e)?JN:jL:Array.isArray(e)?R6:typeof e=="object"?wn.test(e)?JN:LL:Y0}function R6(e,t){const n=[...e],r=n.length,s=e.map((o,c)=>SS(o)(o,t[c]));return o=>{for(let c=0;c<r;c++)n[c]=s[c](o);return n}}function LL(e,t){const n={...e,...t},r={};for(const s in n)e[s]!==void 0&&t[s]!==void 0&&(r[s]=SS(e[s])(e[s],t[s]));return s=>{for(const o in r)n[o]=r[o](s);return n}}function kL(e,t){const n=[],r={color:0,var:0,number:0};for(let s=0;s<t.values.length;s++){const o=t.types[s],c=e.indexes[o][r[o]],l=e.values[c]??0;n[s]=l,r[o]++}return n}const jL=(e,t)=>{const n=uc.createTransformer(t),r=fp(e),s=fp(t);return r.indexes.var.length===s.indexes.var.length&&r.indexes.color.length===s.indexes.color.length&&r.indexes.number.length>=s.indexes.number.length?o2.has(e)&&!s.values.length||o2.has(t)&&!r.values.length?PL(e,t):ng(R6(kL(r,s),s.values),n):Y0(e,t)};function P6(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?Qt(e,t,n):SS(e)(e,t)}const zL=e=>{const t=({timestamp:n})=>e(n);return{start:(n=!0)=>Zt.update(t,n),stop:()=>lc(t),now:()=>Fn.isProcessing?Fn.timestamp:Lr.now()}},B6=(e,t,n=10)=>{let r="";const s=Math.max(Math.round(t/n),2);for(let o=0;o<s;o++)r+=Math.round(e(o/(s-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},X0=2e4;function AS(e){let t=0;const n=50;let r=e.next(t);for(;!r.done&&t<X0;)t+=n,r=e.next(t);return t>=X0?1/0:t}function HL(e,t=100,n){const r=n({...e,keyframes:[0,t]}),s=Math.min(AS(r),X0);return{type:"keyframes",ease:o=>r.next(s*o).value/t,duration:js(s)}}const FL=5;function L6(e,t,n){const r=Math.max(t-FL,0);return y6(n-e(r),t-r)}const nn={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},_b=.001;function qL({duration:e=nn.duration,bounce:t=nn.bounce,velocity:n=nn.velocity,mass:r=nn.mass}){let s,o,c=1-t;c=Wo(nn.minDamping,nn.maxDamping,c),e=Wo(nn.minDuration,nn.maxDuration,js(e)),c<1?(s=d=>{const p=d*c,g=p*e,y=p-n,b=a2(d,c),v=Math.exp(-g);return _b-y/b*v},o=d=>{const g=d*c*e,y=g*n+n,b=Math.pow(c,2)*Math.pow(d,2)*e,v=Math.exp(-g),E=a2(Math.pow(d,2),c);return(-s(d)+_b>0?-1:1)*((y-b)*v)/E}):(s=d=>{const p=Math.exp(-d*e),g=(d-n)*e+1;return-_b+p*g},o=d=>{const p=Math.exp(-d*e),g=(n-d)*(e*e);return p*g});const l=5/e,f=WL(s,o,l);if(e=Ki(e),isNaN(f))return{stiffness:nn.stiffness,damping:nn.damping,duration:e};{const d=Math.pow(f,2)*r;return{stiffness:d,damping:c*2*Math.sqrt(r*d),duration:e}}}const VL=12;function WL(e,t,n){let r=n;for(let s=1;s<VL;s++)r=r-e(r)/t(r);return r}function a2(e,t){return e*Math.sqrt(1-t*t)}const KL=["duration","bounce"],GL=["stiffness","damping","mass"];function e4(e,t){return t.some(n=>e[n]!==void 0)}function YL(e){let t={velocity:nn.velocity,stiffness:nn.stiffness,damping:nn.damping,mass:nn.mass,isResolvedFromDuration:!1,...e};if(!e4(e,GL)&&e4(e,KL))if(e.visualDuration){const n=e.visualDuration,r=2*Math.PI/(n*1.2),s=r*r,o=2*Wo(.05,1,1-(e.bounce||0))*Math.sqrt(s);t={...t,mass:nn.mass,stiffness:s,damping:o}}else{const n=qL(e);t={...t,...n,mass:nn.mass},t.isResolvedFromDuration=!0}return t}function Z0(e=nn.visualDuration,t=nn.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:r,restDelta:s}=n;const o=n.keyframes[0],c=n.keyframes[n.keyframes.length-1],l={done:!1,value:o},{stiffness:f,damping:d,mass:p,duration:g,velocity:y,isResolvedFromDuration:b}=YL({...n,velocity:-js(n.velocity||0)}),v=y||0,E=d/(2*Math.sqrt(f*p)),S=c-o,C=js(Math.sqrt(f/p)),O=Math.abs(S)<5;r||(r=O?nn.restSpeed.granular:nn.restSpeed.default),s||(s=O?nn.restDelta.granular:nn.restDelta.default);let x;if(E<1){const T=a2(C,E);x=I=>{const R=Math.exp(-E*C*I);return c-R*((v+E*C*S)/T*Math.sin(T*I)+S*Math.cos(T*I))}}else if(E===1)x=T=>c-Math.exp(-C*T)*(S+(v+C*S)*T);else{const T=C*Math.sqrt(E*E-1);x=I=>{const R=Math.exp(-E*C*I),L=Math.min(T*I,300);return c-R*((v+E*C*S)*Math.sinh(L)+T*S*Math.cosh(L))/T}}const N={calculatedDuration:b&&g||null,next:T=>{const I=x(T);if(b)l.done=T>=g;else{let R=T===0?v:0;E<1&&(R=T===0?Ki(v):L6(x,T,I));const L=Math.abs(R)<=r,U=Math.abs(c-I)<=s;l.done=L&&U}return l.value=l.done?c:I,l},toString:()=>{const T=Math.min(AS(N),X0),I=B6(R=>N.next(T*R).value,T,30);return T+"ms "+I},toTransition:()=>{}};return N}Z0.applyToOptions=e=>{const t=HL(e,100,Z0);return e.ease=t.ease,e.duration=Ki(t.duration),e.type="keyframes",e};function c2({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:o=500,modifyTarget:c,min:l,max:f,restDelta:d=.5,restSpeed:p}){const g=e[0],y={done:!1,value:g},b=L=>l!==void 0&&L<l||f!==void 0&&L>f,v=L=>l===void 0?f:f===void 0||Math.abs(l-L)<Math.abs(f-L)?l:f;let E=n*t;const S=g+E,C=c===void 0?S:c(S);C!==S&&(E=C-g);const O=L=>-E*Math.exp(-L/r),x=L=>C+O(L),N=L=>{const U=O(L),D=x(L);y.done=Math.abs(U)<=d,y.value=y.done?C:D};let T,I;const R=L=>{b(y.value)&&(T=L,I=Z0({keyframes:[y.value,v(y.value)],velocity:L6(x,L,y.value),damping:s,stiffness:o,restDelta:d,restSpeed:p}))};return R(0),{calculatedDuration:null,next:L=>{let U=!1;return!I&&T===void 0&&(U=!0,N(L),R(L)),T!==void 0&&L>=T?I.next(L-T):(!U&&N(L),y)}}}function XL(e,t,n){const r=[],s=n||Ko.mix||P6,o=e.length-1;for(let c=0;c<o;c++){let l=s(e[c],e[c+1]);if(t){const f=Array.isArray(t)?t[c]||Hs:t;l=ng(f,l)}r.push(l)}return r}function ZL(e,t,{clamp:n=!0,ease:r,mixer:s}={}){const o=e.length;if(dS(o===t.length),o===1)return()=>t[0];if(o===2&&t[0]===t[1])return()=>t[1];const c=e[0]===e[1];e[0]>e[o-1]&&(e=[...e].reverse(),t=[...t].reverse());const l=XL(t,r,s),f=l.length,d=p=>{if(c&&p<e[0])return t[0];let g=0;if(f>1)for(;g<e.length-2&&!(p<e[g+1]);g++);const y=lp(e[g],e[g+1],p);return l[g](y)};return n?p=>d(Wo(e[0],e[o-1],p)):d}function QL(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const s=lp(0,t,r);e.push(Qt(n,1,s))}}function JL(e){const t=[0];return QL(t,e.length-1),t}function ek(e,t){return e.map(n=>n*t)}function tk(e,t){return e.map(()=>t||N6).splice(0,e.length-1)}function Fd({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const s=hL(r)?r.map(YN):YN(r),o={done:!1,value:t[0]},c=ek(n&&n.length===t.length?n:JL(t),e),l=ZL(c,t,{ease:Array.isArray(s)?s:tk(t,s)});return{calculatedDuration:e,next:f=>(o.value=l(f),o.done=f>=e,o)}}const nk=e=>e!==null;function CS(e,{repeat:t,repeatType:n="loop"},r,s=1){const o=e.filter(nk),l=s<0||t&&n!=="loop"&&t%2===1?0:o.length-1;return!l||r===void 0?o[l]:r}const rk={decay:c2,inertia:c2,tween:Fd,keyframes:Fd,spring:Z0};function k6(e){typeof e.type=="string"&&(e.type=rk[e.type])}class xS{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,n){return this.finished.then(t,n)}}const sk=e=>e/100;class NS extends xS{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;n&&n.updatedAt!==Lr.now()&&this.tick(Lr.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;k6(t);const{type:n=Fd,repeat:r=0,repeatDelay:s=0,repeatType:o,velocity:c=0}=t;let{keyframes:l}=t;const f=n||Fd;f!==Fd&&typeof l[0]!="number"&&(this.mixKeyframes=ng(sk,P6(l[0],l[1])),l=[0,100]);const d=f({...t,keyframes:l});o==="mirror"&&(this.mirroredGenerator=f({...t,keyframes:[...l].reverse(),velocity:-c})),d.calculatedDuration===null&&(d.calculatedDuration=AS(d));const{calculatedDuration:p}=d;this.calculatedDuration=p,this.resolvedDuration=p+s,this.totalDuration=this.resolvedDuration*(r+1)-s,this.generator=d}updateTime(t){const n=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(t,n=!1){const{generator:r,totalDuration:s,mixKeyframes:o,mirroredGenerator:c,resolvedDuration:l,calculatedDuration:f}=this;if(this.startTime===null)return r.next(0);const{delay:d=0,keyframes:p,repeat:g,repeatType:y,repeatDelay:b,type:v,onUpdate:E,finalKeyframe:S}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-s/this.speed,this.startTime)),n?this.currentTime=t:this.updateTime(t);const C=this.currentTime-d*(this.playbackSpeed>=0?1:-1),O=this.playbackSpeed>=0?C<0:C>s;this.currentTime=Math.max(C,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=s);let x=this.currentTime,N=r;if(g){const L=Math.min(this.currentTime,s)/l;let U=Math.floor(L),D=L%1;!D&&L>=1&&(D=1),D===1&&U--,U=Math.min(U,g+1),!!(U%2)&&(y==="reverse"?(D=1-D,b&&(D-=b/l)):y==="mirror"&&(N=c)),x=Wo(0,1,D)*l}const T=O?{done:!1,value:p[0]}:N.next(x);o&&(T.value=o(T.value));let{done:I}=T;!O&&f!==null&&(I=this.playbackSpeed>=0?this.currentTime>=s:this.currentTime<=0);const R=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&I);return R&&v!==c2&&(T.value=CS(p,this.options,S,this.speed)),E&&E(T.value),R&&this.finish(),T}then(t,n){return this.finished.then(t,n)}get duration(){return js(this.calculatedDuration)}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+js(t)}get time(){return js(this.currentTime)}set time(t){t=Ki(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(Lr.now());const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=js(this.currentTime))}play(){if(this.isStopped)return;const{driver:t=zL,startTime:n}=this.options;this.driver||(this.driver=t(s=>this.tick(s))),this.options.onPlay?.();const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Lr.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),t.observe(this)}}function ik(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const hl=e=>e*180/Math.PI,l2=e=>{const t=hl(Math.atan2(e[1],e[0]));return u2(t)},ok={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:l2,rotateZ:l2,skewX:e=>hl(Math.atan(e[1])),skewY:e=>hl(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},u2=e=>(e=e%360,e<0&&(e+=360),e),t4=l2,n4=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),r4=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),ak={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:n4,scaleY:r4,scale:e=>(n4(e)+r4(e))/2,rotateX:e=>u2(hl(Math.atan2(e[6],e[5]))),rotateY:e=>u2(hl(Math.atan2(-e[2],e[0]))),rotateZ:t4,rotate:t4,skewX:e=>hl(Math.atan(e[4])),skewY:e=>hl(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function f2(e){return e.includes("scale")?1:0}function h2(e,t){if(!e||e==="none")return f2(t);const n=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,s;if(n)r=ak,s=n;else{const l=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=ok,s=l}if(!s)return f2(t);const o=r[t],c=s[1].split(",").map(lk);return typeof o=="function"?o(c):c[o]}const ck=(e,t)=>{const{transform:n="none"}=getComputedStyle(e);return h2(n,t)};function lk(e){return parseFloat(e.trim())}const Qf=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Jf=new Set(Qf),s4=e=>e===Zf||e===je,uk=new Set(["x","y","z"]),fk=Qf.filter(e=>!uk.has(e));function hk(e){const t=[];return fk.forEach(n=>{const r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t}const Sl={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>h2(t,"x"),y:(e,{transform:t})=>h2(t,"y")};Sl.translateX=Sl.x;Sl.translateY=Sl.y;const Al=new Set;let d2=!1,p2=!1,g2=!1;function j6(){if(p2){const e=Array.from(Al).filter(r=>r.needsMeasurement),t=new Set(e.map(r=>r.element)),n=new Map;t.forEach(r=>{const s=hk(r);s.length&&(n.set(r,s),r.render())}),e.forEach(r=>r.measureInitialState()),t.forEach(r=>{r.render();const s=n.get(r);s&&s.forEach(([o,c])=>{r.getValue(o)?.set(c)})}),e.forEach(r=>r.measureEndState()),e.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}p2=!1,d2=!1,Al.forEach(e=>e.complete(g2)),Al.clear()}function z6(){Al.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(p2=!0)})}function dk(){g2=!0,z6(),j6(),g2=!1}class TS{constructor(t,n,r,s,o,c=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=r,this.motionValue=s,this.element=o,this.isAsync=c}scheduleResolve(){this.state="scheduled",this.isAsync?(Al.add(this),d2||(d2=!0,Zt.read(z6),Zt.resolveKeyframes(j6))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:r,motionValue:s}=this;if(t[0]===null){const o=s?.get(),c=t[t.length-1];if(o!==void 0)t[0]=o;else if(r&&n){const l=r.readValue(n,c);l!=null&&(t[0]=l)}t[0]===void 0&&(t[0]=c),s&&o===void 0&&s.set(t[0])}ik(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),Al.delete(this)}cancel(){this.state==="scheduled"&&(Al.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const pk=e=>e.startsWith("--");function gk(e,t,n){pk(t)?e.style.setProperty(t,n):e.style[t]=n}const mk=pS(()=>window.ScrollTimeline!==void 0),yk={};function wk(e,t){const n=pS(e);return()=>yk[t]??n()}const H6=wk(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Ud=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,i4={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Ud([0,.65,.55,1]),circOut:Ud([.55,0,1,.45]),backIn:Ud([.31,.01,.66,-.59]),backOut:Ud([.33,1.53,.69,.99])};function F6(e,t){if(e)return typeof e=="function"?H6()?B6(e,t):"ease-out":T6(e)?Ud(e):Array.isArray(e)?e.map(n=>F6(n,t)||i4.easeOut):i4[e]}function bk(e,t,n,{delay:r=0,duration:s=300,repeat:o=0,repeatType:c="loop",ease:l="easeOut",times:f}={},d=void 0){const p={[t]:n};f&&(p.offset=f);const g=F6(l,s);Array.isArray(g)&&(p.easing=g);const y={delay:r,duration:s,easing:Array.isArray(g)?"linear":g,fill:"both",iterations:o+1,direction:c==="reverse"?"alternate":"normal"};return d&&(y.pseudoElement=d),e.animate(p,y)}function q6(e){return typeof e=="function"&&"applyToOptions"in e}function vk({type:e,...t}){return q6(e)&&H6()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class Ek extends xS{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:n,name:r,keyframes:s,pseudoElement:o,allowFlatten:c=!1,finalKeyframe:l,onComplete:f}=t;this.isPseudoElement=!!o,this.allowFlatten=c,this.options=t,dS(typeof t.type!="string");const d=vk(t);this.animation=bk(n,r,s,d,o),d.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!o){const p=CS(s,this.options,l,this.speed);this.updateMotionValue?this.updateMotionValue(p):gk(n,r,p),this.animation.cancel()}f?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const t=this.animation.effect?.getComputedTiming?.().duration||0;return js(Number(t))}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+js(t)}get time(){return js(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=Ki(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:n}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,t&&mk()?(this.animation.timeline=t,Hs):n(this)}}const V6={anticipate:A6,backInOut:S6,circInOut:x6};function Sk(e){return e in V6}function Ak(e){typeof e.ease=="string"&&Sk(e.ease)&&(e.ease=V6[e.ease])}const o4=10;class Ck extends Ek{constructor(t){Ak(t),k6(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:n,onUpdate:r,onComplete:s,element:o,...c}=this.options;if(!n)return;if(t!==void 0){n.set(t);return}const l=new NS({...c,autoplay:!1}),f=Ki(this.finishedTime??this.time);n.setWithVelocity(l.sample(f-o4).value,l.sample(f).value,o4),l.stop()}}const a4=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(uc.test(e)||e==="0")&&!e.startsWith("url("));function xk(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function Nk(e,t,n,r){const s=e[0];if(s===null)return!1;if(t==="display"||t==="visibility")return!0;const o=e[e.length-1],c=a4(s,t),l=a4(o,t);return!c||!l?!1:xk(e)||(n==="spring"||q6(n))&&r}function m2(e){e.duration=0,e.type="keyframes"}const Tk=new Set(["opacity","clipPath","filter","transform"]),_k=pS(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function Ik(e){const{motionValue:t,name:n,repeatDelay:r,repeatType:s,damping:o,type:c}=e;if(!(t?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:f,transformTemplate:d}=t.owner.getProps();return _k()&&n&&Tk.has(n)&&(n!=="transform"||!d)&&!f&&!r&&s!=="mirror"&&o!==0&&c!=="inertia"}const Ok=40;class Dk extends xS{constructor({autoplay:t=!0,delay:n=0,type:r="keyframes",repeat:s=0,repeatDelay:o=0,repeatType:c="loop",keyframes:l,name:f,motionValue:d,element:p,...g}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=Lr.now();const y={autoplay:t,delay:n,type:r,repeat:s,repeatDelay:o,repeatType:c,name:f,motionValue:d,element:p,...g},b=p?.KeyframeResolver||TS;this.keyframeResolver=new b(l,(v,E,S)=>this.onKeyframesResolved(v,E,y,!S),f,d,p),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(t,n,r,s){this.keyframeResolver=void 0;const{name:o,type:c,velocity:l,delay:f,isHandoff:d,onUpdate:p}=r;this.resolvedAt=Lr.now(),Nk(t,o,c,l)||((Ko.instantAnimations||!f)&&p?.(CS(t,r,n)),t[0]=t[t.length-1],m2(r),r.repeat=0);const y={startTime:s?this.resolvedAt?this.resolvedAt-this.createdAt>Ok?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:t},b=!d&&Ik(y)?new Ck({...y,element:y.motionValue.owner.current}):new NS(y);b.finished.then(()=>this.notifyFinished()).catch(Hs),this.pendingTimeline&&(this.stopTimeline=b.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=b}get finished(){return this._animation?this.animation.finished:this._finished}then(t,n){return this.finished.finally(t).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),dk()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const Mk=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function $k(e){const t=Mk.exec(e);if(!t)return[,];const[,n,r,s]=t;return[`--${n??r}`,s]}function W6(e,t,n=1){const[r,s]=$k(e);if(!r)return;const o=window.getComputedStyle(t).getPropertyValue(r);if(o){const c=o.trim();return p6(c)?parseFloat(c):c}return bS(s)?W6(s,t,n+1):s}function _S(e,t){return e?.[t]??e?.default??e}const K6=new Set(["width","height","top","left","right","bottom",...Qf]),Uk={test:e=>e==="auto",parse:e=>e},G6=e=>t=>t.test(e),Y6=[Zf,je,Gi,Va,xL,CL,Uk],c4=e=>Y6.find(G6(e));function Rk(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||m6(e):!0}const Pk=new Set(["brightness","contrast","saturate","opacity"]);function Bk(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=n.match(vS)||[];if(!r)return e;const s=n.replace(r,"");let o=Pk.has(t)?1:0;return r!==n&&(o*=100),t+"("+o+s+")"}const Lk=/\b([a-z-]*)\(.*?\)/gu,y2={...uc,getAnimatableNone:e=>{const t=e.match(Lk);return t?t.map(Bk).join(" "):e}},l4={...Zf,transform:Math.round},kk={rotate:Va,rotateX:Va,rotateY:Va,rotateZ:Va,scale:qm,scaleX:qm,scaleY:qm,scaleZ:qm,skew:Va,skewX:Va,skewY:Va,distance:je,translateX:je,translateY:je,translateZ:je,x:je,y:je,z:je,perspective:je,transformPerspective:je,opacity:up,originX:XN,originY:XN,originZ:je},IS={borderWidth:je,borderTopWidth:je,borderRightWidth:je,borderBottomWidth:je,borderLeftWidth:je,borderRadius:je,radius:je,borderTopLeftRadius:je,borderTopRightRadius:je,borderBottomRightRadius:je,borderBottomLeftRadius:je,width:je,maxWidth:je,height:je,maxHeight:je,top:je,right:je,bottom:je,left:je,padding:je,paddingTop:je,paddingRight:je,paddingBottom:je,paddingLeft:je,margin:je,marginTop:je,marginRight:je,marginBottom:je,marginLeft:je,backgroundPositionX:je,backgroundPositionY:je,...kk,zIndex:l4,fillOpacity:up,strokeOpacity:up,numOctaves:l4},jk={...IS,color:wn,backgroundColor:wn,outlineColor:wn,fill:wn,stroke:wn,borderColor:wn,borderTopColor:wn,borderRightColor:wn,borderBottomColor:wn,borderLeftColor:wn,filter:y2,WebkitFilter:y2},X6=e=>jk[e];function Z6(e,t){let n=X6(e);return n!==y2&&(n=uc),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const zk=new Set(["auto","none","0"]);function Hk(e,t,n){let r=0,s;for(;r<e.length&&!s;){const o=e[r];typeof o=="string"&&!zk.has(o)&&fp(o).values.length&&(s=e[r]),r++}if(s&&n)for(const o of t)e[o]=Z6(n,s)}class Fk extends TS{constructor(t,n,r,s,o){super(t,n,r,s,o,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let f=0;f<t.length;f++){let d=t[f];if(typeof d=="string"&&(d=d.trim(),bS(d))){const p=W6(d,n.current);p!==void 0&&(t[f]=p),f===t.length-1&&(this.finalKeyframe=d)}}if(this.resolveNoneKeyframes(),!K6.has(r)||t.length!==2)return;const[s,o]=t,c=c4(s),l=c4(o);if(c!==l)if(s4(c)&&s4(l))for(let f=0;f<t.length;f++){const d=t[f];typeof d=="string"&&(t[f]=parseFloat(d))}else Sl[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,r=[];for(let s=0;s<t.length;s++)(t[s]===null||Rk(t[s]))&&r.push(s);r.length&&Hk(t,r,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:r}=this;if(!t||!t.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Sl[r](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const s=n[n.length-1];s!==void 0&&t.getValue(r,s).jump(s,!1)}measureEndState(){const{element:t,name:n,unresolvedKeyframes:r}=this;if(!t||!t.current)return;const s=t.getValue(n);s&&s.jump(this.measuredOrigin,!1);const o=r.length-1,c=r[o];r[o]=Sl[n](t.measureViewportBox(),window.getComputedStyle(t.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),this.removedTransforms?.length&&this.removedTransforms.forEach(([l,f])=>{t.getValue(l).set(f)}),this.resolveNoneKeyframes()}}function qk(e,t,n){if(e instanceof EventTarget)return[e];if(typeof e=="string"){let r=document;const s=n?.[e]??r.querySelectorAll(e);return s?Array.from(s):[]}return Array.from(e)}const Q6=(e,t)=>t&&typeof e=="number"?t.transform(e):e;function J6(e){return g6(e)&&"offsetHeight"in e}const u4=30,Vk=e=>!isNaN(parseFloat(e));class Wk{constructor(t,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{const s=Lr.now();if(this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const o of this.dependents)o.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=Lr.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=Vk(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new gS);const r=this.events[t].add(n);return t==="change"?()=>{r(),Zt.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-r}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=Lr.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>u4)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,u4);return y6(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Df(e,t){return new Wk(e,t)}const{schedule:OS}=_6(queueMicrotask,!1),ai={x:!1,y:!1};function eO(){return ai.x||ai.y}function Kk(e){return e==="x"||e==="y"?ai[e]?null:(ai[e]=!0,()=>{ai[e]=!1}):ai.x||ai.y?null:(ai.x=ai.y=!0,()=>{ai.x=ai.y=!1})}function tO(e,t){const n=qk(e),r=new AbortController,s={passive:!0,...t,signal:r.signal};return[n,s,()=>r.abort()]}function f4(e){return!(e.pointerType==="touch"||eO())}function Gk(e,t,n={}){const[r,s,o]=tO(e,n),c=l=>{if(!f4(l))return;const{target:f}=l,d=t(f,l);if(typeof d!="function"||!f)return;const p=g=>{f4(g)&&(d(g),f.removeEventListener("pointerleave",p))};f.addEventListener("pointerleave",p,s)};return r.forEach(l=>{l.addEventListener("pointerenter",c,s)}),o}const nO=(e,t)=>t?e===t?!0:nO(e,t.parentElement):!1,DS=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,Yk=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function Xk(e){return Yk.has(e.tagName)||e.tabIndex!==-1}const M0=new WeakSet;function h4(e){return t=>{t.key==="Enter"&&e(t)}}function Ib(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const Zk=(e,t)=>{const n=e.currentTarget;if(!n)return;const r=h4(()=>{if(M0.has(n))return;Ib(n,"down");const s=h4(()=>{Ib(n,"up")}),o=()=>Ib(n,"cancel");n.addEventListener("keyup",s,t),n.addEventListener("blur",o,t)});n.addEventListener("keydown",r,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),t)};function d4(e){return DS(e)&&!eO()}function Qk(e,t,n={}){const[r,s,o]=tO(e,n),c=l=>{const f=l.currentTarget;if(!d4(l))return;M0.add(f);const d=t(f,l),p=(b,v)=>{window.removeEventListener("pointerup",g),window.removeEventListener("pointercancel",y),M0.has(f)&&M0.delete(f),d4(b)&&typeof d=="function"&&d(b,{success:v})},g=b=>{p(b,f===window||f===document||n.useGlobalTarget||nO(f,b.target))},y=b=>{p(b,!1)};window.addEventListener("pointerup",g,s),window.addEventListener("pointercancel",y,s)};return r.forEach(l=>{(n.useGlobalTarget?window:l).addEventListener("pointerdown",c,s),J6(l)&&(l.addEventListener("focus",d=>Zk(d,s)),!Xk(l)&&!l.hasAttribute("tabindex")&&(l.tabIndex=0))}),o}function rO(e){return g6(e)&&"ownerSVGElement"in e}function Jk(e){return rO(e)&&e.tagName==="svg"}const ur=e=>!!(e&&e.getVelocity),e7=[...Y6,wn,uc],t7=e=>e7.find(G6(e)),MS=me.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function p4(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function n7(...e){return t=>{let n=!1;const r=e.map(s=>{const o=p4(s,t);return!n&&typeof o=="function"&&(n=!0),o});if(n)return()=>{for(let s=0;s<r.length;s++){const o=r[s];typeof o=="function"?o():p4(e[s],null)}}}}function r7(...e){return me.useCallback(n7(...e),e)}class s7 extends me.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const r=n.offsetParent,s=J6(r)&&r.offsetWidth||0,o=this.props.sizeRef.current;o.height=n.offsetHeight||0,o.width=n.offsetWidth||0,o.top=n.offsetTop,o.left=n.offsetLeft,o.right=s-o.width-o.left}return null}componentDidUpdate(){}render(){return this.props.children}}function i7({children:e,isPresent:t,anchorX:n,root:r}){const s=me.useId(),o=me.useRef(null),c=me.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:l}=me.useContext(MS),f=r7(o,e?.ref);return me.useInsertionEffect(()=>{const{width:d,height:p,top:g,left:y,right:b}=c.current;if(t||!o.current||!d||!p)return;const v=n==="left"?`left: ${y}`:`right: ${b}`;o.current.dataset.motionPopId=s;const E=document.createElement("style");l&&(E.nonce=l);const S=r??document.head;return S.appendChild(E),E.sheet&&E.sheet.insertRule(`
          [data-motion-pop-id="${s}"] {
            position: absolute !important;
            width: ${d}px !important;
            height: ${p}px !important;
            ${v}px !important;
            top: ${g}px !important;
          }
        `),()=>{S.contains(E)&&S.removeChild(E)}},[t]),Q.jsx(s7,{isPresent:t,childRef:o,sizeRef:c,children:me.cloneElement(e,{ref:f})})}const o7=({children:e,initial:t,isPresent:n,onExitComplete:r,custom:s,presenceAffectsLayout:o,mode:c,anchorX:l,root:f})=>{const d=lS(a7),p=me.useId();let g=!0,y=me.useMemo(()=>(g=!1,{id:p,initial:t,isPresent:n,custom:s,onExitComplete:b=>{d.set(b,!0);for(const v of d.values())if(!v)return;r&&r()},register:b=>(d.set(b,!1),()=>d.delete(b))}),[n,d,r]);return o&&g&&(y={...y}),me.useMemo(()=>{d.forEach((b,v)=>d.set(v,!1))},[n]),me.useEffect(()=>{!n&&!d.size&&r&&r()},[n]),c==="popLayout"&&(e=Q.jsx(i7,{isPresent:n,anchorX:l,root:f,children:e})),Q.jsx(Oy.Provider,{value:y,children:e})};function a7(){return new Map}function sO(e=!0){const t=me.useContext(Oy);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:s}=t,o=me.useId();me.useEffect(()=>{if(e)return s(o)},[e]);const c=me.useCallback(()=>e&&r&&r(o),[o,r,e]);return!n&&r?[!1,c]:[!0]}const Vm=e=>e.key||"";function g4(e){const t=[];return me.Children.forEach(e,n=>{me.isValidElement(n)&&t.push(n)}),t}const $S=({children:e,custom:t,initial:n=!0,onExitComplete:r,presenceAffectsLayout:s=!0,mode:o="sync",propagate:c=!1,anchorX:l="left",root:f})=>{const[d,p]=sO(c),g=me.useMemo(()=>g4(e),[e]),y=c&&!d?[]:g.map(Vm),b=me.useRef(!0),v=me.useRef(g),E=lS(()=>new Map),[S,C]=me.useState(g),[O,x]=me.useState(g);d6(()=>{b.current=!1,v.current=g;for(let I=0;I<O.length;I++){const R=Vm(O[I]);y.includes(R)?E.delete(R):E.get(R)!==!0&&E.set(R,!1)}},[O,y.length,y.join("-")]);const N=[];if(g!==S){let I=[...g];for(let R=0;R<O.length;R++){const L=O[R],U=Vm(L);y.includes(U)||(I.splice(R,0,L),N.push(L))}return o==="wait"&&N.length&&(I=N),x(g4(I)),C(g),null}const{forceRender:T}=me.useContext(cS);return Q.jsx(Q.Fragment,{children:O.map(I=>{const R=Vm(I),L=c&&!d?!1:g===O||y.includes(R),U=()=>{if(E.has(R))E.set(R,!0);else return;let D=!0;E.forEach(B=>{B||(D=!1)}),D&&(T?.(),x(v.current),c&&p?.(),r&&r())};return Q.jsx(o7,{isPresent:L,initial:!b.current||n?void 0:!1,custom:t,presenceAffectsLayout:s,mode:o,root:f,onExitComplete:L?void 0:U,anchorX:l,children:I},R)})})},iO=me.createContext({strict:!1}),m4={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Mf={};for(const e in m4)Mf[e]={isEnabled:t=>m4[e].some(n=>!!t[n])};function c7(e){for(const t in e)Mf[t]={...Mf[t],...e[t]}}const l7=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Q0(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||l7.has(e)}let oO=e=>!Q0(e);function u7(e){typeof e=="function"&&(oO=t=>t.startsWith("on")?!Q0(t):e(t))}try{u7(require("@emotion/is-prop-valid").default)}catch{}function f7(e,t,n){const r={};for(const s in e)s==="values"&&typeof e.values=="object"||(oO(s)||n===!0&&Q0(s)||!t&&!Q0(s)||e.draggable&&s.startsWith("onDrag"))&&(r[s]=e[s]);return r}const Dy=me.createContext({});function My(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function hp(e){return typeof e=="string"||Array.isArray(e)}const US=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],RS=["initial",...US];function $y(e){return My(e.animate)||RS.some(t=>hp(e[t]))}function aO(e){return!!($y(e)||e.variants)}function h7(e,t){if($y(e)){const{initial:n,animate:r}=e;return{initial:n===!1||hp(n)?n:void 0,animate:hp(r)?r:void 0}}return e.inherit!==!1?t:{}}function d7(e){const{initial:t,animate:n}=h7(e,me.useContext(Dy));return me.useMemo(()=>({initial:t,animate:n}),[y4(t),y4(n)])}function y4(e){return Array.isArray(e)?e.join(" "):e}const dp={};function p7(e){for(const t in e)dp[t]=e[t],wS(t)&&(dp[t].isCSSVariable=!0)}function cO(e,{layout:t,layoutId:n}){return Jf.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!dp[e]||e==="opacity")}const g7={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},m7=Qf.length;function y7(e,t,n){let r="",s=!0;for(let o=0;o<m7;o++){const c=Qf[o],l=e[c];if(l===void 0)continue;let f=!0;if(typeof l=="number"?f=l===(c.startsWith("scale")?1:0):f=parseFloat(l)===0,!f||n){const d=Q6(l,IS[c]);if(!f){s=!1;const p=g7[c]||c;r+=`${p}(${d}) `}n&&(t[c]=d)}}return r=r.trim(),n?r=n(t,s?"":r):s&&(r="none"),r}function PS(e,t,n){const{style:r,vars:s,transformOrigin:o}=e;let c=!1,l=!1;for(const f in t){const d=t[f];if(Jf.has(f)){c=!0;continue}else if(wS(f)){s[f]=d;continue}else{const p=Q6(d,IS[f]);f.startsWith("origin")?(l=!0,o[f]=p):r[f]=p}}if(t.transform||(c||n?r.transform=y7(t,e.transform,n):r.transform&&(r.transform="none")),l){const{originX:f="50%",originY:d="50%",originZ:p=0}=o;r.transformOrigin=`${f} ${d} ${p}`}}const BS=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function lO(e,t,n){for(const r in t)!ur(t[r])&&!cO(r,n)&&(e[r]=t[r])}function w7({transformTemplate:e},t){return me.useMemo(()=>{const n=BS();return PS(n,t,e),Object.assign({},n.vars,n.style)},[t])}function b7(e,t){const n=e.style||{},r={};return lO(r,n,e),Object.assign(r,w7(e,t)),r}function v7(e,t){const n={},r=b7(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=r,n}const E7={offset:"stroke-dashoffset",array:"stroke-dasharray"},S7={offset:"strokeDashoffset",array:"strokeDasharray"};function A7(e,t,n=1,r=0,s=!0){e.pathLength=1;const o=s?E7:S7;e[o.offset]=je.transform(-r);const c=je.transform(t),l=je.transform(n);e[o.array]=`${c} ${l}`}function uO(e,{attrX:t,attrY:n,attrScale:r,pathLength:s,pathSpacing:o=1,pathOffset:c=0,...l},f,d,p){if(PS(e,l,d),f){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:g,style:y}=e;g.transform&&(y.transform=g.transform,delete g.transform),(y.transform||g.transformOrigin)&&(y.transformOrigin=g.transformOrigin??"50% 50%",delete g.transformOrigin),y.transform&&(y.transformBox=p?.transformBox??"fill-box",delete g.transformBox),t!==void 0&&(g.x=t),n!==void 0&&(g.y=n),r!==void 0&&(g.scale=r),s!==void 0&&A7(g,s,o,c,!1)}const fO=()=>({...BS(),attrs:{}}),hO=e=>typeof e=="string"&&e.toLowerCase()==="svg";function C7(e,t,n,r){const s=me.useMemo(()=>{const o=fO();return uO(o,t,hO(r),e.transformTemplate,e.style),{...o.attrs,style:{...o.style}}},[t]);if(e.style){const o={};lO(o,e.style,e),s.style={...o,...s.style}}return s}const x7=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function LS(e){return typeof e!="string"||e.includes("-")?!1:!!(x7.indexOf(e)>-1||/[A-Z]/u.test(e))}function N7(e,t,n,{latestValues:r},s,o=!1){const l=(LS(e)?C7:v7)(t,r,s,e),f=f7(t,typeof e=="string",o),d=e!==me.Fragment?{...f,...l,ref:n}:{},{children:p}=t,g=me.useMemo(()=>ur(p)?p.get():p,[p]);return me.createElement(e,{...d,children:g})}function w4(e){const t=[{},{}];return e?.values.forEach((n,r)=>{t[0][r]=n.get(),t[1][r]=n.getVelocity()}),t}function kS(e,t,n,r){if(typeof t=="function"){const[s,o]=w4(r);t=t(n!==void 0?n:e.custom,s,o)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[s,o]=w4(r);t=t(n!==void 0?n:e.custom,s,o)}return t}function $0(e){return ur(e)?e.get():e}function T7({scrapeMotionValuesFromProps:e,createRenderState:t},n,r,s){return{latestValues:_7(n,r,s,e),renderState:t()}}function _7(e,t,n,r){const s={},o=r(e,{});for(const y in o)s[y]=$0(o[y]);let{initial:c,animate:l}=e;const f=$y(e),d=aO(e);t&&d&&!f&&e.inherit!==!1&&(c===void 0&&(c=t.initial),l===void 0&&(l=t.animate));let p=n?n.initial===!1:!1;p=p||c===!1;const g=p?l:c;if(g&&typeof g!="boolean"&&!My(g)){const y=Array.isArray(g)?g:[g];for(let b=0;b<y.length;b++){const v=kS(e,y[b]);if(v){const{transitionEnd:E,transition:S,...C}=v;for(const O in C){let x=C[O];if(Array.isArray(x)){const N=p?x.length-1:0;x=x[N]}x!==null&&(s[O]=x)}for(const O in E)s[O]=E[O]}}}return s}const dO=e=>(t,n)=>{const r=me.useContext(Dy),s=me.useContext(Oy),o=()=>T7(e,t,r,s);return n?o():lS(o)};function jS(e,t,n){const{style:r}=e,s={};for(const o in r)(ur(r[o])||t.style&&ur(t.style[o])||cO(o,e)||n?.getValue(o)?.liveStyle!==void 0)&&(s[o]=r[o]);return s}const I7=dO({scrapeMotionValuesFromProps:jS,createRenderState:BS});function pO(e,t,n){const r=jS(e,t,n);for(const s in e)if(ur(e[s])||ur(t[s])){const o=Qf.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;r[o]=e[s]}return r}const O7=dO({scrapeMotionValuesFromProps:pO,createRenderState:fO}),D7=Symbol.for("motionComponentSymbol");function pf(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function M7(e,t,n){return me.useCallback(r=>{r&&e.onMount&&e.onMount(r),t&&(r?t.mount(r):t.unmount()),n&&(typeof n=="function"?n(r):pf(n)&&(n.current=r))},[t])}const zS=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),$7="framerAppearId",gO="data-"+zS($7),mO=me.createContext({});function U7(e,t,n,r,s){const{visualElement:o}=me.useContext(Dy),c=me.useContext(iO),l=me.useContext(Oy),f=me.useContext(MS).reducedMotion,d=me.useRef(null);r=r||c.renderer,!d.current&&r&&(d.current=r(e,{visualState:t,parent:o,props:n,presenceContext:l,blockInitialAnimation:l?l.initial===!1:!1,reducedMotionConfig:f}));const p=d.current,g=me.useContext(mO);p&&!p.projection&&s&&(p.type==="html"||p.type==="svg")&&R7(d.current,n,s,g);const y=me.useRef(!1);me.useInsertionEffect(()=>{p&&y.current&&p.update(n,l)});const b=n[gO],v=me.useRef(!!b&&!window.MotionHandoffIsComplete?.(b)&&window.MotionHasOptimisedAnimation?.(b));return d6(()=>{p&&(y.current=!0,window.MotionIsMounted=!0,p.updateFeatures(),p.scheduleRenderMicrotask(),v.current&&p.animationState&&p.animationState.animateChanges())}),me.useEffect(()=>{p&&(!v.current&&p.animationState&&p.animationState.animateChanges(),v.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(b)}),v.current=!1),p.enteringChildren=void 0)}),p}function R7(e,t,n,r){const{layoutId:s,layout:o,drag:c,dragConstraints:l,layoutScroll:f,layoutRoot:d,layoutCrossfade:p}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:yO(e.parent)),e.projection.setOptions({layoutId:s,layout:o,alwaysMeasureLayout:!!c||l&&pf(l),visualElement:e,animationType:typeof o=="string"?o:"both",initialPromotionConfig:r,crossfade:p,layoutScroll:f,layoutRoot:d})}function yO(e){if(e)return e.options.allowProjection!==!1?e.projection:yO(e.parent)}function Ob(e,{forwardMotionProps:t=!1}={},n,r){n&&c7(n);const s=LS(e)?O7:I7;function o(l,f){let d;const p={...me.useContext(MS),...l,layoutId:P7(l)},{isStatic:g}=p,y=d7(l),b=s(l,g);if(!g&&uS){B7();const v=L7(p);d=v.MeasureLayout,y.visualElement=U7(e,b,p,r,v.ProjectionNode)}return Q.jsxs(Dy.Provider,{value:y,children:[d&&y.visualElement?Q.jsx(d,{visualElement:y.visualElement,...p}):null,N7(e,l,M7(b,y.visualElement,f),b,g,t)]})}o.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const c=me.forwardRef(o);return c[D7]=e,c}function P7({layoutId:e}){const t=me.useContext(cS).id;return t&&e!==void 0?t+"-"+e:e}function B7(e,t){me.useContext(iO).strict}function L7(e){const{drag:t,layout:n}=Mf;if(!t&&!n)return{};const r={...t,...n};return{MeasureLayout:t?.isEnabled(e)||n?.isEnabled(e)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function k7(e,t){if(typeof Proxy>"u")return Ob;const n=new Map,r=(o,c)=>Ob(o,c,e,t),s=(o,c)=>r(o,c);return new Proxy(s,{get:(o,c)=>c==="create"?r:(n.has(c)||n.set(c,Ob(c,void 0,e,t)),n.get(c))})}function wO({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function j7({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function z7(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function Db(e){return e===void 0||e===1}function w2({scale:e,scaleX:t,scaleY:n}){return!Db(e)||!Db(t)||!Db(n)}function rl(e){return w2(e)||bO(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function bO(e){return b4(e.x)||b4(e.y)}function b4(e){return e&&e!=="0%"}function J0(e,t,n){const r=e-n,s=t*r;return n+s}function v4(e,t,n,r,s){return s!==void 0&&(e=J0(e,s,r)),J0(e,n,r)+t}function b2(e,t=0,n=1,r,s){e.min=v4(e.min,t,n,r,s),e.max=v4(e.max,t,n,r,s)}function vO(e,{x:t,y:n}){b2(e.x,t.translate,t.scale,t.originPoint),b2(e.y,n.translate,n.scale,n.originPoint)}const E4=.999999999999,S4=1.0000000000001;function H7(e,t,n,r=!1){const s=n.length;if(!s)return;t.x=t.y=1;let o,c;for(let l=0;l<s;l++){o=n[l],c=o.projectionDelta;const{visualElement:f}=o.options;f&&f.props.style&&f.props.style.display==="contents"||(r&&o.options.layoutScroll&&o.scroll&&o!==o.root&&mf(e,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),c&&(t.x*=c.x.scale,t.y*=c.y.scale,vO(e,c)),r&&rl(o.latestValues)&&mf(e,o.latestValues))}t.x<S4&&t.x>E4&&(t.x=1),t.y<S4&&t.y>E4&&(t.y=1)}function gf(e,t){e.min=e.min+t,e.max=e.max+t}function A4(e,t,n,r,s=.5){const o=Qt(e.min,e.max,s);b2(e,t,n,o,r)}function mf(e,t){A4(e.x,t.x,t.scaleX,t.scale,t.originX),A4(e.y,t.y,t.scaleY,t.scale,t.originY)}function EO(e,t){return wO(z7(e.getBoundingClientRect(),t))}function F7(e,t,n){const r=EO(e,n),{scroll:s}=t;return s&&(gf(r.x,s.offset.x),gf(r.y,s.offset.y)),r}const C4=()=>({translate:0,scale:1,origin:0,originPoint:0}),yf=()=>({x:C4(),y:C4()}),x4=()=>({min:0,max:0}),cn=()=>({x:x4(),y:x4()}),v2={current:null},SO={current:!1};function q7(){if(SO.current=!0,!!uS)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>v2.current=e.matches;e.addEventListener("change",t),t()}else v2.current=!1}const V7=new WeakMap;function W7(e,t,n){for(const r in t){const s=t[r],o=n[r];if(ur(s))e.addValue(r,s);else if(ur(o))e.addValue(r,Df(s,{owner:e}));else if(o!==s)if(e.hasValue(r)){const c=e.getValue(r);c.liveStyle===!0?c.jump(s):c.hasAnimated||c.set(s)}else{const c=e.getStaticValue(r);e.addValue(r,Df(c!==void 0?c:s,{owner:e}))}}for(const r in n)t[r]===void 0&&e.removeValue(r);return t}const N4=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class K7{scrapeMotionValuesFromProps(t,n,r){return{}}constructor({parent:t,props:n,presenceContext:r,reducedMotionConfig:s,blockInitialAnimation:o,visualState:c},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=TS,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const y=Lr.now();this.renderScheduledAt<y&&(this.renderScheduledAt=y,Zt.render(this.render,!1,!0))};const{latestValues:f,renderState:d}=c;this.latestValues=f,this.baseTarget={...f},this.initialValues=n.initial?{...f}:{},this.renderState=d,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=s,this.options=l,this.blockInitialAnimation=!!o,this.isControllingVariants=$y(n),this.isVariantNode=aO(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:p,...g}=this.scrapeMotionValuesFromProps(n,{},this);for(const y in g){const b=g[y];f[y]!==void 0&&ur(b)&&b.set(f[y])}}mount(t){this.current=t,V7.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),SO.current||q7(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:v2.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),lc(this.notifyUpdate),lc(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const n=this.features[t];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const r=Jf.has(t);r&&this.onBindTransform&&this.onBindTransform();const s=n.on("change",c=>{this.latestValues[t]=c,this.props.onUpdate&&Zt.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{s(),o&&o(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in Mf){const n=Mf[t];if(!n)continue;const{isEnabled:r,Feature:s}=n;if(!this.features[t]&&s&&r(this.props)&&(this.features[t]=new s(this)),this.features[t]){const o=this.features[t];o.isMounted?o.update():(o.mount(),o.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):cn()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<N4.length;r++){const s=N4[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const o="on"+s,c=t[o];c&&(this.propEventSubscriptions[s]=this.on(s,c))}this.prevMotionValues=W7(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const r=this.values.get(t);n!==r&&(r&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&n!==void 0&&(r=Df(n===null?void 0:n,{owner:this}),this.addValue(t,r)),r}readValue(t,n){let r=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return r!=null&&(typeof r=="string"&&(p6(r)||m6(r))?r=parseFloat(r):!t7(r)&&uc.test(n)&&(r=Z6(t,n)),this.setBaseTarget(t,ur(r)?r.get():r)),ur(r)?r.get():r}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const o=kS(this.props,n,this.presenceContext?.custom);o&&(r=o[t])}if(n&&r!==void 0)return r;const s=this.getBaseTargetFromProps(this.props,t);return s!==void 0&&!ur(s)?s:this.initialValues[t]!==void 0&&r===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new gS),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}scheduleRenderMicrotask(){OS.render(this.render)}}class AO extends K7{constructor(){super(...arguments),this.KeyframeResolver=Fk}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:r}){delete n[t],delete r[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;ur(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function CO(e,{style:t,vars:n},r,s){const o=e.style;let c;for(c in t)o[c]=t[c];s?.applyProjectionStyles(o,r);for(c in n)o.setProperty(c,n[c])}function G7(e){return window.getComputedStyle(e)}class Y7 extends AO{constructor(){super(...arguments),this.type="html",this.renderInstance=CO}readValueFromInstance(t,n){if(Jf.has(n))return this.projection?.isProjecting?f2(n):ck(t,n);{const r=G7(t),s=(wS(n)?r.getPropertyValue(n):r[n])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(t,{transformPagePoint:n}){return EO(t,n)}build(t,n,r){PS(t,n,r.transformTemplate)}scrapeMotionValuesFromProps(t,n,r){return jS(t,n,r)}}const xO=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function X7(e,t,n,r){CO(e,t,void 0,r);for(const s in t.attrs)e.setAttribute(xO.has(s)?s:zS(s),t.attrs[s])}class Z7 extends AO{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=cn}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(Jf.has(n)){const r=X6(n);return r&&r.default||0}return n=xO.has(n)?n:zS(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,r){return pO(t,n,r)}build(t,n,r){uO(t,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(t,n,r,s){X7(t,n,r,s)}mount(t){this.isSVGTag=hO(t.tagName),super.mount(t)}}const Q7=(e,t)=>LS(e)?new Z7(t):new Y7(t,{allowProjection:e!==me.Fragment});function xf(e,t,n){const r=e.getProps();return kS(r,t,n!==void 0?n:r.custom,e)}const E2=e=>Array.isArray(e);function J7(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,Df(n))}function e9(e){return E2(e)?e[e.length-1]||0:e}function t9(e,t){const n=xf(e,t);let{transitionEnd:r={},transition:s={},...o}=n||{};o={...o,...r};for(const c in o){const l=e9(o[c]);J7(e,c,l)}}function n9(e){return!!(ur(e)&&e.add)}function S2(e,t){const n=e.getValue("willChange");if(n9(n))return n.add(t);if(!n&&Ko.WillChange){const r=new Ko.WillChange("auto");e.addValue("willChange",r),r.add(t)}}function NO(e){return e.props[gO]}const r9=e=>e!==null;function s9(e,{repeat:t,repeatType:n="loop"},r){const s=e.filter(r9),o=t&&n!=="loop"&&t%2===1?0:s.length-1;return s[o]}const i9={type:"spring",stiffness:500,damping:25,restSpeed:10},o9=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),a9={type:"keyframes",duration:.8},c9={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},l9=(e,{keyframes:t})=>t.length>2?a9:Jf.has(e)?e.startsWith("scale")?o9(t[1]):i9:c9;function u9({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:s,repeat:o,repeatType:c,repeatDelay:l,from:f,elapsed:d,...p}){return!!Object.keys(p).length}const HS=(e,t,n,r={},s,o)=>c=>{const l=_S(r,e)||{},f=l.delay||r.delay||0;let{elapsed:d=0}=r;d=d-Ki(f);const p={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...l,delay:-d,onUpdate:y=>{t.set(y),l.onUpdate&&l.onUpdate(y)},onComplete:()=>{c(),l.onComplete&&l.onComplete()},name:e,motionValue:t,element:o?void 0:s};u9(l)||Object.assign(p,l9(e,p)),p.duration&&(p.duration=Ki(p.duration)),p.repeatDelay&&(p.repeatDelay=Ki(p.repeatDelay)),p.from!==void 0&&(p.keyframes[0]=p.from);let g=!1;if((p.type===!1||p.duration===0&&!p.repeatDelay)&&(m2(p),p.delay===0&&(g=!0)),(Ko.instantAnimations||Ko.skipAnimations)&&(g=!0,m2(p),p.delay=0),p.allowFlatten=!l.type&&!l.ease,g&&!o&&t.get()!==void 0){const y=s9(p.keyframes,l);if(y!==void 0){Zt.update(()=>{p.onUpdate(y),p.onComplete()});return}}return l.isSync?new NS(p):new Dk(p)};function f9({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}function TO(e,t,{delay:n=0,transitionOverride:r,type:s}={}){let{transition:o=e.getDefaultTransition(),transitionEnd:c,...l}=t;r&&(o=r);const f=[],d=s&&e.animationState&&e.animationState.getState()[s];for(const p in l){const g=e.getValue(p,e.latestValues[p]??null),y=l[p];if(y===void 0||d&&f9(d,p))continue;const b={delay:n,..._S(o||{},p)},v=g.get();if(v!==void 0&&!g.isAnimating&&!Array.isArray(y)&&y===v&&!b.velocity)continue;let E=!1;if(window.MotionHandoffAnimation){const C=NO(e);if(C){const O=window.MotionHandoffAnimation(C,p,Zt);O!==null&&(b.startTime=O,E=!0)}}S2(e,p),g.start(HS(p,g,y,e.shouldReduceMotion&&K6.has(p)?{type:!1}:b,e,E));const S=g.animation;S&&f.push(S)}return c&&Promise.all(f).then(()=>{Zt.update(()=>{c&&t9(e,c)})}),f}function _O(e,t,n,r=0,s=1){const o=Array.from(e).sort((d,p)=>d.sortNodePosition(p)).indexOf(t),c=e.size,l=(c-1)*r;return typeof n=="function"?n(o,c):s===1?o*r:l-o*r}function A2(e,t,n={}){const r=xf(e,t,n.type==="exit"?e.presenceContext?.custom:void 0);let{transition:s=e.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(s=n.transitionOverride);const o=r?()=>Promise.all(TO(e,r,n)):()=>Promise.resolve(),c=e.variantChildren&&e.variantChildren.size?(f=0)=>{const{delayChildren:d=0,staggerChildren:p,staggerDirection:g}=s;return h9(e,t,f,d,p,g,n)}:()=>Promise.resolve(),{when:l}=s;if(l){const[f,d]=l==="beforeChildren"?[o,c]:[c,o];return f().then(()=>d())}else return Promise.all([o(),c(n.delay)])}function h9(e,t,n=0,r=0,s=0,o=1,c){const l=[];for(const f of e.variantChildren)f.notify("AnimationStart",t),l.push(A2(f,t,{...c,delay:n+(typeof r=="function"?0:r)+_O(e.variantChildren,f,r,s,o)}).then(()=>f.notify("AnimationComplete",t)));return Promise.all(l)}function d9(e,t,n={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const s=t.map(o=>A2(e,o,n));r=Promise.all(s)}else if(typeof t=="string")r=A2(e,t,n);else{const s=typeof t=="function"?xf(e,t,n.custom):t;r=Promise.all(TO(e,s,n))}return r.then(()=>{e.notify("AnimationComplete",t)})}function IO(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}const p9=RS.length;function OO(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?OO(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<p9;n++){const r=RS[n],s=e.props[r];(hp(s)||s===!1)&&(t[r]=s)}return t}const g9=[...US].reverse(),m9=US.length;function y9(e){return t=>Promise.all(t.map(({animation:n,options:r})=>d9(e,n,r)))}function w9(e){let t=y9(e),n=T4(),r=!0;const s=f=>(d,p)=>{const g=xf(e,p,f==="exit"?e.presenceContext?.custom:void 0);if(g){const{transition:y,transitionEnd:b,...v}=g;d={...d,...v,...b}}return d};function o(f){t=f(e)}function c(f){const{props:d}=e,p=OO(e.parent)||{},g=[],y=new Set;let b={},v=1/0;for(let S=0;S<m9;S++){const C=g9[S],O=n[C],x=d[C]!==void 0?d[C]:p[C],N=hp(x),T=C===f?O.isActive:null;T===!1&&(v=S);let I=x===p[C]&&x!==d[C]&&N;if(I&&r&&e.manuallyAnimateOnMount&&(I=!1),O.protectedKeys={...b},!O.isActive&&T===null||!x&&!O.prevProp||My(x)||typeof x=="boolean")continue;const R=b9(O.prevProp,x);let L=R||C===f&&O.isActive&&!I&&N||S>v&&N,U=!1;const D=Array.isArray(x)?x:[x];let B=D.reduce(s(C),{});T===!1&&(B={});const{prevResolvedValues:H={}}=O,X={...H,...B},Y=j=>{L=!0,y.has(j)&&(U=!0,y.delete(j)),O.needsAnimating[j]=!0;const q=e.getValue(j);q&&(q.liveStyle=!1)};for(const j in X){const q=B[j],W=H[j];if(b.hasOwnProperty(j))continue;let V=!1;E2(q)&&E2(W)?V=!IO(q,W):V=q!==W,V?q!=null?Y(j):y.add(j):q!==void 0&&y.has(j)?Y(j):O.protectedKeys[j]=!0}O.prevProp=x,O.prevResolvedValues=B,O.isActive&&(b={...b,...B}),r&&e.blockInitialAnimation&&(L=!1);const M=I&&R;L&&(!M||U)&&g.push(...D.map(j=>{const q={type:C};if(typeof j=="string"&&r&&!M&&e.manuallyAnimateOnMount&&e.parent){const{parent:W}=e,V=xf(W,j);if(W.enteringChildren&&V){const{delayChildren:P}=V.transition||{};q.delay=_O(W.enteringChildren,e,P)}}return{animation:j,options:q}}))}if(y.size){const S={};if(typeof d.initial!="boolean"){const C=xf(e,Array.isArray(d.initial)?d.initial[0]:d.initial);C&&C.transition&&(S.transition=C.transition)}y.forEach(C=>{const O=e.getBaseTarget(C),x=e.getValue(C);x&&(x.liveStyle=!0),S[C]=O??null}),g.push({animation:S})}let E=!!g.length;return r&&(d.initial===!1||d.initial===d.animate)&&!e.manuallyAnimateOnMount&&(E=!1),r=!1,E?t(g):Promise.resolve()}function l(f,d){if(n[f].isActive===d)return Promise.resolve();e.variantChildren?.forEach(g=>g.animationState?.setActive(f,d)),n[f].isActive=d;const p=c(f);for(const g in n)n[g].protectedKeys={};return p}return{animateChanges:c,setActive:l,setAnimateFunction:o,getState:()=>n,reset:()=>{n=T4()}}}function b9(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!IO(t,e):!1}function Wc(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function T4(){return{animate:Wc(!0),whileInView:Wc(),whileHover:Wc(),whileTap:Wc(),whileDrag:Wc(),whileFocus:Wc(),exit:Wc()}}class gc{constructor(t){this.isMounted=!1,this.node=t}update(){}}class v9 extends gc{constructor(t){super(t),t.animationState||(t.animationState=w9(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();My(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let E9=0;class S9 extends gc{constructor(){super(...arguments),this.id=E9++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===r)return;const s=this.node.animationState.setActive("exit",!t);n&&!t&&s.then(()=>{n(this.id)})}mount(){const{register:t,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const A9={animation:{Feature:v9},exit:{Feature:S9}};function pp(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}function ig(e){return{point:{x:e.pageX,y:e.pageY}}}const C9=e=>t=>DS(t)&&e(t,ig(t));function qd(e,t,n,r){return pp(e,t,C9(n),r)}const DO=1e-4,x9=1-DO,N9=1+DO,MO=.01,T9=0-MO,_9=0+MO;function gr(e){return e.max-e.min}function I9(e,t,n){return Math.abs(e-t)<=n}function _4(e,t,n,r=.5){e.origin=r,e.originPoint=Qt(t.min,t.max,e.origin),e.scale=gr(n)/gr(t),e.translate=Qt(n.min,n.max,e.origin)-e.originPoint,(e.scale>=x9&&e.scale<=N9||isNaN(e.scale))&&(e.scale=1),(e.translate>=T9&&e.translate<=_9||isNaN(e.translate))&&(e.translate=0)}function Vd(e,t,n,r){_4(e.x,t.x,n.x,r?r.originX:void 0),_4(e.y,t.y,n.y,r?r.originY:void 0)}function I4(e,t,n){e.min=n.min+t.min,e.max=e.min+gr(t)}function O9(e,t,n){I4(e.x,t.x,n.x),I4(e.y,t.y,n.y)}function O4(e,t,n){e.min=t.min-n.min,e.max=e.min+gr(t)}function Wd(e,t,n){O4(e.x,t.x,n.x),O4(e.y,t.y,n.y)}function Rs(e){return[e("x"),e("y")]}const $O=({current:e})=>e?e.ownerDocument.defaultView:null,D4=(e,t)=>Math.abs(e-t);function D9(e,t){const n=D4(e.x,t.x),r=D4(e.y,t.y);return Math.sqrt(n**2+r**2)}class UO{constructor(t,n,{transformPagePoint:r,contextWindow:s=window,dragSnapToOrigin:o=!1,distanceThreshold:c=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const y=$b(this.lastMoveEventInfo,this.history),b=this.startEvent!==null,v=D9(y.offset,{x:0,y:0})>=this.distanceThreshold;if(!b&&!v)return;const{point:E}=y,{timestamp:S}=Fn;this.history.push({...E,timestamp:S});const{onStart:C,onMove:O}=this.handlers;b||(C&&C(this.lastMoveEvent,y),this.startEvent=this.lastMoveEvent),O&&O(this.lastMoveEvent,y)},this.handlePointerMove=(y,b)=>{this.lastMoveEvent=y,this.lastMoveEventInfo=Mb(b,this.transformPagePoint),Zt.update(this.updatePoint,!0)},this.handlePointerUp=(y,b)=>{this.end();const{onEnd:v,onSessionEnd:E,resumeAnimation:S}=this.handlers;if(this.dragSnapToOrigin&&S&&S(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const C=$b(y.type==="pointercancel"?this.lastMoveEventInfo:Mb(b,this.transformPagePoint),this.history);this.startEvent&&v&&v(y,C),E&&E(y,C)},!DS(t))return;this.dragSnapToOrigin=o,this.handlers=n,this.transformPagePoint=r,this.distanceThreshold=c,this.contextWindow=s||window;const l=ig(t),f=Mb(l,this.transformPagePoint),{point:d}=f,{timestamp:p}=Fn;this.history=[{...d,timestamp:p}];const{onSessionStart:g}=n;g&&g(t,$b(f,this.history)),this.removeListeners=ng(qd(this.contextWindow,"pointermove",this.handlePointerMove),qd(this.contextWindow,"pointerup",this.handlePointerUp),qd(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),lc(this.updatePoint)}}function Mb(e,t){return t?{point:t(e.point)}:e}function M4(e,t){return{x:e.x-t.x,y:e.y-t.y}}function $b({point:e},t){return{point:e,delta:M4(e,RO(t)),offset:M4(e,M9(t)),velocity:$9(t,.1)}}function M9(e){return e[0]}function RO(e){return e[e.length-1]}function $9(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const s=RO(e);for(;n>=0&&(r=e[n],!(s.timestamp-r.timestamp>Ki(t)));)n--;if(!r)return{x:0,y:0};const o=js(s.timestamp-r.timestamp);if(o===0)return{x:0,y:0};const c={x:(s.x-r.x)/o,y:(s.y-r.y)/o};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}function U9(e,{min:t,max:n},r){return t!==void 0&&e<t?e=r?Qt(t,e,r.min):Math.max(e,t):n!==void 0&&e>n&&(e=r?Qt(n,e,r.max):Math.min(e,n)),e}function $4(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function R9(e,{top:t,left:n,bottom:r,right:s}){return{x:$4(e.x,n,s),y:$4(e.y,t,r)}}function U4(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function P9(e,t){return{x:U4(e.x,t.x),y:U4(e.y,t.y)}}function B9(e,t){let n=.5;const r=gr(e),s=gr(t);return s>r?n=lp(t.min,t.max-r,e.min):r>s&&(n=lp(e.min,e.max-s,t.min)),Wo(0,1,n)}function L9(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const C2=.35;function k9(e=C2){return e===!1?e=0:e===!0&&(e=C2),{x:R4(e,"left","right"),y:R4(e,"top","bottom")}}function R4(e,t,n){return{min:P4(e,t),max:P4(e,n)}}function P4(e,t){return typeof e=="number"?e:e[t]||0}const j9=new WeakMap;class z9{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=cn(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:n=!1,distanceThreshold:r}={}){const{presenceContext:s}=this.visualElement;if(s&&s.isPresent===!1)return;const o=g=>{const{dragSnapToOrigin:y}=this.getProps();y?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(ig(g).point)},c=(g,y)=>{const{drag:b,dragPropagation:v,onDragStart:E}=this.getProps();if(b&&!v&&(this.openDragLock&&this.openDragLock(),this.openDragLock=Kk(b),!this.openDragLock))return;this.latestPointerEvent=g,this.latestPanInfo=y,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Rs(C=>{let O=this.getAxisMotionValue(C).get()||0;if(Gi.test(O)){const{projection:x}=this.visualElement;if(x&&x.layout){const N=x.layout.layoutBox[C];N&&(O=gr(N)*(parseFloat(O)/100))}}this.originPoint[C]=O}),E&&Zt.postRender(()=>E(g,y)),S2(this.visualElement,"transform");const{animationState:S}=this.visualElement;S&&S.setActive("whileDrag",!0)},l=(g,y)=>{this.latestPointerEvent=g,this.latestPanInfo=y;const{dragPropagation:b,dragDirectionLock:v,onDirectionLock:E,onDrag:S}=this.getProps();if(!b&&!this.openDragLock)return;const{offset:C}=y;if(v&&this.currentDirection===null){this.currentDirection=H9(C),this.currentDirection!==null&&E&&E(this.currentDirection);return}this.updateAxis("x",y.point,C),this.updateAxis("y",y.point,C),this.visualElement.render(),S&&S(g,y)},f=(g,y)=>{this.latestPointerEvent=g,this.latestPanInfo=y,this.stop(g,y),this.latestPointerEvent=null,this.latestPanInfo=null},d=()=>Rs(g=>this.getAnimationState(g)==="paused"&&this.getAxisMotionValue(g).animation?.play()),{dragSnapToOrigin:p}=this.getProps();this.panSession=new UO(t,{onSessionStart:o,onStart:c,onMove:l,onSessionEnd:f,resumeAnimation:d},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:p,distanceThreshold:r,contextWindow:$O(this.visualElement)})}stop(t,n){const r=t||this.latestPointerEvent,s=n||this.latestPanInfo,o=this.isDragging;if(this.cancel(),!o||!s||!r)return;const{velocity:c}=s;this.startAnimation(c);const{onDragEnd:l}=this.getProps();l&&Zt.postRender(()=>l(r,s))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,r){const{drag:s}=this.getProps();if(!r||!Wm(t,s,this.currentDirection))return;const o=this.getAxisMotionValue(t);let c=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(c=U9(c,this.constraints[t],this.elastic[t])),o.set(c)}resolveConstraints(){const{dragConstraints:t,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,s=this.constraints;t&&pf(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&r?this.constraints=R9(r.layoutBox,t):this.constraints=!1,this.elastic=k9(n),s!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&Rs(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=L9(r.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!pf(t))return!1;const r=t.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const o=F7(r,s.root,this.visualElement.getTransformPagePoint());let c=P9(s.layout.layoutBox,o);if(n){const l=n(j7(c));this.hasMutatedConstraints=!!l,l&&(c=wO(l))}return c}startAnimation(t){const{drag:n,dragMomentum:r,dragElastic:s,dragTransition:o,dragSnapToOrigin:c,onDragTransitionEnd:l}=this.getProps(),f=this.constraints||{},d=Rs(p=>{if(!Wm(p,n,this.currentDirection))return;let g=f&&f[p]||{};c&&(g={min:0,max:0});const y=s?200:1e6,b=s?40:1e7,v={type:"inertia",velocity:r?t[p]:0,bounceStiffness:y,bounceDamping:b,timeConstant:750,restDelta:1,restSpeed:10,...o,...g};return this.startAxisValueAnimation(p,v)});return Promise.all(d).then(l)}startAxisValueAnimation(t,n){const r=this.getAxisMotionValue(t);return S2(this.visualElement,t),r.start(HS(t,r,0,n,this.visualElement,!1))}stopAnimation(){Rs(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Rs(t=>this.getAxisMotionValue(t).animation?.pause())}getAnimationState(t){return this.getAxisMotionValue(t).animation?.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,r=this.visualElement.getProps(),s=r[n];return s||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){Rs(n=>{const{drag:r}=this.getProps();if(!Wm(n,r,this.currentDirection))return;const{projection:s}=this.visualElement,o=this.getAxisMotionValue(n);if(s&&s.layout){const{min:c,max:l}=s.layout.layoutBox[n];o.set(t[n]-Qt(c,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!pf(n)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};Rs(c=>{const l=this.getAxisMotionValue(c);if(l&&this.constraints!==!1){const f=l.get();s[c]=B9({min:f,max:f},this.constraints[c])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Rs(c=>{if(!Wm(c,t,null))return;const l=this.getAxisMotionValue(c),{min:f,max:d}=this.constraints[c];l.set(Qt(f,d,s[c]))})}addListeners(){if(!this.visualElement.current)return;j9.set(this.visualElement,this);const t=this.visualElement.current,n=qd(t,"pointerdown",f=>{const{drag:d,dragListener:p=!0}=this.getProps();d&&p&&this.start(f)}),r=()=>{const{dragConstraints:f}=this.getProps();pf(f)&&f.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,o=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),Zt.read(r);const c=pp(window,"resize",()=>this.scalePositionWithinConstraints()),l=s.addEventListener("didUpdate",(({delta:f,hasLayoutChanged:d})=>{this.isDragging&&d&&(Rs(p=>{const g=this.getAxisMotionValue(p);g&&(this.originPoint[p]+=f[p].translate,g.set(g.get()+f[p].translate))}),this.visualElement.render())}));return()=>{c(),n(),o(),l&&l()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:o=!1,dragElastic:c=C2,dragMomentum:l=!0}=t;return{...t,drag:n,dragDirectionLock:r,dragPropagation:s,dragConstraints:o,dragElastic:c,dragMomentum:l}}}function Wm(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function H9(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class F9 extends gc{constructor(t){super(t),this.removeGroupControls=Hs,this.removeListeners=Hs,this.controls=new z9(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Hs}unmount(){this.removeGroupControls(),this.removeListeners()}}const B4=e=>(t,n)=>{e&&Zt.postRender(()=>e(t,n))};class q9 extends gc{constructor(){super(...arguments),this.removePointerDownListener=Hs}onPointerDown(t){this.session=new UO(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:$O(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:B4(t),onStart:B4(n),onMove:r,onEnd:(o,c)=>{delete this.session,s&&Zt.postRender(()=>s(o,c))}}}mount(){this.removePointerDownListener=qd(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const U0={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function L4(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const fd={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(je.test(e))e=parseFloat(e);else return e;const n=L4(e,t.target.x),r=L4(e,t.target.y);return`${n}% ${r}%`}},V9={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,s=uc.parse(e);if(s.length>5)return r;const o=uc.createTransformer(e),c=typeof s[0]!="number"?1:0,l=n.x.scale*t.x,f=n.y.scale*t.y;s[0+c]/=l,s[1+c]/=f;const d=Qt(l,f,.5);return typeof s[2+c]=="number"&&(s[2+c]/=d),typeof s[3+c]=="number"&&(s[3+c]/=d),o(s)}};let Ub=!1;class W9 extends me.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r,layoutId:s}=this.props,{projection:o}=t;p7(K9),o&&(n.group&&n.group.add(o),r&&r.register&&s&&r.register(o),Ub&&o.root.didUpdate(),o.addEventListener("animationComplete",()=>{this.safeToRemove()}),o.setOptions({...o.options,onExitComplete:()=>this.safeToRemove()})),U0.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:r,drag:s,isPresent:o}=this.props,{projection:c}=r;return c&&(c.isPresent=o,Ub=!0,s||t.layoutDependency!==n||n===void 0||t.isPresent!==o?c.willUpdate():this.safeToRemove(),t.isPresent!==o&&(o?c.promote():c.relegate()||Zt.postRender(()=>{const l=c.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),OS.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:s}=t;Ub=!0,s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function PO(e){const[t,n]=sO(),r=me.useContext(cS);return Q.jsx(W9,{...e,layoutGroup:r,switchLayoutGroup:me.useContext(mO),isPresent:t,safeToRemove:n})}const K9={borderRadius:{...fd,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:fd,borderTopRightRadius:fd,borderBottomLeftRadius:fd,borderBottomRightRadius:fd,boxShadow:V9};function G9(e,t,n){const r=ur(e)?e:Df(e);return r.start(HS("",r,t,n)),r.animation}const Y9=(e,t)=>e.depth-t.depth;class X9{constructor(){this.children=[],this.isDirty=!1}add(t){fS(this.children,t),this.isDirty=!0}remove(t){hS(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(Y9),this.isDirty=!1,this.children.forEach(t)}}function Z9(e,t){const n=Lr.now(),r=({timestamp:s})=>{const o=s-n;o>=t&&(lc(r),e(o-t))};return Zt.setup(r,!0),()=>lc(r)}const BO=["TopLeft","TopRight","BottomLeft","BottomRight"],Q9=BO.length,k4=e=>typeof e=="string"?parseFloat(e):e,j4=e=>typeof e=="number"||je.test(e);function J9(e,t,n,r,s,o){s?(e.opacity=Qt(0,n.opacity??1,ej(r)),e.opacityExit=Qt(t.opacity??1,0,tj(r))):o&&(e.opacity=Qt(t.opacity??1,n.opacity??1,r));for(let c=0;c<Q9;c++){const l=`border${BO[c]}Radius`;let f=z4(t,l),d=z4(n,l);if(f===void 0&&d===void 0)continue;f||(f=0),d||(d=0),f===0||d===0||j4(f)===j4(d)?(e[l]=Math.max(Qt(k4(f),k4(d),r),0),(Gi.test(d)||Gi.test(f))&&(e[l]+="%")):e[l]=d}(t.rotate||n.rotate)&&(e.rotate=Qt(t.rotate||0,n.rotate||0,r))}function z4(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const ej=LO(0,.5,C6),tj=LO(.5,.95,Hs);function LO(e,t,n){return r=>r<e?0:r>t?1:n(lp(e,t,r))}function H4(e,t){e.min=t.min,e.max=t.max}function _s(e,t){H4(e.x,t.x),H4(e.y,t.y)}function F4(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function q4(e,t,n,r,s){return e-=t,e=J0(e,1/n,r),s!==void 0&&(e=J0(e,1/s,r)),e}function nj(e,t=0,n=1,r=.5,s,o=e,c=e){if(Gi.test(t)&&(t=parseFloat(t),t=Qt(c.min,c.max,t/100)-c.min),typeof t!="number")return;let l=Qt(o.min,o.max,r);e===o&&(l-=t),e.min=q4(e.min,t,n,l,s),e.max=q4(e.max,t,n,l,s)}function V4(e,t,[n,r,s],o,c){nj(e,t[n],t[r],t[s],t.scale,o,c)}const rj=["x","scaleX","originX"],sj=["y","scaleY","originY"];function W4(e,t,n,r){V4(e.x,t,rj,n?n.x:void 0,r?r.x:void 0),V4(e.y,t,sj,n?n.y:void 0,r?r.y:void 0)}function K4(e){return e.translate===0&&e.scale===1}function kO(e){return K4(e.x)&&K4(e.y)}function G4(e,t){return e.min===t.min&&e.max===t.max}function ij(e,t){return G4(e.x,t.x)&&G4(e.y,t.y)}function Y4(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function jO(e,t){return Y4(e.x,t.x)&&Y4(e.y,t.y)}function X4(e){return gr(e.x)/gr(e.y)}function Z4(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class oj{constructor(){this.members=[]}add(t){fS(this.members,t),t.scheduleRender()}remove(t){if(hS(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(s=>t===s);if(n===0)return!1;let r;for(let s=n;s>=0;s--){const o=this.members[s];if(o.isPresent!==!1){r=o;break}}return r?(this.promote(r),!0):!1}promote(t,n){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,n&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:s}=t.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:r}=t;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function aj(e,t,n){let r="";const s=e.x.translate/t.x,o=e.y.translate/t.y,c=n?.z||0;if((s||o||c)&&(r=`translate3d(${s}px, ${o}px, ${c}px) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:d,rotate:p,rotateX:g,rotateY:y,skewX:b,skewY:v}=n;d&&(r=`perspective(${d}px) ${r}`),p&&(r+=`rotate(${p}deg) `),g&&(r+=`rotateX(${g}deg) `),y&&(r+=`rotateY(${y}deg) `),b&&(r+=`skewX(${b}deg) `),v&&(r+=`skewY(${v}deg) `)}const l=e.x.scale*t.x,f=e.y.scale*t.y;return(l!==1||f!==1)&&(r+=`scale(${l}, ${f})`),r||"none"}const Rb=["","X","Y","Z"],cj=1e3;let lj=0;function Pb(e,t,n,r){const{latestValues:s}=t;s[e]&&(n[e]=s[e],t.setStaticValue(e,0),r&&(r[e]=0))}function zO(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=NO(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:s,layoutId:o}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",Zt,!(s||o))}const{parent:r}=e;r&&!r.hasCheckedOptimisedAppear&&zO(r)}function HO({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(c={},l=t?.()){this.id=lj++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(hj),this.nodes.forEach(mj),this.nodes.forEach(yj),this.nodes.forEach(dj)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let f=0;f<this.path.length;f++)this.path[f].shouldResetTransform=!0;this.root===this&&(this.nodes=new X9)}addEventListener(c,l){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new gS),this.eventHandlers.get(c).add(l)}notifyListeners(c,...l){const f=this.eventHandlers.get(c);f&&f.notify(...l)}hasListeners(c){return this.eventHandlers.has(c)}mount(c){if(this.instance)return;this.isSVG=rO(c)&&!Jk(c),this.instance=c;const{layoutId:l,layout:f,visualElement:d}=this.options;if(d&&!d.current&&d.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(f||l)&&(this.isLayoutDirty=!0),e){let p,g=0;const y=()=>this.root.updateBlockedByResize=!1;Zt.read(()=>{g=window.innerWidth}),e(c,()=>{const b=window.innerWidth;b!==g&&(g=b,this.root.updateBlockedByResize=!0,p&&p(),p=Z9(y,250),U0.hasAnimatedSinceResize&&(U0.hasAnimatedSinceResize=!1,this.nodes.forEach(eT)))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&d&&(l||f)&&this.addEventListener("didUpdate",({delta:p,hasLayoutChanged:g,hasRelativeLayoutChanged:y,layout:b})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const v=this.options.transition||d.getDefaultTransition()||Sj,{onLayoutAnimationStart:E,onLayoutAnimationComplete:S}=d.getProps(),C=!this.targetLayout||!jO(this.targetLayout,b),O=!g&&y;if(this.options.layoutRoot||this.resumeFrom||O||g&&(C||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const x={..._S(v,"layout"),onPlay:E,onComplete:S};(d.shouldReduceMotion||this.options.layoutRoot)&&(x.delay=0,x.type=!1),this.startAnimation(x),this.setAnimationOrigin(p,O)}else g||eT(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=b})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),lc(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(wj),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&zO(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let p=0;p<this.path.length;p++){const g=this.path[p];g.shouldResetTransform=!0,g.updateScroll("snapshot"),g.options.layoutRoot&&g.willUpdate(!1)}const{layoutId:l,layout:f}=this.options;if(l===void 0&&!f)return;const d=this.getTransformTemplate();this.prevTransformTemplateValue=d?d(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Q4);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(J4);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(gj),this.nodes.forEach(uj),this.nodes.forEach(fj)):this.nodes.forEach(J4),this.clearAllSnapshots();const l=Lr.now();Fn.delta=Wo(0,1e3/60,l-Fn.timestamp),Fn.timestamp=l,Fn.isProcessing=!0,Cb.update.process(Fn),Cb.preRender.process(Fn),Cb.render.process(Fn),Fn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,OS.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(pj),this.sharedNodes.forEach(bj)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Zt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Zt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!gr(this.snapshot.measuredBox.x)&&!gr(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let f=0;f<this.path.length;f++)this.path[f].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutCorrected=cn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(l=!1),l&&this.instance){const f=r(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:f,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:f}}}resetTransform(){if(!s)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!kO(this.projectionDelta),f=this.getTransformTemplate(),d=f?f(this.latestValues,""):void 0,p=d!==this.prevTransformTemplateValue;c&&this.instance&&(l||rl(this.latestValues)||p)&&(s(this.instance,d),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const l=this.measurePageBox();let f=this.removeElementScroll(l);return c&&(f=this.removeTransform(f)),Aj(f),{animationId:this.root.animationId,measuredBox:l,layoutBox:f,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:c}=this.options;if(!c)return cn();const l=c.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(Cj))){const{scroll:d}=this.root;d&&(gf(l.x,d.offset.x),gf(l.y,d.offset.y))}return l}removeElementScroll(c){const l=cn();if(_s(l,c),this.scroll?.wasRoot)return l;for(let f=0;f<this.path.length;f++){const d=this.path[f],{scroll:p,options:g}=d;d!==this.root&&p&&g.layoutScroll&&(p.wasRoot&&_s(l,c),gf(l.x,p.offset.x),gf(l.y,p.offset.y))}return l}applyTransform(c,l=!1){const f=cn();_s(f,c);for(let d=0;d<this.path.length;d++){const p=this.path[d];!l&&p.options.layoutScroll&&p.scroll&&p!==p.root&&mf(f,{x:-p.scroll.offset.x,y:-p.scroll.offset.y}),rl(p.latestValues)&&mf(f,p.latestValues)}return rl(this.latestValues)&&mf(f,this.latestValues),f}removeTransform(c){const l=cn();_s(l,c);for(let f=0;f<this.path.length;f++){const d=this.path[f];if(!d.instance||!rl(d.latestValues))continue;w2(d.latestValues)&&d.updateSnapshot();const p=cn(),g=d.measurePageBox();_s(p,g),W4(l,d.latestValues,d.snapshot?d.snapshot.layoutBox:void 0,p)}return rl(this.latestValues)&&W4(l,this.latestValues),l}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Fn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const f=!!this.resumingFrom||this!==l;if(!(c||f&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:p,layoutId:g}=this.options;if(!(!this.layout||!(p||g))){if(this.resolvedRelativeTargetAt=Fn.timestamp,!this.targetDelta&&!this.relativeTarget){const y=this.getClosestProjectingParent();y&&y.layout&&this.animationProgress!==1?(this.relativeParent=y,this.forceRelativeParentToResolveTarget(),this.relativeTarget=cn(),this.relativeTargetOrigin=cn(),Wd(this.relativeTargetOrigin,this.layout.layoutBox,y.layout.layoutBox),_s(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=cn(),this.targetWithTransforms=cn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),O9(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):_s(this.target,this.layout.layoutBox),vO(this.target,this.targetDelta)):_s(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const y=this.getClosestProjectingParent();y&&!!y.resumingFrom==!!this.resumingFrom&&!y.options.layoutScroll&&y.target&&this.animationProgress!==1?(this.relativeParent=y,this.forceRelativeParentToResolveTarget(),this.relativeTarget=cn(),this.relativeTargetOrigin=cn(),Wd(this.relativeTargetOrigin,this.target,y.target),_s(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||w2(this.parent.latestValues)||bO(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const c=this.getLead(),l=!!this.resumingFrom||this!==c;let f=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(f=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(f=!1),this.resolvedRelativeTargetAt===Fn.timestamp&&(f=!1),f)return;const{layout:d,layoutId:p}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||p))return;_s(this.layoutCorrected,this.layout.layoutBox);const g=this.treeScale.x,y=this.treeScale.y;H7(this.layoutCorrected,this.treeScale,this.path,l),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=cn());const{target:b}=c;if(!b){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(F4(this.prevProjectionDelta.x,this.projectionDelta.x),F4(this.prevProjectionDelta.y,this.projectionDelta.y)),Vd(this.projectionDelta,this.layoutCorrected,b,this.latestValues),(this.treeScale.x!==g||this.treeScale.y!==y||!Z4(this.projectionDelta.x,this.prevProjectionDelta.x)||!Z4(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",b))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){if(this.options.visualElement?.scheduleRender(),c){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=yf(),this.projectionDelta=yf(),this.projectionDeltaWithTransform=yf()}setAnimationOrigin(c,l=!1){const f=this.snapshot,d=f?f.latestValues:{},p={...this.latestValues},g=yf();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const y=cn(),b=f?f.source:void 0,v=this.layout?this.layout.source:void 0,E=b!==v,S=this.getStack(),C=!S||S.members.length<=1,O=!!(E&&!C&&this.options.crossfade===!0&&!this.path.some(Ej));this.animationProgress=0;let x;this.mixTargetDelta=N=>{const T=N/1e3;tT(g.x,c.x,T),tT(g.y,c.y,T),this.setTargetDelta(g),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Wd(y,this.layout.layoutBox,this.relativeParent.layout.layoutBox),vj(this.relativeTarget,this.relativeTargetOrigin,y,T),x&&ij(this.relativeTarget,x)&&(this.isProjectionDirty=!1),x||(x=cn()),_s(x,this.relativeTarget)),E&&(this.animationValues=p,J9(p,d,this.latestValues,T,O,C)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=T},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(lc(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Zt.update(()=>{U0.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Df(0)),this.currentAnimation=G9(this.motionValue,[0,1e3],{...c,velocity:0,isSync:!0,onUpdate:l=>{this.mixTargetDelta(l),c.onUpdate&&c.onUpdate(l)},onStop:()=>{},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(cj),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:l,target:f,layout:d,latestValues:p}=c;if(!(!l||!f||!d)){if(this!==c&&this.layout&&d&&FO(this.options.animationType,this.layout.layoutBox,d.layoutBox)){f=this.target||cn();const g=gr(this.layout.layoutBox.x);f.x.min=c.target.x.min,f.x.max=f.x.min+g;const y=gr(this.layout.layoutBox.y);f.y.min=c.target.y.min,f.y.max=f.y.min+y}_s(l,f),mf(l,p),Vd(this.projectionDeltaWithTransform,this.layoutCorrected,l,p)}}registerSharedNode(c,l){this.sharedNodes.has(c)||this.sharedNodes.set(c,new oj),this.sharedNodes.get(c).add(l);const d=l.options.initialPromotionConfig;l.promote({transition:d?d.transition:void 0,preserveFollowOpacity:d&&d.shouldPreserveFollowOpacity?d.shouldPreserveFollowOpacity(l):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){const{layoutId:c}=this.options;return c?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:c}=this.options;return c?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:l,preserveFollowOpacity:f}={}){const d=this.getStack();d&&d.promote(this,f),c&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let l=!1;const{latestValues:f}=c;if((f.z||f.rotate||f.rotateX||f.rotateY||f.rotateZ||f.skewX||f.skewY)&&(l=!0),!l)return;const d={};f.z&&Pb("z",c,d,this.animationValues);for(let p=0;p<Rb.length;p++)Pb(`rotate${Rb[p]}`,c,d,this.animationValues),Pb(`skew${Rb[p]}`,c,d,this.animationValues);c.render();for(const p in d)c.setStaticValue(p,d[p]),this.animationValues&&(this.animationValues[p]=d[p]);c.scheduleRender()}applyProjectionStyles(c,l){if(!this.instance||this.isSVG)return;if(!this.isVisible){c.visibility="hidden";return}const f=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,c.visibility="",c.opacity="",c.pointerEvents=$0(l?.pointerEvents)||"",c.transform=f?f(this.latestValues,""):"none";return}const d=this.getLead();if(!this.projectionDelta||!this.layout||!d.target){this.options.layoutId&&(c.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,c.pointerEvents=$0(l?.pointerEvents)||""),this.hasProjected&&!rl(this.latestValues)&&(c.transform=f?f({},""):"none",this.hasProjected=!1);return}c.visibility="";const p=d.animationValues||d.latestValues;this.applyTransformsToTarget();let g=aj(this.projectionDeltaWithTransform,this.treeScale,p);f&&(g=f(p,g)),c.transform=g;const{x:y,y:b}=this.projectionDelta;c.transformOrigin=`${y.origin*100}% ${b.origin*100}% 0`,d.animationValues?c.opacity=d===this?p.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:p.opacityExit:c.opacity=d===this?p.opacity!==void 0?p.opacity:"":p.opacityExit!==void 0?p.opacityExit:0;for(const v in dp){if(p[v]===void 0)continue;const{correct:E,applyTo:S,isCSSVariable:C}=dp[v],O=g==="none"?p[v]:E(p[v],d);if(S){const x=S.length;for(let N=0;N<x;N++)c[S[N]]=O}else C?this.options.visualElement.renderState.vars[v]=O:c[v]=O}this.options.layoutId&&(c.pointerEvents=d===this?$0(l?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>c.currentAnimation?.stop()),this.root.nodes.forEach(Q4),this.root.sharedNodes.clear()}}}function uj(e){e.updateLayout()}function fj(e){const t=e.resumeFrom?.snapshot||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:r}=e.layout,{animationType:s}=e.options,o=t.source!==e.layout.source;s==="size"?Rs(p=>{const g=o?t.measuredBox[p]:t.layoutBox[p],y=gr(g);g.min=n[p].min,g.max=g.min+y}):FO(s,t.layoutBox,n)&&Rs(p=>{const g=o?t.measuredBox[p]:t.layoutBox[p],y=gr(n[p]);g.max=g.min+y,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[p].max=e.relativeTarget[p].min+y)});const c=yf();Vd(c,n,t.layoutBox);const l=yf();o?Vd(l,e.applyTransform(r,!0),t.measuredBox):Vd(l,n,t.layoutBox);const f=!kO(c);let d=!1;if(!e.resumeFrom){const p=e.getClosestProjectingParent();if(p&&!p.resumeFrom){const{snapshot:g,layout:y}=p;if(g&&y){const b=cn();Wd(b,t.layoutBox,g.layoutBox);const v=cn();Wd(v,n,y.layoutBox),jO(b,v)||(d=!0),p.options.layoutRoot&&(e.relativeTarget=v,e.relativeTargetOrigin=b,e.relativeParent=p)}}}e.notifyListeners("didUpdate",{layout:n,snapshot:t,delta:l,layoutDelta:c,hasLayoutChanged:f,hasRelativeLayoutChanged:d})}else if(e.isLead()){const{onExitComplete:n}=e.options;n&&n()}e.options.transition=void 0}function hj(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function dj(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function pj(e){e.clearSnapshot()}function Q4(e){e.clearMeasurements()}function J4(e){e.isLayoutDirty=!1}function gj(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function eT(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function mj(e){e.resolveTargetDelta()}function yj(e){e.calcProjection()}function wj(e){e.resetSkewAndRotation()}function bj(e){e.removeLeadSnapshot()}function tT(e,t,n){e.translate=Qt(t.translate,0,n),e.scale=Qt(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function nT(e,t,n,r){e.min=Qt(t.min,n.min,r),e.max=Qt(t.max,n.max,r)}function vj(e,t,n,r){nT(e.x,t.x,n.x,r),nT(e.y,t.y,n.y,r)}function Ej(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const Sj={duration:.45,ease:[.4,0,.1,1]},rT=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),sT=rT("applewebkit/")&&!rT("chrome/")?Math.round:Hs;function iT(e){e.min=sT(e.min),e.max=sT(e.max)}function Aj(e){iT(e.x),iT(e.y)}function FO(e,t,n){return e==="position"||e==="preserve-aspect"&&!I9(X4(t),X4(n),.2)}function Cj(e){return e!==e.root&&e.scroll?.wasRoot}const xj=HO({attachResizeListener:(e,t)=>pp(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Bb={current:void 0},qO=HO({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Bb.current){const e=new xj({});e.mount(window),e.setOptions({layoutScroll:!0}),Bb.current=e}return Bb.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),Nj={pan:{Feature:q9},drag:{Feature:F9,ProjectionNode:qO,MeasureLayout:PO}};function oT(e,t,n){const{props:r}=e;e.animationState&&r.whileHover&&e.animationState.setActive("whileHover",n==="Start");const s="onHover"+n,o=r[s];o&&Zt.postRender(()=>o(t,ig(t)))}class Tj extends gc{mount(){const{current:t}=this.node;t&&(this.unmount=Gk(t,(n,r)=>(oT(this.node,r,"Start"),s=>oT(this.node,s,"End"))))}unmount(){}}class _j extends gc{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=ng(pp(this.node.current,"focus",()=>this.onFocus()),pp(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function aT(e,t,n){const{props:r}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&r.whileTap&&e.animationState.setActive("whileTap",n==="Start");const s="onTap"+(n==="End"?"":n),o=r[s];o&&Zt.postRender(()=>o(t,ig(t)))}class Ij extends gc{mount(){const{current:t}=this.node;t&&(this.unmount=Qk(t,(n,r)=>(aT(this.node,r,"Start"),(s,{success:o})=>aT(this.node,s,o?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const x2=new WeakMap,Lb=new WeakMap,Oj=e=>{const t=x2.get(e.target);t&&t(e)},Dj=e=>{e.forEach(Oj)};function Mj({root:e,...t}){const n=e||document;Lb.has(n)||Lb.set(n,{});const r=Lb.get(n),s=JSON.stringify(t);return r[s]||(r[s]=new IntersectionObserver(Dj,{root:e,...t})),r[s]}function $j(e,t,n){const r=Mj(t);return x2.set(e,n),r.observe(e),()=>{x2.delete(e),r.unobserve(e)}}const Uj={some:0,all:1};class Rj extends gc{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:r,amount:s="some",once:o}=t,c={root:n?n.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:Uj[s]},l=f=>{const{isIntersecting:d}=f;if(this.isInView===d||(this.isInView=d,o&&!d&&this.hasEnteredView))return;d&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",d);const{onViewportEnter:p,onViewportLeave:g}=this.node.getProps(),y=d?p:g;y&&y(f)};return $j(this.node.current,c,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(Pj(t,n))&&this.startObserver()}unmount(){}}function Pj({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const Bj={inView:{Feature:Rj},tap:{Feature:Ij},focus:{Feature:_j},hover:{Feature:Tj}},Lj={layout:{ProjectionNode:qO,MeasureLayout:PO}},kj={...A9,...Bj,...Nj,...Lj},We=k7(kj,Q7);var VO={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},cT=Ho.createContext&&Ho.createContext(VO),jj=["attr","size","title"];function zj(e,t){if(e==null)return{};var n=Hj(e,t),r,s;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(s=0;s<o.length;s++)r=o[s],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Hj(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function ey(){return ey=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ey.apply(this,arguments)}function lT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function ty(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?lT(Object(n),!0).forEach(function(r){Fj(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Fj(e,t,n){return t=qj(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qj(e){var t=Vj(e,"string");return typeof t=="symbol"?t:t+""}function Vj(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function WO(e){return e&&e.map((t,n)=>Ho.createElement(t.tag,ty({key:n},t.attr),WO(t.child)))}function zr(e){return t=>Ho.createElement(Wj,ey({attr:ty({},e.attr)},t),WO(e.child))}function Wj(e){var t=n=>{var{attr:r,size:s,title:o}=e,c=zj(e,jj),l=s||n.size||"1em",f;return n.className&&(f=n.className),e.className&&(f=(f?f+" ":"")+e.className),Ho.createElement("svg",ey({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,c,{className:f,style:ty(ty({color:e.color||n.color},n.style),e.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),o&&Ho.createElement("title",null,o),e.children)};return cT!==void 0?Ho.createElement(cT.Consumer,null,n=>t(n)):t(VO)}function KO(e){return zr({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M440.5 88.5l-52 52L415 167c9.4 9.4 9.4 24.6 0 33.9l-17.4 17.4c11.8 26.1 18.4 55.1 18.4 85.6 0 114.9-93.1 208-208 208S0 418.9 0 304 93.1 96 208 96c30.5 0 59.5 6.6 85.6 18.4L311 97c9.4-9.4 24.6-9.4 33.9 0l26.5 26.5 52-52 17.1 17zM500 60h-24c-6.6 0-12 5.4-12 12s5.4 12 12 12h24c6.6 0 12-5.4 12-12s-5.4-12-12-12zM440 0c-6.6 0-12 5.4-12 12v24c0 6.6 5.4 12 12 12s12-5.4 12-12V12c0-6.6-5.4-12-12-12zm33.9 55l17-17c4.7-4.7 4.7-12.3 0-17-4.7-4.7-12.3-4.7-17 0l-17 17c-4.7 4.7-4.7 12.3 0 17 4.8 4.7 12.4 4.7 17 0zm-67.8 0c4.7 4.7 12.3 4.7 17 0 4.7-4.7 4.7-12.3 0-17l-17-17c-4.7-4.7-12.3-4.7-17 0-4.7 4.7-4.7 12.3 0 17l17 17zm67.8 34c-4.7-4.7-12.3-4.7-17 0-4.7 4.7-4.7 12.3 0 17l17 17c4.7 4.7 12.3 4.7 17 0 4.7-4.7 4.7-12.3 0-17l-17-17zM112 272c0-35.3 28.7-64 64-64 8.8 0 16-7.2 16-16s-7.2-16-16-16c-52.9 0-96 43.1-96 96 0 8.8 7.2 16 16 16s16-7.2 16-16z"},child:[]}]})(e)}function FS(e){return zr({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M0 405.3V448c0 35.3 86 64 192 64s192-28.7 192-64v-42.7C342.7 434.4 267.2 448 192 448S41.3 434.4 0 405.3zM320 128c106 0 192-28.7 192-64S426 0 320 0 128 28.7 128 64s86 64 192 64zM0 300.4V352c0 35.3 86 64 192 64s192-28.7 192-64v-51.6c-41.3 34-116.9 51.6-192 51.6S41.3 334.4 0 300.4zm416 11c57.3-11.1 96-31.7 96-55.4v-42.7c-23.2 16.4-57.3 27.6-96 34.5v63.6zM192 160C86 160 0 195.8 0 240s86 80 192 80 192-35.8 192-80-86-80-192-80zm219.3 56.3c60-10.8 100.7-32 100.7-56.3v-42.7c-35.5 25.1-96.5 38.6-160.7 41.8 29.5 14.3 51.2 33.5 60 57.2z"},child:[]}]})(e)}function uT(e){return zr({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M480.07 96H160a160 160 0 1 0 114.24 272h91.52A160 160 0 1 0 480.07 96zM248 268a12 12 0 0 1-12 12h-52v52a12 12 0 0 1-12 12h-24a12 12 0 0 1-12-12v-52H84a12 12 0 0 1-12-12v-24a12 12 0 0 1 12-12h52v-52a12 12 0 0 1 12-12h24a12 12 0 0 1 12 12v52h52a12 12 0 0 1 12 12zm216 76a40 40 0 1 1 40-40 40 40 0 0 1-40 40zm64-96a40 40 0 1 1 40-40 40 40 0 0 1-40 40z"},child:[]}]})(e)}function Kj(e){return zr({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M280.37 148.26L96 300.11V464a16 16 0 0 0 16 16l112.06-.29a16 16 0 0 0 15.92-16V368a16 16 0 0 1 16-16h64a16 16 0 0 1 16 16v95.64a16 16 0 0 0 16 16.05L464 480a16 16 0 0 0 16-16V300L295.67 148.26a12.19 12.19 0 0 0-15.3 0zM571.6 251.47L488 182.56V44.05a12 12 0 0 0-12-12h-56a12 12 0 0 0-12 12v72.61L318.47 43a48 48 0 0 0-61 0L4.34 251.47a12 12 0 0 0-1.6 16.9l25.5 31A12 12 0 0 0 45.15 301l235.22-193.74a12.19 12.19 0 0 1 15.3 0L530.9 301a12 12 0 0 0 16.9-1.6l25.5-31a12 12 0 0 0-1.7-16.93z"},child:[]}]})(e)}function Gj(e){return zr({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M500.33 0h-47.41a12 12 0 0 0-12 12.57l4 82.76A247.42 247.42 0 0 0 256 8C119.34 8 7.9 119.53 8 256.19 8.1 393.07 119.1 504 256 504a247.1 247.1 0 0 0 166.18-63.91 12 12 0 0 0 .48-17.43l-34-34a12 12 0 0 0-16.38-.55A176 176 0 1 1 402.1 157.8l-101.53-4.87a12 12 0 0 0-12.57 12v47.41a12 12 0 0 0 12 12h200.33a12 12 0 0 0 12-12V12a12 12 0 0 0-12-12z"},child:[]}]})(e)}function Yj(e){return zr({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M304 48c0 26.51-21.49 48-48 48s-48-21.49-48-48 21.49-48 48-48 48 21.49 48 48zm-48 368c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zm208-208c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zM96 256c0-26.51-21.49-48-48-48S0 229.49 0 256s21.49 48 48 48 48-21.49 48-48zm12.922 99.078c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48c0-26.509-21.491-48-48-48zm294.156 0c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48c0-26.509-21.49-48-48-48zM108.922 60.922c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.491-48-48-48z"},child:[]}]})(e)}function Xj(e){return zr({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M259.3 17.8L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0z"},child:[]}]})(e)}function Zj(e){return zr({attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"},child:[]}]})(e)}function Qj(e){return zr({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M552 64H448V24c0-13.3-10.7-24-24-24H152c-13.3 0-24 10.7-24 24v40H24C10.7 64 0 74.7 0 88v56c0 35.7 22.5 72.4 61.9 100.7 31.5 22.7 69.8 37.1 110 41.7C203.3 338.5 240 360 240 360v72h-48c-35.3 0-64 20.7-64 56v12c0 6.6 5.4 12 12 12h296c6.6 0 12-5.4 12-12v-12c0-35.3-28.7-56-64-56h-48v-72s36.7-21.5 68.1-73.6c40.3-4.6 78.6-19 110-41.7 39.3-28.3 61.9-65 61.9-100.7V88c0-13.3-10.7-24-24-24zM99.3 192.8C74.9 175.2 64 155.6 64 144v-16h64.2c1 32.6 5.8 61.2 12.8 86.2-15.1-5.2-29.2-12.4-41.7-21.4zM512 144c0 16.1-17.7 36.1-35.3 48.8-12.5 9-26.7 16.2-41.8 21.4 7-25 11.8-53.6 12.8-86.2H512v16z"},child:[]}]})(e)}function Jj(e){return zr({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M461.2 128H80c-8.84 0-16-7.16-16-16s7.16-16 16-16h384c8.84 0 16-7.16 16-16 0-26.51-21.49-48-48-48H64C28.65 32 0 60.65 0 96v320c0 35.35 28.65 64 64 64h397.2c28.02 0 50.8-21.53 50.8-48V176c0-26.47-22.78-48-50.8-48zM416 336c-17.67 0-32-14.33-32-32s14.33-32 32-32 32 14.33 32 32-14.33 32-32 32z"},child:[]}]})(e)}function qS(e){return zr({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M258.396 21.375l-17.503 64.1c-1.133 2.452-1.782 5.172-1.782 8.05 0 10.634 8.62 19.256 19.255 19.256 10.634 0 19.256-8.62 19.256-19.255 0-.72-.045-1.426-.122-2.125h.022l-.05-.18c-.23-1.917-.737-3.746-1.488-5.45l-17.586-64.395zm118.21 31.494l-46.21 45.77c-6.03 3.254-10.126 9.626-10.126 16.956 0 10.633 8.622 19.254 19.255 19.254.668 0 1.327-.034 1.977-.1 7.608 5.175 14.85 11.125 21.6 17.875 57.872 57.872 57.87 151.418 0 209.29-6.75 6.747-13.99 12.694-21.594 17.868-.65-.066-1.308-.1-1.975-.1-10.634 0-19.256 8.623-19.256 19.256 0 7.006 3.757 13.12 9.352 16.49l46.694 46.252-18.545-70.55c6.468-4.81 12.67-10.137 18.536-16.003l6.608-6.61-.334-.332c3.252-3.637 6.305-7.388 9.183-11.23l71.057 18.68-51.63-52.126c6.54-15.08 10.757-30.926 12.636-46.996l70.61-19.282-70.56-19.267c-1.82-15.925-5.937-31.633-12.343-46.59l51.234-51.727-70.318 18.483c-4.842-6.536-10.22-12.8-16.144-18.723-5.794-5.794-11.916-11.063-18.298-15.824l18.587-70.717zm-236.307.005l17.112 65.107c.218 1.76.662 3.45 1.322 5.032l.153.582c-6.38 4.76-12.498 10.023-18.29 15.814-5.92 5.92-11.294 12.18-16.136 18.715L54.024 139.61l51.31 51.802c-6.41 14.945-10.535 30.64-12.376 46.553l-70.562 19.27L92.95 276.5c1.856 16.108 6.06 31.994 12.595 47.105l-51.574 52.07 70.952-18.648c4.722 6.312 9.94 12.368 15.676 18.102 5.815 5.814 11.96 11.102 18.367 15.876-1.004 2.215-1.613 4.646-1.707 7.213l-16.678 63.456 48.91-48.447-.037-.08c3.86-3.52 6.297-8.575 6.297-14.21 0-10.634-8.622-19.256-19.256-19.256-.395 0-.786.015-1.176.04-7.573-5.16-14.783-11.088-21.506-17.81-57.872-57.872-57.872-151.417 0-209.29 6.725-6.723 13.938-12.65 21.514-17.81.39.022.782.036 1.178.036 10.634 0 19.254-8.62 19.254-19.254 0-6.22-2.963-11.736-7.54-15.256L140.3 52.875zm127.436 89.87v49.02l33.602 19.292 46.18-25.045-79.782-43.268zm-18.69.312l-79.722 42.957 46.31 24.955 33.413-19.062v-48.85zM159.9 202.164v114.012l46.346-24.975v-64.063L159.9 202.164zm196.985.027l-46.342 25.134v63.7l46.342 25.136V202.19zm-98.367 5.83l-33.584 19.158v64.285l33.584 19.162 33.336-19.145v-64.318l-33.336-19.14zm43.082 99.416l-33.864 19.445v47.056l78.24-42.432-44.376-24.068zm-86.24.084l-44.495 23.976 78.182 42.127v-46.885L215.36 307.52zm43.005 94.234c-10.634 0-19.254 8.622-19.254 19.256 0 2.74.582 5.342 1.615 7.703l17.67 64.713 17.787-65.12c.57-1.39.965-2.86 1.197-4.388l.06-.23h-.026c.122-.878.207-1.767.207-2.678 0-10.634-8.62-19.256-19.255-19.256z"},child:[]}]})(e)}function GO(e){return zr({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M16 16c48 96 24 120 72 168 0 0 44.864 0 69.53-21.688A135.765 135.765 0 0 0 120.25 256a135.765 135.765 0 0 0 271.5 0 135.765 135.765 0 0 0-36.375-92.906C380.22 183.997 424 184 424 184c48-48 24-72 72-168-96 48-120 24-168 72 0 0 .004 44.6 21.5 69.313a135.765 135.765 0 0 0-186.72-.344C183.987 132.19 184 88 184 88c-48-48-72-24-168-72zm72 312c-48 48-24 72-72 168 96-48 120-24 168-72 0 0 0-48-24-72s-72-24-72-24zm336 0s-48 0-72 24-24 72-24 72c48 48 72 24 168 72-48-96-24-120-72-168z"},child:[]}]})(e)}function N2(e){return zr({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M227.4 34.7c-10.1 0-20.2.2-30.2.5l6.1 65.6-61.1-62.5c-31.3 2.5-62.5 6.6-93.8 12.5l34.2 28.4-48-.6c35.1 100.2 6.9 182.6-.3 292.1L130 476.5c10-1.3 19.9-2.4 29.6-3.3l21.5-42.2 18.6 28.8 41.5-33.5.8 43c82.9-.2 157.7 9.1 235.7 7.9-28.2-73-31.2-143.6-31.9-209.2l-33.3-19.1 32.7-33.9c-.4-21.3-1.3-42-3.6-61.9l-57.4.7 50.2-41.7c-3.8-15.5-9-30.4-16.1-44.7l-29.5-23.9C335 38 281.2 34.6 227.4 34.7zm58.7 37c10.6 24.75 21.1 49.5 31.7 74.3 7.5-10.5 14.9-21 22.4-31.5 16 27.2 32 54.3 48 81.5l-16.2 9.5-33.3-56.7-42.5 59.4-15.2-10.9 24-33.5-21.9-51.5-24.6 40.1 12 22.6-16.5 8.8-18.3-34.5-24.8 58.2-17.2-7.4 32.5-76.2 7.7-18c4.8 9.2 9.6 18.3 14.5 27.4 12.5-20.6 25.1-41.11 37.7-61.6zM91.2 128c6.72 1.6 13.4 3.4 19.2 5.3-2.1 5.9-4.1 11.8-6.2 17.6-5.79-1.6-11.72-3.4-16.9-4.7 1.39-6 2.62-12.1 3.9-18.2zm37.9 13.4c6.3 3.8 12 7.2 17 12.8L132.6 167c-4-3.7-8.6-7-12.8-9.4zm28.7 32.3c2.1 7.4 2.1 15.7 1.6 22.5l-18.5-2.4c.1-5.1.3-10-1-14.5zm-21.2 35.7l17.2 7.1c-3.3 6.6-5.1 12.7-8.6 17.8l-16.3-9c2.6-5.4 5.6-10.8 7.7-15.9zm-16.5 34.1l17.7 6.1c-1.5 5.4-3 11.2-3.6 16.2l-18.6-2c1.3-7.5 2.1-14 4.5-20.3zm207.8 17.4c8.5 1 14.6 3 21.7 7.1l-9.8 16c-4.1-2.8-9.4-3.8-13.5-4.5zm-21.2 1.5c1.1 6.1 2.5 12.2 3.9 18.3-5.9 1.3-11.7 3.3-16.5 5.1l-6.8-17.4c6.7-2.4 13.5-4.7 19.4-6zm-37.9 15.9l11 15.1c-5.6 4-11.8 7.8-16.8 10.6l-8.9-16.4c5.1-2.9 10.6-6.3 14.7-9.3zM135.3 281c1.5 4.7 4.2 9.2 6.9 12.1l-13.8 12.6c-5.5-5.7-9.5-13.5-11.2-20.1zm230.3 3.3c3.5 6.4 6.8 12.7 8.7 19.1l-17.8 5.6c-2-5.4-4.3-10.8-6.8-14.8zm-127.4 10.9l6.9 17.3c-6.4 2.7-12.9 4.8-18.6 6.5l-5-18c5.9-1.6 11.3-3.8 16.7-5.8zm-83.8 6.2c5.3 1.7 10.8 3.4 15.7 4.2-1.2 6.1-2 12.3-2.8 18.5-7-1-14.5-3.3-20.5-5.7zm50 3.5l2.8 18.5c-7.2 1.3-13.4 1.6-19.8 1.9l-.4-18.7c5.9-.2 11.6-.8 17.4-1.7zm174.5 18c1 6.4 1.6 12.9 2.2 19.3l-18.7 1.5c-.4-6-.9-11.9-2-17.8zm-67.6 30.8c18.9 3.5 44.9 16.2 68.9 33.9 7.4-9.9 14.4-20.4 21.3-31.1l30.1 12.9c-4.7 12.3-15 25.6-28.6 37.2 17 16.2 30.9 34.5 37 53-13.8-18.1-31.1-31.8-50.3-42.8-23.4 15.8-52.7 25.9-79.6 20.4 22.9-4.4 40.6-16.6 55.8-32.6-16.5-7.5-33.8-13.9-51.3-20.1z"},child:[]}]})(e)}function YO(e){return zr({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256.156 21.625c-45.605 0-86.876 2.852-117.22 7.563-15.17 2.355-27.554 5.11-36.874 8.53-4.66 1.71-8.568 3.515-11.968 6.094-3.238 2.457-6.65 6.36-6.97 11.75h-.75c0 10.08.362 20.022 1.064 29.813H57.53c-.12-7.952.003-15.922.376-23.875l-26.812-6.28C22.55 161.892 64.1 265.716 140.564 339.655l15.655-29.594c-4.198-3.477-8.25-7.063-12.157-10.75 5.846-6.112 12.293-11.76 19.28-16.843 13.468 13.172 28.182 23.565 43.813 30.655 22.114 17.744 8.053 29.368-23.5 36.25 58.863 10.6 38.948 62.267-14.125 92.313-2.14.27-4.256.523-6.28.812-12.047 1.718-21.876 3.71-29.406 6.25-3.765 1.27-6.958 2.6-9.906 4.656-2.95 2.055-6.626 5.705-6.626 11.406 0 5.702 3.677 9.32 6.626 11.375 2.948 2.055 6.14 3.387 9.906 4.657 7.53 2.54 17.36 4.532 29.406 6.25 24.094 3.436 56.784 5.53 92.906 5.53 36.123 0 68.812-2.094 92.906-5.53 12.048-1.718 21.877-3.71 29.407-6.25 3.764-1.27 6.957-2.602 9.905-4.656 2.948-2.055 6.625-5.674 6.625-11.375 0-5.702-3.677-9.352-6.625-11.407-2.948-2.055-6.14-3.387-9.906-4.656-7.53-2.54-17.36-4.532-29.408-6.25-2.013-.287-4.12-.544-6.25-.813-53.076-30.045-72.99-81.71-14.125-92.312-31.568-6.886-45.63-18.522-23.468-36.28 15.74-7.15 30.547-17.655 44.092-30.97 6.648 4.773 12.84 10.038 18.47 15.72-4.105 4.172-8.338 8.257-12.72 12.217l16.188 29.594c79.118-71.955 116.195-179.53 110.03-285l-27.342 7.97c.45 7.61.64 15.19.562 22.75h-25.594c.702-9.792 1.063-19.735 1.063-29.814h-.75c-.323-5.39-3.763-9.293-7-11.75-3.402-2.58-7.31-4.383-11.97-6.093-9.32-3.422-21.704-6.177-36.875-8.532-30.342-4.71-71.613-7.563-117.22-7.563zm0 18.688c44.822 0 85.426 2.854 114.344 7.343 14.46 2.245 26.06 4.932 33.313 7.594 1.04.382 1.775.75 2.625 1.125-.85.375-1.58.742-2.625 1.125-7.252 2.662-18.854 5.38-33.313 7.625-28.918 4.49-69.522 7.344-114.344 7.344-44.82 0-85.425-2.855-114.344-7.345-14.46-2.245-26.06-4.963-33.312-7.625-1.05-.386-1.77-.748-2.625-1.125.853-.376 1.577-.74 2.625-1.125 7.252-2.662 18.853-5.35 33.313-7.594 28.918-4.49 69.522-7.343 114.343-7.343zm-197.25 71.874H86.25c8.057 57.878 28.23 108.83 56.188 146.25-6.974 5.74-13.407 11.968-19.188 18.688-38.648-46.456-59.042-104.647-64.344-164.938zm367.188 0h27C447.51 171.82 425.336 228.34 388.03 275c-5.44-6.055-11.406-11.73-17.842-16.97 27.81-37.38 47.873-88.175 55.906-145.842z"},child:[]}]})(e)}const XO={MISSING_PARAMETER:"missing_parameter",REMOTE_SERVICE_ERROR:"remote_service_error",INVALID_STATE:"invalid_state",NO_SESSION_DATA:"no_session_data",DOES_NOT_EXIST:"does_not_exist",FAILED_DECRYPTION_ERROR:"failed_decryption_error",INVALID_DID_ERROR:"invalid_did_error",NOT_ENOUGH_FUNDS_ERROR:"not_enough_error",INVALID_AMOUNT_ERROR:"invalid_amount_error",LOGIN_FAILED_ERROR:"login_failed",SIGNATURE_VERIFICATION_ERROR:"signature_verification_failure",CONFLICT_ERROR:"conflict_error",NOT_ENOUGH_PROOF_ERROR:"not_enough_proof_error",BAD_PATH_ERROR:"bad_path_error",VALIDATION_ERROR:"validation_error",PAYLOAD_TOO_LARGE_ERROR:"payload_too_large_error",PRECONDITION_FAILED_ERROR:"precondition_failed_error",UNKNOWN:"unknown"};Object.freeze(XO);class ez extends Error{constructor(t){super();let n=t.message,r=`Error Code: ${t.code}`,s=this.stack;if(s)r+=`Stack Trace:
${s}`;else try{throw new Error}catch(o){s=o.stack}n+=`
If you believe this exception is caused by a bug in stacks.js,
      please file a bug report: https://github.com/blockstack/stacks.js/issues

${r}`,this.message=n,this.code=t.code,this.parameter=t.parameter?t.parameter:void 0}toString(){return`${super.toString()}
    code: ${this.code} param: ${this.parameter?this.parameter:"n/a"}`}}class VS extends ez{constructor(t){super({code:XO.INVALID_STATE,message:t}),this.message=t,this.name="NoSessionDataError"}}function fc(e,t){return WS(wr(e),t)}function wr(e){if(typeof e=="bigint")return e;if(typeof e=="string")return BigInt(e);if(typeof e=="number"){if(!Number.isInteger(e))throw new RangeError("Invalid value. Values of type 'number' must be an integer.");if(e>Number.MAX_SAFE_INTEGER)throw new RangeError(`Invalid value. Values of type 'number' must be less than or equal to ${Number.MAX_SAFE_INTEGER}. For larger values, try using a BigInt instead.`);return BigInt(e)}if(Hr(e,Uint8Array))return BigInt(`0x${Ke(e)}`);throw new TypeError("intToBigInt: Invalid value type. Must be a number, bigint, BigInt-compatible string, or Uint8Array.")}function tz(e){return/^0x/i.test(e)?e.slice(2):e}function fT(e){if(typeof e!="string")throw new TypeError(`hexToBigInt: expected string, got ${typeof e}`);return BigInt(`0x${e}`)}function og(e,t=8){return(typeof e=="bigint"?e:wr(e)).toString(16).padStart(t*2,"0")}function Uy(e){return parseInt(e,16)}function WS(e,t=16){const n=og(e,t);return Rt(n)}function nz(e,t){if(e<-(BigInt(1)<<t-BigInt(1))||(BigInt(1)<<t-BigInt(1))-BigInt(1)<e)throw`Unable to represent integer in width: ${t}`;return e>=BigInt(0)?BigInt(e):e+(BigInt(1)<<t)}function rz(e,t){return e&BigInt(1)<<t}function T2(e){return sz(BigInt(`0x${Ke(e)}`),BigInt(e.byteLength*8))}function sz(e,t){return rz(e,t-BigInt(1))?e-(BigInt(1)<<t):e}const iz=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function Ke(e){if(!(e instanceof Uint8Array))throw new Error("Uint8Array expected");let t="";for(const n of e)t+=iz[n];return t}function Rt(e){if(typeof e!="string")throw new TypeError(`hexToBytes: expected string, got ${typeof e}`);e=tz(e),e=e.length%2?`0${e}`:e;const t=new Uint8Array(e.length/2);for(let n=0;n<t.length;n++){const r=n*2,s=e.slice(r,r+2),o=Number.parseInt(s,16);if(Number.isNaN(o)||o<0)throw new Error("Invalid byte sequence");t[n]=o}return t}function eh(e){return new TextEncoder().encode(e)}function Ry(e){return new TextDecoder().decode(e)}function oz(e){const t=[];for(let n=0;n<e.length;n++)t.push(e.charCodeAt(n)&255);return new Uint8Array(t)}function az(e){return String.fromCharCode.apply(null,e)}function cz(e){return!Number.isInteger(e)||e<0||e>255}function hT(e){if(e.some(cz))throw new Error("Some values are invalid bytes.");return new Uint8Array(e)}function Py(...e){if(!e.every(r=>r instanceof Uint8Array))throw new Error("Uint8Array list expected");if(e.length===1)return e[0];const t=e.reduce((r,s)=>r+s.length,0),n=new Uint8Array(t);for(let r=0,s=0;r<e.length;r++){const o=e[r];n.set(o,s),s+=o.length}return n}function un(e){return Py(...e.map(t=>typeof t=="number"?hT([t]):t instanceof Array?hT(t):t))}function Hr(e,t){return e instanceof t||e?.constructor?.name?.toLowerCase()===t.name}const lz="https://api.mainnet.hiro.so",uz="https://api.testnet.hiro.so",fz="http://localhost:3999",hz=33,kb=32;function dz(e){if(e.length<kb*2*2+1)throw new Error("Invalid signature");const t=e.slice(0,2),n=e.slice(2,2+kb*2),r=e.slice(2+kb*2);return{recoveryId:Uy(t),r:n,s:r}}function ZO(e){const t=typeof e=="string"?Rt(e):e;if(t.length!=32&&t.length!=33)throw new Error(`Improperly formatted private-key. Private-key byte length should be 32 or 33. Length provided: ${t.length}`);if(t.length==33&&t[32]!==1)throw new Error("Improperly formatted private-key. 33 bytes indicate compressed key, but the last byte must be == 01");return t}function pz(e,t){return(e[t+0]<<8|e[t+1])>>>0}function gz(e,t,n=0){return e[n+0]=t>>>8,e[n+1]=t>>>0,e}function mz(e,t){return e[t]}function yz(e,t,n=0){return e[n]=t,e}function wz(e,t){return e[t]*2**24+e[t+1]*2**16+e[t+2]*2**8+e[t+3]}function Il(e,t,n=0){return e[n+3]=t,t>>>=8,e[n+2]=t,t>>>=8,e[n+1]=t,t>>>=8,e[n]=t,e}/*! scure-base - MIT License (c) 2022 Paul Miller (paulmillr.com) */function QO(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function bz(e,...t){if(!QO(e))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw new Error("Uint8Array expected of length "+t+", got length="+e.length)}function JO(e,t){return Array.isArray(t)?t.length===0?!0:e?t.every(n=>typeof n=="string"):t.every(n=>Number.isSafeInteger(n)):!1}function gp(e,t){if(typeof t!="string")throw new Error(`${e}: string expected`);return!0}function KS(e){if(!Number.isSafeInteger(e))throw new Error(`invalid integer: ${e}`)}function _2(e){if(!Array.isArray(e))throw new Error("array expected")}function ny(e,t){if(!JO(!0,t))throw new Error(`${e}: array of strings expected`)}function vz(e,t){if(!JO(!1,t))throw new Error(`${e}: array of numbers expected`)}function eD(...e){const t=o=>o,n=(o,c)=>l=>o(c(l)),r=e.map(o=>o.encode).reduceRight(n,t),s=e.map(o=>o.decode).reduce(n,t);return{encode:r,decode:s}}function tD(e){const t=typeof e=="string"?e.split(""):e,n=t.length;ny("alphabet",t);const r=new Map(t.map((s,o)=>[s,o]));return{encode:s=>(_2(s),s.map(o=>{if(!Number.isSafeInteger(o)||o<0||o>=n)throw new Error(`alphabet.encode: digit index outside alphabet "${o}". Allowed: ${e}`);return t[o]})),decode:s=>(_2(s),s.map(o=>{gp("alphabet.decode",o);const c=r.get(o);if(c===void 0)throw new Error(`Unknown letter: "${o}". Allowed: ${e}`);return c}))}}function nD(e=""){return gp("join",e),{encode:t=>(ny("join.decode",t),t.join(e)),decode:t=>(gp("join.decode",t),t.split(e))}}function rD(e,t="="){return KS(e),gp("padding",t),{encode(n){for(ny("padding.encode",n);n.length*e%8;)n.push(t);return n},decode(n){ny("padding.decode",n);let r=n.length;if(r*e%8)throw new Error("padding: invalid, string should have whole number of bytes");for(;r>0&&n[r-1]===t;r--)if((r-1)*e%8===0)throw new Error("padding: invalid, string has too much padding");return n.slice(0,r)}}}const sD=(e,t)=>t===0?e:sD(t,e%t),ry=(e,t)=>e+(t-sD(e,t)),jb=(()=>{let e=[];for(let t=0;t<40;t++)e.push(2**t);return e})();function dT(e,t,n,r){if(_2(e),t<=0||t>32)throw new Error(`convertRadix2: wrong from=${t}`);if(n<=0||n>32)throw new Error(`convertRadix2: wrong to=${n}`);if(ry(t,n)>32)throw new Error(`convertRadix2: carry overflow from=${t} to=${n} carryBits=${ry(t,n)}`);let s=0,o=0;const c=jb[t],l=jb[n]-1,f=[];for(const d of e){if(KS(d),d>=c)throw new Error(`convertRadix2: invalid data word=${d} from=${t}`);if(s=s<<t|d,o+t>32)throw new Error(`convertRadix2: carry overflow pos=${o} from=${t}`);for(o+=t;o>=n;o-=n)f.push((s>>o-n&l)>>>0);const p=jb[o];if(p===void 0)throw new Error("invalid carry");s&=p-1}if(s=s<<n-o&l,!r&&o>=t)throw new Error("Excess padding");if(!r&&s>0)throw new Error(`Non-zero padding: ${s}`);return r&&o>0&&f.push(s>>>0),f}function iD(e,t=!1){if(KS(e),e<=0||e>32)throw new Error("radix2: bits should be in (0..32]");if(ry(8,e)>32||ry(e,8)>32)throw new Error("radix2: carry overflow");return{encode:n=>{if(!QO(n))throw new Error("radix2.encode input should be Uint8Array");return dT(Array.from(n),8,e,!t)},decode:n=>(vz("radix2.decode",n),Uint8Array.from(dT(n,e,8,t)))}}const Ez=eD(iD(5),tD("ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"),rD(5),nD("")),Sz=typeof Uint8Array.from([]).toBase64=="function"&&typeof Uint8Array.fromBase64=="function",Az=(e,t)=>{gp("base64",e);const n=/^[A-Za-z0-9=+/]+$/,r="base64";if(e.length>0&&!n.test(e))throw new Error("invalid base64");return Uint8Array.fromBase64(e,{alphabet:r,lastChunkHandling:"strict"})},oD=Sz?{encode(e){return bz(e),e.toBase64()},decode(e){return Az(e)}}:eD(iD(6),tD("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),rD(6),nD("")),aD="STX_PROVIDER",cD=()=>typeof window>"u"?null:window.localStorage.getItem(aD),Cz=e=>{typeof window<"u"&&window.localStorage.setItem(aD,e)},xz=()=>{if(typeof window>"u")return[];const e=window.webbtc_stx_providers||[],t=window.wbip_providers||[];return[...e,...t]},Nz=(e=[])=>{if(typeof window>"u")return[];const t=xz(),n=e.filter(r=>t.find(o=>o.id===r.id)?!1:!!By(r.id));return t.concat(n)},Tz=()=>{const e=cD();return By(e)},By=e=>e?.split(".").reduce((t,n)=>t?.[n],window),_z="modulepreload",Iz=function(e){return"/"+e},pT={},mp=function(t,n,r){let s=Promise.resolve();if(n&&n.length>0){let f=function(d){return Promise.all(d.map(p=>Promise.resolve(p).then(g=>({status:"fulfilled",value:g}),g=>({status:"rejected",reason:g}))))};document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),l=c?.nonce||c?.getAttribute("nonce");s=f(n.map(d=>{if(d=Iz(d),d in pT)return;pT[d]=!0;const p=d.endsWith(".css"),g=p?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${g}`))return;const y=document.createElement("link");if(y.rel=p?"stylesheet":_z,p||(y.as="script"),y.crossOrigin="",y.href=d,l&&y.setAttribute("nonce",l),document.head.appendChild(y),p)return new Promise((b,v)=>{y.addEventListener("load",b),y.addEventListener("error",()=>v(new Error(`Unable to preload CSS for ${d}`)))})}))}function o(c){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=c,window.dispatchEvent(l),!l.defaultPrevented)throw c}return s.then(c=>{for(const l of c||[])l.status==="rejected"&&o(l.reason);return t().catch(o)})},Oz="connect-ui",sy={hydratedSelectorName:"hydrated",lazyLoad:!0,updatable:!0,watchCallback:!1};var Dz=Object.defineProperty,Mz=(e,t)=>{for(var n in t)Dz(e,n,{get:t[n],enumerable:!0})},$z="http://www.w3.org/2000/svg",Uz="http://www.w3.org/1999/xhtml",gi=e=>{if(e.__stencil__getHostRef)return e.__stencil__getHostRef()},Fde=(e,t)=>{e.__stencil__getHostRef=()=>t,t.$lazyInstance$=e},Rz=(e,t)=>{const n={$flags$:0,$hostElement$:e,$cmpMeta$:t,$instanceValues$:new Map};n.$onReadyPromise$=new Promise(s=>n.$onReadyResolve$=s),e["s-p"]=[],e["s-rc"]=[];const r=n;return e.__stencil__getHostRef=()=>r,r},gT=(e,t)=>t in e,$f=(e,t)=>(0,console.error)(e,t),zb=new Map,Pz=(e,t,n)=>{const r=e.$tagName$.replace(/-/g,"_"),s=e.$lazyBundleId$;if(!s)return;const o=zb.get(s);if(o)return o[r];{const c=l=>(zb.set(s,l),l[r]);switch(s){case"connect-modal":return mp(()=>import("./connect-modal.entry-BsAUHimZ.js"),[]).then(c,$f)}}return mp(()=>import(`./${s}.entry.js`),[]).then(c=>(zb.set(s,c),c[r]),c=>{$f(c,t.$hostElement$)})},iy=new Map,Bz="{visibility:hidden}.hydrated{visibility:inherit}",lD="slot-fb{display:contents}slot-fb[hidden]{display:none}",Kn=typeof window<"u"?window:{},qn={$flags$:0,$resourcesUrl$:"",jmp:e=>e(),raf:e=>requestAnimationFrame(e),ael:(e,t,n,r)=>e.addEventListener(t,n,r),rel:(e,t,n,r)=>e.removeEventListener(t,n,r),ce:(e,t)=>new CustomEvent(e,t)},Lz=e=>Promise.resolve(e),GS=(()=>{try{return new CSSStyleSheet,typeof new CSSStyleSheet().replaceSync=="function"}catch{}return!1})(),I2=GS?!!Kn.document&&Object.getOwnPropertyDescriptor(Kn.document.adoptedStyleSheets,"length").writable:!1,O2=!1,mT=[],uD=[],kz=(e,t)=>n=>{e.push(n),O2||(O2=!0,qn.$flags$&4?YS(D2):qn.raf(D2))},yT=e=>{for(let t=0;t<e.length;t++)try{e[t](performance.now())}catch(n){$f(n)}e.length=0},D2=()=>{yT(mT),yT(uD),(O2=mT.length>0)&&qn.raf(D2)},YS=e=>Lz().then(e),jz=kz(uD),XS=e=>(e=typeof e,e==="object"||e==="function");function fD(e){var t,n,r;return(r=(n=(t=e.head)==null?void 0:t.querySelector('meta[name="csp-nonce"]'))==null?void 0:n.getAttribute("content"))!=null?r:void 0}var zz=e=>e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),Hz={};Mz(Hz,{err:()=>hD,map:()=>Fz,ok:()=>M2,unwrap:()=>qz,unwrapErr:()=>Vz});var M2=e=>({isOk:!0,isErr:!1,value:e}),hD=e=>({isOk:!1,isErr:!0,value:e});function Fz(e,t){if(e.isOk){const n=t(e.value);return n instanceof Promise?n.then(r=>M2(r)):M2(n)}if(e.isErr){const n=e.value;return hD(n)}throw"should never get here"}var qz=e=>{if(e.isOk)return e.value;throw e.value},Vz=e=>{if(e.isErr)return e.value;throw e.value};var hd;function Wz(e){var t;const n=this.attachShadow({mode:"open"});hd===void 0&&(hd=(t=void 0)!=null?t:null),hd&&(I2?n.adoptedStyleSheets.push(hd):n.adoptedStyleSheets=[...n.adoptedStyleSheets,hd])}var Go=(e,t="")=>()=>{},Kz=(e,t)=>()=>{},wf=new WeakMap,Gz=(e,t,n)=>{let r=iy.get(e);GS&&n?(r=r||new CSSStyleSheet,typeof r=="string"?r=t:r.replaceSync(t)):r=t,iy.set(e,r)},Yz=(e,t,n)=>{var r;const s=dD(t),o=iy.get(s);if(!Kn.document)return s;if(e=e.nodeType===11?e:Kn.document,o)if(typeof o=="string"){e=e.head||e;let c=wf.get(e),l;if(c||wf.set(e,c=new Set),!c.has(s)){{l=Kn.document.createElement("style"),l.innerHTML=o;const f=(r=qn.$nonce$)!=null?r:fD(Kn.document);if(f!=null&&l.setAttribute("nonce",f),!(t.$flags$&1))if(e.nodeName==="HEAD"){const d=e.querySelectorAll("link[rel=preconnect]"),p=d.length>0?d[d.length-1].nextSibling:e.querySelector("style");e.insertBefore(l,p?.parentNode===e?p:null)}else if("host"in e)if(GS){const d=new CSSStyleSheet;d.replaceSync(o),I2?e.adoptedStyleSheets.unshift(d):e.adoptedStyleSheets=[d,...e.adoptedStyleSheets]}else{const d=e.querySelector("style");d?d.innerHTML=o+d.innerHTML:e.prepend(l)}else e.append(l);t.$flags$&1&&e.insertBefore(l,null)}t.$flags$&4&&(l.innerHTML+=lD),c&&c.add(s)}}else e.adoptedStyleSheets.includes(o)||(I2?e.adoptedStyleSheets.push(o):e.adoptedStyleSheets=[...e.adoptedStyleSheets,o]);return s},Xz=e=>{const t=e.$cmpMeta$,n=e.$hostElement$,r=t.$flags$,s=Go("attachStyles",t.$tagName$),o=Yz(n.shadowRoot?n.shadowRoot:n.getRootNode(),t);r&10&&(n["s-sc"]=o,n.classList.add(o+"-h")),s()},dD=(e,t)=>"sc-"+e.$tagName$,Zz=(e,t,...n)=>{let r=null,s=null,o=!1,c=!1;const l=[],f=p=>{for(let g=0;g<p.length;g++)r=p[g],Array.isArray(r)?f(r):r!=null&&typeof r!="boolean"&&((o=typeof e!="function"&&!XS(r))&&(r=String(r)),o&&c?l[l.length-1].$text$+=r:l.push(o?$2(null,r):r),c=o)};if(f(n),t){t.key&&(s=t.key);{const p=t.className||t.class;p&&(t.class=typeof p!="object"?p:Object.keys(p).filter(g=>p[g]).join(" "))}}const d=$2(e,null);return d.$attrs$=t,l.length>0&&(d.$children$=l),d.$key$=s,d},$2=(e,t)=>{const n={$flags$:0,$tag$:e,$text$:t,$elm$:null,$children$:null};return n.$attrs$=null,n.$key$=null,n},Qz={},Jz=e=>e&&e.$tag$===Qz,ZS=e=>{const t=zz(e);return new RegExp(`(^|[^@]|@(?!supports\\s+selector\\s*\\([^{]*?${t}))(${t}\\b)`,"g")};ZS("::slotted");ZS(":host");ZS(":host-context");var U2=(e,t,n)=>{if(typeof e=="string"&&(t&16||t&8)&&(e.startsWith("{")&&e.endsWith("}")||e.startsWith("[")&&e.endsWith("]")))try{return JSON.parse(e)}catch{}return e!=null&&!XS(e),e},qde=e=>{var t;return(t=gi(e))==null?void 0:t.$hostElement$},eH=(e,t,n)=>{const r=qn.ce(t,n);return e.dispatchEvent(r),r},wT=(e,t,n,r,s,o,c)=>{if(n===r)return;let l=gT(e,t),f=t.toLowerCase();if(t==="class"){const d=e.classList,p=bT(n);let g=bT(r);d.remove(...p.filter(y=>y&&!g.includes(y))),d.add(...g.filter(y=>y&&!p.includes(y)))}else if(t!=="key")if(!l&&t[0]==="o"&&t[1]==="n"){if(t[2]==="-"?t=t.slice(3):gT(Kn,f)?t=f.slice(2):t=f[2]+t.slice(3),n||r){const d=t.endsWith(pD);t=t.replace(nH,""),n&&qn.rel(e,t,n,d),r&&qn.ael(e,t,r,d)}}else{const d=XS(r);if((l||d&&r!==null)&&!s)try{if(e.tagName.includes("-"))e[t]!==r&&(e[t]=r);else{const p=r??"";t==="list"?l=!1:(n==null||e[t]!=p)&&(typeof e.__lookupSetter__(t)=="function"?e[t]=p:e.setAttribute(t,p))}}catch{}r==null||r===!1?(r!==!1||e.getAttribute(t)==="")&&e.removeAttribute(t):(!l||o&4||s)&&!d&&e.nodeType===1&&(r=r===!0?"":r,e.setAttribute(t,r))}},tH=/\s/,bT=e=>(typeof e=="object"&&e&&"baseVal"in e&&(e=e.baseVal),!e||typeof e!="string"?[]:e.split(tH)),pD="Capture",nH=new RegExp(pD+"$"),gD=(e,t,n,r)=>{const s=t.$elm$.nodeType===11&&t.$elm$.host?t.$elm$.host:t.$elm$,o=e&&e.$attrs$||{},c=t.$attrs$||{};for(const l of vT(Object.keys(o)))l in c||wT(s,l,o[l],void 0,n,t.$flags$);for(const l of vT(Object.keys(c)))wT(s,l,o[l],c[l],n,t.$flags$)};function vT(e){return e.includes("ref")?[...e.filter(t=>t!=="ref"),"ref"]:e}var QS,os=!1,oy=(e,t,n)=>{const r=t.$children$[n];let s=0,o,c;if(r.$text$!==null)o=r.$elm$=Kn.document.createTextNode(r.$text$);else{if(os||(os=r.$tag$==="svg"),!Kn.document)throw new Error("You are trying to render a Stencil component in an environment that doesn't support the DOM. Make sure to populate the [`window`](https://developer.mozilla.org/en-US/docs/Web/API/Window/window) object before rendering a component.");if(o=r.$elm$=Kn.document.createElementNS(os?$z:Uz,r.$tag$),os&&r.$tag$==="foreignObject"&&(os=!1),gD(null,r,os),r.$children$)for(s=0;s<r.$children$.length;++s)c=oy(e,r,s),c&&o.appendChild(c);r.$tag$==="svg"?os=!1:o.tagName==="foreignObject"&&(os=!0)}return o["s-hn"]=QS,o},mD=(e,t,n,r,s,o)=>{let c=e,l;for(c.shadowRoot&&c.tagName===QS&&(c=c.shadowRoot);s<=o;++s)r[s]&&(l=oy(null,n,s),l&&(r[s].$elm$=l,R0(c,l,t)))},yD=(e,t,n)=>{for(let r=t;r<=n;++r){const s=e[r];if(s){const o=s.$elm$;o&&o.remove()}}},rH=(e,t,n,r,s=!1)=>{let o=0,c=0,l=0,f=0,d=t.length-1,p=t[0],g=t[d],y=r.length-1,b=r[0],v=r[y],E,S;for(;o<=d&&c<=y;)if(p==null)p=t[++o];else if(g==null)g=t[--d];else if(b==null)b=r[++c];else if(v==null)v=r[--y];else if(Km(p,b,s))af(p,b,s),p=t[++o],b=r[++c];else if(Km(g,v,s))af(g,v,s),g=t[--d],v=r[--y];else if(Km(p,v,s))af(p,v,s),R0(e,p.$elm$,g.$elm$.nextSibling),p=t[++o],v=r[--y];else if(Km(g,b,s))af(g,b,s),R0(e,g.$elm$,p.$elm$),g=t[--d],b=r[++c];else{for(l=-1,f=o;f<=d;++f)if(t[f]&&t[f].$key$!==null&&t[f].$key$===b.$key$){l=f;break}l>=0?(S=t[l],S.$tag$!==b.$tag$?E=oy(t&&t[c],n,l):(af(S,b,s),t[l]=void 0,E=S.$elm$),b=r[++c]):(E=oy(t&&t[c],n,c),b=r[++c]),E&&R0(p.$elm$.parentNode,E,p.$elm$)}o>d?mD(e,r[y+1]==null?null:r[y+1].$elm$,n,r,c,y):c>y&&yD(t,o,d)},Km=(e,t,n=!1)=>e.$tag$===t.$tag$?n?(n&&!e.$key$&&t.$key$&&(e.$key$=t.$key$),!0):e.$key$===t.$key$:!1,af=(e,t,n=!1)=>{const r=t.$elm$=e.$elm$,s=e.$children$,o=t.$children$,c=t.$tag$,l=t.$text$;l===null?(os=c==="svg"?!0:c==="foreignObject"?!1:os,gD(e,t,os),s!==null&&o!==null?rH(r,s,t,o,n):o!==null?(e.$text$!==null&&(r.textContent=""),mD(r,null,t,o,0,o.length-1)):!n&&sy.updatable&&s!==null&&yD(s,0,s.length-1),os&&c==="svg"&&(os=!1)):e.$text$!==l&&(r.data=l)},R0=(e,t,n)=>e?.insertBefore(t,n),sH=(e,t,n=!1)=>{const r=e.$hostElement$,s=e.$vnode$||$2(null,null),c=Jz(t)?t:Zz(null,null,t);if(QS=r.tagName,n&&c.$attrs$)for(const l of Object.keys(c.$attrs$))r.hasAttribute(l)&&!["key","ref","style","class"].includes(l)&&(c.$attrs$[l]=r[l]);c.$tag$=null,c.$flags$|=4,e.$vnode$=c,c.$elm$=s.$elm$=r.shadowRoot||r,af(s,c,n)},wD=(e,t)=>{if(t&&!e.$onRenderResolve$&&t["s-p"]){const n=t["s-p"].push(new Promise(r=>e.$onRenderResolve$=()=>{t["s-p"].splice(n-1,1),r()}))}},JS=(e,t)=>{if(e.$flags$|=16,e.$flags$&4){e.$flags$|=512;return}wD(e,e.$ancestorComponent$);const n=()=>iH(e,t);if(t){queueMicrotask(()=>{n()});return}return jz(n)},iH=(e,t)=>{const n=e.$hostElement$,r=Go("scheduleUpdate",e.$cmpMeta$.$tagName$),s=e.$lazyInstance$;if(!s)throw new Error(`Can't render component <${n.tagName.toLowerCase()} /> with invalid Stencil runtime! Make sure this imported component is compiled with a \`externalRuntime: true\` flag. For more information, please refer to https://stenciljs.com/docs/custom-elements#externalruntime`);let o;return t?o=sc(s,"componentWillLoad",void 0,n):o=sc(s,"componentWillUpdate",void 0,n),o=ET(o,()=>sc(s,"componentWillRender",void 0,n)),r(),ET(o,()=>aH(e,s,t))},ET=(e,t)=>oH(e)?e.then(t).catch(n=>{console.error(n),t()}):t(),oH=e=>e instanceof Promise||e&&e.then&&typeof e.then=="function",aH=async(e,t,n)=>{var r;const s=e.$hostElement$,o=Go("update",e.$cmpMeta$.$tagName$),c=s["s-rc"];n&&Xz(e);const l=Go("render",e.$cmpMeta$.$tagName$);cH(e,t,s,n),c&&(c.map(f=>f()),s["s-rc"]=void 0),l(),o();{const f=(r=s["s-p"])!=null?r:[],d=()=>lH(e);f.length===0?d():(Promise.all(f).then(d),e.$flags$|=4,f.length=0)}},cH=(e,t,n,r)=>{try{t=t.render(),e.$flags$&=-17,e.$flags$|=2,sH(e,t,r)}catch(s){$f(s,e.$hostElement$)}return null},lH=e=>{const t=e.$cmpMeta$.$tagName$,n=e.$hostElement$,r=Go("postUpdate",t),s=e.$lazyInstance$,o=e.$ancestorComponent$;sc(s,"componentDidRender",void 0,n),e.$flags$&64?(sc(s,"componentDidUpdate",void 0,n),r()):(e.$flags$|=64,uH(n),sc(s,"componentDidLoad",void 0,n),r(),e.$onReadyResolve$(n),o||bD()),e.$onRenderResolve$&&(e.$onRenderResolve$(),e.$onRenderResolve$=void 0),e.$flags$&512&&YS(()=>JS(e,!1)),e.$flags$&=-517},bD=e=>{YS(()=>eH(Kn,"appload",{detail:{namespace:Oz}}))},sc=(e,t,n,r)=>{if(e&&e[t])try{return e[t](n)}catch(s){$f(s,r)}},uH=e=>{var t;return e.classList.add((t=sy.hydratedSelectorName)!=null?t:"hydrated")},fH=(e,t)=>gi(e).$instanceValues$.get(t),Hb=(e,t,n,r)=>{const s=gi(e);if(!s)return;if(!s)throw new Error(`Couldn't find host element for "${r.$tagName$}" as it is unknown to this Stencil runtime. This usually happens when integrating a 3rd party Stencil component with another Stencil component or application. Please reach out to the maintainers of the 3rd party Stencil component or report this on the Stencil Discord server (https://chat.stenciljs.com) or comment on this similar [GitHub issue](https://github.com/stenciljs/core/issues/5457).`);const o=s.$instanceValues$.get(t),c=s.$flags$,l=s.$lazyInstance$;n=U2(n,r.$members$[t][0]);const f=Number.isNaN(o)&&Number.isNaN(n),d=n!==o&&!f;if((!(c&8)||o===void 0)&&d&&(s.$instanceValues$.set(t,n),l&&(c&18)===2)){if(l.componentShouldUpdate&&l.componentShouldUpdate(n,o,t)===!1)return;JS(s,!1)}},vD=(e,t,n)=>{var r,s;const o=e.prototype;if(t.$members$||sy.watchCallback){const c=Object.entries((r=t.$members$)!=null?r:{});if(c.map(([l,[f]])=>{if(f&31||n&2&&f&32){const{get:d,set:p}=Object.getOwnPropertyDescriptor(o,l)||{};d&&(t.$members$[l][0]|=2048),p&&(t.$members$[l][0]|=4096),(n&1||!d)&&Object.defineProperty(o,l,{get(){{if((t.$members$[l][0]&2048)===0)return fH(this,l);const g=gi(this),y=g?g.$lazyInstance$:o;return y?y[l]:void 0}},configurable:!0,enumerable:!0}),Object.defineProperty(o,l,{set(g){const y=gi(this);if(y){if(p){const b=f&32?this[l]:y.$hostElement$[l];typeof b>"u"&&y.$instanceValues$.get(l)?g=y.$instanceValues$.get(l):!y.$instanceValues$.get(l)&&b&&y.$instanceValues$.set(l,b),p.apply(this,[U2(g,f)]),g=f&32?this[l]:y.$hostElement$[l],Hb(this,l,g,t);return}{if((n&1)===0||(t.$members$[l][0]&4096)===0){Hb(this,l,g,t),n&1&&!y.$lazyInstance$&&y.$onReadyPromise$.then(()=>{t.$members$[l][0]&4096&&y.$lazyInstance$[l]!==y.$instanceValues$.get(l)&&(y.$lazyInstance$[l]=g)});return}const b=()=>{const v=y.$lazyInstance$[l];!y.$instanceValues$.get(l)&&v&&y.$instanceValues$.set(l,v),y.$lazyInstance$[l]=U2(g,f),Hb(this,l,y.$lazyInstance$[l],t)};y.$lazyInstance$?b():y.$onReadyPromise$.then(()=>b())}}}})}}),n&1){const l=new Map;o.attributeChangedCallback=function(f,d,p){qn.jmp(()=>{var g;const y=l.get(f);if(this.hasOwnProperty(y)&&sy.lazyLoad)p=this[y],delete this[y];else{if(o.hasOwnProperty(y)&&typeof this[y]=="number"&&this[y]==p)return;if(y==null){const v=gi(this),E=v?.$flags$;if(v&&E&&!(E&8)&&E&128&&p!==d){const S=v.$lazyInstance$,C=(g=t.$watchers$)==null?void 0:g[f];C?.forEach(O=>{S[O]!=null&&S[O].call(S,p,d,f)})}return}}const b=Object.getOwnPropertyDescriptor(o,y);p=p===null&&typeof this[y]=="boolean"?!1:p,p!==this[y]&&(!b.get||b.set)&&(this[y]=p)})},e.observedAttributes=Array.from(new Set([...Object.keys((s=t.$watchers$)!=null?s:{}),...c.filter(([f,d])=>d[0]&31).map(([f,d])=>{const p=d[1]||f;return l.set(p,f),p})]))}}return e},hH=async(e,t,n,r)=>{let s;if((t.$flags$&32)===0){if(t.$flags$|=32,n.$lazyBundleId$){const f=Pz(n,t);if(f&&"then"in f){const p=Kz();s=await f,p()}else s=f;if(!s)throw new Error(`Constructor for "${n.$tagName$}#${t.$modeName$}" was not found`);s.isProxied||(vD(s,n,2),s.isProxied=!0);const d=Go("createInstance",n.$tagName$);t.$flags$|=8;try{new s(t)}catch(p){$f(p,e)}t.$flags$&=-9,d(),R2(t.$lazyInstance$,e)}else{s=e.constructor;const f=e.localName;customElements.whenDefined(f).then(()=>t.$flags$|=128)}if(s&&s.style){let f;typeof s.style=="string"&&(f=s.style);const d=dD(n);if(!iy.has(d)){const p=Go("registerStyles",n.$tagName$);Gz(d,f,!!(n.$flags$&1)),p()}}}const o=t.$ancestorComponent$,c=()=>JS(t,!0);o&&o["s-rc"]?o["s-rc"].push(c):c()},R2=(e,t)=>{sc(e,"connectedCallback",void 0,t)},dH=e=>{if((qn.$flags$&1)===0){const t=gi(e);if(!t)return;const n=t.$cmpMeta$,r=Go("connectedCallback",n.$tagName$);if(t.$flags$&1)t?.$lazyInstance$?R2(t.$lazyInstance$,e):t?.$onReadyPromise$&&t.$onReadyPromise$.then(()=>R2(t.$lazyInstance$,e));else{t.$flags$|=1;{let s=e;for(;s=s.parentNode||s.host;)if(s["s-p"]){wD(t,t.$ancestorComponent$=s);break}}n.$members$&&Object.entries(n.$members$).map(([s,[o]])=>{if(o&31&&e.hasOwnProperty(s)){const c=e[s];delete e[s],e[s]=c}}),hH(e,t,n)}r()}},ST=(e,t)=>{sc(e,"disconnectedCallback",void 0,t||e)},pH=async e=>{if((qn.$flags$&1)===0){const t=gi(e);t?.$lazyInstance$?ST(t.$lazyInstance$,e):t?.$onReadyPromise$&&t.$onReadyPromise$.then(()=>ST(t.$lazyInstance$,e))}wf.has(e)&&wf.delete(e),e.shadowRoot&&wf.has(e.shadowRoot)&&wf.delete(e.shadowRoot)},gH=(e,t={})=>{var n;if(!Kn.document){console.warn("Stencil: No document found. Skipping bootstrapping lazy components.");return}const r=Go(),s=[],o=t.exclude||[],c=Kn.customElements,l=Kn.document.head,f=l.querySelector("meta[charset]"),d=Kn.document.createElement("style"),p=[];let g,y=!0;Object.assign(qn,t),qn.$resourcesUrl$=new URL(t.resourcesUrl||"./",Kn.document.baseURI).href;let b=!1;if(e.map(v=>{v[1].map(E=>{const S={$flags$:E[0],$tagName$:E[1],$members$:E[2],$listeners$:E[3]};S.$flags$&4&&(b=!0),S.$members$=E[2];const C=S.$tagName$,O=class extends HTMLElement{constructor(x){if(super(x),this.hasRegisteredEventListeners=!1,x=this,Rz(x,S),S.$flags$&1){if(!x.shadowRoot)Wz.call(x,S);else if(x.shadowRoot.mode!=="open")throw new Error(`Unable to re-use existing shadow root for ${S.$tagName$}! Mode is set to ${x.shadowRoot.mode} but Stencil only supports open shadow roots.`)}}connectedCallback(){gi(this)&&(this.hasRegisteredEventListeners||(this.hasRegisteredEventListeners=!0),g&&(clearTimeout(g),g=null),y?p.push(this):qn.jmp(()=>dH(this)))}disconnectedCallback(){qn.jmp(()=>pH(this)),qn.raf(()=>{var x;const N=gi(this);if(!N)return;const T=p.findIndex(I=>I===this);T>-1&&p.splice(T,1),((x=N?.$vnode$)==null?void 0:x.$elm$)instanceof Node&&!N.$vnode$.$elm$.isConnected&&delete N.$vnode$.$elm$})}componentOnReady(){var x;return(x=gi(this))==null?void 0:x.$onReadyPromise$}};S.$lazyBundleId$=v[0],!o.includes(C)&&!c.get(C)&&(s.push(C),c.define(C,vD(O,S,1)))})}),s.length>0&&(b&&(d.textContent+=lD),d.textContent+=s.sort()+Bz,d.innerHTML.length)){d.setAttribute("data-styles","");const v=(n=qn.$nonce$)!=null?n:fD(Kn.document);v!=null&&d.setAttribute("nonce",v),l.insertBefore(d,f?f.nextSibling:l.firstChild)}y=!1,p.length?p.map(v=>v.connectedCallback()):qn.jmp(()=>g=setTimeout(bD,30)),r()};const mH=()=>{},yH=async(e,t)=>{if(!(typeof window>"u"))return await mH(),gH([["connect-modal",[[257,"connect-modal",{defaultProviders:[16,"default-providers"],installedProviders:[16,"installed-providers"],callback:[16],cancelCallback:[16,"cancel-callback"]}]]]],t)};(function(){if(typeof window<"u"&&window.Reflect!==void 0&&window.customElements!==void 0){var e=HTMLElement;window.HTMLElement=function(){return Reflect.construct(e,[],this.constructor)},HTMLElement.prototype=e.prototype,HTMLElement.prototype.constructor=HTMLElement,Object.setPrototypeOf(HTMLElement,e)}})();function wH(e){const t=Object.values(e).filter(r=>typeof r=="number"),n=new Set(t);return r=>n.has(r)}const AT=new Map;function ED(e,t){const n=AT.get(e);if(n!==void 0)return n(t);const r=wH(e);return AT.set(e,r),ED(e,t)}class Lt{constructor(t){this.consumed=0,this.source=typeof t=="string"?Rt(t):t}readBytes(t){const n=this.source.subarray(this.consumed,this.consumed+t);return this.consumed+=t,n}readUInt32BE(){return wz(this.readBytes(4),0)}readUInt8(){return mz(this.readBytes(1),0)}readUInt16BE(){return pz(this.readBytes(2),0)}readBigUIntLE(t){const n=this.readBytes(t).slice().reverse(),r=Ke(n);return BigInt(`0x${r}`)}readBigUIntBE(t){const n=this.readBytes(t),r=Ke(n);return BigInt(`0x${r}`)}get readOffset(){return this.consumed}set readOffset(t){this.consumed=t}get internalBytes(){return this.source}readUInt8Enum(t,n){const r=this.readUInt8();if(ED(t,r))return r;throw n(r)}}var yp;(function(e){e[e.Mainnet=1]="Mainnet",e[e.Testnet=2147483648]="Testnet"})(yp||(yp={}));var ay;(function(e){e[e.Mainnet=385875968]="Mainnet",e[e.Testnet=4278190080]="Testnet"})(ay||(ay={}));yp.Mainnet;var Ol;(function(e){e[e.Mainnet=0]="Mainnet",e[e.Testnet=128]="Testnet"})(Ol||(Ol={}));var Dl;(function(e){e[e.MainnetSingleSig=22]="MainnetSingleSig",e[e.MainnetMultiSig=20]="MainnetMultiSig",e[e.TestnetSingleSig=26]="TestnetSingleSig",e[e.TestnetMultiSig=21]="TestnetMultiSig"})(Dl||(Dl={}));Ol.Mainnet;const bH={chainId:yp.Mainnet,transactionVersion:Ol.Mainnet,peerNetworkId:ay.Mainnet,magicBytes:"X2",bootAddress:"SP000000000000000000002Q6VF78",addressVersion:{singleSig:Dl.MainnetSingleSig,multiSig:Dl.MainnetMultiSig},client:{baseUrl:lz}},P2={chainId:yp.Testnet,transactionVersion:Ol.Testnet,peerNetworkId:ay.Testnet,magicBytes:"T2",bootAddress:"ST000000000000000000002AMW42H",addressVersion:{singleSig:Dl.TestnetSingleSig,multiSig:Dl.TestnetMultiSig},client:{baseUrl:uz}},P0={...P2,addressVersion:{...P2.addressVersion},magicBytes:"id",client:{baseUrl:fz}},vH={...P0,addressVersion:{...P0.addressVersion},client:{...P0.client}};function EH(e){switch(e){case"mainnet":return bH;case"testnet":return P2;case"devnet":return P0;case"mocknet":return vH;default:throw new Error(`Unknown network name: ${e}`)}}function SH(e){return typeof e=="string"?EH(e):e}const AH=128,CH=128,SD=16,Cl=32,B2=80,Ly=65,xH=32,NH=64,cy=34,TH=1+16*1024*1024,_H=165,IH=16,OH=16,DH=20,MH=OH+2+DH,$H=MH+4,UH=TH+(_H+IH*$H);var bt;(function(e){e[e.TokenTransfer=0]="TokenTransfer",e[e.SmartContract=1]="SmartContract",e[e.VersionedSmartContract=6]="VersionedSmartContract",e[e.ContractCall=2]="ContractCall",e[e.PoisonMicroblock=3]="PoisonMicroblock",e[e.Coinbase=4]="Coinbase",e[e.CoinbaseToAltRecipient=5]="CoinbaseToAltRecipient",e[e.TenureChange=7]="TenureChange",e[e.NakamotoCoinbase=8]="NakamotoCoinbase"})(bt||(bt={}));var L2;(function(e){e[e.Clarity1=1]="Clarity1",e[e.Clarity2=2]="Clarity2",e[e.Clarity3=3]="Clarity3"})(L2||(L2={}));var ss;(function(e){e[e.OnChainOnly=1]="OnChainOnly",e[e.OffChainOnly=2]="OffChainOnly",e[e.Any=3]="Any"})(ss||(ss={}));const Fb=["onChainOnly","offChainOnly","any"];Fb[0]+"",ss.OnChainOnly,Fb[1]+"",ss.OffChainOnly,Fb[2]+"",ss.Any,ss.OnChainOnly+"",ss.OnChainOnly,ss.OffChainOnly+"",ss.OffChainOnly,ss.Any+"",ss.Any;var hc;(function(e){e[e.Allow=1]="Allow",e[e.Deny=2]="Deny"})(hc||(hc={}));var Vn;(function(e){e[e.STX=0]="STX",e[e.Fungible=1]="Fungible",e[e.NonFungible=2]="NonFungible"})(Vn||(Vn={}));var rn;(function(e){e[e.Standard=4]="Standard",e[e.Sponsored=5]="Sponsored"})(rn||(rn={}));var Ut;(function(e){e[e.P2PKH=0]="P2PKH",e[e.P2SH=1]="P2SH",e[e.P2WPKH=2]="P2WPKH",e[e.P2WSH=3]="P2WSH",e[e.P2SHNonSequential=5]="P2SHNonSequential",e[e.P2WSHNonSequential=7]="P2WSHNonSequential"})(Ut||(Ut={}));var Jt;(function(e){e[e.Compressed=0]="Compressed",e[e.Uncompressed=1]="Uncompressed"})(Jt||(Jt={}));var ly;(function(e){e[e.Equal=1]="Equal",e[e.Greater=2]="Greater",e[e.GreaterEqual=3]="GreaterEqual",e[e.Less=4]="Less",e[e.LessEqual=5]="LessEqual"})(ly||(ly={}));var k2;(function(e){e[e.Sends=16]="Sends",e[e.DoesNotSend=17]="DoesNotSend"})(k2||(k2={}));var hs;(function(e){e[e.Origin=1]="Origin",e[e.Standard=2]="Standard",e[e.Contract=3]="Contract"})(hs||(hs={}));var CT;(function(e){e[e.STX=0]="STX",e[e.Fungible=1]="Fungible",e[e.NonFungible=2]="NonFungible"})(CT||(CT={}));var j2;(function(e){e[e.BlockFound=0]="BlockFound",e[e.Extended=1]="Extended"})(j2||(j2={}));var fi;(function(e){e[e.PublicKeyCompressed=0]="PublicKeyCompressed",e[e.PublicKeyUncompressed=1]="PublicKeyUncompressed",e[e.SignatureCompressed=2]="SignatureCompressed",e[e.SignatureUncompressed=3]="SignatureUncompressed"})(fi||(fi={}));var xT;(function(e){e.Serialization="Serialization",e.Deserialization="Deserialization",e.SignatureValidation="SignatureValidation",e.FeeTooLow="FeeTooLow",e.BadNonce="BadNonce",e.NotEnoughFunds="NotEnoughFunds",e.NoSuchContract="NoSuchContract",e.NoSuchPublicFunction="NoSuchPublicFunction",e.BadFunctionArgument="BadFunctionArgument",e.ContractAlreadyExists="ContractAlreadyExists",e.PoisonMicroblocksDoNotConflict="PoisonMicroblocksDoNotConflict",e.PoisonMicroblockHasUnknownPubKeyHash="PoisonMicroblockHasUnknownPubKeyHash",e.PoisonMicroblockIsInvalid="PoisonMicroblockIsInvalid",e.BadAddressVersionByte="BadAddressVersionByte",e.NoCoinbaseViaMempool="NoCoinbaseViaMempool",e.ServerFailureNoSuchChainTip="ServerFailureNoSuchChainTip",e.ServerFailureDatabase="ServerFailureDatabase",e.ServerFailureOther="ServerFailureOther"})(xT||(xT={}));let ky=class extends Error{constructor(t){super(t),this.message=t,this.name=this.constructor.name,Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}},bf=class extends ky{constructor(t){super(t)}};class us extends ky{constructor(t){super(t)}}class uy extends ky{constructor(t){super(t)}}class dl extends ky{constructor(t){super(t)}}function z2(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`Wrong positive integer: ${e}`)}function RH(e){if(typeof e!="boolean")throw new Error(`Expected boolean, not ${e}`)}function AD(e,...t){if(!(e instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(t.length>0&&!t.includes(e.length))throw new TypeError(`Expected Uint8Array of length ${t}, not of length=${e.length}`)}function PH(e){if(typeof e!="function"||typeof e.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");z2(e.outputLen),z2(e.blockLen)}function BH(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function LH(e,t){AD(e);const n=t.outputLen;if(e.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}const pl={number:z2,bool:RH,bytes:AD,hash:PH,exists:BH,output:LH};/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const qb=e=>new DataView(e.buffer,e.byteOffset,e.byteLength),Mi=(e,t)=>e<<32-t|e>>>t,kH=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!kH)throw new Error("Non little-endian hardware is not supported");Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function jH(e){if(typeof e!="string")throw new TypeError(`utf8ToBytes expected string, got ${typeof e}`);return new TextEncoder().encode(e)}function eA(e){if(typeof e=="string"&&(e=jH(e)),!(e instanceof Uint8Array))throw new TypeError(`Expected input type is Uint8Array (got ${typeof e})`);return e}let CD=class{clone(){return this._cloneInto()}};function kl(e){const t=r=>e().update(eA(r)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t}class xD extends CD{constructor(t,n){super(),this.finished=!1,this.destroyed=!1,pl.hash(t);const r=eA(n);if(this.iHash=t.create(),typeof this.iHash.update!="function")throw new TypeError("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const s=this.blockLen,o=new Uint8Array(s);o.set(r.length>s?t.create().update(r).digest():r);for(let c=0;c<o.length;c++)o[c]^=54;this.iHash.update(o),this.oHash=t.create();for(let c=0;c<o.length;c++)o[c]^=106;this.oHash.update(o),o.fill(0)}update(t){return pl.exists(this),this.iHash.update(t),this}digestInto(t){pl.exists(this),pl.bytes(t,this.outputLen),this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy()}digest(){const t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t}_cloneInto(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:r,finished:s,destroyed:o,blockLen:c,outputLen:l}=this;return t=t,t.finished=s,t.destroyed=o,t.blockLen=c,t.outputLen=l,t.oHash=n._cloneInto(t.oHash),t.iHash=r._cloneInto(t.iHash),t}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const ND=(e,t,n)=>new xD(e,t).update(n).digest();ND.create=(e,t)=>new xD(e,t);function zH(e,t,n,r){if(typeof e.setBigUint64=="function")return e.setBigUint64(t,n,r);const s=BigInt(32),o=BigInt(4294967295),c=Number(n>>s&o),l=Number(n&o),f=r?4:0,d=r?0:4;e.setUint32(t+f,c,r),e.setUint32(t+d,l,r)}class tA extends CD{constructor(t,n,r,s){super(),this.blockLen=t,this.outputLen=n,this.padOffset=r,this.isLE=s,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(t),this.view=qb(this.buffer)}update(t){pl.exists(this);const{view:n,buffer:r,blockLen:s}=this;t=eA(t);const o=t.length;for(let c=0;c<o;){const l=Math.min(s-this.pos,o-c);if(l===s){const f=qb(t);for(;s<=o-c;c+=s)this.process(f,c);continue}r.set(t.subarray(c,c+l),this.pos),this.pos+=l,c+=l,this.pos===s&&(this.process(n,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){pl.exists(this),pl.output(t,this),this.finished=!0;const{buffer:n,view:r,blockLen:s,isLE:o}=this;let{pos:c}=this;n[c++]=128,this.buffer.subarray(c).fill(0),this.padOffset>s-c&&(this.process(r,0),c=0);for(let g=c;g<s;g++)n[g]=0;zH(r,s-8,BigInt(this.length*8),o),this.process(r,0);const l=qb(t),f=this.outputLen;if(f%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const d=f/4,p=this.get();if(d>p.length)throw new Error("_sha2: outputLen bigger than state");for(let g=0;g<d;g++)l.setUint32(4*g,p[g],o)}digest(){const{buffer:t,outputLen:n}=this;this.digestInto(t);const r=t.slice(0,n);return this.destroy(),r}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:n,buffer:r,length:s,finished:o,destroyed:c,pos:l}=this;return t.length=s,t.pos=l,t.finished=o,t.destroyed=c,s%n&&t.buffer.set(r),t}}const HH=(e,t,n)=>e&t^~e&n,FH=(e,t,n)=>e&t^e&n^t&n,qH=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Da=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Ma=new Uint32Array(64);class TD extends tA{constructor(){super(64,32,8,!1),this.A=Da[0]|0,this.B=Da[1]|0,this.C=Da[2]|0,this.D=Da[3]|0,this.E=Da[4]|0,this.F=Da[5]|0,this.G=Da[6]|0,this.H=Da[7]|0}get(){const{A:t,B:n,C:r,D:s,E:o,F:c,G:l,H:f}=this;return[t,n,r,s,o,c,l,f]}set(t,n,r,s,o,c,l,f){this.A=t|0,this.B=n|0,this.C=r|0,this.D=s|0,this.E=o|0,this.F=c|0,this.G=l|0,this.H=f|0}process(t,n){for(let g=0;g<16;g++,n+=4)Ma[g]=t.getUint32(n,!1);for(let g=16;g<64;g++){const y=Ma[g-15],b=Ma[g-2],v=Mi(y,7)^Mi(y,18)^y>>>3,E=Mi(b,17)^Mi(b,19)^b>>>10;Ma[g]=E+Ma[g-7]+v+Ma[g-16]|0}let{A:r,B:s,C:o,D:c,E:l,F:f,G:d,H:p}=this;for(let g=0;g<64;g++){const y=Mi(l,6)^Mi(l,11)^Mi(l,25),b=p+y+HH(l,f,d)+qH[g]+Ma[g]|0,E=(Mi(r,2)^Mi(r,13)^Mi(r,22))+FH(r,s,o)|0;p=d,d=f,f=l,l=c+b|0,c=o,o=s,s=r,r=b+E|0}r=r+this.A|0,s=s+this.B|0,o=o+this.C|0,c=c+this.D|0,l=l+this.E|0,f=f+this.F|0,d=d+this.G|0,p=p+this.H|0,this.set(r,s,o,c,l,f,d,p)}roundClean(){Ma.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}class VH extends TD{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}}const nA=kl(()=>new TD);kl(()=>new VH);const WH={},KH=Object.freeze(Object.defineProperty({__proto__:null,default:WH},Symbol.toStringTag,{value:"Module"}));/*! noble-secp256k1 - MIT License (c) 2019 Paul Miller (paulmillr.com) */const at=BigInt(0),Xt=BigInt(1),Ja=BigInt(2),Kd=BigInt(3),NT=BigInt(8),fn=Object.freeze({a:at,b:BigInt(7),P:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),n:BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),h:Xt,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee")}),TT=(e,t)=>(e+t/Ja)/t,Gm={beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar(e){const{n:t}=fn,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-Xt*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),s=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),o=n,c=BigInt("0x100000000000000000000000000000000"),l=TT(o*e,t),f=TT(-r*e,t);let d=Ce(e-l*n-f*s,t),p=Ce(-l*r-f*o,t);const g=d>c,y=p>c;if(g&&(d=t-d),y&&(p=t-p),d>c||p>c)throw new Error("splitScalarEndo: Endomorphism failed, k="+e);return{k1neg:g,k1:d,k2neg:y,k2:p}}},di=32,Uf=32,GH=32,_T=di+1,IT=2*di+1;function OT(e){const{a:t,b:n}=fn,r=Ce(e*e),s=Ce(r*e);return Ce(s+t*e+n)}const Ym=fn.a===at;class _D extends Error{constructor(t){super(t)}}function DT(e){if(!(e instanceof yt))throw new TypeError("JacobianPoint expected")}class yt{constructor(t,n,r){this.x=t,this.y=n,this.z=r}static fromAffine(t){if(!(t instanceof Bt))throw new TypeError("JacobianPoint#fromAffine: expected Point");return t.equals(Bt.ZERO)?yt.ZERO:new yt(t.x,t.y,Xt)}static toAffineBatch(t){const n=JH(t.map(r=>r.z));return t.map((r,s)=>r.toAffine(n[s]))}static normalizeZ(t){return yt.toAffineBatch(t).map(yt.fromAffine)}equals(t){DT(t);const{x:n,y:r,z:s}=this,{x:o,y:c,z:l}=t,f=Ce(s*s),d=Ce(l*l),p=Ce(n*d),g=Ce(o*f),y=Ce(Ce(r*l)*d),b=Ce(Ce(c*s)*f);return p===g&&y===b}negate(){return new yt(this.x,Ce(-this.y),this.z)}double(){const{x:t,y:n,z:r}=this,s=Ce(t*t),o=Ce(n*n),c=Ce(o*o),l=t+o,f=Ce(Ja*(Ce(l*l)-s-c)),d=Ce(Kd*s),p=Ce(d*d),g=Ce(p-Ja*f),y=Ce(d*(f-g)-NT*c),b=Ce(Ja*n*r);return new yt(g,y,b)}add(t){DT(t);const{x:n,y:r,z:s}=this,{x:o,y:c,z:l}=t;if(o===at||c===at)return this;if(n===at||r===at)return t;const f=Ce(s*s),d=Ce(l*l),p=Ce(n*d),g=Ce(o*f),y=Ce(Ce(r*l)*d),b=Ce(Ce(c*s)*f),v=Ce(g-p),E=Ce(b-y);if(v===at)return E===at?this.double():yt.ZERO;const S=Ce(v*v),C=Ce(v*S),O=Ce(p*S),x=Ce(E*E-C-Ja*O),N=Ce(E*(O-x)-y*C),T=Ce(s*l*v);return new yt(x,N,T)}subtract(t){return this.add(t.negate())}multiplyUnsafe(t){const n=yt.ZERO;if(typeof t=="bigint"&&t===at)return n;let r=UT(t);if(r===Xt)return this;if(!Ym){let g=n,y=this;for(;r>at;)r&Xt&&(g=g.add(y)),y=y.double(),r>>=Xt;return g}let{k1neg:s,k1:o,k2neg:c,k2:l}=Gm.splitScalar(r),f=n,d=n,p=this;for(;o>at||l>at;)o&Xt&&(f=f.add(p)),l&Xt&&(d=d.add(p)),p=p.double(),o>>=Xt,l>>=Xt;return s&&(f=f.negate()),c&&(d=d.negate()),d=new yt(Ce(d.x*Gm.beta),d.y,d.z),f.add(d)}precomputeWindow(t){const n=Ym?128/t+1:256/t+1,r=[];let s=this,o=s;for(let c=0;c<n;c++){o=s,r.push(o);for(let l=1;l<2**(t-1);l++)o=o.add(s),r.push(o);s=o.double()}return r}wNAF(t,n){!n&&this.equals(yt.BASE)&&(n=Bt.BASE);const r=n&&n._WINDOW_SIZE||1;if(256%r)throw new Error("Point#wNAF: Invalid precomputation window, must be power of 2");let s=n&&H2.get(n);s||(s=this.precomputeWindow(r),n&&r!==1&&(s=yt.normalizeZ(s),H2.set(n,s)));let o=yt.ZERO,c=yt.BASE;const l=1+(Ym?128/r:256/r),f=2**(r-1),d=BigInt(2**r-1),p=2**r,g=BigInt(r);for(let y=0;y<l;y++){const b=y*f;let v=Number(t&d);t>>=g,v>f&&(v-=p,t+=Xt);const E=b,S=b+Math.abs(v)-1,C=y%2!==0,O=v<0;v===0?c=c.add(Xm(C,s[E])):o=o.add(Xm(O,s[S]))}return{p:o,f:c}}multiply(t,n){let r=UT(t),s,o;if(Ym){const{k1neg:c,k1:l,k2neg:f,k2:d}=Gm.splitScalar(r);let{p,f:g}=this.wNAF(l,n),{p:y,f:b}=this.wNAF(d,n);p=Xm(c,p),y=Xm(f,y),y=new yt(Ce(y.x*Gm.beta),y.y,y.z),s=p.add(y),o=g.add(b)}else{const{p:c,f:l}=this.wNAF(r,n);s=c,o=l}return yt.normalizeZ([s,o])[0]}toAffine(t){const{x:n,y:r,z:s}=this,o=this.equals(yt.ZERO);t==null&&(t=o?NT:ag(s));const c=t,l=Ce(c*c),f=Ce(l*c),d=Ce(n*l),p=Ce(r*f),g=Ce(s*c);if(o)return Bt.ZERO;if(g!==Xt)throw new Error("invZ was invalid");return new Bt(d,p)}}yt.BASE=new yt(fn.Gx,fn.Gy,Xt);yt.ZERO=new yt(at,Xt,at);function Xm(e,t){const n=t.negate();return e?n:t}const H2=new WeakMap;class Bt{constructor(t,n){this.x=t,this.y=n}_setWindowSize(t){this._WINDOW_SIZE=t,H2.delete(this)}hasEvenY(){return this.y%Ja===at}static fromCompressedHex(t){const n=t.length===32,r=ic(n?t:t.subarray(1));if(!Vb(r))throw new Error("Point is not on curve");const s=OT(r);let o=QH(s);const c=(o&Xt)===Xt;n?c&&(o=Ce(-o)):(t[0]&1)===1!==c&&(o=Ce(-o));const l=new Bt(r,o);return l.assertValidity(),l}static fromUncompressedHex(t){const n=ic(t.subarray(1,di+1)),r=ic(t.subarray(di+1,di*2+1)),s=new Bt(n,r);return s.assertValidity(),s}static fromHex(t){const n=wp(t),r=n.length,s=n[0];if(r===di)return this.fromCompressedHex(n);if(r===_T&&(s===2||s===3))return this.fromCompressedHex(n);if(r===IT&&s===4)return this.fromUncompressedHex(n);throw new Error(`Point.fromHex: received invalid point. Expected 32-${_T} compressed bytes or ${IT} uncompressed bytes, not ${r}`)}static fromPrivateKey(t){return Bt.BASE.multiply(hy(t))}static fromSignature(t,n,r){const{r:s,s:o}=rF(n);if(![0,1,2,3].includes(r))throw new Error("Cannot recover: invalid recovery bit");const c=ID(wp(t)),{n:l}=fn,f=r===2||r===3?s+l:s,d=ag(f,l),p=Ce(-c*d,l),g=Ce(o*d,l),y=r&1?"03":"02",b=Bt.fromHex(y+Nf(f)),v=Bt.BASE.multiplyAndAddUnsafe(b,p,g);if(!v)throw new Error("Cannot recover signature: point at infinify");return v.assertValidity(),v}toRawBytes(t=!1){return xl(this.toHex(t))}toHex(t=!1){const n=Nf(this.x);return t?`${this.hasEvenY()?"02":"03"}${n}`:`04${n}${Nf(this.y)}`}toHexX(){return this.toHex(!0).slice(2)}toRawX(){return this.toRawBytes(!0).slice(1)}assertValidity(){const t="Point is not on elliptic curve",{x:n,y:r}=this;if(!Vb(n)||!Vb(r))throw new Error(t);const s=Ce(r*r),o=OT(n);if(Ce(s-o)!==at)throw new Error(t)}equals(t){return this.x===t.x&&this.y===t.y}negate(){return new Bt(this.x,Ce(-this.y))}double(){return yt.fromAffine(this).double().toAffine()}add(t){return yt.fromAffine(this).add(yt.fromAffine(t)).toAffine()}subtract(t){return this.add(t.negate())}multiply(t){return yt.fromAffine(this).multiply(t,this).toAffine()}multiplyAndAddUnsafe(t,n,r){const s=yt.fromAffine(this),o=n===at||n===Xt||this!==Bt.BASE?s.multiplyUnsafe(n):s.multiply(n),c=yt.fromAffine(t).multiplyUnsafe(r),l=o.add(c);return l.equals(yt.ZERO)?void 0:l.toAffine()}}Bt.BASE=new Bt(fn.Gx,fn.Gy);Bt.ZERO=new Bt(at,at);function MT(e){return Number.parseInt(e[0],16)>=8?"00"+e:e}function $T(e){if(e.length<2||e[0]!==2)throw new Error(`Invalid signature integer tag: ${Rf(e)}`);const t=e[1],n=e.subarray(2,t+2);if(!t||n.length!==t)throw new Error("Invalid signature integer: wrong length");if(n[0]===0&&n[1]<=127)throw new Error("Invalid signature integer: trailing length");return{data:ic(n),left:e.subarray(t+2)}}function YH(e){if(e.length<2||e[0]!=48)throw new Error(`Invalid signature tag: ${Rf(e)}`);if(e[1]!==e.length-2)throw new Error("Invalid signature: incorrect length");const{data:t,left:n}=$T(e.subarray(2)),{data:r,left:s}=$T(n);if(s.length)throw new Error(`Invalid signature: left bytes after parsing: ${Rf(s)}`);return{r:t,s:r}}class Yi{constructor(t,n){this.r=t,this.s=n,this.assertValidity()}static fromCompact(t){const n=t instanceof Uint8Array,r="Signature.fromCompact";if(typeof t!="string"&&!n)throw new TypeError(`${r}: Expected string or Uint8Array`);const s=n?Rf(t):t;if(s.length!==128)throw new Error(`${r}: Expected 64-byte hex`);return new Yi(fy(s.slice(0,64)),fy(s.slice(64,128)))}static fromDER(t){const n=t instanceof Uint8Array;if(typeof t!="string"&&!n)throw new TypeError("Signature.fromDER: Expected string or Uint8Array");const{r,s}=YH(n?t:xl(t));return new Yi(r,s)}static fromHex(t){return this.fromDER(t)}assertValidity(){const{r:t,s:n}=this;if(!bp(t))throw new Error("Invalid Signature: r must be 0 < r < n");if(!bp(n))throw new Error("Invalid Signature: s must be 0 < s < n")}hasHighS(){const t=fn.n>>Xt;return this.s>t}normalizeS(){return this.hasHighS()?new Yi(this.r,Ce(-this.s,fn.n)):this}toDERRawBytes(){return xl(this.toDERHex())}toDERHex(){const t=MT(dd(this.s)),n=MT(dd(this.r)),r=t.length/2,s=n.length/2,o=dd(r),c=dd(s);return`30${dd(s+r+4)}02${c}${n}02${o}${t}`}toRawBytes(){return this.toDERRawBytes()}toHex(){return this.toDERHex()}toCompactRawBytes(){return xl(this.toCompactHex())}toCompactHex(){return Nf(this.r)+Nf(this.s)}}function Xa(...e){if(!e.every(r=>r instanceof Uint8Array))throw new Error("Uint8Array list expected");if(e.length===1)return e[0];const t=e.reduce((r,s)=>r+s.length,0),n=new Uint8Array(t);for(let r=0,s=0;r<e.length;r++){const o=e[r];n.set(o,s),s+=o.length}return n}const XH=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function Rf(e){if(!(e instanceof Uint8Array))throw new Error("Expected Uint8Array");let t="";for(let n=0;n<e.length;n++)t+=XH[e[n]];return t}const ZH=BigInt("0x10000000000000000000000000000000000000000000000000000000000000000");function Nf(e){if(typeof e!="bigint")throw new Error("Expected bigint");if(!(at<=e&&e<ZH))throw new Error("Expected number 0 <= n < 2^256");return e.toString(16).padStart(64,"0")}function F2(e){const t=xl(Nf(e));if(t.length!==32)throw new Error("Error: expected 32 bytes");return t}function dd(e){const t=e.toString(16);return t.length&1?`0${t}`:t}function fy(e){if(typeof e!="string")throw new TypeError("hexToNumber: expected string, got "+typeof e);return BigInt(`0x${e}`)}function xl(e){if(typeof e!="string")throw new TypeError("hexToBytes: expected string, got "+typeof e);if(e.length%2)throw new Error("hexToBytes: received invalid unpadded hex"+e.length);const t=new Uint8Array(e.length/2);for(let n=0;n<t.length;n++){const r=n*2,s=e.slice(r,r+2),o=Number.parseInt(s,16);if(Number.isNaN(o)||o<0)throw new Error("Invalid byte sequence");t[n]=o}return t}function ic(e){return fy(Rf(e))}function wp(e){return e instanceof Uint8Array?Uint8Array.from(e):xl(e)}function UT(e){if(typeof e=="number"&&Number.isSafeInteger(e)&&e>0)return BigInt(e);if(typeof e=="bigint"&&bp(e))return e;throw new TypeError("Expected valid private scalar: 0 < scalar < curve.n")}function Ce(e,t=fn.P){const n=e%t;return n>=at?n:t+n}function Is(e,t){const{P:n}=fn;let r=e;for(;t-- >at;)r*=r,r%=n;return r}function QH(e){const{P:t}=fn,n=BigInt(6),r=BigInt(11),s=BigInt(22),o=BigInt(23),c=BigInt(44),l=BigInt(88),f=e*e*e%t,d=f*f*e%t,p=Is(d,Kd)*d%t,g=Is(p,Kd)*d%t,y=Is(g,Ja)*f%t,b=Is(y,r)*y%t,v=Is(b,s)*b%t,E=Is(v,c)*v%t,S=Is(E,l)*E%t,C=Is(S,c)*v%t,O=Is(C,Kd)*d%t,x=Is(O,o)*b%t,N=Is(x,n)*f%t,T=Is(N,Ja);if(T*T%t!==e)throw new Error("Cannot find square root");return T}function ag(e,t=fn.P){if(e===at||t<=at)throw new Error(`invert: expected positive integers, got n=${e} mod=${t}`);let n=Ce(e,t),r=t,s=at,o=Xt;for(;n!==at;){const l=r/n,f=r%n,d=s-o*l;r=n,n=f,s=o,o=d}if(r!==Xt)throw new Error("invert: does not exist");return Ce(s,t)}function JH(e,t=fn.P){const n=new Array(e.length),r=e.reduce((o,c,l)=>c===at?o:(n[l]=o,Ce(o*c,t)),Xt),s=ag(r,t);return e.reduceRight((o,c,l)=>c===at?o:(n[l]=Ce(o*n[l],t),Ce(o*c,t)),s),n}function eF(e){const t=e.length*8-Uf*8,n=ic(e);return t>0?n>>BigInt(t):n}function ID(e,t=!1){const n=eF(e);if(t)return n;const{n:r}=fn;return n>=r?n-r:n}let Tf,Gd;class tF{constructor(t,n){if(this.hashLen=t,this.qByteLen=n,typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof n!="number"||n<2)throw new Error("qByteLen must be a number");this.v=new Uint8Array(t).fill(1),this.k=new Uint8Array(t).fill(0),this.counter=0}hmac(...t){return ec.hmacSha256(this.k,...t)}hmacSync(...t){return Gd(this.k,...t)}checkSync(){if(typeof Gd!="function")throw new _D("hmacSha256Sync needs to be set")}incr(){if(this.counter>=1e3)throw new Error("Tried 1,000 k values for sign(), all were invalid");this.counter+=1}async reseed(t=new Uint8Array){this.k=await this.hmac(this.v,Uint8Array.from([0]),t),this.v=await this.hmac(this.v),t.length!==0&&(this.k=await this.hmac(this.v,Uint8Array.from([1]),t),this.v=await this.hmac(this.v))}reseedSync(t=new Uint8Array){this.checkSync(),this.k=this.hmacSync(this.v,Uint8Array.from([0]),t),this.v=this.hmacSync(this.v),t.length!==0&&(this.k=this.hmacSync(this.v,Uint8Array.from([1]),t),this.v=this.hmacSync(this.v))}async generate(){this.incr();let t=0;const n=[];for(;t<this.qByteLen;){this.v=await this.hmac(this.v);const r=this.v.slice();n.push(r),t+=this.v.length}return Xa(...n)}generateSync(){this.checkSync(),this.incr();let t=0;const n=[];for(;t<this.qByteLen;){this.v=this.hmacSync(this.v);const r=this.v.slice();n.push(r),t+=this.v.length}return Xa(...n)}}function bp(e){return at<e&&e<fn.n}function Vb(e){return at<e&&e<fn.P}function nF(e,t,n,r=!0){const{n:s}=fn,o=ID(e,!0);if(!bp(o))return;const c=ag(o,s),l=Bt.BASE.multiply(o),f=Ce(l.x,s);if(f===at)return;const d=Ce(c*Ce(t+n*f,s),s);if(d===at)return;let p=new Yi(f,d),g=(l.x===p.r?0:2)|Number(l.y&Xt);return r&&p.hasHighS()&&(p=p.normalizeS(),g^=1),{sig:p,recovery:g}}function hy(e){let t;if(typeof e=="bigint")t=e;else if(typeof e=="number"&&Number.isSafeInteger(e)&&e>0)t=BigInt(e);else if(typeof e=="string"){if(e.length!==2*Uf)throw new Error("Expected 32 bytes of private key");t=fy(e)}else if(e instanceof Uint8Array){if(e.length!==Uf)throw new Error("Expected 32 bytes of private key");t=ic(e)}else throw new TypeError("Expected valid private key");if(!bp(t))throw new Error("Expected private key: 0 < key < n");return t}function rF(e){if(e instanceof Yi)return e.assertValidity(),e;try{return Yi.fromDER(e)}catch{return Yi.fromCompact(e)}}function sF(e,t=!1){return Bt.fromPrivateKey(e).toRawBytes(t)}function OD(e){const t=e.length>di?e.slice(0,di):e;return ic(t)}function iF(e){const t=OD(e),n=Ce(t,fn.n);return DD(n<at?t:n)}function DD(e){return F2(e)}function oF(e,t,n){if(e==null)throw new Error(`sign: expected valid message hash, not "${e}"`);const r=wp(e),s=hy(t),o=[DD(s),iF(r)];if(n!=null){n===!0&&(n=ec.randomBytes(di));const f=wp(n);if(f.length!==di)throw new Error(`sign: Expected ${di} bytes of extra data`);o.push(f)}const c=Xa(...o),l=OD(r);return{seed:c,m:l,d:s}}function aF(e,t){const{sig:n,recovery:r}=e,{der:s,recovered:o}=Object.assign({canonical:!0,der:!0},t),c=s?n.toDERRawBytes():n.toCompactRawBytes();return o?[c,r]:c}function cF(e,t,n={}){const{seed:r,m:s,d:o}=oF(e,t,n.extraEntropy),c=new tF(GH,Uf);c.reseedSync(r);let l;for(;!(l=nF(c.generateSync(),s,o,n.canonical));)c.reseedSync();return aF(l,n)}Bt.BASE._setWindowSize(8);const es={node:KH,web:typeof self=="object"&&"crypto"in self?self.crypto:void 0},Zm={},ec={bytesToHex:Rf,hexToBytes:xl,concatBytes:Xa,mod:Ce,invert:ag,isValidPrivateKey(e){try{return hy(e),!0}catch{return!1}},_bigintTo32Bytes:F2,_normalizePrivateKey:hy,hashToPrivateKey:e=>{e=wp(e);const t=Uf+8;if(e.length<t||e.length>1024)throw new Error("Expected valid bytes of private key as per FIPS 186");const n=Ce(ic(e),fn.n-Xt)+Xt;return F2(n)},randomBytes:(e=32)=>{if(es.web)return es.web.getRandomValues(new Uint8Array(e));if(es.node){const{randomBytes:t}=es.node;return Uint8Array.from(t(e))}else throw new Error("The environment doesn't have randomBytes function")},randomPrivateKey:()=>ec.hashToPrivateKey(ec.randomBytes(Uf+8)),precompute(e=8,t=Bt.BASE){const n=t===Bt.BASE?t:new Bt(t.x,t.y);return n._setWindowSize(e),n.multiply(Kd),n},sha256:async(...e)=>{if(es.web){const t=await es.web.subtle.digest("SHA-256",Xa(...e));return new Uint8Array(t)}else if(es.node){const{createHash:t}=es.node,n=t("sha256");return e.forEach(r=>n.update(r)),Uint8Array.from(n.digest())}else throw new Error("The environment doesn't have sha256 function")},hmacSha256:async(e,...t)=>{if(es.web){const n=await es.web.subtle.importKey("raw",e,{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign"]),r=Xa(...t),s=await es.web.subtle.sign("HMAC",n,r);return new Uint8Array(s)}else if(es.node){const{createHmac:n}=es.node,r=n("sha256",e);return t.forEach(s=>r.update(s)),Uint8Array.from(r.digest())}else throw new Error("The environment doesn't have hmac-sha256 function")},sha256Sync:void 0,hmacSha256Sync:void 0,taggedHash:async(e,...t)=>{let n=Zm[e];if(n===void 0){const r=await ec.sha256(Uint8Array.from(e,s=>s.charCodeAt(0)));n=Xa(r,r),Zm[e]=n}return ec.sha256(n,...t)},taggedHashSync:(e,...t)=>{if(typeof Tf!="function")throw new _D("sha256Sync is undefined, you need to set it");let n=Zm[e];if(n===void 0){const r=Tf(Uint8Array.from(e,s=>s.charCodeAt(0)));n=Xa(r,r),Zm[e]=n}return Tf(n,...t)},_JacobianPoint:yt};Object.defineProperties(ec,{sha256Sync:{configurable:!1,get(){return Tf},set(e){Tf||(Tf=e)}},hmacSha256Sync:{configurable:!1,get(){return Gd},set(e){Gd||(Gd=e)}}});var Wb={},Kb={},Gb={},pd={},RT;function lF(){return RT||(RT=1,Object.defineProperty(pd,"__esModule",{value:!0}),pd.crypto=void 0,pd.crypto={node:void 0,web:typeof self=="object"&&"crypto"in self?self.crypto:void 0}),pd}var PT;function th(){return PT||(PT=1,(function(e){/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */Object.defineProperty(e,"__esModule",{value:!0}),e.randomBytes=e.wrapConstructorWithOpts=e.wrapConstructor=e.checkOpts=e.Hash=e.concatBytes=e.toBytes=e.utf8ToBytes=e.asyncLoop=e.nextTick=e.hexToBytes=e.bytesToHex=e.isLE=e.rotr=e.createView=e.u32=e.u8=void 0;const t=lF(),n=N=>new Uint8Array(N.buffer,N.byteOffset,N.byteLength);e.u8=n;const r=N=>new Uint32Array(N.buffer,N.byteOffset,Math.floor(N.byteLength/4));e.u32=r;const s=N=>new DataView(N.buffer,N.byteOffset,N.byteLength);e.createView=s;const o=(N,T)=>N<<32-T|N>>>T;if(e.rotr=o,e.isLE=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68,!e.isLE)throw new Error("Non little-endian hardware is not supported");const c=Array.from({length:256},(N,T)=>T.toString(16).padStart(2,"0"));function l(N){if(!(N instanceof Uint8Array))throw new Error("Uint8Array expected");let T="";for(let I=0;I<N.length;I++)T+=c[N[I]];return T}e.bytesToHex=l;function f(N){if(typeof N!="string")throw new TypeError("hexToBytes: expected string, got "+typeof N);if(N.length%2)throw new Error("hexToBytes: received invalid unpadded hex");const T=new Uint8Array(N.length/2);for(let I=0;I<T.length;I++){const R=I*2,L=N.slice(R,R+2),U=Number.parseInt(L,16);if(Number.isNaN(U)||U<0)throw new Error("Invalid byte sequence");T[I]=U}return T}e.hexToBytes=f;const d=async()=>{};e.nextTick=d;async function p(N,T,I){let R=Date.now();for(let L=0;L<N;L++){I(L);const U=Date.now()-R;U>=0&&U<T||(await(0,e.nextTick)(),R+=U)}}e.asyncLoop=p;function g(N){if(typeof N!="string")throw new TypeError(`utf8ToBytes expected string, got ${typeof N}`);return new TextEncoder().encode(N)}e.utf8ToBytes=g;function y(N){if(typeof N=="string"&&(N=g(N)),!(N instanceof Uint8Array))throw new TypeError(`Expected input type is Uint8Array (got ${typeof N})`);return N}e.toBytes=y;function b(...N){if(!N.every(R=>R instanceof Uint8Array))throw new Error("Uint8Array list expected");if(N.length===1)return N[0];const T=N.reduce((R,L)=>R+L.length,0),I=new Uint8Array(T);for(let R=0,L=0;R<N.length;R++){const U=N[R];I.set(U,L),L+=U.length}return I}e.concatBytes=b;class v{clone(){return this._cloneInto()}}e.Hash=v;const E=N=>Object.prototype.toString.call(N)==="[object Object]"&&N.constructor===Object;function S(N,T){if(T!==void 0&&(typeof T!="object"||!E(T)))throw new TypeError("Options should be object or undefined");return Object.assign(N,T)}e.checkOpts=S;function C(N){const T=R=>N().update(y(R)).digest(),I=N();return T.outputLen=I.outputLen,T.blockLen=I.blockLen,T.create=()=>N(),T}e.wrapConstructor=C;function O(N){const T=(R,L)=>N(L).update(y(R)).digest(),I=N({});return T.outputLen=I.outputLen,T.blockLen=I.blockLen,T.create=R=>N(R),T}e.wrapConstructorWithOpts=O;function x(N=32){if(t.crypto.web)return t.crypto.web.getRandomValues(new Uint8Array(N));if(t.crypto.node)return new Uint8Array(t.crypto.node.randomBytes(N).buffer);throw new Error("The environment doesn't have randomBytes function")}e.randomBytes=x})(Gb)),Gb}var BT;function MD(){return BT||(BT=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.c32decode=e.c32normalize=e.c32encode=e.c32=void 0;const t=th();e.c32="0123456789ABCDEFGHJKMNPQRSTVWXYZ";const n="0123456789abcdef";function r(c,l){if(!c.match(/^[0-9a-fA-F]*$/))throw new Error("Not a hex-encoded string");c.length%2!==0&&(c=`0${c}`),c=c.toLowerCase();let f=[],d=0;for(let b=c.length-1;b>=0;b--)if(d<4){const v=n.indexOf(c[b])>>d;let E=0;b!==0&&(E=n.indexOf(c[b-1]));const S=1+d,C=E%(1<<S)<<5-S,O=e.c32[v+C];d=S,f.unshift(O)}else d=0;let p=0;for(let b=0;b<f.length&&f[b]==="0";b++)p++;f=f.slice(p);const g=new TextDecoder().decode((0,t.hexToBytes)(c)).match(/^\u0000*/),y=g?g[0].length:0;for(let b=0;b<y;b++)f.unshift(e.c32[0]);if(l){const b=l-f.length;for(let v=0;v<b;v++)f.unshift(e.c32[0])}return f.join("")}e.c32encode=r;function s(c){return c.toUpperCase().replace(/O/g,"0").replace(/L|I/g,"1")}e.c32normalize=s;function o(c,l){if(c=s(c),!c.match(`^[${e.c32}]*$`))throw new Error("Not a c32-encoded string");const f=c.match(`^${e.c32[0]}*`),d=f?f[0].length:0;let p=[],g=0,y=0;for(let E=c.length-1;E>=0;E--){y===4&&(p.unshift(n[g]),y=0,g=0);const C=(e.c32.indexOf(c[E])<<y)+g,O=n[C%16];if(y+=1,g=C>>4,g>1<<y)throw new Error("Panic error in decoding.");p.unshift(O)}p.unshift(n[g]),p.length%2===1&&p.unshift("0");let b=0;for(let E=0;E<p.length&&p[E]==="0";E++)b++;p=p.slice(b-b%2);let v=p.join("");for(let E=0;E<d;E++)v=`00${v}`;if(l){const E=l*2-v.length;for(let S=0;S<E;S+=2)v=`00${v}`}return v}e.c32decode=o})(Kb)),Kb}var Kc={},Gc={},gd={},nr={},LT;function uF(){if(LT)return nr;LT=1,Object.defineProperty(nr,"__esModule",{value:!0}),nr.output=nr.exists=nr.hash=nr.bytes=nr.bool=nr.number=void 0;function e(l){if(!Number.isSafeInteger(l)||l<0)throw new Error(`Wrong positive integer: ${l}`)}nr.number=e;function t(l){if(typeof l!="boolean")throw new Error(`Expected boolean, not ${l}`)}nr.bool=t;function n(l,...f){if(!(l instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(f.length>0&&!f.includes(l.length))throw new TypeError(`Expected Uint8Array of length ${f}, not of length=${l.length}`)}nr.bytes=n;function r(l){if(typeof l!="function"||typeof l.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");e(l.outputLen),e(l.blockLen)}nr.hash=r;function s(l,f=!0){if(l.destroyed)throw new Error("Hash instance has been destroyed");if(f&&l.finished)throw new Error("Hash#digest() has already been called")}nr.exists=s;function o(l,f){n(l);const d=f.outputLen;if(l.length<d)throw new Error(`digestInto() expects output buffer of length at least ${d}`)}nr.output=o;const c={number:e,bool:t,bytes:n,hash:r,exists:s,output:o};return nr.default=c,nr}var kT;function fF(){if(kT)return gd;kT=1,Object.defineProperty(gd,"__esModule",{value:!0}),gd.SHA2=void 0;const e=uF(),t=th();function n(s,o,c,l){if(typeof s.setBigUint64=="function")return s.setBigUint64(o,c,l);const f=BigInt(32),d=BigInt(4294967295),p=Number(c>>f&d),g=Number(c&d),y=l?4:0,b=l?0:4;s.setUint32(o+y,p,l),s.setUint32(o+b,g,l)}class r extends t.Hash{constructor(o,c,l,f){super(),this.blockLen=o,this.outputLen=c,this.padOffset=l,this.isLE=f,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(o),this.view=(0,t.createView)(this.buffer)}update(o){e.default.exists(this);const{view:c,buffer:l,blockLen:f}=this;o=(0,t.toBytes)(o);const d=o.length;for(let p=0;p<d;){const g=Math.min(f-this.pos,d-p);if(g===f){const y=(0,t.createView)(o);for(;f<=d-p;p+=f)this.process(y,p);continue}l.set(o.subarray(p,p+g),this.pos),this.pos+=g,p+=g,this.pos===f&&(this.process(c,0),this.pos=0)}return this.length+=o.length,this.roundClean(),this}digestInto(o){e.default.exists(this),e.default.output(o,this),this.finished=!0;const{buffer:c,view:l,blockLen:f,isLE:d}=this;let{pos:p}=this;c[p++]=128,this.buffer.subarray(p).fill(0),this.padOffset>f-p&&(this.process(l,0),p=0);for(let E=p;E<f;E++)c[E]=0;n(l,f-8,BigInt(this.length*8),d),this.process(l,0);const g=(0,t.createView)(o),y=this.outputLen;if(y%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const b=y/4,v=this.get();if(b>v.length)throw new Error("_sha2: outputLen bigger than state");for(let E=0;E<b;E++)g.setUint32(4*E,v[E],d)}digest(){const{buffer:o,outputLen:c}=this;this.digestInto(o);const l=o.slice(0,c);return this.destroy(),l}_cloneInto(o){o||(o=new this.constructor),o.set(...this.get());const{blockLen:c,buffer:l,length:f,finished:d,destroyed:p,pos:g}=this;return o.length=f,o.pos=g,o.finished=d,o.destroyed=p,f%c&&o.buffer.set(l),o}}return gd.SHA2=r,gd}var jT;function $D(){if(jT)return Gc;jT=1,Object.defineProperty(Gc,"__esModule",{value:!0}),Gc.sha224=Gc.sha256=void 0;const e=fF(),t=th(),n=(d,p,g)=>d&p^~d&g,r=(d,p,g)=>d&p^d&g^p&g,s=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),o=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),c=new Uint32Array(64);class l extends e.SHA2{constructor(){super(64,32,8,!1),this.A=o[0]|0,this.B=o[1]|0,this.C=o[2]|0,this.D=o[3]|0,this.E=o[4]|0,this.F=o[5]|0,this.G=o[6]|0,this.H=o[7]|0}get(){const{A:p,B:g,C:y,D:b,E:v,F:E,G:S,H:C}=this;return[p,g,y,b,v,E,S,C]}set(p,g,y,b,v,E,S,C){this.A=p|0,this.B=g|0,this.C=y|0,this.D=b|0,this.E=v|0,this.F=E|0,this.G=S|0,this.H=C|0}process(p,g){for(let N=0;N<16;N++,g+=4)c[N]=p.getUint32(g,!1);for(let N=16;N<64;N++){const T=c[N-15],I=c[N-2],R=(0,t.rotr)(T,7)^(0,t.rotr)(T,18)^T>>>3,L=(0,t.rotr)(I,17)^(0,t.rotr)(I,19)^I>>>10;c[N]=L+c[N-7]+R+c[N-16]|0}let{A:y,B:b,C:v,D:E,E:S,F:C,G:O,H:x}=this;for(let N=0;N<64;N++){const T=(0,t.rotr)(S,6)^(0,t.rotr)(S,11)^(0,t.rotr)(S,25),I=x+T+n(S,C,O)+s[N]+c[N]|0,L=((0,t.rotr)(y,2)^(0,t.rotr)(y,13)^(0,t.rotr)(y,22))+r(y,b,v)|0;x=O,O=C,C=S,S=E+I|0,E=v,v=b,b=y,y=I+L|0}y=y+this.A|0,b=b+this.B|0,v=v+this.C|0,E=E+this.D|0,S=S+this.E|0,C=C+this.F|0,O=O+this.G|0,x=x+this.H|0,this.set(y,b,v,E,S,C,O,x)}roundClean(){c.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}class f extends l{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}}return Gc.sha256=(0,t.wrapConstructor)(()=>new l),Gc.sha224=(0,t.wrapConstructor)(()=>new f),Gc}var zT;function UD(){if(zT)return Kc;zT=1,Object.defineProperty(Kc,"__esModule",{value:!0}),Kc.c32checkDecode=Kc.c32checkEncode=void 0;const e=$D(),t=th(),n=MD();function r(c){const l=(0,e.sha256)((0,e.sha256)((0,t.hexToBytes)(c)));return(0,t.bytesToHex)(l.slice(0,4))}function s(c,l){if(c<0||c>=32)throw new Error("Invalid version (must be between 0 and 31)");if(!l.match(/^[0-9a-fA-F]*$/))throw new Error("Invalid data (not a hex string)");l=l.toLowerCase(),l.length%2!==0&&(l=`0${l}`);let f=c.toString(16);f.length===1&&(f=`0${f}`);const d=r(`${f}${l}`),p=(0,n.c32encode)(`${l}${d}`);return`${n.c32[c]}${p}`}Kc.c32checkEncode=s;function o(c){c=(0,n.c32normalize)(c);const l=(0,n.c32decode)(c.slice(1)),f=c[0],d=n.c32.indexOf(f),p=l.slice(-8);let g=d.toString(16);if(g.length===1&&(g=`0${g}`),r(`${g}${l.substring(0,l.length-8)}`)!==p)throw new Error("Invalid c32check string: checksum mismatch");return[d,l.substring(0,l.length-8)]}return Kc.c32checkDecode=o,Kc}var Yb={},Yc={},Xb,HT;function hF(){if(HT)return Xb;HT=1;function e(t){if(t.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),r=0;r<n.length;r++)n[r]=255;for(var s=0;s<t.length;s++){var o=t.charAt(s),c=o.charCodeAt(0);if(n[c]!==255)throw new TypeError(o+" is ambiguous");n[c]=s}var l=t.length,f=t.charAt(0),d=Math.log(l)/Math.log(256),p=Math.log(256)/Math.log(l);function g(v){if(v instanceof Uint8Array||(ArrayBuffer.isView(v)?v=new Uint8Array(v.buffer,v.byteOffset,v.byteLength):Array.isArray(v)&&(v=Uint8Array.from(v))),!(v instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(v.length===0)return"";for(var E=0,S=0,C=0,O=v.length;C!==O&&v[C]===0;)C++,E++;for(var x=(O-C)*p+1>>>0,N=new Uint8Array(x);C!==O;){for(var T=v[C],I=0,R=x-1;(T!==0||I<S)&&R!==-1;R--,I++)T+=256*N[R]>>>0,N[R]=T%l>>>0,T=T/l>>>0;if(T!==0)throw new Error("Non-zero carry");S=I,C++}for(var L=x-S;L!==x&&N[L]===0;)L++;for(var U=f.repeat(E);L<x;++L)U+=t.charAt(N[L]);return U}function y(v){if(typeof v!="string")throw new TypeError("Expected String");if(v.length===0)return new Uint8Array;for(var E=0,S=0,C=0;v[E]===f;)S++,E++;for(var O=(v.length-E)*d+1>>>0,x=new Uint8Array(O);v[E];){var N=v.charCodeAt(E);if(N>255)return;var T=n[N];if(T===255)return;for(var I=0,R=O-1;(T!==0||I<C)&&R!==-1;R--,I++)T+=l*x[R]>>>0,x[R]=T%256>>>0,T=T/256>>>0;if(T!==0)throw new Error("Non-zero carry");C=I,E++}for(var L=O-C;L!==O&&x[L]===0;)L++;for(var U=new Uint8Array(S+(O-L)),D=S;L!==O;)U[D++]=x[L++];return U}function b(v){var E=y(v);if(E)return E;throw new Error("Non-base"+l+" character")}return{encode:g,decodeUnsafe:y,decode:b}}return Xb=e,Xb}var FT;function dF(){if(FT)return Yc;FT=1,Object.defineProperty(Yc,"__esModule",{value:!0}),Yc.decode=Yc.encode=void 0;const e=$D(),t=th(),n=hF(),r="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";function s(c,l="00"){const f=typeof c=="string"?(0,t.hexToBytes)(c):c,d=typeof l=="string"?(0,t.hexToBytes)(l):c;if(!(f instanceof Uint8Array)||!(d instanceof Uint8Array))throw new TypeError("Argument must be of type Uint8Array or string");const p=(0,e.sha256)((0,e.sha256)(new Uint8Array([...d,...f])));return n(r).encode([...d,...f,...p.slice(0,4)])}Yc.encode=s;function o(c){const l=n(r).decode(c),f=l.slice(0,1),d=l.slice(1,-4),p=(0,e.sha256)((0,e.sha256)(new Uint8Array([...f,...d])));return l.slice(-4).forEach((g,y)=>{if(g!==p[y])throw new Error("Invalid checksum")}),{prefix:f,data:d}}return Yc.decode=o,Yc}var qT;function pF(){return qT||(qT=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.c32ToB58=e.b58ToC32=e.c32addressDecode=e.c32address=e.versions=void 0;const t=UD(),n=dF(),r=th();e.versions={mainnet:{p2pkh:22,p2sh:20},testnet:{p2pkh:26,p2sh:21}};const s={};s[0]=e.versions.mainnet.p2pkh,s[5]=e.versions.mainnet.p2sh,s[111]=e.versions.testnet.p2pkh,s[196]=e.versions.testnet.p2sh;const o={};o[e.versions.mainnet.p2pkh]=0,o[e.versions.mainnet.p2sh]=5,o[e.versions.testnet.p2pkh]=111,o[e.versions.testnet.p2sh]=196;function c(p,g){if(!g.match(/^[0-9a-fA-F]{40}$/))throw new Error("Invalid argument: not a hash160 hex string");return`S${(0,t.c32checkEncode)(p,g)}`}e.c32address=c;function l(p){if(p.length<=5)throw new Error("Invalid c32 address: invalid length");if(p[0]!="S")throw new Error('Invalid c32 address: must start with "S"');return(0,t.c32checkDecode)(p.slice(1))}e.c32addressDecode=l;function f(p,g=-1){const y=n.decode(p),b=(0,r.bytesToHex)(y.data),v=parseInt((0,r.bytesToHex)(y.prefix),16);let E;return g<0?(E=v,s[v]!==void 0&&(E=s[v])):E=g,c(E,b)}e.b58ToC32=f;function d(p,g=-1){const y=l(p),b=y[0],v=y[1];let E;g<0?(E=b,o[b]!==void 0&&(E=o[b])):E=g;let S=E.toString(16);return S.length===1&&(S=`0${S}`),n.encode(v,S)}e.c32ToB58=d})(Yb)),Yb}var VT;function gF(){return VT||(VT=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.b58ToC32=e.c32ToB58=e.versions=e.c32normalize=e.c32addressDecode=e.c32address=e.c32checkDecode=e.c32checkEncode=e.c32decode=e.c32encode=void 0;const t=MD();Object.defineProperty(e,"c32encode",{enumerable:!0,get:function(){return t.c32encode}}),Object.defineProperty(e,"c32decode",{enumerable:!0,get:function(){return t.c32decode}}),Object.defineProperty(e,"c32normalize",{enumerable:!0,get:function(){return t.c32normalize}});const n=UD();Object.defineProperty(e,"c32checkEncode",{enumerable:!0,get:function(){return n.c32checkEncode}}),Object.defineProperty(e,"c32checkDecode",{enumerable:!0,get:function(){return n.c32checkDecode}});const r=pF();Object.defineProperty(e,"c32address",{enumerable:!0,get:function(){return r.c32address}}),Object.defineProperty(e,"c32addressDecode",{enumerable:!0,get:function(){return r.c32addressDecode}}),Object.defineProperty(e,"c32ToB58",{enumerable:!0,get:function(){return r.c32ToB58}}),Object.defineProperty(e,"b58ToC32",{enumerable:!0,get:function(){return r.b58ToC32}}),Object.defineProperty(e,"versions",{enumerable:!0,get:function(){return r.versions}})})(Wb)),Wb}var rA=gF();const mF=new Uint8Array([7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8]),RD=Uint8Array.from({length:16},(e,t)=>t),yF=RD.map(e=>(9*e+5)%16);let sA=[RD],iA=[yF];for(let e=0;e<4;e++)for(let t of[sA,iA])t.push(t[e].map(n=>mF[n]));const PD=[[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8],[12,13,11,15,6,9,9,7,12,15,11,13,7,8,7,7],[13,15,14,11,7,7,6,8,13,14,13,12,5,5,6,9],[14,11,12,14,8,6,5,5,15,12,15,14,9,9,8,6],[15,12,13,13,9,5,8,6,14,11,12,11,8,6,5,5]].map(e=>new Uint8Array(e)),wF=sA.map((e,t)=>e.map(n=>PD[t][n])),bF=iA.map((e,t)=>e.map(n=>PD[t][n])),vF=new Uint32Array([0,1518500249,1859775393,2400959708,2840853838]),EF=new Uint32Array([1352829926,1548603684,1836072691,2053994217,0]),Qm=(e,t)=>e<<t|e>>>32-t;function WT(e,t,n,r){return e===0?t^n^r:e===1?t&n|~t&r:e===2?(t|~n)^r:e===3?t&r|n&~r:t^(n|~r)}const Jm=new Uint32Array(16);class SF extends tA{constructor(){super(64,20,8,!0),this.h0=1732584193,this.h1=-271733879,this.h2=-1732584194,this.h3=271733878,this.h4=-1009589776}get(){const{h0:t,h1:n,h2:r,h3:s,h4:o}=this;return[t,n,r,s,o]}set(t,n,r,s,o){this.h0=t|0,this.h1=n|0,this.h2=r|0,this.h3=s|0,this.h4=o|0}process(t,n){for(let b=0;b<16;b++,n+=4)Jm[b]=t.getUint32(n,!0);let r=this.h0|0,s=r,o=this.h1|0,c=o,l=this.h2|0,f=l,d=this.h3|0,p=d,g=this.h4|0,y=g;for(let b=0;b<5;b++){const v=4-b,E=vF[b],S=EF[b],C=sA[b],O=iA[b],x=wF[b],N=bF[b];for(let T=0;T<16;T++){const I=Qm(r+WT(b,o,l,d)+Jm[C[T]]+E,x[T])+g|0;r=g,g=d,d=Qm(l,10)|0,l=o,o=I}for(let T=0;T<16;T++){const I=Qm(s+WT(v,c,f,p)+Jm[O[T]]+S,N[T])+y|0;s=y,y=p,p=Qm(f,10)|0,f=c,c=I}}this.set(this.h1+l+p|0,this.h2+d+y|0,this.h3+g+s|0,this.h4+r+c|0,this.h0+o+f|0)}roundClean(){Jm.fill(0)}destroy(){this.destroyed=!0,this.buffer.fill(0),this.set(0,0,0,0,0)}}const AF=kl(()=>new SF),e0=BigInt(2**32-1),q2=BigInt(32);function BD(e,t=!1){return t?{h:Number(e&e0),l:Number(e>>q2&e0)}:{h:Number(e>>q2&e0)|0,l:Number(e&e0)|0}}function CF(e,t=!1){let n=new Uint32Array(e.length),r=new Uint32Array(e.length);for(let s=0;s<e.length;s++){const{h:o,l:c}=BD(e[s],t);[n[s],r[s]]=[o,c]}return[n,r]}const xF=(e,t)=>BigInt(e>>>0)<<q2|BigInt(t>>>0),NF=(e,t,n)=>e>>>n,TF=(e,t,n)=>e<<32-n|t>>>n,_F=(e,t,n)=>e>>>n|t<<32-n,IF=(e,t,n)=>e<<32-n|t>>>n,OF=(e,t,n)=>e<<64-n|t>>>n-32,DF=(e,t,n)=>e>>>n-32|t<<64-n,MF=(e,t)=>t,$F=(e,t)=>e,UF=(e,t,n)=>e<<n|t>>>32-n,RF=(e,t,n)=>t<<n|e>>>32-n,PF=(e,t,n)=>t<<n-32|e>>>64-n,BF=(e,t,n)=>e<<n-32|t>>>64-n;function LF(e,t,n,r){const s=(t>>>0)+(r>>>0);return{h:e+n+(s/2**32|0)|0,l:s|0}}const kF=(e,t,n)=>(e>>>0)+(t>>>0)+(n>>>0),jF=(e,t,n,r)=>t+n+r+(e/2**32|0)|0,zF=(e,t,n,r)=>(e>>>0)+(t>>>0)+(n>>>0)+(r>>>0),HF=(e,t,n,r,s)=>t+n+r+s+(e/2**32|0)|0,FF=(e,t,n,r,s)=>(e>>>0)+(t>>>0)+(n>>>0)+(r>>>0)+(s>>>0),qF=(e,t,n,r,s,o)=>t+n+r+s+o+(e/2**32|0)|0,Ge={fromBig:BD,split:CF,toBig:xF,shrSH:NF,shrSL:TF,rotrSH:_F,rotrSL:IF,rotrBH:OF,rotrBL:DF,rotr32H:MF,rotr32L:$F,rotlSH:UF,rotlSL:RF,rotlBH:PF,rotlBL:BF,add:LF,add3L:kF,add3H:jF,add4L:zF,add4H:HF,add5H:qF,add5L:FF},[VF,WF]=Ge.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(e=>BigInt(e))),$a=new Uint32Array(80),Ua=new Uint32Array(80);class jy extends tA{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:t,Al:n,Bh:r,Bl:s,Ch:o,Cl:c,Dh:l,Dl:f,Eh:d,El:p,Fh:g,Fl:y,Gh:b,Gl:v,Hh:E,Hl:S}=this;return[t,n,r,s,o,c,l,f,d,p,g,y,b,v,E,S]}set(t,n,r,s,o,c,l,f,d,p,g,y,b,v,E,S){this.Ah=t|0,this.Al=n|0,this.Bh=r|0,this.Bl=s|0,this.Ch=o|0,this.Cl=c|0,this.Dh=l|0,this.Dl=f|0,this.Eh=d|0,this.El=p|0,this.Fh=g|0,this.Fl=y|0,this.Gh=b|0,this.Gl=v|0,this.Hh=E|0,this.Hl=S|0}process(t,n){for(let x=0;x<16;x++,n+=4)$a[x]=t.getUint32(n),Ua[x]=t.getUint32(n+=4);for(let x=16;x<80;x++){const N=$a[x-15]|0,T=Ua[x-15]|0,I=Ge.rotrSH(N,T,1)^Ge.rotrSH(N,T,8)^Ge.shrSH(N,T,7),R=Ge.rotrSL(N,T,1)^Ge.rotrSL(N,T,8)^Ge.shrSL(N,T,7),L=$a[x-2]|0,U=Ua[x-2]|0,D=Ge.rotrSH(L,U,19)^Ge.rotrBH(L,U,61)^Ge.shrSH(L,U,6),B=Ge.rotrSL(L,U,19)^Ge.rotrBL(L,U,61)^Ge.shrSL(L,U,6),H=Ge.add4L(R,B,Ua[x-7],Ua[x-16]),X=Ge.add4H(H,I,D,$a[x-7],$a[x-16]);$a[x]=X|0,Ua[x]=H|0}let{Ah:r,Al:s,Bh:o,Bl:c,Ch:l,Cl:f,Dh:d,Dl:p,Eh:g,El:y,Fh:b,Fl:v,Gh:E,Gl:S,Hh:C,Hl:O}=this;for(let x=0;x<80;x++){const N=Ge.rotrSH(g,y,14)^Ge.rotrSH(g,y,18)^Ge.rotrBH(g,y,41),T=Ge.rotrSL(g,y,14)^Ge.rotrSL(g,y,18)^Ge.rotrBL(g,y,41),I=g&b^~g&E,R=y&v^~y&S,L=Ge.add5L(O,T,R,WF[x],Ua[x]),U=Ge.add5H(L,C,N,I,VF[x],$a[x]),D=L|0,B=Ge.rotrSH(r,s,28)^Ge.rotrBH(r,s,34)^Ge.rotrBH(r,s,39),H=Ge.rotrSL(r,s,28)^Ge.rotrBL(r,s,34)^Ge.rotrBL(r,s,39),X=r&o^r&l^o&l,Y=s&c^s&f^c&f;C=E|0,O=S|0,E=b|0,S=v|0,b=g|0,v=y|0,{h:g,l:y}=Ge.add(d|0,p|0,U|0,D|0),d=l|0,p=f|0,l=o|0,f=c|0,o=r|0,c=s|0;const M=Ge.add3L(D,H,Y);r=Ge.add3H(M,U,B,X),s=M|0}({h:r,l:s}=Ge.add(this.Ah|0,this.Al|0,r|0,s|0)),{h:o,l:c}=Ge.add(this.Bh|0,this.Bl|0,o|0,c|0),{h:l,l:f}=Ge.add(this.Ch|0,this.Cl|0,l|0,f|0),{h:d,l:p}=Ge.add(this.Dh|0,this.Dl|0,d|0,p|0),{h:g,l:y}=Ge.add(this.Eh|0,this.El|0,g|0,y|0),{h:b,l:v}=Ge.add(this.Fh|0,this.Fl|0,b|0,v|0),{h:E,l:S}=Ge.add(this.Gh|0,this.Gl|0,E|0,S|0),{h:C,l:O}=Ge.add(this.Hh|0,this.Hl|0,C|0,O|0),this.set(r,s,o,c,l,f,d,p,g,y,b,v,E,S,C,O)}roundClean(){$a.fill(0),Ua.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}class KF extends jy{constructor(){super(),this.Ah=-1942145080,this.Al=424955298,this.Bh=1944164710,this.Bl=-1982016298,this.Ch=502970286,this.Cl=855612546,this.Dh=1738396948,this.Dl=1479516111,this.Eh=258812777,this.El=2077511080,this.Fh=2011393907,this.Fl=79989058,this.Gh=1067287976,this.Gl=1780299464,this.Hh=286451373,this.Hl=-1848208735,this.outputLen=28}}class GF extends jy{constructor(){super(),this.Ah=573645204,this.Al=-64227540,this.Bh=-1621794909,this.Bl=-934517566,this.Ch=596883563,this.Cl=1867755857,this.Dh=-1774684391,this.Dl=1497426621,this.Eh=-1775747358,this.El=-1467023389,this.Fh=-1101128155,this.Fl=1401305490,this.Gh=721525244,this.Gl=746961066,this.Hh=246885852,this.Hl=-2117784414,this.outputLen=32}}class YF extends jy{constructor(){super(),this.Ah=-876896931,this.Al=-1056596264,this.Bh=1654270250,this.Bl=914150663,this.Ch=-1856437926,this.Cl=812702999,this.Dh=355462360,this.Dl=-150054599,this.Eh=1731405415,this.El=-4191439,this.Fh=-1900787065,this.Fl=1750603025,this.Gh=-619958771,this.Gl=1694076839,this.Hh=1203062813,this.Hl=-1090891868,this.outputLen=48}}kl(()=>new jy);kl(()=>new KF);const XF=kl(()=>new GF);kl(()=>new YF);var Rd={exports:{}};Rd.exports;var KT;function ZF(){return KT||(KT=1,(function(e,t){var n=200,r="__lodash_hash_undefined__",s=9007199254740991,o="[object Arguments]",c="[object Array]",l="[object Boolean]",f="[object Date]",d="[object Error]",p="[object Function]",g="[object GeneratorFunction]",y="[object Map]",b="[object Number]",v="[object Object]",E="[object Promise]",S="[object RegExp]",C="[object Set]",O="[object String]",x="[object Symbol]",N="[object WeakMap]",T="[object ArrayBuffer]",I="[object DataView]",R="[object Float32Array]",L="[object Float64Array]",U="[object Int8Array]",D="[object Int16Array]",B="[object Int32Array]",H="[object Uint8Array]",X="[object Uint8ClampedArray]",Y="[object Uint16Array]",M="[object Uint32Array]",_=/[\\^$.*+?()[\]{}|]/g,j=/\w*$/,q=/^\[object .+?Constructor\]$/,W=/^(?:0|[1-9]\d*)$/,V={};V[o]=V[c]=V[T]=V[I]=V[l]=V[f]=V[R]=V[L]=V[U]=V[D]=V[B]=V[y]=V[b]=V[v]=V[S]=V[C]=V[O]=V[x]=V[H]=V[X]=V[Y]=V[M]=!0,V[d]=V[p]=V[N]=!1;var P=typeof cr=="object"&&cr&&cr.Object===Object&&cr,G=typeof self=="object"&&self&&self.Object===Object&&self,te=P||G||Function("return this")(),se=t&&!t.nodeType&&t,ue=se&&!0&&e&&!e.nodeType&&e,pe=ue&&ue.exports===se;function Te(k,ne){return k.set(ne[0],ne[1]),k}function ke(k,ne){return k.add(ne),k}function Ie(k,ne){for(var le=-1,Ee=k?k.length:0;++le<Ee&&ne(k[le],le,k)!==!1;);return k}function Et(k,ne){for(var le=-1,Ee=ne.length,Ht=k.length;++le<Ee;)k[Ht+le]=ne[le];return k}function jt(k,ne,le,Ee){for(var Ht=-1,En=k?k.length:0;++Ht<En;)le=ne(le,k[Ht],Ht,k);return le}function Vr(k,ne){for(var le=-1,Ee=Array(k);++le<k;)Ee[le]=ne(le);return Ee}function ro(k,ne){return k?.[ne]}function Rn(k){var ne=!1;if(k!=null&&typeof k.toString!="function")try{ne=!!(k+"")}catch{}return ne}function bi(k){var ne=-1,le=Array(k.size);return k.forEach(function(Ee,Ht){le[++ne]=[Ht,Ee]}),le}function so(k,ne){return function(le){return k(ne(le))}}function Gl(k){var ne=-1,le=Array(k.size);return k.forEach(function(Ee){le[++ne]=Ee}),le}var Yl=Array.prototype,Jo=Function.prototype,Gs=Object.prototype,Ys=te["__core-js_shared__"],wc=(function(){var k=/[^.]+$/.exec(Ys&&Ys.keys&&Ys.keys.IE_PROTO||"");return k?"Symbol(src)_1."+k:""})(),bc=Jo.toString,zt=Gs.hasOwnProperty,io=Gs.toString,vc=RegExp("^"+bc.call(zt).replace(_,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ec=pe?te.Buffer:void 0,oo=te.Symbol,Xl=te.Uint8Array,Zl=so(Object.getPrototypeOf,Object),fw=Object.create,hw=Gs.propertyIsEnumerable,Sc=Yl.splice,Qn=Object.getOwnPropertySymbols,vi=Ec?Ec.isBuffer:void 0,hr=so(Object.keys,Object),hh=lo(te,"DataView"),Ac=lo(te,"Map"),dh=lo(te,"Promise"),ea=lo(te,"Set"),ta=lo(te,"WeakMap"),Ei=lo(Object,"create"),ao=Qs(hh),Ql=Qs(Ac),Cc=Qs(dh),dw=Qs(ea),Ng=Qs(ta),Jl=oo?oo.prototype:void 0,na=Jl?Jl.valueOf:void 0;function co(k){var ne=-1,le=k?k.length:0;for(this.clear();++ne<le;){var Ee=k[ne];this.set(Ee[0],Ee[1])}}function Tg(){this.__data__=Ei?Ei(null):{}}function _g(k){return this.has(k)&&delete this.__data__[k]}function Ig(k){var ne=this.__data__;if(Ei){var le=ne[k];return le===r?void 0:le}return zt.call(ne,k)?ne[k]:void 0}function ph(k){var ne=this.__data__;return Ei?ne[k]!==void 0:zt.call(ne,k)}function gh(k,ne){var le=this.__data__;return le[k]=Ei&&ne===void 0?r:ne,this}co.prototype.clear=Tg,co.prototype.delete=_g,co.prototype.get=Ig,co.prototype.has=ph,co.prototype.set=gh;function ys(k){var ne=-1,le=k?k.length:0;for(this.clear();++ne<le;){var Ee=k[ne];this.set(Ee[0],Ee[1])}}function Og(){this.__data__=[]}function Si(k){var ne=this.__data__,le=Xs(ne,k);if(le<0)return!1;var Ee=ne.length-1;return le==Ee?ne.pop():Sc.call(ne,le,1),!0}function vn(k){var ne=this.__data__,le=Xs(ne,k);return le<0?void 0:ne[le][1]}function Jn(k){return Xs(this.__data__,k)>-1}function ra(k,ne){var le=this.__data__,Ee=Xs(le,k);return Ee<0?le.push([k,ne]):le[Ee][1]=ne,this}ys.prototype.clear=Og,ys.prototype.delete=Si,ys.prototype.get=vn,ys.prototype.has=Jn,ys.prototype.set=ra;function Ai(k){var ne=-1,le=k?k.length:0;for(this.clear();++ne<le;){var Ee=k[ne];this.set(Ee[0],Ee[1])}}function pw(){this.__data__={hash:new co,map:new(Ac||ys),string:new co}}function gw(k){return Tc(this,k).delete(k)}function Dg(k){return Tc(this,k).get(k)}function xc(k){return Tc(this,k).has(k)}function mh(k,ne){return Tc(this,k).set(k,ne),this}Ai.prototype.clear=pw,Ai.prototype.delete=gw,Ai.prototype.get=Dg,Ai.prototype.has=xc,Ai.prototype.set=mh;function Wr(k){this.__data__=new ys(k)}function sa(){this.__data__=new ys}function Nc(k){return this.__data__.delete(k)}function ia(k){return this.__data__.get(k)}function hn(k){return this.__data__.has(k)}function Mg(k,ne){var le=this.__data__;if(le instanceof ys){var Ee=le.__data__;if(!Ac||Ee.length<n-1)return Ee.push([k,ne]),this;le=this.__data__=new Ai(Ee)}return le.set(k,ne),this}Wr.prototype.clear=sa,Wr.prototype.delete=Nc,Wr.prototype.get=ia,Wr.prototype.has=hn,Wr.prototype.set=Mg;function $g(k,ne){var le=ou(k)||aa(k)?Vr(k.length,String):[],Ee=le.length,Ht=!!Ee;for(var En in k)zt.call(k,En)&&!(Ht&&(En=="length"||vw(En,Ee)))&&le.push(En);return le}function Ci(k,ne,le){var Ee=k[ne];(!(zt.call(k,ne)&&ho(Ee,le))||le===void 0&&!(ne in k))&&(k[ne]=le)}function Xs(k,ne){for(var le=k.length;le--;)if(ho(k[le][0],ne))return le;return-1}function mw(k,ne){return k&&bh(ne,Ic(ne),k)}function eu(k,ne,le,Ee,Ht,En,dr){var er;if(Ee&&(er=En?Ee(k,Ht,En,dr):Ee(k)),er!==void 0)return er;if(!xi(k))return k;var lu=ou(k);if(lu){if(er=Pg(k),!ne)return wh(k,er)}else{var Ti=fo(k),ca=Ti==p||Ti==g;if(_c(k))return vr(k,ne);if(Ti==v||Ti==o||ca&&!En){if(Rn(k))return En?k:{};if(er=Bg(ca?{}:k),!ne)return vh(k,mw(er,k))}else{if(!V[Ti])return En?k:{};er=Eh(k,Ti,eu,ne)}}dr||(dr=new Wr);var Oc=dr.get(k);if(Oc)return Oc;if(dr.set(k,er),!lu)var Ch=le?oa(k):Ic(k);return Ie(Ch||k,function(xh,uu){Ch&&(uu=xh,xh=k[uu]),Ci(er,uu,eu(xh,ne,le,Ee,uu,k,dr))}),er}function Ug(k){return xi(k)?fw(k):{}}function yw(k,ne,le){var Ee=ne(k);return ou(k)?Ee:Et(Ee,le(k))}function tu(k){return io.call(k)}function nu(k){if(!xi(k)||iu(k))return!1;var ne=bs(k)||Rn(k)?vc:q;return ne.test(Qs(k))}function Zs(k){if(!ws(k))return hr(k);var ne=[];for(var le in Object(k))zt.call(k,le)&&le!="constructor"&&ne.push(le);return ne}function vr(k,ne){if(ne)return k.slice();var le=new k.constructor(k.length);return k.copy(le),le}function ru(k){var ne=new k.constructor(k.byteLength);return new Xl(ne).set(new Xl(k)),ne}function ww(k,ne){var le=ne?ru(k.buffer):k.buffer;return new k.constructor(le,k.byteOffset,k.byteLength)}function yh(k,ne,le){var Ee=ne?le(bi(k),!0):bi(k);return jt(Ee,Te,new k.constructor)}function Rg(k){var ne=new k.constructor(k.source,j.exec(k));return ne.lastIndex=k.lastIndex,ne}function su(k,ne,le){var Ee=ne?le(Gl(k),!0):Gl(k);return jt(Ee,ke,new k.constructor)}function bw(k){return na?Object(na.call(k)):{}}function Er(k,ne){var le=ne?ru(k.buffer):k.buffer;return new k.constructor(le,k.byteOffset,k.length)}function wh(k,ne){var le=-1,Ee=k.length;for(ne||(ne=Array(Ee));++le<Ee;)ne[le]=k[le];return ne}function bh(k,ne,le,Ee){le||(le={});for(var Ht=-1,En=ne.length;++Ht<En;){var dr=ne[Ht],er=void 0;Ci(le,dr,er===void 0?k[dr]:er)}return le}function vh(k,ne){return bh(k,uo(k),ne)}function oa(k){return yw(k,Ic,uo)}function Tc(k,ne){var le=k.__data__;return Ew(ne)?le[typeof ne=="string"?"string":"hash"]:le.map}function lo(k,ne){var le=ro(k,ne);return nu(le)?le:void 0}var uo=Qn?so(Qn,Object):cu,fo=tu;(hh&&fo(new hh(new ArrayBuffer(1)))!=I||Ac&&fo(new Ac)!=y||dh&&fo(dh.resolve())!=E||ea&&fo(new ea)!=C||ta&&fo(new ta)!=N)&&(fo=function(k){var ne=io.call(k),le=ne==v?k.constructor:void 0,Ee=le?Qs(le):void 0;if(Ee)switch(Ee){case ao:return I;case Ql:return y;case Cc:return E;case dw:return C;case Ng:return N}return ne});function Pg(k){var ne=k.length,le=k.constructor(ne);return ne&&typeof k[0]=="string"&&zt.call(k,"index")&&(le.index=k.index,le.input=k.input),le}function Bg(k){return typeof k.constructor=="function"&&!ws(k)?Ug(Zl(k)):{}}function Eh(k,ne,le,Ee){var Ht=k.constructor;switch(ne){case T:return ru(k);case l:case f:return new Ht(+k);case I:return ww(k,Ee);case R:case L:case U:case D:case B:case H:case X:case Y:case M:return Er(k,Ee);case y:return yh(k,Ee,le);case b:case O:return new Ht(k);case S:return Rg(k);case C:return su(k,Ee,le);case x:return bw(k)}}function vw(k,ne){return ne=ne??s,!!ne&&(typeof k=="number"||W.test(k))&&k>-1&&k%1==0&&k<ne}function Ew(k){var ne=typeof k;return ne=="string"||ne=="number"||ne=="symbol"||ne=="boolean"?k!=="__proto__":k===null}function iu(k){return!!wc&&wc in k}function ws(k){var ne=k&&k.constructor,le=typeof ne=="function"&&ne.prototype||Gs;return k===le}function Qs(k){if(k!=null){try{return bc.call(k)}catch{}try{return k+""}catch{}}return""}function Sh(k){return eu(k,!0,!0)}function ho(k,ne){return k===ne||k!==k&&ne!==ne}function aa(k){return Lg(k)&&zt.call(k,"callee")&&(!hw.call(k,"callee")||io.call(k)==o)}var ou=Array.isArray;function au(k){return k!=null&&Ah(k.length)&&!bs(k)}function Lg(k){return Ni(k)&&au(k)}var _c=vi||kg;function bs(k){var ne=xi(k)?io.call(k):"";return ne==p||ne==g}function Ah(k){return typeof k=="number"&&k>-1&&k%1==0&&k<=s}function xi(k){var ne=typeof k;return!!k&&(ne=="object"||ne=="function")}function Ni(k){return!!k&&typeof k=="object"}function Ic(k){return au(k)?$g(k):Zs(k)}function cu(){return[]}function kg(){return!1}e.exports=Sh})(Rd,Rd.exports)),Rd.exports}var QF=ZF();const JF=Yf(QF);var rt;(function(e){e.Int="int",e.UInt="uint",e.Buffer="buffer",e.BoolTrue="true",e.BoolFalse="false",e.PrincipalStandard="address",e.PrincipalContract="contract",e.ResponseOk="ok",e.ResponseErr="err",e.OptionalNone="none",e.OptionalSome="some",e.List="list",e.Tuple="tuple",e.StringASCII="ascii",e.StringUTF8="utf8"})(rt||(rt={}));var xn;(function(e){e[e.int=0]="int",e[e.uint=1]="uint",e[e.buffer=2]="buffer",e[e.true=3]="true",e[e.false=4]="false",e[e.address=5]="address",e[e.contract=6]="contract",e[e.ok=7]="ok",e[e.err=8]="err",e[e.none=9]="none",e[e.some=10]="some",e[e.list=11]="list",e[e.tuple=12]="tuple",e[e.ascii=13]="ascii",e[e.utf8=14]="utf8"})(xn||(xn={}));function oA(e){return xn[e]}const LD=()=>({type:rt.BoolTrue}),kD=()=>({type:rt.BoolFalse}),eq=e=>e?LD():kD(),jD=e=>{if(e.byteLength>1048576)throw new Error("Cannot construct clarity buffer that is greater than 1MB");return{type:rt.Buffer,value:Ke(e)}},GT=BigInt("0xffffffffffffffffffffffffffffffff"),tq=BigInt(0),YT=BigInt("0x7fffffffffffffffffffffffffffffff"),XT=BigInt("-170141183460469231731687303715884105728"),zD=e=>{typeof e=="string"&&e.toLowerCase().startsWith("0x")&&(e=T2(Rt(e))),Hr(e,Uint8Array)&&(e=T2(e));const t=wr(e);if(t>YT)throw new RangeError(`Cannot construct clarity integer from value greater than ${YT}`);if(t<XT)throw new RangeError(`Cannot construct clarity integer form value less than ${XT}`);return{type:rt.Int,value:t}},aA=e=>{const t=wr(e);if(t<tq)throw new RangeError("Cannot construct unsigned clarity integer from negative value");if(t>GT)throw new RangeError(`Cannot construct unsigned clarity integer greater than ${GT}`);return{type:rt.UInt,value:t}};function HD(e){return{type:rt.List,value:e}}function cA(){return{type:rt.OptionalNone}}function lA(e){return{type:rt.OptionalSome,value:e}}var Ne;(function(e){e[e.Address=0]="Address",e[e.Principal=1]="Principal",e[e.LengthPrefixedString=2]="LengthPrefixedString",e[e.MemoString=3]="MemoString",e[e.Asset=4]="Asset",e[e.PostCondition=5]="PostCondition",e[e.PublicKey=6]="PublicKey",e[e.LengthPrefixedList=7]="LengthPrefixedList",e[e.Payload=8]="Payload",e[e.MessageSignature=9]="MessageSignature",e[e.StructuredDataSignature=10]="StructuredDataSignature",e[e.TransactionAuthField=11]="TransactionAuthField"})(Ne||(Ne={}));function nq(){return{type:Ne.Address,version:Dl.MainnetSingleSig,hash160:"0".repeat(40)}}function ZT(e){if(e&&sM(e,cy))throw new Error(`Memo exceeds maximum length of ${cy} bytes`);return{type:Ne.MemoString,content:e}}function uA(e,t){return{type:Ne.LengthPrefixedList,lengthPrefixBytes:t||4,values:e}}function V2(e){if(Rt(e).byteLength!=Ly)throw Error("Invalid signature");return{type:Ne.MessageSignature,data:e}}function rq(e,t,n){return typeof e=="string"&&(e=bq(e)),typeof n=="string"&&(n=ZT(n)),{type:Ne.Payload,payloadType:bt.TokenTransfer,recipient:e,amount:wr(t),memo:n??ZT("")}}function sq(e,t,n,r){return typeof t=="string"&&(t=yi(t)),typeof n=="string"&&(n=yi(n)),{type:Ne.Payload,payloadType:bt.ContractCall,contractAddress:typeof e=="string"?mc(e):e,contractName:t,functionName:n,functionArgs:r}}function iq(e){return yi(e,4,1e5)}function QT(e,t,n){return typeof e=="string"&&(e=yi(e)),typeof t=="string"&&(t=iq(t)),typeof n=="number"?{type:Ne.Payload,payloadType:bt.VersionedSmartContract,clarityVersion:n,contractName:e,codeBody:t}:{type:Ne.Payload,payloadType:bt.SmartContract,contractName:e,codeBody:t}}function oq(){return{type:Ne.Payload,payloadType:bt.PoisonMicroblock}}function JT(e,t){if(e.byteLength!=Cl)throw Error(`Coinbase buffer size must be ${Cl} bytes`);return t!=null?{type:Ne.Payload,payloadType:bt.CoinbaseToAltRecipient,coinbaseBytes:e,recipient:t}:{type:Ne.Payload,payloadType:bt.Coinbase,coinbaseBytes:e}}function aq(e,t,n){if(e.byteLength!=Cl)throw Error(`Coinbase buffer size must be ${Cl} bytes`);if(n.byteLength!=B2)throw Error(`VRF proof buffer size must be ${B2} bytes`);return{type:Ne.Payload,payloadType:bt.NakamotoCoinbase,coinbaseBytes:e,recipient:t.type===rt.OptionalSome?t.value:void 0,vrfProof:n}}function cq(e,t,n,r,s,o,c){return{type:Ne.Payload,payloadType:bt.TenureChange,tenureHash:e,previousTenureHash:t,burnViewHash:n,previousTenureEnd:r,previousTenureBlocks:s,cause:o,publicKeyHash:c}}function yi(e,t,n){const r=t||1,s=n||AH;if(sM(e,s))throw new Error(`String length exceeds maximum bytes ${s}`);return{type:Ne.LengthPrefixedString,content:e,lengthPrefixBytes:r,maxLengthBytes:s}}function lq(e,t,n){return{type:Ne.Asset,address:mc(e),contractName:yi(t),assetName:yi(n)}}function mc(e){const t=rA.c32addressDecode(e);return{type:Ne.Address,version:t[0],hash160:t[1]}}function uq(e,t){const n=mc(e),r=yi(t);return{type:Ne.Principal,prefix:hs.Contract,address:n,contractName:r}}function fq(e){const t=mc(e);return{type:Ne.Principal,prefix:hs.Standard,address:t}}function vf(e,t){return{pubKeyEncoding:e,type:Ne.TransactionAuthField,contents:t}}function Bo(e){switch(e.type){case Ne.Address:return cg(e);case Ne.Principal:return FD(e);case Ne.LengthPrefixedString:return Bf(e);case Ne.MemoString:return dq(e);case Ne.Asset:return VD(e);case Ne.PostCondition:return KD(e);case Ne.PublicKey:return G2(e);case Ne.LengthPrefixedList:return fA(e);case Ne.Payload:return GD(e);case Ne.TransactionAuthField:return wq(e);case Ne.MessageSignature:return hA(e)}}function cg(e){const t=[];return t.push(Rt(og(e.version,1))),t.push(Rt(e.hash160)),un(t)}function Pf(e){const t=Hr(e,Lt)?e:new Lt(e),n=Uy(Ke(t.readBytes(1))),r=Ke(t.readBytes(20));return{type:Ne.Address,version:n,hash160:r}}function FD(e){const t=[];return t.push(e.prefix),(e.prefix===hs.Standard||e.prefix===hs.Contract)&&t.push(cg(e.address)),e.prefix===hs.Contract&&t.push(Bf(e.contractName)),un(t)}function hq(e){const t=Hr(e,Lt)?e:new Lt(e),n=t.readUInt8Enum(hs,o=>{throw new us(`Unexpected Principal payload type: ${o}`)});if(n===hs.Origin)return{type:Ne.Principal,prefix:n};const r=Pf(t);if(n===hs.Standard)return{type:Ne.Principal,prefix:n,address:r};const s=ks(t);return{type:Ne.Principal,prefix:n,address:r,contractName:s}}function Bf(e){const t=[],n=eh(e.content),r=n.byteLength;return t.push(Rt(og(r,e.lengthPrefixBytes))),t.push(n),un(t)}function ks(e,t,n){t=t||1;const r=Hr(e,Lt)?e:new Lt(e),s=Uy(Ke(r.readBytes(t))),o=Ry(r.readBytes(s));return yi(o,t,n??128)}function dq(e){const t=[],n=eh(e.content),r=Rq(Ke(n),cy*2);return t.push(Rt(r)),un(t)}function qD(e){const t=Hr(e,Lt)?e:new Lt(e);let n=Ry(t.readBytes(cy));return n=n.replace(/\u0000*$/,""),{type:Ne.MemoString,content:n}}function VD(e){const t=[];return t.push(cg(e.address)),t.push(Bf(e.contractName)),t.push(Bf(e.assetName)),un(t)}function W2(e){const t=Hr(e,Lt)?e:new Lt(e);return{type:Ne.Asset,address:Pf(t),contractName:ks(t),assetName:ks(t)}}function fA(e){const t=e.values,n=[];n.push(Rt(og(t.length,e.lengthPrefixBytes)));for(const r of t)n.push(Bo(r));return un(n)}function WD(e,t,n){const r=Hr(e,Lt)?e:new Lt(e),s=Uy(Ke(r.readBytes(4))),o=[];for(let c=0;c<s;c++)switch(t){case Ne.Address:o.push(Pf(r));break;case Ne.LengthPrefixedString:o.push(ks(r));break;case Ne.MemoString:o.push(qD(r));break;case Ne.Asset:o.push(W2(r));break;case Ne.PostCondition:o.push(gq(r));break;case Ne.PublicKey:o.push(Y2(r));break;case Ne.TransactionAuthField:o.push(yq(r));break}return uA(o,n)}function pq(e){return Ke(KD(e))}function KD(e){const t=[];if(t.push(e.conditionType),t.push(FD(e.principal)),(e.conditionType===Vn.Fungible||e.conditionType===Vn.NonFungible)&&t.push(VD(e.asset)),e.conditionType===Vn.NonFungible&&t.push(qi(e.assetName)),t.push(e.conditionCode),e.conditionType===Vn.STX||e.conditionType===Vn.Fungible){if(e.amount>BigInt("0xffffffffffffffff"))throw new bf("The post-condition amount may not be larger than 8 bytes");t.push(fc(e.amount,8))}return un(t)}function gq(e){const t=Hr(e,Lt)?e:new Lt(e),n=t.readUInt8Enum(Vn,l=>{throw new us(`Could not read ${l} as PostConditionType`)}),r=hq(t);let s,o,c;switch(n){case Vn.STX:return s=t.readUInt8Enum(ly,f=>{throw new us(`Could not read ${f} as FungibleConditionCode`)}),c=BigInt(`0x${Ke(t.readBytes(8))}`),{type:Ne.PostCondition,conditionType:Vn.STX,principal:r,conditionCode:s,amount:c};case Vn.Fungible:return o=W2(t),s=t.readUInt8Enum(ly,f=>{throw new us(`Could not read ${f} as FungibleConditionCode`)}),c=BigInt(`0x${Ke(t.readBytes(8))}`),{type:Ne.PostCondition,conditionType:Vn.Fungible,principal:r,conditionCode:s,amount:c,asset:o};case Vn.NonFungible:o=W2(t);const l=hi(t);return s=t.readUInt8Enum(k2,f=>{throw new us(`Could not read ${f} as FungibleConditionCode`)}),{type:Ne.PostCondition,conditionType:Vn.NonFungible,principal:r,conditionCode:s,asset:o,assetName:l}}}function GD(e){const t=[];switch(t.push(e.payloadType),e.payloadType){case bt.TokenTransfer:t.push(qi(e.recipient)),t.push(fc(e.amount,8)),t.push(Bo(e.memo));break;case bt.ContractCall:t.push(Bo(e.contractAddress)),t.push(Bo(e.contractName)),t.push(Bo(e.functionName));const n=new Uint8Array(4);Il(n,e.functionArgs.length,0),t.push(n),e.functionArgs.forEach(r=>{t.push(qi(r))});break;case bt.SmartContract:t.push(Bo(e.contractName)),t.push(Bo(e.codeBody));break;case bt.VersionedSmartContract:t.push(e.clarityVersion),t.push(Bo(e.contractName)),t.push(Bo(e.codeBody));break;case bt.PoisonMicroblock:break;case bt.Coinbase:t.push(e.coinbaseBytes);break;case bt.CoinbaseToAltRecipient:t.push(e.coinbaseBytes),t.push(qi(e.recipient));break;case bt.NakamotoCoinbase:t.push(e.coinbaseBytes),t.push(qi(e.recipient?lA(e.recipient):cA())),t.push(e.vrfProof);break;case bt.TenureChange:t.push(Rt(e.tenureHash)),t.push(Rt(e.previousTenureHash)),t.push(Rt(e.burnViewHash)),t.push(Rt(e.previousTenureEnd)),t.push(Il(new Uint8Array(4),e.previousTenureBlocks)),t.push(yz(new Uint8Array(1),e.cause)),t.push(Rt(e.publicKeyHash));break}return un(t)}function mq(e){const t=Hr(e,Lt)?e:new Lt(e);switch(t.readUInt8Enum(bt,r=>{throw new Error(`Cannot recognize PayloadType: ${r}`)})){case bt.TokenTransfer:const r=hi(t),s=wr(t.readBytes(8)),o=qD(t);return rq(r,s,o);case bt.ContractCall:const c=Pf(t),l=ks(t),f=ks(t),d=[],p=t.readUInt32BE();for(let N=0;N<p;N++){const T=hi(t);d.push(T)}return sq(c,l,f,d);case bt.SmartContract:const g=ks(t),y=ks(t,4,1e5);return QT(g,y);case bt.VersionedSmartContract:{const N=t.readUInt8Enum(L2,R=>{throw new Error(`Cannot recognize ClarityVersion: ${R}`)}),T=ks(t),I=ks(t,4,UH);return QT(T,I,N)}case bt.PoisonMicroblock:return oq();case bt.Coinbase:{const N=t.readBytes(Cl);return JT(N)}case bt.CoinbaseToAltRecipient:{const N=t.readBytes(Cl),T=hi(t);return JT(N,T)}case bt.NakamotoCoinbase:{const N=t.readBytes(Cl),T=hi(t),I=t.readBytes(B2);return aq(N,T,I)}case bt.TenureChange:const b=Ke(t.readBytes(20)),v=Ke(t.readBytes(20)),E=Ke(t.readBytes(20)),S=Ke(t.readBytes(32)),C=t.readUInt32BE(),O=t.readUInt8Enum(j2,N=>{throw new Error(`Cannot recognize TenureChangeCause: ${N}`)}),x=Ke(t.readBytes(20));return cq(b,v,E,S,C,O,x)}}function K2(e){const t=Hr(e,Lt)?e:new Lt(e);return V2(Ke(t.readBytes(Ly)))}function yq(e){const t=Hr(e,Lt)?e:new Lt(e),n=t.readUInt8Enum(fi,r=>{throw new us(`Could not read ${r} as AuthFieldType`)});switch(n){case fi.PublicKeyCompressed:return vf(Jt.Compressed,Y2(t));case fi.PublicKeyUncompressed:return vf(Jt.Uncompressed,nh(Wq(Y2(t).data)));case fi.SignatureCompressed:return vf(Jt.Compressed,K2(t));case fi.SignatureUncompressed:return vf(Jt.Uncompressed,K2(t));default:throw new Error(`Unknown auth field type: ${JSON.stringify(n)}`)}}function hA(e){return Rt(e.data)}function wq(e){const t=[];switch(e.contents.type){case Ne.PublicKey:t.push(e.pubKeyEncoding===Jt.Compressed?fi.PublicKeyCompressed:fi.PublicKeyUncompressed),t.push(Rt(Vq(e.contents.data)));break;case Ne.MessageSignature:t.push(e.pubKeyEncoding===Jt.Compressed?fi.SignatureCompressed:fi.SignatureUncompressed),t.push(hA(e.contents));break}return un(t)}function G2(e){return e.data.slice()}function Y2(e){const t=Hr(e,Lt)?e:new Lt(e),n=t.readUInt8(),r=n===4?NH:xH;return nh(un([n,t.readBytes(r)]))}function dA(e,t,n,r){if(r.length===0)throw Error("Invalid number of public keys");if((t===Ut.P2PKH||t===Ut.P2WPKH)&&(r.length!==1||n!==1))throw Error("Invalid number of public keys or signatures");if((t===Ut.P2WPKH||t===Ut.P2WSH||t===Ut.P2WSHNonSequential)&&!r.map(s=>s.data).every(rh))throw Error("Public keys must be compressed for segwit");switch(t){case Ut.P2PKH:return t0(e,Pq(r[0].data));case Ut.P2WPKH:return t0(e,Bq(r[0].data));case Ut.P2SH:case Ut.P2SHNonSequential:return t0(e,Lq(n,r.map(G2)));case Ut.P2WSH:case Ut.P2WSHNonSequential:return t0(e,kq(n,r.map(G2)))}}function t0(e,t){return{type:Ne.Address,version:e,hash160:t}}function pA(e){return rA.c32address(e.version,e.hash160)}function e_(e){const[t,n,r]=e.split(/\.|::/);return lq(t,n,r)}function Zb(e){if(e.includes(".")){const[t,n]=e.split(".");return uq(t,n)}else return fq(e)}function bq(e){if(e.includes(".")){const[t,n]=e.split(".");return XD(t,n)}else return YD(e)}function YD(e){const t=mc(e);return{type:rt.PrincipalStandard,value:pA(t)}}function vq(e){return{type:rt.PrincipalStandard,value:pA(e)}}function XD(e,t){const n=mc(e),r=yi(t);return ZD(n,r)}function ZD(e,t){if(eh(t.content).byteLength>=128)throw new Error("Contract name must be less than 128 bytes");return{type:rt.PrincipalContract,value:`${pA(e)}.${t.content}`}}function QD(e){return{type:rt.ResponseErr,value:e}}function JD(e){return{type:rt.ResponseOk,value:e}}const eM=e=>({type:rt.StringASCII,value:e}),tM=e=>({type:rt.StringUTF8,value:e});function nM(e){for(const t in e)if(!jq(t))throw new Error(`"${t}" is not a valid Clarity name`);return{type:rt.Tuple,value:e}}function hi(e){let t;if(typeof e=="string"){const r=e.slice(0,2).toLowerCase()==="0x";t=new Lt(Rt(r?e.slice(2):e))}else e instanceof Uint8Array?t=new Lt(e):t=e;switch(t.readUInt8Enum(xn,r=>{throw new us(`Cannot recognize Clarity Type: ${r}`)})){case xn.int:return zD(T2(t.readBytes(16)));case xn.uint:return aA(t.readBytes(16));case xn.buffer:const r=t.readUInt32BE();return jD(t.readBytes(r));case xn.true:return LD();case xn.false:return kD();case xn.address:const s=Pf(t);return vq(s);case xn.contract:const o=Pf(t),c=ks(t);return ZD(o,c);case xn.ok:return JD(hi(t));case xn.err:return QD(hi(t));case xn.none:return cA();case xn.some:return lA(hi(t));case xn.list:const l=t.readUInt32BE(),f=[];for(let E=0;E<l;E++)f.push(hi(t));return HD(f);case xn.tuple:const d=t.readUInt32BE(),p={};for(let E=0;E<d;E++){const S=ks(t).content;if(S===void 0)throw new us('"content" is undefined');p[S]=hi(t)}return nM(p);case xn.ascii:const g=t.readUInt32BE(),y=az(t.readBytes(g));return eM(y);case xn.utf8:const b=t.readUInt32BE(),v=Ry(t.readBytes(b));return tM(v);default:throw new us("Unable to deserialize Clarity Value from Uint8Array. Could not find valid Clarity Type.")}}function to(e,t){return un([oA(e),t])}function Eq(e){return new Uint8Array([oA(e.type)])}function Sq(e){return e.type===rt.OptionalNone?new Uint8Array([oA(e.type)]):to(e.type,qi(e.value))}function Aq(e){const t=new Uint8Array(4);return Il(t,Math.ceil(e.value.length/2),0),to(e.type,Py(t,Rt(e.value)))}function Cq(e){const t=WS(nz(BigInt(e.value),BigInt(CH)),SD);return to(e.type,t)}function xq(e){const t=WS(BigInt(e.value),SD);return to(e.type,t)}function Nq(e){return to(e.type,cg(mc(e.value)))}function Tq(e){const[t,n]=zq(e.value);return to(e.type,Py(cg(mc(t)),Bf(yi(n))))}function _q(e){return to(e.type,qi(e.value))}function Iq(e){const t=[],n=new Uint8Array(4);Il(n,e.value.length,0),t.push(n);for(const r of e.value){const s=qi(r);t.push(s)}return to(e.type,un(t))}function Oq(e){const t=[],n=new Uint8Array(4);Il(n,Object.keys(e.value).length,0),t.push(n);const r=Object.keys(e.value).sort((s,o)=>s.localeCompare(o));for(const s of r){const o=yi(s);t.push(Bf(o));const c=qi(e.value[s]);t.push(c)}return to(e.type,un(t))}function rM(e,t){const n=[],r=t=="ascii"?oz(e.value):eh(e.value),s=new Uint8Array(4);return Il(s,r.length,0),n.push(s),n.push(r),to(e.type,un(n))}function Dq(e){return rM(e,"ascii")}function Mq(e){return rM(e,"utf8")}function $q(e){return Ke(qi(e))}function qi(e){switch(e.type){case rt.BoolTrue:case rt.BoolFalse:return Eq(e);case rt.OptionalNone:case rt.OptionalSome:return Sq(e);case rt.Buffer:return Aq(e);case rt.UInt:return xq(e);case rt.Int:return Cq(e);case rt.PrincipalStandard:return Nq(e);case rt.PrincipalContract:return Tq(e);case rt.ResponseOk:case rt.ResponseErr:return _q(e);case rt.List:return Iq(e);case rt.Tuple:return Oq(e);case rt.StringASCII:return Dq(e);case rt.StringUTF8:return Mq(e);default:throw new bf("Unable to serialize. Invalid Clarity Value.")}}const Uq=e=>e.length%2?`0${e}`:e,Rq=(e,t)=>e.padEnd(t,"0"),sM=(e,t)=>e?eh(e).length>t:!1;function X2(e){return JF(e)}const vp=e=>AF(nA(e)),gA=e=>Ke(XF(e)),Pq=e=>Ke(vp(e)),Bq=e=>{const t=vp(e),n=Py(new Uint8Array([0]),new Uint8Array([t.length]),t),r=vp(n);return Ke(r)},Lq=(e,t)=>{if(e>15||t.length>15)throw Error("P2SH multisig address can only contain up to 15 public keys");const n=[];n.push(80+e),t.forEach(o=>{n.push(o.length),n.push(o)}),n.push(80+t.length),n.push(174);const r=un(n),s=vp(r);return Ke(s)},kq=(e,t)=>{if(e>15||t.length>15)throw Error("P2WSH multisig address can only contain up to 15 public keys");const n=[];n.push(80+e),t.forEach(f=>{n.push(f.length),n.push(f)}),n.push(80+t.length),n.push(174);const r=un(n),s=nA(r),o=[];o.push(0),o.push(s.length),o.push(s);const c=un(o),l=vp(c);return Ke(l)};function jq(e){return/^[a-zA-Z]([a-zA-Z0-9]|[-_!?+<>=/*])*$|^[-+=/*]$|^[<>]=?$/.test(e)&&e.length<128}function zq(e){const[t,n]=e.split(".");if(!t||!n)throw new Error(`Invalid contract identifier: ${e}`);return[t,n]}ec.hmacSha256Sync=(e,...t)=>{const n=ND.create(nA,e);return t.forEach(r=>n.update(r)),n.digest()};function nh(e){return e=typeof e=="string"?Rt(e):e,{type:Ne.PublicKey,data:e}}function Hq(e,t,n=Jt.Compressed){const r=dz(t),s=new Yi(fT(r.r),fT(r.s)),o=Bt.fromSignature(e,s,r.recoveryId),c=n===Jt.Compressed;return o.toHex(c)}function Fq(e){return typeof e=="string"?e:Ke(e)}const mA=Fq;function iM(e){return(typeof e=="string"?e.length/2:e.byteLength)===hz}function rh(e){return!mA(e).startsWith("04")}function qq(e){e=ZO(e);const t=iM(e);return Ke(sF(e.slice(0,32),t))}function Vq(e){return Bt.fromHex(mA(e)).toHex(!0)}function Wq(e){return Bt.fromHex(mA(e)).toHex(!1)}function Kq(e,t){e=ZO(e);const[n,r]=cF(t,e.slice(0,32),{canonical:!0,recovered:!0});if(r==null)throw new Error("No signature recoveryId received");return og(r,1)+Yi.fromHex(n).toCompactHex()}function yA(){return{type:Ne.MessageSignature,data:Ke(new Uint8Array(Ly))}}function oM(e,t,n,r){const s=dA(0,e,1,[nh(t)]).hash160,o=rh(t)?Jt.Compressed:Jt.Uncompressed;return{hashMode:e,signer:s,nonce:wr(n),fee:wr(r),keyEncoding:o,signature:yA()}}function Ep(e){return"signature"in e}function t_(e){return e===Ut.P2SH||e===Ut.P2WSH}function Gq(e){return e===Ut.P2SHNonSequential||e===Ut.P2WSHNonSequential}function n_(e){const t=X2(e);return t.nonce=0,t.fee=0,Ep(t)?t.signature=yA():t.fields=[],{...t,nonce:BigInt(0),fee:BigInt(0)}}function Yq(e){const t=[e.hashMode,Rt(e.signer),fc(e.nonce,8),fc(e.fee,8),e.keyEncoding,hA(e.signature)];return un(t)}function Xq(e){const t=[e.hashMode,Rt(e.signer),fc(e.nonce,8),fc(e.fee,8)],n=uA(e.fields);t.push(fA(n));const r=new Uint8Array(2);return gz(r,e.signaturesRequired,0),t.push(r),un(t)}function Zq(e,t){const n=Ke(t.readBytes(20)),r=BigInt(`0x${Ke(t.readBytes(8))}`),s=BigInt(`0x${Ke(t.readBytes(8))}`),o=t.readUInt8Enum(Jt,l=>{throw new us(`Could not parse ${l} as PubKeyEncoding`)});if(e===Ut.P2WPKH&&o!=Jt.Compressed)throw new us("Failed to parse singlesig spending condition: incomaptible hash mode and key encoding");const c=K2(t);return{hashMode:e,signer:n,nonce:r,fee:s,keyEncoding:o,signature:c}}function Qq(e,t){const n=Ke(t.readBytes(20)),r=BigInt("0x"+Ke(t.readBytes(8))),s=BigInt("0x"+Ke(t.readBytes(8))),o=WD(t,Ne.TransactionAuthField).values;let c=!1,l=0;for(const d of o)switch(d.contents.type){case Ne.PublicKey:rh(d.contents.data)||(c=!0);break;case Ne.MessageSignature:if(d.pubKeyEncoding===Jt.Uncompressed&&(c=!0),l+=1,l===65536)throw new dl("Failed to parse multisig spending condition: too many signatures");break}const f=t.readUInt16BE();if(c&&(e===Ut.P2WSH||e===Ut.P2WSHNonSequential))throw new dl("Uncompressed keys are not allowed in this hash mode");return{hashMode:e,signer:n,nonce:r,fee:s,fields:o,signaturesRequired:f}}function Qb(e){return Ep(e)?Yq(e):Xq(e)}function Jb(e){const t=e.readUInt8Enum(Ut,n=>{throw new us(`Could not parse ${n} as AddressHashMode`)});return t===Ut.P2PKH||t===Ut.P2WPKH?Zq(t,e):Qq(t,e)}function aM(e,t,n,r){const o=e+Ke(new Uint8Array([t]))+Ke(fc(n,8))+Ke(fc(r,8));if(Rt(o).byteLength!==49)throw Error("Invalid signature hash length");return gA(Rt(o))}function cM(e,t,n){const r=33+Ly,s=rh(t.data)?Jt.Compressed:Jt.Uncompressed,o=e+Uq(s.toString(16))+n,c=Rt(o);if(c.byteLength>r)throw Error("Invalid signature hash length");return gA(c)}function Jq(e,t,n,r,s){const o=aM(e,t,n,r),c=Kq(s,o),l=nh(qq(s)),f=cM(o,l,c);return{nextSig:c,nextSigHash:f}}function lM(e,t,n,r,s,o){const c=aM(e,t,n,r),l=nh(Hq(c,o,s)),f=cM(c,l,o);return{pubKey:l,nextSigHash:f}}function eV(){const e=oM(Ut.P2PKH,"",0,0);return e.signer=nq().hash160,e.keyEncoding=Jt.Compressed,e.signature=yA(),e}function r_(e,t,n){return Ep(e)?tV(e,t,n):nV(e,t,n)}function tV(e,t,n){const{pubKey:r,nextSigHash:s}=lM(t,n,e.fee,e.nonce,e.keyEncoding,e.signature.data),o=dA(0,e.hashMode,1,[r]).hash160;if(o!==e.signer)throw new dl(`Signer hash does not equal hash of public key(s): ${o} != ${e.signer}`);return s}function nV(e,t,n){const r=[];let s=t,o=!1,c=0;for(const f of e.fields)switch(f.contents.type){case Ne.PublicKey:rh(f.contents.data)||(o=!0),r.push(f.contents);break;case Ne.MessageSignature:f.pubKeyEncoding===Jt.Uncompressed&&(o=!0);const{pubKey:d,nextSigHash:p}=lM(s,n,e.fee,e.nonce,f.pubKeyEncoding,f.contents.data);if(t_(e.hashMode)&&(s=p),r.push(d),c+=1,c===65536)throw new dl("Too many signatures");break}if(t_(e.hashMode)&&c!==e.signaturesRequired||Gq(e.hashMode)&&c<e.signaturesRequired)throw new dl("Incorrect number of signatures");if(o&&(e.hashMode===Ut.P2WSH||e.hashMode===Ut.P2WSHNonSequential))throw new dl("Uncompressed keys are not allowed in this hash mode");const l=dA(0,e.hashMode,e.signaturesRequired,r).hash160;if(l!==e.signer)throw new dl(`Signer hash does not equal hash of public key(s): ${l} != ${e.signer}`);return s}function uM(e){return{authType:rn.Standard,spendingCondition:e}}function fM(e,t){return{authType:rn.Sponsored,spendingCondition:e,sponsorSpendingCondition:t||oM(Ut.P2PKH,"0".repeat(66),0,0)}}function s_(e){if(e.spendingCondition)switch(e.authType){case rn.Standard:return uM(n_(e.spendingCondition));case rn.Sponsored:return fM(n_(e.spendingCondition),eV());default:throw new uy("Unexpected authorization type for signing")}throw new Error("Authorization missing SpendingCondition")}function rV(e,t){switch(e.authType){case rn.Standard:return r_(e.spendingCondition,t,rn.Standard);case rn.Sponsored:return r_(e.spendingCondition,t,rn.Standard);default:throw new uy("Invalid origin auth type")}}function sV(e,t){switch(e.authType){case rn.Standard:const n={...e.spendingCondition,fee:wr(t)};return{...e,spendingCondition:n};case rn.Sponsored:const r={...e.sponsorSpendingCondition,fee:wr(t)};return{...e,sponsorSpendingCondition:r}}}function iV(e,t){const n={...e.spendingCondition,nonce:wr(t)};return{...e,spendingCondition:n}}function oV(e,t){const n={...e.sponsorSpendingCondition,nonce:wr(t)};return{...e,sponsorSpendingCondition:n}}function aV(e,t){const n={...t,nonce:wr(t.nonce),fee:wr(t.fee)};return{...e,sponsorSpendingCondition:n}}function cV(e){const t=[];switch(t.push(e.authType),e.authType){case rn.Standard:t.push(Qb(e.spendingCondition));break;case rn.Sponsored:t.push(Qb(e.spendingCondition)),t.push(Qb(e.sponsorSpendingCondition));break}return un(t)}function lV(e){const t=e.readUInt8Enum(rn,r=>{throw new us(`Could not parse ${r} as AuthType`)});let n;switch(t){case rn.Standard:return n=Jb(e),uM(n);case rn.Sponsored:n=Jb(e);const r=Jb(e);return fM(n,r)}}class uV{constructor({auth:t,payload:n,postConditions:r=uA([]),postConditionMode:s=hc.Deny,transactionVersion:o,chainId:c,network:l="mainnet"}){l=SH(l),this.transactionVersion=o??l.transactionVersion,this.chainId=c??l.chainId,this.auth=t,"amount"in n?this.payload={...n,amount:wr(n.amount)}:this.payload=n,this.postConditionMode=s,this.postConditions=r,this.anchorMode=ss.Any}signBegin(){const t=X2(this);return t.auth=s_(t.auth),t.txid()}verifyBegin(){const t=X2(this);return t.auth=s_(t.auth),t.txid()}verifyOrigin(){return rV(this.auth,this.verifyBegin())}signNextOrigin(t,n){if(this.auth.spendingCondition===void 0)throw new Error('"auth.spendingCondition" is undefined');if(this.auth.authType===void 0)throw new Error('"auth.authType" is undefined');return this.signAndAppend(this.auth.spendingCondition,t,rn.Standard,n)}signNextSponsor(t,n){if(this.auth.authType===rn.Sponsored)return this.signAndAppend(this.auth.sponsorSpendingCondition,t,rn.Sponsored,n);throw new Error('"auth.sponsorSpendingCondition" is undefined')}appendPubkey(t){const n=typeof t=="object"&&"type"in t?t:nh(t),r=this.auth.spendingCondition;if(r&&!Ep(r)){const s=rh(n.data);r.fields.push(vf(s?Jt.Compressed:Jt.Uncompressed,n))}else throw new Error("Can't append public key to a singlesig condition")}signAndAppend(t,n,r,s){const{nextSig:o,nextSigHash:c}=Jq(n,r,t.fee,t.nonce,s);if(Ep(t))t.signature=V2(o);else{const l=iM(s);t.fields.push(vf(l?Jt.Compressed:Jt.Uncompressed,V2(o)))}return c}txid(){const t=this.serializeBytes();return gA(t)}setSponsor(t){if(this.auth.authType!=rn.Sponsored)throw new uy("Cannot sponsor sign a non-sponsored transaction");this.auth=aV(this.auth,t)}setFee(t){this.auth=sV(this.auth,t)}setNonce(t){this.auth=iV(this.auth,t)}setSponsorNonce(t){if(this.auth.authType!=rn.Sponsored)throw new uy("Cannot sponsor sign a non-sponsored transaction");this.auth=oV(this.auth,t)}serialize(){return Ke(this.serializeBytes())}serializeBytes(){if(this.transactionVersion===void 0)throw new bf('"transactionVersion" is undefined');if(this.chainId===void 0)throw new bf('"chainId" is undefined');if(this.auth===void 0)throw new bf('"auth" is undefined');if(this.payload===void 0)throw new bf('"payload" is undefined');const t=[];t.push(this.transactionVersion);const n=new Uint8Array(4);return Il(n,this.chainId,0),t.push(n),t.push(cV(this.auth)),t.push(this.anchorMode),t.push(this.postConditionMode),t.push(fA(this.postConditions)),t.push(GD(this.payload)),un(t)}}function fV(e){const t=Hr(e,Lt)?e:new Lt(e),n=t.readUInt8Enum(Ol,p=>{throw new Error(`Could not parse ${p} as TransactionVersion`)}),r=t.readUInt32BE(),s=lV(t),o=t.readUInt8Enum(ss,p=>{throw new Error(`Could not parse ${p} as AnchorMode`)}),c=t.readUInt8Enum(hc,p=>{throw new Error(`Could not parse ${p} as PostConditionMode`)}),l=WD(t,Ne.PostCondition),f=mq(t),d=new uV({transactionVersion:n,chainId:r,auth:s,payload:f,postConditions:l,postConditionMode:c});return d.anchorMode=o,d}var Z2;(function(e){e[e.eq=1]="eq",e[e.gt=2]="gt",e[e.lt=4]="lt",e[e.gte=3]="gte",e[e.lte=5]="lte",e[e.sent=16]="sent",e[e["not-sent"]=17]="not-sent"})(Z2||(Z2={}));function hV(e){switch(e.type){case"stx-postcondition":return{type:Ne.PostCondition,conditionType:Vn.STX,principal:e.address==="origin"?{type:Ne.Principal,prefix:hs.Origin}:Zb(e.address),conditionCode:ev(e.condition),amount:BigInt(e.amount)};case"ft-postcondition":return{type:Ne.PostCondition,conditionType:Vn.Fungible,principal:e.address==="origin"?{type:Ne.Principal,prefix:hs.Origin}:Zb(e.address),conditionCode:ev(e.condition),amount:BigInt(e.amount),asset:e_(e.asset)};case"nft-postcondition":return{type:Ne.PostCondition,conditionType:Vn.NonFungible,principal:e.address==="origin"?{type:Ne.Principal,prefix:hs.Origin}:Zb(e.address),conditionCode:ev(e.condition),asset:e_(e.asset),assetName:e.assetId};default:throw new Error("Invalid post condition type")}}function ev(e){return Z2[e]}function i_(e){const t=hV(e);return pq(t)}const dV="0123456789ABCDEFGHJKMNPQRSTVWXYZ";function o_(e){const t="version"in e?e.version:dV.indexOf(e.versionChar.toUpperCase()),n=rA.c32address(t,e.hash160);return e.contractName?`${n}.${e.contractName}`:n}const a_=eq,pV=zD,gV=aA,mV=XD,yV=YD,wV=HD,bV=eM,vV=tM,EV=jD,SV=cA,AV=lA,CV=JD,xV=QD,NV=nM,Q2=$q,TV=hi;var tv={},c_;function _V(){return c_||(c_=1,(function(){(function(e){(function(t){var n=typeof globalThis<"u"&&globalThis||typeof e<"u"&&e||typeof cr<"u"&&cr||{},r={searchParams:"URLSearchParams"in n,iterable:"Symbol"in n&&"iterator"in Symbol,blob:"FileReader"in n&&"Blob"in n&&(function(){try{return new Blob,!0}catch{return!1}})(),formData:"FormData"in n,arrayBuffer:"ArrayBuffer"in n};function s(D){return D&&DataView.prototype.isPrototypeOf(D)}if(r.arrayBuffer)var o=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],c=ArrayBuffer.isView||function(D){return D&&o.indexOf(Object.prototype.toString.call(D))>-1};function l(D){if(typeof D!="string"&&(D=String(D)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(D)||D==="")throw new TypeError('Invalid character in header field name: "'+D+'"');return D.toLowerCase()}function f(D){return typeof D!="string"&&(D=String(D)),D}function d(D){var B={next:function(){var H=D.shift();return{done:H===void 0,value:H}}};return r.iterable&&(B[Symbol.iterator]=function(){return B}),B}function p(D){this.map={},D instanceof p?D.forEach(function(B,H){this.append(H,B)},this):Array.isArray(D)?D.forEach(function(B){if(B.length!=2)throw new TypeError("Headers constructor: expected name/value pair to be length 2, found"+B.length);this.append(B[0],B[1])},this):D&&Object.getOwnPropertyNames(D).forEach(function(B){this.append(B,D[B])},this)}p.prototype.append=function(D,B){D=l(D),B=f(B);var H=this.map[D];this.map[D]=H?H+", "+B:B},p.prototype.delete=function(D){delete this.map[l(D)]},p.prototype.get=function(D){return D=l(D),this.has(D)?this.map[D]:null},p.prototype.has=function(D){return this.map.hasOwnProperty(l(D))},p.prototype.set=function(D,B){this.map[l(D)]=f(B)},p.prototype.forEach=function(D,B){for(var H in this.map)this.map.hasOwnProperty(H)&&D.call(B,this.map[H],H,this)},p.prototype.keys=function(){var D=[];return this.forEach(function(B,H){D.push(H)}),d(D)},p.prototype.values=function(){var D=[];return this.forEach(function(B){D.push(B)}),d(D)},p.prototype.entries=function(){var D=[];return this.forEach(function(B,H){D.push([H,B])}),d(D)},r.iterable&&(p.prototype[Symbol.iterator]=p.prototype.entries);function g(D){if(!D._noBody){if(D.bodyUsed)return Promise.reject(new TypeError("Already read"));D.bodyUsed=!0}}function y(D){return new Promise(function(B,H){D.onload=function(){B(D.result)},D.onerror=function(){H(D.error)}})}function b(D){var B=new FileReader,H=y(B);return B.readAsArrayBuffer(D),H}function v(D){var B=new FileReader,H=y(B),X=/charset=([A-Za-z0-9_-]+)/.exec(D.type),Y=X?X[1]:"utf-8";return B.readAsText(D,Y),H}function E(D){for(var B=new Uint8Array(D),H=new Array(B.length),X=0;X<B.length;X++)H[X]=String.fromCharCode(B[X]);return H.join("")}function S(D){if(D.slice)return D.slice(0);var B=new Uint8Array(D.byteLength);return B.set(new Uint8Array(D)),B.buffer}function C(){return this.bodyUsed=!1,this._initBody=function(D){this.bodyUsed=this.bodyUsed,this._bodyInit=D,D?typeof D=="string"?this._bodyText=D:r.blob&&Blob.prototype.isPrototypeOf(D)?this._bodyBlob=D:r.formData&&FormData.prototype.isPrototypeOf(D)?this._bodyFormData=D:r.searchParams&&URLSearchParams.prototype.isPrototypeOf(D)?this._bodyText=D.toString():r.arrayBuffer&&r.blob&&s(D)?(this._bodyArrayBuffer=S(D.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):r.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(D)||c(D))?this._bodyArrayBuffer=S(D):this._bodyText=D=Object.prototype.toString.call(D):(this._noBody=!0,this._bodyText=""),this.headers.get("content-type")||(typeof D=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):r.searchParams&&URLSearchParams.prototype.isPrototypeOf(D)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},r.blob&&(this.blob=function(){var D=g(this);if(D)return D;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))}),this.arrayBuffer=function(){if(this._bodyArrayBuffer){var D=g(this);return D||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}else{if(r.blob)return this.blob().then(b);throw new Error("could not read as ArrayBuffer")}},this.text=function(){var D=g(this);if(D)return D;if(this._bodyBlob)return v(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(E(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},r.formData&&(this.formData=function(){return this.text().then(T)}),this.json=function(){return this.text().then(JSON.parse)},this}var O=["CONNECT","DELETE","GET","HEAD","OPTIONS","PATCH","POST","PUT","TRACE"];function x(D){var B=D.toUpperCase();return O.indexOf(B)>-1?B:D}function N(D,B){if(!(this instanceof N))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');B=B||{};var H=B.body;if(D instanceof N){if(D.bodyUsed)throw new TypeError("Already read");this.url=D.url,this.credentials=D.credentials,B.headers||(this.headers=new p(D.headers)),this.method=D.method,this.mode=D.mode,this.signal=D.signal,!H&&D._bodyInit!=null&&(H=D._bodyInit,D.bodyUsed=!0)}else this.url=String(D);if(this.credentials=B.credentials||this.credentials||"same-origin",(B.headers||!this.headers)&&(this.headers=new p(B.headers)),this.method=x(B.method||this.method||"GET"),this.mode=B.mode||this.mode||null,this.signal=B.signal||this.signal||(function(){if("AbortController"in n){var M=new AbortController;return M.signal}})(),this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&H)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(H),(this.method==="GET"||this.method==="HEAD")&&(B.cache==="no-store"||B.cache==="no-cache")){var X=/([?&])_=[^&]*/;if(X.test(this.url))this.url=this.url.replace(X,"$1_="+new Date().getTime());else{var Y=/\?/;this.url+=(Y.test(this.url)?"&":"?")+"_="+new Date().getTime()}}}N.prototype.clone=function(){return new N(this,{body:this._bodyInit})};function T(D){var B=new FormData;return D.trim().split("&").forEach(function(H){if(H){var X=H.split("="),Y=X.shift().replace(/\+/g," "),M=X.join("=").replace(/\+/g," ");B.append(decodeURIComponent(Y),decodeURIComponent(M))}}),B}function I(D){var B=new p,H=D.replace(/\r?\n[\t ]+/g," ");return H.split("\r").map(function(X){return X.indexOf(`
`)===0?X.substr(1,X.length):X}).forEach(function(X){var Y=X.split(":"),M=Y.shift().trim();if(M){var _=Y.join(":").trim();try{B.append(M,_)}catch(j){console.warn("Response "+j.message)}}}),B}C.call(N.prototype);function R(D,B){if(!(this instanceof R))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');if(B||(B={}),this.type="default",this.status=B.status===void 0?200:B.status,this.status<200||this.status>599)throw new RangeError("Failed to construct 'Response': The status provided (0) is outside the range [200, 599].");this.ok=this.status>=200&&this.status<300,this.statusText=B.statusText===void 0?"":""+B.statusText,this.headers=new p(B.headers),this.url=B.url||"",this._initBody(D)}C.call(R.prototype),R.prototype.clone=function(){return new R(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new p(this.headers),url:this.url})},R.error=function(){var D=new R(null,{status:200,statusText:""});return D.ok=!1,D.status=0,D.type="error",D};var L=[301,302,303,307,308];R.redirect=function(D,B){if(L.indexOf(B)===-1)throw new RangeError("Invalid status code");return new R(null,{status:B,headers:{location:D}})},t.DOMException=n.DOMException;try{new t.DOMException}catch{t.DOMException=function(B,H){this.message=B,this.name=H;var X=Error(B);this.stack=X.stack},t.DOMException.prototype=Object.create(Error.prototype),t.DOMException.prototype.constructor=t.DOMException}function U(D,B){return new Promise(function(H,X){var Y=new N(D,B);if(Y.signal&&Y.signal.aborted)return X(new t.DOMException("Aborted","AbortError"));var M=new XMLHttpRequest;function _(){M.abort()}M.onload=function(){var W={statusText:M.statusText,headers:I(M.getAllResponseHeaders()||"")};Y.url.indexOf("file://")===0&&(M.status<200||M.status>599)?W.status=200:W.status=M.status,W.url="responseURL"in M?M.responseURL:W.headers.get("X-Request-URL");var V="response"in M?M.response:M.responseText;setTimeout(function(){H(new R(V,W))},0)},M.onerror=function(){setTimeout(function(){X(new TypeError("Network request failed"))},0)},M.ontimeout=function(){setTimeout(function(){X(new TypeError("Network request timed out"))},0)},M.onabort=function(){setTimeout(function(){X(new t.DOMException("Aborted","AbortError"))},0)};function j(W){try{return W===""&&n.location.href?n.location.href:W}catch{return W}}if(M.open(Y.method,j(Y.url),!0),Y.credentials==="include"?M.withCredentials=!0:Y.credentials==="omit"&&(M.withCredentials=!1),"responseType"in M&&(r.blob?M.responseType="blob":r.arrayBuffer&&(M.responseType="arraybuffer")),B&&typeof B.headers=="object"&&!(B.headers instanceof p||n.Headers&&B.headers instanceof n.Headers)){var q=[];Object.getOwnPropertyNames(B.headers).forEach(function(W){q.push(l(W)),M.setRequestHeader(W,f(B.headers[W]))}),Y.headers.forEach(function(W,V){q.indexOf(V)===-1&&M.setRequestHeader(V,W)})}else Y.headers.forEach(function(W,V){M.setRequestHeader(V,W)});Y.signal&&(Y.signal.addEventListener("abort",_),M.onreadystatechange=function(){M.readyState===4&&Y.signal.removeEventListener("abort",_)}),M.send(typeof Y._bodyInit>"u"?null:Y._bodyInit)})}return U.polyfill=!0,n.fetch||(n.fetch=U,n.Headers=p,n.Request=N,n.Response=R),t.Headers=p,t.Request=N,t.Response=R,t.fetch=U,Object.defineProperty(t,"__esModule",{value:!0}),t})({})})(typeof self<"u"?self:tv)})()),tv}_V();const IV={referrerPolicy:"origin",headers:{"x-hiro-product":"stacksjs"}};async function OV(e,t){const n={};return Object.assign(n,IV,t),await fetch(e,n)}function DV(e){let t=OV,n=[];return e.length>0&&typeof e[0]=="function"&&(t=e.shift()),e.length>0&&(n=e),{fetchLib:t,middlewares:n}}function MV(...e){const{fetchLib:t,middlewares:n}=DV(e);return async(s,o)=>{let c={url:s,init:o??{}};for(const f of n)typeof f.pre=="function"&&(c=await Promise.resolve(f.pre({fetch:t,...c}))??c);let l=await t(c.url,c.init);for(const f of n)typeof f.post=="function"&&(l=await Promise.resolve(f.post({fetch:t,url:c.url,init:c.init,response:l?.clone()??l}))??l);return l}}var Lf;(function(e){e[e.Testnet=2147483648]="Testnet",e[e.Mainnet=1]="Mainnet"})(Lf||(Lf={}));var Ml;(function(e){e[e.Mainnet=0]="Mainnet",e[e.Testnet=128]="Testnet"})(Ml||(Ml={}));var l_;(function(e){e[e.Mainnet=385875968]="Mainnet",e[e.Testnet=4278190080]="Testnet"})(l_||(l_={}));const $V="https://api.mainnet.hiro.so",UV="https://api.testnet.hiro.so",RV="http://localhost:3999",PV=["mainnet","testnet","devnet","mocknet"];class kf{constructor(t){this.version=Ml.Mainnet,this.chainId=Lf.Mainnet,this.bnsLookupUrl="https://api.mainnet.hiro.so",this.broadcastEndpoint="/v2/transactions",this.transferFeeEstimateEndpoint="/v2/fees/transfer",this.transactionFeeEstimateEndpoint="/v2/fees/transaction",this.accountEndpoint="/v2/accounts",this.contractAbiEndpoint="/v2/contracts/interface",this.readOnlyFunctionCallEndpoint="/v2/contracts/call-read",this.isMainnet=()=>this.version===Ml.Mainnet,this.getBroadcastApiUrl=()=>`${this.coreApiUrl}${this.broadcastEndpoint}`,this.getTransferFeeEstimateApiUrl=()=>`${this.coreApiUrl}${this.transferFeeEstimateEndpoint}`,this.getTransactionFeeEstimateApiUrl=()=>`${this.coreApiUrl}${this.transactionFeeEstimateEndpoint}`,this.getAccountApiUrl=n=>`${this.coreApiUrl}${this.accountEndpoint}/${n}?proof=0`,this.getAccountExtendedBalancesApiUrl=n=>`${this.coreApiUrl}/extended/v1/address/${n}/balances`,this.getAbiApiUrl=(n,r)=>`${this.coreApiUrl}${this.contractAbiEndpoint}/${n}/${r}`,this.getReadOnlyFunctionCallApiUrl=(n,r,s)=>`${this.coreApiUrl}${this.readOnlyFunctionCallEndpoint}/${n}/${r}/${encodeURIComponent(s)}`,this.getInfoUrl=()=>`${this.coreApiUrl}/v2/info`,this.getBlockTimeInfoUrl=()=>`${this.coreApiUrl}/extended/v1/info/network_block_times`,this.getPoxInfoUrl=()=>`${this.coreApiUrl}/v2/pox`,this.getRewardsUrl=(n,r)=>{let s=`${this.coreApiUrl}/extended/v1/burnchain/rewards/${n}`;return r&&(s=`${s}?limit=${r.limit}&offset=${r.offset}`),s},this.getRewardsTotalUrl=n=>`${this.coreApiUrl}/extended/v1/burnchain/rewards/${n}/total`,this.getRewardHoldersUrl=(n,r)=>{let s=`${this.coreApiUrl}/extended/v1/burnchain/reward_slot_holders/${n}`;return r&&(s=`${s}?limit=${r.limit}&offset=${r.offset}`),s},this.getStackerInfoUrl=(n,r)=>`${this.coreApiUrl}${this.readOnlyFunctionCallEndpoint}
    ${n}/${r}/get-stacker-info`,this.getDataVarUrl=(n,r,s)=>`${this.coreApiUrl}/v2/data_var/${n}/${r}/${s}?proof=0`,this.getMapEntryUrl=(n,r,s)=>`${this.coreApiUrl}/v2/map_entry/${n}/${r}/${s}?proof=0`,this.coreApiUrl=t.url,this.fetchFn=t.fetchFn??MV()}getNameInfo(t){const n=`${this.bnsLookupUrl}/v1/names/${t}`;return this.fetchFn(n).then(r=>{if(r.status===404)throw new Error("Name not found");if(r.status!==200)throw new Error(`Bad response status: ${r.status}`);return r.json()}).then(r=>r.address?Object.assign({},r,{address:r.address}):r)}}kf.fromName=e=>{switch(e){case"mainnet":return new hM;case"testnet":return new dM;case"devnet":return new pM;case"mocknet":return new wA;default:throw new Error(`Invalid network name provided. Must be one of the following: ${PV.join(", ")}`)}};kf.fromNameOrNetwork=e=>typeof e!="string"&&"version"in e?e:kf.fromName(e);class hM extends kf{constructor(t){super({url:t?.url??$V,fetchFn:t?.fetchFn}),this.version=Ml.Mainnet,this.chainId=Lf.Mainnet}}class dM extends kf{constructor(t){super({url:t?.url??UV,fetchFn:t?.fetchFn}),this.version=Ml.Testnet,this.chainId=Lf.Testnet}}class wA extends kf{constructor(t){super({url:t?.url??RV,fetchFn:t?.fetchFn}),this.version=Ml.Testnet,this.chainId=Lf.Testnet}}const pM=wA;function BV(e,t,n){return vA(gM(e),n)}function gM(e,t){let n=e;if(typeof n=="number"){if(!Number.isInteger(n))throw new RangeError("Invalid value. Values of type 'number' must be an integer.");if(n>Number.MAX_SAFE_INTEGER)throw new RangeError(`Invalid value. Values of type 'number' must be less than or equal to ${Number.MAX_SAFE_INTEGER}. For larger values, try using a BigInt instead.`);return BigInt(n)}if(typeof n=="string")if(n.toLowerCase().startsWith("0x")){let r=n.slice(2);r=r.padStart(r.length+r.length%2,"0"),n=Sp(r)}else try{return BigInt(n)}catch(r){if(r instanceof SyntaxError)throw new RangeError(`Invalid value. String integer '${n}' is not finite.`)}if(typeof n=="bigint")return n;if(n instanceof Uint8Array)return BigInt(`0x${jV(n)}`);if(n!=null&&typeof n=="object"&&n.constructor.name==="BN")return BigInt(n.toString());throw new TypeError("Invalid value type. Must be a number, bigint, integer-string, hex-string, or Uint8Array.")}function bA(e,t=8){return(typeof e=="bigint"?e:gM(e)).toString(16).padStart(t*2,"0")}function vA(e,t=16){const n=bA(e,t);return Sp(n)}function LV(e,t){if(e<-(BigInt(1)<<t-BigInt(1))||(BigInt(1)<<t-BigInt(1))-BigInt(1)<e)throw`Unable to represent integer in width: ${t}`;return e>=BigInt(0)?BigInt(e):e+(BigInt(1)<<t)}const kV=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function jV(e){if(!(e instanceof Uint8Array))throw new Error("Uint8Array expected");let t="";for(const n of e)t+=kV[n];return t}function Sp(e){if(typeof e!="string")throw new TypeError(`hexToBytes: expected string, got ${typeof e}`);e=e.startsWith("0x")||e.startsWith("0X")?e.slice(2):e;const t=e.length%2?`0${e}`:e,n=new Uint8Array(t.length/2);for(let r=0;r<n.length;r++){const s=r*2,o=t.slice(s,s+2),c=Number.parseInt(o,16);if(Number.isNaN(c)||c<0)throw new Error("Invalid byte sequence");n[r]=c}return n}function EA(e){return new TextEncoder().encode(e)}function zV(e){const t=[];for(let n=0;n<e.length;n++)t.push(e.charCodeAt(n)&255);return new Uint8Array(t)}function HV(e){return!Number.isInteger(e)||e<0||e>255}function u_(e){if(e.some(HV))throw new Error("Some values are invalid bytes.");return new Uint8Array(e)}function SA(...e){if(!e.every(r=>r instanceof Uint8Array))throw new Error("Uint8Array list expected");if(e.length===1)return e[0];const t=e.reduce((r,s)=>r+s.length,0),n=new Uint8Array(t);for(let r=0,s=0;r<e.length;r++){const o=e[r];n.set(o,s),s+=o.length}return n}function Qo(e){return SA(...e.map(t=>typeof t=="number"?u_([t]):t instanceof Array?u_(t):t))}function zy(e,t,n=0){return e[n+3]=t,t>>>=8,e[n+2]=t,t>>>=8,e[n+1]=t,t>>>=8,e[n]=t,e}var J2;(function(e){e[e.Testnet=2147483648]="Testnet",e[e.Mainnet=1]="Mainnet"})(J2||(J2={}));J2.Mainnet;const FV=128,qV=128,mM=16;var eE;(function(e){e[e.Address=0]="Address",e[e.Principal=1]="Principal",e[e.LengthPrefixedString=2]="LengthPrefixedString",e[e.MemoString=3]="MemoString",e[e.AssetInfo=4]="AssetInfo",e[e.PostCondition=5]="PostCondition",e[e.PublicKey=6]="PublicKey",e[e.LengthPrefixedList=7]="LengthPrefixedList",e[e.Payload=8]="Payload",e[e.MessageSignature=9]="MessageSignature",e[e.StructuredDataSignature=10]="StructuredDataSignature",e[e.TransactionAuthField=11]="TransactionAuthField"})(eE||(eE={}));var f_;(function(e){e[e.TokenTransfer=0]="TokenTransfer",e[e.SmartContract=1]="SmartContract",e[e.VersionedSmartContract=6]="VersionedSmartContract",e[e.ContractCall=2]="ContractCall",e[e.PoisonMicroblock=3]="PoisonMicroblock",e[e.Coinbase=4]="Coinbase",e[e.CoinbaseToAltRecipient=5]="CoinbaseToAltRecipient",e[e.TenureChange=7]="TenureChange",e[e.NakamotoCoinbase=8]="NakamotoCoinbase"})(f_||(f_={}));var h_;(function(e){e[e.Clarity1=1]="Clarity1",e[e.Clarity2=2]="Clarity2",e[e.Clarity3=3]="Clarity3"})(h_||(h_={}));var ci;(function(e){e[e.OnChainOnly=1]="OnChainOnly",e[e.OffChainOnly=2]="OffChainOnly",e[e.Any=3]="Any"})(ci||(ci={}));const nv=["onChainOnly","offChainOnly","any"];nv[0]+"",ci.OnChainOnly,nv[1]+"",ci.OffChainOnly,nv[2]+"",ci.Any,ci.OnChainOnly+"",ci.OnChainOnly,ci.OffChainOnly+"",ci.OffChainOnly,ci.Any+"",ci.Any;var tE;(function(e){e[e.Mainnet=0]="Mainnet",e[e.Testnet=128]="Testnet"})(tE||(tE={}));tE.Mainnet;var d_;(function(e){e[e.Allow=1]="Allow",e[e.Deny=2]="Deny"})(d_||(d_={}));var al;(function(e){e[e.STX=0]="STX",e[e.Fungible=1]="Fungible",e[e.NonFungible=2]="NonFungible"})(al||(al={}));var p_;(function(e){e[e.Standard=4]="Standard",e[e.Sponsored=5]="Sponsored"})(p_||(p_={}));var g_;(function(e){e[e.SerializeP2PKH=0]="SerializeP2PKH",e[e.SerializeP2SH=1]="SerializeP2SH",e[e.SerializeP2WPKH=2]="SerializeP2WPKH",e[e.SerializeP2WSH=3]="SerializeP2WSH",e[e.SerializeP2SHNonSequential=5]="SerializeP2SHNonSequential",e[e.SerializeP2WSHNonSequential=7]="SerializeP2WSHNonSequential"})(g_||(g_={}));var m_;(function(e){e[e.MainnetSingleSig=22]="MainnetSingleSig",e[e.MainnetMultiSig=20]="MainnetMultiSig",e[e.TestnetSingleSig=26]="TestnetSingleSig",e[e.TestnetMultiSig=21]="TestnetMultiSig"})(m_||(m_={}));var y_;(function(e){e[e.Compressed=0]="Compressed",e[e.Uncompressed=1]="Uncompressed"})(y_||(y_={}));var w_;(function(e){e[e.Equal=1]="Equal",e[e.Greater=2]="Greater",e[e.GreaterEqual=3]="GreaterEqual",e[e.Less=4]="Less",e[e.LessEqual=5]="LessEqual"})(w_||(w_={}));var b_;(function(e){e[e.Sends=16]="Sends",e[e.DoesNotSend=17]="DoesNotSend"})(b_||(b_={}));var nE;(function(e){e[e.Origin=1]="Origin",e[e.Standard=2]="Standard",e[e.Contract=3]="Contract"})(nE||(nE={}));var v_;(function(e){e[e.STX=0]="STX",e[e.Fungible=1]="Fungible",e[e.NonFungible=2]="NonFungible"})(v_||(v_={}));var E_;(function(e){e.Serialization="Serialization",e.Deserialization="Deserialization",e.SignatureValidation="SignatureValidation",e.FeeTooLow="FeeTooLow",e.BadNonce="BadNonce",e.NotEnoughFunds="NotEnoughFunds",e.NoSuchContract="NoSuchContract",e.NoSuchPublicFunction="NoSuchPublicFunction",e.BadFunctionArgument="BadFunctionArgument",e.ContractAlreadyExists="ContractAlreadyExists",e.PoisonMicroblocksDoNotConflict="PoisonMicroblocksDoNotConflict",e.PoisonMicroblockHasUnknownPubKeyHash="PoisonMicroblockHasUnknownPubKeyHash",e.PoisonMicroblockIsInvalid="PoisonMicroblockIsInvalid",e.BadAddressVersionByte="BadAddressVersionByte",e.NoCoinbaseViaMempool="NoCoinbaseViaMempool",e.ServerFailureNoSuchChainTip="ServerFailureNoSuchChainTip",e.TooMuchChaining="TooMuchChaining",e.ConflictingNonceInMempool="ConflictingNonceInMempool",e.BadTransactionVersion="BadTransactionVersion",e.TransferRecipientCannotEqualSender="TransferRecipientCannotEqualSender",e.TransferAmountMustBePositive="TransferAmountMustBePositive",e.ServerFailureDatabase="ServerFailureDatabase",e.EstimatorError="EstimatorError",e.TemporarilyBlacklisted="TemporarilyBlacklisted",e.ServerFailureOther="ServerFailureOther"})(E_||(E_={}));function VV(e,t,n){const s=FV;if(cW(e,s))throw new Error(`String length exceeds maximum bytes ${s}`);return{type:eE.LengthPrefixedString,content:e,lengthPrefixBytes:1,maxLengthBytes:s}}var ot;(function(e){e[e.Int=0]="Int",e[e.UInt=1]="UInt",e[e.Buffer=2]="Buffer",e[e.BoolTrue=3]="BoolTrue",e[e.BoolFalse=4]="BoolFalse",e[e.PrincipalStandard=5]="PrincipalStandard",e[e.PrincipalContract=6]="PrincipalContract",e[e.ResponseOk=7]="ResponseOk",e[e.ResponseErr=8]="ResponseErr",e[e.OptionalNone=9]="OptionalNone",e[e.OptionalSome=10]="OptionalSome",e[e.List=11]="List",e[e.Tuple=12]="Tuple",e[e.StringASCII=13]="StringASCII",e[e.StringUTF8=14]="StringUTF8"})(ot||(ot={}));class WV extends Error{constructor(t){super(t),this.message=t,this.name=this.constructor.name,Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}}class yM extends WV{constructor(t){super(t)}}function Hy(e){const t=[];return t.push(Sp(bA(e.version,1))),t.push(Sp(e.hash160)),Qo(t)}function KV(e){const t=[];return t.push(e.prefix),t.push(Hy(e.address)),e.prefix===nE.Contract&&t.push(Ap(e.contractName)),Qo(t)}function Ap(e){const t=[],n=EA(e.content),r=n.byteLength;return t.push(Sp(bA(r,e.lengthPrefixBytes))),t.push(n),Qo(t)}function GV(e){const t=[];return t.push(Hy(e.address)),t.push(Ap(e.contractName)),t.push(Ap(e.assetName)),Qo(t)}function YV(e){const t=[];if(t.push(e.conditionType),t.push(KV(e.principal)),(e.conditionType===al.Fungible||e.conditionType===al.NonFungible)&&t.push(GV(e.assetInfo)),e.conditionType===al.NonFungible&&t.push(lg(e.assetName)),t.push(e.conditionCode),e.conditionType===al.STX||e.conditionType===al.Fungible){if(e.amount>BigInt("0xffffffffffffffff"))throw new yM("The post-condition amount may not be larger than 8 bytes");t.push(BV(e.amount,!1,8))}return Qo(t)}function no(e,t){return Qo([e,t])}function XV(e){return new Uint8Array([e.type])}function ZV(e){return e.type===ot.OptionalNone?new Uint8Array([e.type]):no(e.type,lg(e.value))}function QV(e){const t=new Uint8Array(4);return zy(t,e.buffer.length,0),no(e.type,SA(t,e.buffer))}function JV(e){const t=vA(LV(e.value,BigInt(qV)),mM);return no(e.type,t)}function eW(e){const t=vA(e.value,mM);return no(e.type,t)}function tW(e){return no(e.type,Hy(e.address))}function nW(e){return no(e.type,SA(Hy(e.address),Ap(e.contractName)))}function rW(e){return no(e.type,lg(e.value))}function sW(e){const t=[],n=new Uint8Array(4);zy(n,e.list.length,0),t.push(n);for(const r of e.list){const s=lg(r);t.push(s)}return no(e.type,Qo(t))}function iW(e){const t=[],n=new Uint8Array(4);zy(n,Object.keys(e.data).length,0),t.push(n);const r=Object.keys(e.data).sort((s,o)=>s.localeCompare(o));for(const s of r){const o=VV(s);t.push(Ap(o));const c=lg(e.data[s]);t.push(c)}return no(e.type,Qo(t))}function wM(e,t){const n=[],r=t=="ascii"?zV(e.data):EA(e.data),s=new Uint8Array(4);return zy(s,r.length,0),n.push(s),n.push(r),no(e.type,Qo(n))}function oW(e){return wM(e,"ascii")}function aW(e){return wM(e,"utf8")}function lg(e){switch(e.type){case ot.BoolTrue:case ot.BoolFalse:return XV(e);case ot.OptionalNone:case ot.OptionalSome:return ZV(e);case ot.Buffer:return QV(e);case ot.UInt:return eW(e);case ot.Int:return JV(e);case ot.PrincipalStandard:return tW(e);case ot.PrincipalContract:return nW(e);case ot.ResponseOk:case ot.ResponseErr:return rW(e);case ot.List:return sW(e);case ot.Tuple:return iW(e);case ot.StringASCII:return oW(e);case ot.StringUTF8:return aW(e);default:throw new yM("Unable to serialize. Invalid Clarity Value.")}}const cW=(e,t)=>e?EA(e).length>t:!1;var n0={exports:{}},S_;function lW(){if(S_)return n0.exports;S_=1;var e=typeof Reflect=="object"?Reflect:null,t=e&&typeof e.apply=="function"?e.apply:function(T,I,R){return Function.prototype.apply.call(T,I,R)},n;e&&typeof e.ownKeys=="function"?n=e.ownKeys:Object.getOwnPropertySymbols?n=function(T){return Object.getOwnPropertyNames(T).concat(Object.getOwnPropertySymbols(T))}:n=function(T){return Object.getOwnPropertyNames(T)};function r(N){console&&console.warn&&console.warn(N)}var s=Number.isNaN||function(T){return T!==T};function o(){o.init.call(this)}n0.exports=o,n0.exports.once=C,o.EventEmitter=o,o.prototype._events=void 0,o.prototype._eventsCount=0,o.prototype._maxListeners=void 0;var c=10;function l(N){if(typeof N!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof N)}Object.defineProperty(o,"defaultMaxListeners",{enumerable:!0,get:function(){return c},set:function(N){if(typeof N!="number"||N<0||s(N))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+N+".");c=N}}),o.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},o.prototype.setMaxListeners=function(T){if(typeof T!="number"||T<0||s(T))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+T+".");return this._maxListeners=T,this};function f(N){return N._maxListeners===void 0?o.defaultMaxListeners:N._maxListeners}o.prototype.getMaxListeners=function(){return f(this)},o.prototype.emit=function(T){for(var I=[],R=1;R<arguments.length;R++)I.push(arguments[R]);var L=T==="error",U=this._events;if(U!==void 0)L=L&&U.error===void 0;else if(!L)return!1;if(L){var D;if(I.length>0&&(D=I[0]),D instanceof Error)throw D;var B=new Error("Unhandled error."+(D?" ("+D.message+")":""));throw B.context=D,B}var H=U[T];if(H===void 0)return!1;if(typeof H=="function")t(H,this,I);else for(var X=H.length,Y=v(H,X),R=0;R<X;++R)t(Y[R],this,I);return!0};function d(N,T,I,R){var L,U,D;if(l(I),U=N._events,U===void 0?(U=N._events=Object.create(null),N._eventsCount=0):(U.newListener!==void 0&&(N.emit("newListener",T,I.listener?I.listener:I),U=N._events),D=U[T]),D===void 0)D=U[T]=I,++N._eventsCount;else if(typeof D=="function"?D=U[T]=R?[I,D]:[D,I]:R?D.unshift(I):D.push(I),L=f(N),L>0&&D.length>L&&!D.warned){D.warned=!0;var B=new Error("Possible EventEmitter memory leak detected. "+D.length+" "+String(T)+" listeners added. Use emitter.setMaxListeners() to increase limit");B.name="MaxListenersExceededWarning",B.emitter=N,B.type=T,B.count=D.length,r(B)}return N}o.prototype.addListener=function(T,I){return d(this,T,I,!1)},o.prototype.on=o.prototype.addListener,o.prototype.prependListener=function(T,I){return d(this,T,I,!0)};function p(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function g(N,T,I){var R={fired:!1,wrapFn:void 0,target:N,type:T,listener:I},L=p.bind(R);return L.listener=I,R.wrapFn=L,L}o.prototype.once=function(T,I){return l(I),this.on(T,g(this,T,I)),this},o.prototype.prependOnceListener=function(T,I){return l(I),this.prependListener(T,g(this,T,I)),this},o.prototype.removeListener=function(T,I){var R,L,U,D,B;if(l(I),L=this._events,L===void 0)return this;if(R=L[T],R===void 0)return this;if(R===I||R.listener===I)--this._eventsCount===0?this._events=Object.create(null):(delete L[T],L.removeListener&&this.emit("removeListener",T,R.listener||I));else if(typeof R!="function"){for(U=-1,D=R.length-1;D>=0;D--)if(R[D]===I||R[D].listener===I){B=R[D].listener,U=D;break}if(U<0)return this;U===0?R.shift():E(R,U),R.length===1&&(L[T]=R[0]),L.removeListener!==void 0&&this.emit("removeListener",T,B||I)}return this},o.prototype.off=o.prototype.removeListener,o.prototype.removeAllListeners=function(T){var I,R,L;if(R=this._events,R===void 0)return this;if(R.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):R[T]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete R[T]),this;if(arguments.length===0){var U=Object.keys(R),D;for(L=0;L<U.length;++L)D=U[L],D!=="removeListener"&&this.removeAllListeners(D);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(I=R[T],typeof I=="function")this.removeListener(T,I);else if(I!==void 0)for(L=I.length-1;L>=0;L--)this.removeListener(T,I[L]);return this};function y(N,T,I){var R=N._events;if(R===void 0)return[];var L=R[T];return L===void 0?[]:typeof L=="function"?I?[L.listener||L]:[L]:I?S(L):v(L,L.length)}o.prototype.listeners=function(T){return y(this,T,!0)},o.prototype.rawListeners=function(T){return y(this,T,!1)},o.listenerCount=function(N,T){return typeof N.listenerCount=="function"?N.listenerCount(T):b.call(N,T)},o.prototype.listenerCount=b;function b(N){var T=this._events;if(T!==void 0){var I=T[N];if(typeof I=="function")return 1;if(I!==void 0)return I.length}return 0}o.prototype.eventNames=function(){return this._eventsCount>0?n(this._events):[]};function v(N,T){for(var I=new Array(T),R=0;R<T;++R)I[R]=N[R];return I}function E(N,T){for(;T+1<N.length;T++)N[T]=N[T+1];N.pop()}function S(N){for(var T=new Array(N.length),I=0;I<T.length;++I)T[I]=N[I].listener||N[I];return T}function C(N,T){return new Promise(function(I,R){function L(D){N.removeListener(T,U),R(D)}function U(){typeof N.removeListener=="function"&&N.removeListener("error",L),I([].slice.call(arguments))}x(N,T,U,{once:!0}),T!=="error"&&O(N,L,{once:!0})})}function O(N,T,I){typeof N.on=="function"&&x(N,"error",T,I)}function x(N,T,I,R){if(typeof N.on=="function")R.once?N.once(T,I):N.on(T,I);else if(typeof N.addEventListener=="function")N.addEventListener(T,function L(U){R.once&&N.removeEventListener(T,L),I(U)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof N)}return n0.exports}var Vs=lW();const AA=Yf(Vs);var rv={};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var rE=function(e,t){return rE=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var s in r)r.hasOwnProperty(s)&&(n[s]=r[s])},rE(e,t)};function uW(e,t){rE(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var sE=function(){return sE=Object.assign||function(t){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},sE.apply(this,arguments)};function fW(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n}function hW(e,t,n,r){var s=arguments.length,o=s<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,c;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(e,t,n,r);else for(var l=e.length-1;l>=0;l--)(c=e[l])&&(o=(s<3?c(o):s>3?c(t,n,o):c(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o}function dW(e,t){return function(n,r){t(n,r,e)}}function pW(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function gW(e,t,n,r){function s(o){return o instanceof n?o:new n(function(c){c(o)})}return new(n||(n=Promise))(function(o,c){function l(p){try{d(r.next(p))}catch(g){c(g)}}function f(p){try{d(r.throw(p))}catch(g){c(g)}}function d(p){p.done?o(p.value):s(p.value).then(l,f)}d((r=r.apply(e,t||[])).next())})}function mW(e,t){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,s,o,c;return c={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function l(d){return function(p){return f([d,p])}}function f(d){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,s&&(o=d[0]&2?s.return:d[0]?s.throw||((o=s.return)&&o.call(s),0):s.next)&&!(o=o.call(s,d[1])).done)return o;switch(s=0,o&&(d=[d[0]&2,o.value]),d[0]){case 0:case 1:o=d;break;case 4:return n.label++,{value:d[1],done:!1};case 5:n.label++,s=d[1],d=[0];continue;case 7:d=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(d[0]===6||d[0]===2)){n=0;continue}if(d[0]===3&&(!o||d[1]>o[0]&&d[1]<o[3])){n.label=d[1];break}if(d[0]===6&&n.label<o[1]){n.label=o[1],o=d;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(d);break}o[2]&&n.ops.pop(),n.trys.pop();continue}d=t.call(e,n)}catch(p){d=[6,p],s=0}finally{r=o=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}}function yW(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]}function wW(e,t){for(var n in e)n!=="default"&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function iE(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function bM(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),s,o=[],c;try{for(;(t===void 0||t-- >0)&&!(s=r.next()).done;)o.push(s.value)}catch(l){c={error:l}}finally{try{s&&!s.done&&(n=r.return)&&n.call(r)}finally{if(c)throw c.error}}return o}function bW(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(bM(arguments[t]));return e}function vW(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var r=Array(e),s=0,t=0;t<n;t++)for(var o=arguments[t],c=0,l=o.length;c<l;c++,s++)r[s]=o[c];return r}function Cp(e){return this instanceof Cp?(this.v=e,this):new Cp(e)}function EW(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(e,t||[]),s,o=[];return s={},c("next"),c("throw"),c("return"),s[Symbol.asyncIterator]=function(){return this},s;function c(y){r[y]&&(s[y]=function(b){return new Promise(function(v,E){o.push([y,b,v,E])>1||l(y,b)})})}function l(y,b){try{f(r[y](b))}catch(v){g(o[0][3],v)}}function f(y){y.value instanceof Cp?Promise.resolve(y.value.v).then(d,p):g(o[0][2],y)}function d(y){l("next",y)}function p(y){l("throw",y)}function g(y,b){y(b),o.shift(),o.length&&l(o[0][0],o[0][1])}}function SW(e){var t,n;return t={},r("next"),r("throw",function(s){throw s}),r("return"),t[Symbol.iterator]=function(){return this},t;function r(s,o){t[s]=e[s]?function(c){return(n=!n)?{value:Cp(e[s](c)),done:s==="return"}:o?o(c):c}:o}}function AW(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof iE=="function"?iE(e):e[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=e[o]&&function(c){return new Promise(function(l,f){c=e[o](c),s(l,f,c.done,c.value)})}}function s(o,c,l,f){Promise.resolve(f).then(function(d){o({value:d,done:l})},c)}}function CW(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function xW(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function NW(e){return e&&e.__esModule?e:{default:e}}function TW(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function _W(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n}const IW=Object.freeze(Object.defineProperty({__proto__:null,get __assign(){return sE},__asyncDelegator:SW,__asyncGenerator:EW,__asyncValues:AW,__await:Cp,__awaiter:gW,__classPrivateFieldGet:TW,__classPrivateFieldSet:_W,__createBinding:yW,__decorate:hW,__exportStar:wW,__extends:uW,__generator:mW,__importDefault:NW,__importStar:xW,__makeTemplateObject:CW,__metadata:pW,__param:dW,__read:bM,__rest:fW,__spread:bW,__spreadArrays:vW,__values:iE},Symbol.toStringTag,{value:"Module"})),ug=KB(IW);var sv={},md={},A_;function OW(){if(A_)return md;A_=1,Object.defineProperty(md,"__esModule",{value:!0}),md.delay=void 0;function e(t){return new Promise(n=>{setTimeout(()=>{n(!0)},t)})}return md.delay=e,md}var Xc={},iv={},Zc={},C_;function DW(){return C_||(C_=1,Object.defineProperty(Zc,"__esModule",{value:!0}),Zc.ONE_THOUSAND=Zc.ONE_HUNDRED=void 0,Zc.ONE_HUNDRED=100,Zc.ONE_THOUSAND=1e3),Zc}var ov={},x_;function MW(){return x_||(x_=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ONE_YEAR=e.FOUR_WEEKS=e.THREE_WEEKS=e.TWO_WEEKS=e.ONE_WEEK=e.THIRTY_DAYS=e.SEVEN_DAYS=e.FIVE_DAYS=e.THREE_DAYS=e.ONE_DAY=e.TWENTY_FOUR_HOURS=e.TWELVE_HOURS=e.SIX_HOURS=e.THREE_HOURS=e.ONE_HOUR=e.SIXTY_MINUTES=e.THIRTY_MINUTES=e.TEN_MINUTES=e.FIVE_MINUTES=e.ONE_MINUTE=e.SIXTY_SECONDS=e.THIRTY_SECONDS=e.TEN_SECONDS=e.FIVE_SECONDS=e.ONE_SECOND=void 0,e.ONE_SECOND=1,e.FIVE_SECONDS=5,e.TEN_SECONDS=10,e.THIRTY_SECONDS=30,e.SIXTY_SECONDS=60,e.ONE_MINUTE=e.SIXTY_SECONDS,e.FIVE_MINUTES=e.ONE_MINUTE*5,e.TEN_MINUTES=e.ONE_MINUTE*10,e.THIRTY_MINUTES=e.ONE_MINUTE*30,e.SIXTY_MINUTES=e.ONE_MINUTE*60,e.ONE_HOUR=e.SIXTY_MINUTES,e.THREE_HOURS=e.ONE_HOUR*3,e.SIX_HOURS=e.ONE_HOUR*6,e.TWELVE_HOURS=e.ONE_HOUR*12,e.TWENTY_FOUR_HOURS=e.ONE_HOUR*24,e.ONE_DAY=e.TWENTY_FOUR_HOURS,e.THREE_DAYS=e.ONE_DAY*3,e.FIVE_DAYS=e.ONE_DAY*5,e.SEVEN_DAYS=e.ONE_DAY*7,e.THIRTY_DAYS=e.ONE_DAY*30,e.ONE_WEEK=e.SEVEN_DAYS,e.TWO_WEEKS=e.ONE_WEEK*2,e.THREE_WEEKS=e.ONE_WEEK*3,e.FOUR_WEEKS=e.ONE_WEEK*4,e.ONE_YEAR=e.ONE_DAY*365})(ov)),ov}var N_;function vM(){return N_||(N_=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0});const t=ug;t.__exportStar(DW(),e),t.__exportStar(MW(),e)})(iv)),iv}var T_;function $W(){if(T_)return Xc;T_=1,Object.defineProperty(Xc,"__esModule",{value:!0}),Xc.fromMiliseconds=Xc.toMiliseconds=void 0;const e=vM();function t(r){return r*e.ONE_THOUSAND}Xc.toMiliseconds=t;function n(r){return Math.floor(r/e.ONE_THOUSAND)}return Xc.fromMiliseconds=n,Xc}var __;function UW(){return __||(__=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0});const t=ug;t.__exportStar(OW(),e),t.__exportStar($W(),e)})(sv)),sv}var ju={},I_;function RW(){if(I_)return ju;I_=1,Object.defineProperty(ju,"__esModule",{value:!0}),ju.Watch=void 0;class e{constructor(){this.timestamps=new Map}start(n){if(this.timestamps.has(n))throw new Error(`Watch already started for label: ${n}`);this.timestamps.set(n,{started:Date.now()})}stop(n){const r=this.get(n);if(typeof r.elapsed<"u")throw new Error(`Watch already stopped for label: ${n}`);const s=Date.now()-r.started;this.timestamps.set(n,{started:r.started,elapsed:s})}get(n){const r=this.timestamps.get(n);if(typeof r>"u")throw new Error(`No timestamp found for label: ${n}`);return r}elapsed(n){const r=this.get(n);return r.elapsed||Date.now()-r.started}}return ju.Watch=e,ju.default=e,ju}var av={},yd={},O_;function PW(){if(O_)return yd;O_=1,Object.defineProperty(yd,"__esModule",{value:!0}),yd.IWatch=void 0;class e{}return yd.IWatch=e,yd}var D_;function BW(){return D_||(D_=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),ug.__exportStar(PW(),e)})(av)),av}var M_;function LW(){return M_||(M_=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0});const t=ug;t.__exportStar(UW(),e),t.__exportStar(RW(),e),t.__exportStar(BW(),e),t.__exportStar(vM(),e)})(rv)),rv}var we=LW();class jl{}let kW=class extends jl{constructor(t){super()}};const $_=we.FIVE_SECONDS,zl={pulse:"heartbeat_pulse"};let jW=class EM extends kW{constructor(t){super(t),this.events=new Vs.EventEmitter,this.interval=$_,this.interval=t?.interval||$_}static async init(t){const n=new EM(t);return await n.init(),n}async init(){await this.initialize()}stop(){clearInterval(this.intervalRef)}on(t,n){this.events.on(t,n)}once(t,n){this.events.once(t,n)}off(t,n){this.events.off(t,n)}removeListener(t,n){this.events.removeListener(t,n)}async initialize(){this.intervalRef=setInterval(()=>this.pulse(),we.toMiliseconds(this.interval))}pulse(){this.events.emit(zl.pulse)}};const zW=/"(?:_|\\u0{2}5[Ff]){2}(?:p|\\u0{2}70)(?:r|\\u0{2}72)(?:o|\\u0{2}6[Ff])(?:t|\\u0{2}74)(?:o|\\u0{2}6[Ff])(?:_|\\u0{2}5[Ff]){2}"\s*:/,HW=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/,FW=/^\s*["[{]|^\s*-?\d{1,16}(\.\d{1,17})?([Ee][+-]?\d+)?\s*$/;function qW(e,t){if(e==="__proto__"||e==="constructor"&&t&&typeof t=="object"&&"prototype"in t){VW(e);return}return t}function VW(e){console.warn(`[destr] Dropping "${e}" key to prevent prototype pollution.`)}function r0(e,t={}){if(typeof e!="string")return e;if(e[0]==='"'&&e[e.length-1]==='"'&&e.indexOf("\\")===-1)return e.slice(1,-1);const n=e.trim();if(n.length<=9)switch(n.toLowerCase()){case"true":return!0;case"false":return!1;case"undefined":return;case"null":return null;case"nan":return Number.NaN;case"infinity":return Number.POSITIVE_INFINITY;case"-infinity":return Number.NEGATIVE_INFINITY}if(!FW.test(e)){if(t.strict)throw new SyntaxError("[destr] Invalid JSON");return e}try{if(zW.test(e)||HW.test(e)){if(t.strict)throw new Error("[destr] Possible prototype pollution");return JSON.parse(e,qW)}return JSON.parse(e)}catch(r){if(t.strict)throw r;return e}}function WW(e){return!e||typeof e.then!="function"?Promise.resolve(e):e}function Dn(e,...t){try{return WW(e(...t))}catch(n){return Promise.reject(n)}}function KW(e){const t=typeof e;return e===null||t!=="object"&&t!=="function"}function GW(e){const t=Object.getPrototypeOf(e);return!t||t.isPrototypeOf(Object)}function B0(e){if(KW(e))return String(e);if(GW(e)||Array.isArray(e))return JSON.stringify(e);if(typeof e.toJSON=="function")return B0(e.toJSON());throw new Error("[unstorage] Cannot stringify value!")}const oE="base64:";function YW(e){return typeof e=="string"?e:oE+QW(e)}function XW(e){return typeof e!="string"||!e.startsWith(oE)?e:ZW(e.slice(oE.length))}function ZW(e){return globalThis.Buffer?Buffer.from(e,"base64"):Uint8Array.from(globalThis.atob(e),t=>t.codePointAt(0))}function QW(e){return globalThis.Buffer?Buffer.from(e).toString("base64"):globalThis.btoa(String.fromCodePoint(...e))}function Ur(e){return e&&e.split("?")[0]?.replace(/[/\\]/g,":").replace(/:+/g,":").replace(/^:|:$/g,"")||""}function JW(...e){return Ur(e.join(":"))}function s0(e){return e=Ur(e),e?e+":":""}function eK(e,t){if(t===void 0)return!0;let n=0,r=e.indexOf(":");for(;r>-1;)n++,r=e.indexOf(":",r+1);return n<=t}function tK(e,t){return t?e.startsWith(t)&&e[e.length-1]!=="$":e[e.length-1]!=="$"}const nK="memory",rK=()=>{const e=new Map;return{name:nK,getInstance:()=>e,hasItem(t){return e.has(t)},getItem(t){return e.get(t)??null},getItemRaw(t){return e.get(t)??null},setItem(t,n){e.set(t,n)},setItemRaw(t,n){e.set(t,n)},removeItem(t){e.delete(t)},getKeys(){return[...e.keys()]},clear(){e.clear()},dispose(){e.clear()}}};function sK(e={}){const t={mounts:{"":e.driver||rK()},mountpoints:[""],watching:!1,watchListeners:[],unwatch:{}},n=d=>{for(const p of t.mountpoints)if(d.startsWith(p))return{base:p,relativeKey:d.slice(p.length),driver:t.mounts[p]};return{base:"",relativeKey:d,driver:t.mounts[""]}},r=(d,p)=>t.mountpoints.filter(g=>g.startsWith(d)||p&&d.startsWith(g)).map(g=>({relativeBase:d.length>g.length?d.slice(g.length):void 0,mountpoint:g,driver:t.mounts[g]})),s=(d,p)=>{if(t.watching){p=Ur(p);for(const g of t.watchListeners)g(d,p)}},o=async()=>{if(!t.watching){t.watching=!0;for(const d in t.mounts)t.unwatch[d]=await U_(t.mounts[d],s,d)}},c=async()=>{if(t.watching){for(const d in t.unwatch)await t.unwatch[d]();t.unwatch={},t.watching=!1}},l=(d,p,g)=>{const y=new Map,b=v=>{let E=y.get(v.base);return E||(E={driver:v.driver,base:v.base,items:[]},y.set(v.base,E)),E};for(const v of d){const E=typeof v=="string",S=Ur(E?v:v.key),C=E?void 0:v.value,O=E||!v.options?p:{...p,...v.options},x=n(S);b(x).items.push({key:S,value:C,relativeKey:x.relativeKey,options:O})}return Promise.all([...y.values()].map(v=>g(v))).then(v=>v.flat())},f={hasItem(d,p={}){d=Ur(d);const{relativeKey:g,driver:y}=n(d);return Dn(y.hasItem,g,p)},getItem(d,p={}){d=Ur(d);const{relativeKey:g,driver:y}=n(d);return Dn(y.getItem,g,p).then(b=>r0(b))},getItems(d,p={}){return l(d,p,g=>g.driver.getItems?Dn(g.driver.getItems,g.items.map(y=>({key:y.relativeKey,options:y.options})),p).then(y=>y.map(b=>({key:JW(g.base,b.key),value:r0(b.value)}))):Promise.all(g.items.map(y=>Dn(g.driver.getItem,y.relativeKey,y.options).then(b=>({key:y.key,value:r0(b)})))))},getItemRaw(d,p={}){d=Ur(d);const{relativeKey:g,driver:y}=n(d);return y.getItemRaw?Dn(y.getItemRaw,g,p):Dn(y.getItem,g,p).then(b=>XW(b))},async setItem(d,p,g={}){if(p===void 0)return f.removeItem(d);d=Ur(d);const{relativeKey:y,driver:b}=n(d);b.setItem&&(await Dn(b.setItem,y,B0(p),g),b.watch||s("update",d))},async setItems(d,p){await l(d,p,async g=>{if(g.driver.setItems)return Dn(g.driver.setItems,g.items.map(y=>({key:y.relativeKey,value:B0(y.value),options:y.options})),p);g.driver.setItem&&await Promise.all(g.items.map(y=>Dn(g.driver.setItem,y.relativeKey,B0(y.value),y.options)))})},async setItemRaw(d,p,g={}){if(p===void 0)return f.removeItem(d,g);d=Ur(d);const{relativeKey:y,driver:b}=n(d);if(b.setItemRaw)await Dn(b.setItemRaw,y,p,g);else if(b.setItem)await Dn(b.setItem,y,YW(p),g);else return;b.watch||s("update",d)},async removeItem(d,p={}){typeof p=="boolean"&&(p={removeMeta:p}),d=Ur(d);const{relativeKey:g,driver:y}=n(d);y.removeItem&&(await Dn(y.removeItem,g,p),(p.removeMeta||p.removeMata)&&await Dn(y.removeItem,g+"$",p),y.watch||s("remove",d))},async getMeta(d,p={}){typeof p=="boolean"&&(p={nativeOnly:p}),d=Ur(d);const{relativeKey:g,driver:y}=n(d),b=Object.create(null);if(y.getMeta&&Object.assign(b,await Dn(y.getMeta,g,p)),!p.nativeOnly){const v=await Dn(y.getItem,g+"$",p).then(E=>r0(E));v&&typeof v=="object"&&(typeof v.atime=="string"&&(v.atime=new Date(v.atime)),typeof v.mtime=="string"&&(v.mtime=new Date(v.mtime)),Object.assign(b,v))}return b},setMeta(d,p,g={}){return this.setItem(d+"$",p,g)},removeMeta(d,p={}){return this.removeItem(d+"$",p)},async getKeys(d,p={}){d=s0(d);const g=r(d,!0);let y=[];const b=[];let v=!0;for(const S of g){S.driver.flags?.maxDepth||(v=!1);const C=await Dn(S.driver.getKeys,S.relativeBase,p);for(const O of C){const x=S.mountpoint+Ur(O);y.some(N=>x.startsWith(N))||b.push(x)}y=[S.mountpoint,...y.filter(O=>!O.startsWith(S.mountpoint))]}const E=p.maxDepth!==void 0&&!v;return b.filter(S=>(!E||eK(S,p.maxDepth))&&tK(S,d))},async clear(d,p={}){d=s0(d),await Promise.all(r(d,!1).map(async g=>{if(g.driver.clear)return Dn(g.driver.clear,g.relativeBase,p);if(g.driver.removeItem){const y=await g.driver.getKeys(g.relativeBase||"",p);return Promise.all(y.map(b=>g.driver.removeItem(b,p)))}}))},async dispose(){await Promise.all(Object.values(t.mounts).map(d=>R_(d)))},async watch(d){return await o(),t.watchListeners.push(d),async()=>{t.watchListeners=t.watchListeners.filter(p=>p!==d),t.watchListeners.length===0&&await c()}},async unwatch(){t.watchListeners=[],await c()},mount(d,p){if(d=s0(d),d&&t.mounts[d])throw new Error(`already mounted at ${d}`);return d&&(t.mountpoints.push(d),t.mountpoints.sort((g,y)=>y.length-g.length)),t.mounts[d]=p,t.watching&&Promise.resolve(U_(p,s,d)).then(g=>{t.unwatch[d]=g}).catch(console.error),f},async unmount(d,p=!0){d=s0(d),!(!d||!t.mounts[d])&&(t.watching&&d in t.unwatch&&(t.unwatch[d]?.(),delete t.unwatch[d]),p&&await R_(t.mounts[d]),t.mountpoints=t.mountpoints.filter(g=>g!==d),delete t.mounts[d])},getMount(d=""){d=Ur(d)+":";const p=n(d);return{driver:p.driver,base:p.base}},getMounts(d="",p={}){return d=Ur(d),r(d,p.parents).map(y=>({driver:y.driver,base:y.mountpoint}))},keys:(d,p={})=>f.getKeys(d,p),get:(d,p={})=>f.getItem(d,p),set:(d,p,g={})=>f.setItem(d,p,g),has:(d,p={})=>f.hasItem(d,p),del:(d,p={})=>f.removeItem(d,p),remove:(d,p={})=>f.removeItem(d,p)};return f}function U_(e,t,n){return e.watch?e.watch((r,s)=>t(r,n+s)):()=>{}}async function R_(e){typeof e.dispose=="function"&&await Dn(e.dispose)}function Hl(e){return new Promise((t,n)=>{e.oncomplete=e.onsuccess=()=>t(e.result),e.onabort=e.onerror=()=>n(e.error)})}function SM(e,t){let n;const r=()=>{if(n)return n;const s=indexedDB.open(e);return s.onupgradeneeded=()=>s.result.createObjectStore(t),n=Hl(s),n.then(o=>{o.onclose=()=>n=void 0},()=>{}),n};return(s,o)=>r().then(c=>o(c.transaction(t,s).objectStore(t)))}let cv;function fg(){return cv||(cv=SM("keyval-store","keyval")),cv}function P_(e,t=fg()){return t("readonly",n=>Hl(n.get(e)))}function iK(e,t,n=fg()){return n("readwrite",r=>(r.put(t,e),Hl(r.transaction)))}function oK(e,t=fg()){return t("readwrite",n=>(n.delete(e),Hl(n.transaction)))}function aK(e=fg()){return e("readwrite",t=>(t.clear(),Hl(t.transaction)))}function cK(e,t){return e.openCursor().onsuccess=function(){this.result&&(t(this.result),this.result.continue())},Hl(e.transaction)}function lK(e=fg()){return e("readonly",t=>{if(t.getAllKeys)return Hl(t.getAllKeys());const n=[];return cK(t,r=>n.push(r.key)).then(()=>n)})}const uK=e=>JSON.stringify(e,(t,n)=>typeof n=="bigint"?n.toString()+"n":n),fK=e=>{const t=/([\[:])?(\d{17,}|(?:[9](?:[1-9]07199254740991|0[1-9]7199254740991|00[8-9]199254740991|007[2-9]99254740991|007199[3-9]54740991|0071992[6-9]4740991|00719925[5-9]740991|007199254[8-9]40991|0071992547[5-9]0991|00719925474[1-9]991|00719925474099[2-9])))([,\}\]])/g,n=e.replace(t,'$1"$2n"$3');return JSON.parse(n,(r,s)=>typeof s=="string"&&s.match(/^\d+n$/)?BigInt(s.substring(0,s.length-1)):s)};function $l(e){if(typeof e!="string")throw new Error(`Cannot safe json parse value of type ${typeof e}`);try{return fK(e)}catch{return e}}function Yo(e){return typeof e=="string"?e:uK(e)||""}const hK="idb-keyval";var dK=(e={})=>{const t=e.base&&e.base.length>0?`${e.base}:`:"",n=s=>t+s;let r;return e.dbName&&e.storeName&&(r=SM(e.dbName,e.storeName)),{name:hK,options:e,async hasItem(s){return!(typeof await P_(n(s),r)>"u")},async getItem(s){return await P_(n(s),r)??null},setItem(s,o){return iK(n(s),o,r)},removeItem(s){return oK(n(s),r)},getKeys(){return lK(r)},clear(){return aK(r)}}};const pK="WALLET_CONNECT_V2_INDEXED_DB",gK="keyvaluestorage";let mK=class{constructor(){this.indexedDb=sK({driver:dK({dbName:pK,storeName:gK})})}async getKeys(){return this.indexedDb.getKeys()}async getEntries(){return(await this.indexedDb.getItems(await this.indexedDb.getKeys())).map(t=>[t.key,t.value])}async getItem(t){const n=await this.indexedDb.getItem(t);if(n!==null)return n}async setItem(t,n){await this.indexedDb.setItem(t,Yo(n))}async removeItem(t){await this.indexedDb.removeItem(t)}};var lv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},L0={exports:{}};(function(){let e;function t(){}e=t,e.prototype.getItem=function(n){return this.hasOwnProperty(n)?String(this[n]):null},e.prototype.setItem=function(n,r){this[n]=String(r)},e.prototype.removeItem=function(n){delete this[n]},e.prototype.clear=function(){const n=this;Object.keys(n).forEach(function(r){n[r]=void 0,delete n[r]})},e.prototype.key=function(n){return n=n||0,Object.keys(this)[n]},e.prototype.__defineGetter__("length",function(){return Object.keys(this).length}),typeof lv<"u"&&lv.localStorage?L0.exports=lv.localStorage:typeof window<"u"&&window.localStorage?L0.exports=window.localStorage:L0.exports=new t})();function yK(e){var t;return[e[0],$l((t=e[1])!=null?t:"")]}let wK=class{constructor(){this.localStorage=L0.exports}async getKeys(){return Object.keys(this.localStorage)}async getEntries(){return Object.entries(this.localStorage).map(yK)}async getItem(t){const n=this.localStorage.getItem(t);if(n!==null)return $l(n)}async setItem(t,n){this.localStorage.setItem(t,Yo(n))}async removeItem(t){this.localStorage.removeItem(t)}};const bK="wc_storage_version",B_=1,vK=async(e,t,n)=>{const r=bK,s=await t.getItem(r);if(s&&s>=B_){n(t);return}const o=await e.getKeys();if(!o.length){n(t);return}const c=[];for(;o.length;){const l=o.shift();if(!l)continue;const f=l.toLowerCase();if(f.includes("wc@")||f.includes("walletconnect")||f.includes("wc_")||f.includes("wallet_connect")){const d=await e.getItem(l);await t.setItem(l,d),c.push(l)}}await t.setItem(r,B_),n(t),EK(e,c)},EK=async(e,t)=>{t.length&&t.forEach(async n=>{await e.removeItem(n)})};let SK=class{constructor(){this.initialized=!1,this.setInitialized=n=>{this.storage=n,this.initialized=!0};const t=new wK;this.storage=t;try{const n=new mK;vK(t,n,this.setInitialized)}catch{this.initialized=!0}}async getKeys(){return await this.initialize(),this.storage.getKeys()}async getEntries(){return await this.initialize(),this.storage.getEntries()}async getItem(t){return await this.initialize(),this.storage.getItem(t)}async setItem(t,n){return await this.initialize(),this.storage.setItem(t,n)}async removeItem(t){return await this.initialize(),this.storage.removeItem(t)}async initialize(){this.initialized||await new Promise(t=>{const n=setInterval(()=>{this.initialized&&(clearInterval(n),t())},20)})}};var uv,L_;function AK(){if(L_)return uv;L_=1;function e(n){try{return JSON.stringify(n)}catch{return'"[Circular]"'}}uv=t;function t(n,r,s){var o=s&&s.stringify||e,c=1;if(typeof n=="object"&&n!==null){var l=r.length+c;if(l===1)return n;var f=new Array(l);f[0]=o(n);for(var d=1;d<l;d++)f[d]=o(r[d]);return f.join(" ")}if(typeof n!="string")return n;var p=r.length;if(p===0)return n;for(var g="",y=1-c,b=-1,v=n&&n.length||0,E=0;E<v;){if(n.charCodeAt(E)===37&&E+1<v){switch(b=b>-1?b:0,n.charCodeAt(E+1)){case 100:case 102:if(y>=p||r[y]==null)break;b<E&&(g+=n.slice(b,E)),g+=Number(r[y]),b=E+2,E++;break;case 105:if(y>=p||r[y]==null)break;b<E&&(g+=n.slice(b,E)),g+=Math.floor(Number(r[y])),b=E+2,E++;break;case 79:case 111:case 106:if(y>=p||r[y]===void 0)break;b<E&&(g+=n.slice(b,E));var S=typeof r[y];if(S==="string"){g+="'"+r[y]+"'",b=E+2,E++;break}if(S==="function"){g+=r[y].name||"<anonymous>",b=E+2,E++;break}g+=o(r[y]),b=E+2,E++;break;case 115:if(y>=p)break;b<E&&(g+=n.slice(b,E)),g+=String(r[y]),b=E+2,E++;break;case 37:b<E&&(g+=n.slice(b,E)),g+="%",b=E+2,E++,y--;break}++y}++E}return b===-1?n:(b<v&&(g+=n.slice(b)),g)}return uv}var fv,k_;function CK(){if(k_)return fv;k_=1;const e=AK();fv=s;const t=T().console||{},n={mapHttpRequest:v,mapHttpResponse:v,wrapRequestSerializer:E,wrapResponseSerializer:E,wrapErrorSerializer:E,req:v,res:v,err:y};function r(I,R){return Array.isArray(I)?I.filter(function(U){return U!=="!stdSerializers.err"}):I===!0?Object.keys(R):!1}function s(I){I=I||{},I.browser=I.browser||{};const R=I.browser.transmit;if(R&&typeof R.send!="function")throw Error("pino: transmit option must have a send function");const L=I.browser.write||t;I.browser.write&&(I.browser.asObject=!0);const U=I.serializers||{},D=r(I.browser.serialize,U);let B=I.browser.serialize;Array.isArray(I.browser.serialize)&&I.browser.serialize.indexOf("!stdSerializers.err")>-1&&(B=!1);const H=["error","fatal","warn","info","debug","trace"];typeof L=="function"&&(L.error=L.fatal=L.warn=L.info=L.debug=L.trace=L),I.enabled===!1&&(I.level="silent");const X=I.level||"info",Y=Object.create(L);Y.log||(Y.log=S),Object.defineProperty(Y,"levelVal",{get:_}),Object.defineProperty(Y,"level",{get:j,set:q});const M={transmit:R,serialize:D,asObject:I.browser.asObject,levels:H,timestamp:b(I)};Y.levels=s.levels,Y.level=X,Y.setMaxListeners=Y.getMaxListeners=Y.emit=Y.addListener=Y.on=Y.prependListener=Y.once=Y.prependOnceListener=Y.removeListener=Y.removeAllListeners=Y.listeners=Y.listenerCount=Y.eventNames=Y.write=Y.flush=S,Y.serializers=U,Y._serialize=D,Y._stdErrSerialize=B,Y.child=W,R&&(Y._logEvent=g());function _(){return this.level==="silent"?1/0:this.levels.values[this.level]}function j(){return this._level}function q(V){if(V!=="silent"&&!this.levels.values[V])throw Error("unknown level "+V);this._level=V,o(M,Y,"error","log"),o(M,Y,"fatal","error"),o(M,Y,"warn","error"),o(M,Y,"info","log"),o(M,Y,"debug","log"),o(M,Y,"trace","log")}function W(V,P){if(!V)throw new Error("missing bindings for child Pino");P=P||{},D&&V.serializers&&(P.serializers=V.serializers);const G=P.serializers;if(D&&G){var te=Object.assign({},U,G),se=I.browser.serialize===!0?Object.keys(te):D;delete V.serializers,f([V],se,te,this._stdErrSerialize)}function ue(pe){this._childLevel=(pe._childLevel|0)+1,this.error=d(pe,V,"error"),this.fatal=d(pe,V,"fatal"),this.warn=d(pe,V,"warn"),this.info=d(pe,V,"info"),this.debug=d(pe,V,"debug"),this.trace=d(pe,V,"trace"),te&&(this.serializers=te,this._serialize=se),R&&(this._logEvent=g([].concat(pe._logEvent.bindings,V)))}return ue.prototype=this,new ue(this)}return Y}s.levels={values:{fatal:60,error:50,warn:40,info:30,debug:20,trace:10},labels:{10:"trace",20:"debug",30:"info",40:"warn",50:"error",60:"fatal"}},s.stdSerializers=n,s.stdTimeFunctions=Object.assign({},{nullTime:C,epochTime:O,unixTime:x,isoTime:N});function o(I,R,L,U){const D=Object.getPrototypeOf(R);R[L]=R.levelVal>R.levels.values[L]?S:D[L]?D[L]:t[L]||t[U]||S,c(I,R,L)}function c(I,R,L){!I.transmit&&R[L]===S||(R[L]=(function(U){return function(){const B=I.timestamp(),H=new Array(arguments.length),X=Object.getPrototypeOf&&Object.getPrototypeOf(this)===t?t:this;for(var Y=0;Y<H.length;Y++)H[Y]=arguments[Y];if(I.serialize&&!I.asObject&&f(H,this._serialize,this.serializers,this._stdErrSerialize),I.asObject?U.call(X,l(this,L,H,B)):U.apply(X,H),I.transmit){const M=I.transmit.level||R.level,_=s.levels.values[M],j=s.levels.values[L];if(j<_)return;p(this,{ts:B,methodLevel:L,methodValue:j,transmitValue:s.levels.values[I.transmit.level||R.level],send:I.transmit.send,val:R.levelVal},H)}}})(R[L]))}function l(I,R,L,U){I._serialize&&f(L,I._serialize,I.serializers,I._stdErrSerialize);const D=L.slice();let B=D[0];const H={};U&&(H.time=U),H.level=s.levels.values[R];let X=(I._childLevel|0)+1;if(X<1&&(X=1),B!==null&&typeof B=="object"){for(;X--&&typeof D[0]=="object";)Object.assign(H,D.shift());B=D.length?e(D.shift(),D):void 0}else typeof B=="string"&&(B=e(D.shift(),D));return B!==void 0&&(H.msg=B),H}function f(I,R,L,U){for(const D in I)if(U&&I[D]instanceof Error)I[D]=s.stdSerializers.err(I[D]);else if(typeof I[D]=="object"&&!Array.isArray(I[D]))for(const B in I[D])R&&R.indexOf(B)>-1&&B in L&&(I[D][B]=L[B](I[D][B]))}function d(I,R,L){return function(){const U=new Array(1+arguments.length);U[0]=R;for(var D=1;D<U.length;D++)U[D]=arguments[D-1];return I[L].apply(this,U)}}function p(I,R,L){const U=R.send,D=R.ts,B=R.methodLevel,H=R.methodValue,X=R.val,Y=I._logEvent.bindings;f(L,I._serialize||Object.keys(I.serializers),I.serializers,I._stdErrSerialize===void 0?!0:I._stdErrSerialize),I._logEvent.ts=D,I._logEvent.messages=L.filter(function(M){return Y.indexOf(M)===-1}),I._logEvent.level.label=B,I._logEvent.level.value=H,U(B,I._logEvent,X),I._logEvent=g(Y)}function g(I){return{ts:0,messages:[],bindings:I||[],level:{label:"",value:0}}}function y(I){const R={type:I.constructor.name,msg:I.message,stack:I.stack};for(const L in I)R[L]===void 0&&(R[L]=I[L]);return R}function b(I){return typeof I.timestamp=="function"?I.timestamp:I.timestamp===!1?C:O}function v(){return{}}function E(I){return I}function S(){}function C(){return!1}function O(){return Date.now()}function x(){return Math.round(Date.now()/1e3)}function N(){return new Date(Date.now()).toISOString()}function T(){function I(R){return typeof R<"u"&&R}try{return typeof globalThis<"u"||Object.defineProperty(Object.prototype,"globalThis",{get:function(){return delete Object.prototype.globalThis,this.globalThis=this},configurable:!0}),globalThis}catch{return I(self)||I(window)||I(this)||{}}}return fv}var cf=CK();const hg=Yf(cf),xK={level:"info"},dg="custom_context",CA=1e3*1024;let NK=class{constructor(t){this.nodeValue=t,this.sizeInBytes=new TextEncoder().encode(this.nodeValue).length,this.next=null}get value(){return this.nodeValue}get size(){return this.sizeInBytes}},j_=class{constructor(t){this.head=null,this.tail=null,this.lengthInNodes=0,this.maxSizeInBytes=t,this.sizeInBytes=0}append(t){const n=new NK(t);if(n.size>this.maxSizeInBytes)throw new Error(`[LinkedList] Value too big to insert into list: ${t} with size ${n.size}`);for(;this.size+n.size>this.maxSizeInBytes;)this.shift();this.head?(this.tail&&(this.tail.next=n),this.tail=n):(this.head=n,this.tail=n),this.lengthInNodes++,this.sizeInBytes+=n.size}shift(){if(!this.head)return;const t=this.head;this.head=this.head.next,this.head||(this.tail=null),this.lengthInNodes--,this.sizeInBytes-=t.size}toArray(){const t=[];let n=this.head;for(;n!==null;)t.push(n.value),n=n.next;return t}get length(){return this.lengthInNodes}get size(){return this.sizeInBytes}toOrderedArray(){return Array.from(this)}[Symbol.iterator](){let t=this.head;return{next:()=>{if(!t)return{done:!0,value:null};const n=t.value;return t=t.next,{done:!1,value:n}}}}},AM=class{constructor(t,n=CA){this.level=t??"error",this.levelValue=cf.levels.values[this.level],this.MAX_LOG_SIZE_IN_BYTES=n,this.logs=new j_(this.MAX_LOG_SIZE_IN_BYTES)}forwardToConsole(t,n){n===cf.levels.values.error?console.error(t):n===cf.levels.values.warn?console.warn(t):n===cf.levels.values.debug?console.debug(t):n===cf.levels.values.trace?console.trace(t):console.log(t)}appendToLogs(t){this.logs.append(Yo({timestamp:new Date().toISOString(),log:t}));const n=typeof t=="string"?JSON.parse(t).level:t.level;n>=this.levelValue&&this.forwardToConsole(t,n)}getLogs(){return this.logs}clearLogs(){this.logs=new j_(this.MAX_LOG_SIZE_IN_BYTES)}getLogArray(){return Array.from(this.logs)}logsToBlob(t){const n=this.getLogArray();return n.push(Yo({extraMetadata:t})),new Blob(n,{type:"application/json"})}},TK=class{constructor(t,n=CA){this.baseChunkLogger=new AM(t,n)}write(t){this.baseChunkLogger.appendToLogs(t)}getLogs(){return this.baseChunkLogger.getLogs()}clearLogs(){this.baseChunkLogger.clearLogs()}getLogArray(){return this.baseChunkLogger.getLogArray()}logsToBlob(t){return this.baseChunkLogger.logsToBlob(t)}downloadLogsBlobInBrowser(t){const n=URL.createObjectURL(this.logsToBlob(t)),r=document.createElement("a");r.href=n,r.download=`walletconnect-logs-${new Date().toISOString()}.txt`,document.body.appendChild(r),r.click(),document.body.removeChild(r),URL.revokeObjectURL(n)}},_K=class{constructor(t,n=CA){this.baseChunkLogger=new AM(t,n)}write(t){this.baseChunkLogger.appendToLogs(t)}getLogs(){return this.baseChunkLogger.getLogs()}clearLogs(){this.baseChunkLogger.clearLogs()}getLogArray(){return this.baseChunkLogger.getLogArray()}logsToBlob(t){return this.baseChunkLogger.logsToBlob(t)}};var IK=Object.defineProperty,OK=Object.defineProperties,DK=Object.getOwnPropertyDescriptors,z_=Object.getOwnPropertySymbols,MK=Object.prototype.hasOwnProperty,$K=Object.prototype.propertyIsEnumerable,H_=(e,t,n)=>t in e?IK(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,dy=(e,t)=>{for(var n in t||(t={}))MK.call(t,n)&&H_(e,n,t[n]);if(z_)for(var n of z_(t))$K.call(t,n)&&H_(e,n,t[n]);return e},py=(e,t)=>OK(e,DK(t));function pg(e){return py(dy({},e),{level:e?.level||xK.level})}function UK(e,t=dg){return e[t]||""}function RK(e,t,n=dg){return e[n]=t,e}function Fr(e,t=dg){let n="";return typeof e.bindings>"u"?n=UK(e,t):n=e.bindings().context||"",n}function PK(e,t,n=dg){const r=Fr(e,n);return r.trim()?`${r}/${t}`:t}function br(e,t,n=dg){const r=PK(e,t,n),s=e.child({context:r});return RK(s,r,n)}function BK(e){var t,n;const r=new TK((t=e.opts)==null?void 0:t.level,e.maxSizeInBytes);return{logger:hg(py(dy({},e.opts),{level:"trace",browser:py(dy({},(n=e.opts)==null?void 0:n.browser),{write:s=>r.write(s)})})),chunkLoggerController:r}}function LK(e){var t;const n=new _K((t=e.opts)==null?void 0:t.level,e.maxSizeInBytes);return{logger:hg(py(dy({},e.opts),{level:"trace"}),n),chunkLoggerController:n}}function CM(e){return typeof e.loggerOverride<"u"&&typeof e.loggerOverride!="string"?{logger:e.loggerOverride,chunkLoggerController:null}:typeof window<"u"?BK(e):LK(e)}var kK=Object.defineProperty,jK=(e,t,n)=>t in e?kK(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,F_=(e,t,n)=>jK(e,typeof t!="symbol"?t+"":t,n);let zK=class extends jl{constructor(t){super(),this.opts=t,F_(this,"protocol","wc"),F_(this,"version",2)}};var HK=Object.defineProperty,FK=(e,t,n)=>t in e?HK(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,qK=(e,t,n)=>FK(e,t+"",n);let VK=class extends jl{constructor(t,n){super(),this.core=t,this.logger=n,qK(this,"records",new Map)}},WK=class{constructor(t,n){this.logger=t,this.core=n}},KK=class extends jl{constructor(t,n){super(),this.relayer=t,this.logger=n}},GK=class extends jl{constructor(t){super()}},YK=class{constructor(t,n,r,s){this.core=t,this.logger=n,this.name=r}},XK=class extends jl{constructor(t,n){super(),this.relayer=t,this.logger=n}},ZK=class extends jl{constructor(t,n){super(),this.core=t,this.logger=n}},QK=class{constructor(t,n,r){this.core=t,this.logger=n,this.store=r}},JK=class{constructor(t,n){this.projectId=t,this.logger=n}},eG=class{constructor(t,n,r){this.core=t,this.logger=n,this.telemetryEnabled=r}};var tG=Object.defineProperty,nG=(e,t,n)=>t in e?tG(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,q_=(e,t,n)=>nG(e,typeof t!="symbol"?t+"":t,n);let rG=class{constructor(t){this.opts=t,q_(this,"protocol","wc"),q_(this,"version",2)}},sG=class{constructor(t){this.client=t}};function iG(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function xM(e,...t){if(!iG(e))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw new Error("Uint8Array expected of length "+t+", got length="+e.length)}function V_(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function oG(e,t){xM(e);const n=t.outputLen;if(e.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}const zu=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const hv=e=>new DataView(e.buffer,e.byteOffset,e.byteLength);function aG(e){if(typeof e!="string")throw new Error("utf8ToBytes expected string, got "+typeof e);return new Uint8Array(new TextEncoder().encode(e))}function NM(e){return typeof e=="string"&&(e=aG(e)),xM(e),e}let cG=class{clone(){return this._cloneInto()}};function lG(e){const t=r=>e().update(NM(r)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t}function TM(e=32){if(zu&&typeof zu.getRandomValues=="function")return zu.getRandomValues(new Uint8Array(e));if(zu&&typeof zu.randomBytes=="function")return zu.randomBytes(e);throw new Error("crypto.getRandomValues must be defined")}function uG(e,t,n,r){if(typeof e.setBigUint64=="function")return e.setBigUint64(t,n,r);const s=BigInt(32),o=BigInt(4294967295),c=Number(n>>s&o),l=Number(n&o),f=r?4:0,d=r?0:4;e.setUint32(t+f,c,r),e.setUint32(t+d,l,r)}let fG=class extends cG{constructor(t,n,r,s){super(),this.blockLen=t,this.outputLen=n,this.padOffset=r,this.isLE=s,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(t),this.view=hv(this.buffer)}update(t){V_(this);const{view:n,buffer:r,blockLen:s}=this;t=NM(t);const o=t.length;for(let c=0;c<o;){const l=Math.min(s-this.pos,o-c);if(l===s){const f=hv(t);for(;s<=o-c;c+=s)this.process(f,c);continue}r.set(t.subarray(c,c+l),this.pos),this.pos+=l,c+=l,this.pos===s&&(this.process(n,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){V_(this),oG(t,this),this.finished=!0;const{buffer:n,view:r,blockLen:s,isLE:o}=this;let{pos:c}=this;n[c++]=128,this.buffer.subarray(c).fill(0),this.padOffset>s-c&&(this.process(r,0),c=0);for(let g=c;g<s;g++)n[g]=0;uG(r,s-8,BigInt(this.length*8),o),this.process(r,0);const l=hv(t),f=this.outputLen;if(f%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const d=f/4,p=this.get();if(d>p.length)throw new Error("_sha2: outputLen bigger than state");for(let g=0;g<d;g++)l.setUint32(4*g,p[g],o)}digest(){const{buffer:t,outputLen:n}=this;this.digestInto(t);const r=t.slice(0,n);return this.destroy(),r}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:n,buffer:r,length:s,finished:o,destroyed:c,pos:l}=this;return t.length=s,t.pos=l,t.finished=o,t.destroyed=c,s%n&&t.buffer.set(r),t}};const i0=BigInt(2**32-1),aE=BigInt(32);function _M(e,t=!1){return t?{h:Number(e&i0),l:Number(e>>aE&i0)}:{h:Number(e>>aE&i0)|0,l:Number(e&i0)|0}}function hG(e,t=!1){let n=new Uint32Array(e.length),r=new Uint32Array(e.length);for(let s=0;s<e.length;s++){const{h:o,l:c}=_M(e[s],t);[n[s],r[s]]=[o,c]}return[n,r]}const dG=(e,t)=>BigInt(e>>>0)<<aE|BigInt(t>>>0),pG=(e,t,n)=>e>>>n,gG=(e,t,n)=>e<<32-n|t>>>n,mG=(e,t,n)=>e>>>n|t<<32-n,yG=(e,t,n)=>e<<32-n|t>>>n,wG=(e,t,n)=>e<<64-n|t>>>n-32,bG=(e,t,n)=>e>>>n-32|t<<64-n,vG=(e,t)=>t,EG=(e,t)=>e,SG=(e,t,n)=>e<<n|t>>>32-n,AG=(e,t,n)=>t<<n|e>>>32-n,CG=(e,t,n)=>t<<n-32|e>>>64-n,xG=(e,t,n)=>e<<n-32|t>>>64-n;function NG(e,t,n,r){const s=(t>>>0)+(r>>>0);return{h:e+n+(s/2**32|0)|0,l:s|0}}const TG=(e,t,n)=>(e>>>0)+(t>>>0)+(n>>>0),_G=(e,t,n,r)=>t+n+r+(e/2**32|0)|0,IG=(e,t,n,r)=>(e>>>0)+(t>>>0)+(n>>>0)+(r>>>0),OG=(e,t,n,r,s)=>t+n+r+s+(e/2**32|0)|0,DG=(e,t,n,r,s)=>(e>>>0)+(t>>>0)+(n>>>0)+(r>>>0)+(s>>>0),MG=(e,t,n,r,s,o)=>t+n+r+s+o+(e/2**32|0)|0,Ye={fromBig:_M,split:hG,toBig:dG,shrSH:pG,shrSL:gG,rotrSH:mG,rotrSL:yG,rotrBH:wG,rotrBL:bG,rotr32H:vG,rotr32L:EG,rotlSH:SG,rotlSL:AG,rotlBH:CG,rotlBL:xG,add:NG,add3L:TG,add3H:_G,add4L:IG,add4H:OG,add5H:MG,add5L:DG},[$G,UG]=Ye.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(e=>BigInt(e))),Ra=new Uint32Array(80),Pa=new Uint32Array(80);let RG=class extends fG{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:t,Al:n,Bh:r,Bl:s,Ch:o,Cl:c,Dh:l,Dl:f,Eh:d,El:p,Fh:g,Fl:y,Gh:b,Gl:v,Hh:E,Hl:S}=this;return[t,n,r,s,o,c,l,f,d,p,g,y,b,v,E,S]}set(t,n,r,s,o,c,l,f,d,p,g,y,b,v,E,S){this.Ah=t|0,this.Al=n|0,this.Bh=r|0,this.Bl=s|0,this.Ch=o|0,this.Cl=c|0,this.Dh=l|0,this.Dl=f|0,this.Eh=d|0,this.El=p|0,this.Fh=g|0,this.Fl=y|0,this.Gh=b|0,this.Gl=v|0,this.Hh=E|0,this.Hl=S|0}process(t,n){for(let x=0;x<16;x++,n+=4)Ra[x]=t.getUint32(n),Pa[x]=t.getUint32(n+=4);for(let x=16;x<80;x++){const N=Ra[x-15]|0,T=Pa[x-15]|0,I=Ye.rotrSH(N,T,1)^Ye.rotrSH(N,T,8)^Ye.shrSH(N,T,7),R=Ye.rotrSL(N,T,1)^Ye.rotrSL(N,T,8)^Ye.shrSL(N,T,7),L=Ra[x-2]|0,U=Pa[x-2]|0,D=Ye.rotrSH(L,U,19)^Ye.rotrBH(L,U,61)^Ye.shrSH(L,U,6),B=Ye.rotrSL(L,U,19)^Ye.rotrBL(L,U,61)^Ye.shrSL(L,U,6),H=Ye.add4L(R,B,Pa[x-7],Pa[x-16]),X=Ye.add4H(H,I,D,Ra[x-7],Ra[x-16]);Ra[x]=X|0,Pa[x]=H|0}let{Ah:r,Al:s,Bh:o,Bl:c,Ch:l,Cl:f,Dh:d,Dl:p,Eh:g,El:y,Fh:b,Fl:v,Gh:E,Gl:S,Hh:C,Hl:O}=this;for(let x=0;x<80;x++){const N=Ye.rotrSH(g,y,14)^Ye.rotrSH(g,y,18)^Ye.rotrBH(g,y,41),T=Ye.rotrSL(g,y,14)^Ye.rotrSL(g,y,18)^Ye.rotrBL(g,y,41),I=g&b^~g&E,R=y&v^~y&S,L=Ye.add5L(O,T,R,UG[x],Pa[x]),U=Ye.add5H(L,C,N,I,$G[x],Ra[x]),D=L|0,B=Ye.rotrSH(r,s,28)^Ye.rotrBH(r,s,34)^Ye.rotrBH(r,s,39),H=Ye.rotrSL(r,s,28)^Ye.rotrBL(r,s,34)^Ye.rotrBL(r,s,39),X=r&o^r&l^o&l,Y=s&c^s&f^c&f;C=E|0,O=S|0,E=b|0,S=v|0,b=g|0,v=y|0,{h:g,l:y}=Ye.add(d|0,p|0,U|0,D|0),d=l|0,p=f|0,l=o|0,f=c|0,o=r|0,c=s|0;const M=Ye.add3L(D,H,Y);r=Ye.add3H(M,U,B,X),s=M|0}({h:r,l:s}=Ye.add(this.Ah|0,this.Al|0,r|0,s|0)),{h:o,l:c}=Ye.add(this.Bh|0,this.Bl|0,o|0,c|0),{h:l,l:f}=Ye.add(this.Ch|0,this.Cl|0,l|0,f|0),{h:d,l:p}=Ye.add(this.Dh|0,this.Dl|0,d|0,p|0),{h:g,l:y}=Ye.add(this.Eh|0,this.El|0,g|0,y|0),{h:b,l:v}=Ye.add(this.Fh|0,this.Fl|0,b|0,v|0),{h:E,l:S}=Ye.add(this.Gh|0,this.Gl|0,E|0,S|0),{h:C,l:O}=Ye.add(this.Hh|0,this.Hl|0,C|0,O|0),this.set(r,s,o,c,l,f,d,p,g,y,b,v,E,S,C,O)}roundClean(){Ra.fill(0),Pa.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}};const PG=lG(()=>new RG);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const xA=BigInt(0),IM=BigInt(1),BG=BigInt(2);function NA(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function TA(e){if(!NA(e))throw new Error("Uint8Array expected")}function dv(e,t){if(typeof t!="boolean")throw new Error(e+" boolean expected, got "+t)}const LG=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function _A(e){TA(e);let t="";for(let n=0;n<e.length;n++)t+=LG[e[n]];return t}function OM(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);return e===""?xA:BigInt("0x"+e)}const Io={_0:48,_9:57,A:65,F:70,a:97,f:102};function W_(e){if(e>=Io._0&&e<=Io._9)return e-Io._0;if(e>=Io.A&&e<=Io.F)return e-(Io.A-10);if(e>=Io.a&&e<=Io.f)return e-(Io.a-10)}function DM(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);const t=e.length,n=t/2;if(t%2)throw new Error("hex string expected, got unpadded hex of length "+t);const r=new Uint8Array(n);for(let s=0,o=0;s<n;s++,o+=2){const c=W_(e.charCodeAt(o)),l=W_(e.charCodeAt(o+1));if(c===void 0||l===void 0){const f=e[o]+e[o+1];throw new Error('hex string expected, got non-hex character "'+f+'" at index '+o)}r[s]=c*16+l}return r}function kG(e){return OM(_A(e))}function k0(e){return TA(e),OM(_A(Uint8Array.from(e).reverse()))}function MM(e,t){return DM(e.toString(16).padStart(t*2,"0"))}function cE(e,t){return MM(e,t).reverse()}function Oo(e,t,n){let r;if(typeof t=="string")try{r=DM(t)}catch(o){throw new Error(e+" must be hex string or Uint8Array, cause: "+o)}else if(NA(t))r=Uint8Array.from(t);else throw new Error(e+" must be hex string or Uint8Array");const s=r.length;if(typeof n=="number"&&s!==n)throw new Error(e+" of length "+n+" expected, got "+s);return r}function K_(...e){let t=0;for(let r=0;r<e.length;r++){const s=e[r];TA(s),t+=s.length}const n=new Uint8Array(t);for(let r=0,s=0;r<e.length;r++){const o=e[r];n.set(o,s),s+=o.length}return n}const pv=e=>typeof e=="bigint"&&xA<=e;function jG(e,t,n){return pv(e)&&pv(t)&&pv(n)&&t<=e&&e<n}function wd(e,t,n,r){if(!jG(t,n,r))throw new Error("expected valid "+e+": "+n+" <= n < "+r+", got "+t)}function zG(e){let t;for(t=0;e>xA;e>>=IM,t+=1);return t}const HG=e=>(BG<<BigInt(e-1))-IM,FG={bigint:e=>typeof e=="bigint",function:e=>typeof e=="function",boolean:e=>typeof e=="boolean",string:e=>typeof e=="string",stringOrUint8Array:e=>typeof e=="string"||NA(e),isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>typeof e=="function"&&Number.isSafeInteger(e.outputLen)};function IA(e,t,n={}){const r=(s,o,c)=>{const l=FG[o];if(typeof l!="function")throw new Error("invalid validator function");const f=e[s];if(!(c&&f===void 0)&&!l(f,e))throw new Error("param "+String(s)+" is invalid. Expected "+o+", got "+f)};for(const[s,o]of Object.entries(t))r(s,o,!1);for(const[s,o]of Object.entries(n))r(s,o,!0);return e}function G_(e){const t=new WeakMap;return(n,...r)=>{const s=t.get(n);if(s!==void 0)return s;const o=e(n,...r);return t.set(n,o),o}}const Un=BigInt(0),ln=BigInt(1),cl=BigInt(2),qG=BigInt(3),lE=BigInt(4),Y_=BigInt(5),X_=BigInt(8);function Tn(e,t){const n=e%t;return n>=Un?n:t+n}function VG(e,t,n){if(t<Un)throw new Error("invalid exponent, negatives unsupported");if(n<=Un)throw new Error("invalid modulus");if(n===ln)return Un;let r=ln;for(;t>Un;)t&ln&&(r=r*e%n),e=e*e%n,t>>=ln;return r}function $i(e,t,n){let r=e;for(;t-- >Un;)r*=r,r%=n;return r}function Z_(e,t){if(e===Un)throw new Error("invert: expected non-zero number");if(t<=Un)throw new Error("invert: expected positive modulus, got "+t);let n=Tn(e,t),r=t,s=Un,o=ln;for(;n!==Un;){const c=r/n,l=r%n,f=s-o*c;r=n,n=l,s=o,o=f}if(r!==ln)throw new Error("invert: does not exist");return Tn(s,t)}function WG(e){const t=(e-ln)/cl;let n,r,s;for(n=e-ln,r=0;n%cl===Un;n/=cl,r++);for(s=cl;s<e&&VG(s,t,e)!==e-ln;s++)if(s>1e3)throw new Error("Cannot find square root: likely non-prime P");if(r===1){const c=(e+ln)/lE;return function(l,f){const d=l.pow(f,c);if(!l.eql(l.sqr(d),f))throw new Error("Cannot find square root");return d}}const o=(n+ln)/cl;return function(c,l){if(c.pow(l,t)===c.neg(c.ONE))throw new Error("Cannot find square root");let f=r,d=c.pow(c.mul(c.ONE,s),n),p=c.pow(l,o),g=c.pow(l,n);for(;!c.eql(g,c.ONE);){if(c.eql(g,c.ZERO))return c.ZERO;let y=1;for(let v=c.sqr(g);y<f&&!c.eql(v,c.ONE);y++)v=c.sqr(v);const b=c.pow(d,ln<<BigInt(f-y-1));d=c.sqr(b),p=c.mul(p,b),g=c.mul(g,d),f=y}return p}}function KG(e){if(e%lE===qG){const t=(e+ln)/lE;return function(n,r){const s=n.pow(r,t);if(!n.eql(n.sqr(s),r))throw new Error("Cannot find square root");return s}}if(e%X_===Y_){const t=(e-Y_)/X_;return function(n,r){const s=n.mul(r,cl),o=n.pow(s,t),c=n.mul(r,o),l=n.mul(n.mul(c,cl),o),f=n.mul(c,n.sub(l,n.ONE));if(!n.eql(n.sqr(f),r))throw new Error("Cannot find square root");return f}}return WG(e)}const GG=(e,t)=>(Tn(e,t)&ln)===ln,YG=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function XG(e){const t={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},n=YG.reduce((r,s)=>(r[s]="function",r),t);return IA(e,n)}function ZG(e,t,n){if(n<Un)throw new Error("invalid exponent, negatives unsupported");if(n===Un)return e.ONE;if(n===ln)return t;let r=e.ONE,s=t;for(;n>Un;)n&ln&&(r=e.mul(r,s)),s=e.sqr(s),n>>=ln;return r}function QG(e,t){const n=new Array(t.length),r=t.reduce((o,c,l)=>e.is0(c)?o:(n[l]=o,e.mul(o,c)),e.ONE),s=e.inv(r);return t.reduceRight((o,c,l)=>e.is0(c)?o:(n[l]=e.mul(o,n[l]),e.mul(o,c)),s),n}function $M(e,t){const n=t!==void 0?t:e.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function UM(e,t,n=!1,r={}){if(e<=Un)throw new Error("invalid field: expected ORDER > 0, got "+e);const{nBitLength:s,nByteLength:o}=$M(e,t);if(o>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let c;const l=Object.freeze({ORDER:e,isLE:n,BITS:s,BYTES:o,MASK:HG(s),ZERO:Un,ONE:ln,create:f=>Tn(f,e),isValid:f=>{if(typeof f!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof f);return Un<=f&&f<e},is0:f=>f===Un,isOdd:f=>(f&ln)===ln,neg:f=>Tn(-f,e),eql:(f,d)=>f===d,sqr:f=>Tn(f*f,e),add:(f,d)=>Tn(f+d,e),sub:(f,d)=>Tn(f-d,e),mul:(f,d)=>Tn(f*d,e),pow:(f,d)=>ZG(l,f,d),div:(f,d)=>Tn(f*Z_(d,e),e),sqrN:f=>f*f,addN:(f,d)=>f+d,subN:(f,d)=>f-d,mulN:(f,d)=>f*d,inv:f=>Z_(f,e),sqrt:r.sqrt||(f=>(c||(c=KG(e)),c(l,f))),invertBatch:f=>QG(l,f),cmov:(f,d,p)=>p?d:f,toBytes:f=>n?cE(f,o):MM(f,o),fromBytes:f=>{if(f.length!==o)throw new Error("Field.fromBytes: expected "+o+" bytes, got "+f.length);return n?k0(f):kG(f)}});return Object.freeze(l)}const Q_=BigInt(0),o0=BigInt(1);function gv(e,t){const n=t.negate();return e?n:t}function RM(e,t){if(!Number.isSafeInteger(e)||e<=0||e>t)throw new Error("invalid window size, expected [1.."+t+"], got W="+e)}function mv(e,t){RM(e,t);const n=Math.ceil(t/e)+1,r=2**(e-1);return{windows:n,windowSize:r}}function JG(e,t){if(!Array.isArray(e))throw new Error("array expected");e.forEach((n,r)=>{if(!(n instanceof t))throw new Error("invalid point at index "+r)})}function eY(e,t){if(!Array.isArray(e))throw new Error("array of scalars expected");e.forEach((n,r)=>{if(!t.isValid(n))throw new Error("invalid scalar at index "+r)})}const yv=new WeakMap,PM=new WeakMap;function wv(e){return PM.get(e)||1}function tY(e,t){return{constTimeNegate:gv,hasPrecomputes(n){return wv(n)!==1},unsafeLadder(n,r,s=e.ZERO){let o=n;for(;r>Q_;)r&o0&&(s=s.add(o)),o=o.double(),r>>=o0;return s},precomputeWindow(n,r){const{windows:s,windowSize:o}=mv(r,t),c=[];let l=n,f=l;for(let d=0;d<s;d++){f=l,c.push(f);for(let p=1;p<o;p++)f=f.add(l),c.push(f);l=f.double()}return c},wNAF(n,r,s){const{windows:o,windowSize:c}=mv(n,t);let l=e.ZERO,f=e.BASE;const d=BigInt(2**n-1),p=2**n,g=BigInt(n);for(let y=0;y<o;y++){const b=y*c;let v=Number(s&d);s>>=g,v>c&&(v-=p,s+=o0);const E=b,S=b+Math.abs(v)-1,C=y%2!==0,O=v<0;v===0?f=f.add(gv(C,r[E])):l=l.add(gv(O,r[S]))}return{p:l,f}},wNAFUnsafe(n,r,s,o=e.ZERO){const{windows:c,windowSize:l}=mv(n,t),f=BigInt(2**n-1),d=2**n,p=BigInt(n);for(let g=0;g<c;g++){const y=g*l;if(s===Q_)break;let b=Number(s&f);if(s>>=p,b>l&&(b-=d,s+=o0),b===0)continue;let v=r[y+Math.abs(b)-1];b<0&&(v=v.negate()),o=o.add(v)}return o},getPrecomputes(n,r,s){let o=yv.get(r);return o||(o=this.precomputeWindow(r,n),n!==1&&yv.set(r,s(o))),o},wNAFCached(n,r,s){const o=wv(n);return this.wNAF(o,this.getPrecomputes(o,n,s),r)},wNAFCachedUnsafe(n,r,s,o){const c=wv(n);return c===1?this.unsafeLadder(n,r,o):this.wNAFUnsafe(c,this.getPrecomputes(c,n,s),r,o)},setWindowSize(n,r){RM(r,t),PM.set(n,r),yv.delete(n)}}}function nY(e,t,n,r){if(JG(n,e),eY(r,t),n.length!==r.length)throw new Error("arrays of points and scalars must have equal length");const s=e.ZERO,o=zG(BigInt(n.length)),c=o>12?o-3:o>4?o-2:o?2:1,l=(1<<c)-1,f=new Array(l+1).fill(s),d=Math.floor((t.BITS-1)/c)*c;let p=s;for(let g=d;g>=0;g-=c){f.fill(s);for(let b=0;b<r.length;b++){const v=r[b],E=Number(v>>BigInt(g)&BigInt(l));f[E]=f[E].add(n[b])}let y=s;for(let b=f.length-1,v=s;b>0;b--)v=v.add(f[b]),y=y.add(v);if(p=p.add(y),g!==0)for(let b=0;b<c;b++)p=p.double()}return p}function rY(e){return XG(e.Fp),IA(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...$M(e.n,e.nBitLength),...e,p:e.Fp.ORDER})}const ni=BigInt(0),Tr=BigInt(1),a0=BigInt(2),sY=BigInt(8),iY={zip215:!0};function oY(e){const t=rY(e);return IA(e,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...t})}function aY(e){const t=oY(e),{Fp:n,n:r,prehash:s,hash:o,randomBytes:c,nByteLength:l,h:f}=t,d=a0<<BigInt(l*8)-Tr,p=n.create,g=UM(t.n,t.nBitLength),y=t.uvRatio||((M,_)=>{try{return{isValid:!0,value:n.sqrt(M*n.inv(_))}}catch{return{isValid:!1,value:ni}}}),b=t.adjustScalarBytes||(M=>M),v=t.domain||((M,_,j)=>{if(dv("phflag",j),_.length||j)throw new Error("Contexts/pre-hash are not supported");return M});function E(M,_){wd("coordinate "+M,_,ni,d)}function S(M){if(!(M instanceof x))throw new Error("ExtendedPoint expected")}const C=G_((M,_)=>{const{ex:j,ey:q,ez:W}=M,V=M.is0();_==null&&(_=V?sY:n.inv(W));const P=p(j*_),G=p(q*_),te=p(W*_);if(V)return{x:ni,y:Tr};if(te!==Tr)throw new Error("invZ was invalid");return{x:P,y:G}}),O=G_(M=>{const{a:_,d:j}=t;if(M.is0())throw new Error("bad point: ZERO");const{ex:q,ey:W,ez:V,et:P}=M,G=p(q*q),te=p(W*W),se=p(V*V),ue=p(se*se),pe=p(G*_),Te=p(se*p(pe+te)),ke=p(ue+p(j*p(G*te)));if(Te!==ke)throw new Error("bad point: equation left != right (1)");const Ie=p(q*W),Et=p(V*P);if(Ie!==Et)throw new Error("bad point: equation left != right (2)");return!0});class x{constructor(_,j,q,W){this.ex=_,this.ey=j,this.ez=q,this.et=W,E("x",_),E("y",j),E("z",q),E("t",W),Object.freeze(this)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(_){if(_ instanceof x)throw new Error("extended point not allowed");const{x:j,y:q}=_||{};return E("x",j),E("y",q),new x(j,q,Tr,p(j*q))}static normalizeZ(_){const j=n.invertBatch(_.map(q=>q.ez));return _.map((q,W)=>q.toAffine(j[W])).map(x.fromAffine)}static msm(_,j){return nY(x,g,_,j)}_setWindowSize(_){I.setWindowSize(this,_)}assertValidity(){O(this)}equals(_){S(_);const{ex:j,ey:q,ez:W}=this,{ex:V,ey:P,ez:G}=_,te=p(j*G),se=p(V*W),ue=p(q*G),pe=p(P*W);return te===se&&ue===pe}is0(){return this.equals(x.ZERO)}negate(){return new x(p(-this.ex),this.ey,this.ez,p(-this.et))}double(){const{a:_}=t,{ex:j,ey:q,ez:W}=this,V=p(j*j),P=p(q*q),G=p(a0*p(W*W)),te=p(_*V),se=j+q,ue=p(p(se*se)-V-P),pe=te+P,Te=pe-G,ke=te-P,Ie=p(ue*Te),Et=p(pe*ke),jt=p(ue*ke),Vr=p(Te*pe);return new x(Ie,Et,Vr,jt)}add(_){S(_);const{a:j,d:q}=t,{ex:W,ey:V,ez:P,et:G}=this,{ex:te,ey:se,ez:ue,et:pe}=_;if(j===BigInt(-1)){const Jo=p((V-W)*(se+te)),Gs=p((V+W)*(se-te)),Ys=p(Gs-Jo);if(Ys===ni)return this.double();const wc=p(P*a0*pe),bc=p(G*a0*ue),zt=bc+wc,io=Gs+Jo,vc=bc-wc,Ec=p(zt*Ys),oo=p(io*vc),Xl=p(zt*vc),Zl=p(Ys*io);return new x(Ec,oo,Zl,Xl)}const Te=p(W*te),ke=p(V*se),Ie=p(G*q*pe),Et=p(P*ue),jt=p((W+V)*(te+se)-Te-ke),Vr=Et-Ie,ro=Et+Ie,Rn=p(ke-j*Te),bi=p(jt*Vr),so=p(ro*Rn),Gl=p(jt*Rn),Yl=p(Vr*ro);return new x(bi,so,Yl,Gl)}subtract(_){return this.add(_.negate())}wNAF(_){return I.wNAFCached(this,_,x.normalizeZ)}multiply(_){const j=_;wd("scalar",j,Tr,r);const{p:q,f:W}=this.wNAF(j);return x.normalizeZ([q,W])[0]}multiplyUnsafe(_,j=x.ZERO){const q=_;return wd("scalar",q,ni,r),q===ni?T:this.is0()||q===Tr?this:I.wNAFCachedUnsafe(this,q,x.normalizeZ,j)}isSmallOrder(){return this.multiplyUnsafe(f).is0()}isTorsionFree(){return I.unsafeLadder(this,r).is0()}toAffine(_){return C(this,_)}clearCofactor(){const{h:_}=t;return _===Tr?this:this.multiplyUnsafe(_)}static fromHex(_,j=!1){const{d:q,a:W}=t,V=n.BYTES;_=Oo("pointHex",_,V),dv("zip215",j);const P=_.slice(),G=_[V-1];P[V-1]=G&-129;const te=k0(P),se=j?d:n.ORDER;wd("pointHex.y",te,ni,se);const ue=p(te*te),pe=p(ue-Tr),Te=p(q*ue-W);let{isValid:ke,value:Ie}=y(pe,Te);if(!ke)throw new Error("Point.fromHex: invalid y coordinate");const Et=(Ie&Tr)===Tr,jt=(G&128)!==0;if(!j&&Ie===ni&&jt)throw new Error("Point.fromHex: x=0 and x_0=1");return jt!==Et&&(Ie=p(-Ie)),x.fromAffine({x:Ie,y:te})}static fromPrivateKey(_){return U(_).point}toRawBytes(){const{x:_,y:j}=this.toAffine(),q=cE(j,n.BYTES);return q[q.length-1]|=_&Tr?128:0,q}toHex(){return _A(this.toRawBytes())}}x.BASE=new x(t.Gx,t.Gy,Tr,p(t.Gx*t.Gy)),x.ZERO=new x(ni,Tr,Tr,ni);const{BASE:N,ZERO:T}=x,I=tY(x,l*8);function R(M){return Tn(M,r)}function L(M){return R(k0(M))}function U(M){const _=n.BYTES;M=Oo("private key",M,_);const j=Oo("hashed private key",o(M),2*_),q=b(j.slice(0,_)),W=j.slice(_,2*_),V=L(q),P=N.multiply(V),G=P.toRawBytes();return{head:q,prefix:W,scalar:V,point:P,pointBytes:G}}function D(M){return U(M).pointBytes}function B(M=new Uint8Array,..._){const j=K_(..._);return L(o(v(j,Oo("context",M),!!s)))}function H(M,_,j={}){M=Oo("message",M),s&&(M=s(M));const{prefix:q,scalar:W,pointBytes:V}=U(_),P=B(j.context,q,M),G=N.multiply(P).toRawBytes(),te=B(j.context,G,V,M),se=R(P+te*W);wd("signature.s",se,ni,r);const ue=K_(G,cE(se,n.BYTES));return Oo("result",ue,n.BYTES*2)}const X=iY;function Y(M,_,j,q=X){const{context:W,zip215:V}=q,P=n.BYTES;M=Oo("signature",M,2*P),_=Oo("message",_),j=Oo("publicKey",j,P),V!==void 0&&dv("zip215",V),s&&(_=s(_));const G=k0(M.slice(P,2*P));let te,se,ue;try{te=x.fromHex(j,V),se=x.fromHex(M.slice(0,P),V),ue=N.multiplyUnsafe(G)}catch{return!1}if(!V&&te.isSmallOrder())return!1;const pe=B(W,se.toRawBytes(),te.toRawBytes(),_);return se.add(te.multiplyUnsafe(pe)).subtract(ue).clearCofactor().equals(x.ZERO)}return N._setWindowSize(8),{CURVE:t,getPublicKey:D,sign:H,verify:Y,ExtendedPoint:x,utils:{getExtendedPublicKey:U,randomPrivateKey:()=>c(n.BYTES),precompute(M=8,_=x.BASE){return _._setWindowSize(M),_.multiply(BigInt(3)),_}}}}BigInt(0),BigInt(1);const OA=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),J_=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");BigInt(0);const cY=BigInt(1),eI=BigInt(2);BigInt(3);const lY=BigInt(5),uY=BigInt(8);function fY(e){const t=BigInt(10),n=BigInt(20),r=BigInt(40),s=BigInt(80),o=OA,c=e*e%o*e%o,l=$i(c,eI,o)*c%o,f=$i(l,cY,o)*e%o,d=$i(f,lY,o)*f%o,p=$i(d,t,o)*d%o,g=$i(p,n,o)*p%o,y=$i(g,r,o)*g%o,b=$i(y,s,o)*y%o,v=$i(b,s,o)*y%o,E=$i(v,t,o)*d%o;return{pow_p_5_8:$i(E,eI,o)*e%o,b2:c}}function hY(e){return e[0]&=248,e[31]&=127,e[31]|=64,e}function dY(e,t){const n=OA,r=Tn(t*t*t,n),s=Tn(r*r*t,n),o=fY(e*s).pow_p_5_8;let c=Tn(e*r*o,n);const l=Tn(t*c*c,n),f=c,d=Tn(c*J_,n),p=l===e,g=l===Tn(-e,n),y=l===Tn(-e*J_,n);return p&&(c=f),(g||y)&&(c=d),GG(c,n)&&(c=Tn(-c,n)),{isValid:p||g,value:c}}const pY=UM(OA,void 0,!0),gY={a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:pY,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:uY,Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:PG,randomBytes:TM,adjustScalarBytes:hY,uvRatio:dY},BM=aY(gY),mY="EdDSA",yY="JWT",gy=".",Fy="base64url",LM="utf8",kM="utf8",wY=":",bY="did",vY="key",tI="base58btc",EY="z",SY="K36",AY=32;function DA(e){return globalThis.Buffer!=null?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):e}function jM(e=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?DA(globalThis.Buffer.allocUnsafe(e)):new Uint8Array(e)}function zM(e,t){t||(t=e.reduce((s,o)=>s+o.length,0));const n=jM(t);let r=0;for(const s of e)n.set(s,r),r+=s.length;return DA(n)}function CY(e,t){if(e.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),r=0;r<n.length;r++)n[r]=255;for(var s=0;s<e.length;s++){var o=e.charAt(s),c=o.charCodeAt(0);if(n[c]!==255)throw new TypeError(o+" is ambiguous");n[c]=s}var l=e.length,f=e.charAt(0),d=Math.log(l)/Math.log(256),p=Math.log(256)/Math.log(l);function g(v){if(v instanceof Uint8Array||(ArrayBuffer.isView(v)?v=new Uint8Array(v.buffer,v.byteOffset,v.byteLength):Array.isArray(v)&&(v=Uint8Array.from(v))),!(v instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(v.length===0)return"";for(var E=0,S=0,C=0,O=v.length;C!==O&&v[C]===0;)C++,E++;for(var x=(O-C)*p+1>>>0,N=new Uint8Array(x);C!==O;){for(var T=v[C],I=0,R=x-1;(T!==0||I<S)&&R!==-1;R--,I++)T+=256*N[R]>>>0,N[R]=T%l>>>0,T=T/l>>>0;if(T!==0)throw new Error("Non-zero carry");S=I,C++}for(var L=x-S;L!==x&&N[L]===0;)L++;for(var U=f.repeat(E);L<x;++L)U+=e.charAt(N[L]);return U}function y(v){if(typeof v!="string")throw new TypeError("Expected String");if(v.length===0)return new Uint8Array;var E=0;if(v[E]!==" "){for(var S=0,C=0;v[E]===f;)S++,E++;for(var O=(v.length-E)*d+1>>>0,x=new Uint8Array(O);v[E];){var N=n[v.charCodeAt(E)];if(N===255)return;for(var T=0,I=O-1;(N!==0||T<C)&&I!==-1;I--,T++)N+=l*x[I]>>>0,x[I]=N%256>>>0,N=N/256>>>0;if(N!==0)throw new Error("Non-zero carry");C=T,E++}if(v[E]!==" "){for(var R=O-C;R!==O&&x[R]===0;)R++;for(var L=new Uint8Array(S+(O-R)),U=S;R!==O;)L[U++]=x[R++];return L}}}function b(v){var E=y(v);if(E)return E;throw new Error(`Non-${t} character`)}return{encode:g,decodeUnsafe:y,decode:b}}var xY=CY,NY=xY;const HM=e=>{if(e instanceof Uint8Array&&e.constructor.name==="Uint8Array")return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw new Error("Unknown type, must be binary type")},TY=e=>new TextEncoder().encode(e),_Y=e=>new TextDecoder().decode(e);let IY=class{constructor(t,n,r){this.name=t,this.prefix=n,this.baseEncode=r}encode(t){if(t instanceof Uint8Array)return`${this.prefix}${this.baseEncode(t)}`;throw Error("Unknown type, must be binary type")}},OY=class{constructor(t,n,r){if(this.name=t,this.prefix=n,n.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=n.codePointAt(0),this.baseDecode=r}decode(t){if(typeof t=="string"){if(t.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(t)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(t.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(t){return FM(this,t)}},DY=class{constructor(t){this.decoders=t}or(t){return FM(this,t)}decode(t){const n=t[0],r=this.decoders[n];if(r)return r.decode(t);throw RangeError(`Unable to decode multibase string ${JSON.stringify(t)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}};const FM=(e,t)=>new DY({...e.decoders||{[e.prefix]:e},...t.decoders||{[t.prefix]:t}});let MY=class{constructor(t,n,r,s){this.name=t,this.prefix=n,this.baseEncode=r,this.baseDecode=s,this.encoder=new IY(t,n,r),this.decoder=new OY(t,n,s)}encode(t){return this.encoder.encode(t)}decode(t){return this.decoder.decode(t)}};const qy=({name:e,prefix:t,encode:n,decode:r})=>new MY(e,t,n,r),gg=({prefix:e,name:t,alphabet:n})=>{const{encode:r,decode:s}=NY(n,t);return qy({prefix:e,name:t,encode:r,decode:o=>HM(s(o))})},$Y=(e,t,n,r)=>{const s={};for(let p=0;p<t.length;++p)s[t[p]]=p;let o=e.length;for(;e[o-1]==="=";)--o;const c=new Uint8Array(o*n/8|0);let l=0,f=0,d=0;for(let p=0;p<o;++p){const g=s[e[p]];if(g===void 0)throw new SyntaxError(`Non-${r} character`);f=f<<n|g,l+=n,l>=8&&(l-=8,c[d++]=255&f>>l)}if(l>=n||255&f<<8-l)throw new SyntaxError("Unexpected end of data");return c},UY=(e,t,n)=>{const r=t[t.length-1]==="=",s=(1<<n)-1;let o="",c=0,l=0;for(let f=0;f<e.length;++f)for(l=l<<8|e[f],c+=8;c>n;)c-=n,o+=t[s&l>>c];if(c&&(o+=t[s&l<<n-c]),r)for(;o.length*n&7;)o+="=";return o},Yn=({name:e,prefix:t,bitsPerChar:n,alphabet:r})=>qy({prefix:t,name:e,encode(s){return UY(s,r,n)},decode(s){return $Y(s,r,n,e)}}),RY=qy({prefix:"\0",name:"identity",encode:e=>_Y(e),decode:e=>TY(e)});var PY=Object.freeze({__proto__:null,identity:RY});const BY=Yn({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var LY=Object.freeze({__proto__:null,base2:BY});const kY=Yn({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var jY=Object.freeze({__proto__:null,base8:kY});const zY=gg({prefix:"9",name:"base10",alphabet:"0123456789"});var HY=Object.freeze({__proto__:null,base10:zY});const FY=Yn({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),qY=Yn({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var VY=Object.freeze({__proto__:null,base16:FY,base16upper:qY});const WY=Yn({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),KY=Yn({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),GY=Yn({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),YY=Yn({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),XY=Yn({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),ZY=Yn({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),QY=Yn({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),JY=Yn({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),eX=Yn({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var tX=Object.freeze({__proto__:null,base32:WY,base32upper:KY,base32pad:GY,base32padupper:YY,base32hex:XY,base32hexupper:ZY,base32hexpad:QY,base32hexpadupper:JY,base32z:eX});const nX=gg({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),rX=gg({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var sX=Object.freeze({__proto__:null,base36:nX,base36upper:rX});const iX=gg({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),oX=gg({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var aX=Object.freeze({__proto__:null,base58btc:iX,base58flickr:oX});const cX=Yn({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),lX=Yn({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),uX=Yn({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),fX=Yn({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var hX=Object.freeze({__proto__:null,base64:cX,base64pad:lX,base64url:uX,base64urlpad:fX});const qM=Array.from(""),dX=qM.reduce((e,t,n)=>(e[n]=t,e),[]),pX=qM.reduce((e,t,n)=>(e[t.codePointAt(0)]=n,e),[]);function gX(e){return e.reduce((t,n)=>(t+=dX[n],t),"")}function mX(e){const t=[];for(const n of e){const r=pX[n.codePointAt(0)];if(r===void 0)throw new Error(`Non-base256emoji character: ${n}`);t.push(r)}return new Uint8Array(t)}const yX=qy({prefix:"",name:"base256emoji",encode:gX,decode:mX});var wX=Object.freeze({__proto__:null,base256emoji:yX}),bX=VM,nI=128,vX=-128,EX=Math.pow(2,31);function VM(e,t,n){t=t||[],n=n||0;for(var r=n;e>=EX;)t[n++]=e&255|nI,e/=128;for(;e&vX;)t[n++]=e&255|nI,e>>>=7;return t[n]=e|0,VM.bytes=n-r+1,t}var SX=uE,AX=128,rI=127;function uE(e,r){var n=0,r=r||0,s=0,o=r,c,l=e.length;do{if(o>=l)throw uE.bytes=0,new RangeError("Could not decode varint");c=e[o++],n+=s<28?(c&rI)<<s:(c&rI)*Math.pow(2,s),s+=7}while(c>=AX);return uE.bytes=o-r,n}var CX=Math.pow(2,7),xX=Math.pow(2,14),NX=Math.pow(2,21),TX=Math.pow(2,28),_X=Math.pow(2,35),IX=Math.pow(2,42),OX=Math.pow(2,49),DX=Math.pow(2,56),MX=Math.pow(2,63),$X=function(e){return e<CX?1:e<xX?2:e<NX?3:e<TX?4:e<_X?5:e<IX?6:e<OX?7:e<DX?8:e<MX?9:10},UX={encode:bX,decode:SX,encodingLength:$X},WM=UX;const sI=(e,t,n=0)=>(WM.encode(e,t,n),t),iI=e=>WM.encodingLength(e),fE=(e,t)=>{const n=t.byteLength,r=iI(e),s=r+iI(n),o=new Uint8Array(s+n);return sI(e,o,0),sI(n,o,r),o.set(t,s),new RX(e,n,t,o)};let RX=class{constructor(t,n,r,s){this.code=t,this.size=n,this.digest=r,this.bytes=s}};const KM=({name:e,code:t,encode:n})=>new PX(e,t,n);let PX=class{constructor(t,n,r){this.name=t,this.code=n,this.encode=r}digest(t){if(t instanceof Uint8Array){const n=this.encode(t);return n instanceof Uint8Array?fE(this.code,n):n.then(r=>fE(this.code,r))}else throw Error("Unknown type, must be binary type")}};const GM=e=>async t=>new Uint8Array(await crypto.subtle.digest(e,t)),BX=KM({name:"sha2-256",code:18,encode:GM("SHA-256")}),LX=KM({name:"sha2-512",code:19,encode:GM("SHA-512")});var kX=Object.freeze({__proto__:null,sha256:BX,sha512:LX});const YM=0,jX="identity",XM=HM,zX=e=>fE(YM,XM(e)),HX={code:YM,name:jX,encode:XM,digest:zX};var FX=Object.freeze({__proto__:null,identity:HX});new TextEncoder,new TextDecoder;const oI={...PY,...LY,...jY,...HY,...VY,...tX,...sX,...aX,...hX,...wX};({...kX,...FX});function ZM(e,t,n,r){return{name:e,prefix:t,encoder:{name:e,prefix:t,encode:n},decoder:{decode:r}}}const aI=ZM("utf8","u",e=>"u"+new TextDecoder("utf8").decode(e),e=>new TextEncoder().encode(e.substring(1))),bv=ZM("ascii","a",e=>{let t="a";for(let n=0;n<e.length;n++)t+=String.fromCharCode(e[n]);return t},e=>{e=e.substring(1);const t=jM(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}),QM={utf8:aI,"utf-8":aI,hex:oI.base16,latin1:bv,ascii:bv,binary:bv,...oI};function Vy(e,t="utf8"){const n=QM[t];if(!n)throw new Error(`Unsupported encoding "${t}"`);return(t==="utf8"||t==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(e.buffer,e.byteOffset,e.byteLength).toString("utf8"):n.encoder.encode(e).substring(1)}function sh(e,t="utf8"){const n=QM[t];if(!n)throw new Error(`Unsupported encoding "${t}"`);return(t==="utf8"||t==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?DA(globalThis.Buffer.from(e,"utf-8")):n.decoder.decode(`${n.prefix}${e}`)}function cI(e){return $l(Vy(sh(e,Fy),LM))}function my(e){return Vy(sh(Yo(e),LM),Fy)}function JM(e){const t=sh(SY,tI),n=EY+Vy(zM([t,e]),tI);return[bY,vY,n].join(wY)}function qX(e){return Vy(e,Fy)}function VX(e){return sh(e,Fy)}function WX(e){return sh([my(e.header),my(e.payload)].join(gy),kM)}function KX(e){return[my(e.header),my(e.payload),qX(e.signature)].join(gy)}function hE(e){const t=e.split(gy),n=cI(t[0]),r=cI(t[1]),s=VX(t[2]),o=sh(t.slice(0,2).join(gy),kM);return{header:n,payload:r,signature:s,data:o}}function lI(e=TM(AY)){const t=BM.getPublicKey(e);return{secretKey:zM([e,t]),publicKey:t}}async function GX(e,t,n,r,s=we.fromMiliseconds(Date.now())){const o={alg:mY,typ:yY},c=JM(r.publicKey),l=s+n,f={iss:c,sub:e,aud:t,iat:s,exp:l},d=WX({header:o,payload:f}),p=BM.sign(d,r.secretKey.slice(0,32));return KX({header:o,payload:f,signature:p})}var uI=function(e,t,n){if(n||arguments.length===2)for(var r=0,s=t.length,o;r<s;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return e.concat(o||Array.prototype.slice.call(t))},YX=(function(){function e(t,n,r){this.name=t,this.version=n,this.os=r,this.type="browser"}return e})(),XX=(function(){function e(t){this.version=t,this.type="node",this.name="node",this.os=process.platform}return e})(),ZX=(function(){function e(t,n,r,s){this.name=t,this.version=n,this.os=r,this.bot=s,this.type="bot-device"}return e})(),QX=(function(){function e(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null}return e})(),JX=(function(){function e(){this.type="react-native",this.name="react-native",this.version=null,this.os=null}return e})(),eZ=/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/,tZ=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,fI=3,nZ=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["pie",/^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],["pie",/^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/],["netfront",/^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",eZ]],hI=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Windows CE",/Windows CE|WinCE|Microsoft Pocket Internet Explorer/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function rZ(e){return typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"?new JX:typeof navigator<"u"?iZ(navigator.userAgent):aZ()}function sZ(e){return e!==""&&nZ.reduce(function(t,n){var r=n[0],s=n[1];if(t)return t;var o=s.exec(e);return!!o&&[r,o]},!1)}function iZ(e){var t=sZ(e);if(!t)return null;var n=t[0],r=t[1];if(n==="searchbot")return new QX;var s=r[1]&&r[1].split(".").join("_").split("_").slice(0,3);s?s.length<fI&&(s=uI(uI([],s,!0),cZ(fI-s.length),!0)):s=[];var o=s.join("."),c=oZ(e),l=tZ.exec(e);return l&&l[1]?new ZX(n,o,c,l[1]):new YX(n,o,c)}function oZ(e){for(var t=0,n=hI.length;t<n;t++){var r=hI[t],s=r[0],o=r[1],c=o.exec(e);if(c)return s}return null}function aZ(){var e=typeof process<"u"&&process.version;return e?new XX(process.version.slice(1)):null}function cZ(e){for(var t=[],n=0;n<e;n++)t.push("0");return t}var Mt={},dI;function e$(){if(dI)return Mt;dI=1,Object.defineProperty(Mt,"__esModule",{value:!0}),Mt.getLocalStorage=Mt.getLocalStorageOrThrow=Mt.getCrypto=Mt.getCryptoOrThrow=Mt.getLocation=Mt.getLocationOrThrow=Mt.getNavigator=Mt.getNavigatorOrThrow=Mt.getDocument=Mt.getDocumentOrThrow=Mt.getFromWindowOrThrow=Mt.getFromWindow=void 0;function e(y){let b;return typeof window<"u"&&typeof window[y]<"u"&&(b=window[y]),b}Mt.getFromWindow=e;function t(y){const b=e(y);if(!b)throw new Error(`${y} is not defined in Window`);return b}Mt.getFromWindowOrThrow=t;function n(){return t("document")}Mt.getDocumentOrThrow=n;function r(){return e("document")}Mt.getDocument=r;function s(){return t("navigator")}Mt.getNavigatorOrThrow=s;function o(){return e("navigator")}Mt.getNavigator=o;function c(){return t("location")}Mt.getLocationOrThrow=c;function l(){return e("location")}Mt.getLocation=l;function f(){return t("crypto")}Mt.getCryptoOrThrow=f;function d(){return e("crypto")}Mt.getCrypto=d;function p(){return t("localStorage")}Mt.getLocalStorageOrThrow=p;function g(){return e("localStorage")}return Mt.getLocalStorage=g,Mt}var Xo=e$(),bd={},pI;function lZ(){if(pI)return bd;pI=1,Object.defineProperty(bd,"__esModule",{value:!0}),bd.getWindowMetadata=void 0;const e=e$();function t(){let n,r;try{n=e.getDocumentOrThrow(),r=e.getLocationOrThrow()}catch{return null}function s(){const b=n.getElementsByTagName("link"),v=[];for(let E=0;E<b.length;E++){const S=b[E],C=S.getAttribute("rel");if(C&&C.toLowerCase().indexOf("icon")>-1){const O=S.getAttribute("href");if(O)if(O.toLowerCase().indexOf("https:")===-1&&O.toLowerCase().indexOf("http:")===-1&&O.indexOf("//")!==0){let x=r.protocol+"//"+r.host;if(O.indexOf("/")===0)x+=O;else{const N=r.pathname.split("/");N.pop();const T=N.join("/");x+=T+"/"+O}v.push(x)}else if(O.indexOf("//")===0){const x=r.protocol+O;v.push(x)}else v.push(O)}}return v}function o(...b){const v=n.getElementsByTagName("meta");for(let E=0;E<v.length;E++){const S=v[E],C=["itemprop","property","name"].map(O=>S.getAttribute(O)).filter(O=>O?b.includes(O):!1);if(C.length&&C){const O=S.getAttribute("content");if(O)return O}}return""}function c(){let b=o("name","og:site_name","og:title","twitter:title");return b||(b=n.title),b}function l(){return o("description","og:description","twitter:description","keywords")}const f=c(),d=l(),p=r.origin,g=s();return{description:d,url:p,icons:g,name:f}}return bd.getWindowMetadata=t,bd}var uZ=lZ();function xp(e,{strict:t=!0}={}){return!e||typeof e!="string"?!1:t?/^0x[0-9a-fA-F]*$/.test(e):e.startsWith("0x")}function dE(e){return xp(e,{strict:!1})?Math.ceil((e.length-2)/2):e.length}const t$="2.31.0";let vv={getDocsUrl:({docsBaseUrl:e,docsPath:t="",docsSlug:n})=>t?`${e??"https://viem.sh"}${t}${n?`#${n}`:""}`:void 0,version:`viem@${t$}`},Wy=class pE extends Error{constructor(t,n={}){const r=n.cause instanceof pE?n.cause.details:n.cause?.message?n.cause.message:n.details,s=n.cause instanceof pE&&n.cause.docsPath||n.docsPath,o=vv.getDocsUrl?.({...n,docsPath:s}),c=[t||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...o?[`Docs: ${o}`]:[],...r?[`Details: ${r}`]:[],...vv.version?[`Version: ${vv.version}`]:[]].join(`
`);super(c,n.cause?{cause:n.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),this.details=r,this.docsPath=s,this.metaMessages=n.metaMessages,this.name=n.name??this.name,this.shortMessage=t,this.version=t$}walk(t){return n$(this,t)}};function n$(e,t){return t?.(e)?e:e&&typeof e=="object"&&"cause"in e&&e.cause!==void 0?n$(e.cause,t):t?null:e}let r$=class extends Wy{constructor({size:t,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (${t}) exceeds padding size (${n}).`,{name:"SizeExceedsPaddingSizeError"})}};function ih(e,{dir:t,size:n=32}={}){return typeof e=="string"?fZ(e,{dir:t,size:n}):hZ(e,{dir:t,size:n})}function fZ(e,{dir:t,size:n=32}={}){if(n===null)return e;const r=e.replace("0x","");if(r.length>n*2)throw new r$({size:Math.ceil(r.length/2),targetSize:n,type:"hex"});return`0x${r[t==="right"?"padEnd":"padStart"](n*2,"0")}`}function hZ(e,{dir:t,size:n=32}={}){if(n===null)return e;if(e.length>n)throw new r$({size:e.length,targetSize:n,type:"bytes"});const r=new Uint8Array(n);for(let s=0;s<n;s++){const o=t==="right";r[o?s:n-s-1]=e[o?s:e.length-s-1]}return r}let dZ=class extends Wy{constructor({max:t,min:n,signed:r,size:s,value:o}){super(`Number "${o}" is not in safe ${s?`${s*8}-bit ${r?"signed":"unsigned"} `:""}integer range ${t?`(${n} to ${t})`:`(above ${n})`}`,{name:"IntegerOutOfRangeError"})}},pZ=class extends Wy{constructor({givenSize:t,maxSize:n}){super(`Size cannot exceed ${n} bytes. Given size: ${t} bytes.`,{name:"SizeOverflowError"})}};function oh(e,{size:t}){if(dE(e)>t)throw new pZ({givenSize:dE(e),maxSize:t})}function gE(e,t={}){const{signed:n}=t;t.size&&oh(e,{size:t.size});const r=BigInt(e);if(!n)return r;const s=(e.length-2)/2,o=(1n<<BigInt(s)*8n-1n)-1n;return r<=o?r:r-BigInt(`0x${"f".padStart(s*2,"f")}`)-1n}function gZ(e,t={}){return Number(gE(e,t))}const mZ=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function mE(e,t={}){return typeof e=="number"||typeof e=="bigint"?i$(e,t):typeof e=="string"?bZ(e,t):typeof e=="boolean"?yZ(e,t):s$(e,t)}function yZ(e,t={}){const n=`0x${Number(e)}`;return typeof t.size=="number"?(oh(n,{size:t.size}),ih(n,{size:t.size})):n}function s$(e,t={}){let n="";for(let s=0;s<e.length;s++)n+=mZ[e[s]];const r=`0x${n}`;return typeof t.size=="number"?(oh(r,{size:t.size}),ih(r,{dir:"right",size:t.size})):r}function i$(e,t={}){const{signed:n,size:r}=t,s=BigInt(e);let o;r?n?o=(1n<<BigInt(r)*8n-1n)-1n:o=2n**(BigInt(r)*8n)-1n:typeof e=="number"&&(o=BigInt(Number.MAX_SAFE_INTEGER));const c=typeof o=="bigint"&&n?-o-1n:0;if(o&&s>o||s<c){const f=typeof e=="bigint"?"n":"";throw new dZ({max:o?`${o}${f}`:void 0,min:`${c}${f}`,signed:n,size:r,value:`${e}${f}`})}const l=`0x${(n&&s<0?(1n<<BigInt(r*8))+BigInt(s):s).toString(16)}`;return r?ih(l,{size:r}):l}const wZ=new TextEncoder;function bZ(e,t={}){const n=wZ.encode(e);return s$(n,t)}const vZ=new TextEncoder;function EZ(e,t={}){return typeof e=="number"||typeof e=="bigint"?AZ(e,t):typeof e=="boolean"?SZ(e,t):xp(e)?o$(e,t):a$(e,t)}function SZ(e,t={}){const n=new Uint8Array(1);return n[0]=Number(e),typeof t.size=="number"?(oh(n,{size:t.size}),ih(n,{size:t.size})):n}const Do={zero:48,nine:57,A:65,F:70,a:97,f:102};function gI(e){if(e>=Do.zero&&e<=Do.nine)return e-Do.zero;if(e>=Do.A&&e<=Do.F)return e-(Do.A-10);if(e>=Do.a&&e<=Do.f)return e-(Do.a-10)}function o$(e,t={}){let n=e;t.size&&(oh(n,{size:t.size}),n=ih(n,{dir:"right",size:t.size}));let r=n.slice(2);r.length%2&&(r=`0${r}`);const s=r.length/2,o=new Uint8Array(s);for(let c=0,l=0;c<s;c++){const f=gI(r.charCodeAt(l++)),d=gI(r.charCodeAt(l++));if(f===void 0||d===void 0)throw new Wy(`Invalid byte sequence ("${r[l-2]}${r[l-1]}" in "${r}").`);o[c]=f*16+d}return o}function AZ(e,t){const n=i$(e,t);return o$(n)}function a$(e,t={}){const n=vZ.encode(e);return typeof t.size=="number"?(oh(n,{size:t.size}),ih(n,{dir:"right",size:t.size})):n}const c0=BigInt(2**32-1),mI=BigInt(32);function CZ(e,t=!1){return t?{h:Number(e&c0),l:Number(e>>mI&c0)}:{h:Number(e>>mI&c0)|0,l:Number(e&c0)|0}}function xZ(e,t=!1){const n=e.length;let r=new Uint32Array(n),s=new Uint32Array(n);for(let o=0;o<n;o++){const{h:c,l}=CZ(e[o],t);[r[o],s[o]]=[c,l]}return[r,s]}const NZ=(e,t,n)=>e<<n|t>>>32-n,TZ=(e,t,n)=>t<<n|e>>>32-n,_Z=(e,t,n)=>t<<n-32|e>>>64-n,IZ=(e,t,n)=>e<<n-32|t>>>64-n,Hu=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */function OZ(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function yy(e){if(!Number.isSafeInteger(e)||e<0)throw new Error("positive integer expected, got "+e)}function Np(e,...t){if(!OZ(e))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw new Error("Uint8Array expected of length "+t+", got length="+e.length)}function _pe(e){if(typeof e!="function"||typeof e.create!="function")throw new Error("Hash should be wrapped by utils.createHasher");yy(e.outputLen),yy(e.blockLen)}function yI(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function DZ(e,t){Np(e);const n=t.outputLen;if(e.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}function MZ(e){return new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4))}function c$(...e){for(let t=0;t<e.length;t++)e[t].fill(0)}function Ipe(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function Ope(e,t){return e<<32-t|e>>>t}const $Z=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function UZ(e){return e<<24&4278190080|e<<8&16711680|e>>>8&65280|e>>>24&255}function RZ(e){for(let t=0;t<e.length;t++)e[t]=UZ(e[t]);return e}const wI=$Z?e=>e:RZ;function PZ(e){if(typeof e!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(e))}function l$(e){return typeof e=="string"&&(e=PZ(e)),Np(e),e}function Dpe(...e){let t=0;for(let r=0;r<e.length;r++){const s=e[r];Np(s),t+=s.length}const n=new Uint8Array(t);for(let r=0,s=0;r<e.length;r++){const o=e[r];n.set(o,s),s+=o.length}return n}class BZ{}function LZ(e){const t=r=>e().update(l$(r)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t}function Mpe(e=32){if(Hu&&typeof Hu.getRandomValues=="function")return Hu.getRandomValues(new Uint8Array(e));if(Hu&&typeof Hu.randomBytes=="function")return Uint8Array.from(Hu.randomBytes(e));throw new Error("crypto.getRandomValues must be defined")}const kZ=BigInt(0),vd=BigInt(1),jZ=BigInt(2),zZ=BigInt(7),HZ=BigInt(256),FZ=BigInt(113),u$=[],f$=[],h$=[];for(let e=0,t=vd,n=1,r=0;e<24;e++){[n,r]=[r,(2*n+3*r)%5],u$.push(2*(5*r+n)),f$.push((e+1)*(e+2)/2%64);let s=kZ;for(let o=0;o<7;o++)t=(t<<vd^(t>>zZ)*FZ)%HZ,t&jZ&&(s^=vd<<(vd<<BigInt(o))-vd);h$.push(s)}const d$=xZ(h$,!0),qZ=d$[0],VZ=d$[1],bI=(e,t,n)=>n>32?_Z(e,t,n):NZ(e,t,n),vI=(e,t,n)=>n>32?IZ(e,t,n):TZ(e,t,n);function WZ(e,t=24){const n=new Uint32Array(10);for(let r=24-t;r<24;r++){for(let c=0;c<10;c++)n[c]=e[c]^e[c+10]^e[c+20]^e[c+30]^e[c+40];for(let c=0;c<10;c+=2){const l=(c+8)%10,f=(c+2)%10,d=n[f],p=n[f+1],g=bI(d,p,1)^n[l],y=vI(d,p,1)^n[l+1];for(let b=0;b<50;b+=10)e[c+b]^=g,e[c+b+1]^=y}let s=e[2],o=e[3];for(let c=0;c<24;c++){const l=f$[c],f=bI(s,o,l),d=vI(s,o,l),p=u$[c];s=e[p],o=e[p+1],e[p]=f,e[p+1]=d}for(let c=0;c<50;c+=10){for(let l=0;l<10;l++)n[l]=e[c+l];for(let l=0;l<10;l++)e[c+l]^=~n[(l+2)%10]&n[(l+4)%10]}e[0]^=qZ[r],e[1]^=VZ[r]}c$(n)}class MA extends BZ{constructor(t,n,r,s=!1,o=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=t,this.suffix=n,this.outputLen=r,this.enableXOF=s,this.rounds=o,yy(r),!(0<t&&t<200))throw new Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=MZ(this.state)}clone(){return this._cloneInto()}keccak(){wI(this.state32),WZ(this.state32,this.rounds),wI(this.state32),this.posOut=0,this.pos=0}update(t){yI(this),t=l$(t),Np(t);const{blockLen:n,state:r}=this,s=t.length;for(let o=0;o<s;){const c=Math.min(n-this.pos,s-o);for(let l=0;l<c;l++)r[this.pos++]^=t[o++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:t,suffix:n,pos:r,blockLen:s}=this;t[r]^=n,(n&128)!==0&&r===s-1&&this.keccak(),t[s-1]^=128,this.keccak()}writeInto(t){yI(this,!1),Np(t),this.finish();const n=this.state,{blockLen:r}=this;for(let s=0,o=t.length;s<o;){this.posOut>=r&&this.keccak();const c=Math.min(r-this.posOut,o-s);t.set(n.subarray(this.posOut,this.posOut+c),s),this.posOut+=c,s+=c}return t}xofInto(t){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(t)}xof(t){return yy(t),this.xofInto(new Uint8Array(t))}digestInto(t){if(DZ(t,this),this.finished)throw new Error("digest() was already called");return this.writeInto(t),this.destroy(),t}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,c$(this.state)}_cloneInto(t){const{blockLen:n,suffix:r,outputLen:s,rounds:o,enableXOF:c}=this;return t||(t=new MA(n,r,s,c,o)),t.state32.set(this.state32),t.pos=this.pos,t.posOut=this.posOut,t.finished=this.finished,t.rounds=o,t.suffix=r,t.outputLen=s,t.enableXOF=c,t.destroyed=this.destroyed,t}}const KZ=(e,t,n)=>LZ(()=>new MA(t,e,n)),GZ=KZ(1,136,256/8);function p$(e,t){const n=t||"hex",r=GZ(xp(e,{strict:!1})?EZ(e):e);return n==="bytes"?r:mE(r)}let YZ=class extends Map{constructor(t){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=t}get(t){const n=super.get(t);return super.has(t)&&n!==void 0&&(this.delete(t),super.set(t,n)),n}set(t,n){if(super.set(t,n),this.maxSize&&this.size>this.maxSize){const r=this.keys().next().value;r&&this.delete(r)}return this}};const Ev=new YZ(8192);function XZ(e,t){if(Ev.has(`${e}.${t}`))return Ev.get(`${e}.${t}`);const n=e.substring(2).toLowerCase(),r=p$(a$(n),"bytes"),s=n.split("");for(let c=0;c<40;c+=2)r[c>>1]>>4>=8&&s[c]&&(s[c]=s[c].toUpperCase()),(r[c>>1]&15)>=8&&s[c+1]&&(s[c+1]=s[c+1].toUpperCase());const o=`0x${s.join("")}`;return Ev.set(`${e}.${t}`,o),o}function ZZ(e){const t=p$(`0x${e.substring(4)}`).substring(26);return XZ(`0x${t}`)}async function QZ({hash:e,signature:t}){const n=xp(e)?e:mE(e),{secp256k1:r}=await mp(async()=>{const{secp256k1:c}=await import("./secp256k1-Bl5pN_jS.js");return{secp256k1:c}},[]);return`0x${(()=>{if(typeof t=="object"&&"r"in t&&"s"in t){const{r:d,s:p,v:g,yParity:y}=t,b=Number(y??g),v=EI(b);return new r.Signature(gE(d),gE(p)).addRecoveryBit(v)}const c=xp(t)?t:mE(t);if(dE(c)!==65)throw new Error("invalid signature length");const l=gZ(`0x${c.slice(130)}`),f=EI(l);return r.Signature.fromCompact(c.substring(2,130)).addRecoveryBit(f)})().recoverPublicKey(n.substring(2)).toHex(!1)}`}function EI(e){if(e===0||e===1)return e;if(e===27)return 0;if(e===28)return 1;throw new Error("Invalid yParityOrV value")}async function JZ({hash:e,signature:t}){return ZZ(await QZ({hash:e,signature:t}))}function eQ(e){if(e.length>=255)throw new TypeError("Alphabet too long");const t=new Uint8Array(256);for(let d=0;d<t.length;d++)t[d]=255;for(let d=0;d<e.length;d++){const p=e.charAt(d),g=p.charCodeAt(0);if(t[g]!==255)throw new TypeError(p+" is ambiguous");t[g]=d}const n=e.length,r=e.charAt(0),s=Math.log(n)/Math.log(256),o=Math.log(256)/Math.log(n);function c(d){if(d instanceof Uint8Array||(ArrayBuffer.isView(d)?d=new Uint8Array(d.buffer,d.byteOffset,d.byteLength):Array.isArray(d)&&(d=Uint8Array.from(d))),!(d instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(d.length===0)return"";let p=0,g=0,y=0;const b=d.length;for(;y!==b&&d[y]===0;)y++,p++;const v=(b-y)*o+1>>>0,E=new Uint8Array(v);for(;y!==b;){let O=d[y],x=0;for(let N=v-1;(O!==0||x<g)&&N!==-1;N--,x++)O+=256*E[N]>>>0,E[N]=O%n>>>0,O=O/n>>>0;if(O!==0)throw new Error("Non-zero carry");g=x,y++}let S=v-g;for(;S!==v&&E[S]===0;)S++;let C=r.repeat(p);for(;S<v;++S)C+=e.charAt(E[S]);return C}function l(d){if(typeof d!="string")throw new TypeError("Expected String");if(d.length===0)return new Uint8Array;let p=0,g=0,y=0;for(;d[p]===r;)g++,p++;const b=(d.length-p)*s+1>>>0,v=new Uint8Array(b);for(;p<d.length;){const O=d.charCodeAt(p);if(O>255)return;let x=t[O];if(x===255)return;let N=0;for(let T=b-1;(x!==0||N<y)&&T!==-1;T--,N++)x+=n*v[T]>>>0,v[T]=x%256>>>0,x=x/256>>>0;if(x!==0)throw new Error("Non-zero carry");y=N,p++}let E=b-y;for(;E!==b&&v[E]===0;)E++;const S=new Uint8Array(g+(b-E));let C=g;for(;E!==b;)S[C++]=v[E++];return S}function f(d){const p=l(d);if(p)return p;throw new Error("Non-base"+n+" character")}return{encode:c,decodeUnsafe:l,decode:f}}var tQ="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";const ah=eQ(tQ);function nQ(e){const t=e.length;let n=0,r=0;for(;r<t;){let s=e.charCodeAt(r++);if((s&4294967168)===0){n++;continue}else if((s&4294965248)===0)n+=2;else{if(s>=55296&&s<=56319&&r<t){const o=e.charCodeAt(r);(o&64512)===56320&&(++r,s=((s&1023)<<10)+(o&1023)+65536)}(s&4294901760)===0?n+=3:n+=4}}return n}function rQ(e,t,n){const r=e.length;let s=n,o=0;for(;o<r;){let c=e.charCodeAt(o++);if((c&4294967168)===0){t[s++]=c;continue}else if((c&4294965248)===0)t[s++]=c>>6&31|192;else{if(c>=55296&&c<=56319&&o<r){const l=e.charCodeAt(o);(l&64512)===56320&&(++o,c=((c&1023)<<10)+(l&1023)+65536)}(c&4294901760)===0?(t[s++]=c>>12&15|224,t[s++]=c>>6&63|128):(t[s++]=c>>18&7|240,t[s++]=c>>12&63|128,t[s++]=c>>6&63|128)}t[s++]=c&63|128}}const sQ=new TextEncoder,iQ=50;function oQ(e,t,n){sQ.encodeInto(e,t.subarray(n))}function aQ(e,t,n){e.length>iQ?oQ(e,t,n):rQ(e,t,n)}const cQ=4096;function g$(e,t,n){let r=t;const s=r+n,o=[];let c="";for(;r<s;){const l=e[r++];if((l&128)===0)o.push(l);else if((l&224)===192){const f=e[r++]&63;o.push((l&31)<<6|f)}else if((l&240)===224){const f=e[r++]&63,d=e[r++]&63;o.push((l&31)<<12|f<<6|d)}else if((l&248)===240){const f=e[r++]&63,d=e[r++]&63,p=e[r++]&63;let g=(l&7)<<18|f<<12|d<<6|p;g>65535&&(g-=65536,o.push(g>>>10&1023|55296),g=56320|g&1023),o.push(g)}else o.push(l);o.length>=cQ&&(c+=String.fromCharCode(...o),o.length=0)}return o.length>0&&(c+=String.fromCharCode(...o)),c}const lQ=new TextDecoder,uQ=200;function fQ(e,t,n){const r=e.subarray(t,t+n);return lQ.decode(r)}function hQ(e,t,n){return n>uQ?fQ(e,t,n):g$(e,t,n)}class l0{constructor(t,n){this.type=t,this.data=n}}class as extends Error{constructor(t){super(t);const n=Object.create(as.prototype);Object.setPrototypeOf(this,n),Object.defineProperty(this,"name",{configurable:!0,enumerable:!1,value:as.name})}}const Ed=4294967295;function dQ(e,t,n){const r=n/4294967296,s=n;e.setUint32(t,r),e.setUint32(t+4,s)}function m$(e,t,n){const r=Math.floor(n/4294967296),s=n;e.setUint32(t,r),e.setUint32(t+4,s)}function y$(e,t){const n=e.getInt32(t),r=e.getUint32(t+4);return n*4294967296+r}function pQ(e,t){const n=e.getUint32(t),r=e.getUint32(t+4);return n*4294967296+r}const gQ=-1,mQ=4294967296-1,yQ=17179869184-1;function wQ({sec:e,nsec:t}){if(e>=0&&t>=0&&e<=yQ)if(t===0&&e<=mQ){const n=new Uint8Array(4);return new DataView(n.buffer).setUint32(0,e),n}else{const n=e/4294967296,r=e&4294967295,s=new Uint8Array(8),o=new DataView(s.buffer);return o.setUint32(0,t<<2|n&3),o.setUint32(4,r),s}else{const n=new Uint8Array(12),r=new DataView(n.buffer);return r.setUint32(0,t),m$(r,4,e),n}}function bQ(e){const t=e.getTime(),n=Math.floor(t/1e3),r=(t-n*1e3)*1e6,s=Math.floor(r/1e9);return{sec:n+s,nsec:r-s*1e9}}function vQ(e){if(e instanceof Date){const t=bQ(e);return wQ(t)}else return null}function EQ(e){const t=new DataView(e.buffer,e.byteOffset,e.byteLength);switch(e.byteLength){case 4:return{sec:t.getUint32(0),nsec:0};case 8:{const n=t.getUint32(0),r=t.getUint32(4),s=(n&3)*4294967296+r,o=n>>>2;return{sec:s,nsec:o}}case 12:{const n=y$(t,4),r=t.getUint32(0);return{sec:n,nsec:r}}default:throw new as(`Unrecognized data size for timestamp (expected 4, 8, or 12): ${e.length}`)}}function SQ(e){const t=EQ(e);return new Date(t.sec*1e3+t.nsec/1e6)}const AQ={type:gQ,encode:vQ,decode:SQ};class wy{constructor(){this.builtInEncoders=[],this.builtInDecoders=[],this.encoders=[],this.decoders=[],this.register(AQ)}register({type:t,encode:n,decode:r}){if(t>=0)this.encoders[t]=n,this.decoders[t]=r;else{const s=-1-t;this.builtInEncoders[s]=n,this.builtInDecoders[s]=r}}tryToEncode(t,n){for(let r=0;r<this.builtInEncoders.length;r++){const s=this.builtInEncoders[r];if(s!=null){const o=s(t,n);if(o!=null){const c=-1-r;return new l0(c,o)}}}for(let r=0;r<this.encoders.length;r++){const s=this.encoders[r];if(s!=null){const o=s(t,n);if(o!=null){const c=r;return new l0(c,o)}}}return t instanceof l0?t:null}decode(t,n,r){const s=n<0?this.builtInDecoders[-1-n]:this.decoders[n];return s?s(t,n,r):new l0(n,t)}}wy.defaultCodec=new wy;function CQ(e){return e instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&e instanceof SharedArrayBuffer}function yE(e){return e instanceof Uint8Array?e:ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):CQ(e)?new Uint8Array(e):Uint8Array.from(e)}const xQ=100,NQ=2048;let TQ=class w${constructor(t){this.entered=!1,this.extensionCodec=t?.extensionCodec??wy.defaultCodec,this.context=t?.context,this.useBigInt64=t?.useBigInt64??!1,this.maxDepth=t?.maxDepth??xQ,this.initialBufferSize=t?.initialBufferSize??NQ,this.sortKeys=t?.sortKeys??!1,this.forceFloat32=t?.forceFloat32??!1,this.ignoreUndefined=t?.ignoreUndefined??!1,this.forceIntegerToFloat=t?.forceIntegerToFloat??!1,this.pos=0,this.view=new DataView(new ArrayBuffer(this.initialBufferSize)),this.bytes=new Uint8Array(this.view.buffer)}clone(){return new w$({extensionCodec:this.extensionCodec,context:this.context,useBigInt64:this.useBigInt64,maxDepth:this.maxDepth,initialBufferSize:this.initialBufferSize,sortKeys:this.sortKeys,forceFloat32:this.forceFloat32,ignoreUndefined:this.ignoreUndefined,forceIntegerToFloat:this.forceIntegerToFloat})}reinitializeState(){this.pos=0}encodeSharedRef(t){if(this.entered)return this.clone().encodeSharedRef(t);try{return this.entered=!0,this.reinitializeState(),this.doEncode(t,1),this.bytes.subarray(0,this.pos)}finally{this.entered=!1}}encode(t){if(this.entered)return this.clone().encode(t);try{return this.entered=!0,this.reinitializeState(),this.doEncode(t,1),this.bytes.slice(0,this.pos)}finally{this.entered=!1}}doEncode(t,n){if(n>this.maxDepth)throw new Error(`Too deep objects in depth ${n}`);t==null?this.encodeNil():typeof t=="boolean"?this.encodeBoolean(t):typeof t=="number"?this.forceIntegerToFloat?this.encodeNumberAsFloat(t):this.encodeNumber(t):typeof t=="string"?this.encodeString(t):this.useBigInt64&&typeof t=="bigint"?this.encodeBigInt64(t):this.encodeObject(t,n)}ensureBufferSizeToWrite(t){const n=this.pos+t;this.view.byteLength<n&&this.resizeBuffer(n*2)}resizeBuffer(t){const n=new ArrayBuffer(t),r=new Uint8Array(n),s=new DataView(n);r.set(this.bytes),this.view=s,this.bytes=r}encodeNil(){this.writeU8(192)}encodeBoolean(t){t===!1?this.writeU8(194):this.writeU8(195)}encodeNumber(t){!this.forceIntegerToFloat&&Number.isSafeInteger(t)?t>=0?t<128?this.writeU8(t):t<256?(this.writeU8(204),this.writeU8(t)):t<65536?(this.writeU8(205),this.writeU16(t)):t<4294967296?(this.writeU8(206),this.writeU32(t)):this.useBigInt64?this.encodeNumberAsFloat(t):(this.writeU8(207),this.writeU64(t)):t>=-32?this.writeU8(224|t+32):t>=-128?(this.writeU8(208),this.writeI8(t)):t>=-32768?(this.writeU8(209),this.writeI16(t)):t>=-2147483648?(this.writeU8(210),this.writeI32(t)):this.useBigInt64?this.encodeNumberAsFloat(t):(this.writeU8(211),this.writeI64(t)):this.encodeNumberAsFloat(t)}encodeNumberAsFloat(t){this.forceFloat32?(this.writeU8(202),this.writeF32(t)):(this.writeU8(203),this.writeF64(t))}encodeBigInt64(t){t>=BigInt(0)?(this.writeU8(207),this.writeBigUint64(t)):(this.writeU8(211),this.writeBigInt64(t))}writeStringHeader(t){if(t<32)this.writeU8(160+t);else if(t<256)this.writeU8(217),this.writeU8(t);else if(t<65536)this.writeU8(218),this.writeU16(t);else if(t<4294967296)this.writeU8(219),this.writeU32(t);else throw new Error(`Too long string: ${t} bytes in UTF-8`)}encodeString(t){const r=nQ(t);this.ensureBufferSizeToWrite(5+r),this.writeStringHeader(r),aQ(t,this.bytes,this.pos),this.pos+=r}encodeObject(t,n){const r=this.extensionCodec.tryToEncode(t,this.context);if(r!=null)this.encodeExtension(r);else if(Array.isArray(t))this.encodeArray(t,n);else if(ArrayBuffer.isView(t))this.encodeBinary(t);else if(typeof t=="object")this.encodeMap(t,n);else throw new Error(`Unrecognized object: ${Object.prototype.toString.apply(t)}`)}encodeBinary(t){const n=t.byteLength;if(n<256)this.writeU8(196),this.writeU8(n);else if(n<65536)this.writeU8(197),this.writeU16(n);else if(n<4294967296)this.writeU8(198),this.writeU32(n);else throw new Error(`Too large binary: ${n}`);const r=yE(t);this.writeU8a(r)}encodeArray(t,n){const r=t.length;if(r<16)this.writeU8(144+r);else if(r<65536)this.writeU8(220),this.writeU16(r);else if(r<4294967296)this.writeU8(221),this.writeU32(r);else throw new Error(`Too large array: ${r}`);for(const s of t)this.doEncode(s,n+1)}countWithoutUndefined(t,n){let r=0;for(const s of n)t[s]!==void 0&&r++;return r}encodeMap(t,n){const r=Object.keys(t);this.sortKeys&&r.sort();const s=this.ignoreUndefined?this.countWithoutUndefined(t,r):r.length;if(s<16)this.writeU8(128+s);else if(s<65536)this.writeU8(222),this.writeU16(s);else if(s<4294967296)this.writeU8(223),this.writeU32(s);else throw new Error(`Too large map object: ${s}`);for(const o of r){const c=t[o];this.ignoreUndefined&&c===void 0||(this.encodeString(o),this.doEncode(c,n+1))}}encodeExtension(t){if(typeof t.data=="function"){const r=t.data(this.pos+6),s=r.length;if(s>=4294967296)throw new Error(`Too large extension object: ${s}`);this.writeU8(201),this.writeU32(s),this.writeI8(t.type),this.writeU8a(r);return}const n=t.data.length;if(n===1)this.writeU8(212);else if(n===2)this.writeU8(213);else if(n===4)this.writeU8(214);else if(n===8)this.writeU8(215);else if(n===16)this.writeU8(216);else if(n<256)this.writeU8(199),this.writeU8(n);else if(n<65536)this.writeU8(200),this.writeU16(n);else if(n<4294967296)this.writeU8(201),this.writeU32(n);else throw new Error(`Too large extension object: ${n}`);this.writeI8(t.type),this.writeU8a(t.data)}writeU8(t){this.ensureBufferSizeToWrite(1),this.view.setUint8(this.pos,t),this.pos++}writeU8a(t){const n=t.length;this.ensureBufferSizeToWrite(n),this.bytes.set(t,this.pos),this.pos+=n}writeI8(t){this.ensureBufferSizeToWrite(1),this.view.setInt8(this.pos,t),this.pos++}writeU16(t){this.ensureBufferSizeToWrite(2),this.view.setUint16(this.pos,t),this.pos+=2}writeI16(t){this.ensureBufferSizeToWrite(2),this.view.setInt16(this.pos,t),this.pos+=2}writeU32(t){this.ensureBufferSizeToWrite(4),this.view.setUint32(this.pos,t),this.pos+=4}writeI32(t){this.ensureBufferSizeToWrite(4),this.view.setInt32(this.pos,t),this.pos+=4}writeF32(t){this.ensureBufferSizeToWrite(4),this.view.setFloat32(this.pos,t),this.pos+=4}writeF64(t){this.ensureBufferSizeToWrite(8),this.view.setFloat64(this.pos,t),this.pos+=8}writeU64(t){this.ensureBufferSizeToWrite(8),dQ(this.view,this.pos,t),this.pos+=8}writeI64(t){this.ensureBufferSizeToWrite(8),m$(this.view,this.pos,t),this.pos+=8}writeBigUint64(t){this.ensureBufferSizeToWrite(8),this.view.setBigUint64(this.pos,t),this.pos+=8}writeBigInt64(t){this.ensureBufferSizeToWrite(8),this.view.setBigInt64(this.pos,t),this.pos+=8}};function _Q(e,t){return new TQ(t).encodeSharedRef(e)}function Sv(e){return`${e<0?"-":""}0x${Math.abs(e).toString(16).padStart(2,"0")}`}const IQ=16,OQ=16;class DQ{constructor(t=IQ,n=OQ){this.hit=0,this.miss=0,this.maxKeyLength=t,this.maxLengthPerKey=n,this.caches=[];for(let r=0;r<this.maxKeyLength;r++)this.caches.push([])}canBeCached(t){return t>0&&t<=this.maxKeyLength}find(t,n,r){const s=this.caches[r-1];e:for(const o of s){const c=o.bytes;for(let l=0;l<r;l++)if(c[l]!==t[n+l])continue e;return o.str}return null}store(t,n){const r=this.caches[t.length-1],s={bytes:t,str:n};r.length>=this.maxLengthPerKey?r[Math.random()*r.length|0]=s:r.push(s)}decode(t,n,r){const s=this.find(t,n,r);if(s!=null)return this.hit++,s;this.miss++;const o=g$(t,n,r),c=Uint8Array.prototype.slice.call(t,n,n+r);return this.store(c,o),o}}const wE="array",Yd="map_key",b$="map_value",MQ=e=>{if(typeof e=="string"||typeof e=="number")return e;throw new as("The type of key must be string or number but "+typeof e)};class $Q{constructor(){this.stack=[],this.stackHeadPosition=-1}get length(){return this.stackHeadPosition+1}top(){return this.stack[this.stackHeadPosition]}pushArrayState(t){const n=this.getUninitializedStateFromPool();n.type=wE,n.position=0,n.size=t,n.array=new Array(t)}pushMapState(t){const n=this.getUninitializedStateFromPool();n.type=Yd,n.readCount=0,n.size=t,n.map={}}getUninitializedStateFromPool(){if(this.stackHeadPosition++,this.stackHeadPosition===this.stack.length){const t={type:void 0,size:0,array:void 0,position:0,readCount:0,map:void 0,key:null};this.stack.push(t)}return this.stack[this.stackHeadPosition]}release(t){if(this.stack[this.stackHeadPosition]!==t)throw new Error("Invalid stack state. Released state is not on top of the stack.");if(t.type===wE){const r=t;r.size=0,r.array=void 0,r.position=0,r.type=void 0}if(t.type===Yd||t.type===b$){const r=t;r.size=0,r.map=void 0,r.readCount=0,r.type=void 0}this.stackHeadPosition--}reset(){this.stack.length=0,this.stackHeadPosition=-1}}const Sd=-1,$A=new DataView(new ArrayBuffer(0)),UQ=new Uint8Array($A.buffer);try{$A.getInt8(0)}catch(e){if(!(e instanceof RangeError))throw new Error("This module is not supported in the current JavaScript engine because DataView does not throw RangeError on out-of-bounds access")}const SI=new RangeError("Insufficient data"),RQ=new DQ;let PQ=class v${constructor(t){this.totalPos=0,this.pos=0,this.view=$A,this.bytes=UQ,this.headByte=Sd,this.stack=new $Q,this.entered=!1,this.extensionCodec=t?.extensionCodec??wy.defaultCodec,this.context=t?.context,this.useBigInt64=t?.useBigInt64??!1,this.rawStrings=t?.rawStrings??!1,this.maxStrLength=t?.maxStrLength??Ed,this.maxBinLength=t?.maxBinLength??Ed,this.maxArrayLength=t?.maxArrayLength??Ed,this.maxMapLength=t?.maxMapLength??Ed,this.maxExtLength=t?.maxExtLength??Ed,this.keyDecoder=t?.keyDecoder!==void 0?t.keyDecoder:RQ,this.mapKeyConverter=t?.mapKeyConverter??MQ}clone(){return new v$({extensionCodec:this.extensionCodec,context:this.context,useBigInt64:this.useBigInt64,rawStrings:this.rawStrings,maxStrLength:this.maxStrLength,maxBinLength:this.maxBinLength,maxArrayLength:this.maxArrayLength,maxMapLength:this.maxMapLength,maxExtLength:this.maxExtLength,keyDecoder:this.keyDecoder})}reinitializeState(){this.totalPos=0,this.headByte=Sd,this.stack.reset()}setBuffer(t){const n=yE(t);this.bytes=n,this.view=new DataView(n.buffer,n.byteOffset,n.byteLength),this.pos=0}appendBuffer(t){if(this.headByte===Sd&&!this.hasRemaining(1))this.setBuffer(t);else{const n=this.bytes.subarray(this.pos),r=yE(t),s=new Uint8Array(n.length+r.length);s.set(n),s.set(r,n.length),this.setBuffer(s)}}hasRemaining(t){return this.view.byteLength-this.pos>=t}createExtraByteError(t){const{view:n,pos:r}=this;return new RangeError(`Extra ${n.byteLength-r} of ${n.byteLength} byte(s) found at buffer[${t}]`)}decode(t){if(this.entered)return this.clone().decode(t);try{this.entered=!0,this.reinitializeState(),this.setBuffer(t);const n=this.doDecodeSync();if(this.hasRemaining(1))throw this.createExtraByteError(this.pos);return n}finally{this.entered=!1}}*decodeMulti(t){if(this.entered){yield*this.clone().decodeMulti(t);return}try{for(this.entered=!0,this.reinitializeState(),this.setBuffer(t);this.hasRemaining(1);)yield this.doDecodeSync()}finally{this.entered=!1}}async decodeAsync(t){if(this.entered)return this.clone().decodeAsync(t);try{this.entered=!0;let n=!1,r;for await(const l of t){if(n)throw this.entered=!1,this.createExtraByteError(this.totalPos);this.appendBuffer(l);try{r=this.doDecodeSync(),n=!0}catch(f){if(!(f instanceof RangeError))throw f}this.totalPos+=this.pos}if(n){if(this.hasRemaining(1))throw this.createExtraByteError(this.totalPos);return r}const{headByte:s,pos:o,totalPos:c}=this;throw new RangeError(`Insufficient data in parsing ${Sv(s)} at ${c} (${o} in the current buffer)`)}finally{this.entered=!1}}decodeArrayStream(t){return this.decodeMultiAsync(t,!0)}decodeStream(t){return this.decodeMultiAsync(t,!1)}async*decodeMultiAsync(t,n){if(this.entered){yield*this.clone().decodeMultiAsync(t,n);return}try{this.entered=!0;let r=n,s=-1;for await(const o of t){if(n&&s===0)throw this.createExtraByteError(this.totalPos);this.appendBuffer(o),r&&(s=this.readArraySize(),r=!1,this.complete());try{for(;yield this.doDecodeSync(),--s!==0;);}catch(c){if(!(c instanceof RangeError))throw c}this.totalPos+=this.pos}}finally{this.entered=!1}}doDecodeSync(){e:for(;;){const t=this.readHeadByte();let n;if(t>=224)n=t-256;else if(t<192)if(t<128)n=t;else if(t<144){const s=t-128;if(s!==0){this.pushMapState(s),this.complete();continue e}else n={}}else if(t<160){const s=t-144;if(s!==0){this.pushArrayState(s),this.complete();continue e}else n=[]}else{const s=t-160;n=this.decodeString(s,0)}else if(t===192)n=null;else if(t===194)n=!1;else if(t===195)n=!0;else if(t===202)n=this.readF32();else if(t===203)n=this.readF64();else if(t===204)n=this.readU8();else if(t===205)n=this.readU16();else if(t===206)n=this.readU32();else if(t===207)this.useBigInt64?n=this.readU64AsBigInt():n=this.readU64();else if(t===208)n=this.readI8();else if(t===209)n=this.readI16();else if(t===210)n=this.readI32();else if(t===211)this.useBigInt64?n=this.readI64AsBigInt():n=this.readI64();else if(t===217){const s=this.lookU8();n=this.decodeString(s,1)}else if(t===218){const s=this.lookU16();n=this.decodeString(s,2)}else if(t===219){const s=this.lookU32();n=this.decodeString(s,4)}else if(t===220){const s=this.readU16();if(s!==0){this.pushArrayState(s),this.complete();continue e}else n=[]}else if(t===221){const s=this.readU32();if(s!==0){this.pushArrayState(s),this.complete();continue e}else n=[]}else if(t===222){const s=this.readU16();if(s!==0){this.pushMapState(s),this.complete();continue e}else n={}}else if(t===223){const s=this.readU32();if(s!==0){this.pushMapState(s),this.complete();continue e}else n={}}else if(t===196){const s=this.lookU8();n=this.decodeBinary(s,1)}else if(t===197){const s=this.lookU16();n=this.decodeBinary(s,2)}else if(t===198){const s=this.lookU32();n=this.decodeBinary(s,4)}else if(t===212)n=this.decodeExtension(1,0);else if(t===213)n=this.decodeExtension(2,0);else if(t===214)n=this.decodeExtension(4,0);else if(t===215)n=this.decodeExtension(8,0);else if(t===216)n=this.decodeExtension(16,0);else if(t===199){const s=this.lookU8();n=this.decodeExtension(s,1)}else if(t===200){const s=this.lookU16();n=this.decodeExtension(s,2)}else if(t===201){const s=this.lookU32();n=this.decodeExtension(s,4)}else throw new as(`Unrecognized type byte: ${Sv(t)}`);this.complete();const r=this.stack;for(;r.length>0;){const s=r.top();if(s.type===wE)if(s.array[s.position]=n,s.position++,s.position===s.size)n=s.array,r.release(s);else continue e;else if(s.type===Yd){if(n==="__proto__")throw new as("The key __proto__ is not allowed");s.key=this.mapKeyConverter(n),s.type=b$;continue e}else if(s.map[s.key]=n,s.readCount++,s.readCount===s.size)n=s.map,r.release(s);else{s.key=null,s.type=Yd;continue e}}return n}}readHeadByte(){return this.headByte===Sd&&(this.headByte=this.readU8()),this.headByte}complete(){this.headByte=Sd}readArraySize(){const t=this.readHeadByte();switch(t){case 220:return this.readU16();case 221:return this.readU32();default:{if(t<160)return t-144;throw new as(`Unrecognized array type byte: ${Sv(t)}`)}}}pushMapState(t){if(t>this.maxMapLength)throw new as(`Max length exceeded: map length (${t}) > maxMapLengthLength (${this.maxMapLength})`);this.stack.pushMapState(t)}pushArrayState(t){if(t>this.maxArrayLength)throw new as(`Max length exceeded: array length (${t}) > maxArrayLength (${this.maxArrayLength})`);this.stack.pushArrayState(t)}decodeString(t,n){return!this.rawStrings||this.stateIsMapKey()?this.decodeUtf8String(t,n):this.decodeBinary(t,n)}decodeUtf8String(t,n){if(t>this.maxStrLength)throw new as(`Max length exceeded: UTF-8 byte length (${t}) > maxStrLength (${this.maxStrLength})`);if(this.bytes.byteLength<this.pos+n+t)throw SI;const r=this.pos+n;let s;return this.stateIsMapKey()&&this.keyDecoder?.canBeCached(t)?s=this.keyDecoder.decode(this.bytes,r,t):s=hQ(this.bytes,r,t),this.pos+=n+t,s}stateIsMapKey(){return this.stack.length>0?this.stack.top().type===Yd:!1}decodeBinary(t,n){if(t>this.maxBinLength)throw new as(`Max length exceeded: bin length (${t}) > maxBinLength (${this.maxBinLength})`);if(!this.hasRemaining(t+n))throw SI;const r=this.pos+n,s=this.bytes.subarray(r,r+t);return this.pos+=n+t,s}decodeExtension(t,n){if(t>this.maxExtLength)throw new as(`Max length exceeded: ext length (${t}) > maxExtLength (${this.maxExtLength})`);const r=this.view.getInt8(this.pos+n),s=this.decodeBinary(t,n+1);return this.extensionCodec.decode(s,r,this.context)}lookU8(){return this.view.getUint8(this.pos)}lookU16(){return this.view.getUint16(this.pos)}lookU32(){return this.view.getUint32(this.pos)}readU8(){const t=this.view.getUint8(this.pos);return this.pos++,t}readI8(){const t=this.view.getInt8(this.pos);return this.pos++,t}readU16(){const t=this.view.getUint16(this.pos);return this.pos+=2,t}readI16(){const t=this.view.getInt16(this.pos);return this.pos+=2,t}readU32(){const t=this.view.getUint32(this.pos);return this.pos+=4,t}readI32(){const t=this.view.getInt32(this.pos);return this.pos+=4,t}readU64(){const t=pQ(this.view,this.pos);return this.pos+=8,t}readI64(){const t=y$(this.view,this.pos);return this.pos+=8,t}readU64AsBigInt(){const t=this.view.getBigUint64(this.pos);return this.pos+=8,t}readI64AsBigInt(){const t=this.view.getBigInt64(this.pos);return this.pos+=8,t}readF32(){const t=this.view.getFloat32(this.pos);return this.pos+=4,t}readF64(){const t=this.view.getFloat64(this.pos);return this.pos+=8,t}};function BQ(e,t){return new PQ(t).decode(e)}function UA(e){return globalThis.Buffer!=null?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):e}function E$(e=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?UA(globalThis.Buffer.allocUnsafe(e)):new Uint8Array(e)}function Xd(e,t){t||(t=e.reduce((s,o)=>s+o.length,0));const n=E$(t);let r=0;for(const s of e)n.set(s,r),r+=s.length;return UA(n)}function LQ(e,t){if(e.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),r=0;r<n.length;r++)n[r]=255;for(var s=0;s<e.length;s++){var o=e.charAt(s),c=o.charCodeAt(0);if(n[c]!==255)throw new TypeError(o+" is ambiguous");n[c]=s}var l=e.length,f=e.charAt(0),d=Math.log(l)/Math.log(256),p=Math.log(256)/Math.log(l);function g(v){if(v instanceof Uint8Array||(ArrayBuffer.isView(v)?v=new Uint8Array(v.buffer,v.byteOffset,v.byteLength):Array.isArray(v)&&(v=Uint8Array.from(v))),!(v instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(v.length===0)return"";for(var E=0,S=0,C=0,O=v.length;C!==O&&v[C]===0;)C++,E++;for(var x=(O-C)*p+1>>>0,N=new Uint8Array(x);C!==O;){for(var T=v[C],I=0,R=x-1;(T!==0||I<S)&&R!==-1;R--,I++)T+=256*N[R]>>>0,N[R]=T%l>>>0,T=T/l>>>0;if(T!==0)throw new Error("Non-zero carry");S=I,C++}for(var L=x-S;L!==x&&N[L]===0;)L++;for(var U=f.repeat(E);L<x;++L)U+=e.charAt(N[L]);return U}function y(v){if(typeof v!="string")throw new TypeError("Expected String");if(v.length===0)return new Uint8Array;var E=0;if(v[E]!==" "){for(var S=0,C=0;v[E]===f;)S++,E++;for(var O=(v.length-E)*d+1>>>0,x=new Uint8Array(O);v[E];){var N=n[v.charCodeAt(E)];if(N===255)return;for(var T=0,I=O-1;(N!==0||T<C)&&I!==-1;I--,T++)N+=l*x[I]>>>0,x[I]=N%256>>>0,N=N/256>>>0;if(N!==0)throw new Error("Non-zero carry");C=T,E++}if(v[E]!==" "){for(var R=O-C;R!==O&&x[R]===0;)R++;for(var L=new Uint8Array(S+(O-R)),U=S;R!==O;)L[U++]=x[R++];return L}}}function b(v){var E=y(v);if(E)return E;throw new Error(`Non-${t} character`)}return{encode:g,decodeUnsafe:y,decode:b}}var kQ=LQ,jQ=kQ;const zQ=e=>{if(e instanceof Uint8Array&&e.constructor.name==="Uint8Array")return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw new Error("Unknown type, must be binary type")},HQ=e=>new TextEncoder().encode(e),FQ=e=>new TextDecoder().decode(e);class qQ{constructor(t,n,r){this.name=t,this.prefix=n,this.baseEncode=r}encode(t){if(t instanceof Uint8Array)return`${this.prefix}${this.baseEncode(t)}`;throw Error("Unknown type, must be binary type")}}class VQ{constructor(t,n,r){if(this.name=t,this.prefix=n,n.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=n.codePointAt(0),this.baseDecode=r}decode(t){if(typeof t=="string"){if(t.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(t)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(t.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(t){return S$(this,t)}}class WQ{constructor(t){this.decoders=t}or(t){return S$(this,t)}decode(t){const n=t[0],r=this.decoders[n];if(r)return r.decode(t);throw RangeError(`Unable to decode multibase string ${JSON.stringify(t)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const S$=(e,t)=>new WQ({...e.decoders||{[e.prefix]:e},...t.decoders||{[t.prefix]:t}});class KQ{constructor(t,n,r,s){this.name=t,this.prefix=n,this.baseEncode=r,this.baseDecode=s,this.encoder=new qQ(t,n,r),this.decoder=new VQ(t,n,s)}encode(t){return this.encoder.encode(t)}decode(t){return this.decoder.decode(t)}}const Ky=({name:e,prefix:t,encode:n,decode:r})=>new KQ(e,t,n,r),mg=({prefix:e,name:t,alphabet:n})=>{const{encode:r,decode:s}=jQ(n,t);return Ky({prefix:e,name:t,encode:r,decode:o=>zQ(s(o))})},GQ=(e,t,n,r)=>{const s={};for(let p=0;p<t.length;++p)s[t[p]]=p;let o=e.length;for(;e[o-1]==="=";)--o;const c=new Uint8Array(o*n/8|0);let l=0,f=0,d=0;for(let p=0;p<o;++p){const g=s[e[p]];if(g===void 0)throw new SyntaxError(`Non-${r} character`);f=f<<n|g,l+=n,l>=8&&(l-=8,c[d++]=255&f>>l)}if(l>=n||255&f<<8-l)throw new SyntaxError("Unexpected end of data");return c},YQ=(e,t,n)=>{const r=t[t.length-1]==="=",s=(1<<n)-1;let o="",c=0,l=0;for(let f=0;f<e.length;++f)for(l=l<<8|e[f],c+=8;c>n;)c-=n,o+=t[s&l>>c];if(c&&(o+=t[s&l<<n-c]),r)for(;o.length*n&7;)o+="=";return o},Xn=({name:e,prefix:t,bitsPerChar:n,alphabet:r})=>Ky({prefix:t,name:e,encode(s){return YQ(s,r,n)},decode(s){return GQ(s,r,n,e)}}),XQ=Ky({prefix:"\0",name:"identity",encode:e=>FQ(e),decode:e=>HQ(e)}),ZQ=Object.freeze(Object.defineProperty({__proto__:null,identity:XQ},Symbol.toStringTag,{value:"Module"})),QQ=Xn({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1}),JQ=Object.freeze(Object.defineProperty({__proto__:null,base2:QQ},Symbol.toStringTag,{value:"Module"})),eJ=Xn({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3}),tJ=Object.freeze(Object.defineProperty({__proto__:null,base8:eJ},Symbol.toStringTag,{value:"Module"})),nJ=mg({prefix:"9",name:"base10",alphabet:"0123456789"}),rJ=Object.freeze(Object.defineProperty({__proto__:null,base10:nJ},Symbol.toStringTag,{value:"Module"})),sJ=Xn({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),iJ=Xn({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4}),oJ=Object.freeze(Object.defineProperty({__proto__:null,base16:sJ,base16upper:iJ},Symbol.toStringTag,{value:"Module"})),aJ=Xn({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),cJ=Xn({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),lJ=Xn({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),uJ=Xn({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),fJ=Xn({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),hJ=Xn({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),dJ=Xn({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),pJ=Xn({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),gJ=Xn({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),mJ=Object.freeze(Object.defineProperty({__proto__:null,base32:aJ,base32hex:fJ,base32hexpad:dJ,base32hexpadupper:pJ,base32hexupper:hJ,base32pad:lJ,base32padupper:uJ,base32upper:cJ,base32z:gJ},Symbol.toStringTag,{value:"Module"})),yJ=mg({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),wJ=mg({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"}),bJ=Object.freeze(Object.defineProperty({__proto__:null,base36:yJ,base36upper:wJ},Symbol.toStringTag,{value:"Module"})),vJ=mg({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),EJ=mg({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),SJ=Object.freeze(Object.defineProperty({__proto__:null,base58btc:vJ,base58flickr:EJ},Symbol.toStringTag,{value:"Module"})),AJ=Xn({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),CJ=Xn({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),xJ=Xn({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),NJ=Xn({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6}),TJ=Object.freeze(Object.defineProperty({__proto__:null,base64:AJ,base64pad:CJ,base64url:xJ,base64urlpad:NJ},Symbol.toStringTag,{value:"Module"})),A$=Array.from(""),_J=A$.reduce((e,t,n)=>(e[n]=t,e),[]),IJ=A$.reduce((e,t,n)=>(e[t.codePointAt(0)]=n,e),[]);function OJ(e){return e.reduce((t,n)=>(t+=_J[n],t),"")}function DJ(e){const t=[];for(const n of e){const r=IJ[n.codePointAt(0)];if(r===void 0)throw new Error(`Non-base256emoji character: ${n}`);t.push(r)}return new Uint8Array(t)}const MJ=Ky({prefix:"",name:"base256emoji",encode:OJ,decode:DJ}),$J=Object.freeze(Object.defineProperty({__proto__:null,base256emoji:MJ},Symbol.toStringTag,{value:"Module"}));new TextEncoder;new TextDecoder;const AI={...ZQ,...JQ,...tJ,...rJ,...oJ,...mJ,...bJ,...SJ,...TJ,...$J};function C$(e,t,n,r){return{name:e,prefix:t,encoder:{name:e,prefix:t,encode:n},decoder:{decode:r}}}const CI=C$("utf8","u",e=>"u"+new TextDecoder("utf8").decode(e),e=>new TextEncoder().encode(e.substring(1))),Av=C$("ascii","a",e=>{let t="a";for(let n=0;n<e.length;n++)t+=String.fromCharCode(e[n]);return t},e=>{e=e.substring(1);const t=E$(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}),x$={utf8:CI,"utf-8":CI,hex:AI.base16,latin1:Av,ascii:Av,binary:Av,...AI};function zs(e,t="utf8"){const n=x$[t];if(!n)throw new Error(`Unsupported encoding "${t}"`);return(t==="utf8"||t==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?UA(globalThis.Buffer.from(e,"utf-8")):n.decoder.decode(`${n.prefix}${e}`)}function jr(e,t="utf8"){const n=x$[t];if(!n)throw new Error(`Unsupported encoding "${t}"`);return(t==="utf8"||t==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(e.buffer,e.byteOffset,e.byteLength).toString("utf8"):n.encoder.encode(e).substring(1)}const UJ={waku:{publish:"waku_publish",batchPublish:"waku_batchPublish",subscribe:"waku_subscribe",batchSubscribe:"waku_batchSubscribe",subscription:"waku_subscription",unsubscribe:"waku_unsubscribe",batchUnsubscribe:"waku_batchUnsubscribe",batchFetchMessages:"waku_batchFetchMessages"},irn:{publish:"irn_publish",batchPublish:"irn_batchPublish",subscribe:"irn_subscribe",batchSubscribe:"irn_batchSubscribe",subscription:"irn_subscription",unsubscribe:"irn_unsubscribe",batchUnsubscribe:"irn_batchUnsubscribe",batchFetchMessages:"irn_batchFetchMessages"},iridium:{publish:"iridium_publish",batchPublish:"iridium_batchPublish",subscribe:"iridium_subscribe",batchSubscribe:"iridium_batchSubscribe",subscription:"iridium_subscription",unsubscribe:"iridium_unsubscribe",batchUnsubscribe:"iridium_batchUnsubscribe",batchFetchMessages:"iridium_batchFetchMessages"}};var Cv,xI;function N$(){if(xI)return Cv;xI=1;const e="Input must be an string, Buffer or Uint8Array";function t(c){let l;if(c instanceof Uint8Array)l=c;else if(typeof c=="string")l=new TextEncoder().encode(c);else throw new Error(e);return l}function n(c){return Array.prototype.map.call(c,function(l){return(l<16?"0":"")+l.toString(16)}).join("")}function r(c){return(4294967296+c).toString(16).substring(1)}function s(c,l,f){let d=`
`+c+" = ";for(let p=0;p<l.length;p+=2){if(f===32)d+=r(l[p]).toUpperCase(),d+=" ",d+=r(l[p+1]).toUpperCase();else if(f===64)d+=r(l[p+1]).toUpperCase(),d+=r(l[p]).toUpperCase();else throw new Error("Invalid size "+f);p%6===4?d+=`
`+new Array(c.length+4).join(" "):p<l.length-2&&(d+=" ")}console.log(d)}function o(c,l,f){let d=new Date().getTime();const p=new Uint8Array(l);for(let y=0;y<l;y++)p[y]=y%256;const g=new Date().getTime();console.log("Generated random input in "+(g-d)+"ms"),d=g;for(let y=0;y<f;y++){const b=c(p),v=new Date().getTime(),E=v-d;d=v,console.log("Hashed in "+E+"ms: "+b.substring(0,20)+"..."),console.log(Math.round(l/(1<<20)/(E/1e3)*100)/100+" MB PER SECOND")}}return Cv={normalizeInput:t,toHex:n,debugPrint:s,testSpeed:o},Cv}var xv,NI;function RJ(){if(NI)return xv;NI=1;const e=N$();function t(C,O,x){const N=C[O]+C[x];let T=C[O+1]+C[x+1];N>=4294967296&&T++,C[O]=N,C[O+1]=T}function n(C,O,x,N){let T=C[O]+x;x<0&&(T+=4294967296);let I=C[O+1]+N;T>=4294967296&&I++,C[O]=T,C[O+1]=I}function r(C,O){return C[O]^C[O+1]<<8^C[O+2]<<16^C[O+3]<<24}function s(C,O,x,N,T,I){const R=d[T],L=d[T+1],U=d[I],D=d[I+1];t(f,C,O),n(f,C,R,L);let B=f[N]^f[C],H=f[N+1]^f[C+1];f[N]=H,f[N+1]=B,t(f,x,N),B=f[O]^f[x],H=f[O+1]^f[x+1],f[O]=B>>>24^H<<8,f[O+1]=H>>>24^B<<8,t(f,C,O),n(f,C,U,D),B=f[N]^f[C],H=f[N+1]^f[C+1],f[N]=B>>>16^H<<16,f[N+1]=H>>>16^B<<16,t(f,x,N),B=f[O]^f[x],H=f[O+1]^f[x+1],f[O]=H>>>31^B<<1,f[O+1]=B>>>31^H<<1}const o=new Uint32Array([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),c=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3],l=new Uint8Array(c.map(function(C){return C*2})),f=new Uint32Array(32),d=new Uint32Array(32);function p(C,O){let x=0;for(x=0;x<16;x++)f[x]=C.h[x],f[x+16]=o[x];for(f[24]=f[24]^C.t,f[25]=f[25]^C.t/4294967296,O&&(f[28]=~f[28],f[29]=~f[29]),x=0;x<32;x++)d[x]=r(C.b,4*x);for(x=0;x<12;x++)s(0,8,16,24,l[x*16+0],l[x*16+1]),s(2,10,18,26,l[x*16+2],l[x*16+3]),s(4,12,20,28,l[x*16+4],l[x*16+5]),s(6,14,22,30,l[x*16+6],l[x*16+7]),s(0,10,20,30,l[x*16+8],l[x*16+9]),s(2,12,22,24,l[x*16+10],l[x*16+11]),s(4,14,16,26,l[x*16+12],l[x*16+13]),s(6,8,18,28,l[x*16+14],l[x*16+15]);for(x=0;x<16;x++)C.h[x]=C.h[x]^f[x]^f[x+16]}const g=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]);function y(C,O,x,N){if(C===0||C>64)throw new Error("Illegal output length, expected 0 < length <= 64");if(O&&O.length>64)throw new Error("Illegal key, expected Uint8Array with 0 < length <= 64");if(x&&x.length!==16)throw new Error("Illegal salt, expected Uint8Array with length is 16");if(N&&N.length!==16)throw new Error("Illegal personal, expected Uint8Array with length is 16");const T={b:new Uint8Array(128),h:new Uint32Array(16),t:0,c:0,outlen:C};g.fill(0),g[0]=C,O&&(g[1]=O.length),g[2]=1,g[3]=1,x&&g.set(x,32),N&&g.set(N,48);for(let I=0;I<16;I++)T.h[I]=o[I]^r(g,I*4);return O&&(b(T,O),T.c=128),T}function b(C,O){for(let x=0;x<O.length;x++)C.c===128&&(C.t+=C.c,p(C,!1),C.c=0),C.b[C.c++]=O[x]}function v(C){for(C.t+=C.c;C.c<128;)C.b[C.c++]=0;p(C,!0);const O=new Uint8Array(C.outlen);for(let x=0;x<C.outlen;x++)O[x]=C.h[x>>2]>>8*(x&3);return O}function E(C,O,x,N,T){x=x||64,C=e.normalizeInput(C),N&&(N=e.normalizeInput(N)),T&&(T=e.normalizeInput(T));const I=y(x,O,N,T);return b(I,C),v(I)}function S(C,O,x,N,T){const I=E(C,O,x,N,T);return e.toHex(I)}return xv={blake2b:E,blake2bHex:S,blake2bInit:y,blake2bUpdate:b,blake2bFinal:v},xv}var Nv,TI;function PJ(){if(TI)return Nv;TI=1;const e=N$();function t(v,E){return v[E]^v[E+1]<<8^v[E+2]<<16^v[E+3]<<24}function n(v,E,S,C,O,x){c[v]=c[v]+c[E]+O,c[C]=r(c[C]^c[v],16),c[S]=c[S]+c[C],c[E]=r(c[E]^c[S],12),c[v]=c[v]+c[E]+x,c[C]=r(c[C]^c[v],8),c[S]=c[S]+c[C],c[E]=r(c[E]^c[S],7)}function r(v,E){return v>>>E^v<<32-E}const s=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),o=new Uint8Array([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0]),c=new Uint32Array(16),l=new Uint32Array(16);function f(v,E){let S=0;for(S=0;S<8;S++)c[S]=v.h[S],c[S+8]=s[S];for(c[12]^=v.t,c[13]^=v.t/4294967296,E&&(c[14]=~c[14]),S=0;S<16;S++)l[S]=t(v.b,4*S);for(S=0;S<10;S++)n(0,4,8,12,l[o[S*16+0]],l[o[S*16+1]]),n(1,5,9,13,l[o[S*16+2]],l[o[S*16+3]]),n(2,6,10,14,l[o[S*16+4]],l[o[S*16+5]]),n(3,7,11,15,l[o[S*16+6]],l[o[S*16+7]]),n(0,5,10,15,l[o[S*16+8]],l[o[S*16+9]]),n(1,6,11,12,l[o[S*16+10]],l[o[S*16+11]]),n(2,7,8,13,l[o[S*16+12]],l[o[S*16+13]]),n(3,4,9,14,l[o[S*16+14]],l[o[S*16+15]]);for(S=0;S<8;S++)v.h[S]^=c[S]^c[S+8]}function d(v,E){if(!(v>0&&v<=32))throw new Error("Incorrect output length, should be in [1, 32]");const S=E?E.length:0;if(E&&!(S>0&&S<=32))throw new Error("Incorrect key length, should be in [1, 32]");const C={h:new Uint32Array(s),b:new Uint8Array(64),c:0,t:0,outlen:v};return C.h[0]^=16842752^S<<8^v,S>0&&(p(C,E),C.c=64),C}function p(v,E){for(let S=0;S<E.length;S++)v.c===64&&(v.t+=v.c,f(v,!1),v.c=0),v.b[v.c++]=E[S]}function g(v){for(v.t+=v.c;v.c<64;)v.b[v.c++]=0;f(v,!0);const E=new Uint8Array(v.outlen);for(let S=0;S<v.outlen;S++)E[S]=v.h[S>>2]>>8*(S&3)&255;return E}function y(v,E,S){S=S||32,v=e.normalizeInput(v);const C=d(S,E);return p(C,v),g(C)}function b(v,E,S){const C=y(v,E,S);return e.toHex(C)}return Nv={blake2s:y,blake2sHex:b,blake2sInit:d,blake2sUpdate:p,blake2sFinal:g},Nv}var Tv,_I;function BJ(){if(_I)return Tv;_I=1;const e=RJ(),t=PJ();return Tv={blake2b:e.blake2b,blake2bHex:e.blake2bHex,blake2bInit:e.blake2bInit,blake2bUpdate:e.blake2bUpdate,blake2bFinal:e.blake2bFinal,blake2s:t.blake2s,blake2sHex:t.blake2sHex,blake2sInit:t.blake2sInit,blake2sUpdate:t.blake2sUpdate,blake2sFinal:t.blake2sFinal},Tv}var LJ=BJ(),kJ={};const jJ=":";function _f(e){const[t,n]=e.split(jJ);return{namespace:t,reference:n}}function T$(e,t){return e.includes(":")?[e]:t.chains||[]}var zJ=Object.defineProperty,HJ=Object.defineProperties,FJ=Object.getOwnPropertyDescriptors,II=Object.getOwnPropertySymbols,qJ=Object.prototype.hasOwnProperty,VJ=Object.prototype.propertyIsEnumerable,bE=(e,t,n)=>t in e?zJ(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,OI=(e,t)=>{for(var n in t||(t={}))qJ.call(t,n)&&bE(e,n,t[n]);if(II)for(var n of II(t))VJ.call(t,n)&&bE(e,n,t[n]);return e},WJ=(e,t)=>HJ(e,FJ(t)),DI=(e,t,n)=>bE(e,typeof t!="symbol"?t+"":t,n);const KJ="ReactNative",fs={reactNative:"react-native",node:"node",browser:"browser",unknown:"unknown"},GJ="js";function by(){return typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"}function yc(){return!Xo.getDocument()&&!!Xo.getNavigator()&&navigator.product===KJ}function YJ(){return yc()&&typeof global<"u"&&typeof(global==null?void 0:global.Platform)<"u"&&(global==null?void 0:global.Platform.OS)==="android"}function XJ(){return yc()&&typeof global<"u"&&typeof(global==null?void 0:global.Platform)<"u"&&(global==null?void 0:global.Platform.OS)==="ios"}function ch(){return!by()&&!!Xo.getNavigator()&&!!Xo.getDocument()}function yg(){return yc()?fs.reactNative:by()?fs.node:ch()?fs.browser:fs.unknown}function MI(){var e;try{return yc()&&typeof global<"u"&&typeof(global==null?void 0:global.Application)<"u"?(e=global.Application)==null?void 0:e.applicationId:void 0}catch{return}}function ZJ(e,t){const n=new URLSearchParams(e);for(const r of Object.keys(t).sort())if(t.hasOwnProperty(r)){const s=t[r];s!==void 0&&n.set(r,s)}return n.toString()}function QJ(e){var t,n;const r=_$();try{return e!=null&&e.url&&r.url&&new URL(e.url).host!==new URL(r.url).host&&(console.warn(`The configured WalletConnect 'metadata.url':${e.url} differs from the actual page url:${r.url}. This is probably unintended and can lead to issues.`),e.url=r.url),(t=e?.icons)!=null&&t.length&&e.icons.length>0&&(e.icons=e.icons.filter(s=>s!=="")),WJ(OI(OI({},r),e),{url:e?.url||r.url,name:e?.name||r.name,description:e?.description||r.description,icons:(n=e?.icons)!=null&&n.length&&e.icons.length>0?e.icons:r.icons})}catch(s){return console.warn("Error populating app metadata",s),e||r}}function _$(){return uZ.getWindowMetadata()||{name:"",description:"",url:"",icons:[""]}}function JJ(){if(yg()===fs.reactNative&&typeof global<"u"&&typeof(global==null?void 0:global.Platform)<"u"){const{OS:n,Version:r}=global.Platform;return[n,r].join("-")}const e=rZ();if(e===null)return"unknown";const t=e.os?e.os.replace(" ","").toLowerCase():"unknown";return e.type==="browser"?[t,e.name,e.version].join("-"):[t,e.version].join("-")}function eee(){var e;const t=yg();return t===fs.browser?[t,((e=Xo.getLocation())==null?void 0:e.host)||"unknown"].join(":"):t}function I$(e,t,n){const r=JJ(),s=eee();return[[e,t].join("-"),[GJ,n].join("-"),r,s].join("/")}function tee({protocol:e,version:t,relayUrl:n,sdkVersion:r,auth:s,projectId:o,useOnCloseEvent:c,bundleId:l,packageName:f}){const d=n.split("?"),p=I$(e,t,r),g={auth:s,ua:p,projectId:o,useOnCloseEvent:c,packageName:f||void 0,bundleId:l||void 0},y=ZJ(d[1]||"",g);return d[0]+"?"+y}function gl(e,t){return e.filter(n=>t.includes(n)).length===e.length}function vE(e){return Object.fromEntries(e.entries())}function EE(e){return new Map(Object.entries(e))}function sl(e=we.FIVE_MINUTES,t){const n=we.toMiliseconds(e||we.FIVE_MINUTES);let r,s,o,c;return{resolve:l=>{o&&r&&(clearTimeout(o),r(l),c=Promise.resolve(l))},reject:l=>{o&&s&&(clearTimeout(o),s(l))},done:()=>new Promise((l,f)=>{if(c)return l(c);o=setTimeout(()=>{const d=new Error(t);c=Promise.reject(d),f(d)},n),r=l,s=f})}}function tc(e,t,n){return new Promise(async(r,s)=>{const o=setTimeout(()=>s(new Error(n)),t);try{const c=await e;r(c)}catch(c){s(c)}clearTimeout(o)})}function O$(e,t){if(typeof t=="string"&&t.startsWith(`${e}:`))return t;if(e.toLowerCase()==="topic"){if(typeof t!="string")throw new Error('Value must be "string" for expirer target type: topic');return`topic:${t}`}else if(e.toLowerCase()==="id"){if(typeof t!="number")throw new Error('Value must be "number" for expirer target type: id');return`id:${t}`}throw new Error(`Unknown expirer target type: ${e}`)}function nee(e){return O$("topic",e)}function ree(e){return O$("id",e)}function D$(e){const[t,n]=e.split(":"),r={id:void 0,topic:void 0};if(t==="topic"&&typeof n=="string")r.topic=n;else if(t==="id"&&Number.isInteger(Number(n)))r.id=Number(n);else throw new Error(`Invalid target, expected id:number or topic:string, got ${t}:${n}`);return r}function Nn(e,t){return we.fromMiliseconds(Date.now()+we.toMiliseconds(e))}function Wa(e){return Date.now()>=we.toMiliseconds(e)}function wt(e,t){return`${e}${t?`:${t}`:""}`}function Xi(e=[],t=[]){return[...new Set([...e,...t])]}async function see({id:e,topic:t,wcDeepLink:n}){var r;try{if(!n)return;const s=typeof n=="string"?JSON.parse(n):n,o=s?.href;if(typeof o!="string")return;const c=iee(o,e,t),l=yg();if(l===fs.browser){if(!((r=Xo.getDocument())!=null&&r.hasFocus())){console.warn("Document does not have focus, skipping deeplink.");return}oee(c)}else l===fs.reactNative&&typeof(global==null?void 0:global.Linking)<"u"&&await global.Linking.openURL(c)}catch(s){console.error(s)}}function iee(e,t,n){const r=`requestId=${t}&sessionTopic=${n}`;e.endsWith("/")&&(e=e.slice(0,-1));let s=`${e}`;if(e.startsWith("https://t.me")){const o=e.includes("?")?"&startapp=":"?startapp=";s=`${s}${o}${uee(r,!0)}`}else s=`${s}/wc?${r}`;return s}function oee(e){let t="_self";lee()?t="_top":(cee()||e.startsWith("https://")||e.startsWith("http://"))&&(t="_blank"),window.open(e,t,"noreferrer noopener")}async function aee(e,t){let n="";try{if(ch()&&(n=localStorage.getItem(t),n))return n;n=await e.getItem(t)}catch(r){console.error(r)}return n}function $I(e,t){if(!e.includes(t))return null;const n=e.split(/([&,?,=])/),r=n.indexOf(t);return n[r+2]}function UI(){return typeof crypto<"u"&&crypto!=null&&crypto.randomUUID?crypto.randomUUID():"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/gu,e=>{const t=Math.random()*16|0;return(e==="x"?t:t&3|8).toString(16)})}function RA(){return typeof process<"u"&&kJ.IS_VITEST==="true"}function cee(){return typeof window<"u"&&(!!window.TelegramWebviewProxy||!!window.Telegram||!!window.TelegramWebviewProxyProto)}function lee(){try{return window.self!==window.top}catch{return!1}}function uee(e,t=!1){const n=Buffer.from(e).toString("base64");return t?n.replace(/[=]/g,""):n}function M$(e){return Buffer.from(e,"base64").toString("utf-8")}function fee(e){return new Promise(t=>setTimeout(t,e))}let hee=class{constructor({limit:t}){DI(this,"limit"),DI(this,"set"),this.limit=t,this.set=new Set}add(t){if(!this.set.has(t)){if(this.set.size>=this.limit){const n=this.set.values().next().value;n&&this.set.delete(n)}this.set.add(t)}}has(t){return this.set.has(t)}};const u0=BigInt(2**32-1),RI=BigInt(32);function $$(e,t=!1){return t?{h:Number(e&u0),l:Number(e>>RI&u0)}:{h:Number(e>>RI&u0)|0,l:Number(e&u0)|0}}function U$(e,t=!1){const n=e.length;let r=new Uint32Array(n),s=new Uint32Array(n);for(let o=0;o<n;o++){const{h:c,l}=$$(e[o],t);[r[o],s[o]]=[c,l]}return[r,s]}const PI=(e,t,n)=>e>>>n,BI=(e,t,n)=>e<<32-n|t>>>n,Ka=(e,t,n)=>e>>>n|t<<32-n,Ga=(e,t,n)=>e<<32-n|t>>>n,Pd=(e,t,n)=>e<<64-n|t>>>n-32,Bd=(e,t,n)=>e>>>n-32|t<<64-n,dee=(e,t)=>t,pee=(e,t)=>e,gee=(e,t,n)=>e<<n|t>>>32-n,mee=(e,t,n)=>t<<n|e>>>32-n,yee=(e,t,n)=>t<<n-32|e>>>64-n,wee=(e,t,n)=>e<<n-32|t>>>64-n;function li(e,t,n,r){const s=(t>>>0)+(r>>>0);return{h:e+n+(s/2**32|0)|0,l:s|0}}const PA=(e,t,n)=>(e>>>0)+(t>>>0)+(n>>>0),BA=(e,t,n,r)=>t+n+r+(e/2**32|0)|0,bee=(e,t,n,r)=>(e>>>0)+(t>>>0)+(n>>>0)+(r>>>0),vee=(e,t,n,r,s)=>t+n+r+s+(e/2**32|0)|0,Eee=(e,t,n,r,s)=>(e>>>0)+(t>>>0)+(n>>>0)+(r>>>0)+(s>>>0),See=(e,t,n,r,s,o)=>t+n+r+s+o+(e/2**32|0)|0,Fu=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;function LA(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function Zo(e){if(!Number.isSafeInteger(e)||e<0)throw new Error("positive integer expected, got "+e)}function Fs(e,...t){if(!LA(e))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw new Error("Uint8Array expected of length "+t+", got length="+e.length)}function kA(e){if(typeof e!="function"||typeof e.create!="function")throw new Error("Hash should be wrapped by utils.createHasher");Zo(e.outputLen),Zo(e.blockLen)}function dc(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function jA(e,t){Fs(e);const n=t.outputLen;if(e.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}function Tp(e){return new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4))}function qs(...e){for(let t=0;t<e.length;t++)e[t].fill(0)}function _v(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function Ui(e,t){return e<<32-t|e>>>t}const R$=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function P$(e){return e<<24&4278190080|e<<8&16711680|e>>>8&65280|e>>>24&255}const Lo=R$?e=>e:e=>P$(e);function Aee(e){for(let t=0;t<e.length;t++)e[t]=P$(e[t]);return e}const Ya=R$?e=>e:Aee,B$=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",Cee=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function _p(e){if(Fs(e),B$)return e.toHex();let t="";for(let n=0;n<e.length;n++)t+=Cee[e[n]];return t}const Mo={_0:48,_9:57,A:65,F:70,a:97,f:102};function LI(e){if(e>=Mo._0&&e<=Mo._9)return e-Mo._0;if(e>=Mo.A&&e<=Mo.F)return e-(Mo.A-10);if(e>=Mo.a&&e<=Mo.f)return e-(Mo.a-10)}function zA(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);if(B$)return Uint8Array.fromHex(e);const t=e.length,n=t/2;if(t%2)throw new Error("hex string expected, got unpadded hex of length "+t);const r=new Uint8Array(n);for(let s=0,o=0;s<n;s++,o+=2){const c=LI(e.charCodeAt(o)),l=LI(e.charCodeAt(o+1));if(c===void 0||l===void 0){const f=e[o]+e[o+1];throw new Error('hex string expected, got non-hex character "'+f+'" at index '+o)}r[s]=c*16+l}return r}function xee(e){if(typeof e!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(e))}function mi(e){return typeof e=="string"&&(e=xee(e)),Fs(e),e}function ml(...e){let t=0;for(let r=0;r<e.length;r++){const s=e[r];Fs(s),t+=s.length}const n=new Uint8Array(t);for(let r=0,s=0;r<e.length;r++){const o=e[r];n.set(o,s),s+=o.length}return n}let Gy=class{};function wg(e){const t=r=>e().update(mi(r)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t}function Nee(e){const t=(r,s)=>e(s).update(mi(r)).digest(),n=e({});return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=r=>e(r),t}function lh(e=32){if(Fu&&typeof Fu.getRandomValues=="function")return Fu.getRandomValues(new Uint8Array(e));if(Fu&&typeof Fu.randomBytes=="function")return Uint8Array.from(Fu.randomBytes(e));throw new Error("crypto.getRandomValues must be defined")}const Tee=BigInt(0),Ad=BigInt(1),_ee=BigInt(2),Iee=BigInt(7),Oee=BigInt(256),Dee=BigInt(113),L$=[],k$=[],j$=[];for(let e=0,t=Ad,n=1,r=0;e<24;e++){[n,r]=[r,(2*n+3*r)%5],L$.push(2*(5*r+n)),k$.push((e+1)*(e+2)/2%64);let s=Tee;for(let o=0;o<7;o++)t=(t<<Ad^(t>>Iee)*Dee)%Oee,t&_ee&&(s^=Ad<<(Ad<<BigInt(o))-Ad);j$.push(s)}const z$=U$(j$,!0),Mee=z$[0],$ee=z$[1],kI=(e,t,n)=>n>32?yee(e,t,n):gee(e,t,n),jI=(e,t,n)=>n>32?wee(e,t,n):mee(e,t,n);function Uee(e,t=24){const n=new Uint32Array(10);for(let r=24-t;r<24;r++){for(let c=0;c<10;c++)n[c]=e[c]^e[c+10]^e[c+20]^e[c+30]^e[c+40];for(let c=0;c<10;c+=2){const l=(c+8)%10,f=(c+2)%10,d=n[f],p=n[f+1],g=kI(d,p,1)^n[l],y=jI(d,p,1)^n[l+1];for(let b=0;b<50;b+=10)e[c+b]^=g,e[c+b+1]^=y}let s=e[2],o=e[3];for(let c=0;c<24;c++){const l=k$[c],f=kI(s,o,l),d=jI(s,o,l),p=L$[c];s=e[p],o=e[p+1],e[p]=f,e[p+1]=d}for(let c=0;c<50;c+=10){for(let l=0;l<10;l++)n[l]=e[c+l];for(let l=0;l<10;l++)e[c+l]^=~n[(l+2)%10]&n[(l+4)%10]}e[0]^=Mee[r],e[1]^=$ee[r]}qs(n)}let Ree=class H$ extends Gy{constructor(t,n,r,s=!1,o=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=t,this.suffix=n,this.outputLen=r,this.enableXOF=s,this.rounds=o,Zo(r),!(0<t&&t<200))throw new Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=Tp(this.state)}clone(){return this._cloneInto()}keccak(){Ya(this.state32),Uee(this.state32,this.rounds),Ya(this.state32),this.posOut=0,this.pos=0}update(t){dc(this),t=mi(t),Fs(t);const{blockLen:n,state:r}=this,s=t.length;for(let o=0;o<s;){const c=Math.min(n-this.pos,s-o);for(let l=0;l<c;l++)r[this.pos++]^=t[o++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:t,suffix:n,pos:r,blockLen:s}=this;t[r]^=n,(n&128)!==0&&r===s-1&&this.keccak(),t[s-1]^=128,this.keccak()}writeInto(t){dc(this,!1),Fs(t),this.finish();const n=this.state,{blockLen:r}=this;for(let s=0,o=t.length;s<o;){this.posOut>=r&&this.keccak();const c=Math.min(r-this.posOut,o-s);t.set(n.subarray(this.posOut,this.posOut+c),s),this.posOut+=c,s+=c}return t}xofInto(t){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(t)}xof(t){return Zo(t),this.xofInto(new Uint8Array(t))}digestInto(t){if(jA(t,this),this.finished)throw new Error("digest() was already called");return this.writeInto(t),this.destroy(),t}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,qs(this.state)}_cloneInto(t){const{blockLen:n,suffix:r,outputLen:s,rounds:o,enableXOF:c}=this;return t||(t=new H$(n,r,s,c,o)),t.state32.set(this.state32),t.pos=this.pos,t.posOut=this.posOut,t.finished=this.finished,t.rounds=o,t.suffix=r,t.outputLen=s,t.enableXOF=c,t.destroyed=this.destroyed,t}};const Pee=(e,t,n)=>wg(()=>new Ree(t,e,n)),Bee=Pee(1,136,256/8);function Lee(e,t,n,r){if(typeof e.setBigUint64=="function")return e.setBigUint64(t,n,r);const s=BigInt(32),o=BigInt(4294967295),c=Number(n>>s&o),l=Number(n&o),f=r?4:0,d=r?0:4;e.setUint32(t+f,c,r),e.setUint32(t+d,l,r)}function kee(e,t,n){return e&t^~e&n}function jee(e,t,n){return e&t^e&n^t&n}let F$=class extends Gy{constructor(t,n,r,s){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=t,this.outputLen=n,this.padOffset=r,this.isLE=s,this.buffer=new Uint8Array(t),this.view=_v(this.buffer)}update(t){dc(this),t=mi(t),Fs(t);const{view:n,buffer:r,blockLen:s}=this,o=t.length;for(let c=0;c<o;){const l=Math.min(s-this.pos,o-c);if(l===s){const f=_v(t);for(;s<=o-c;c+=s)this.process(f,c);continue}r.set(t.subarray(c,c+l),this.pos),this.pos+=l,c+=l,this.pos===s&&(this.process(n,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){dc(this),jA(t,this),this.finished=!0;const{buffer:n,view:r,blockLen:s,isLE:o}=this;let{pos:c}=this;n[c++]=128,qs(this.buffer.subarray(c)),this.padOffset>s-c&&(this.process(r,0),c=0);for(let g=c;g<s;g++)n[g]=0;Lee(r,s-8,BigInt(this.length*8),o),this.process(r,0);const l=_v(t),f=this.outputLen;if(f%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const d=f/4,p=this.get();if(d>p.length)throw new Error("_sha2: outputLen bigger than state");for(let g=0;g<d;g++)l.setUint32(4*g,p[g],o)}digest(){const{buffer:t,outputLen:n}=this;this.digestInto(t);const r=t.slice(0,n);return this.destroy(),r}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:n,buffer:r,length:s,finished:o,destroyed:c,pos:l}=this;return t.destroyed=c,t.finished=o,t.length=s,t.pos=l,s%n&&t.buffer.set(r),t}clone(){return this._cloneInto()}};const Ba=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),rr=Uint32Array.from([3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]),sr=Uint32Array.from([1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209]),zee=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),La=new Uint32Array(64);let Hee=class extends F${constructor(t=32){super(64,t,8,!1),this.A=Ba[0]|0,this.B=Ba[1]|0,this.C=Ba[2]|0,this.D=Ba[3]|0,this.E=Ba[4]|0,this.F=Ba[5]|0,this.G=Ba[6]|0,this.H=Ba[7]|0}get(){const{A:t,B:n,C:r,D:s,E:o,F:c,G:l,H:f}=this;return[t,n,r,s,o,c,l,f]}set(t,n,r,s,o,c,l,f){this.A=t|0,this.B=n|0,this.C=r|0,this.D=s|0,this.E=o|0,this.F=c|0,this.G=l|0,this.H=f|0}process(t,n){for(let g=0;g<16;g++,n+=4)La[g]=t.getUint32(n,!1);for(let g=16;g<64;g++){const y=La[g-15],b=La[g-2],v=Ui(y,7)^Ui(y,18)^y>>>3,E=Ui(b,17)^Ui(b,19)^b>>>10;La[g]=E+La[g-7]+v+La[g-16]|0}let{A:r,B:s,C:o,D:c,E:l,F:f,G:d,H:p}=this;for(let g=0;g<64;g++){const y=Ui(l,6)^Ui(l,11)^Ui(l,25),b=p+y+kee(l,f,d)+zee[g]+La[g]|0,v=(Ui(r,2)^Ui(r,13)^Ui(r,22))+jee(r,s,o)|0;p=d,d=f,f=l,l=c+b|0,c=o,o=s,s=r,r=b+v|0}r=r+this.A|0,s=s+this.B|0,o=o+this.C|0,c=c+this.D|0,l=l+this.E|0,f=f+this.F|0,d=d+this.G|0,p=p+this.H|0,this.set(r,s,o,c,l,f,d,p)}roundClean(){qs(La)}destroy(){this.set(0,0,0,0,0,0,0,0),qs(this.buffer)}};const q$=U$(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(e=>BigInt(e))),Fee=q$[0],qee=q$[1],ka=new Uint32Array(80),ja=new Uint32Array(80);let HA=class extends F${constructor(t=64){super(128,t,16,!1),this.Ah=sr[0]|0,this.Al=sr[1]|0,this.Bh=sr[2]|0,this.Bl=sr[3]|0,this.Ch=sr[4]|0,this.Cl=sr[5]|0,this.Dh=sr[6]|0,this.Dl=sr[7]|0,this.Eh=sr[8]|0,this.El=sr[9]|0,this.Fh=sr[10]|0,this.Fl=sr[11]|0,this.Gh=sr[12]|0,this.Gl=sr[13]|0,this.Hh=sr[14]|0,this.Hl=sr[15]|0}get(){const{Ah:t,Al:n,Bh:r,Bl:s,Ch:o,Cl:c,Dh:l,Dl:f,Eh:d,El:p,Fh:g,Fl:y,Gh:b,Gl:v,Hh:E,Hl:S}=this;return[t,n,r,s,o,c,l,f,d,p,g,y,b,v,E,S]}set(t,n,r,s,o,c,l,f,d,p,g,y,b,v,E,S){this.Ah=t|0,this.Al=n|0,this.Bh=r|0,this.Bl=s|0,this.Ch=o|0,this.Cl=c|0,this.Dh=l|0,this.Dl=f|0,this.Eh=d|0,this.El=p|0,this.Fh=g|0,this.Fl=y|0,this.Gh=b|0,this.Gl=v|0,this.Hh=E|0,this.Hl=S|0}process(t,n){for(let x=0;x<16;x++,n+=4)ka[x]=t.getUint32(n),ja[x]=t.getUint32(n+=4);for(let x=16;x<80;x++){const N=ka[x-15]|0,T=ja[x-15]|0,I=Ka(N,T,1)^Ka(N,T,8)^PI(N,T,7),R=Ga(N,T,1)^Ga(N,T,8)^BI(N,T,7),L=ka[x-2]|0,U=ja[x-2]|0,D=Ka(L,U,19)^Pd(L,U,61)^PI(L,U,6),B=Ga(L,U,19)^Bd(L,U,61)^BI(L,U,6),H=bee(R,B,ja[x-7],ja[x-16]),X=vee(H,I,D,ka[x-7],ka[x-16]);ka[x]=X|0,ja[x]=H|0}let{Ah:r,Al:s,Bh:o,Bl:c,Ch:l,Cl:f,Dh:d,Dl:p,Eh:g,El:y,Fh:b,Fl:v,Gh:E,Gl:S,Hh:C,Hl:O}=this;for(let x=0;x<80;x++){const N=Ka(g,y,14)^Ka(g,y,18)^Pd(g,y,41),T=Ga(g,y,14)^Ga(g,y,18)^Bd(g,y,41),I=g&b^~g&E,R=y&v^~y&S,L=Eee(O,T,R,qee[x],ja[x]),U=See(L,C,N,I,Fee[x],ka[x]),D=L|0,B=Ka(r,s,28)^Pd(r,s,34)^Pd(r,s,39),H=Ga(r,s,28)^Bd(r,s,34)^Bd(r,s,39),X=r&o^r&l^o&l,Y=s&c^s&f^c&f;C=E|0,O=S|0,E=b|0,S=v|0,b=g|0,v=y|0,{h:g,l:y}=li(d|0,p|0,U|0,D|0),d=l|0,p=f|0,l=o|0,f=c|0,o=r|0,c=s|0;const M=PA(D,H,Y);r=BA(M,U,B,X),s=M|0}({h:r,l:s}=li(this.Ah|0,this.Al|0,r|0,s|0)),{h:o,l:c}=li(this.Bh|0,this.Bl|0,o|0,c|0),{h:l,l:f}=li(this.Ch|0,this.Cl|0,l|0,f|0),{h:d,l:p}=li(this.Dh|0,this.Dl|0,d|0,p|0),{h:g,l:y}=li(this.Eh|0,this.El|0,g|0,y|0),{h:b,l:v}=li(this.Fh|0,this.Fl|0,b|0,v|0),{h:E,l:S}=li(this.Gh|0,this.Gl|0,E|0,S|0),{h:C,l:O}=li(this.Hh|0,this.Hl|0,C|0,O|0),this.set(r,s,o,c,l,f,d,p,g,y,b,v,E,S,C,O)}roundClean(){qs(ka,ja)}destroy(){qs(this.buffer),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}},Vee=class extends HA{constructor(){super(48),this.Ah=rr[0]|0,this.Al=rr[1]|0,this.Bh=rr[2]|0,this.Bl=rr[3]|0,this.Ch=rr[4]|0,this.Cl=rr[5]|0,this.Dh=rr[6]|0,this.Dl=rr[7]|0,this.Eh=rr[8]|0,this.El=rr[9]|0,this.Fh=rr[10]|0,this.Fl=rr[11]|0,this.Gh=rr[12]|0,this.Gl=rr[13]|0,this.Hh=rr[14]|0,this.Hl=rr[15]|0}};const ir=Uint32Array.from([573645204,4230739756,2673172387,3360449730,596883563,1867755857,2520282905,1497426621,2519219938,2827943907,3193839141,1401305490,721525244,746961066,246885852,2177182882]);class Wee extends HA{constructor(){super(32),this.Ah=ir[0]|0,this.Al=ir[1]|0,this.Bh=ir[2]|0,this.Bl=ir[3]|0,this.Ch=ir[4]|0,this.Cl=ir[5]|0,this.Dh=ir[6]|0,this.Dl=ir[7]|0,this.Eh=ir[8]|0,this.El=ir[9]|0,this.Fh=ir[10]|0,this.Fl=ir[11]|0,this.Gh=ir[12]|0,this.Gl=ir[13]|0,this.Hh=ir[14]|0,this.Hl=ir[15]|0}}const Yy=wg(()=>new Hee),Kee=wg(()=>new HA),Gee=wg(()=>new Vee),Yee=wg(()=>new Wee),Xee=Uint8Array.from([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9]),An=Uint32Array.from([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),Ae=new Uint32Array(32);function za(e,t,n,r,s,o){const c=s[o],l=s[o+1];let f=Ae[2*e],d=Ae[2*e+1],p=Ae[2*t],g=Ae[2*t+1],y=Ae[2*n],b=Ae[2*n+1],v=Ae[2*r],E=Ae[2*r+1],S=PA(f,p,c);d=BA(S,d,g,l),f=S|0,{Dh:E,Dl:v}={Dh:E^d,Dl:v^f},{Dh:E,Dl:v}={Dh:dee(E,v),Dl:pee(E)},{h:b,l:y}=li(b,y,E,v),{Bh:g,Bl:p}={Bh:g^b,Bl:p^y},{Bh:g,Bl:p}={Bh:Ka(g,p,24),Bl:Ga(g,p,24)},Ae[2*e]=f,Ae[2*e+1]=d,Ae[2*t]=p,Ae[2*t+1]=g,Ae[2*n]=y,Ae[2*n+1]=b,Ae[2*r]=v,Ae[2*r+1]=E}function Ha(e,t,n,r,s,o){const c=s[o],l=s[o+1];let f=Ae[2*e],d=Ae[2*e+1],p=Ae[2*t],g=Ae[2*t+1],y=Ae[2*n],b=Ae[2*n+1],v=Ae[2*r],E=Ae[2*r+1],S=PA(f,p,c);d=BA(S,d,g,l),f=S|0,{Dh:E,Dl:v}={Dh:E^d,Dl:v^f},{Dh:E,Dl:v}={Dh:Ka(E,v,16),Dl:Ga(E,v,16)},{h:b,l:y}=li(b,y,E,v),{Bh:g,Bl:p}={Bh:g^b,Bl:p^y},{Bh:g,Bl:p}={Bh:Pd(g,p,63),Bl:Bd(g,p,63)},Ae[2*e]=f,Ae[2*e+1]=d,Ae[2*t]=p,Ae[2*t+1]=g,Ae[2*n]=y,Ae[2*n+1]=b,Ae[2*r]=v,Ae[2*r+1]=E}function Zee(e,t={},n,r,s){if(Zo(n),e<0||e>n)throw new Error("outputLen bigger than keyLen");const{key:o,salt:c,personalization:l}=t;if(o!==void 0&&(o.length<1||o.length>n))throw new Error("key length must be undefined or 1.."+n);if(c!==void 0&&c.length!==r)throw new Error("salt must be undefined or "+r);if(l!==void 0&&l.length!==s)throw new Error("personalization must be undefined or "+s)}class Qee extends Gy{constructor(t,n){super(),this.finished=!1,this.destroyed=!1,this.length=0,this.pos=0,Zo(t),Zo(n),this.blockLen=t,this.outputLen=n,this.buffer=new Uint8Array(t),this.buffer32=Tp(this.buffer)}update(t){dc(this),t=mi(t),Fs(t);const{blockLen:n,buffer:r,buffer32:s}=this,o=t.length,c=t.byteOffset,l=t.buffer;for(let f=0;f<o;){this.pos===n&&(Ya(s),this.compress(s,0,!1),Ya(s),this.pos=0);const d=Math.min(n-this.pos,o-f),p=c+f;if(d===n&&!(p%4)&&f+d<o){const g=new Uint32Array(l,p,Math.floor((o-f)/4));Ya(g);for(let y=0;f+n<o;y+=s.length,f+=n)this.length+=n,this.compress(g,y,!1);Ya(g);continue}r.set(t.subarray(f,f+d),this.pos),this.pos+=d,this.length+=d,f+=d}return this}digestInto(t){dc(this),jA(t,this);const{pos:n,buffer32:r}=this;this.finished=!0,qs(this.buffer.subarray(n)),Ya(r),this.compress(r,0,!0),Ya(r);const s=Tp(t);this.get().forEach((o,c)=>s[c]=Lo(o))}digest(){const{buffer:t,outputLen:n}=this;this.digestInto(t);const r=t.slice(0,n);return this.destroy(),r}_cloneInto(t){const{buffer:n,length:r,finished:s,destroyed:o,outputLen:c,pos:l}=this;return t||(t=new this.constructor({dkLen:c})),t.set(...this.get()),t.buffer.set(n),t.destroyed=o,t.finished=s,t.length=r,t.pos=l,t.outputLen=c,t}clone(){return this._cloneInto()}}class Jee extends Qee{constructor(t={}){const n=t.dkLen===void 0?64:t.dkLen;super(128,n),this.v0l=An[0]|0,this.v0h=An[1]|0,this.v1l=An[2]|0,this.v1h=An[3]|0,this.v2l=An[4]|0,this.v2h=An[5]|0,this.v3l=An[6]|0,this.v3h=An[7]|0,this.v4l=An[8]|0,this.v4h=An[9]|0,this.v5l=An[10]|0,this.v5h=An[11]|0,this.v6l=An[12]|0,this.v6h=An[13]|0,this.v7l=An[14]|0,this.v7h=An[15]|0,Zee(n,t,64,16,16);let{key:r,personalization:s,salt:o}=t,c=0;if(r!==void 0&&(r=mi(r),c=r.length),this.v0l^=this.outputLen|c<<8|65536|1<<24,o!==void 0){o=mi(o);const l=Tp(o);this.v4l^=Lo(l[0]),this.v4h^=Lo(l[1]),this.v5l^=Lo(l[2]),this.v5h^=Lo(l[3])}if(s!==void 0){s=mi(s);const l=Tp(s);this.v6l^=Lo(l[0]),this.v6h^=Lo(l[1]),this.v7l^=Lo(l[2]),this.v7h^=Lo(l[3])}if(r!==void 0){const l=new Uint8Array(this.blockLen);l.set(r),this.update(l)}}get(){let{v0l:t,v0h:n,v1l:r,v1h:s,v2l:o,v2h:c,v3l:l,v3h:f,v4l:d,v4h:p,v5l:g,v5h:y,v6l:b,v6h:v,v7l:E,v7h:S}=this;return[t,n,r,s,o,c,l,f,d,p,g,y,b,v,E,S]}set(t,n,r,s,o,c,l,f,d,p,g,y,b,v,E,S){this.v0l=t|0,this.v0h=n|0,this.v1l=r|0,this.v1h=s|0,this.v2l=o|0,this.v2h=c|0,this.v3l=l|0,this.v3h=f|0,this.v4l=d|0,this.v4h=p|0,this.v5l=g|0,this.v5h=y|0,this.v6l=b|0,this.v6h=v|0,this.v7l=E|0,this.v7h=S|0}compress(t,n,r){this.get().forEach((f,d)=>Ae[d]=f),Ae.set(An,16);let{h:s,l:o}=$$(BigInt(this.length));Ae[24]=An[8]^o,Ae[25]=An[9]^s,r&&(Ae[28]=~Ae[28],Ae[29]=~Ae[29]);let c=0;const l=Xee;for(let f=0;f<12;f++)za(0,4,8,12,t,n+2*l[c++]),Ha(0,4,8,12,t,n+2*l[c++]),za(1,5,9,13,t,n+2*l[c++]),Ha(1,5,9,13,t,n+2*l[c++]),za(2,6,10,14,t,n+2*l[c++]),Ha(2,6,10,14,t,n+2*l[c++]),za(3,7,11,15,t,n+2*l[c++]),Ha(3,7,11,15,t,n+2*l[c++]),za(0,5,10,15,t,n+2*l[c++]),Ha(0,5,10,15,t,n+2*l[c++]),za(1,6,11,12,t,n+2*l[c++]),Ha(1,6,11,12,t,n+2*l[c++]),za(2,7,8,13,t,n+2*l[c++]),Ha(2,7,8,13,t,n+2*l[c++]),za(3,4,9,14,t,n+2*l[c++]),Ha(3,4,9,14,t,n+2*l[c++]);this.v0l^=Ae[0]^Ae[16],this.v0h^=Ae[1]^Ae[17],this.v1l^=Ae[2]^Ae[18],this.v1h^=Ae[3]^Ae[19],this.v2l^=Ae[4]^Ae[20],this.v2h^=Ae[5]^Ae[21],this.v3l^=Ae[6]^Ae[22],this.v3h^=Ae[7]^Ae[23],this.v4l^=Ae[8]^Ae[24],this.v4h^=Ae[9]^Ae[25],this.v5l^=Ae[10]^Ae[26],this.v5h^=Ae[11]^Ae[27],this.v6l^=Ae[12]^Ae[28],this.v6h^=Ae[13]^Ae[29],this.v7l^=Ae[14]^Ae[30],this.v7h^=Ae[15]^Ae[31],qs(Ae)}destroy(){this.destroyed=!0,qs(this.buffer32),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const ete=Nee(e=>new Jee(e)),tte="https://rpc.walletconnect.org/v1";function V$(e){const t=`Ethereum Signed Message:
${e.length}`,n=new TextEncoder().encode(t+e);return"0x"+Buffer.from(Bee(n)).toString("hex")}async function nte(e,t,n,r,s,o){switch(n.t){case"eip191":return await rte(e,t,n.s);case"eip1271":return await ste(e,t,n.s,r,s,o);default:throw new Error(`verifySignature failed: Attempted to verify CacaoSignature with unknown type: ${n.t}`)}}async function rte(e,t,n){return(await JZ({hash:V$(t),signature:n})).toLowerCase()===e.toLowerCase()}async function ste(e,t,n,r,s,o){const c=_f(r);if(!c.namespace||!c.reference)throw new Error(`isValidEip1271Signature failed: chainId must be in CAIP-2 format, received: ${r}`);try{const l="0x1626ba7e",f="0000000000000000000000000000000000000000000000000000000000000040",d=n.substring(2),p=(d.length/2).toString(16).padStart(64,"0"),g=(t.startsWith("0x")?t:V$(t)).substring(2),y=l+g+f+p+d,b=await fetch(`${o||tte}/?chainId=${r}&projectId=${s}`,{headers:{"Content-Type":"application/json"},method:"POST",body:JSON.stringify({id:ite(),jsonrpc:"2.0",method:"eth_call",params:[{to:e,data:y},"latest"]})}),{result:v}=await b.json();return v?v.slice(0,l.length).toLowerCase()===l.toLowerCase():!1}catch(l){return console.error("isValidEip1271Signature: ",l),!1}}function ite(){return Date.now()+Math.floor(Math.random()*1e3)}function ote(e){const t=atob(e),n=new Uint8Array(t.length);for(let c=0;c<t.length;c++)n[c]=t.charCodeAt(c);const r=n[0];if(r===0)throw new Error("No signatures found");const s=1+r*64;if(n.length<s)throw new Error("Transaction data too short for claimed signature count");if(n.length<100)throw new Error("Transaction too short");const o=Buffer.from(e,"base64").slice(1,65);return ah.encode(o)}function ate(e){const t=new Uint8Array(Buffer.from(e,"base64")),n=Array.from("TransactionData::").map(o=>o.charCodeAt(0)),r=new Uint8Array(n.length+t.length);r.set(n),r.set(t,n.length);const s=ete(r,{dkLen:32});return ah.encode(s)}function zI(e){const t=new Uint8Array(Yy(cte(e)));return ah.encode(t)}function cte(e){if(e instanceof Uint8Array)return e;if(Array.isArray(e))return new Uint8Array(e);if(typeof e=="object"&&e!=null&&e.data)return new Uint8Array(Object.values(e.data));if(typeof e=="object"&&e)return new Uint8Array(Object.values(e));throw new Error("getNearUint8ArrayFromBytes: Unexpected result type from bytes array")}function HI(e){const t=Buffer.from(e,"base64"),n=BQ(t).txn;if(!n)throw new Error("Invalid signed transaction: missing 'txn' field");const r=_Q(n),s=Buffer.from("TX"),o=Buffer.concat([s,Buffer.from(r)]),c=Yee(o);return Ez.encode(c).replace(/=+$/,"")}function Iv(e){const t=[];let n=BigInt(e);for(;n>=BigInt(128);)t.push(Number(n&BigInt(127)|BigInt(128))),n>>=BigInt(7);return t.push(Number(n)),Buffer.from(t)}function lte(e){const t=Buffer.from(e.signed.bodyBytes,"base64"),n=Buffer.from(e.signed.authInfoBytes,"base64"),r=Buffer.from(e.signature.signature,"base64"),s=[];s.push(Buffer.from([10])),s.push(Iv(t.length)),s.push(t),s.push(Buffer.from([18])),s.push(Iv(n.length)),s.push(n),s.push(Buffer.from([26])),s.push(Iv(r.length)),s.push(r);const o=Buffer.concat(s),c=Yy(o);return Buffer.from(c).toString("hex").toUpperCase()}var ute=Object.defineProperty,fte=Object.defineProperties,hte=Object.getOwnPropertyDescriptors,FI=Object.getOwnPropertySymbols,dte=Object.prototype.hasOwnProperty,pte=Object.prototype.propertyIsEnumerable,qI=(e,t,n)=>t in e?ute(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,gte=(e,t)=>{for(var n in t||(t={}))dte.call(t,n)&&qI(e,n,t[n]);if(FI)for(var n of FI(t))pte.call(t,n)&&qI(e,n,t[n]);return e},mte=(e,t)=>fte(e,hte(t));const yte="did:pkh:",FA=e=>e?.split(":"),wte=e=>{const t=e&&FA(e);if(t)return e.includes(yte)?t[3]:t[1]},SE=e=>{const t=e&&FA(e);if(t)return t[2]+":"+t[3]},vy=e=>{const t=e&&FA(e);if(t)return t.pop()};async function VI(e){const{cacao:t,projectId:n}=e,{s:r,p:s}=t,o=W$(s,s.iss),c=vy(s.iss);return await nte(c,o,r,SE(s.iss),n)}const W$=(e,t)=>{const n=`${e.domain} wants you to sign in with your Ethereum account:`,r=vy(t);if(!e.aud&&!e.uri)throw new Error("Either `aud` or `uri` is required to construct the message");let s=e.statement||void 0;const o=`URI: ${e.aud||e.uri}`,c=`Version: ${e.version}`,l=`Chain ID: ${wte(t)}`,f=`Nonce: ${e.nonce}`,d=`Issued At: ${e.iat}`,p=e.exp?`Expiration Time: ${e.exp}`:void 0,g=e.nbf?`Not Before: ${e.nbf}`:void 0,y=e.requestId?`Request ID: ${e.requestId}`:void 0,b=e.resources?`Resources:${e.resources.map(E=>`
- ${E}`).join("")}`:void 0,v=j0(e.resources);if(v){const E=Ip(v);s=Tte(s,E)}return[n,r,"",s,"",o,c,l,f,d,p,g,y,b].filter(E=>E!=null).join(`
`)};function bte(e){return Buffer.from(JSON.stringify(e)).toString("base64")}function vte(e){return JSON.parse(Buffer.from(e,"base64").toString("utf-8"))}function Ul(e){if(!e)throw new Error("No recap provided, value is undefined");if(!e.att)throw new Error("No `att` property found");const t=Object.keys(e.att);if(!(t!=null&&t.length))throw new Error("No resources found in `att` property");t.forEach(n=>{const r=e.att[n];if(Array.isArray(r))throw new Error(`Resource must be an object: ${n}`);if(typeof r!="object")throw new Error(`Resource must be an object: ${n}`);if(!Object.keys(r).length)throw new Error(`Resource object is empty: ${n}`);Object.keys(r).forEach(s=>{const o=r[s];if(!Array.isArray(o))throw new Error(`Ability limits ${s} must be an array of objects, found: ${o}`);if(!o.length)throw new Error(`Value of ${s} is empty array, must be an array with objects`);o.forEach(c=>{if(typeof c!="object")throw new Error(`Ability limits (${s}) must be an array of objects, found: ${c}`)})})})}function Ete(e,t,n,r={}){return n?.sort((s,o)=>s.localeCompare(o)),{att:{[e]:Ste(t,n,r)}}}function Ste(e,t,n={}){t=t?.sort((s,o)=>s.localeCompare(o));const r=t.map(s=>({[`${e}/${s}`]:[n]}));return Object.assign({},...r)}function K$(e){return Ul(e),`urn:recap:${bte(e).replace(/=/g,"")}`}function Ip(e){const t=vte(e.replace("urn:recap:",""));return Ul(t),t}function Ate(e,t,n){const r=Ete(e,t,n);return K$(r)}function Cte(e){return e&&e.includes("urn:recap:")}function xte(e,t){const n=Ip(e),r=Ip(t),s=Nte(n,r);return K$(s)}function Nte(e,t){Ul(e),Ul(t);const n=Object.keys(e.att).concat(Object.keys(t.att)).sort((s,o)=>s.localeCompare(o)),r={att:{}};return n.forEach(s=>{var o,c;Object.keys(((o=e.att)==null?void 0:o[s])||{}).concat(Object.keys(((c=t.att)==null?void 0:c[s])||{})).sort((l,f)=>l.localeCompare(f)).forEach(l=>{var f,d;r.att[s]=mte(gte({},r.att[s]),{[l]:((f=e.att[s])==null?void 0:f[l])||((d=t.att[s])==null?void 0:d[l])})})}),r}function Tte(e="",t){Ul(t);const n="I further authorize the stated URI to perform the following actions on my behalf: ";if(e.includes(n))return e;const r=[];let s=0;Object.keys(t.att).forEach(l=>{const f=Object.keys(t.att[l]).map(g=>({ability:g.split("/")[0],action:g.split("/")[1]}));f.sort((g,y)=>g.action.localeCompare(y.action));const d={};f.forEach(g=>{d[g.ability]||(d[g.ability]=[]),d[g.ability].push(g.action)});const p=Object.keys(d).map(g=>(s++,`(${s}) '${g}': '${d[g].join("', '")}' for '${l}'.`));r.push(p.join(", ").replace(".,","."))});const o=r.join(" "),c=`${n}${o}`;return`${e?e+" ":""}${c}`}function WI(e){var t;const n=Ip(e);Ul(n);const r=(t=n.att)==null?void 0:t.eip155;return r?Object.keys(r).map(s=>s.split("/")[1]):[]}function KI(e){const t=Ip(e);Ul(t);const n=[];return Object.values(t.att).forEach(r=>{Object.values(r).forEach(s=>{var o;(o=s?.[0])!=null&&o.chains&&n.push(s[0].chains)})}),[...new Set(n.flat())]}function j0(e){if(!e)return;const t=e?.[e.length-1];return Cte(t)?t:void 0}/*! noble-ciphers - MIT License (c) 2023 Paul Miller (paulmillr.com) */function G$(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function AE(e){if(typeof e!="boolean")throw new Error(`boolean expected, not ${e}`)}function Ov(e){if(!Number.isSafeInteger(e)||e<0)throw new Error("positive integer expected, got "+e)}function Br(e,...t){if(!G$(e))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw new Error("Uint8Array expected of length "+t+", got length="+e.length)}function GI(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function _te(e,t){Br(e);const n=t.outputLen;if(e.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}function oc(e){return new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4))}function jf(...e){for(let t=0;t<e.length;t++)e[t].fill(0)}function Ite(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}const Ote=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function Dte(e){if(typeof e!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(e))}function CE(e){if(typeof e=="string")e=Dte(e);else if(G$(e))e=xE(e);else throw new Error("Uint8Array expected, got "+typeof e);return e}function Mte(e,t){if(t==null||typeof t!="object")throw new Error("options must be defined");return Object.assign(e,t)}function $te(e,t){if(e.length!==t.length)return!1;let n=0;for(let r=0;r<e.length;r++)n|=e[r]^t[r];return n===0}const Ute=(e,t)=>{function n(r,...s){if(Br(r),!Ote)throw new Error("Non little-endian hardware is not yet supported");if(e.nonceLength!==void 0){const d=s[0];if(!d)throw new Error("nonce / iv required");e.varSizeNonce?Br(d):Br(d,e.nonceLength)}const o=e.tagLength;o&&s[1]!==void 0&&Br(s[1]);const c=t(r,...s),l=(d,p)=>{if(p!==void 0){if(d!==2)throw new Error("cipher output not supported");Br(p)}};let f=!1;return{encrypt(d,p){if(f)throw new Error("cannot encrypt() twice with same key + nonce");return f=!0,Br(d),l(c.encrypt.length,p),c.encrypt(d,p)},decrypt(d,p){if(Br(d),o&&d.length<o)throw new Error("invalid ciphertext length: smaller than tagLength="+o);return l(c.decrypt.length,p),c.decrypt(d,p)}}}return Object.assign(n,e),n};function YI(e,t,n=!0){if(t===void 0)return new Uint8Array(e);if(t.length!==e)throw new Error("invalid output length, expected "+e+", got: "+t.length);if(n&&!Pte(t))throw new Error("invalid output, must be aligned");return t}function XI(e,t,n,r){if(typeof e.setBigUint64=="function")return e.setBigUint64(t,n,r);const s=BigInt(32),o=BigInt(4294967295),c=Number(n>>s&o),l=Number(n&o);e.setUint32(t+4,c,r),e.setUint32(t+0,l,r)}function Rte(e,t,n){AE(n);const r=new Uint8Array(16),s=Ite(r);return XI(s,0,BigInt(t),n),XI(s,8,BigInt(e),n),r}function Pte(e){return e.byteOffset%4===0}function xE(e){return Uint8Array.from(e)}const Y$=e=>Uint8Array.from(e.split("").map(t=>t.charCodeAt(0))),Bte=Y$("expand 16-byte k"),Lte=Y$("expand 32-byte k"),kte=oc(Bte),jte=oc(Lte);function ut(e,t){return e<<t|e>>>32-t}function NE(e){return e.byteOffset%4===0}const f0=64,zte=16,X$=2**32-1,ZI=new Uint32Array;function Hte(e,t,n,r,s,o,c,l){const f=s.length,d=new Uint8Array(f0),p=oc(d),g=NE(s)&&NE(o),y=g?oc(s):ZI,b=g?oc(o):ZI;for(let v=0;v<f;c++){if(e(t,n,r,p,c,l),c>=X$)throw new Error("arx: counter overflow");const E=Math.min(f0,f-v);if(g&&E===f0){const S=v/4;if(v%4!==0)throw new Error("arx: invalid block position");for(let C=0,O;C<zte;C++)O=S+C,b[O]=y[O]^p[C];v+=f0;continue}for(let S=0,C;S<E;S++)C=v+S,o[C]=s[C]^d[S];v+=E}}function Fte(e,t){const{allowShortKeys:n,extendNonceFn:r,counterLength:s,counterRight:o,rounds:c}=Mte({allowShortKeys:!1,counterLength:8,counterRight:!1,rounds:20},t);if(typeof e!="function")throw new Error("core must be a function");return Ov(s),Ov(c),AE(o),AE(n),(l,f,d,p,g=0)=>{Br(l),Br(f),Br(d);const y=d.length;if(p===void 0&&(p=new Uint8Array(y)),Br(p),Ov(g),g<0||g>=X$)throw new Error("arx: counter overflow");if(p.length<y)throw new Error(`arx: output (${p.length}) is shorter than data (${y})`);const b=[];let v=l.length,E,S;if(v===32)b.push(E=xE(l)),S=jte;else if(v===16&&n)E=new Uint8Array(32),E.set(l),E.set(l,16),S=kte,b.push(E);else throw new Error(`arx: invalid 32-byte key, got length=${v}`);NE(f)||b.push(f=xE(f));const C=oc(E);if(r){if(f.length!==24)throw new Error("arx: extended nonce must be 24 bytes");r(S,C,oc(f.subarray(0,16)),C),f=f.subarray(16)}const O=16-s;if(O!==f.length)throw new Error(`arx: nonce must be ${O} or 16 bytes`);if(O!==12){const N=new Uint8Array(12);N.set(f,o?0:12-f.length),f=N,b.push(f)}const x=oc(f);return Hte(e,S,C,x,d,p,g,c),jf(...b),p}}const jn=(e,t)=>e[t++]&255|(e[t++]&255)<<8;class qte{constructor(t){this.blockLen=16,this.outputLen=16,this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.pos=0,this.finished=!1,t=CE(t),Br(t,32);const n=jn(t,0),r=jn(t,2),s=jn(t,4),o=jn(t,6),c=jn(t,8),l=jn(t,10),f=jn(t,12),d=jn(t,14);this.r[0]=n&8191,this.r[1]=(n>>>13|r<<3)&8191,this.r[2]=(r>>>10|s<<6)&7939,this.r[3]=(s>>>7|o<<9)&8191,this.r[4]=(o>>>4|c<<12)&255,this.r[5]=c>>>1&8190,this.r[6]=(c>>>14|l<<2)&8191,this.r[7]=(l>>>11|f<<5)&8065,this.r[8]=(f>>>8|d<<8)&8191,this.r[9]=d>>>5&127;for(let p=0;p<8;p++)this.pad[p]=jn(t,16+2*p)}process(t,n,r=!1){const s=r?0:2048,{h:o,r:c}=this,l=c[0],f=c[1],d=c[2],p=c[3],g=c[4],y=c[5],b=c[6],v=c[7],E=c[8],S=c[9],C=jn(t,n+0),O=jn(t,n+2),x=jn(t,n+4),N=jn(t,n+6),T=jn(t,n+8),I=jn(t,n+10),R=jn(t,n+12),L=jn(t,n+14);let U=o[0]+(C&8191),D=o[1]+((C>>>13|O<<3)&8191),B=o[2]+((O>>>10|x<<6)&8191),H=o[3]+((x>>>7|N<<9)&8191),X=o[4]+((N>>>4|T<<12)&8191),Y=o[5]+(T>>>1&8191),M=o[6]+((T>>>14|I<<2)&8191),_=o[7]+((I>>>11|R<<5)&8191),j=o[8]+((R>>>8|L<<8)&8191),q=o[9]+(L>>>5|s),W=0,V=W+U*l+D*(5*S)+B*(5*E)+H*(5*v)+X*(5*b);W=V>>>13,V&=8191,V+=Y*(5*y)+M*(5*g)+_*(5*p)+j*(5*d)+q*(5*f),W+=V>>>13,V&=8191;let P=W+U*f+D*l+B*(5*S)+H*(5*E)+X*(5*v);W=P>>>13,P&=8191,P+=Y*(5*b)+M*(5*y)+_*(5*g)+j*(5*p)+q*(5*d),W+=P>>>13,P&=8191;let G=W+U*d+D*f+B*l+H*(5*S)+X*(5*E);W=G>>>13,G&=8191,G+=Y*(5*v)+M*(5*b)+_*(5*y)+j*(5*g)+q*(5*p),W+=G>>>13,G&=8191;let te=W+U*p+D*d+B*f+H*l+X*(5*S);W=te>>>13,te&=8191,te+=Y*(5*E)+M*(5*v)+_*(5*b)+j*(5*y)+q*(5*g),W+=te>>>13,te&=8191;let se=W+U*g+D*p+B*d+H*f+X*l;W=se>>>13,se&=8191,se+=Y*(5*S)+M*(5*E)+_*(5*v)+j*(5*b)+q*(5*y),W+=se>>>13,se&=8191;let ue=W+U*y+D*g+B*p+H*d+X*f;W=ue>>>13,ue&=8191,ue+=Y*l+M*(5*S)+_*(5*E)+j*(5*v)+q*(5*b),W+=ue>>>13,ue&=8191;let pe=W+U*b+D*y+B*g+H*p+X*d;W=pe>>>13,pe&=8191,pe+=Y*f+M*l+_*(5*S)+j*(5*E)+q*(5*v),W+=pe>>>13,pe&=8191;let Te=W+U*v+D*b+B*y+H*g+X*p;W=Te>>>13,Te&=8191,Te+=Y*d+M*f+_*l+j*(5*S)+q*(5*E),W+=Te>>>13,Te&=8191;let ke=W+U*E+D*v+B*b+H*y+X*g;W=ke>>>13,ke&=8191,ke+=Y*p+M*d+_*f+j*l+q*(5*S),W+=ke>>>13,ke&=8191;let Ie=W+U*S+D*E+B*v+H*b+X*y;W=Ie>>>13,Ie&=8191,Ie+=Y*g+M*p+_*d+j*f+q*l,W+=Ie>>>13,Ie&=8191,W=(W<<2)+W|0,W=W+V|0,V=W&8191,W=W>>>13,P+=W,o[0]=V,o[1]=P,o[2]=G,o[3]=te,o[4]=se,o[5]=ue,o[6]=pe,o[7]=Te,o[8]=ke,o[9]=Ie}finalize(){const{h:t,pad:n}=this,r=new Uint16Array(10);let s=t[1]>>>13;t[1]&=8191;for(let l=2;l<10;l++)t[l]+=s,s=t[l]>>>13,t[l]&=8191;t[0]+=s*5,s=t[0]>>>13,t[0]&=8191,t[1]+=s,s=t[1]>>>13,t[1]&=8191,t[2]+=s,r[0]=t[0]+5,s=r[0]>>>13,r[0]&=8191;for(let l=1;l<10;l++)r[l]=t[l]+s,s=r[l]>>>13,r[l]&=8191;r[9]-=8192;let o=(s^1)-1;for(let l=0;l<10;l++)r[l]&=o;o=~o;for(let l=0;l<10;l++)t[l]=t[l]&o|r[l];t[0]=(t[0]|t[1]<<13)&65535,t[1]=(t[1]>>>3|t[2]<<10)&65535,t[2]=(t[2]>>>6|t[3]<<7)&65535,t[3]=(t[3]>>>9|t[4]<<4)&65535,t[4]=(t[4]>>>12|t[5]<<1|t[6]<<14)&65535,t[5]=(t[6]>>>2|t[7]<<11)&65535,t[6]=(t[7]>>>5|t[8]<<8)&65535,t[7]=(t[8]>>>8|t[9]<<5)&65535;let c=t[0]+n[0];t[0]=c&65535;for(let l=1;l<8;l++)c=(t[l]+n[l]|0)+(c>>>16)|0,t[l]=c&65535;jf(r)}update(t){GI(this),t=CE(t),Br(t);const{buffer:n,blockLen:r}=this,s=t.length;for(let o=0;o<s;){const c=Math.min(r-this.pos,s-o);if(c===r){for(;r<=s-o;o+=r)this.process(t,o);continue}n.set(t.subarray(o,o+c),this.pos),this.pos+=c,o+=c,this.pos===r&&(this.process(n,0,!1),this.pos=0)}return this}destroy(){jf(this.h,this.r,this.buffer,this.pad)}digestInto(t){GI(this),_te(t,this),this.finished=!0;const{buffer:n,h:r}=this;let{pos:s}=this;if(s){for(n[s++]=1;s<16;s++)n[s]=0;this.process(n,0,!0)}this.finalize();let o=0;for(let c=0;c<8;c++)t[o++]=r[c]>>>0,t[o++]=r[c]>>>8;return t}digest(){const{buffer:t,outputLen:n}=this;this.digestInto(t);const r=t.slice(0,n);return this.destroy(),r}}function Vte(e){const t=(r,s)=>e(s).update(CE(r)).digest(),n=e(new Uint8Array(32));return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=r=>e(r),t}const Wte=Vte(e=>new qte(e));function Kte(e,t,n,r,s,o=20){let c=e[0],l=e[1],f=e[2],d=e[3],p=t[0],g=t[1],y=t[2],b=t[3],v=t[4],E=t[5],S=t[6],C=t[7],O=s,x=n[0],N=n[1],T=n[2],I=c,R=l,L=f,U=d,D=p,B=g,H=y,X=b,Y=v,M=E,_=S,j=C,q=O,W=x,V=N,P=T;for(let te=0;te<o;te+=2)I=I+D|0,q=ut(q^I,16),Y=Y+q|0,D=ut(D^Y,12),I=I+D|0,q=ut(q^I,8),Y=Y+q|0,D=ut(D^Y,7),R=R+B|0,W=ut(W^R,16),M=M+W|0,B=ut(B^M,12),R=R+B|0,W=ut(W^R,8),M=M+W|0,B=ut(B^M,7),L=L+H|0,V=ut(V^L,16),_=_+V|0,H=ut(H^_,12),L=L+H|0,V=ut(V^L,8),_=_+V|0,H=ut(H^_,7),U=U+X|0,P=ut(P^U,16),j=j+P|0,X=ut(X^j,12),U=U+X|0,P=ut(P^U,8),j=j+P|0,X=ut(X^j,7),I=I+B|0,P=ut(P^I,16),_=_+P|0,B=ut(B^_,12),I=I+B|0,P=ut(P^I,8),_=_+P|0,B=ut(B^_,7),R=R+H|0,q=ut(q^R,16),j=j+q|0,H=ut(H^j,12),R=R+H|0,q=ut(q^R,8),j=j+q|0,H=ut(H^j,7),L=L+X|0,W=ut(W^L,16),Y=Y+W|0,X=ut(X^Y,12),L=L+X|0,W=ut(W^L,8),Y=Y+W|0,X=ut(X^Y,7),U=U+D|0,V=ut(V^U,16),M=M+V|0,D=ut(D^M,12),U=U+D|0,V=ut(V^U,8),M=M+V|0,D=ut(D^M,7);let G=0;r[G++]=c+I|0,r[G++]=l+R|0,r[G++]=f+L|0,r[G++]=d+U|0,r[G++]=p+D|0,r[G++]=g+B|0,r[G++]=y+H|0,r[G++]=b+X|0,r[G++]=v+Y|0,r[G++]=E+M|0,r[G++]=S+_|0,r[G++]=C+j|0,r[G++]=O+q|0,r[G++]=x+W|0,r[G++]=N+V|0,r[G++]=T+P|0}const Gte=Fte(Kte,{counterRight:!1,counterLength:4,allowShortKeys:!1}),Yte=new Uint8Array(16),QI=(e,t)=>{e.update(t);const n=t.length%16;n&&e.update(Yte.subarray(n))},Xte=new Uint8Array(32);function JI(e,t,n,r,s){const o=e(t,n,Xte),c=Wte.create(o);s&&QI(c,s),QI(c,r);const l=Rte(r.length,s?s.length:0,!0);c.update(l);const f=c.digest();return jf(o,l),f}const Zte=e=>(t,n,r)=>({encrypt(s,o){const c=s.length;o=YI(c+16,o,!1),o.set(s);const l=o.subarray(0,-16);e(t,n,l,l,1);const f=JI(e,t,n,l,r);return o.set(f,c),jf(f),o},decrypt(s,o){o=YI(s.length-16,o,!1);const c=s.subarray(0,-16),l=s.subarray(-16),f=JI(e,t,n,c,r);if(!$te(l,f))throw new Error("invalid tag");return o.set(s.subarray(0,-16)),e(t,n,o,o,1),jf(f),o}}),Z$=Ute({blockSize:64,nonceLength:12,tagLength:16},Zte(Gte));let Q$=class extends Gy{constructor(t,n){super(),this.finished=!1,this.destroyed=!1,kA(t);const r=mi(n);if(this.iHash=t.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const s=this.blockLen,o=new Uint8Array(s);o.set(r.length>s?t.create().update(r).digest():r);for(let c=0;c<o.length;c++)o[c]^=54;this.iHash.update(o),this.oHash=t.create();for(let c=0;c<o.length;c++)o[c]^=106;this.oHash.update(o),qs(o)}update(t){return dc(this),this.iHash.update(t),this}digestInto(t){dc(this),Fs(t,this.outputLen),this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy()}digest(){const t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t}_cloneInto(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:r,finished:s,destroyed:o,blockLen:c,outputLen:l}=this;return t=t,t.finished=s,t.destroyed=o,t.blockLen=c,t.outputLen=l,t.oHash=n._cloneInto(t.oHash),t.iHash=r._cloneInto(t.iHash),t}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}};const Xy=(e,t,n)=>new Q$(e,t).update(n).digest();Xy.create=(e,t)=>new Q$(e,t);function Qte(e,t,n){return kA(e),n===void 0&&(n=new Uint8Array(e.outputLen)),Xy(e,mi(n),mi(t))}const Dv=Uint8Array.from([0]),e8=Uint8Array.of();function Jte(e,t,n,r=32){kA(e),Zo(r);const s=e.outputLen;if(r>255*s)throw new Error("Length should be <= 255*HashLen");const o=Math.ceil(r/s);n===void 0&&(n=e8);const c=new Uint8Array(o*s),l=Xy.create(e,t),f=l._cloneInto(),d=new Uint8Array(l.outputLen);for(let p=0;p<o;p++)Dv[0]=p+1,f.update(p===0?e8:d).update(n).update(Dv).digestInto(d),c.set(d,s*p),l._cloneInto(f);return l.destroy(),f.destroy(),qs(d,Dv),c.slice(0,r)}const ene=(e,t,n,r,s)=>Jte(e,Qte(e,t,n),r,s),Zy=Yy,qA=BigInt(0),TE=BigInt(1);function Ey(e,t){if(typeof t!="boolean")throw new Error(e+" boolean expected, got "+t)}function h0(e){const t=e.toString(16);return t.length&1?"0"+t:t}function J$(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);return e===""?qA:BigInt("0x"+e)}function Qy(e){return J$(_p(e))}function Sy(e){return Fs(e),J$(_p(Uint8Array.from(e).reverse()))}function VA(e,t){return zA(e.toString(16).padStart(t*2,"0"))}function WA(e,t){return VA(e,t).reverse()}function Pr(e,t,n){let r;if(typeof t=="string")try{r=zA(t)}catch(o){throw new Error(e+" must be hex string or Uint8Array, cause: "+o)}else if(LA(t))r=Uint8Array.from(t);else throw new Error(e+" must be hex string or Uint8Array");const s=r.length;if(typeof n=="number"&&s!==n)throw new Error(e+" of length "+n+" expected, got "+s);return r}const Mv=e=>typeof e=="bigint"&&qA<=e;function tne(e,t,n){return Mv(e)&&Mv(t)&&Mv(n)&&t<=e&&e<n}function _E(e,t,n,r){if(!tne(t,n,r))throw new Error("expected valid "+e+": "+n+" <= n < "+r+", got "+t)}function nne(e){let t;for(t=0;e>qA;e>>=TE,t+=1);return t}const Jy=e=>(TE<<BigInt(e))-TE;function rne(e,t,n){if(typeof e!="number"||e<2)throw new Error("hashLen must be a number");if(typeof t!="number"||t<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");const r=y=>new Uint8Array(y),s=y=>Uint8Array.of(y);let o=r(e),c=r(e),l=0;const f=()=>{o.fill(1),c.fill(0),l=0},d=(...y)=>n(c,o,...y),p=(y=r(0))=>{c=d(s(0),y),o=d(),y.length!==0&&(c=d(s(1),y),o=d())},g=()=>{if(l++>=1e3)throw new Error("drbg: tried 1000 values");let y=0;const b=[];for(;y<t;){o=d();const v=o.slice();b.push(v),y+=o.length}return ml(...b)};return(y,b)=>{f(),p(y);let v;for(;!(v=b(g()));)p();return f(),v}}function ew(e,t,n={}){if(!e||typeof e!="object")throw new Error("expected valid options object");function r(s,o,c){const l=e[s];if(c&&l===void 0)return;const f=typeof l;if(f!==o||l===null)throw new Error(`param "${s}" is invalid: expected ${o}, got ${f}`)}Object.entries(t).forEach(([s,o])=>r(s,o,!1)),Object.entries(n).forEach(([s,o])=>r(s,o,!0))}function t8(e){const t=new WeakMap;return(n,...r)=>{const s=t.get(n);if(s!==void 0)return s;const o=e(n,...r);return t.set(n,o),o}}const kr=BigInt(0),mr=BigInt(1),yl=BigInt(2),sne=BigInt(3),eU=BigInt(4),tU=BigInt(5),nU=BigInt(8);function Ls(e,t){const n=e%t;return n>=kr?n:t+n}function oi(e,t,n){let r=e;for(;t-- >kr;)r*=r,r%=n;return r}function n8(e,t){if(e===kr)throw new Error("invert: expected non-zero number");if(t<=kr)throw new Error("invert: expected positive modulus, got "+t);let n=Ls(e,t),r=t,s=kr,o=mr;for(;n!==kr;){const c=r/n,l=r%n,f=s-o*c;r=n,n=l,s=o,o=f}if(r!==mr)throw new Error("invert: does not exist");return Ls(s,t)}function rU(e,t){const n=(e.ORDER+mr)/eU,r=e.pow(t,n);if(!e.eql(e.sqr(r),t))throw new Error("Cannot find square root");return r}function ine(e,t){const n=(e.ORDER-tU)/nU,r=e.mul(t,yl),s=e.pow(r,n),o=e.mul(t,s),c=e.mul(e.mul(o,yl),s),l=e.mul(o,e.sub(c,e.ONE));if(!e.eql(e.sqr(l),t))throw new Error("Cannot find square root");return l}function one(e){if(e<BigInt(3))throw new Error("sqrt is not defined for small field");let t=e-mr,n=0;for(;t%yl===kr;)t/=yl,n++;let r=yl;const s=uh(e);for(;r8(s,r)===1;)if(r++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(n===1)return rU;let o=s.pow(r,t);const c=(t+mr)/yl;return function(l,f){if(l.is0(f))return f;if(r8(l,f)!==1)throw new Error("Cannot find square root");let d=n,p=l.mul(l.ONE,o),g=l.pow(f,t),y=l.pow(f,c);for(;!l.eql(g,l.ONE);){if(l.is0(g))return l.ZERO;let b=1,v=l.sqr(g);for(;!l.eql(v,l.ONE);)if(b++,v=l.sqr(v),b===d)throw new Error("Cannot find square root");const E=mr<<BigInt(d-b-1),S=l.pow(p,E);d=b,p=l.sqr(S),g=l.mul(g,p),y=l.mul(y,S)}return y}}function ane(e){return e%eU===sne?rU:e%nU===tU?ine:one(e)}const cne=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function lne(e){const t={ORDER:"bigint",MASK:"bigint",BYTES:"number",BITS:"number"},n=cne.reduce((r,s)=>(r[s]="function",r),t);return ew(e,n),e}function une(e,t,n){if(n<kr)throw new Error("invalid exponent, negatives unsupported");if(n===kr)return e.ONE;if(n===mr)return t;let r=e.ONE,s=t;for(;n>kr;)n&mr&&(r=e.mul(r,s)),s=e.sqr(s),n>>=mr;return r}function sU(e,t,n=!1){const r=new Array(t.length).fill(n?e.ZERO:void 0),s=t.reduce((c,l,f)=>e.is0(l)?c:(r[f]=c,e.mul(c,l)),e.ONE),o=e.inv(s);return t.reduceRight((c,l,f)=>e.is0(l)?c:(r[f]=e.mul(c,r[f]),e.mul(c,l)),o),r}function r8(e,t){const n=(e.ORDER-mr)/yl,r=e.pow(t,n),s=e.eql(r,e.ONE),o=e.eql(r,e.ZERO),c=e.eql(r,e.neg(e.ONE));if(!s&&!o&&!c)throw new Error("invalid Legendre symbol result");return s?1:o?0:-1}function fne(e,t){t!==void 0&&Zo(t);const n=t!==void 0?t:e.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function uh(e,t,n=!1,r={}){if(e<=kr)throw new Error("invalid field: expected ORDER > 0, got "+e);let s,o;if(typeof t=="object"&&t!=null){if(r.sqrt||n)throw new Error("cannot specify opts in two arguments");const p=t;p.BITS&&(s=p.BITS),p.sqrt&&(o=p.sqrt),typeof p.isLE=="boolean"&&(n=p.isLE)}else typeof t=="number"&&(s=t),r.sqrt&&(o=r.sqrt);const{nBitLength:c,nByteLength:l}=fne(e,s);if(l>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let f;const d=Object.freeze({ORDER:e,isLE:n,BITS:c,BYTES:l,MASK:Jy(c),ZERO:kr,ONE:mr,create:p=>Ls(p,e),isValid:p=>{if(typeof p!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof p);return kr<=p&&p<e},is0:p=>p===kr,isValidNot0:p=>!d.is0(p)&&d.isValid(p),isOdd:p=>(p&mr)===mr,neg:p=>Ls(-p,e),eql:(p,g)=>p===g,sqr:p=>Ls(p*p,e),add:(p,g)=>Ls(p+g,e),sub:(p,g)=>Ls(p-g,e),mul:(p,g)=>Ls(p*g,e),pow:(p,g)=>une(d,p,g),div:(p,g)=>Ls(p*n8(g,e),e),sqrN:p=>p*p,addN:(p,g)=>p+g,subN:(p,g)=>p-g,mulN:(p,g)=>p*g,inv:p=>n8(p,e),sqrt:o||(p=>(f||(f=ane(e)),f(d,p))),toBytes:p=>n?WA(p,l):VA(p,l),fromBytes:p=>{if(p.length!==l)throw new Error("Field.fromBytes: expected "+l+" bytes, got "+p.length);return n?Sy(p):Qy(p)},invertBatch:p=>sU(d,p),cmov:(p,g,y)=>y?g:p});return Object.freeze(d)}function iU(e){if(typeof e!="bigint")throw new Error("field order must be bigint");const t=e.toString(2).length;return Math.ceil(t/8)}function oU(e){const t=iU(e);return t+Math.ceil(t/2)}function hne(e,t,n=!1){const r=e.length,s=iU(t),o=oU(t);if(r<16||r<o||r>1024)throw new Error("expected "+o+"-1024 bytes of input, got "+r);const c=n?Sy(e):Qy(e),l=Ls(c,t-mr)+mr;return n?WA(l,s):VA(l,s)}const zf=BigInt(0),wl=BigInt(1);function Zd(e,t){const n=t.negate();return e?n:t}function dne(e,t,n){const r=o=>o.pz,s=sU(e.Fp,n.map(r));return n.map((o,c)=>o.toAffine(s[c])).map(e.fromAffine)}function aU(e,t){if(!Number.isSafeInteger(e)||e<=0||e>t)throw new Error("invalid window size, expected [1.."+t+"], got W="+e)}function $v(e,t){aU(e,t);const n=Math.ceil(t/e)+1,r=2**(e-1),s=2**e,o=Jy(e),c=BigInt(e);return{windows:n,windowSize:r,mask:o,maxNumber:s,shiftBy:c}}function s8(e,t,n){const{windowSize:r,mask:s,maxNumber:o,shiftBy:c}=n;let l=Number(e&s),f=e>>c;l>r&&(l-=o,f+=wl);const d=t*r,p=d+Math.abs(l)-1,g=l===0,y=l<0,b=t%2!==0;return{nextN:f,offset:p,isZero:g,isNeg:y,isNegF:b,offsetF:d}}function pne(e,t){if(!Array.isArray(e))throw new Error("array expected");e.forEach((n,r)=>{if(!(n instanceof t))throw new Error("invalid point at index "+r)})}function gne(e,t){if(!Array.isArray(e))throw new Error("array of scalars expected");e.forEach((n,r)=>{if(!t.isValid(n))throw new Error("invalid scalar at index "+r)})}const Uv=new WeakMap,cU=new WeakMap;function Rv(e){return cU.get(e)||1}function i8(e){if(e!==zf)throw new Error("invalid wNAF")}function mne(e,t){return{constTimeNegate:Zd,hasPrecomputes(n){return Rv(n)!==1},unsafeLadder(n,r,s=e.ZERO){let o=n;for(;r>zf;)r&wl&&(s=s.add(o)),o=o.double(),r>>=wl;return s},precomputeWindow(n,r){const{windows:s,windowSize:o}=$v(r,t),c=[];let l=n,f=l;for(let d=0;d<s;d++){f=l,c.push(f);for(let p=1;p<o;p++)f=f.add(l),c.push(f);l=f.double()}return c},wNAF(n,r,s){let o=e.ZERO,c=e.BASE;const l=$v(n,t);for(let f=0;f<l.windows;f++){const{nextN:d,offset:p,isZero:g,isNeg:y,isNegF:b,offsetF:v}=s8(s,f,l);s=d,g?c=c.add(Zd(b,r[v])):o=o.add(Zd(y,r[p]))}return i8(s),{p:o,f:c}},wNAFUnsafe(n,r,s,o=e.ZERO){const c=$v(n,t);for(let l=0;l<c.windows&&s!==zf;l++){const{nextN:f,offset:d,isZero:p,isNeg:g}=s8(s,l,c);if(s=f,!p){const y=r[d];o=o.add(g?y.negate():y)}}return i8(s),o},getPrecomputes(n,r,s){let o=Uv.get(r);return o||(o=this.precomputeWindow(r,n),n!==1&&(typeof s=="function"&&(o=s(o)),Uv.set(r,o))),o},wNAFCached(n,r,s){const o=Rv(n);return this.wNAF(o,this.getPrecomputes(o,n,s),r)},wNAFCachedUnsafe(n,r,s,o){const c=Rv(n);return c===1?this.unsafeLadder(n,r,o):this.wNAFUnsafe(c,this.getPrecomputes(c,n,s),r,o)},setWindowSize(n,r){aU(r,t),cU.set(n,r),Uv.delete(n)}}}function yne(e,t,n,r){let s=t,o=e.ZERO,c=e.ZERO;for(;n>zf||r>zf;)n&wl&&(o=o.add(s)),r&wl&&(c=c.add(s)),s=s.double(),n>>=wl,r>>=wl;return{p1:o,p2:c}}function wne(e,t,n,r){pne(n,e),gne(r,t);const s=n.length,o=r.length;if(s!==o)throw new Error("arrays of points and scalars must have equal length");const c=e.ZERO,l=nne(BigInt(s));let f=1;l>12?f=l-3:l>4?f=l-2:l>0&&(f=2);const d=Jy(f),p=new Array(Number(d)+1).fill(c),g=Math.floor((t.BITS-1)/f)*f;let y=c;for(let b=g;b>=0;b-=f){p.fill(c);for(let E=0;E<o;E++){const S=r[E],C=Number(S>>BigInt(b)&d);p[C]=p[C].add(n[E])}let v=c;for(let E=p.length-1,S=c;E>0;E--)S=S.add(p[E]),v=v.add(S);if(y=y.add(v),b!==0)for(let E=0;E<f;E++)y=y.double()}return y}function o8(e,t){if(t){if(t.ORDER!==e)throw new Error("Field.ORDER must match order: Fp == p, Fn == n");return lne(t),t}else return uh(e)}function bne(e,t,n={}){if(!t||typeof t!="object")throw new Error(`expected valid ${e} CURVE object`);for(const c of["p","n","h"]){const l=t[c];if(!(typeof l=="bigint"&&l>zf))throw new Error(`CURVE.${c} must be positive bigint`)}const r=o8(t.p,n.Fp),s=o8(t.n,n.Fn),o=["Gx","Gy","a","b"];for(const c of o)if(!r.isValid(t[c]))throw new Error(`CURVE.${c} must be valid field element of CURVE.Fp`);return{Fp:r,Fn:s}}BigInt(0),BigInt(1),BigInt(2),BigInt(8);const Cd=BigInt(0),qu=BigInt(1),d0=BigInt(2);function vne(e){return ew(e,{adjustScalarBytes:"function",powPminus2:"function"}),Object.freeze({...e})}function Ene(e){const t=vne(e),{P:n,type:r,adjustScalarBytes:s,powPminus2:o,randomBytes:c}=t,l=r==="x25519";if(!l&&r!=="x448")throw new Error("invalid type");const f=c||lh,d=l?255:448,p=l?32:56,g=BigInt(l?9:5),y=BigInt(l?121665:39081),b=l?d0**BigInt(254):d0**BigInt(447),v=l?BigInt(8)*d0**BigInt(251)-qu:BigInt(4)*d0**BigInt(445)-qu,E=b+v+qu,S=U=>Ls(U,n),C=O(g);function O(U){return WA(S(U),p)}function x(U){const D=Pr("u coordinate",U,p);return l&&(D[31]&=127),S(Sy(D))}function N(U){return Sy(s(Pr("scalar",U,p)))}function T(U,D){const B=L(x(D),N(U));if(B===Cd)throw new Error("invalid private or public key received");return O(B)}function I(U){return T(U,C)}function R(U,D,B){const H=S(U*(D-B));return D=S(D-H),B=S(B+H),{x_2:D,x_3:B}}function L(U,D){_E("u",U,Cd,n),_E("scalar",D,b,E);const B=D,H=U;let X=qu,Y=Cd,M=U,_=qu,j=Cd;for(let W=BigInt(d-1);W>=Cd;W--){const V=B>>W&qu;j^=V,{x_2:X,x_3:M}=R(j,X,M),{x_2:Y,x_3:_}=R(j,Y,_),j=V;const P=X+Y,G=S(P*P),te=X-Y,se=S(te*te),ue=G-se,pe=M+_,Te=M-_,ke=S(Te*P),Ie=S(pe*te),Et=ke+Ie,jt=ke-Ie;M=S(Et*Et),_=S(H*S(jt*jt)),X=S(G*se),Y=S(ue*(G+S(y*ue)))}({x_2:X,x_3:M}=R(j,X,M)),{x_2:Y,x_3:_}=R(j,Y,_);const q=o(Y);return S(X*q)}return{scalarMult:T,scalarMultBase:I,getSharedSecret:(U,D)=>T(U,D),getPublicKey:U=>I(U),utils:{randomPrivateKey:()=>f(p)},GuBytes:C.slice()}}BigInt(0);const Sne=BigInt(1),a8=BigInt(2),Ane=BigInt(3),Cne=BigInt(5);BigInt(8);const lU={p:BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffed"),n:BigInt("0x1000000000000000000000000000000014def9dea2f79cd65812631a5cf5d3ed"),a:BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffec"),d:BigInt("0x52036cee2b6ffe738cc740797779e89800700a4d4141d8ab75eb4dca135978a3"),Gx:BigInt("0x216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a"),Gy:BigInt("0x6666666666666666666666666666666666666666666666666666666666666658")};function xne(e){const t=BigInt(10),n=BigInt(20),r=BigInt(40),s=BigInt(80),o=lU.p,c=e*e%o*e%o,l=oi(c,a8,o)*c%o,f=oi(l,Sne,o)*e%o,d=oi(f,Cne,o)*f%o,p=oi(d,t,o)*d%o,g=oi(p,n,o)*p%o,y=oi(g,r,o)*g%o,b=oi(y,s,o)*y%o,v=oi(b,s,o)*y%o,E=oi(v,t,o)*d%o;return{pow_p_5_8:oi(E,a8,o)*e%o,b2:c}}function Nne(e){return e[0]&=248,e[31]&=127,e[31]|=64,e}const IE=(()=>{const e=lU.p;return Ene({P:e,type:"x25519",powPminus2:t=>{const{pow_p_5_8:n,b2:r}=xne(t);return Ls(oi(n,Ane,e)*r,e)},adjustScalarBytes:Nne})})();function c8(e){e.lowS!==void 0&&Ey("lowS",e.lowS),e.prehash!==void 0&&Ey("prehash",e.prehash)}class Tne extends Error{constructor(t=""){super(t)}}const jo={Err:Tne,_tlv:{encode:(e,t)=>{const{Err:n}=jo;if(e<0||e>256)throw new n("tlv.encode: wrong tag");if(t.length&1)throw new n("tlv.encode: unpadded data");const r=t.length/2,s=h0(r);if(s.length/2&128)throw new n("tlv.encode: long form length too big");const o=r>127?h0(s.length/2|128):"";return h0(e)+o+s+t},decode(e,t){const{Err:n}=jo;let r=0;if(e<0||e>256)throw new n("tlv.encode: wrong tag");if(t.length<2||t[r++]!==e)throw new n("tlv.decode: wrong tlv");const s=t[r++],o=!!(s&128);let c=0;if(!o)c=s;else{const f=s&127;if(!f)throw new n("tlv.decode(long): indefinite length not supported");if(f>4)throw new n("tlv.decode(long): byte length is too big");const d=t.subarray(r,r+f);if(d.length!==f)throw new n("tlv.decode: length bytes not complete");if(d[0]===0)throw new n("tlv.decode(long): zero leftmost byte");for(const p of d)c=c<<8|p;if(r+=f,c<128)throw new n("tlv.decode(long): not minimal encoding")}const l=t.subarray(r,r+c);if(l.length!==c)throw new n("tlv.decode: wrong value length");return{v:l,l:t.subarray(r+c)}}},_int:{encode(e){const{Err:t}=jo;if(e<Qd)throw new t("integer: negative integers are not allowed");let n=h0(e);if(Number.parseInt(n[0],16)&8&&(n="00"+n),n.length&1)throw new t("unexpected DER parsing assertion: unpadded hex");return n},decode(e){const{Err:t}=jo;if(e[0]&128)throw new t("invalid signature integer: negative");if(e[0]===0&&!(e[1]&128))throw new t("invalid signature integer: unnecessary leading zero");return Qy(e)}},toSig(e){const{Err:t,_int:n,_tlv:r}=jo,s=Pr("signature",e),{v:o,l:c}=r.decode(48,s);if(c.length)throw new t("invalid signature: left bytes after parsing");const{v:l,l:f}=r.decode(2,o),{v:d,l:p}=r.decode(2,f);if(p.length)throw new t("invalid signature: left bytes after parsing");return{r:n.decode(l),s:n.decode(d)}},hexFromSig(e){const{_tlv:t,_int:n}=jo,r=t.encode(2,n.encode(e.r)),s=t.encode(2,n.encode(e.s)),o=r+s;return t.encode(48,o)}},Qd=BigInt(0),Jd=BigInt(1),_ne=BigInt(2),p0=BigInt(3),Ine=BigInt(4);function One(e,t,n){function r(s){const o=e.sqr(s),c=e.mul(o,s);return e.add(e.add(c,e.mul(s,t)),n)}return r}function uU(e,t,n){const{BYTES:r}=e;function s(o){let c;if(typeof o=="bigint")c=o;else{let l=Pr("private key",o);if(t){if(!t.includes(l.length*2))throw new Error("invalid private key");const f=new Uint8Array(r);f.set(l,f.length-l.length),l=f}try{c=e.fromBytes(l)}catch{throw new Error(`invalid private key: expected ui8a of size ${r}, got ${typeof o}`)}}if(n&&(c=e.create(c)),!e.isValidNot0(c))throw new Error("invalid private key: out of range [1..N-1]");return c}return s}function Dne(e,t={}){const{Fp:n,Fn:r}=bne("weierstrass",e,t),{h:s,n:o}=e;ew(t,{},{allowInfinityPoint:"boolean",clearCofactor:"function",isTorsionFree:"function",fromBytes:"function",toBytes:"function",endo:"object",wrapPrivateKey:"boolean"});const{endo:c}=t;if(c&&(!n.is0(e.a)||typeof c.beta!="bigint"||typeof c.splitScalar!="function"))throw new Error('invalid endo: expected "beta": bigint and "splitScalar": function');function l(){if(!n.isOdd)throw new Error("compression is not supported: Field does not have .isOdd()")}function f(L,U,D){const{x:B,y:H}=U.toAffine(),X=n.toBytes(B);if(Ey("isCompressed",D),D){l();const Y=!n.isOdd(H);return ml(fU(Y),X)}else return ml(Uint8Array.of(4),X,n.toBytes(H))}function d(L){Fs(L);const U=n.BYTES,D=U+1,B=2*U+1,H=L.length,X=L[0],Y=L.subarray(1);if(H===D&&(X===2||X===3)){const M=n.fromBytes(Y);if(!n.isValid(M))throw new Error("bad point: is not on curve, wrong x");const _=y(M);let j;try{j=n.sqrt(_)}catch(W){const V=W instanceof Error?": "+W.message:"";throw new Error("bad point: is not on curve, sqrt error"+V)}l();const q=n.isOdd(j);return(X&1)===1!==q&&(j=n.neg(j)),{x:M,y:j}}else if(H===B&&X===4){const M=n.fromBytes(Y.subarray(U*0,U*1)),_=n.fromBytes(Y.subarray(U*1,U*2));if(!b(M,_))throw new Error("bad point: is not on curve");return{x:M,y:_}}else throw new Error(`bad point: got length ${H}, expected compressed=${D} or uncompressed=${B}`)}const p=t.toBytes||f,g=t.fromBytes||d,y=One(n,e.a,e.b);function b(L,U){const D=n.sqr(U),B=y(L);return n.eql(D,B)}if(!b(e.Gx,e.Gy))throw new Error("bad curve params: generator point");const v=n.mul(n.pow(e.a,p0),Ine),E=n.mul(n.sqr(e.b),BigInt(27));if(n.is0(n.add(v,E)))throw new Error("bad curve params: a or b");function S(L,U,D=!1){if(!n.isValid(U)||D&&n.is0(U))throw new Error(`bad point coordinate ${L}`);return U}function C(L){if(!(L instanceof T))throw new Error("ProjectivePoint expected")}const O=t8((L,U)=>{const{px:D,py:B,pz:H}=L;if(n.eql(H,n.ONE))return{x:D,y:B};const X=L.is0();U==null&&(U=X?n.ONE:n.inv(H));const Y=n.mul(D,U),M=n.mul(B,U),_=n.mul(H,U);if(X)return{x:n.ZERO,y:n.ZERO};if(!n.eql(_,n.ONE))throw new Error("invZ was invalid");return{x:Y,y:M}}),x=t8(L=>{if(L.is0()){if(t.allowInfinityPoint&&!n.is0(L.py))return;throw new Error("bad point: ZERO")}const{x:U,y:D}=L.toAffine();if(!n.isValid(U)||!n.isValid(D))throw new Error("bad point: x or y not field elements");if(!b(U,D))throw new Error("bad point: equation left != right");if(!L.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});function N(L,U,D,B,H){return D=new T(n.mul(D.px,L),D.py,D.pz),U=Zd(B,U),D=Zd(H,D),U.add(D)}class T{constructor(U,D,B){this.px=S("x",U),this.py=S("y",D,!0),this.pz=S("z",B),Object.freeze(this)}static fromAffine(U){const{x:D,y:B}=U||{};if(!U||!n.isValid(D)||!n.isValid(B))throw new Error("invalid affine point");if(U instanceof T)throw new Error("projective point not allowed");return n.is0(D)&&n.is0(B)?T.ZERO:new T(D,B,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(U){return dne(T,"pz",U)}static fromBytes(U){return Fs(U),T.fromHex(U)}static fromHex(U){const D=T.fromAffine(g(Pr("pointHex",U)));return D.assertValidity(),D}static fromPrivateKey(U){const D=uU(r,t.allowedPrivateKeyLengths,t.wrapPrivateKey);return T.BASE.multiply(D(U))}static msm(U,D){return wne(T,r,U,D)}precompute(U=8,D=!0){return R.setWindowSize(this,U),D||this.multiply(p0),this}_setWindowSize(U){this.precompute(U)}assertValidity(){x(this)}hasEvenY(){const{y:U}=this.toAffine();if(!n.isOdd)throw new Error("Field doesn't support isOdd");return!n.isOdd(U)}equals(U){C(U);const{px:D,py:B,pz:H}=this,{px:X,py:Y,pz:M}=U,_=n.eql(n.mul(D,M),n.mul(X,H)),j=n.eql(n.mul(B,M),n.mul(Y,H));return _&&j}negate(){return new T(this.px,n.neg(this.py),this.pz)}double(){const{a:U,b:D}=e,B=n.mul(D,p0),{px:H,py:X,pz:Y}=this;let M=n.ZERO,_=n.ZERO,j=n.ZERO,q=n.mul(H,H),W=n.mul(X,X),V=n.mul(Y,Y),P=n.mul(H,X);return P=n.add(P,P),j=n.mul(H,Y),j=n.add(j,j),M=n.mul(U,j),_=n.mul(B,V),_=n.add(M,_),M=n.sub(W,_),_=n.add(W,_),_=n.mul(M,_),M=n.mul(P,M),j=n.mul(B,j),V=n.mul(U,V),P=n.sub(q,V),P=n.mul(U,P),P=n.add(P,j),j=n.add(q,q),q=n.add(j,q),q=n.add(q,V),q=n.mul(q,P),_=n.add(_,q),V=n.mul(X,Y),V=n.add(V,V),q=n.mul(V,P),M=n.sub(M,q),j=n.mul(V,W),j=n.add(j,j),j=n.add(j,j),new T(M,_,j)}add(U){C(U);const{px:D,py:B,pz:H}=this,{px:X,py:Y,pz:M}=U;let _=n.ZERO,j=n.ZERO,q=n.ZERO;const W=e.a,V=n.mul(e.b,p0);let P=n.mul(D,X),G=n.mul(B,Y),te=n.mul(H,M),se=n.add(D,B),ue=n.add(X,Y);se=n.mul(se,ue),ue=n.add(P,G),se=n.sub(se,ue),ue=n.add(D,H);let pe=n.add(X,M);return ue=n.mul(ue,pe),pe=n.add(P,te),ue=n.sub(ue,pe),pe=n.add(B,H),_=n.add(Y,M),pe=n.mul(pe,_),_=n.add(G,te),pe=n.sub(pe,_),q=n.mul(W,ue),_=n.mul(V,te),q=n.add(_,q),_=n.sub(G,q),q=n.add(G,q),j=n.mul(_,q),G=n.add(P,P),G=n.add(G,P),te=n.mul(W,te),ue=n.mul(V,ue),G=n.add(G,te),te=n.sub(P,te),te=n.mul(W,te),ue=n.add(ue,te),P=n.mul(G,ue),j=n.add(j,P),P=n.mul(pe,ue),_=n.mul(se,_),_=n.sub(_,P),P=n.mul(se,G),q=n.mul(pe,q),q=n.add(q,P),new T(_,j,q)}subtract(U){return this.add(U.negate())}is0(){return this.equals(T.ZERO)}multiply(U){const{endo:D}=t;if(!r.isValidNot0(U))throw new Error("invalid scalar: out of range");let B,H;const X=Y=>R.wNAFCached(this,Y,T.normalizeZ);if(D){const{k1neg:Y,k1:M,k2neg:_,k2:j}=D.splitScalar(U),{p:q,f:W}=X(M),{p:V,f:P}=X(j);H=W.add(P),B=N(D.beta,q,V,Y,_)}else{const{p:Y,f:M}=X(U);B=Y,H=M}return T.normalizeZ([B,H])[0]}multiplyUnsafe(U){const{endo:D}=t,B=this;if(!r.isValid(U))throw new Error("invalid scalar: out of range");if(U===Qd||B.is0())return T.ZERO;if(U===Jd)return B;if(R.hasPrecomputes(this))return this.multiply(U);if(D){const{k1neg:H,k1:X,k2neg:Y,k2:M}=D.splitScalar(U),{p1:_,p2:j}=yne(T,B,X,M);return N(D.beta,_,j,H,Y)}else return R.wNAFCachedUnsafe(B,U)}multiplyAndAddUnsafe(U,D,B){const H=this.multiplyUnsafe(D).add(U.multiplyUnsafe(B));return H.is0()?void 0:H}toAffine(U){return O(this,U)}isTorsionFree(){const{isTorsionFree:U}=t;return s===Jd?!0:U?U(T,this):R.wNAFCachedUnsafe(this,o).is0()}clearCofactor(){const{clearCofactor:U}=t;return s===Jd?this:U?U(T,this):this.multiplyUnsafe(s)}toBytes(U=!0){return Ey("isCompressed",U),this.assertValidity(),p(T,this,U)}toRawBytes(U=!0){return this.toBytes(U)}toHex(U=!0){return _p(this.toBytes(U))}toString(){return`<Point ${this.is0()?"ZERO":this.toHex()}>`}}T.BASE=new T(e.Gx,e.Gy,n.ONE),T.ZERO=new T(n.ZERO,n.ONE,n.ZERO),T.Fp=n,T.Fn=r;const I=r.BITS,R=mne(T,t.endo?Math.ceil(I/2):I);return T}function fU(e){return Uint8Array.of(e?2:3)}function Mne(e,t,n={}){ew(t,{hash:"function"},{hmac:"function",lowS:"boolean",randomBytes:"function",bits2int:"function",bits2int_modN:"function"});const r=t.randomBytes||lh,s=t.hmac||((B,...H)=>Xy(t.hash,B,ml(...H))),{Fp:o,Fn:c}=e,{ORDER:l,BITS:f}=c;function d(B){const H=l>>Jd;return B>H}function p(B){return d(B)?c.neg(B):B}function g(B,H){if(!c.isValidNot0(H))throw new Error(`invalid signature ${B}: out of range 1..CURVE.n`)}class y{constructor(H,X,Y){g("r",H),g("s",X),this.r=H,this.s=X,Y!=null&&(this.recovery=Y),Object.freeze(this)}static fromCompact(H){const X=c.BYTES,Y=Pr("compactSignature",H,X*2);return new y(c.fromBytes(Y.subarray(0,X)),c.fromBytes(Y.subarray(X,X*2)))}static fromDER(H){const{r:X,s:Y}=jo.toSig(Pr("DER",H));return new y(X,Y)}assertValidity(){}addRecoveryBit(H){return new y(this.r,this.s,H)}recoverPublicKey(H){const X=o.ORDER,{r:Y,s:M,recovery:_}=this;if(_==null||![0,1,2,3].includes(_))throw new Error("recovery id invalid");if(l*_ne<X&&_>1)throw new Error("recovery id is ambiguous for h>1 curve");const j=_===2||_===3?Y+l:Y;if(!o.isValid(j))throw new Error("recovery id 2 or 3 invalid");const q=o.toBytes(j),W=e.fromHex(ml(fU((_&1)===0),q)),V=c.inv(j),P=x(Pr("msgHash",H)),G=c.create(-P*V),te=c.create(M*V),se=e.BASE.multiplyUnsafe(G).add(W.multiplyUnsafe(te));if(se.is0())throw new Error("point at infinify");return se.assertValidity(),se}hasHighS(){return d(this.s)}normalizeS(){return this.hasHighS()?new y(this.r,c.neg(this.s),this.recovery):this}toBytes(H){if(H==="compact")return ml(c.toBytes(this.r),c.toBytes(this.s));if(H==="der")return zA(jo.hexFromSig(this));throw new Error("invalid format")}toDERRawBytes(){return this.toBytes("der")}toDERHex(){return _p(this.toBytes("der"))}toCompactRawBytes(){return this.toBytes("compact")}toCompactHex(){return _p(this.toBytes("compact"))}}const b=uU(c,n.allowedPrivateKeyLengths,n.wrapPrivateKey),v={isValidPrivateKey(B){try{return b(B),!0}catch{return!1}},normPrivateKeyToScalar:b,randomPrivateKey:()=>{const B=l;return hne(r(oU(B)),B)},precompute(B=8,H=e.BASE){return H.precompute(B,!1)}};function E(B,H=!0){return e.fromPrivateKey(B).toBytes(H)}function S(B){if(typeof B=="bigint")return!1;if(B instanceof e)return!0;const H=Pr("key",B).length,X=o.BYTES,Y=X+1,M=2*X+1;if(!(n.allowedPrivateKeyLengths||c.BYTES===Y))return H===Y||H===M}function C(B,H,X=!0){if(S(B)===!0)throw new Error("first arg must be private key");if(S(H)===!1)throw new Error("second arg must be public key");return e.fromHex(H).multiply(b(B)).toBytes(X)}const O=t.bits2int||function(B){if(B.length>8192)throw new Error("input is too large");const H=Qy(B),X=B.length*8-f;return X>0?H>>BigInt(X):H},x=t.bits2int_modN||function(B){return c.create(O(B))},N=Jy(f);function T(B){return _E("num < 2^"+f,B,Qd,N),c.toBytes(B)}function I(B,H,X=R){if(["recovered","canonical"].some(se=>se in X))throw new Error("sign() legacy options not supported");const{hash:Y}=t;let{lowS:M,prehash:_,extraEntropy:j}=X;M==null&&(M=!0),B=Pr("msgHash",B),c8(X),_&&(B=Pr("prehashed msgHash",Y(B)));const q=x(B),W=b(H),V=[T(W),T(q)];if(j!=null&&j!==!1){const se=j===!0?r(o.BYTES):j;V.push(Pr("extraEntropy",se))}const P=ml(...V),G=q;function te(se){const ue=O(se);if(!c.isValidNot0(ue))return;const pe=c.inv(ue),Te=e.BASE.multiply(ue).toAffine(),ke=c.create(Te.x);if(ke===Qd)return;const Ie=c.create(pe*c.create(G+ke*W));if(Ie===Qd)return;let Et=(Te.x===ke?0:2)|Number(Te.y&Jd),jt=Ie;return M&&d(Ie)&&(jt=p(Ie),Et^=1),new y(ke,jt,Et)}return{seed:P,k2sig:te}}const R={lowS:t.lowS,prehash:!1},L={lowS:t.lowS,prehash:!1};function U(B,H,X=R){const{seed:Y,k2sig:M}=I(B,H,X);return rne(t.hash.outputLen,c.BYTES,s)(Y,M)}e.BASE.precompute(8);function D(B,H,X,Y=L){const M=B;H=Pr("msgHash",H),X=Pr("publicKey",X),c8(Y);const{lowS:_,prehash:j,format:q}=Y;if("strict"in Y)throw new Error("options.strict was renamed to lowS");if(q!==void 0&&!["compact","der","js"].includes(q))throw new Error('format must be "compact", "der" or "js"');const W=typeof M=="string"||LA(M),V=!W&&!q&&typeof M=="object"&&M!==null&&typeof M.r=="bigint"&&typeof M.s=="bigint";if(!W&&!V)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");let P,G;try{if(V)if(q===void 0||q==="js")P=new y(M.r,M.s);else throw new Error("invalid format");if(W){try{q!=="compact"&&(P=y.fromDER(M))}catch(Et){if(!(Et instanceof jo.Err))throw Et}!P&&q!=="der"&&(P=y.fromCompact(M))}G=e.fromHex(X)}catch{return!1}if(!P||_&&P.hasHighS())return!1;j&&(H=t.hash(H));const{r:te,s:se}=P,ue=x(H),pe=c.inv(se),Te=c.create(ue*pe),ke=c.create(te*pe),Ie=e.BASE.multiplyUnsafe(Te).add(G.multiplyUnsafe(ke));return Ie.is0()?!1:c.create(Ie.x)===te}return Object.freeze({getPublicKey:E,getSharedSecret:C,sign:U,verify:D,utils:v,Point:e,Signature:y})}function $ne(e){const t={a:e.a,b:e.b,p:e.Fp.ORDER,n:e.n,h:e.h,Gx:e.Gx,Gy:e.Gy},n=e.Fp,r=uh(t.n,e.nBitLength),s={Fp:n,Fn:r,allowedPrivateKeyLengths:e.allowedPrivateKeyLengths,allowInfinityPoint:e.allowInfinityPoint,endo:e.endo,wrapPrivateKey:e.wrapPrivateKey,isTorsionFree:e.isTorsionFree,clearCofactor:e.clearCofactor,fromBytes:e.fromBytes,toBytes:e.toBytes};return{CURVE:t,curveOpts:s}}function Une(e){const{CURVE:t,curveOpts:n}=$ne(e),r={hash:e.hash,hmac:e.hmac,randomBytes:e.randomBytes,lowS:e.lowS,bits2int:e.bits2int,bits2int_modN:e.bits2int_modN};return{CURVE:t,curveOpts:n,ecdsaOpts:r}}function Rne(e,t){return Object.assign({},t,{ProjectivePoint:t.Point,CURVE:e})}function Pne(e){const{CURVE:t,curveOpts:n,ecdsaOpts:r}=Une(e),s=Dne(t,n),o=Mne(s,r,n);return Rne(e,o)}function OE(e,t){const n=r=>Pne({...e,hash:r});return{...n(t),create:n}}const hU={p:BigInt("0xffffffff00000001000000000000000000000000ffffffffffffffffffffffff"),n:BigInt("0xffffffff00000000ffffffffffffffffbce6faada7179e84f3b9cac2fc632551"),h:BigInt(1),a:BigInt("0xffffffff00000001000000000000000000000000fffffffffffffffffffffffc"),b:BigInt("0x5ac635d8aa3a93e7b3ebbd55769886bc651d06b0cc53b0f63bce3c3e27d2604b"),Gx:BigInt("0x6b17d1f2e12c4247f8bce6e563a440f277037d812deb33a0f4a13945d898c296"),Gy:BigInt("0x4fe342e2fe1a7f9b8ee7eb4a7c0f9e162bce33576b315ececbb6406837bf51f5")},dU={p:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffeffffffff0000000000000000ffffffff"),n:BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffc7634d81f4372ddf581a0db248b0a77aecec196accc52973"),h:BigInt(1),a:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffeffffffff0000000000000000fffffffc"),b:BigInt("0xb3312fa7e23ee7e4988e056be3f82d19181d9c6efe8141120314088f5013875ac656398d8a2ed19d2a85c8edd3ec2aef"),Gx:BigInt("0xaa87ca22be8b05378eb1c71ef320ad746e1d3b628ba79b9859f741e082542a385502f25dbf55296c3a545e3872760ab7"),Gy:BigInt("0x3617de4a96262c6f5d9e98bf9292dc29f8f41dbd289a147ce9da3113b5f0b8c00a60b1ce1d7e819d7a431d7c90ea0e5f")},pU={p:BigInt("0x1ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),n:BigInt("0x01fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffa51868783bf2f966b7fcc0148f709a5d03bb5c9b8899c47aebb6fb71e91386409"),h:BigInt(1),a:BigInt("0x1fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc"),b:BigInt("0x0051953eb9618e1c9a1f929a21a0b68540eea2da725b99b315f3b8b489918ef109e156193951ec7e937b1652c0bd3bb1bf073573df883d2c34f1ef451fd46b503f00"),Gx:BigInt("0x00c6858e06b70404e9cd9e3ecb662395b4429c648139053fb521f828af606b4d3dbaa14b5e77efe75928fe1dc127a2ffa8de3348b3c1856a429bf97e7e31c2e5bd66"),Gy:BigInt("0x011839296a789a3bc0045c8a5fb42c7d1bd998f54449579b446817afbd17273e662c97ee72995ef42640c550b9013fad0761353c7086a272c24088be94769fd16650")},Bne=uh(hU.p),Lne=uh(dU.p),kne=uh(pU.p),jne=OE({...hU,Fp:Bne,lowS:!1},Yy);OE({...dU,Fp:Lne,lowS:!1},Gee),OE({...pU,Fp:kne,lowS:!1,allowedPrivateKeyLengths:[130,131,132]},Kee);const zne=jne,gU="base10",yr="base16",pi="base64pad",Za="base64url",bg="utf8",mU=0,Fo=1,vg=2,Hne=0,l8=1,ep=12,KA=32;function Fne(){const e=IE.utils.randomPrivateKey(),t=IE.getPublicKey(e);return{privateKey:jr(e,yr),publicKey:jr(t,yr)}}function DE(){const e=lh(KA);return jr(e,yr)}function qne(e,t){const n=IE.getSharedSecret(zs(e,yr),zs(t,yr)),r=ene(Zy,n,void 0,void 0,KA);return jr(r,yr)}function z0(e){const t=Zy(zs(e,yr));return jr(t,yr)}function zi(e){const t=Zy(zs(e,bg));return jr(t,yr)}function yU(e){return zs(`${e}`,gU)}function Rl(e){return Number(jr(e,gU))}function wU(e){return e.replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}function bU(e){const t=e.replace(/-/g,"+").replace(/_/g,"/"),n=(4-t.length%4)%4;return t+"=".repeat(n)}function Vne(e){const t=yU(typeof e.type<"u"?e.type:mU);if(Rl(t)===Fo&&typeof e.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");const n=typeof e.senderPublicKey<"u"?zs(e.senderPublicKey,yr):void 0,r=typeof e.iv<"u"?zs(e.iv,yr):lh(ep),s=zs(e.symKey,yr),o=Z$(s,r).encrypt(zs(e.message,bg)),c=vU({type:t,sealed:o,iv:r,senderPublicKey:n});return e.encoding===Za?wU(c):c}function Wne(e){const t=zs(e.symKey,yr),{sealed:n,iv:r}=Op({encoded:e.encoded,encoding:e.encoding}),s=Z$(t,r).decrypt(n);if(s===null)throw new Error("Failed to decrypt");return jr(s,bg)}function Kne(e,t){const n=yU(vg),r=lh(ep),s=zs(e,bg),o=vU({type:n,sealed:s,iv:r});return t===Za?wU(o):o}function Gne(e,t){const{sealed:n}=Op({encoded:e,encoding:t});return jr(n,bg)}function vU(e){if(Rl(e.type)===vg)return jr(Xd([e.type,e.sealed]),pi);if(Rl(e.type)===Fo){if(typeof e.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");return jr(Xd([e.type,e.senderPublicKey,e.iv,e.sealed]),pi)}return jr(Xd([e.type,e.iv,e.sealed]),pi)}function Op(e){const t=(e.encoding||pi)===Za?bU(e.encoded):e.encoded,n=zs(t,pi),r=n.slice(Hne,l8),s=l8;if(Rl(r)===Fo){const f=s+KA,d=f+ep,p=n.slice(s,f),g=n.slice(f,d),y=n.slice(d);return{type:r,sealed:y,iv:g,senderPublicKey:p}}if(Rl(r)===vg){const f=n.slice(s),d=lh(ep);return{type:r,sealed:f,iv:d}}const o=s+ep,c=n.slice(s,o),l=n.slice(o);return{type:r,sealed:l,iv:c}}function Yne(e,t){const n=Op({encoded:e,encoding:t?.encoding});return EU({type:Rl(n.type),senderPublicKey:typeof n.senderPublicKey<"u"?jr(n.senderPublicKey,yr):void 0,receiverPublicKey:t?.receiverPublicKey})}function EU(e){const t=e?.type||mU;if(t===Fo){if(typeof e?.senderPublicKey>"u")throw new Error("missing sender public key");if(typeof e?.receiverPublicKey>"u")throw new Error("missing receiver public key")}return{type:t,senderPublicKey:e?.senderPublicKey,receiverPublicKey:e?.receiverPublicKey}}function u8(e){return e.type===Fo&&typeof e.senderPublicKey=="string"&&typeof e.receiverPublicKey=="string"}function f8(e){return e.type===vg}function Xne(e){const t=Buffer.from(e.x,"base64"),n=Buffer.from(e.y,"base64");return Xd([new Uint8Array([4]),t,n])}function Zne(e,t){const[n,r,s]=e.split("."),o=Buffer.from(bU(s),"base64");if(o.length!==64)throw new Error("Invalid signature length");const c=o.slice(0,32),l=o.slice(32,64),f=`${n}.${r}`,d=Zy(f),p=Xne(t);if(!zne.verify(Xd([c,l]),d,p))throw new Error("Invalid signature");return hE(e).payload}const Qne="irn";function Ay(e){return e?.relay||{protocol:Qne}}function Ld(e){const t=UJ[e];if(typeof t>"u")throw new Error(`Relay Protocol not supported: ${e}`);return t}function Jne(e,t="-"){const n={},r="relay"+t;return Object.keys(e).forEach(s=>{if(s.startsWith(r)){const o=s.replace(r,""),c=e[s];n[o]=c}}),n}function h8(e){if(!e.includes("wc:")){const d=M$(e);d!=null&&d.includes("wc:")&&(e=d)}e=e.includes("wc://")?e.replace("wc://",""):e,e=e.includes("wc:")?e.replace("wc:",""):e;const t=e.indexOf(":"),n=e.indexOf("?")!==-1?e.indexOf("?"):void 0,r=e.substring(0,t),s=e.substring(t+1,n).split("@"),o=typeof n<"u"?e.substring(n):"",c=new URLSearchParams(o),l={};c.forEach((d,p)=>{l[p]=d});const f=typeof l.methods=="string"?l.methods.split(","):void 0;return{protocol:r,topic:ere(s[0]),version:parseInt(s[1],10),symKey:l.symKey,relay:Jne(l),methods:f,expiryTimestamp:l.expiryTimestamp?parseInt(l.expiryTimestamp,10):void 0}}function ere(e){return e.startsWith("//")?e.substring(2):e}function tre(e,t="-"){const n="relay",r={};return Object.keys(e).forEach(s=>{const o=s,c=n+t+o;e[o]&&(r[c]=e[o])}),r}function d8(e){const t=new URLSearchParams,n=tre(e.relay);Object.keys(n).sort().forEach(s=>{t.set(s,n[s])}),t.set("symKey",e.symKey),e.expiryTimestamp&&t.set("expiryTimestamp",e.expiryTimestamp.toString()),e.methods&&t.set("methods",e.methods.join(","));const r=t.toString();return`${e.protocol}:${e.topic}@${e.version}?${r}`}function g0(e,t,n){return`${e}?wc_ev=${n}&topic=${t}`}var nre=Object.defineProperty,rre=Object.defineProperties,sre=Object.getOwnPropertyDescriptors,p8=Object.getOwnPropertySymbols,ire=Object.prototype.hasOwnProperty,ore=Object.prototype.propertyIsEnumerable,g8=(e,t,n)=>t in e?nre(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,are=(e,t)=>{for(var n in t||(t={}))ire.call(t,n)&&g8(e,n,t[n]);if(p8)for(var n of p8(t))ore.call(t,n)&&g8(e,n,t[n]);return e},cre=(e,t)=>rre(e,sre(t));function fh(e){const t=[];return e.forEach(n=>{const[r,s]=n.split(":");t.push(`${r}:${s}`)}),t}function lre(e){const t=[];return Object.values(e).forEach(n=>{t.push(...fh(n.accounts))}),t}function ure(e,t){const n=[];return Object.values(e).forEach(r=>{fh(r.accounts).includes(t)&&n.push(...r.methods)}),n}function fre(e,t){const n=[];return Object.values(e).forEach(r=>{fh(r.accounts).includes(t)&&n.push(...r.events)}),n}function tw(e){return e.includes(":")}function Ef(e){return tw(e)?e.split(":")[0]:e}function m8(e){var t,n,r;const s={};if(!Zi(e))return s;for(const[o,c]of Object.entries(e)){const l=tw(o)?[o]:c.chains,f=c.methods||[],d=c.events||[],p=Ef(o);s[p]=cre(are({},s[p]),{chains:Xi(l,(t=s[p])==null?void 0:t.chains),methods:Xi(f,(n=s[p])==null?void 0:n.methods),events:Xi(d,(r=s[p])==null?void 0:r.events)})}return s}function hre(e){const t={};return e?.forEach(n=>{var r;const[s,o]=n.split(":");t[s]||(t[s]={accounts:[],chains:[],events:[],methods:[]}),t[s].accounts.push(n),(r=t[s].chains)==null||r.push(`${s}:${o}`)}),t}function y8(e,t){t=t.map(r=>r.replace("did:pkh:",""));const n=hre(t);for(const[r,s]of Object.entries(n))s.methods?s.methods=Xi(s.methods,e):s.methods=e,s.events=["chainChanged","accountsChanged"];return n}function dre(e,t){var n,r,s,o,c,l;const f=m8(e),d=m8(t),p={},g=Object.keys(f).concat(Object.keys(d));for(const y of g)p[y]={chains:Xi((n=f[y])==null?void 0:n.chains,(r=d[y])==null?void 0:r.chains),methods:Xi((s=f[y])==null?void 0:s.methods,(o=d[y])==null?void 0:o.methods),events:Xi((c=f[y])==null?void 0:c.events,(l=d[y])==null?void 0:l.events)};return p}const pre={INVALID_METHOD:{message:"Invalid method.",code:1001},INVALID_EVENT:{message:"Invalid event.",code:1002},INVALID_UPDATE_REQUEST:{message:"Invalid update request.",code:1003},INVALID_EXTEND_REQUEST:{message:"Invalid extend request.",code:1004},INVALID_SESSION_SETTLE_REQUEST:{message:"Invalid session settle request.",code:1005},UNAUTHORIZED_METHOD:{message:"Unauthorized method.",code:3001},UNAUTHORIZED_EVENT:{message:"Unauthorized event.",code:3002},UNAUTHORIZED_UPDATE_REQUEST:{message:"Unauthorized update request.",code:3003},UNAUTHORIZED_EXTEND_REQUEST:{message:"Unauthorized extend request.",code:3004},USER_REJECTED:{message:"User rejected.",code:5e3},USER_REJECTED_CHAINS:{message:"User rejected chains.",code:5001},USER_REJECTED_METHODS:{message:"User rejected methods.",code:5002},USER_REJECTED_EVENTS:{message:"User rejected events.",code:5003},UNSUPPORTED_CHAINS:{message:"Unsupported chains.",code:5100},UNSUPPORTED_METHODS:{message:"Unsupported methods.",code:5101},UNSUPPORTED_EVENTS:{message:"Unsupported events.",code:5102},UNSUPPORTED_ACCOUNTS:{message:"Unsupported accounts.",code:5103},UNSUPPORTED_NAMESPACE_KEY:{message:"Unsupported namespace key.",code:5104},USER_DISCONNECTED:{message:"User disconnected.",code:6e3},SESSION_SETTLEMENT_FAILED:{message:"Session settlement failed.",code:7e3},WC_METHOD_UNSUPPORTED:{message:"Unsupported wc_ method.",code:10001}},gre={NOT_INITIALIZED:{message:"Not initialized.",code:1},NO_MATCHING_KEY:{message:"No matching key.",code:2},RESTORE_WILL_OVERRIDE:{message:"Restore will override.",code:3},RESUBSCRIBED:{message:"Resubscribed.",code:4},MISSING_OR_INVALID:{message:"Missing or invalid.",code:5},EXPIRED:{message:"Expired.",code:6},UNKNOWN_TYPE:{message:"Unknown type.",code:7},MISMATCHED_TOPIC:{message:"Mismatched topic.",code:8},NON_CONFORMING_NAMESPACES:{message:"Non conforming namespaces.",code:9}};function ye(e,t){const{message:n,code:r}=gre[e];return{message:t?`${n} ${t}`:n,code:r}}function Yt(e,t){const{message:n,code:r}=pre[e];return{message:t?`${n} ${t}`:n,code:r}}function qo(e,t){return!!Array.isArray(e)}function Zi(e){return Object.getPrototypeOf(e)===Object.prototype&&Object.keys(e).length}function Wn(e){return typeof e>"u"}function bn(e,t){return t&&Wn(e)?!0:typeof e=="string"&&!!e.trim().length}function GA(e,t){return t&&Wn(e)?!0:typeof e=="number"&&!isNaN(e)}function mre(e,t){const{requiredNamespaces:n}=t,r=Object.keys(e.namespaces),s=Object.keys(n);let o=!0;return gl(s,r)?(r.forEach(c=>{const{accounts:l,methods:f,events:d}=e.namespaces[c],p=fh(l),g=n[c];(!gl(T$(c,g),p)||!gl(g.methods,f)||!gl(g.events,d))&&(o=!1)}),o):!1}function Cy(e){return bn(e,!1)&&e.includes(":")?e.split(":").length===2:!1}function yre(e){if(bn(e,!1)&&e.includes(":")){const t=e.split(":");if(t.length===3){const n=t[0]+":"+t[1];return!!t[2]&&Cy(n)}}return!1}function wre(e){function t(n){try{return typeof new URL(n)<"u"}catch{return!1}}try{if(bn(e,!1)){if(t(e))return!0;const n=M$(e);return t(n)}}catch{}return!1}function bre(e){var t;return(t=e?.proposer)==null?void 0:t.publicKey}function vre(e){return e?.topic}function Ere(e,t){let n=null;return bn(e?.publicKey,!1)||(n=ye("MISSING_OR_INVALID",`${t} controller public key should be a string`)),n}function w8(e){let t=!0;return qo(e)?e.length&&(t=e.every(n=>bn(n,!1))):t=!1,t}function Sre(e,t,n){let r=null;return qo(t)&&t.length?t.forEach(s=>{r||Cy(s)||(r=Yt("UNSUPPORTED_CHAINS",`${n}, chain ${s} should be a string and conform to "namespace:chainId" format`))}):Cy(e)||(r=Yt("UNSUPPORTED_CHAINS",`${n}, chains must be defined as "namespace:chainId" e.g. "eip155:1": {...} in the namespace key OR as an array of CAIP-2 chainIds e.g. eip155: { chains: ["eip155:1", "eip155:5"] }`)),r}function Are(e,t,n){let r=null;return Object.entries(e).forEach(([s,o])=>{if(r)return;const c=Sre(s,T$(s,o),`${t} ${n}`);c&&(r=c)}),r}function Cre(e,t){let n=null;return qo(e)?e.forEach(r=>{n||yre(r)||(n=Yt("UNSUPPORTED_ACCOUNTS",`${t}, account ${r} should be a string and conform to "namespace:chainId:address" format`))}):n=Yt("UNSUPPORTED_ACCOUNTS",`${t}, accounts should be an array of strings conforming to "namespace:chainId:address" format`),n}function xre(e,t){let n=null;return Object.values(e).forEach(r=>{if(n)return;const s=Cre(r?.accounts,`${t} namespace`);s&&(n=s)}),n}function Nre(e,t){let n=null;return w8(e?.methods)?w8(e?.events)||(n=Yt("UNSUPPORTED_EVENTS",`${t}, events should be an array of strings or empty array for no events`)):n=Yt("UNSUPPORTED_METHODS",`${t}, methods should be an array of strings or empty array for no methods`),n}function SU(e,t){let n=null;return Object.values(e).forEach(r=>{if(n)return;const s=Nre(r,`${t}, namespace`);s&&(n=s)}),n}function Tre(e,t,n){let r=null;if(e&&Zi(e)){const s=SU(e,t);s&&(r=s);const o=Are(e,t,n);o&&(r=o)}else r=ye("MISSING_OR_INVALID",`${t}, ${n} should be an object with data`);return r}function Pv(e,t){let n=null;if(e&&Zi(e)){const r=SU(e,t);r&&(n=r);const s=xre(e,t);s&&(n=s)}else n=ye("MISSING_OR_INVALID",`${t}, namespaces should be an object with data`);return n}function AU(e){return bn(e.protocol,!0)}function _re(e,t){let n=!1;return e?e&&qo(e)&&e.length&&e.forEach(r=>{n=AU(r)}):n=!0,n}function Ire(e){return typeof e=="number"}function Rr(e){return typeof e<"u"&&typeof e!==null}function Ore(e){return!(!e||typeof e!="object"||!e.code||!GA(e.code,!1)||!e.message||!bn(e.message,!1))}function Dre(e){return!(Wn(e)||!bn(e.method,!1))}function Mre(e){return!(Wn(e)||Wn(e.result)&&Wn(e.error)||!GA(e.id,!1)||!bn(e.jsonrpc,!1))}function $re(e){return!(Wn(e)||!bn(e.name,!1))}function b8(e,t){return!(!Cy(t)||!lre(e).includes(t))}function Ure(e,t,n){return bn(n,!1)?ure(e,t).includes(n):!1}function Rre(e,t,n){return bn(n,!1)?fre(e,t).includes(n):!1}function v8(e,t,n){let r=null;const s=Pre(e),o=Bre(t),c=Object.keys(s),l=Object.keys(o),f=E8(Object.keys(e)),d=E8(Object.keys(t)),p=f.filter(g=>!d.includes(g));return p.length&&(r=ye("NON_CONFORMING_NAMESPACES",`${n} namespaces keys don't satisfy requiredNamespaces.
      Required: ${p.toString()}
      Received: ${Object.keys(t).toString()}`)),gl(c,l)||(r=ye("NON_CONFORMING_NAMESPACES",`${n} namespaces chains don't satisfy required namespaces.
      Required: ${c.toString()}
      Approved: ${l.toString()}`)),Object.keys(t).forEach(g=>{if(!g.includes(":")||r)return;const y=fh(t[g].accounts);y.includes(g)||(r=ye("NON_CONFORMING_NAMESPACES",`${n} namespaces accounts don't satisfy namespace accounts for ${g}
        Required: ${g}
        Approved: ${y.toString()}`))}),c.forEach(g=>{r||(gl(s[g].methods,o[g].methods)?gl(s[g].events,o[g].events)||(r=ye("NON_CONFORMING_NAMESPACES",`${n} namespaces events don't satisfy namespace events for ${g}`)):r=ye("NON_CONFORMING_NAMESPACES",`${n} namespaces methods don't satisfy namespace methods for ${g}`))}),r}function Pre(e){const t={};return Object.keys(e).forEach(n=>{var r;n.includes(":")?t[n]=e[n]:(r=e[n].chains)==null||r.forEach(s=>{t[s]={methods:e[n].methods,events:e[n].events}})}),t}function E8(e){return[...new Set(e.map(t=>t.includes(":")?t.split(":")[0]:t))]}function Bre(e){const t={};return Object.keys(e).forEach(n=>{n.includes(":")?t[n]=e[n]:fh(e[n].accounts)?.forEach(s=>{t[s]={accounts:e[n].accounts.filter(o=>o.includes(`${s}:`)),methods:e[n].methods,events:e[n].events}})}),t}function Lre(e,t){return GA(e,!1)&&e<=t.max&&e>=t.min}function S8(){const e=yg();return new Promise(t=>{switch(e){case fs.browser:t(kre());break;case fs.reactNative:t(jre());break;case fs.node:t(zre());break;default:t(!0)}})}function kre(){return ch()&&navigator?.onLine}async function jre(){return yc()&&typeof global<"u"&&global!=null&&global.NetInfo?(await(global==null?void 0:global.NetInfo.fetch()))?.isConnected:!0}function zre(){return!0}function Hre(e){switch(yg()){case fs.browser:Fre(e);break;case fs.reactNative:qre(e);break}}function Fre(e){!yc()&&ch()&&(window.addEventListener("online",()=>e(!0)),window.addEventListener("offline",()=>e(!1)))}function qre(e){yc()&&typeof global<"u"&&global!=null&&global.NetInfo&&global?.NetInfo.addEventListener(t=>e(t?.isConnected))}function Vre(){var e;return ch()&&Xo.getDocument()?((e=Xo.getDocument())==null?void 0:e.visibilityState)==="visible":!0}const Bv={};class xd{static get(t){return Bv[t]}static set(t,n){Bv[t]=n}static delete(t){delete Bv[t]}}function Wre(e){const t=ah.decode(e);if(t.length<33)throw new Error("Too short to contain a public key");return t.slice(1,33)}function Kre({publicKey:e,signature:t,payload:n}){var r;const s=ME(n.method),o=128|parseInt(((r=n.version)==null?void 0:r.toString())||"4"),c=Xre(n.address),l=n.era==="00"?new Uint8Array([0]):ME(n.era);if(l.length!==1&&l.length!==2)throw new Error("Invalid era length");const f=parseInt(n.nonce,16),d=new Uint8Array([f&255,f>>8&255]),p=BigInt(`0x${Yre(n.tip)}`),g=Qre(p),y=new Uint8Array([0,...e,c,...t,...l,...d,...g,...s]),b=Zre(y.length+1);return new Uint8Array([...b,o,...y])}function Gre(e){const t=ME(e),n=LJ.blake2b(t,void 0,32);return"0x"+Buffer.from(n).toString("hex")}function ME(e){return new Uint8Array(e.replace(/^0x/,"").match(/.{1,2}/g).map(t=>parseInt(t,16)))}function Yre(e){return e.startsWith("0x")?e.slice(2):e}function Xre(e){const t=ah.decode(e)[0];return t===42?0:t===60?2:1}function Zre(e){if(e<64)return new Uint8Array([e<<2]);if(e<16384){const t=e<<2|1;return new Uint8Array([t&255,t>>8&255])}else if(e<1<<30){const t=e<<2|2;return new Uint8Array([t&255,t>>8&255,t>>16&255,t>>24&255])}else throw new Error("Compact encoding > 2^30 not supported")}function Qre(e){if(e<BigInt(1)<<BigInt(6))return new Uint8Array([Number(e<<BigInt(2))]);if(e<BigInt(1)<<BigInt(14)){const t=e<<BigInt(2)|BigInt(1);return new Uint8Array([Number(t&BigInt(255)),Number(t>>BigInt(8)&BigInt(255))])}else if(e<BigInt(1)<<BigInt(30)){const t=e<<BigInt(2)|BigInt(2);return new Uint8Array([Number(t&BigInt(255)),Number(t>>BigInt(8)&BigInt(255)),Number(t>>BigInt(16)&BigInt(255)),Number(t>>BigInt(24)&BigInt(255))])}else throw new Error("BigInt compact encoding not supported > 2^30")}function Jre(e){const t=Uint8Array.from(Buffer.from(e.signature,"hex")),n=Wre(e.transaction.address),r=Kre({publicKey:n,signature:t,payload:e.transaction}),s=Buffer.from(r).toString("hex");return Gre(s)}const ese="PARSE_ERROR",tse="INVALID_REQUEST",nse="METHOD_NOT_FOUND",rse="INVALID_PARAMS",CU="INTERNAL_ERROR",YA="SERVER_ERROR",sse=[-32700,-32600,-32601,-32602,-32603],tp={[ese]:{code:-32700,message:"Parse error"},[tse]:{code:-32600,message:"Invalid Request"},[nse]:{code:-32601,message:"Method not found"},[rse]:{code:-32602,message:"Invalid params"},[CU]:{code:-32603,message:"Internal error"},[YA]:{code:-32e3,message:"Server error"}},xU=YA;function ise(e){return sse.includes(e)}function A8(e){return Object.keys(tp).includes(e)?tp[e]:tp[xU]}function ose(e){const t=Object.values(tp).find(n=>n.code===e);return t||tp[xU]}function NU(e,t,n){return e.message.includes("getaddrinfo ENOTFOUND")||e.message.includes("connect ECONNREFUSED")?new Error(`Unavailable ${n} RPC url at ${t}`):e}var Lv={},$o={},C8;function ase(){if(C8)return $o;C8=1,Object.defineProperty($o,"__esModule",{value:!0}),$o.isBrowserCryptoAvailable=$o.getSubtleCrypto=$o.getBrowerCrypto=void 0;function e(){return cr?.crypto||cr?.msCrypto||{}}$o.getBrowerCrypto=e;function t(){const r=e();return r.subtle||r.webkitSubtle}$o.getSubtleCrypto=t;function n(){return!!e()&&!!t()}return $o.isBrowserCryptoAvailable=n,$o}var Uo={},x8;function cse(){if(x8)return Uo;x8=1,Object.defineProperty(Uo,"__esModule",{value:!0}),Uo.isBrowser=Uo.isNode=Uo.isReactNative=void 0;function e(){return typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"}Uo.isReactNative=e;function t(){return typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"}Uo.isNode=t;function n(){return!e()&&!t()}return Uo.isBrowser=n,Uo}var N8;function lse(){return N8||(N8=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0});const t=ug;t.__exportStar(ase(),e),t.__exportStar(cse(),e)})(Lv)),Lv}var use=lse();function ki(e=3){const t=Date.now()*Math.pow(10,e),n=Math.floor(Math.random()*Math.pow(10,e));return t+n}function bl(e=6){return BigInt(ki(e))}function nc(e,t,n){return{id:n||ki(),jsonrpc:"2.0",method:e,params:t}}function nw(e,t){return{id:e,jsonrpc:"2.0",result:t}}function rw(e,t,n){return{id:e,jsonrpc:"2.0",error:fse(t)}}function fse(e,t){return typeof e>"u"?A8(CU):(typeof e=="string"&&(e=Object.assign(Object.assign({},A8(YA)),{message:e})),ise(e.code)&&(e=ose(e.code)),e)}let hse=class{},dse=class extends hse{constructor(){super()}},pse=class extends dse{constructor(t){super()}};const gse="^https?:",mse="^wss?:";function yse(e){const t=e.match(new RegExp(/^\w+:/,"gi"));if(!(!t||!t.length))return t[0]}function TU(e,t){const n=yse(e);return typeof n>"u"?!1:new RegExp(t).test(n)}function T8(e){return TU(e,gse)}function _8(e){return TU(e,mse)}function wse(e){return new RegExp("wss?://localhost(:d{2,5})?").test(e)}function _U(e){return typeof e=="object"&&"id"in e&&"jsonrpc"in e&&e.jsonrpc==="2.0"}function XA(e){return _U(e)&&"method"in e}function sw(e){return _U(e)&&(ji(e)||Bs(e))}function ji(e){return"result"in e}function Bs(e){return"error"in e}let Ws=class extends pse{constructor(t){super(t),this.events=new Vs.EventEmitter,this.hasRegisteredEventListeners=!1,this.connection=this.setConnection(t),this.connection.connected&&this.registerEventListeners()}async connect(t=this.connection){await this.open(t)}async disconnect(){await this.close()}on(t,n){this.events.on(t,n)}once(t,n){this.events.once(t,n)}off(t,n){this.events.off(t,n)}removeListener(t,n){this.events.removeListener(t,n)}async request(t,n){return this.requestStrict(nc(t.method,t.params||[],t.id||bl().toString()),n)}async requestStrict(t,n){return new Promise(async(r,s)=>{if(!this.connection.connected)try{await this.open()}catch(o){s(o)}this.events.on(`${t.id}`,o=>{Bs(o)?s(o.error):r(o.result)});try{await this.connection.send(t,n)}catch(o){s(o)}})}setConnection(t=this.connection){return t}onPayload(t){this.events.emit("payload",t),sw(t)?this.events.emit(`${t.id}`,t):this.events.emit("message",{type:t.method,data:t.params})}onClose(t){t&&t.code===3e3&&this.events.emit("error",new Error(`WebSocket connection closed abnormally with code: ${t.code} ${t.reason?`(${t.reason})`:""}`)),this.events.emit("disconnect")}async open(t=this.connection){this.connection===t&&this.connection.connected||(this.connection.connected&&this.close(),typeof t=="string"&&(await this.connection.open(t),t=this.connection),this.connection=this.setConnection(t),await this.connection.open(),this.registerEventListeners(),this.events.emit("connect"))}async close(){await this.connection.close()}registerEventListeners(){this.hasRegisteredEventListeners||(this.connection.on("payload",t=>this.onPayload(t)),this.connection.on("close",t=>this.onClose(t)),this.connection.on("error",t=>this.events.emit("error",t)),this.connection.on("register_error",t=>this.onClose()),this.hasRegisteredEventListeners=!0)}};const bse=()=>typeof WebSocket<"u"?WebSocket:typeof global<"u"&&typeof global.WebSocket<"u"?global.WebSocket:typeof window<"u"&&typeof window.WebSocket<"u"?window.WebSocket:typeof self<"u"&&typeof self.WebSocket<"u"?self.WebSocket:require("ws"),vse=()=>typeof WebSocket<"u"||typeof global<"u"&&typeof global.WebSocket<"u"||typeof window<"u"&&typeof window.WebSocket<"u"||typeof self<"u"&&typeof self.WebSocket<"u",I8=e=>e.split("?")[0],O8=10,Ese=bse();let Sse=class{constructor(t){if(this.url=t,this.events=new Vs.EventEmitter,this.registering=!1,!_8(t))throw new Error(`Provided URL is not compatible with WebSocket connection: ${t}`);this.url=t}get connected(){return typeof this.socket<"u"}get connecting(){return this.registering}on(t,n){this.events.on(t,n)}once(t,n){this.events.once(t,n)}off(t,n){this.events.off(t,n)}removeListener(t,n){this.events.removeListener(t,n)}async open(t=this.url){await this.register(t)}async close(){return new Promise((t,n)=>{if(typeof this.socket>"u"){n(new Error("Connection already closed"));return}this.socket.onclose=r=>{this.onClose(r),t()},this.socket.close()})}async send(t){typeof this.socket>"u"&&(this.socket=await this.register());try{this.socket.send(Yo(t))}catch(n){this.onError(t.id,n)}}register(t=this.url){if(!_8(t))throw new Error(`Provided URL is not compatible with WebSocket connection: ${t}`);if(this.registering){const n=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=n||this.events.listenerCount("open")>=n)&&this.events.setMaxListeners(n+1),new Promise((r,s)=>{this.events.once("register_error",o=>{this.resetMaxListeners(),s(o)}),this.events.once("open",()=>{if(this.resetMaxListeners(),typeof this.socket>"u")return s(new Error("WebSocket connection is missing or invalid"));r(this.socket)})})}return this.url=t,this.registering=!0,new Promise((n,r)=>{const s=use.isReactNative()?void 0:{rejectUnauthorized:!wse(t)},o=new Ese(t,[],s);vse()?o.onerror=c=>{const l=c;r(this.emitError(l.error))}:o.on("error",c=>{r(this.emitError(c))}),o.onopen=()=>{this.onOpen(o),n(o)}})}onOpen(t){t.onmessage=n=>this.onPayload(n),t.onclose=n=>this.onClose(n),this.socket=t,this.registering=!1,this.events.emit("open")}onClose(t){this.socket=void 0,this.registering=!1,this.events.emit("close",t)}onPayload(t){if(typeof t.data>"u")return;const n=typeof t.data=="string"?$l(t.data):t.data;this.events.emit("payload",n)}onError(t,n){const r=this.parseError(n),s=r.message||r.toString(),o=rw(t,s);this.events.emit("payload",o)}parseError(t,n=this.url){return NU(t,I8(n),"WS")}resetMaxListeners(){this.events.getMaxListeners()>O8&&this.events.setMaxListeners(O8)}emitError(t){const n=this.parseError(new Error(t?.message||`WebSocket connection failed for host: ${I8(this.url)}`));return this.events.emit("register_error",n),n}};var Ase={};const IU="wc",OU=2,$E="core",Ji=`${IU}@2:${$E}:`,Cse={logger:"error"},xse={database:":memory:"},Nse="crypto",D8="client_ed25519_seed",Tse=we.ONE_DAY,_se="keychain",Ise="0.3",Ose="messages",Dse="0.3",M8=we.SIX_HOURS,Mse="publisher",DU="irn",$se="error",MU="wss://relay.walletconnect.org",Use="relayer",Mn={message:"relayer_message",message_ack:"relayer_message_ack",connect:"relayer_connect",disconnect:"relayer_disconnect",error:"relayer_error",connection_stalled:"relayer_connection_stalled",transport_closed:"relayer_transport_closed",publish:"relayer_publish"},Rse="_subscription",Os={payload:"payload",connect:"connect",disconnect:"disconnect",error:"error"},Pse=.1,UE="2.21.5",Wt={link_mode:"link_mode",relay:"relay"},H0={inbound:"inbound",outbound:"outbound"},Bse="0.3",Lse="WALLETCONNECT_CLIENT_ID",$8="WALLETCONNECT_LINK_MODE_APPS",rs={created:"subscription_created",deleted:"subscription_deleted",expired:"subscription_expired",disabled:"subscription_disabled",sync:"subscription_sync",resubscribed:"subscription_resubscribed"},kse="subscription",jse="0.3",zse="pairing",Hse="0.3",Nd={wc_pairingDelete:{req:{ttl:we.ONE_DAY,prompt:!1,tag:1e3},res:{ttl:we.ONE_DAY,prompt:!1,tag:1001}},wc_pairingPing:{req:{ttl:we.THIRTY_SECONDS,prompt:!1,tag:1002},res:{ttl:we.THIRTY_SECONDS,prompt:!1,tag:1003}},unregistered_method:{req:{ttl:we.ONE_DAY,prompt:!1,tag:0},res:{ttl:we.ONE_DAY,prompt:!1,tag:0}}},ll={create:"pairing_create",expire:"pairing_expire",delete:"pairing_delete",ping:"pairing_ping"},ri={created:"history_created",updated:"history_updated",deleted:"history_deleted",sync:"history_sync"},Fse="history",qse="0.3",Vse="expirer",Ps={created:"expirer_created",deleted:"expirer_deleted",expired:"expirer_expired",sync:"expirer_sync"},Wse="0.3",Kse="verify-api",Gse="https://verify.walletconnect.com",$U="https://verify.walletconnect.org",np=$U,Yse=`${np}/v3`,Xse=[Gse,$U],Zse="echo",Qse="https://echo.walletconnect.com",Li={pairing_started:"pairing_started",pairing_uri_validation_success:"pairing_uri_validation_success",pairing_uri_not_expired:"pairing_uri_not_expired",store_new_pairing:"store_new_pairing",subscribing_pairing_topic:"subscribing_pairing_topic",subscribe_pairing_topic_success:"subscribe_pairing_topic_success",existing_pairing:"existing_pairing",pairing_not_expired:"pairing_not_expired",emit_inactive_pairing:"emit_inactive_pairing",emit_session_proposal:"emit_session_proposal",subscribing_to_pairing_topic:"subscribing_to_pairing_topic"},ko={no_wss_connection:"no_wss_connection",no_internet_connection:"no_internet_connection",malformed_pairing_uri:"malformed_pairing_uri",active_pairing_already_exists:"active_pairing_already_exists",subscribe_pairing_topic_failure:"subscribe_pairing_topic_failure",pairing_expired:"pairing_expired",proposal_expired:"proposal_expired",proposal_listener_not_found:"proposal_listener_not_found"},si={session_approve_started:"session_approve_started",proposal_not_expired:"proposal_not_expired",session_namespaces_validation_success:"session_namespaces_validation_success",create_session_topic:"create_session_topic",subscribing_session_topic:"subscribing_session_topic",subscribe_session_topic_success:"subscribe_session_topic_success",publishing_session_approve:"publishing_session_approve",session_approve_publish_success:"session_approve_publish_success",store_session:"store_session",publishing_session_settle:"publishing_session_settle",session_settle_publish_success:"session_settle_publish_success"},Qc={no_internet_connection:"no_internet_connection",no_wss_connection:"no_wss_connection",proposal_expired:"proposal_expired",subscribe_session_topic_failure:"subscribe_session_topic_failure",session_approve_publish_failure:"session_approve_publish_failure",session_settle_publish_failure:"session_settle_publish_failure",session_approve_namespace_validation_failure:"session_approve_namespace_validation_failure",proposal_not_found:"proposal_not_found"},Jc={authenticated_session_approve_started:"authenticated_session_approve_started",create_authenticated_session_topic:"create_authenticated_session_topic",cacaos_verified:"cacaos_verified",store_authenticated_session:"store_authenticated_session",subscribing_authenticated_session_topic:"subscribing_authenticated_session_topic",subscribe_authenticated_session_topic_success:"subscribe_authenticated_session_topic_success",publishing_authenticated_session_approve:"publishing_authenticated_session_approve"},Td={no_internet_connection:"no_internet_connection",invalid_cacao:"invalid_cacao",subscribe_authenticated_session_topic_failure:"subscribe_authenticated_session_topic_failure",authenticated_session_approve_publish_failure:"authenticated_session_approve_publish_failure",authenticated_session_pending_request_not_found:"authenticated_session_pending_request_not_found"},Jse=.1,eie="event-client",tie=86400,nie="https://pulse.walletconnect.org/batch";function rie(e,t){if(e.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),r=0;r<n.length;r++)n[r]=255;for(var s=0;s<e.length;s++){var o=e.charAt(s),c=o.charCodeAt(0);if(n[c]!==255)throw new TypeError(o+" is ambiguous");n[c]=s}var l=e.length,f=e.charAt(0),d=Math.log(l)/Math.log(256),p=Math.log(256)/Math.log(l);function g(v){if(v instanceof Uint8Array||(ArrayBuffer.isView(v)?v=new Uint8Array(v.buffer,v.byteOffset,v.byteLength):Array.isArray(v)&&(v=Uint8Array.from(v))),!(v instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(v.length===0)return"";for(var E=0,S=0,C=0,O=v.length;C!==O&&v[C]===0;)C++,E++;for(var x=(O-C)*p+1>>>0,N=new Uint8Array(x);C!==O;){for(var T=v[C],I=0,R=x-1;(T!==0||I<S)&&R!==-1;R--,I++)T+=256*N[R]>>>0,N[R]=T%l>>>0,T=T/l>>>0;if(T!==0)throw new Error("Non-zero carry");S=I,C++}for(var L=x-S;L!==x&&N[L]===0;)L++;for(var U=f.repeat(E);L<x;++L)U+=e.charAt(N[L]);return U}function y(v){if(typeof v!="string")throw new TypeError("Expected String");if(v.length===0)return new Uint8Array;var E=0;if(v[E]!==" "){for(var S=0,C=0;v[E]===f;)S++,E++;for(var O=(v.length-E)*d+1>>>0,x=new Uint8Array(O);v[E];){var N=n[v.charCodeAt(E)];if(N===255)return;for(var T=0,I=O-1;(N!==0||T<C)&&I!==-1;I--,T++)N+=l*x[I]>>>0,x[I]=N%256>>>0,N=N/256>>>0;if(N!==0)throw new Error("Non-zero carry");C=T,E++}if(v[E]!==" "){for(var R=O-C;R!==O&&x[R]===0;)R++;for(var L=new Uint8Array(S+(O-R)),U=S;R!==O;)L[U++]=x[R++];return L}}}function b(v){var E=y(v);if(E)return E;throw new Error(`Non-${t} character`)}return{encode:g,decodeUnsafe:y,decode:b}}var sie=rie,iie=sie;const UU=e=>{if(e instanceof Uint8Array&&e.constructor.name==="Uint8Array")return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw new Error("Unknown type, must be binary type")},oie=e=>new TextEncoder().encode(e),aie=e=>new TextDecoder().decode(e);class cie{constructor(t,n,r){this.name=t,this.prefix=n,this.baseEncode=r}encode(t){if(t instanceof Uint8Array)return`${this.prefix}${this.baseEncode(t)}`;throw Error("Unknown type, must be binary type")}}class lie{constructor(t,n,r){if(this.name=t,this.prefix=n,n.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=n.codePointAt(0),this.baseDecode=r}decode(t){if(typeof t=="string"){if(t.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(t)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(t.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(t){return RU(this,t)}}class uie{constructor(t){this.decoders=t}or(t){return RU(this,t)}decode(t){const n=t[0],r=this.decoders[n];if(r)return r.decode(t);throw RangeError(`Unable to decode multibase string ${JSON.stringify(t)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const RU=(e,t)=>new uie({...e.decoders||{[e.prefix]:e},...t.decoders||{[t.prefix]:t}});class fie{constructor(t,n,r,s){this.name=t,this.prefix=n,this.baseEncode=r,this.baseDecode=s,this.encoder=new cie(t,n,r),this.decoder=new lie(t,n,s)}encode(t){return this.encoder.encode(t)}decode(t){return this.decoder.decode(t)}}const iw=({name:e,prefix:t,encode:n,decode:r})=>new fie(e,t,n,r),Eg=({prefix:e,name:t,alphabet:n})=>{const{encode:r,decode:s}=iie(n,t);return iw({prefix:e,name:t,encode:r,decode:o=>UU(s(o))})},hie=(e,t,n,r)=>{const s={};for(let p=0;p<t.length;++p)s[t[p]]=p;let o=e.length;for(;e[o-1]==="=";)--o;const c=new Uint8Array(o*n/8|0);let l=0,f=0,d=0;for(let p=0;p<o;++p){const g=s[e[p]];if(g===void 0)throw new SyntaxError(`Non-${r} character`);f=f<<n|g,l+=n,l>=8&&(l-=8,c[d++]=255&f>>l)}if(l>=n||255&f<<8-l)throw new SyntaxError("Unexpected end of data");return c},die=(e,t,n)=>{const r=t[t.length-1]==="=",s=(1<<n)-1;let o="",c=0,l=0;for(let f=0;f<e.length;++f)for(l=l<<8|e[f],c+=8;c>n;)c-=n,o+=t[s&l>>c];if(c&&(o+=t[s&l<<n-c]),r)for(;o.length*n&7;)o+="=";return o},Zn=({name:e,prefix:t,bitsPerChar:n,alphabet:r})=>iw({prefix:t,name:e,encode(s){return die(s,r,n)},decode(s){return hie(s,r,n,e)}}),pie=iw({prefix:"\0",name:"identity",encode:e=>aie(e),decode:e=>oie(e)});var gie=Object.freeze({__proto__:null,identity:pie});const mie=Zn({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var yie=Object.freeze({__proto__:null,base2:mie});const wie=Zn({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var bie=Object.freeze({__proto__:null,base8:wie});const vie=Eg({prefix:"9",name:"base10",alphabet:"0123456789"});var Eie=Object.freeze({__proto__:null,base10:vie});const Sie=Zn({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),Aie=Zn({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var Cie=Object.freeze({__proto__:null,base16:Sie,base16upper:Aie});const xie=Zn({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),Nie=Zn({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),Tie=Zn({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),_ie=Zn({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),Iie=Zn({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),Oie=Zn({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),Die=Zn({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),Mie=Zn({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),$ie=Zn({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var Uie=Object.freeze({__proto__:null,base32:xie,base32upper:Nie,base32pad:Tie,base32padupper:_ie,base32hex:Iie,base32hexupper:Oie,base32hexpad:Die,base32hexpadupper:Mie,base32z:$ie});const Rie=Eg({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),Pie=Eg({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var Bie=Object.freeze({__proto__:null,base36:Rie,base36upper:Pie});const Lie=Eg({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),kie=Eg({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var jie=Object.freeze({__proto__:null,base58btc:Lie,base58flickr:kie});const zie=Zn({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),Hie=Zn({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),Fie=Zn({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),qie=Zn({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var Vie=Object.freeze({__proto__:null,base64:zie,base64pad:Hie,base64url:Fie,base64urlpad:qie});const PU=Array.from(""),Wie=PU.reduce((e,t,n)=>(e[n]=t,e),[]),Kie=PU.reduce((e,t,n)=>(e[t.codePointAt(0)]=n,e),[]);function Gie(e){return e.reduce((t,n)=>(t+=Wie[n],t),"")}function Yie(e){const t=[];for(const n of e){const r=Kie[n.codePointAt(0)];if(r===void 0)throw new Error(`Non-base256emoji character: ${n}`);t.push(r)}return new Uint8Array(t)}const Xie=iw({prefix:"",name:"base256emoji",encode:Gie,decode:Yie});var Zie=Object.freeze({__proto__:null,base256emoji:Xie}),Qie=BU,U8=128,Jie=-128,eoe=Math.pow(2,31);function BU(e,t,n){t=t||[],n=n||0;for(var r=n;e>=eoe;)t[n++]=e&255|U8,e/=128;for(;e&Jie;)t[n++]=e&255|U8,e>>>=7;return t[n]=e|0,BU.bytes=n-r+1,t}var toe=RE,noe=128,R8=127;function RE(e,r){var n=0,r=r||0,s=0,o=r,c,l=e.length;do{if(o>=l)throw RE.bytes=0,new RangeError("Could not decode varint");c=e[o++],n+=s<28?(c&R8)<<s:(c&R8)*Math.pow(2,s),s+=7}while(c>=noe);return RE.bytes=o-r,n}var roe=Math.pow(2,7),soe=Math.pow(2,14),ioe=Math.pow(2,21),ooe=Math.pow(2,28),aoe=Math.pow(2,35),coe=Math.pow(2,42),loe=Math.pow(2,49),uoe=Math.pow(2,56),foe=Math.pow(2,63),hoe=function(e){return e<roe?1:e<soe?2:e<ioe?3:e<ooe?4:e<aoe?5:e<coe?6:e<loe?7:e<uoe?8:e<foe?9:10},doe={encode:Qie,decode:toe,encodingLength:hoe},LU=doe;const P8=(e,t,n=0)=>(LU.encode(e,t,n),t),B8=e=>LU.encodingLength(e),PE=(e,t)=>{const n=t.byteLength,r=B8(e),s=r+B8(n),o=new Uint8Array(s+n);return P8(e,o,0),P8(n,o,r),o.set(t,s),new poe(e,n,t,o)};class poe{constructor(t,n,r,s){this.code=t,this.size=n,this.digest=r,this.bytes=s}}const kU=({name:e,code:t,encode:n})=>new goe(e,t,n);class goe{constructor(t,n,r){this.name=t,this.code=n,this.encode=r}digest(t){if(t instanceof Uint8Array){const n=this.encode(t);return n instanceof Uint8Array?PE(this.code,n):n.then(r=>PE(this.code,r))}else throw Error("Unknown type, must be binary type")}}const jU=e=>async t=>new Uint8Array(await crypto.subtle.digest(e,t)),moe=kU({name:"sha2-256",code:18,encode:jU("SHA-256")}),yoe=kU({name:"sha2-512",code:19,encode:jU("SHA-512")});var woe=Object.freeze({__proto__:null,sha256:moe,sha512:yoe});const zU=0,boe="identity",HU=UU,voe=e=>PE(zU,HU(e)),Eoe={code:zU,name:boe,encode:HU,digest:voe};var Soe=Object.freeze({__proto__:null,identity:Eoe});new TextEncoder,new TextDecoder;const L8={...gie,...yie,...bie,...Eie,...Cie,...Uie,...Bie,...jie,...Vie,...Zie};({...woe,...Soe});function FU(e){return globalThis.Buffer!=null?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):e}function Aoe(e=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?FU(globalThis.Buffer.allocUnsafe(e)):new Uint8Array(e)}function qU(e,t,n,r){return{name:e,prefix:t,encoder:{name:e,prefix:t,encode:n},decoder:{decode:r}}}const k8=qU("utf8","u",e=>"u"+new TextDecoder("utf8").decode(e),e=>new TextEncoder().encode(e.substring(1))),kv=qU("ascii","a",e=>{let t="a";for(let n=0;n<e.length;n++)t+=String.fromCharCode(e[n]);return t},e=>{e=e.substring(1);const t=Aoe(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}),Coe={utf8:k8,"utf-8":k8,hex:L8.base16,latin1:kv,ascii:kv,binary:kv,...L8};function xoe(e,t="utf8"){const n=Coe[t];if(!n)throw new Error(`Unsupported encoding "${t}"`);return(t==="utf8"||t==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?FU(globalThis.Buffer.from(e,"utf-8")):n.decoder.decode(`${n.prefix}${e}`)}var Noe=Object.defineProperty,Toe=(e,t,n)=>t in e?Noe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Ri=(e,t,n)=>Toe(e,typeof t!="symbol"?t+"":t,n);let _oe=class{constructor(t,n){this.core=t,this.logger=n,Ri(this,"keychain",new Map),Ri(this,"name",_se),Ri(this,"version",Ise),Ri(this,"initialized",!1),Ri(this,"storagePrefix",Ji),Ri(this,"init",async()=>{if(!this.initialized){const r=await this.getKeyChain();typeof r<"u"&&(this.keychain=r),this.initialized=!0}}),Ri(this,"has",r=>(this.isInitialized(),this.keychain.has(r))),Ri(this,"set",async(r,s)=>{this.isInitialized(),this.keychain.set(r,s),await this.persist()}),Ri(this,"get",r=>{this.isInitialized();const s=this.keychain.get(r);if(typeof s>"u"){const{message:o}=ye("NO_MATCHING_KEY",`${this.name}: ${r}`);throw new Error(o)}return s}),Ri(this,"del",async r=>{this.isInitialized(),this.keychain.delete(r),await this.persist()}),this.core=t,this.logger=br(n,this.name)}get context(){return Fr(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}async setKeyChain(t){await this.core.storage.setItem(this.storageKey,vE(t))}async getKeyChain(){const t=await this.core.storage.getItem(this.storageKey);return typeof t<"u"?EE(t):void 0}async persist(){await this.setKeyChain(this.keychain)}isInitialized(){if(!this.initialized){const{message:t}=ye("NOT_INITIALIZED",this.name);throw new Error(t)}}};var Ioe=Object.defineProperty,Ooe=(e,t,n)=>t in e?Ioe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,zn=(e,t,n)=>Ooe(e,typeof t!="symbol"?t+"":t,n);class Doe{constructor(t,n,r){this.core=t,this.logger=n,zn(this,"name",Nse),zn(this,"keychain"),zn(this,"randomSessionIdentifier",DE()),zn(this,"initialized",!1),zn(this,"init",async()=>{this.initialized||(await this.keychain.init(),this.initialized=!0)}),zn(this,"hasKeys",s=>(this.isInitialized(),this.keychain.has(s))),zn(this,"getClientId",async()=>{this.isInitialized();const s=await this.getClientSeed(),o=lI(s);return JM(o.publicKey)}),zn(this,"generateKeyPair",()=>{this.isInitialized();const s=Fne();return this.setPrivateKey(s.publicKey,s.privateKey)}),zn(this,"signJWT",async s=>{this.isInitialized();const o=await this.getClientSeed(),c=lI(o),l=this.randomSessionIdentifier;return await GX(l,s,Tse,c)}),zn(this,"generateSharedKey",(s,o,c)=>{this.isInitialized();const l=this.getPrivateKey(s),f=qne(l,o);return this.setSymKey(f,c)}),zn(this,"setSymKey",async(s,o)=>{this.isInitialized();const c=o||z0(s);return await this.keychain.set(c,s),c}),zn(this,"deleteKeyPair",async s=>{this.isInitialized(),await this.keychain.del(s)}),zn(this,"deleteSymKey",async s=>{this.isInitialized(),await this.keychain.del(s)}),zn(this,"encode",async(s,o,c)=>{this.isInitialized();const l=EU(c),f=Yo(o);if(f8(l))return Kne(f,c?.encoding);if(u8(l)){const y=l.senderPublicKey,b=l.receiverPublicKey;s=await this.generateSharedKey(y,b)}const d=this.getSymKey(s),{type:p,senderPublicKey:g}=l;return Vne({type:p,symKey:d,message:f,senderPublicKey:g,encoding:c?.encoding})}),zn(this,"decode",async(s,o,c)=>{this.isInitialized();const l=Yne(o,c);if(f8(l)){const f=Gne(o,c?.encoding);return $l(f)}if(u8(l)){const f=l.receiverPublicKey,d=l.senderPublicKey;s=await this.generateSharedKey(f,d)}try{const f=this.getSymKey(s),d=Wne({symKey:f,encoded:o,encoding:c?.encoding});return $l(d)}catch(f){this.logger.error(`Failed to decode message from topic: '${s}', clientId: '${await this.getClientId()}'`),this.logger.error(f)}}),zn(this,"getPayloadType",(s,o=pi)=>{const c=Op({encoded:s,encoding:o});return Rl(c.type)}),zn(this,"getPayloadSenderPublicKey",(s,o=pi)=>{const c=Op({encoded:s,encoding:o});return c.senderPublicKey?jr(c.senderPublicKey,yr):void 0}),this.core=t,this.logger=br(n,this.name),this.keychain=r||new _oe(this.core,this.logger)}get context(){return Fr(this.logger)}async setPrivateKey(t,n){return await this.keychain.set(t,n),t}getPrivateKey(t){return this.keychain.get(t)}async getClientSeed(){let t="";try{t=this.keychain.get(D8)}catch{t=DE(),await this.keychain.set(D8,t)}return xoe(t,"base16")}getSymKey(t){return this.keychain.get(t)}isInitialized(){if(!this.initialized){const{message:t}=ye("NOT_INITIALIZED",this.name);throw new Error(t)}}}var Moe=Object.defineProperty,$oe=Object.defineProperties,Uoe=Object.getOwnPropertyDescriptors,j8=Object.getOwnPropertySymbols,Roe=Object.prototype.hasOwnProperty,Poe=Object.prototype.propertyIsEnumerable,BE=(e,t,n)=>t in e?Moe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Boe=(e,t)=>{for(var n in t||(t={}))Roe.call(t,n)&&BE(e,n,t[n]);if(j8)for(var n of j8(t))Poe.call(t,n)&&BE(e,n,t[n]);return e},Loe=(e,t)=>$oe(e,Uoe(t)),ts=(e,t,n)=>BE(e,typeof t!="symbol"?t+"":t,n);class koe extends WK{constructor(t,n){super(t,n),this.logger=t,this.core=n,ts(this,"messages",new Map),ts(this,"messagesWithoutClientAck",new Map),ts(this,"name",Ose),ts(this,"version",Dse),ts(this,"initialized",!1),ts(this,"storagePrefix",Ji),ts(this,"init",async()=>{if(!this.initialized){this.logger.trace("Initialized");try{const r=await this.getRelayerMessages();typeof r<"u"&&(this.messages=r);const s=await this.getRelayerMessagesWithoutClientAck();typeof s<"u"&&(this.messagesWithoutClientAck=s),this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",size:this.messages.size})}catch(r){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(r)}finally{this.initialized=!0}}}),ts(this,"set",async(r,s,o)=>{this.isInitialized();const c=zi(s);let l=this.messages.get(r);if(typeof l>"u"&&(l={}),typeof l[c]<"u")return c;if(l[c]=s,this.messages.set(r,l),o===H0.inbound){const f=this.messagesWithoutClientAck.get(r)||{};this.messagesWithoutClientAck.set(r,Loe(Boe({},f),{[c]:s}))}return await this.persist(),c}),ts(this,"get",r=>{this.isInitialized();let s=this.messages.get(r);return typeof s>"u"&&(s={}),s}),ts(this,"getWithoutAck",r=>{this.isInitialized();const s={};for(const o of r){const c=this.messagesWithoutClientAck.get(o)||{};s[o]=Object.values(c)}return s}),ts(this,"has",(r,s)=>{this.isInitialized();const o=this.get(r),c=zi(s);return typeof o[c]<"u"}),ts(this,"ack",async(r,s)=>{this.isInitialized();const o=this.messagesWithoutClientAck.get(r);if(typeof o>"u")return;const c=zi(s);delete o[c],Object.keys(o).length===0?this.messagesWithoutClientAck.delete(r):this.messagesWithoutClientAck.set(r,o),await this.persist()}),ts(this,"del",async r=>{this.isInitialized(),this.messages.delete(r),this.messagesWithoutClientAck.delete(r),await this.persist()}),this.logger=br(t,this.name),this.core=n}get context(){return Fr(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get storageKeyWithoutClientAck(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name+"_withoutClientAck"}async setRelayerMessages(t){await this.core.storage.setItem(this.storageKey,vE(t))}async setRelayerMessagesWithoutClientAck(t){await this.core.storage.setItem(this.storageKeyWithoutClientAck,vE(t))}async getRelayerMessages(){const t=await this.core.storage.getItem(this.storageKey);return typeof t<"u"?EE(t):void 0}async getRelayerMessagesWithoutClientAck(){const t=await this.core.storage.getItem(this.storageKeyWithoutClientAck);return typeof t<"u"?EE(t):void 0}async persist(){await this.setRelayerMessages(this.messages),await this.setRelayerMessagesWithoutClientAck(this.messagesWithoutClientAck)}isInitialized(){if(!this.initialized){const{message:t}=ye("NOT_INITIALIZED",this.name);throw new Error(t)}}}var joe=Object.defineProperty,zoe=Object.defineProperties,Hoe=Object.getOwnPropertyDescriptors,z8=Object.getOwnPropertySymbols,Foe=Object.prototype.hasOwnProperty,qoe=Object.prototype.propertyIsEnumerable,LE=(e,t,n)=>t in e?joe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,m0=(e,t)=>{for(var n in t||(t={}))Foe.call(t,n)&&LE(e,n,t[n]);if(z8)for(var n of z8(t))qoe.call(t,n)&&LE(e,n,t[n]);return e},jv=(e,t)=>zoe(e,Hoe(t)),ii=(e,t,n)=>LE(e,typeof t!="symbol"?t+"":t,n);class Voe extends KK{constructor(t,n){super(t,n),this.relayer=t,this.logger=n,ii(this,"events",new Vs.EventEmitter),ii(this,"name",Mse),ii(this,"queue",new Map),ii(this,"publishTimeout",we.toMiliseconds(we.ONE_MINUTE)),ii(this,"initialPublishTimeout",we.toMiliseconds(we.ONE_SECOND*15)),ii(this,"needsTransportRestart",!1),ii(this,"publish",async(r,s,o)=>{var c;this.logger.debug("Publishing Payload"),this.logger.trace({type:"method",method:"publish",params:{topic:r,message:s,opts:o}});const l=o?.ttl||M8,f=Ay(o),d=o?.prompt||!1,p=o?.tag||0,g=o?.id||bl().toString(),y={topic:r,message:s,opts:{ttl:l,relay:f,prompt:d,tag:p,id:g,attestation:o?.attestation,tvf:o?.tvf}},b=`Failed to publish payload, please try again. id:${g} tag:${p}`;try{const v=new Promise(async E=>{const S=({id:O})=>{y.opts.id===O&&(this.removeRequestFromQueue(O),this.relayer.events.removeListener(Mn.publish,S),E(y))};this.relayer.events.on(Mn.publish,S);const C=tc(new Promise((O,x)=>{this.rpcPublish({topic:r,message:s,ttl:l,prompt:d,tag:p,id:g,attestation:o?.attestation,tvf:o?.tvf}).then(O).catch(N=>{this.logger.warn(N,N?.message),x(N)})}),this.initialPublishTimeout,`Failed initial publish, retrying.... id:${g} tag:${p}`);try{await C,this.events.removeListener(Mn.publish,S)}catch(O){this.queue.set(g,jv(m0({},y),{attempt:1})),this.logger.warn(O,O?.message)}});this.logger.trace({type:"method",method:"publish",params:{id:g,topic:r,message:s,opts:o}}),await tc(v,this.publishTimeout,b)}catch(v){if(this.logger.debug("Failed to Publish Payload"),this.logger.error(v),(c=o?.internal)!=null&&c.throwOnFailedPublish)throw v}finally{this.queue.delete(g)}}),ii(this,"on",(r,s)=>{this.events.on(r,s)}),ii(this,"once",(r,s)=>{this.events.once(r,s)}),ii(this,"off",(r,s)=>{this.events.off(r,s)}),ii(this,"removeListener",(r,s)=>{this.events.removeListener(r,s)}),this.relayer=t,this.logger=br(n,this.name),this.registerEventListeners()}get context(){return Fr(this.logger)}async rpcPublish(t){var n,r,s,o;const{topic:c,message:l,ttl:f=M8,prompt:d,tag:p,id:g,attestation:y,tvf:b}=t,v={method:Ld(Ay().protocol).publish,params:m0({topic:c,message:l,ttl:f,prompt:d,tag:p,attestation:y},b),id:g};Wn((n=v.params)==null?void 0:n.prompt)&&((r=v.params)==null||delete r.prompt),Wn((s=v.params)==null?void 0:s.tag)&&((o=v.params)==null||delete o.tag),this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"message",direction:"outgoing",request:v});const E=await this.relayer.request(v);return this.relayer.events.emit(Mn.publish,t),this.logger.debug("Successfully Published Payload"),E}removeRequestFromQueue(t){this.queue.delete(t)}checkQueue(){this.queue.forEach(async(t,n)=>{const r=t.attempt+1;this.queue.set(n,jv(m0({},t),{attempt:r}));const{topic:s,message:o,opts:c,attestation:l}=t;this.logger.warn({},`Publisher: queue->publishing: ${t.opts.id}, tag: ${t.opts.tag}, attempt: ${r}`),await this.rpcPublish(jv(m0({},t),{topic:s,message:o,ttl:c.ttl,prompt:c.prompt,tag:c.tag,id:c.id,attestation:l,tvf:c.tvf})),this.logger.warn({},`Publisher: queue->published: ${t.opts.id}`)})}registerEventListeners(){this.relayer.core.heartbeat.on(zl.pulse,()=>{if(this.needsTransportRestart){this.needsTransportRestart=!1,this.relayer.events.emit(Mn.connection_stalled);return}this.checkQueue()}),this.relayer.on(Mn.message_ack,t=>{this.removeRequestFromQueue(t.id.toString())})}}var Woe=Object.defineProperty,Koe=(e,t,n)=>t in e?Woe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Vu=(e,t,n)=>Koe(e,typeof t!="symbol"?t+"":t,n);class Goe{constructor(){Vu(this,"map",new Map),Vu(this,"set",(t,n)=>{const r=this.get(t);this.exists(t,n)||this.map.set(t,[...r,n])}),Vu(this,"get",t=>this.map.get(t)||[]),Vu(this,"exists",(t,n)=>this.get(t).includes(n)),Vu(this,"delete",(t,n)=>{if(typeof n>"u"){this.map.delete(t);return}if(!this.map.has(t))return;const r=this.get(t);if(!this.exists(t,n))return;const s=r.filter(o=>o!==n);if(!s.length){this.map.delete(t);return}this.map.set(t,s)}),Vu(this,"clear",()=>{this.map.clear()})}get topics(){return Array.from(this.map.keys())}}var Yoe=Object.defineProperty,Xoe=Object.defineProperties,Zoe=Object.getOwnPropertyDescriptors,H8=Object.getOwnPropertySymbols,Qoe=Object.prototype.hasOwnProperty,Joe=Object.prototype.propertyIsEnumerable,kE=(e,t,n)=>t in e?Yoe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,_d=(e,t)=>{for(var n in t||(t={}))Qoe.call(t,n)&&kE(e,n,t[n]);if(H8)for(var n of H8(t))Joe.call(t,n)&&kE(e,n,t[n]);return e},zv=(e,t)=>Xoe(e,Zoe(t)),$t=(e,t,n)=>kE(e,typeof t!="symbol"?t+"":t,n);class eae extends XK{constructor(t,n){super(t,n),this.relayer=t,this.logger=n,$t(this,"subscriptions",new Map),$t(this,"topicMap",new Goe),$t(this,"events",new Vs.EventEmitter),$t(this,"name",kse),$t(this,"version",jse),$t(this,"pending",new Map),$t(this,"cached",[]),$t(this,"initialized",!1),$t(this,"storagePrefix",Ji),$t(this,"subscribeTimeout",we.toMiliseconds(we.ONE_MINUTE)),$t(this,"initialSubscribeTimeout",we.toMiliseconds(we.ONE_SECOND*15)),$t(this,"clientId"),$t(this,"batchSubscribeTopicsLimit",500),$t(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),this.registerEventListeners(),await this.restore()),this.initialized=!0}),$t(this,"subscribe",async(r,s)=>{this.isInitialized(),this.logger.debug("Subscribing Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:r,opts:s}});try{const o=Ay(s),c={topic:r,relay:o,transportType:s?.transportType};this.pending.set(r,c);const l=await this.rpcSubscribe(r,o,s);return typeof l=="string"&&(this.onSubscribe(l,c),this.logger.debug("Successfully Subscribed Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:r,opts:s}})),l}catch(o){throw this.logger.debug("Failed to Subscribe Topic"),this.logger.error(o),o}}),$t(this,"unsubscribe",async(r,s)=>{this.isInitialized(),typeof s?.id<"u"?await this.unsubscribeById(r,s.id,s):await this.unsubscribeByTopic(r,s)}),$t(this,"isSubscribed",r=>new Promise(s=>{s(this.topicMap.topics.includes(r))})),$t(this,"isKnownTopic",r=>new Promise(s=>{s(this.topicMap.topics.includes(r)||this.pending.has(r)||this.cached.some(o=>o.topic===r))})),$t(this,"on",(r,s)=>{this.events.on(r,s)}),$t(this,"once",(r,s)=>{this.events.once(r,s)}),$t(this,"off",(r,s)=>{this.events.off(r,s)}),$t(this,"removeListener",(r,s)=>{this.events.removeListener(r,s)}),$t(this,"start",async()=>{await this.onConnect()}),$t(this,"stop",async()=>{await this.onDisconnect()}),$t(this,"restart",async()=>{await this.restore(),await this.onRestart()}),$t(this,"checkPending",async()=>{if(this.pending.size===0&&(!this.initialized||!this.relayer.connected))return;const r=[];this.pending.forEach(s=>{r.push(s)}),await this.batchSubscribe(r)}),$t(this,"registerEventListeners",()=>{this.relayer.core.heartbeat.on(zl.pulse,async()=>{await this.checkPending()}),this.events.on(rs.created,async r=>{const s=rs.created;this.logger.info(`Emitting ${s}`),this.logger.debug({type:"event",event:s,data:r}),await this.persist()}),this.events.on(rs.deleted,async r=>{const s=rs.deleted;this.logger.info(`Emitting ${s}`),this.logger.debug({type:"event",event:s,data:r}),await this.persist()})}),this.relayer=t,this.logger=br(n,this.name),this.clientId=""}get context(){return Fr(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.relayer.core.customStoragePrefix+"//"+this.name}get length(){return this.subscriptions.size}get ids(){return Array.from(this.subscriptions.keys())}get values(){return Array.from(this.subscriptions.values())}get topics(){return this.topicMap.topics}get hasAnyTopics(){return this.topicMap.topics.length>0||this.pending.size>0||this.cached.length>0||this.subscriptions.size>0}hasSubscription(t,n){let r=!1;try{r=this.getSubscription(t).topic===n}catch{}return r}reset(){this.cached=[],this.initialized=!0}onDisable(){this.values.length>0&&(this.cached=this.values),this.subscriptions.clear(),this.topicMap.clear()}async unsubscribeByTopic(t,n){const r=this.topicMap.get(t);await Promise.all(r.map(async s=>await this.unsubscribeById(t,s,n)))}async unsubscribeById(t,n,r){this.logger.debug("Unsubscribing Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:t,id:n,opts:r}});try{const s=Ay(r);await this.restartToComplete({topic:t,id:n,relay:s}),await this.rpcUnsubscribe(t,n,s);const o=Yt("USER_DISCONNECTED",`${this.name}, ${t}`);await this.onUnsubscribe(t,n,o),this.logger.debug("Successfully Unsubscribed Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:t,id:n,opts:r}})}catch(s){throw this.logger.debug("Failed to Unsubscribe Topic"),this.logger.error(s),s}}async rpcSubscribe(t,n,r){var s;(!r||r?.transportType===Wt.relay)&&await this.restartToComplete({topic:t,id:t,relay:n});const o={method:Ld(n.protocol).subscribe,params:{topic:t}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:o});const c=(s=r?.internal)==null?void 0:s.throwOnFailedPublish;try{const l=await this.getSubscriptionId(t);if(r?.transportType===Wt.link_mode)return setTimeout(()=>{(this.relayer.connected||this.relayer.connecting)&&this.relayer.request(o).catch(p=>this.logger.warn(p))},we.toMiliseconds(we.ONE_SECOND)),l;const f=new Promise(async p=>{const g=y=>{y.topic===t&&(this.events.removeListener(rs.created,g),p(y.id))};this.events.on(rs.created,g);try{const y=await tc(new Promise((b,v)=>{this.relayer.request(o).catch(E=>{this.logger.warn(E,E?.message),v(E)}).then(b)}),this.initialSubscribeTimeout,`Subscribing to ${t} failed, please try again`);this.events.removeListener(rs.created,g),p(y)}catch{}}),d=await tc(f,this.subscribeTimeout,`Subscribing to ${t} failed, please try again`);if(!d&&c)throw new Error(`Subscribing to ${t} failed, please try again`);return d?l:null}catch(l){if(this.logger.debug("Outgoing Relay Subscribe Payload stalled"),this.relayer.events.emit(Mn.connection_stalled),c)throw l}return null}async rpcBatchSubscribe(t){if(!t.length)return;const n=t[0].relay,r={method:Ld(n.protocol).batchSubscribe,params:{topics:t.map(s=>s.topic)}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:r});try{await await tc(new Promise(s=>{this.relayer.request(r).catch(o=>this.logger.warn(o)).then(s)}),this.subscribeTimeout,"rpcBatchSubscribe failed, please try again")}catch{this.relayer.events.emit(Mn.connection_stalled)}}async rpcBatchFetchMessages(t){if(!t.length)return;const n=t[0].relay,r={method:Ld(n.protocol).batchFetchMessages,params:{topics:t.map(o=>o.topic)}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:r});let s;try{s=await await tc(new Promise((o,c)=>{this.relayer.request(r).catch(l=>{this.logger.warn(l),c(l)}).then(o)}),this.subscribeTimeout,"rpcBatchFetchMessages failed, please try again")}catch{this.relayer.events.emit(Mn.connection_stalled)}return s}rpcUnsubscribe(t,n,r){const s={method:Ld(r.protocol).unsubscribe,params:{topic:t,id:n}};return this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:s}),this.relayer.request(s)}onSubscribe(t,n){this.setSubscription(t,zv(_d({},n),{id:t})),this.pending.delete(n.topic)}onBatchSubscribe(t){t.length&&t.forEach(n=>{this.setSubscription(n.id,_d({},n)),this.pending.delete(n.topic)})}async onUnsubscribe(t,n,r){this.events.removeAllListeners(n),this.hasSubscription(n,t)&&this.deleteSubscription(n,r),await this.relayer.messages.del(t)}async setRelayerSubscriptions(t){await this.relayer.core.storage.setItem(this.storageKey,t)}async getRelayerSubscriptions(){return await this.relayer.core.storage.getItem(this.storageKey)}setSubscription(t,n){this.logger.debug("Setting subscription"),this.logger.trace({type:"method",method:"setSubscription",id:t,subscription:n}),this.addSubscription(t,n)}addSubscription(t,n){this.subscriptions.set(t,_d({},n)),this.topicMap.set(n.topic,t),this.events.emit(rs.created,n)}getSubscription(t){this.logger.debug("Getting subscription"),this.logger.trace({type:"method",method:"getSubscription",id:t});const n=this.subscriptions.get(t);if(!n){const{message:r}=ye("NO_MATCHING_KEY",`${this.name}: ${t}`);throw new Error(r)}return n}deleteSubscription(t,n){this.logger.debug("Deleting subscription"),this.logger.trace({type:"method",method:"deleteSubscription",id:t,reason:n});const r=this.getSubscription(t);this.subscriptions.delete(t),this.topicMap.delete(r.topic,t),this.events.emit(rs.deleted,zv(_d({},r),{reason:n}))}async persist(){await this.setRelayerSubscriptions(this.values),this.events.emit(rs.sync)}async onRestart(){if(this.cached.length){const t=[...this.cached],n=Math.ceil(this.cached.length/this.batchSubscribeTopicsLimit);for(let r=0;r<n;r++){const s=t.splice(0,this.batchSubscribeTopicsLimit);await this.batchSubscribe(s)}}this.events.emit(rs.resubscribed)}async restore(){try{const t=await this.getRelayerSubscriptions();if(typeof t>"u"||!t.length)return;if(this.subscriptions.size){const{message:n}=ye("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(n),this.logger.error(`${this.name}: ${JSON.stringify(this.values)}`),new Error(n)}this.cached=t,this.logger.debug(`Successfully Restored subscriptions for ${this.name}`),this.logger.trace({type:"method",method:"restore",subscriptions:this.values})}catch(t){this.logger.debug(`Failed to Restore subscriptions for ${this.name}`),this.logger.error(t)}}async batchSubscribe(t){t.length&&(await this.rpcBatchSubscribe(t),this.onBatchSubscribe(await Promise.all(t.map(async n=>zv(_d({},n),{id:await this.getSubscriptionId(n.topic)})))))}async batchFetchMessages(t){if(!t.length)return;this.logger.trace(`Fetching batch messages for ${t.length} subscriptions`);const n=await this.rpcBatchFetchMessages(t);n&&n.messages&&(await fee(we.toMiliseconds(we.ONE_SECOND)),await this.relayer.handleBatchMessageEvents(n.messages))}async onConnect(){await this.restart(),this.reset()}onDisconnect(){this.onDisable()}isInitialized(){if(!this.initialized){const{message:t}=ye("NOT_INITIALIZED",this.name);throw new Error(t)}}async restartToComplete(t){!this.relayer.connected&&!this.relayer.connecting&&(this.cached.push(t),await this.relayer.transportOpen())}async getClientId(){return this.clientId||(this.clientId=await this.relayer.core.crypto.getClientId()),this.clientId}async getSubscriptionId(t){return zi(t+await this.getClientId())}}var tae=Object.defineProperty,F8=Object.getOwnPropertySymbols,nae=Object.prototype.hasOwnProperty,rae=Object.prototype.propertyIsEnumerable,jE=(e,t,n)=>t in e?tae(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,q8=(e,t)=>{for(var n in t||(t={}))nae.call(t,n)&&jE(e,n,t[n]);if(F8)for(var n of F8(t))rae.call(t,n)&&jE(e,n,t[n]);return e},ft=(e,t,n)=>jE(e,typeof t!="symbol"?t+"":t,n);class sae extends GK{constructor(t){super(t),ft(this,"protocol","wc"),ft(this,"version",2),ft(this,"core"),ft(this,"logger"),ft(this,"events",new Vs.EventEmitter),ft(this,"provider"),ft(this,"messages"),ft(this,"subscriber"),ft(this,"publisher"),ft(this,"name",Use),ft(this,"transportExplicitlyClosed",!1),ft(this,"initialized",!1),ft(this,"connectionAttemptInProgress",!1),ft(this,"relayUrl"),ft(this,"projectId"),ft(this,"packageName"),ft(this,"bundleId"),ft(this,"hasExperiencedNetworkDisruption",!1),ft(this,"pingTimeout"),ft(this,"heartBeatTimeout",we.toMiliseconds(we.THIRTY_SECONDS+we.FIVE_SECONDS)),ft(this,"reconnectTimeout"),ft(this,"connectPromise"),ft(this,"reconnectInProgress",!1),ft(this,"requestsInFlight",[]),ft(this,"connectTimeout",we.toMiliseconds(we.ONE_SECOND*15)),ft(this,"request",async n=>{var r,s;this.logger.debug("Publishing Request Payload");const o=n.id||bl().toString();await this.toEstablishConnection();try{this.logger.trace({id:o,method:n.method,topic:(r=n.params)==null?void 0:r.topic},"relayer.request - publishing...");const c=`${o}:${((s=n.params)==null?void 0:s.tag)||""}`;this.requestsInFlight.push(c);const l=await this.provider.request(n);return this.requestsInFlight=this.requestsInFlight.filter(f=>f!==c),l}catch(c){throw this.logger.debug(`Failed to Publish Request: ${o}`),c}}),ft(this,"resetPingTimeout",()=>{by()&&(clearTimeout(this.pingTimeout),this.pingTimeout=setTimeout(()=>{var n,r,s,o;try{this.logger.debug({},"pingTimeout: Connection stalled, terminating..."),(o=(s=(r=(n=this.provider)==null?void 0:n.connection)==null?void 0:r.socket)==null?void 0:s.terminate)==null||o.call(s)}catch(c){this.logger.warn(c,c?.message)}},this.heartBeatTimeout))}),ft(this,"onPayloadHandler",n=>{this.onProviderPayload(n),this.resetPingTimeout()}),ft(this,"onConnectHandler",()=>{this.logger.warn({},"Relayer connected "),this.startPingTimeout(),this.events.emit(Mn.connect)}),ft(this,"onDisconnectHandler",()=>{this.logger.warn({},"Relayer disconnected "),this.requestsInFlight=[],this.onProviderDisconnect()}),ft(this,"onProviderErrorHandler",n=>{this.logger.fatal(`Fatal socket error: ${n.message}`),this.events.emit(Mn.error,n),this.logger.fatal("Fatal socket error received, closing transport"),this.transportClose()}),ft(this,"registerProviderListeners",()=>{this.provider.on(Os.payload,this.onPayloadHandler),this.provider.on(Os.connect,this.onConnectHandler),this.provider.on(Os.disconnect,this.onDisconnectHandler),this.provider.on(Os.error,this.onProviderErrorHandler)}),this.core=t.core,this.logger=typeof t.logger<"u"&&typeof t.logger!="string"?br(t.logger,this.name):hg(pg({level:t.logger||$se})),this.messages=new koe(this.logger,t.core),this.subscriber=new eae(this,this.logger),this.publisher=new Voe(this,this.logger),this.relayUrl=t?.relayUrl||MU,this.projectId=t.projectId,YJ()?this.packageName=MI():XJ()&&(this.bundleId=MI()),this.provider={}}async init(){this.logger.trace("Initialized"),this.registerEventListeners(),await Promise.all([this.messages.init(),this.subscriber.init()]),this.initialized=!0,this.transportOpen().catch(t=>this.logger.warn(t,t?.message))}get context(){return Fr(this.logger)}get connected(){var t,n,r;return((r=(n=(t=this.provider)==null?void 0:t.connection)==null?void 0:n.socket)==null?void 0:r.readyState)===1||!1}get connecting(){var t,n,r;return((r=(n=(t=this.provider)==null?void 0:t.connection)==null?void 0:n.socket)==null?void 0:r.readyState)===0||this.connectPromise!==void 0||!1}async publish(t,n,r){this.isInitialized(),await this.publisher.publish(t,n,r),await this.recordMessageEvent({topic:t,message:n,publishedAt:Date.now(),transportType:Wt.relay},H0.outbound)}async subscribe(t,n){var r,s,o;this.isInitialized(),(!(n!=null&&n.transportType)||n?.transportType==="relay")&&await this.toEstablishConnection();const c=typeof((r=n?.internal)==null?void 0:r.throwOnFailedPublish)>"u"?!0:(s=n?.internal)==null?void 0:s.throwOnFailedPublish;let l=((o=this.subscriber.topicMap.get(t))==null?void 0:o[0])||"",f;const d=p=>{p.topic===t&&(this.subscriber.off(rs.created,d),f())};return await Promise.all([new Promise(p=>{f=p,this.subscriber.on(rs.created,d)}),new Promise(async(p,g)=>{l=await this.subscriber.subscribe(t,q8({internal:{throwOnFailedPublish:c}},n)).catch(y=>{c&&g(y)})||l,p()})]),l}async unsubscribe(t,n){this.isInitialized(),await this.subscriber.unsubscribe(t,n)}on(t,n){this.events.on(t,n)}once(t,n){this.events.once(t,n)}off(t,n){this.events.off(t,n)}removeListener(t,n){this.events.removeListener(t,n)}async transportDisconnect(){this.provider.disconnect&&(this.hasExperiencedNetworkDisruption||this.connected)?await tc(this.provider.disconnect(),2e3,"provider.disconnect()").catch(()=>this.onProviderDisconnect()):this.onProviderDisconnect()}async transportClose(){this.transportExplicitlyClosed=!0,await this.transportDisconnect()}async transportOpen(t){if(!this.subscriber.hasAnyTopics){this.logger.info("Starting WS connection skipped because the client has no topics to work with.");return}if(this.connectPromise?(this.logger.debug({},"Waiting for existing connection attempt to resolve..."),await this.connectPromise,this.logger.debug({},"Existing connection attempt resolved")):(this.connectPromise=new Promise(async(n,r)=>{await this.connect(t).then(n).catch(r).finally(()=>{this.connectPromise=void 0})}),await this.connectPromise),!this.connected)throw new Error(`Couldn't establish socket connection to the relay server: ${this.relayUrl}`)}async restartTransport(t){this.logger.debug({},"Restarting transport..."),!this.connectionAttemptInProgress&&(this.relayUrl=t||this.relayUrl,await this.confirmOnlineStateOrThrow(),await this.transportClose(),await this.transportOpen())}async confirmOnlineStateOrThrow(){if(!await S8())throw new Error("No internet connection detected. Please restart your network and try again.")}async handleBatchMessageEvents(t){if(t?.length===0){this.logger.trace("Batch message events is empty. Ignoring...");return}const n=t.sort((r,s)=>r.publishedAt-s.publishedAt);this.logger.debug(`Batch of ${n.length} message events sorted`);for(const r of n)try{await this.onMessageEvent(r)}catch(s){this.logger.warn(s,"Error while processing batch message event: "+s?.message)}this.logger.trace(`Batch of ${n.length} message events processed`)}async onLinkMessageEvent(t,n){const{topic:r}=t;if(!n.sessionExists){const s=Nn(we.FIVE_MINUTES),o={topic:r,expiry:s,relay:{protocol:"irn"},active:!1};await this.core.pairing.pairings.set(r,o)}this.events.emit(Mn.message,t),await this.recordMessageEvent(t,H0.inbound)}async connect(t){await this.confirmOnlineStateOrThrow(),t&&t!==this.relayUrl&&(this.relayUrl=t,await this.transportDisconnect()),this.connectionAttemptInProgress=!0,this.transportExplicitlyClosed=!1;let n=1;for(;n<6;){try{if(this.transportExplicitlyClosed)break;this.logger.debug({},`Connecting to ${this.relayUrl}, attempt: ${n}...`),await this.createProvider(),await new Promise(async(r,s)=>{const o=()=>{s(new Error("Connection interrupted while trying to connect"))};this.provider.once(Os.disconnect,o),await tc(new Promise((c,l)=>{this.provider.connect().then(c).catch(l)}),this.connectTimeout,`Socket stalled when trying to connect to ${this.relayUrl}`).catch(c=>{s(c)}).finally(()=>{this.provider.off(Os.disconnect,o),clearTimeout(this.reconnectTimeout)}),await new Promise(async(c,l)=>{const f=()=>{s(new Error("Connection interrupted while trying to subscribe"))};this.provider.once(Os.disconnect,f),await this.subscriber.start().then(c).catch(l).finally(()=>{this.provider.off(Os.disconnect,f)})}),this.hasExperiencedNetworkDisruption=!1,r()})}catch(r){await this.subscriber.stop();const s=r;this.logger.warn({},s.message),this.hasExperiencedNetworkDisruption=!0}finally{this.connectionAttemptInProgress=!1}if(this.connected){this.logger.debug({},`Connected to ${this.relayUrl} successfully on attempt: ${n}`);break}await new Promise(r=>setTimeout(r,we.toMiliseconds(n*1))),n++}}startPingTimeout(){var t,n,r,s,o;if(by())try{(n=(t=this.provider)==null?void 0:t.connection)!=null&&n.socket&&((o=(s=(r=this.provider)==null?void 0:r.connection)==null?void 0:s.socket)==null||o.on("ping",()=>{this.resetPingTimeout()})),this.resetPingTimeout()}catch(c){this.logger.warn(c,c?.message)}}async createProvider(){this.provider.connection&&this.unregisterProviderListeners();const t=await this.core.crypto.signJWT(this.relayUrl);this.provider=new Ws(new Sse(tee({sdkVersion:UE,protocol:this.protocol,version:this.version,relayUrl:this.relayUrl,projectId:this.projectId,auth:t,useOnCloseEvent:!0,bundleId:this.bundleId,packageName:this.packageName}))),this.registerProviderListeners()}async recordMessageEvent(t,n){const{topic:r,message:s}=t;await this.messages.set(r,s,n)}async shouldIgnoreMessageEvent(t){const{topic:n,message:r}=t;if(!r||r.length===0)return this.logger.warn(`Ignoring invalid/empty message: ${r}`),!0;if(!await this.subscriber.isKnownTopic(n))return this.logger.warn(`Ignoring message for unknown topic ${n}`),!0;const s=this.messages.has(n,r);return s&&this.logger.warn(`Ignoring duplicate message: ${r}`),s}async onProviderPayload(t){if(this.logger.debug("Incoming Relay Payload"),this.logger.trace({type:"payload",direction:"incoming",payload:t}),XA(t)){if(!t.method.endsWith(Rse))return;const n=t.params,{topic:r,message:s,publishedAt:o,attestation:c}=n.data,l={topic:r,message:s,publishedAt:o,transportType:Wt.relay,attestation:c};this.logger.debug("Emitting Relayer Payload"),this.logger.trace(q8({type:"event",event:n.id},l)),this.events.emit(n.id,l),await this.acknowledgePayload(t),await this.onMessageEvent(l)}else sw(t)&&this.events.emit(Mn.message_ack,t)}async onMessageEvent(t){await this.shouldIgnoreMessageEvent(t)||(await this.recordMessageEvent(t,H0.inbound),this.events.emit(Mn.message,t))}async acknowledgePayload(t){const n=nw(t.id,!0);await this.provider.connection.send(n)}unregisterProviderListeners(){this.provider.off(Os.payload,this.onPayloadHandler),this.provider.off(Os.connect,this.onConnectHandler),this.provider.off(Os.disconnect,this.onDisconnectHandler),this.provider.off(Os.error,this.onProviderErrorHandler),clearTimeout(this.pingTimeout)}async registerEventListeners(){let t=await S8();Hre(async n=>{t!==n&&(t=n,n?await this.transportOpen().catch(r=>this.logger.error(r,r?.message)):(this.hasExperiencedNetworkDisruption=!0,await this.transportDisconnect(),this.transportExplicitlyClosed=!1))}),this.core.heartbeat.on(zl.pulse,async()=>{if(!this.transportExplicitlyClosed&&!this.connected&&Vre())try{await this.confirmOnlineStateOrThrow(),await this.transportOpen()}catch(n){this.logger.warn(n,n?.message)}})}async onProviderDisconnect(){clearTimeout(this.pingTimeout),this.events.emit(Mn.disconnect),this.connectionAttemptInProgress=!1,!this.reconnectInProgress&&(this.reconnectInProgress=!0,await this.subscriber.stop(),this.subscriber.hasAnyTopics&&(this.transportExplicitlyClosed||(this.reconnectTimeout=setTimeout(async()=>{await this.transportOpen().catch(t=>this.logger.error(t,t?.message)),this.reconnectTimeout=void 0,this.reconnectInProgress=!1},we.toMiliseconds(Pse)))))}isInitialized(){if(!this.initialized){const{message:t}=ye("NOT_INITIALIZED",this.name);throw new Error(t)}}async toEstablishConnection(){if(await this.confirmOnlineStateOrThrow(),!this.connected){if(this.connectPromise){await this.connectPromise;return}await this.connect()}}}function iae(e,t){return e===t||Number.isNaN(e)&&Number.isNaN(t)}function V8(e){return Object.getOwnPropertySymbols(e).filter(t=>Object.prototype.propertyIsEnumerable.call(e,t))}function W8(e){return e==null?e===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e)}const oae="[object RegExp]",aae="[object String]",cae="[object Number]",lae="[object Boolean]",K8="[object Arguments]",uae="[object Symbol]",fae="[object Date]",hae="[object Map]",dae="[object Set]",pae="[object Array]",gae="[object Function]",mae="[object ArrayBuffer]",Hv="[object Object]",yae="[object Error]",wae="[object DataView]",bae="[object Uint8Array]",vae="[object Uint8ClampedArray]",Eae="[object Uint16Array]",Sae="[object Uint32Array]",Aae="[object BigUint64Array]",Cae="[object Int8Array]",xae="[object Int16Array]",Nae="[object Int32Array]",Tae="[object BigInt64Array]",_ae="[object Float32Array]",Iae="[object Float64Array]";function Oae(){}function G8(e){if(!e||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);return t===null||t===Object.prototype||Object.getPrototypeOf(t)===null?Object.prototype.toString.call(e)==="[object Object]":!1}function Dae(e,t,n){return kd(e,t,void 0,void 0,void 0,void 0,n)}function kd(e,t,n,r,s,o,c){const l=c(e,t,n,r,s,o);if(l!==void 0)return l;if(typeof e==typeof t)switch(typeof e){case"bigint":case"string":case"boolean":case"symbol":case"undefined":return e===t;case"number":return e===t||Object.is(e,t);case"function":return e===t;case"object":return rp(e,t,o,c)}return rp(e,t,o,c)}function rp(e,t,n,r){if(Object.is(e,t))return!0;let s=W8(e),o=W8(t);if(s===K8&&(s=Hv),o===K8&&(o=Hv),s!==o)return!1;switch(s){case aae:return e.toString()===t.toString();case cae:{const f=e.valueOf(),d=t.valueOf();return iae(f,d)}case lae:case fae:case uae:return Object.is(e.valueOf(),t.valueOf());case oae:return e.source===t.source&&e.flags===t.flags;case gae:return e===t}n=n??new Map;const c=n.get(e),l=n.get(t);if(c!=null&&l!=null)return c===t;n.set(e,t),n.set(t,e);try{switch(s){case hae:{if(e.size!==t.size)return!1;for(const[f,d]of e.entries())if(!t.has(f)||!kd(d,t.get(f),f,e,t,n,r))return!1;return!0}case dae:{if(e.size!==t.size)return!1;const f=Array.from(e.values()),d=Array.from(t.values());for(let p=0;p<f.length;p++){const g=f[p],y=d.findIndex(b=>kd(g,b,void 0,e,t,n,r));if(y===-1)return!1;d.splice(y,1)}return!0}case pae:case bae:case vae:case Eae:case Sae:case Aae:case Cae:case xae:case Nae:case Tae:case _ae:case Iae:{if(typeof Buffer<"u"&&Buffer.isBuffer(e)!==Buffer.isBuffer(t)||e.length!==t.length)return!1;for(let f=0;f<e.length;f++)if(!kd(e[f],t[f],f,e,t,n,r))return!1;return!0}case mae:return e.byteLength!==t.byteLength?!1:rp(new Uint8Array(e),new Uint8Array(t),n,r);case wae:return e.byteLength!==t.byteLength||e.byteOffset!==t.byteOffset?!1:rp(new Uint8Array(e),new Uint8Array(t),n,r);case yae:return e.name===t.name&&e.message===t.message;case Hv:{if(!(rp(e.constructor,t.constructor,n,r)||G8(e)&&G8(t)))return!1;const f=[...Object.keys(e),...V8(e)],d=[...Object.keys(t),...V8(t)];if(f.length!==d.length)return!1;for(let p=0;p<f.length;p++){const g=f[p],y=e[g];if(!Object.hasOwn(t,g))return!1;const b=t[g];if(!kd(y,b,g,e,t,n,r))return!1}return!0}default:return!1}}finally{n.delete(e),n.delete(t)}}function Mae(e,t){return Dae(e,t,Oae)}var $ae=Object.defineProperty,Y8=Object.getOwnPropertySymbols,Uae=Object.prototype.hasOwnProperty,Rae=Object.prototype.propertyIsEnumerable,zE=(e,t,n)=>t in e?$ae(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,X8=(e,t)=>{for(var n in t||(t={}))Uae.call(t,n)&&zE(e,n,t[n]);if(Y8)for(var n of Y8(t))Rae.call(t,n)&&zE(e,n,t[n]);return e},_r=(e,t,n)=>zE(e,typeof t!="symbol"?t+"":t,n);class Fl extends YK{constructor(t,n,r,s=Ji,o=void 0){super(t,n,r,s),this.core=t,this.logger=n,this.name=r,_r(this,"map",new Map),_r(this,"version",Bse),_r(this,"cached",[]),_r(this,"initialized",!1),_r(this,"getKey"),_r(this,"storagePrefix",Ji),_r(this,"recentlyDeleted",[]),_r(this,"recentlyDeletedLimit",200),_r(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(c=>{this.getKey&&c!==null&&!Wn(c)?this.map.set(this.getKey(c),c):bre(c)?this.map.set(c.id,c):vre(c)&&this.map.set(c.topic,c)}),this.cached=[],this.initialized=!0)}),_r(this,"set",async(c,l)=>{this.isInitialized(),this.map.has(c)?await this.update(c,l):(this.logger.debug("Setting value"),this.logger.trace({type:"method",method:"set",key:c,value:l}),this.map.set(c,l),await this.persist())}),_r(this,"get",c=>(this.isInitialized(),this.logger.debug("Getting value"),this.logger.trace({type:"method",method:"get",key:c}),this.getData(c))),_r(this,"getAll",c=>(this.isInitialized(),c?this.values.filter(l=>Object.keys(c).every(f=>Mae(l[f],c[f]))):this.values)),_r(this,"update",async(c,l)=>{this.isInitialized(),this.logger.debug("Updating value"),this.logger.trace({type:"method",method:"update",key:c,update:l});const f=X8(X8({},this.getData(c)),l);this.map.set(c,f),await this.persist()}),_r(this,"delete",async(c,l)=>{this.isInitialized(),this.map.has(c)&&(this.logger.debug("Deleting value"),this.logger.trace({type:"method",method:"delete",key:c,reason:l}),this.map.delete(c),this.addToRecentlyDeleted(c),await this.persist())}),this.logger=br(n,this.name),this.storagePrefix=s,this.getKey=o}get context(){return Fr(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.map.size}get keys(){return Array.from(this.map.keys())}get values(){return Array.from(this.map.values())}addToRecentlyDeleted(t){this.recentlyDeleted.push(t),this.recentlyDeleted.length>=this.recentlyDeletedLimit&&this.recentlyDeleted.splice(0,this.recentlyDeletedLimit/2)}async setDataStore(t){await this.core.storage.setItem(this.storageKey,t)}async getDataStore(){return await this.core.storage.getItem(this.storageKey)}getData(t){const n=this.map.get(t);if(!n){if(this.recentlyDeleted.includes(t)){const{message:s}=ye("MISSING_OR_INVALID",`Record was recently deleted - ${this.name}: ${t}`);throw this.logger.error(s),new Error(s)}const{message:r}=ye("NO_MATCHING_KEY",`${this.name}: ${t}`);throw this.logger.error(r),new Error(r)}return n}async persist(){await this.setDataStore(this.values)}async restore(){try{const t=await this.getDataStore();if(typeof t>"u"||!t.length)return;if(this.map.size){const{message:n}=ye("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(n),new Error(n)}this.cached=t,this.logger.debug(`Successfully Restored value for ${this.name}`),this.logger.trace({type:"method",method:"restore",value:this.values})}catch(t){this.logger.debug(`Failed to Restore value for ${this.name}`),this.logger.error(t)}}isInitialized(){if(!this.initialized){const{message:t}=ye("NOT_INITIALIZED",this.name);throw new Error(t)}}}var Pae=Object.defineProperty,Bae=(e,t,n)=>t in e?Pae(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,tt=(e,t,n)=>Bae(e,typeof t!="symbol"?t+"":t,n);class Lae{constructor(t,n){this.core=t,this.logger=n,tt(this,"name",zse),tt(this,"version",Hse),tt(this,"events",new AA),tt(this,"pairings"),tt(this,"initialized",!1),tt(this,"storagePrefix",Ji),tt(this,"ignoredPayloadTypes",[Fo]),tt(this,"registeredMethods",[]),tt(this,"init",async()=>{this.initialized||(await this.pairings.init(),await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.initialized=!0,this.logger.trace("Initialized"))}),tt(this,"register",({methods:r})=>{this.isInitialized(),this.registeredMethods=[...new Set([...this.registeredMethods,...r])]}),tt(this,"create",async r=>{this.isInitialized();const s=DE(),o=await this.core.crypto.setSymKey(s),c=Nn(we.FIVE_MINUTES),l={protocol:DU},f={topic:o,expiry:c,relay:l,active:!1,methods:r?.methods},d=d8({protocol:this.core.protocol,version:this.core.version,topic:o,symKey:s,relay:l,expiryTimestamp:c,methods:r?.methods});return this.events.emit(ll.create,f),this.core.expirer.set(o,c),await this.pairings.set(o,f),await this.core.relayer.subscribe(o,{transportType:r?.transportType}),{topic:o,uri:d}}),tt(this,"pair",async r=>{this.isInitialized();const s=this.core.eventClient.createEvent({properties:{topic:r?.uri,trace:[Li.pairing_started]}});this.isValidPair(r,s);const{topic:o,symKey:c,relay:l,expiryTimestamp:f,methods:d}=h8(r.uri);s.props.properties.topic=o,s.addTrace(Li.pairing_uri_validation_success),s.addTrace(Li.pairing_uri_not_expired);let p;if(this.pairings.keys.includes(o)){if(p=this.pairings.get(o),s.addTrace(Li.existing_pairing),p.active)throw s.setError(ko.active_pairing_already_exists),new Error(`Pairing already exists: ${o}. Please try again with a new connection URI.`);s.addTrace(Li.pairing_not_expired)}const g=f||Nn(we.FIVE_MINUTES),y={topic:o,relay:l,expiry:g,active:!1,methods:d};this.core.expirer.set(o,g),await this.pairings.set(o,y),s.addTrace(Li.store_new_pairing),r.activatePairing&&await this.activate({topic:o}),this.events.emit(ll.create,y),s.addTrace(Li.emit_inactive_pairing),this.core.crypto.keychain.has(o)||await this.core.crypto.setSymKey(c,o),s.addTrace(Li.subscribing_pairing_topic);try{await this.core.relayer.confirmOnlineStateOrThrow()}catch{s.setError(ko.no_internet_connection)}try{await this.core.relayer.subscribe(o,{relay:l})}catch(b){throw s.setError(ko.subscribe_pairing_topic_failure),b}return s.addTrace(Li.subscribe_pairing_topic_success),y}),tt(this,"activate",async({topic:r})=>{this.isInitialized();const s=Nn(we.FIVE_MINUTES);this.core.expirer.set(r,s),await this.pairings.update(r,{active:!0,expiry:s})}),tt(this,"ping",async r=>{this.isInitialized(),await this.isValidPing(r),this.logger.warn("ping() is deprecated and will be removed in the next major release.");const{topic:s}=r;if(this.pairings.keys.includes(s)){const o=await this.sendRequest(s,"wc_pairingPing",{}),{done:c,resolve:l,reject:f}=sl();this.events.once(wt("pairing_ping",o),({error:d})=>{d?f(d):l()}),await c()}}),tt(this,"updateExpiry",async({topic:r,expiry:s})=>{this.isInitialized(),await this.pairings.update(r,{expiry:s})}),tt(this,"updateMetadata",async({topic:r,metadata:s})=>{this.isInitialized(),await this.pairings.update(r,{peerMetadata:s})}),tt(this,"getPairings",()=>(this.isInitialized(),this.pairings.values)),tt(this,"disconnect",async r=>{this.isInitialized(),await this.isValidDisconnect(r);const{topic:s}=r;this.pairings.keys.includes(s)&&(await this.sendRequest(s,"wc_pairingDelete",Yt("USER_DISCONNECTED")),await this.deletePairing(s))}),tt(this,"formatUriFromPairing",r=>{this.isInitialized();const{topic:s,relay:o,expiry:c,methods:l}=r,f=this.core.crypto.keychain.get(s);return d8({protocol:this.core.protocol,version:this.core.version,topic:s,symKey:f,relay:o,expiryTimestamp:c,methods:l})}),tt(this,"sendRequest",async(r,s,o)=>{const c=nc(s,o),l=await this.core.crypto.encode(r,c),f=Nd[s].req;return this.core.history.set(r,c),this.core.relayer.publish(r,l,f),c.id}),tt(this,"sendResult",async(r,s,o)=>{const c=nw(r,o),l=await this.core.crypto.encode(s,c),f=(await this.core.history.get(s,r)).request.method,d=Nd[f].res;await this.core.relayer.publish(s,l,d),await this.core.history.resolve(c)}),tt(this,"sendError",async(r,s,o)=>{const c=rw(r,o),l=await this.core.crypto.encode(s,c),f=(await this.core.history.get(s,r)).request.method,d=Nd[f]?Nd[f].res:Nd.unregistered_method.res;await this.core.relayer.publish(s,l,d),await this.core.history.resolve(c)}),tt(this,"deletePairing",async(r,s)=>{await this.core.relayer.unsubscribe(r),await Promise.all([this.pairings.delete(r,Yt("USER_DISCONNECTED")),this.core.crypto.deleteSymKey(r),s?Promise.resolve():this.core.expirer.del(r)])}),tt(this,"cleanup",async()=>{const r=this.pairings.getAll().filter(s=>Wa(s.expiry));await Promise.all(r.map(s=>this.deletePairing(s.topic)))}),tt(this,"onRelayEventRequest",async r=>{const{topic:s,payload:o}=r;switch(o.method){case"wc_pairingPing":return await this.onPairingPingRequest(s,o);case"wc_pairingDelete":return await this.onPairingDeleteRequest(s,o);default:return await this.onUnknownRpcMethodRequest(s,o)}}),tt(this,"onRelayEventResponse",async r=>{const{topic:s,payload:o}=r,c=(await this.core.history.get(s,o.id)).request.method;switch(c){case"wc_pairingPing":return this.onPairingPingResponse(s,o);default:return this.onUnknownRpcMethodResponse(c)}}),tt(this,"onPairingPingRequest",async(r,s)=>{const{id:o}=s;try{this.isValidPing({topic:r}),await this.sendResult(o,r,!0),this.events.emit(ll.ping,{id:o,topic:r})}catch(c){await this.sendError(o,r,c),this.logger.error(c)}}),tt(this,"onPairingPingResponse",(r,s)=>{const{id:o}=s;setTimeout(()=>{ji(s)?this.events.emit(wt("pairing_ping",o),{}):Bs(s)&&this.events.emit(wt("pairing_ping",o),{error:s.error})},500)}),tt(this,"onPairingDeleteRequest",async(r,s)=>{const{id:o}=s;try{this.isValidDisconnect({topic:r}),await this.deletePairing(r),this.events.emit(ll.delete,{id:o,topic:r})}catch(c){await this.sendError(o,r,c),this.logger.error(c)}}),tt(this,"onUnknownRpcMethodRequest",async(r,s)=>{const{id:o,method:c}=s;try{if(this.registeredMethods.includes(c))return;const l=Yt("WC_METHOD_UNSUPPORTED",c);await this.sendError(o,r,l),this.logger.error(l)}catch(l){await this.sendError(o,r,l),this.logger.error(l)}}),tt(this,"onUnknownRpcMethodResponse",r=>{this.registeredMethods.includes(r)||this.logger.error(Yt("WC_METHOD_UNSUPPORTED",r))}),tt(this,"isValidPair",(r,s)=>{var o;if(!Rr(r)){const{message:l}=ye("MISSING_OR_INVALID",`pair() params: ${r}`);throw s.setError(ko.malformed_pairing_uri),new Error(l)}if(!wre(r.uri)){const{message:l}=ye("MISSING_OR_INVALID",`pair() uri: ${r.uri}`);throw s.setError(ko.malformed_pairing_uri),new Error(l)}const c=h8(r?.uri);if(!((o=c?.relay)!=null&&o.protocol)){const{message:l}=ye("MISSING_OR_INVALID","pair() uri#relay-protocol");throw s.setError(ko.malformed_pairing_uri),new Error(l)}if(!(c!=null&&c.symKey)){const{message:l}=ye("MISSING_OR_INVALID","pair() uri#symKey");throw s.setError(ko.malformed_pairing_uri),new Error(l)}if(c!=null&&c.expiryTimestamp&&we.toMiliseconds(c?.expiryTimestamp)<Date.now()){s.setError(ko.pairing_expired);const{message:l}=ye("EXPIRED","pair() URI has expired. Please try again with a new connection URI.");throw new Error(l)}}),tt(this,"isValidPing",async r=>{if(!Rr(r)){const{message:o}=ye("MISSING_OR_INVALID",`ping() params: ${r}`);throw new Error(o)}const{topic:s}=r;await this.isValidPairingTopic(s)}),tt(this,"isValidDisconnect",async r=>{if(!Rr(r)){const{message:o}=ye("MISSING_OR_INVALID",`disconnect() params: ${r}`);throw new Error(o)}const{topic:s}=r;await this.isValidPairingTopic(s)}),tt(this,"isValidPairingTopic",async r=>{if(!bn(r,!1)){const{message:s}=ye("MISSING_OR_INVALID",`pairing topic should be a string: ${r}`);throw new Error(s)}if(!this.pairings.keys.includes(r)){const{message:s}=ye("NO_MATCHING_KEY",`pairing topic doesn't exist: ${r}`);throw new Error(s)}if(Wa(this.pairings.get(r).expiry)){await this.deletePairing(r);const{message:s}=ye("EXPIRED",`pairing topic: ${r}`);throw new Error(s)}}),this.core=t,this.logger=br(n,this.name),this.pairings=new Fl(this.core,this.logger,this.name,this.storagePrefix)}get context(){return Fr(this.logger)}isInitialized(){if(!this.initialized){const{message:t}=ye("NOT_INITIALIZED",this.name);throw new Error(t)}}registerRelayerEvents(){this.core.relayer.on(Mn.message,async t=>{const{topic:n,message:r,transportType:s}=t;if(this.pairings.keys.includes(n)&&s!==Wt.link_mode&&!this.ignoredPayloadTypes.includes(this.core.crypto.getPayloadType(r)))try{const o=await this.core.crypto.decode(n,r);XA(o)?(this.core.history.set(n,o),await this.onRelayEventRequest({topic:n,payload:o})):sw(o)&&(await this.core.history.resolve(o),await this.onRelayEventResponse({topic:n,payload:o}),this.core.history.delete(n,o.id)),await this.core.relayer.messages.ack(n,r)}catch(o){this.logger.error(o)}})}registerExpirerEvents(){this.core.expirer.on(Ps.expired,async t=>{const{topic:n}=D$(t.target);n&&this.pairings.keys.includes(n)&&(await this.deletePairing(n,!0),this.events.emit(ll.expire,{topic:n}))})}}var kae=Object.defineProperty,jae=(e,t,n)=>t in e?kae(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Hn=(e,t,n)=>jae(e,typeof t!="symbol"?t+"":t,n);class zae extends VK{constructor(t,n){super(t,n),this.core=t,this.logger=n,Hn(this,"records",new Map),Hn(this,"events",new Vs.EventEmitter),Hn(this,"name",Fse),Hn(this,"version",qse),Hn(this,"cached",[]),Hn(this,"initialized",!1),Hn(this,"storagePrefix",Ji),Hn(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(r=>this.records.set(r.id,r)),this.cached=[],this.registerEventListeners(),this.initialized=!0)}),Hn(this,"set",(r,s,o)=>{if(this.isInitialized(),this.logger.debug("Setting JSON-RPC request history record"),this.logger.trace({type:"method",method:"set",topic:r,request:s,chainId:o}),this.records.has(s.id))return;const c={id:s.id,topic:r,request:{method:s.method,params:s.params||null},chainId:o,expiry:Nn(we.THIRTY_DAYS)};this.records.set(c.id,c),this.persist(),this.events.emit(ri.created,c)}),Hn(this,"resolve",async r=>{if(this.isInitialized(),this.logger.debug("Updating JSON-RPC response history record"),this.logger.trace({type:"method",method:"update",response:r}),!this.records.has(r.id))return;const s=await this.getRecord(r.id);typeof s.response>"u"&&(s.response=Bs(r)?{error:r.error}:{result:r.result},this.records.set(s.id,s),this.persist(),this.events.emit(ri.updated,s))}),Hn(this,"get",async(r,s)=>(this.isInitialized(),this.logger.debug("Getting record"),this.logger.trace({type:"method",method:"get",topic:r,id:s}),await this.getRecord(s))),Hn(this,"delete",(r,s)=>{this.isInitialized(),this.logger.debug("Deleting record"),this.logger.trace({type:"method",method:"delete",id:s}),this.values.forEach(o=>{if(o.topic===r){if(typeof s<"u"&&o.id!==s)return;this.records.delete(o.id),this.events.emit(ri.deleted,o)}}),this.persist()}),Hn(this,"exists",async(r,s)=>(this.isInitialized(),this.records.has(s)?(await this.getRecord(s)).topic===r:!1)),Hn(this,"on",(r,s)=>{this.events.on(r,s)}),Hn(this,"once",(r,s)=>{this.events.once(r,s)}),Hn(this,"off",(r,s)=>{this.events.off(r,s)}),Hn(this,"removeListener",(r,s)=>{this.events.removeListener(r,s)}),this.logger=br(n,this.name)}get context(){return Fr(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get size(){return this.records.size}get keys(){return Array.from(this.records.keys())}get values(){return Array.from(this.records.values())}get pending(){const t=[];return this.values.forEach(n=>{if(typeof n.response<"u")return;const r={topic:n.topic,request:nc(n.request.method,n.request.params,n.id),chainId:n.chainId};return t.push(r)}),t}async setJsonRpcRecords(t){await this.core.storage.setItem(this.storageKey,t)}async getJsonRpcRecords(){return await this.core.storage.getItem(this.storageKey)}getRecord(t){this.isInitialized();const n=this.records.get(t);if(!n){const{message:r}=ye("NO_MATCHING_KEY",`${this.name}: ${t}`);throw new Error(r)}return n}async persist(){await this.setJsonRpcRecords(this.values),this.events.emit(ri.sync)}async restore(){try{const t=await this.getJsonRpcRecords();if(typeof t>"u"||!t.length)return;if(this.records.size){const{message:n}=ye("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(n),new Error(n)}this.cached=t,this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",records:this.values})}catch(t){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(t)}}registerEventListeners(){this.events.on(ri.created,t=>{const n=ri.created;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,record:t})}),this.events.on(ri.updated,t=>{const n=ri.updated;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,record:t})}),this.events.on(ri.deleted,t=>{const n=ri.deleted;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,record:t})}),this.core.heartbeat.on(zl.pulse,()=>{this.cleanup()})}cleanup(){try{this.isInitialized();let t=!1;this.records.forEach(n=>{we.toMiliseconds(n.expiry||0)-Date.now()<=0&&(this.logger.info(`Deleting expired history log: ${n.id}`),this.records.delete(n.id),this.events.emit(ri.deleted,n,!1),t=!0)}),t&&this.persist()}catch(t){this.logger.warn(t)}}isInitialized(){if(!this.initialized){const{message:t}=ye("NOT_INITIALIZED",this.name);throw new Error(t)}}}var Hae=Object.defineProperty,Fae=(e,t,n)=>t in e?Hae(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,or=(e,t,n)=>Fae(e,typeof t!="symbol"?t+"":t,n);class qae extends ZK{constructor(t,n){super(t,n),this.core=t,this.logger=n,or(this,"expirations",new Map),or(this,"events",new Vs.EventEmitter),or(this,"name",Vse),or(this,"version",Wse),or(this,"cached",[]),or(this,"initialized",!1),or(this,"storagePrefix",Ji),or(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(r=>this.expirations.set(r.target,r)),this.cached=[],this.registerEventListeners(),this.initialized=!0)}),or(this,"has",r=>{try{const s=this.formatTarget(r);return typeof this.getExpiration(s)<"u"}catch{return!1}}),or(this,"set",(r,s)=>{this.isInitialized();const o=this.formatTarget(r),c={target:o,expiry:s};this.expirations.set(o,c),this.checkExpiry(o,c),this.events.emit(Ps.created,{target:o,expiration:c})}),or(this,"get",r=>{this.isInitialized();const s=this.formatTarget(r);return this.getExpiration(s)}),or(this,"del",r=>{if(this.isInitialized(),this.has(r)){const s=this.formatTarget(r),o=this.getExpiration(s);this.expirations.delete(s),this.events.emit(Ps.deleted,{target:s,expiration:o})}}),or(this,"on",(r,s)=>{this.events.on(r,s)}),or(this,"once",(r,s)=>{this.events.once(r,s)}),or(this,"off",(r,s)=>{this.events.off(r,s)}),or(this,"removeListener",(r,s)=>{this.events.removeListener(r,s)}),this.logger=br(n,this.name)}get context(){return Fr(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.expirations.size}get keys(){return Array.from(this.expirations.keys())}get values(){return Array.from(this.expirations.values())}formatTarget(t){if(typeof t=="string")return nee(t);if(typeof t=="number")return ree(t);const{message:n}=ye("UNKNOWN_TYPE",`Target type: ${typeof t}`);throw new Error(n)}async setExpirations(t){await this.core.storage.setItem(this.storageKey,t)}async getExpirations(){return await this.core.storage.getItem(this.storageKey)}async persist(){await this.setExpirations(this.values),this.events.emit(Ps.sync)}async restore(){try{const t=await this.getExpirations();if(typeof t>"u"||!t.length)return;if(this.expirations.size){const{message:n}=ye("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(n),new Error(n)}this.cached=t,this.logger.debug(`Successfully Restored expirations for ${this.name}`),this.logger.trace({type:"method",method:"restore",expirations:this.values})}catch(t){this.logger.debug(`Failed to Restore expirations for ${this.name}`),this.logger.error(t)}}getExpiration(t){const n=this.expirations.get(t);if(!n){const{message:r}=ye("NO_MATCHING_KEY",`${this.name}: ${t}`);throw this.logger.warn(r),new Error(r)}return n}checkExpiry(t,n){const{expiry:r}=n;we.toMiliseconds(r)-Date.now()<=0&&this.expire(t,n)}expire(t,n){this.expirations.delete(t),this.events.emit(Ps.expired,{target:t,expiration:n})}checkExpirations(){this.core.relayer.connected&&this.expirations.forEach((t,n)=>this.checkExpiry(n,t))}registerEventListeners(){this.core.heartbeat.on(zl.pulse,()=>this.checkExpirations()),this.events.on(Ps.created,t=>{const n=Ps.created;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,data:t}),this.persist()}),this.events.on(Ps.expired,t=>{const n=Ps.expired;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,data:t}),this.persist()}),this.events.on(Ps.deleted,t=>{const n=Ps.deleted;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,data:t}),this.persist()})}isInitialized(){if(!this.initialized){const{message:t}=ye("NOT_INITIALIZED",this.name);throw new Error(t)}}}var Vae=Object.defineProperty,Wae=(e,t,n)=>t in e?Vae(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,yn=(e,t,n)=>Wae(e,typeof t!="symbol"?t+"":t,n);class Kae extends QK{constructor(t,n,r){super(t,n,r),this.core=t,this.logger=n,this.store=r,yn(this,"name",Kse),yn(this,"abortController"),yn(this,"isDevEnv"),yn(this,"verifyUrlV3",Yse),yn(this,"storagePrefix",Ji),yn(this,"version",OU),yn(this,"publicKey"),yn(this,"fetchPromise"),yn(this,"init",async()=>{var s;this.isDevEnv||(this.publicKey=await this.store.getItem(this.storeKey),this.publicKey&&we.toMiliseconds((s=this.publicKey)==null?void 0:s.expiresAt)<Date.now()&&(this.logger.debug("verify v2 public key expired"),await this.removePublicKey()))}),yn(this,"register",async s=>{if(!ch()||this.isDevEnv)return;const o=window.location.origin,{id:c,decryptedId:l}=s,f=`${this.verifyUrlV3}/attestation?projectId=${this.core.projectId}&origin=${o}&id=${c}&decryptedId=${l}`;try{const d=Xo.getDocument(),p=this.startAbortTimer(we.ONE_SECOND*5),g=await new Promise((y,b)=>{const v=()=>{window.removeEventListener("message",S),d.body.removeChild(E),b("attestation aborted")};this.abortController.signal.addEventListener("abort",v);const E=d.createElement("iframe");E.src=f,E.style.display="none",E.addEventListener("error",v,{signal:this.abortController.signal});const S=C=>{if(C.data&&typeof C.data=="string")try{const O=JSON.parse(C.data);if(O.type==="verify_attestation"){if(hE(O.attestation).payload.id!==c)return;clearInterval(p),d.body.removeChild(E),this.abortController.signal.removeEventListener("abort",v),window.removeEventListener("message",S),y(O.attestation===null?"":O.attestation)}}catch(O){this.logger.warn(O)}};d.body.appendChild(E),window.addEventListener("message",S,{signal:this.abortController.signal})});return this.logger.debug("jwt attestation",g),g}catch(d){this.logger.warn(d)}return""}),yn(this,"resolve",async s=>{if(this.isDevEnv)return"";const{attestationId:o,hash:c,encryptedId:l}=s;if(o===""){this.logger.debug("resolve: attestationId is empty, skipping");return}if(o){if(hE(o).payload.id!==l)return;const d=await this.isValidJwtAttestation(o);if(d){if(!d.isVerified){this.logger.warn("resolve: jwt attestation: origin url not verified");return}return d}}if(!c)return;const f=this.getVerifyUrl(s?.verifyUrl);return this.fetchAttestation(c,f)}),yn(this,"fetchAttestation",async(s,o)=>{this.logger.debug(`resolving attestation: ${s} from url: ${o}`);const c=this.startAbortTimer(we.ONE_SECOND*5),l=await fetch(`${o}/attestation/${s}?v2Supported=true`,{signal:this.abortController.signal});return clearTimeout(c),l.status===200?await l.json():void 0}),yn(this,"getVerifyUrl",s=>{let o=s||np;return Xse.includes(o)||(this.logger.info(`verify url: ${o}, not included in trusted list, assigning default: ${np}`),o=np),o}),yn(this,"fetchPublicKey",async()=>{try{this.logger.debug(`fetching public key from: ${this.verifyUrlV3}`);const s=this.startAbortTimer(we.FIVE_SECONDS),o=await fetch(`${this.verifyUrlV3}/public-key`,{signal:this.abortController.signal});return clearTimeout(s),await o.json()}catch(s){this.logger.warn(s)}}),yn(this,"persistPublicKey",async s=>{this.logger.debug("persisting public key to local storage",s),await this.store.setItem(this.storeKey,s),this.publicKey=s}),yn(this,"removePublicKey",async()=>{this.logger.debug("removing verify v2 public key from storage"),await this.store.removeItem(this.storeKey),this.publicKey=void 0}),yn(this,"isValidJwtAttestation",async s=>{const o=await this.getPublicKey();try{if(o)return this.validateAttestation(s,o)}catch(l){this.logger.error(l),this.logger.warn("error validating attestation")}const c=await this.fetchAndPersistPublicKey();try{if(c)return this.validateAttestation(s,c)}catch(l){this.logger.error(l),this.logger.warn("error validating attestation")}}),yn(this,"getPublicKey",async()=>this.publicKey?this.publicKey:await this.fetchAndPersistPublicKey()),yn(this,"fetchAndPersistPublicKey",async()=>{if(this.fetchPromise)return await this.fetchPromise,this.publicKey;this.fetchPromise=new Promise(async o=>{const c=await this.fetchPublicKey();c&&(await this.persistPublicKey(c),o(c))});const s=await this.fetchPromise;return this.fetchPromise=void 0,s}),yn(this,"validateAttestation",(s,o)=>{const c=Zne(s,o.publicKey),l={hasExpired:we.toMiliseconds(c.exp)<Date.now(),payload:c};if(l.hasExpired)throw this.logger.warn("resolve: jwt attestation expired"),new Error("JWT attestation expired");return{origin:l.payload.origin,isScam:l.payload.isScam,isVerified:l.payload.isVerified}}),this.logger=br(n,this.name),this.abortController=new AbortController,this.isDevEnv=RA(),this.init()}get storeKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//verify:public:key"}get context(){return Fr(this.logger)}startAbortTimer(t){return this.abortController=new AbortController,setTimeout(()=>this.abortController.abort(),we.toMiliseconds(t))}}var Gae=Object.defineProperty,Yae=(e,t,n)=>t in e?Gae(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Z8=(e,t,n)=>Yae(e,typeof t!="symbol"?t+"":t,n);class Xae extends JK{constructor(t,n){super(t,n),this.projectId=t,this.logger=n,Z8(this,"context",Zse),Z8(this,"registerDeviceToken",async r=>{const{clientId:s,token:o,notificationType:c,enableEncrypted:l=!1}=r,f=`${Qse}/${this.projectId}/clients`;await fetch(f,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({client_id:s,type:c,token:o,always_raw:l})})}),this.logger=br(n,this.context)}}var Zae=Object.defineProperty,Q8=Object.getOwnPropertySymbols,Qae=Object.prototype.hasOwnProperty,Jae=Object.prototype.propertyIsEnumerable,HE=(e,t,n)=>t in e?Zae(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Id=(e,t)=>{for(var n in t||(t={}))Qae.call(t,n)&&HE(e,n,t[n]);if(Q8)for(var n of Q8(t))Jae.call(t,n)&&HE(e,n,t[n]);return e},In=(e,t,n)=>HE(e,typeof t!="symbol"?t+"":t,n);class ece extends eG{constructor(t,n,r=!0){super(t,n,r),this.core=t,this.logger=n,In(this,"context",eie),In(this,"storagePrefix",Ji),In(this,"storageVersion",Jse),In(this,"events",new Map),In(this,"shouldPersist",!1),In(this,"init",async()=>{if(!RA())try{const s={eventId:UI(),timestamp:Date.now(),domain:this.getAppDomain(),props:{event:"INIT",type:"",properties:{client_id:await this.core.crypto.getClientId(),user_agent:I$(this.core.relayer.protocol,this.core.relayer.version,UE)}}};await this.sendEvent([s])}catch(s){this.logger.warn(s)}}),In(this,"createEvent",s=>{const{event:o="ERROR",type:c="",properties:{topic:l,trace:f}}=s,d=UI(),p=this.core.projectId||"",g=Date.now(),y=Id({eventId:d,timestamp:g,props:{event:o,type:c,properties:{topic:l,trace:f}},bundleId:p,domain:this.getAppDomain()},this.setMethods(d));return this.telemetryEnabled&&(this.events.set(d,y),this.shouldPersist=!0),y}),In(this,"getEvent",s=>{const{eventId:o,topic:c}=s;if(o)return this.events.get(o);const l=Array.from(this.events.values()).find(f=>f.props.properties.topic===c);if(l)return Id(Id({},l),this.setMethods(l.eventId))}),In(this,"deleteEvent",s=>{const{eventId:o}=s;this.events.delete(o),this.shouldPersist=!0}),In(this,"setEventListeners",()=>{this.core.heartbeat.on(zl.pulse,async()=>{this.shouldPersist&&await this.persist(),this.events.forEach(s=>{we.fromMiliseconds(Date.now())-we.fromMiliseconds(s.timestamp)>tie&&(this.events.delete(s.eventId),this.shouldPersist=!0)})})}),In(this,"setMethods",s=>({addTrace:o=>this.addTrace(s,o),setError:o=>this.setError(s,o)})),In(this,"addTrace",(s,o)=>{const c=this.events.get(s);c&&(c.props.properties.trace.push(o),this.events.set(s,c),this.shouldPersist=!0)}),In(this,"setError",(s,o)=>{const c=this.events.get(s);c&&(c.props.type=o,c.timestamp=Date.now(),this.events.set(s,c),this.shouldPersist=!0)}),In(this,"persist",async()=>{await this.core.storage.setItem(this.storageKey,Array.from(this.events.values())),this.shouldPersist=!1}),In(this,"restore",async()=>{try{const s=await this.core.storage.getItem(this.storageKey)||[];if(!s.length)return;s.forEach(o=>{this.events.set(o.eventId,Id(Id({},o),this.setMethods(o.eventId)))})}catch(s){this.logger.warn(s)}}),In(this,"submit",async()=>{if(!this.telemetryEnabled||this.events.size===0)return;const s=[];for(const[o,c]of this.events)c.props.type&&s.push(c);if(s.length!==0)try{if((await this.sendEvent(s)).ok)for(const o of s)this.events.delete(o.eventId),this.shouldPersist=!0}catch(o){this.logger.warn(o)}}),In(this,"sendEvent",async s=>{const o=this.getAppDomain()?"":"&sp=desktop";return await fetch(`${nie}?projectId=${this.core.projectId}&st=events_sdk&sv=js-${UE}${o}`,{method:"POST",body:JSON.stringify(s)})}),In(this,"getAppDomain",()=>_$().url),this.logger=br(n,this.context),this.telemetryEnabled=r,r?this.restore().then(async()=>{await this.submit(),this.setEventListeners()}):this.persist()}get storageKey(){return this.storagePrefix+this.storageVersion+this.core.customStoragePrefix+"//"+this.context}}var tce=Object.defineProperty,J8=Object.getOwnPropertySymbols,nce=Object.prototype.hasOwnProperty,rce=Object.prototype.propertyIsEnumerable,FE=(e,t,n)=>t in e?tce(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,e5=(e,t)=>{for(var n in t||(t={}))nce.call(t,n)&&FE(e,n,t[n]);if(J8)for(var n of J8(t))rce.call(t,n)&&FE(e,n,t[n]);return e},Pt=(e,t,n)=>FE(e,typeof t!="symbol"?t+"":t,n);let sce=class VU extends zK{constructor(t){var n;super(t),Pt(this,"protocol",IU),Pt(this,"version",OU),Pt(this,"name",$E),Pt(this,"relayUrl"),Pt(this,"projectId"),Pt(this,"customStoragePrefix"),Pt(this,"events",new Vs.EventEmitter),Pt(this,"logger"),Pt(this,"heartbeat"),Pt(this,"relayer"),Pt(this,"crypto"),Pt(this,"storage"),Pt(this,"history"),Pt(this,"expirer"),Pt(this,"pairing"),Pt(this,"verify"),Pt(this,"echoClient"),Pt(this,"linkModeSupportedApps"),Pt(this,"eventClient"),Pt(this,"initialized",!1),Pt(this,"logChunkController"),Pt(this,"on",(l,f)=>this.events.on(l,f)),Pt(this,"once",(l,f)=>this.events.once(l,f)),Pt(this,"off",(l,f)=>this.events.off(l,f)),Pt(this,"removeListener",(l,f)=>this.events.removeListener(l,f)),Pt(this,"dispatchEnvelope",({topic:l,message:f,sessionExists:d})=>{if(!l||!f)return;const p={topic:l,message:f,publishedAt:Date.now(),transportType:Wt.link_mode};this.relayer.onLinkMessageEvent(p,{sessionExists:d})});const r=this.getGlobalCore(t?.customStoragePrefix);if(r)try{return this.customStoragePrefix=r.customStoragePrefix,this.logger=r.logger,this.heartbeat=r.heartbeat,this.crypto=r.crypto,this.history=r.history,this.expirer=r.expirer,this.storage=r.storage,this.relayer=r.relayer,this.pairing=r.pairing,this.verify=r.verify,this.echoClient=r.echoClient,this.linkModeSupportedApps=r.linkModeSupportedApps,this.eventClient=r.eventClient,this.initialized=r.initialized,this.logChunkController=r.logChunkController,r}catch(l){console.warn("Failed to copy global core",l)}this.projectId=t?.projectId,this.relayUrl=t?.relayUrl||MU,this.customStoragePrefix=t!=null&&t.customStoragePrefix?`:${t.customStoragePrefix}`:"";const s=pg({level:typeof t?.logger=="string"&&t.logger?t.logger:Cse.logger,name:$E}),{logger:o,chunkLoggerController:c}=CM({opts:s,maxSizeInBytes:t?.maxLogBlobSizeInBytes,loggerOverride:t?.logger});this.logChunkController=c,(n=this.logChunkController)!=null&&n.downloadLogsBlobInBrowser&&(window.downloadLogsBlobInBrowser=async()=>{var l,f;(l=this.logChunkController)!=null&&l.downloadLogsBlobInBrowser&&((f=this.logChunkController)==null||f.downloadLogsBlobInBrowser({clientId:await this.crypto.getClientId()}))}),this.logger=br(o,this.name),this.heartbeat=new jW,this.crypto=new Doe(this,this.logger,t?.keychain),this.history=new zae(this,this.logger),this.expirer=new qae(this,this.logger),this.storage=t!=null&&t.storage?t.storage:new SK(e5(e5({},xse),t?.storageOptions)),this.relayer=new sae({core:this,logger:this.logger,relayUrl:this.relayUrl,projectId:this.projectId}),this.pairing=new Lae(this,this.logger),this.verify=new Kae(this,this.logger,this.storage),this.echoClient=new Xae(this.projectId||"",this.logger),this.linkModeSupportedApps=[],this.eventClient=new ece(this,this.logger,t?.telemetryEnabled),this.setGlobalCore(this)}static async init(t){const n=new VU(t);await n.initialize();const r=await n.crypto.getClientId();return await n.storage.setItem(Lse,r),n}get context(){return Fr(this.logger)}async start(){this.initialized||await this.initialize()}async getLogsBlob(){var t;return(t=this.logChunkController)==null?void 0:t.logsToBlob({clientId:await this.crypto.getClientId()})}async addLinkModeSupportedApp(t){this.linkModeSupportedApps.includes(t)||(this.linkModeSupportedApps.push(t),await this.storage.setItem($8,this.linkModeSupportedApps))}async initialize(){this.logger.trace("Initialized");try{await this.crypto.init(),await this.history.init(),await this.expirer.init(),await this.relayer.init(),await this.heartbeat.init(),await this.pairing.init(),this.linkModeSupportedApps=await this.storage.getItem($8)||[],this.initialized=!0,this.logger.info("Core Initialization Success")}catch(t){throw this.logger.warn(`Core Initialization Failure at epoch ${Date.now()}`,t),this.logger.error(t.message),t}}getGlobalCore(t=""){try{if(this.isGlobalCoreDisabled())return;const n=`_walletConnectCore_${t}`,r=`${n}_count`;return globalThis[r]=(globalThis[r]||0)+1,globalThis[r]>1&&console.warn(`WalletConnect Core is already initialized. This is probably a mistake and can lead to unexpected behavior. Init() was called ${globalThis[r]} times.`),globalThis[n]}catch(n){console.warn("Failed to get global WalletConnect core",n);return}}setGlobalCore(t){var n;try{if(this.isGlobalCoreDisabled())return;const r=`_walletConnectCore_${((n=t.opts)==null?void 0:n.customStoragePrefix)||""}`;globalThis[r]=t}catch(r){console.warn("Failed to set global WalletConnect core",r)}}isGlobalCoreDisabled(){try{return typeof process<"u"&&Ase.DISABLE_GLOBAL_CORE==="true"}catch{return!0}}};const ice=sce,WU="wc",KU=2,GU="client",ZA=`${WU}@${KU}:${GU}:`,Fv={name:GU,logger:"error"},t5="WALLETCONNECT_DEEPLINK_CHOICE",oce="proposal",n5="Proposal expired",ace="session",Wu=we.SEVEN_DAYS,cce="engine",On={wc_sessionPropose:{req:{ttl:we.FIVE_MINUTES,prompt:!0,tag:1100},res:{ttl:we.FIVE_MINUTES,prompt:!1,tag:1101},reject:{ttl:we.FIVE_MINUTES,prompt:!1,tag:1120},autoReject:{ttl:we.FIVE_MINUTES,prompt:!1,tag:1121}},wc_sessionSettle:{req:{ttl:we.FIVE_MINUTES,prompt:!1,tag:1102},res:{ttl:we.FIVE_MINUTES,prompt:!1,tag:1103}},wc_sessionUpdate:{req:{ttl:we.ONE_DAY,prompt:!1,tag:1104},res:{ttl:we.ONE_DAY,prompt:!1,tag:1105}},wc_sessionExtend:{req:{ttl:we.ONE_DAY,prompt:!1,tag:1106},res:{ttl:we.ONE_DAY,prompt:!1,tag:1107}},wc_sessionRequest:{req:{ttl:we.FIVE_MINUTES,prompt:!0,tag:1108},res:{ttl:we.FIVE_MINUTES,prompt:!1,tag:1109}},wc_sessionEvent:{req:{ttl:we.FIVE_MINUTES,prompt:!0,tag:1110},res:{ttl:we.FIVE_MINUTES,prompt:!1,tag:1111}},wc_sessionDelete:{req:{ttl:we.ONE_DAY,prompt:!1,tag:1112},res:{ttl:we.ONE_DAY,prompt:!1,tag:1113}},wc_sessionPing:{req:{ttl:we.ONE_DAY,prompt:!1,tag:1114},res:{ttl:we.ONE_DAY,prompt:!1,tag:1115}},wc_sessionAuthenticate:{req:{ttl:we.ONE_HOUR,prompt:!0,tag:1116},res:{ttl:we.ONE_HOUR,prompt:!1,tag:1117},reject:{ttl:we.FIVE_MINUTES,prompt:!1,tag:1118},autoReject:{ttl:we.FIVE_MINUTES,prompt:!1,tag:1119}}},qv={min:we.FIVE_MINUTES,max:we.SEVEN_DAYS},Pi={idle:"IDLE",active:"ACTIVE"},lce={eth_sendTransaction:{key:""},eth_sendRawTransaction:{key:""},wallet_sendCalls:{key:""},solana_signTransaction:{key:"signature"},solana_signAllTransactions:{key:"transactions"},solana_signAndSendTransaction:{key:"signature"},sui_signAndExecuteTransaction:{key:"digest"},sui_signTransaction:{key:""},hedera_signAndExecuteTransaction:{key:"transactionId"},hedera_executeTransaction:{key:"transactionId"},near_signTransaction:{key:""},near_signTransactions:{key:""},tron_signTransaction:{key:"txID"},xrpl_signTransaction:{key:""},xrpl_signTransactionFor:{key:""},algo_signTxn:{key:""},sendTransfer:{key:"txid"},stacks_stxTransfer:{key:"txId"},polkadot_signTransaction:{key:""},cosmos_signDirect:{key:""}},uce="request",fce=["wc_sessionPropose","wc_sessionRequest","wc_authRequest","wc_sessionAuthenticate"],hce="wc",dce="auth",pce="authKeys",gce="pairingTopics",mce="requests",ow=`${hce}@${1.5}:${dce}:`,F0=`${ow}:PUB_KEY`;var yce=Object.defineProperty,wce=Object.defineProperties,bce=Object.getOwnPropertyDescriptors,r5=Object.getOwnPropertySymbols,vce=Object.prototype.hasOwnProperty,Ece=Object.prototype.propertyIsEnumerable,qE=(e,t,n)=>t in e?yce(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Vt=(e,t)=>{for(var n in t||(t={}))vce.call(t,n)&&qE(e,n,t[n]);if(r5)for(var n of r5(t))Ece.call(t,n)&&qE(e,n,t[n]);return e},Ir=(e,t)=>wce(e,bce(t)),de=(e,t,n)=>qE(e,typeof t!="symbol"?t+"":t,n);class Sce extends sG{constructor(t){super(t),de(this,"name",cce),de(this,"events",new AA),de(this,"initialized",!1),de(this,"requestQueue",{state:Pi.idle,queue:[]}),de(this,"sessionRequestQueue",{state:Pi.idle,queue:[]}),de(this,"emittedSessionRequests",new hee({limit:500})),de(this,"requestQueueDelay",we.ONE_SECOND),de(this,"expectedPairingMethodMap",new Map),de(this,"recentlyDeletedMap",new Map),de(this,"recentlyDeletedLimit",200),de(this,"relayMessageCache",[]),de(this,"pendingSessions",new Map),de(this,"init",async()=>{this.initialized||(await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.registerPairingEvents(),await this.registerLinkModeListeners(),this.client.core.pairing.register({methods:Object.keys(On)}),this.initialized=!0,setTimeout(async()=>{await this.processPendingMessageEvents(),this.sessionRequestQueue.queue=this.getPendingSessionRequests(),this.processSessionRequestQueue()},we.toMiliseconds(this.requestQueueDelay)))}),de(this,"connect",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();const r=Ir(Vt({},n),{requiredNamespaces:n.requiredNamespaces||{},optionalNamespaces:n.optionalNamespaces||{}});await this.isValidConnect(r),r.optionalNamespaces=dre(r.requiredNamespaces,r.optionalNamespaces),r.requiredNamespaces={};const{pairingTopic:s,requiredNamespaces:o,optionalNamespaces:c,sessionProperties:l,scopedProperties:f,relays:d}=r;let p=s,g,y=!1;try{if(p){const I=this.client.core.pairing.pairings.get(p);this.client.logger.warn("connect() with existing pairing topic is deprecated and will be removed in the next major release."),y=I.active}}catch(I){throw this.client.logger.error(`connect() -> pairing.get(${p}) failed`),I}if(!p||!y){const{topic:I,uri:R}=await this.client.core.pairing.create();p=I,g=R}if(!p){const{message:I}=ye("NO_MATCHING_KEY",`connect() pairing topic: ${p}`);throw new Error(I)}const b=await this.client.core.crypto.generateKeyPair(),v=On.wc_sessionPropose.req.ttl||we.FIVE_MINUTES,E=Nn(v),S=Ir(Vt(Vt({requiredNamespaces:o,optionalNamespaces:c,relays:d??[{protocol:DU}],proposer:{publicKey:b,metadata:this.client.metadata},expiryTimestamp:E,pairingTopic:p},l&&{sessionProperties:l}),f&&{scopedProperties:f}),{id:ki()}),C=wt("session_connect",S.id),{reject:O,resolve:x,done:N}=sl(v,n5),T=({id:I})=>{I===S.id&&(this.client.events.off("proposal_expire",T),this.pendingSessions.delete(S.id),this.events.emit(C,{error:{message:n5,code:0}}))};return this.client.events.on("proposal_expire",T),this.events.once(C,({error:I,session:R})=>{this.client.events.off("proposal_expire",T),I?O(I):R&&x(R)}),await this.sendRequest({topic:p,method:"wc_sessionPropose",params:S,throwOnFailedPublish:!0,clientRpcId:S.id}),await this.setProposal(S.id,S),{uri:g,approval:N}}),de(this,"pair",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{return await this.client.core.pairing.pair(n)}catch(r){throw this.client.logger.error("pair() failed"),r}}),de(this,"approve",async n=>{var r,s,o;const c=this.client.core.eventClient.createEvent({properties:{topic:(r=n?.id)==null?void 0:r.toString(),trace:[si.session_approve_started]}});try{this.isInitialized(),await this.confirmOnlineStateOrThrow()}catch(U){throw c.setError(Qc.no_internet_connection),U}try{await this.isValidProposalId(n?.id)}catch(U){throw this.client.logger.error(`approve() -> proposal.get(${n?.id}) failed`),c.setError(Qc.proposal_not_found),U}try{await this.isValidApprove(n)}catch(U){throw this.client.logger.error("approve() -> isValidApprove() failed"),c.setError(Qc.session_approve_namespace_validation_failure),U}const{id:l,relayProtocol:f,namespaces:d,sessionProperties:p,scopedProperties:g,sessionConfig:y}=n,b=this.client.proposal.get(l);this.client.core.eventClient.deleteEvent({eventId:c.eventId});const{pairingTopic:v,proposer:E,requiredNamespaces:S,optionalNamespaces:C}=b;let O=(s=this.client.core.eventClient)==null?void 0:s.getEvent({topic:v});O||(O=(o=this.client.core.eventClient)==null?void 0:o.createEvent({type:si.session_approve_started,properties:{topic:v,trace:[si.session_approve_started,si.session_namespaces_validation_success]}}));const x=await this.client.core.crypto.generateKeyPair(),N=E.publicKey,T=await this.client.core.crypto.generateSharedKey(x,N),I=Vt(Vt(Vt({relay:{protocol:f??"irn"},namespaces:d,controller:{publicKey:x,metadata:this.client.metadata},expiry:Nn(Wu)},p&&{sessionProperties:p}),g&&{scopedProperties:g}),y&&{sessionConfig:y}),R=Wt.relay;O.addTrace(si.subscribing_session_topic);try{await this.client.core.relayer.subscribe(T,{transportType:R})}catch(U){throw O.setError(Qc.subscribe_session_topic_failure),U}O.addTrace(si.subscribe_session_topic_success);const L=Ir(Vt({},I),{topic:T,requiredNamespaces:S,optionalNamespaces:C,pairingTopic:v,acknowledged:!1,self:I.controller,peer:{publicKey:E.publicKey,metadata:E.metadata},controller:x,transportType:Wt.relay});await this.client.session.set(T,L),O.addTrace(si.store_session);try{O.addTrace(si.publishing_session_settle),await this.sendRequest({topic:T,method:"wc_sessionSettle",params:I,throwOnFailedPublish:!0}).catch(U=>{throw O?.setError(Qc.session_settle_publish_failure),U}),O.addTrace(si.session_settle_publish_success),O.addTrace(si.publishing_session_approve),await this.sendResult({id:l,topic:v,result:{relay:{protocol:f??"irn"},responderPublicKey:x},throwOnFailedPublish:!0}).catch(U=>{throw O?.setError(Qc.session_approve_publish_failure),U}),O.addTrace(si.session_approve_publish_success)}catch(U){throw this.client.logger.error(U),this.client.session.delete(T,Yt("USER_DISCONNECTED")),await this.client.core.relayer.unsubscribe(T),U}return this.client.core.eventClient.deleteEvent({eventId:O.eventId}),await this.client.core.pairing.updateMetadata({topic:v,metadata:E.metadata}),await this.deleteProposal(l),await this.client.core.pairing.activate({topic:v}),await this.setExpiry(T,Nn(Wu)),{topic:T,acknowledged:()=>Promise.resolve(this.client.session.get(T))}}),de(this,"reject",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidReject(n)}catch(c){throw this.client.logger.error("reject() -> isValidReject() failed"),c}const{id:r,reason:s}=n;let o;try{o=this.client.proposal.get(r).pairingTopic}catch(c){throw this.client.logger.error(`reject() -> proposal.get(${r}) failed`),c}o&&await this.sendError({id:r,topic:o,error:s,rpcOpts:On.wc_sessionPropose.reject}),await this.deleteProposal(r)}),de(this,"update",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidUpdate(n)}catch(g){throw this.client.logger.error("update() -> isValidUpdate() failed"),g}const{topic:r,namespaces:s}=n,{done:o,resolve:c,reject:l}=sl(),f=ki(),d=bl().toString(),p=this.client.session.get(r).namespaces;return this.events.once(wt("session_update",f),({error:g})=>{g?l(g):c()}),await this.client.session.update(r,{namespaces:s}),await this.sendRequest({topic:r,method:"wc_sessionUpdate",params:{namespaces:s},throwOnFailedPublish:!0,clientRpcId:f,relayRpcId:d}).catch(g=>{this.client.logger.error(g),this.client.session.update(r,{namespaces:p}),l(g)}),{acknowledged:o}}),de(this,"extend",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidExtend(n)}catch(f){throw this.client.logger.error("extend() -> isValidExtend() failed"),f}const{topic:r}=n,s=ki(),{done:o,resolve:c,reject:l}=sl();return this.events.once(wt("session_extend",s),({error:f})=>{f?l(f):c()}),await this.setExpiry(r,Nn(Wu)),this.sendRequest({topic:r,method:"wc_sessionExtend",params:{},clientRpcId:s,throwOnFailedPublish:!0}).catch(f=>{l(f)}),{acknowledged:o}}),de(this,"request",async n=>{this.isInitialized();try{await this.isValidRequest(n)}catch(S){throw this.client.logger.error("request() -> isValidRequest() failed"),S}const{chainId:r,request:s,topic:o,expiry:c=On.wc_sessionRequest.req.ttl}=n,l=this.client.session.get(o);l?.transportType===Wt.relay&&await this.confirmOnlineStateOrThrow();const f=ki(),d=bl().toString(),{done:p,resolve:g,reject:y}=sl(c,"Request expired. Please try again.");this.events.once(wt("session_request",f),({error:S,result:C})=>{S?y(S):g(C)});const b="wc_sessionRequest",v=this.getAppLinkIfEnabled(l.peer.metadata,l.transportType);if(v)return await this.sendRequest({clientRpcId:f,relayRpcId:d,topic:o,method:b,params:{request:Ir(Vt({},s),{expiryTimestamp:Nn(c)}),chainId:r},expiry:c,throwOnFailedPublish:!0,appLink:v}).catch(S=>y(S)),this.client.events.emit("session_request_sent",{topic:o,request:s,chainId:r,id:f}),await p();const E={request:Ir(Vt({},s),{expiryTimestamp:Nn(c)}),chainId:r};return await Promise.all([new Promise(async S=>{await this.sendRequest({clientRpcId:f,relayRpcId:d,topic:o,method:b,params:E,expiry:c,throwOnFailedPublish:!0,tvf:this.getTVFParams(f,E)}).catch(C=>y(C)),this.client.events.emit("session_request_sent",{topic:o,request:s,chainId:r,id:f}),S()}),new Promise(async S=>{var C;if(!((C=l.sessionConfig)!=null&&C.disableDeepLink)){const O=await aee(this.client.core.storage,t5);await see({id:f,topic:o,wcDeepLink:O})}S()}),p()]).then(S=>S[2])}),de(this,"respond",async n=>{this.isInitialized(),await this.isValidRespond(n);const{topic:r,response:s}=n,{id:o}=s,c=this.client.session.get(r);c.transportType===Wt.relay&&await this.confirmOnlineStateOrThrow();const l=this.getAppLinkIfEnabled(c.peer.metadata,c.transportType);ji(s)?await this.sendResult({id:o,topic:r,result:s.result,throwOnFailedPublish:!0,appLink:l}):Bs(s)&&await this.sendError({id:o,topic:r,error:s.error,appLink:l}),this.cleanupAfterResponse(n)}),de(this,"ping",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidPing(n)}catch(s){throw this.client.logger.error("ping() -> isValidPing() failed"),s}const{topic:r}=n;if(this.client.session.keys.includes(r)){const s=ki(),o=bl().toString(),{done:c,resolve:l,reject:f}=sl();this.events.once(wt("session_ping",s),({error:d})=>{d?f(d):l()}),await Promise.all([this.sendRequest({topic:r,method:"wc_sessionPing",params:{},throwOnFailedPublish:!0,clientRpcId:s,relayRpcId:o}),c()])}else this.client.core.pairing.pairings.keys.includes(r)&&(this.client.logger.warn("ping() on pairing topic is deprecated and will be removed in the next major release."),await this.client.core.pairing.ping({topic:r}))}),de(this,"emit",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow(),await this.isValidEmit(n);const{topic:r,event:s,chainId:o}=n,c=bl().toString(),l=ki();await this.sendRequest({topic:r,method:"wc_sessionEvent",params:{event:s,chainId:o},throwOnFailedPublish:!0,relayRpcId:c,clientRpcId:l})}),de(this,"disconnect",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow(),await this.isValidDisconnect(n);const{topic:r}=n;if(this.client.session.keys.includes(r))await this.sendRequest({topic:r,method:"wc_sessionDelete",params:Yt("USER_DISCONNECTED"),throwOnFailedPublish:!0}),await this.deleteSession({topic:r,emitEvent:!1});else if(this.client.core.pairing.pairings.keys.includes(r))await this.client.core.pairing.disconnect({topic:r});else{const{message:s}=ye("MISMATCHED_TOPIC",`Session or pairing topic not found: ${r}`);throw new Error(s)}}),de(this,"find",n=>(this.isInitialized(),this.client.session.getAll().filter(r=>mre(r,n)))),de(this,"getPendingSessionRequests",()=>this.client.pendingRequest.getAll()),de(this,"authenticate",async(n,r)=>{var s;this.isInitialized(),this.isValidAuthenticate(n);const o=r&&this.client.core.linkModeSupportedApps.includes(r)&&((s=this.client.metadata.redirect)==null?void 0:s.linkMode),c=o?Wt.link_mode:Wt.relay;c===Wt.relay&&await this.confirmOnlineStateOrThrow();const{chains:l,statement:f="",uri:d,domain:p,nonce:g,type:y,exp:b,nbf:v,methods:E=[],expiry:S}=n,C=[...n.resources||[]],{topic:O,uri:x}=await this.client.core.pairing.create({methods:["wc_sessionAuthenticate"],transportType:c});this.client.logger.info({message:"Generated new pairing",pairing:{topic:O,uri:x}});const N=await this.client.core.crypto.generateKeyPair(),T=z0(N);if(await Promise.all([this.client.auth.authKeys.set(F0,{responseTopic:T,publicKey:N}),this.client.auth.pairingTopics.set(T,{topic:T,pairingTopic:O})]),await this.client.core.relayer.subscribe(T,{transportType:c}),this.client.logger.info(`sending request to new pairing topic: ${O}`),E.length>0){const{namespace:W}=_f(l[0]);let V=Ate(W,"request",E);j0(C)&&(V=xte(V,C.pop())),C.push(V)}const I=S&&S>On.wc_sessionAuthenticate.req.ttl?S:On.wc_sessionAuthenticate.req.ttl,R={authPayload:{type:y??"caip122",chains:l,statement:f,aud:d,domain:p,version:"1",nonce:g,iat:new Date().toISOString(),exp:b,nbf:v,resources:C},requester:{publicKey:N,metadata:this.client.metadata},expiryTimestamp:Nn(I)},L={eip155:{chains:l,methods:[...new Set(["personal_sign",...E])],events:["chainChanged","accountsChanged"]}},U={requiredNamespaces:{},optionalNamespaces:L,relays:[{protocol:"irn"}],pairingTopic:O,proposer:{publicKey:N,metadata:this.client.metadata},expiryTimestamp:Nn(On.wc_sessionPropose.req.ttl),id:ki()},{done:D,resolve:B,reject:H}=sl(I,"Request expired"),X=ki(),Y=wt("session_connect",U.id),M=wt("session_request",X),_=async({error:W,session:V})=>{this.events.off(M,j),W?H(W):V&&B({session:V})},j=async W=>{var V,P,G;if(await this.deletePendingAuthRequest(X,{message:"fulfilled",code:0}),W.error){const Ie=Yt("WC_METHOD_UNSUPPORTED","wc_sessionAuthenticate");return W.error.code===Ie.code?void 0:(this.events.off(Y,_),H(W.error.message))}await this.deleteProposal(U.id),this.events.off(Y,_);const{cacaos:te,responder:se}=W.result,ue=[],pe=[];for(const Ie of te){await VI({cacao:Ie,projectId:this.client.core.projectId})||(this.client.logger.error(Ie,"Signature verification failed"),H(Yt("SESSION_SETTLEMENT_FAILED","Signature verification failed")));const{p:Et}=Ie,jt=j0(Et.resources),Vr=[SE(Et.iss)],ro=vy(Et.iss);if(jt){const Rn=WI(jt),bi=KI(jt);ue.push(...Rn),Vr.push(...bi)}for(const Rn of Vr)pe.push(`${Rn}:${ro}`)}const Te=await this.client.core.crypto.generateSharedKey(N,se.publicKey);let ke;ue.length>0&&(ke={topic:Te,acknowledged:!0,self:{publicKey:N,metadata:this.client.metadata},peer:se,controller:se.publicKey,expiry:Nn(Wu),requiredNamespaces:{},optionalNamespaces:{},relay:{protocol:"irn"},pairingTopic:O,namespaces:y8([...new Set(ue)],[...new Set(pe)]),transportType:c},await this.client.core.relayer.subscribe(Te,{transportType:c}),await this.client.session.set(Te,ke),O&&await this.client.core.pairing.updateMetadata({topic:O,metadata:se.metadata}),ke=this.client.session.get(Te)),(V=this.client.metadata.redirect)!=null&&V.linkMode&&(P=se.metadata.redirect)!=null&&P.linkMode&&(G=se.metadata.redirect)!=null&&G.universal&&r&&(this.client.core.addLinkModeSupportedApp(se.metadata.redirect.universal),this.client.session.update(Te,{transportType:Wt.link_mode})),B({auths:te,session:ke})};this.events.once(Y,_),this.events.once(M,j);let q;try{if(o){const W=nc("wc_sessionAuthenticate",R,X);this.client.core.history.set(O,W);const V=await this.client.core.crypto.encode("",W,{type:vg,encoding:Za});q=g0(r,O,V)}else await Promise.all([this.sendRequest({topic:O,method:"wc_sessionAuthenticate",params:R,expiry:n.expiry,throwOnFailedPublish:!0,clientRpcId:X}),this.sendRequest({topic:O,method:"wc_sessionPropose",params:U,expiry:On.wc_sessionPropose.req.ttl,throwOnFailedPublish:!0,clientRpcId:U.id})])}catch(W){throw this.events.off(Y,_),this.events.off(M,j),W}return await this.setProposal(U.id,U),await this.setAuthRequest(X,{request:Ir(Vt({},R),{verifyContext:{}}),pairingTopic:O,transportType:c}),{uri:q??x,response:D}}),de(this,"approveSessionAuthenticate",async n=>{const{id:r,auths:s}=n,o=this.client.core.eventClient.createEvent({properties:{topic:r.toString(),trace:[Jc.authenticated_session_approve_started]}});try{this.isInitialized()}catch(S){throw o.setError(Td.no_internet_connection),S}const c=this.getPendingAuthRequest(r);if(!c)throw o.setError(Td.authenticated_session_pending_request_not_found),new Error(`Could not find pending auth request with id ${r}`);const l=c.transportType||Wt.relay;l===Wt.relay&&await this.confirmOnlineStateOrThrow();const f=c.requester.publicKey,d=await this.client.core.crypto.generateKeyPair(),p=z0(f),g={type:Fo,receiverPublicKey:f,senderPublicKey:d},y=[],b=[];for(const S of s){if(!await VI({cacao:S,projectId:this.client.core.projectId})){o.setError(Td.invalid_cacao);const T=Yt("SESSION_SETTLEMENT_FAILED","Signature verification failed");throw await this.sendError({id:r,topic:p,error:T,encodeOpts:g}),new Error(T.message)}o.addTrace(Jc.cacaos_verified);const{p:C}=S,O=j0(C.resources),x=[SE(C.iss)],N=vy(C.iss);if(O){const T=WI(O),I=KI(O);y.push(...T),x.push(...I)}for(const T of x)b.push(`${T}:${N}`)}const v=await this.client.core.crypto.generateSharedKey(d,f);o.addTrace(Jc.create_authenticated_session_topic);let E;if(y?.length>0){E={topic:v,acknowledged:!0,self:{publicKey:d,metadata:this.client.metadata},peer:{publicKey:f,metadata:c.requester.metadata},controller:f,expiry:Nn(Wu),authentication:s,requiredNamespaces:{},optionalNamespaces:{},relay:{protocol:"irn"},pairingTopic:c.pairingTopic,namespaces:y8([...new Set(y)],[...new Set(b)]),transportType:l},o.addTrace(Jc.subscribing_authenticated_session_topic);try{await this.client.core.relayer.subscribe(v,{transportType:l})}catch(S){throw o.setError(Td.subscribe_authenticated_session_topic_failure),S}o.addTrace(Jc.subscribe_authenticated_session_topic_success),await this.client.session.set(v,E),o.addTrace(Jc.store_authenticated_session),await this.client.core.pairing.updateMetadata({topic:c.pairingTopic,metadata:c.requester.metadata})}o.addTrace(Jc.publishing_authenticated_session_approve);try{await this.sendResult({topic:p,id:r,result:{cacaos:s,responder:{publicKey:d,metadata:this.client.metadata}},encodeOpts:g,throwOnFailedPublish:!0,appLink:this.getAppLinkIfEnabled(c.requester.metadata,l)})}catch(S){throw o.setError(Td.authenticated_session_approve_publish_failure),S}return await this.client.auth.requests.delete(r,{message:"fulfilled",code:0}),await this.client.core.pairing.activate({topic:c.pairingTopic}),this.client.core.eventClient.deleteEvent({eventId:o.eventId}),{session:E}}),de(this,"rejectSessionAuthenticate",async n=>{this.isInitialized();const{id:r,reason:s}=n,o=this.getPendingAuthRequest(r);if(!o)throw new Error(`Could not find pending auth request with id ${r}`);o.transportType===Wt.relay&&await this.confirmOnlineStateOrThrow();const c=o.requester.publicKey,l=await this.client.core.crypto.generateKeyPair(),f=z0(c),d={type:Fo,receiverPublicKey:c,senderPublicKey:l};await this.sendError({id:r,topic:f,error:s,encodeOpts:d,rpcOpts:On.wc_sessionAuthenticate.reject,appLink:this.getAppLinkIfEnabled(o.requester.metadata,o.transportType)}),await this.client.auth.requests.delete(r,{message:"rejected",code:0}),await this.deleteProposal(r)}),de(this,"formatAuthMessage",n=>{this.isInitialized();const{request:r,iss:s}=n;return W$(r,s)}),de(this,"processRelayMessageCache",()=>{setTimeout(async()=>{if(this.relayMessageCache.length!==0)for(;this.relayMessageCache.length>0;)try{const n=this.relayMessageCache.shift();n&&await this.onRelayMessage(n)}catch(n){this.client.logger.error(n)}},50)}),de(this,"cleanupDuplicatePairings",async n=>{if(n.pairingTopic)try{const r=this.client.core.pairing.pairings.get(n.pairingTopic),s=this.client.core.pairing.pairings.getAll().filter(o=>{var c,l;return((c=o.peerMetadata)==null?void 0:c.url)&&((l=o.peerMetadata)==null?void 0:l.url)===n.peer.metadata.url&&o.topic&&o.topic!==r.topic});if(s.length===0)return;this.client.logger.info(`Cleaning up ${s.length} duplicate pairing(s)`),await Promise.all(s.map(o=>this.client.core.pairing.disconnect({topic:o.topic}))),this.client.logger.info("Duplicate pairings clean up finished")}catch(r){this.client.logger.error(r)}}),de(this,"deleteSession",async n=>{var r;const{topic:s,expirerHasDeleted:o=!1,emitEvent:c=!0,id:l=0}=n,{self:f}=this.client.session.get(s);await this.client.core.relayer.unsubscribe(s),await this.client.session.delete(s,Yt("USER_DISCONNECTED")),this.addToRecentlyDeleted(s,"session"),this.client.core.crypto.keychain.has(f.publicKey)&&await this.client.core.crypto.deleteKeyPair(f.publicKey),this.client.core.crypto.keychain.has(s)&&await this.client.core.crypto.deleteSymKey(s),o||this.client.core.expirer.del(s),this.client.core.storage.removeItem(t5).catch(d=>this.client.logger.warn(d)),this.getPendingSessionRequests().forEach(d=>{d.topic===s&&this.deletePendingSessionRequest(d.id,Yt("USER_DISCONNECTED"))}),s===((r=this.sessionRequestQueue.queue[0])==null?void 0:r.topic)&&(this.sessionRequestQueue.state=Pi.idle),c&&this.client.events.emit("session_delete",{id:l,topic:s})}),de(this,"deleteProposal",async(n,r)=>{if(r)try{const s=this.client.proposal.get(n);this.client.core.eventClient.getEvent({topic:s.pairingTopic})?.setError(Qc.proposal_expired)}catch{}await Promise.all([this.client.proposal.delete(n,Yt("USER_DISCONNECTED")),r?Promise.resolve():this.client.core.expirer.del(n)]),this.addToRecentlyDeleted(n,"proposal")}),de(this,"deletePendingSessionRequest",async(n,r,s=!1)=>{await Promise.all([this.client.pendingRequest.delete(n,r),s?Promise.resolve():this.client.core.expirer.del(n)]),this.addToRecentlyDeleted(n,"request"),this.sessionRequestQueue.queue=this.sessionRequestQueue.queue.filter(o=>o.id!==n),s&&(this.sessionRequestQueue.state=Pi.idle,this.client.events.emit("session_request_expire",{id:n}))}),de(this,"deletePendingAuthRequest",async(n,r,s=!1)=>{await Promise.all([this.client.auth.requests.delete(n,r),s?Promise.resolve():this.client.core.expirer.del(n)])}),de(this,"setExpiry",async(n,r)=>{this.client.session.keys.includes(n)&&(this.client.core.expirer.set(n,r),await this.client.session.update(n,{expiry:r}))}),de(this,"setProposal",async(n,r)=>{this.client.core.expirer.set(n,Nn(On.wc_sessionPropose.req.ttl)),await this.client.proposal.set(n,r)}),de(this,"setAuthRequest",async(n,r)=>{const{request:s,pairingTopic:o,transportType:c=Wt.relay}=r;this.client.core.expirer.set(n,s.expiryTimestamp),await this.client.auth.requests.set(n,{authPayload:s.authPayload,requester:s.requester,expiryTimestamp:s.expiryTimestamp,id:n,pairingTopic:o,verifyContext:s.verifyContext,transportType:c})}),de(this,"setPendingSessionRequest",async n=>{const{id:r,topic:s,params:o,verifyContext:c}=n,l=o.request.expiryTimestamp||Nn(On.wc_sessionRequest.req.ttl);this.client.core.expirer.set(r,l),await this.client.pendingRequest.set(r,{id:r,topic:s,params:o,verifyContext:c})}),de(this,"sendRequest",async n=>{const{topic:r,method:s,params:o,expiry:c,relayRpcId:l,clientRpcId:f,throwOnFailedPublish:d,appLink:p,tvf:g}=n,y=nc(s,o,f);let b;const v=!!p;try{const C=v?Za:pi;b=await this.client.core.crypto.encode(r,y,{encoding:C})}catch(C){throw await this.cleanup(),this.client.logger.error(`sendRequest() -> core.crypto.encode() for topic ${r} failed`),C}let E;if(fce.includes(s)){const C=zi(JSON.stringify(y)),O=zi(b);E=await this.client.core.verify.register({id:O,decryptedId:C})}const S=On[s].req;if(S.attestation=E,c&&(S.ttl=c),l&&(S.id=l),this.client.core.history.set(r,y),v){const C=g0(p,r,b);await global.Linking.openURL(C,this.client.name)}else{const C=On[s].req;c&&(C.ttl=c),l&&(C.id=l),C.tvf=Ir(Vt({},g),{correlationId:y.id}),d?(C.internal=Ir(Vt({},C.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(r,b,C)):this.client.core.relayer.publish(r,b,C).catch(O=>this.client.logger.error(O))}return y.id}),de(this,"sendResult",async n=>{const{id:r,topic:s,result:o,throwOnFailedPublish:c,encodeOpts:l,appLink:f}=n,d=nw(r,o);let p;const g=f&&typeof(global==null?void 0:global.Linking)<"u";try{const v=g?Za:pi;p=await this.client.core.crypto.encode(s,d,Ir(Vt({},l||{}),{encoding:v}))}catch(v){throw await this.cleanup(),this.client.logger.error(`sendResult() -> core.crypto.encode() for topic ${s} failed`),v}let y,b;try{y=await this.client.core.history.get(s,r);const v=y.request;try{b=this.getTVFParams(r,v.params,o)}catch(E){this.client.logger.warn(`sendResult() -> getTVFParams() failed: ${E?.message}`)}}catch(v){throw this.client.logger.error(`sendResult() -> history.get(${s}, ${r}) failed`),v}if(g){const v=g0(f,s,p);await global.Linking.openURL(v,this.client.name)}else{const v=y.request.method,E=On[v].res;E.tvf=Ir(Vt({},b),{correlationId:r}),c?(E.internal=Ir(Vt({},E.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(s,p,E)):this.client.core.relayer.publish(s,p,E).catch(S=>this.client.logger.error(S))}await this.client.core.history.resolve(d)}),de(this,"sendError",async n=>{const{id:r,topic:s,error:o,encodeOpts:c,rpcOpts:l,appLink:f}=n,d=rw(r,o);let p;const g=f&&typeof(global==null?void 0:global.Linking)<"u";try{const b=g?Za:pi;p=await this.client.core.crypto.encode(s,d,Ir(Vt({},c||{}),{encoding:b}))}catch(b){throw await this.cleanup(),this.client.logger.error(`sendError() -> core.crypto.encode() for topic ${s} failed`),b}let y;try{y=await this.client.core.history.get(s,r)}catch(b){throw this.client.logger.error(`sendError() -> history.get(${s}, ${r}) failed`),b}if(g){const b=g0(f,s,p);await global.Linking.openURL(b,this.client.name)}else{const b=y.request.method,v=l||On[b].res;this.client.core.relayer.publish(s,p,v)}await this.client.core.history.resolve(d)}),de(this,"cleanup",async()=>{const n=[],r=[];this.client.session.getAll().forEach(s=>{let o=!1;Wa(s.expiry)&&(o=!0),this.client.core.crypto.keychain.has(s.topic)||(o=!0),o&&n.push(s.topic)}),this.client.proposal.getAll().forEach(s=>{Wa(s.expiryTimestamp)&&r.push(s.id)}),await Promise.all([...n.map(s=>this.deleteSession({topic:s})),...r.map(s=>this.deleteProposal(s))])}),de(this,"onProviderMessageEvent",async n=>{!this.initialized||this.relayMessageCache.length>0?this.relayMessageCache.push(n):await this.onRelayMessage(n)}),de(this,"onRelayEventRequest",async n=>{this.requestQueue.queue.push(n),await this.processRequestsQueue()}),de(this,"processRequestsQueue",async()=>{if(this.requestQueue.state===Pi.active){this.client.logger.info("Request queue already active, skipping...");return}for(this.client.logger.info(`Request queue starting with ${this.requestQueue.queue.length} requests`);this.requestQueue.queue.length>0;){this.requestQueue.state=Pi.active;const n=this.requestQueue.queue.shift();if(n)try{await this.processRequest(n)}catch(r){this.client.logger.warn(r)}}this.requestQueue.state=Pi.idle}),de(this,"processRequest",async n=>{const{topic:r,payload:s,attestation:o,transportType:c,encryptedId:l}=n,f=s.method;if(!this.shouldIgnorePairingRequest({topic:r,requestMethod:f}))switch(f){case"wc_sessionPropose":return await this.onSessionProposeRequest({topic:r,payload:s,attestation:o,encryptedId:l});case"wc_sessionSettle":return await this.onSessionSettleRequest(r,s);case"wc_sessionUpdate":return await this.onSessionUpdateRequest(r,s);case"wc_sessionExtend":return await this.onSessionExtendRequest(r,s);case"wc_sessionPing":return await this.onSessionPingRequest(r,s);case"wc_sessionDelete":return await this.onSessionDeleteRequest(r,s);case"wc_sessionRequest":return await this.onSessionRequest({topic:r,payload:s,attestation:o,encryptedId:l,transportType:c});case"wc_sessionEvent":return await this.onSessionEventRequest(r,s);case"wc_sessionAuthenticate":return await this.onSessionAuthenticateRequest({topic:r,payload:s,attestation:o,encryptedId:l,transportType:c});default:return this.client.logger.info(`Unsupported request method ${f}`)}}),de(this,"onRelayEventResponse",async n=>{const{topic:r,payload:s,transportType:o}=n,c=(await this.client.core.history.get(r,s.id)).request.method;switch(c){case"wc_sessionPropose":return this.onSessionProposeResponse(r,s,o);case"wc_sessionSettle":return this.onSessionSettleResponse(r,s);case"wc_sessionUpdate":return this.onSessionUpdateResponse(r,s);case"wc_sessionExtend":return this.onSessionExtendResponse(r,s);case"wc_sessionPing":return this.onSessionPingResponse(r,s);case"wc_sessionRequest":return this.onSessionRequestResponse(r,s);case"wc_sessionAuthenticate":return this.onSessionAuthenticateResponse(r,s);default:return this.client.logger.info(`Unsupported response method ${c}`)}}),de(this,"onRelayEventUnknownPayload",n=>{const{topic:r}=n,{message:s}=ye("MISSING_OR_INVALID",`Decoded payload on topic ${r} is not identifiable as a JSON-RPC request or a response.`);throw new Error(s)}),de(this,"shouldIgnorePairingRequest",n=>{const{topic:r,requestMethod:s}=n,o=this.expectedPairingMethodMap.get(r);return!o||o.includes(s)?!1:!!(o.includes("wc_sessionAuthenticate")&&this.client.events.listenerCount("session_authenticate")>0)}),de(this,"onSessionProposeRequest",async n=>{const{topic:r,payload:s,attestation:o,encryptedId:c}=n,{params:l,id:f}=s;try{const d=this.client.core.eventClient.getEvent({topic:r});this.client.events.listenerCount("session_proposal")===0&&(console.warn("No listener for session_proposal event"),d?.setError(ko.proposal_listener_not_found)),this.isValidConnect(Vt({},s.params));const p=l.expiryTimestamp||Nn(On.wc_sessionPropose.req.ttl),g=Vt({id:f,pairingTopic:r,expiryTimestamp:p,attestation:o,encryptedId:c},l);await this.setProposal(f,g);const y=await this.getVerifyContext({attestationId:o,hash:zi(JSON.stringify(s)),encryptedId:c,metadata:g.proposer.metadata});d?.addTrace(Li.emit_session_proposal),this.client.events.emit("session_proposal",{id:f,params:g,verifyContext:y})}catch(d){await this.sendError({id:f,topic:r,error:d,rpcOpts:On.wc_sessionPropose.autoReject}),this.client.logger.error(d)}}),de(this,"onSessionProposeResponse",async(n,r,s)=>{const{id:o}=r;if(ji(r)){const{result:c}=r;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",result:c});const l=this.client.proposal.get(o);this.client.logger.trace({type:"method",method:"onSessionProposeResponse",proposal:l});const f=l.proposer.publicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",selfPublicKey:f});const d=c.responderPublicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",peerPublicKey:d});const p=await this.client.core.crypto.generateSharedKey(f,d);this.pendingSessions.set(o,{sessionTopic:p,pairingTopic:n,proposalId:o,publicKey:f});const g=await this.client.core.relayer.subscribe(p,{transportType:s});this.client.logger.trace({type:"method",method:"onSessionProposeResponse",subscriptionId:g}),await this.client.core.pairing.activate({topic:n})}else if(Bs(r)){await this.deleteProposal(o);const c=wt("session_connect",o);if(this.events.listenerCount(c)===0)throw new Error(`emitting ${c} without any listeners, 954`);this.events.emit(c,{error:r.error})}}),de(this,"onSessionSettleRequest",async(n,r)=>{const{id:s,params:o}=r;try{this.isValidSessionSettleRequest(o);const{relay:c,controller:l,expiry:f,namespaces:d,sessionProperties:p,scopedProperties:g,sessionConfig:y}=r.params,b=[...this.pendingSessions.values()].find(S=>S.sessionTopic===n);if(!b)return this.client.logger.error(`Pending session not found for topic ${n}`);const v=this.client.proposal.get(b.proposalId),E=Ir(Vt(Vt(Vt({topic:n,relay:c,expiry:f,namespaces:d,acknowledged:!0,pairingTopic:b.pairingTopic,requiredNamespaces:v.requiredNamespaces,optionalNamespaces:v.optionalNamespaces,controller:l.publicKey,self:{publicKey:b.publicKey,metadata:this.client.metadata},peer:{publicKey:l.publicKey,metadata:l.metadata}},p&&{sessionProperties:p}),g&&{scopedProperties:g}),y&&{sessionConfig:y}),{transportType:Wt.relay});await this.client.session.set(E.topic,E),await this.setExpiry(E.topic,E.expiry),await this.client.core.pairing.updateMetadata({topic:b.pairingTopic,metadata:E.peer.metadata}),this.client.events.emit("session_connect",{session:E}),this.events.emit(wt("session_connect",b.proposalId),{session:E}),this.pendingSessions.delete(b.proposalId),this.deleteProposal(b.proposalId,!1),this.cleanupDuplicatePairings(E),await this.sendResult({id:r.id,topic:n,result:!0})}catch(c){await this.sendError({id:s,topic:n,error:c}),this.client.logger.error(c)}}),de(this,"onSessionSettleResponse",async(n,r)=>{const{id:s}=r;ji(r)?(await this.client.session.update(n,{acknowledged:!0}),this.events.emit(wt("session_approve",s),{})):Bs(r)&&(await this.client.session.delete(n,Yt("USER_DISCONNECTED")),this.events.emit(wt("session_approve",s),{error:r.error}))}),de(this,"onSessionUpdateRequest",async(n,r)=>{const{params:s,id:o}=r;try{const c=`${n}_session_update`,l=xd.get(c);if(l&&this.isRequestOutOfSync(l,o)){this.client.logger.warn(`Discarding out of sync request - ${o}`),this.sendError({id:o,topic:n,error:Yt("INVALID_UPDATE_REQUEST")});return}this.isValidUpdate(Vt({topic:n},s));try{xd.set(c,o),await this.client.session.update(n,{namespaces:s.namespaces}),await this.sendResult({id:o,topic:n,result:!0})}catch(f){throw xd.delete(c),f}this.client.events.emit("session_update",{id:o,topic:n,params:s})}catch(c){await this.sendError({id:o,topic:n,error:c}),this.client.logger.error(c)}}),de(this,"isRequestOutOfSync",(n,r)=>r.toString().slice(0,-3)<n.toString().slice(0,-3)),de(this,"onSessionUpdateResponse",(n,r)=>{const{id:s}=r,o=wt("session_update",s);if(this.events.listenerCount(o)===0)throw new Error(`emitting ${o} without any listeners`);ji(r)?this.events.emit(wt("session_update",s),{}):Bs(r)&&this.events.emit(wt("session_update",s),{error:r.error})}),de(this,"onSessionExtendRequest",async(n,r)=>{const{id:s}=r;try{this.isValidExtend({topic:n}),await this.setExpiry(n,Nn(Wu)),await this.sendResult({id:s,topic:n,result:!0}),this.client.events.emit("session_extend",{id:s,topic:n})}catch(o){await this.sendError({id:s,topic:n,error:o}),this.client.logger.error(o)}}),de(this,"onSessionExtendResponse",(n,r)=>{const{id:s}=r,o=wt("session_extend",s);if(this.events.listenerCount(o)===0)throw new Error(`emitting ${o} without any listeners`);ji(r)?this.events.emit(wt("session_extend",s),{}):Bs(r)&&this.events.emit(wt("session_extend",s),{error:r.error})}),de(this,"onSessionPingRequest",async(n,r)=>{const{id:s}=r;try{this.isValidPing({topic:n}),await this.sendResult({id:s,topic:n,result:!0,throwOnFailedPublish:!0}),this.client.events.emit("session_ping",{id:s,topic:n})}catch(o){await this.sendError({id:s,topic:n,error:o}),this.client.logger.error(o)}}),de(this,"onSessionPingResponse",(n,r)=>{const{id:s}=r,o=wt("session_ping",s);setTimeout(()=>{if(this.events.listenerCount(o)===0)throw new Error(`emitting ${o} without any listeners 2176`);ji(r)?this.events.emit(wt("session_ping",s),{}):Bs(r)&&this.events.emit(wt("session_ping",s),{error:r.error})},500)}),de(this,"onSessionDeleteRequest",async(n,r)=>{const{id:s}=r;try{this.isValidDisconnect({topic:n,reason:r.params}),Promise.all([new Promise(o=>{this.client.core.relayer.once(Mn.publish,async()=>{o(await this.deleteSession({topic:n,id:s}))})}),this.sendResult({id:s,topic:n,result:!0}),this.cleanupPendingSentRequestsForTopic({topic:n,error:Yt("USER_DISCONNECTED")})]).catch(o=>this.client.logger.error(o))}catch(o){this.client.logger.error(o)}}),de(this,"onSessionRequest",async n=>{var r,s,o;const{topic:c,payload:l,attestation:f,encryptedId:d,transportType:p}=n,{id:g,params:y}=l;try{await this.isValidRequest(Vt({topic:c},y));const b=this.client.session.get(c),v=await this.getVerifyContext({attestationId:f,hash:zi(JSON.stringify(nc("wc_sessionRequest",y,g))),encryptedId:d,metadata:b.peer.metadata,transportType:p}),E={id:g,topic:c,params:y,verifyContext:v};await this.setPendingSessionRequest(E),p===Wt.link_mode&&(r=b.peer.metadata.redirect)!=null&&r.universal&&this.client.core.addLinkModeSupportedApp((s=b.peer.metadata.redirect)==null?void 0:s.universal),(o=this.client.signConfig)!=null&&o.disableRequestQueue?this.emitSessionRequest(E):(this.addSessionRequestToSessionRequestQueue(E),this.processSessionRequestQueue())}catch(b){await this.sendError({id:g,topic:c,error:b}),this.client.logger.error(b)}}),de(this,"onSessionRequestResponse",(n,r)=>{const{id:s}=r,o=wt("session_request",s);if(this.events.listenerCount(o)===0)throw new Error(`emitting ${o} without any listeners`);ji(r)?this.events.emit(wt("session_request",s),{result:r.result}):Bs(r)&&this.events.emit(wt("session_request",s),{error:r.error})}),de(this,"onSessionEventRequest",async(n,r)=>{const{id:s,params:o}=r;try{const c=`${n}_session_event_${o.event.name}`,l=xd.get(c);if(l&&this.isRequestOutOfSync(l,s)){this.client.logger.info(`Discarding out of sync request - ${s}`);return}this.isValidEmit(Vt({topic:n},o)),this.client.events.emit("session_event",{id:s,topic:n,params:o}),xd.set(c,s)}catch(c){await this.sendError({id:s,topic:n,error:c}),this.client.logger.error(c)}}),de(this,"onSessionAuthenticateResponse",(n,r)=>{const{id:s}=r;this.client.logger.trace({type:"method",method:"onSessionAuthenticateResponse",topic:n,payload:r}),ji(r)?this.events.emit(wt("session_request",s),{result:r.result}):Bs(r)&&this.events.emit(wt("session_request",s),{error:r.error})}),de(this,"onSessionAuthenticateRequest",async n=>{var r;const{topic:s,payload:o,attestation:c,encryptedId:l,transportType:f}=n;try{const{requester:d,authPayload:p,expiryTimestamp:g}=o.params,y=await this.getVerifyContext({attestationId:c,hash:zi(JSON.stringify(o)),encryptedId:l,metadata:d.metadata,transportType:f}),b={requester:d,pairingTopic:s,id:o.id,authPayload:p,verifyContext:y,expiryTimestamp:g};await this.setAuthRequest(o.id,{request:b,pairingTopic:s,transportType:f}),f===Wt.link_mode&&(r=d.metadata.redirect)!=null&&r.universal&&this.client.core.addLinkModeSupportedApp(d.metadata.redirect.universal),this.client.events.emit("session_authenticate",{topic:s,params:o.params,id:o.id,verifyContext:y})}catch(d){this.client.logger.error(d);const p=o.params.requester.publicKey,g=await this.client.core.crypto.generateKeyPair(),y=this.getAppLinkIfEnabled(o.params.requester.metadata,f),b={type:Fo,receiverPublicKey:p,senderPublicKey:g};await this.sendError({id:o.id,topic:s,error:d,encodeOpts:b,rpcOpts:On.wc_sessionAuthenticate.autoReject,appLink:y})}}),de(this,"addSessionRequestToSessionRequestQueue",n=>{this.sessionRequestQueue.queue.push(n)}),de(this,"cleanupAfterResponse",n=>{this.deletePendingSessionRequest(n.response.id,{message:"fulfilled",code:0}),setTimeout(()=>{this.sessionRequestQueue.state=Pi.idle,this.processSessionRequestQueue()},we.toMiliseconds(this.requestQueueDelay))}),de(this,"cleanupPendingSentRequestsForTopic",({topic:n,error:r})=>{const s=this.client.core.history.pending;s.length>0&&s.filter(o=>o.topic===n&&o.request.method==="wc_sessionRequest").forEach(o=>{const c=o.request.id,l=wt("session_request",c);if(this.events.listenerCount(l)===0)throw new Error(`emitting ${l} without any listeners`);this.events.emit(wt("session_request",o.request.id),{error:r})})}),de(this,"processSessionRequestQueue",()=>{if(this.sessionRequestQueue.state===Pi.active){this.client.logger.info("session request queue is already active.");return}const n=this.sessionRequestQueue.queue[0];if(!n){this.client.logger.info("session request queue is empty.");return}try{this.emitSessionRequest(n)}catch(r){this.client.logger.error(r)}}),de(this,"emitSessionRequest",n=>{if(this.emittedSessionRequests.has(n.id)){this.client.logger.warn({id:n.id},`Skipping emitting \`session_request\` event for duplicate request. id: ${n.id}`);return}this.sessionRequestQueue.state=Pi.active,this.emittedSessionRequests.add(n.id),this.client.events.emit("session_request",n)}),de(this,"onPairingCreated",n=>{if(n.methods&&this.expectedPairingMethodMap.set(n.topic,n.methods),n.active)return;const r=this.client.proposal.getAll().find(s=>s.pairingTopic===n.topic);r&&this.onSessionProposeRequest({topic:n.topic,payload:nc("wc_sessionPropose",Ir(Vt({},r),{requiredNamespaces:r.requiredNamespaces,optionalNamespaces:r.optionalNamespaces,relays:r.relays,proposer:r.proposer,sessionProperties:r.sessionProperties,scopedProperties:r.scopedProperties}),r.id),attestation:r.attestation,encryptedId:r.encryptedId})}),de(this,"isValidConnect",async n=>{if(!Rr(n)){const{message:d}=ye("MISSING_OR_INVALID",`connect() params: ${JSON.stringify(n)}`);throw new Error(d)}const{pairingTopic:r,requiredNamespaces:s,optionalNamespaces:o,sessionProperties:c,scopedProperties:l,relays:f}=n;if(Wn(r)||await this.isValidPairingTopic(r),!_re(f)){const{message:d}=ye("MISSING_OR_INVALID",`connect() relays: ${f}`);throw new Error(d)}if(!Wn(s)&&Zi(s)!==0){const d="requiredNamespaces are deprecated and are automatically assigned to optionalNamespaces";["fatal","error","silent"].includes(this.client.logger.level)?console.warn(d):this.client.logger.warn(d),this.validateNamespaces(s,"requiredNamespaces")}if(!Wn(o)&&Zi(o)!==0&&this.validateNamespaces(o,"optionalNamespaces"),Wn(c)||this.validateSessionProps(c,"sessionProperties"),!Wn(l)){this.validateSessionProps(l,"scopedProperties");const d=Object.keys(s||{}).concat(Object.keys(o||{}));if(!Object.keys(l).every(p=>d.includes(p.split(":")[0])))throw new Error(`Scoped properties must be a subset of required/optional namespaces, received: ${JSON.stringify(l)}, required/optional namespaces: ${JSON.stringify(d)}`)}}),de(this,"validateNamespaces",(n,r)=>{const s=Tre(n,"connect()",r);if(s)throw new Error(s.message)}),de(this,"isValidApprove",async n=>{if(!Rr(n))throw new Error(ye("MISSING_OR_INVALID",`approve() params: ${n}`).message);const{id:r,namespaces:s,relayProtocol:o,sessionProperties:c,scopedProperties:l}=n;this.checkRecentlyDeleted(r),await this.isValidProposalId(r);const f=this.client.proposal.get(r),d=Pv(s,"approve()");if(d)throw new Error(d.message);const p=v8(f.requiredNamespaces,s,"approve()");if(p)throw new Error(p.message);if(!bn(o,!0)){const{message:g}=ye("MISSING_OR_INVALID",`approve() relayProtocol: ${o}`);throw new Error(g)}if(Wn(c)||this.validateSessionProps(c,"sessionProperties"),!Wn(l)){this.validateSessionProps(l,"scopedProperties");const g=new Set(Object.keys(s));if(!Object.keys(l).every(y=>g.has(y.split(":")[0])))throw new Error(`Scoped properties must be a subset of approved namespaces, received: ${JSON.stringify(l)}, approved namespaces: ${Array.from(g).join(", ")}`)}}),de(this,"isValidReject",async n=>{if(!Rr(n)){const{message:o}=ye("MISSING_OR_INVALID",`reject() params: ${n}`);throw new Error(o)}const{id:r,reason:s}=n;if(this.checkRecentlyDeleted(r),await this.isValidProposalId(r),!Ore(s)){const{message:o}=ye("MISSING_OR_INVALID",`reject() reason: ${JSON.stringify(s)}`);throw new Error(o)}}),de(this,"isValidSessionSettleRequest",n=>{if(!Rr(n)){const{message:d}=ye("MISSING_OR_INVALID",`onSessionSettleRequest() params: ${n}`);throw new Error(d)}const{relay:r,controller:s,namespaces:o,expiry:c}=n;if(!AU(r)){const{message:d}=ye("MISSING_OR_INVALID","onSessionSettleRequest() relay protocol should be a string");throw new Error(d)}const l=Ere(s,"onSessionSettleRequest()");if(l)throw new Error(l.message);const f=Pv(o,"onSessionSettleRequest()");if(f)throw new Error(f.message);if(Wa(c)){const{message:d}=ye("EXPIRED","onSessionSettleRequest()");throw new Error(d)}}),de(this,"isValidUpdate",async n=>{if(!Rr(n)){const{message:f}=ye("MISSING_OR_INVALID",`update() params: ${n}`);throw new Error(f)}const{topic:r,namespaces:s}=n;this.checkRecentlyDeleted(r),await this.isValidSessionTopic(r);const o=this.client.session.get(r),c=Pv(s,"update()");if(c)throw new Error(c.message);const l=v8(o.requiredNamespaces,s,"update()");if(l)throw new Error(l.message)}),de(this,"isValidExtend",async n=>{if(!Rr(n)){const{message:s}=ye("MISSING_OR_INVALID",`extend() params: ${n}`);throw new Error(s)}const{topic:r}=n;this.checkRecentlyDeleted(r),await this.isValidSessionTopic(r)}),de(this,"isValidRequest",async n=>{if(!Rr(n)){const{message:f}=ye("MISSING_OR_INVALID",`request() params: ${n}`);throw new Error(f)}const{topic:r,request:s,chainId:o,expiry:c}=n;this.checkRecentlyDeleted(r),await this.isValidSessionTopic(r);const{namespaces:l}=this.client.session.get(r);if(!b8(l,o)){const{message:f}=ye("MISSING_OR_INVALID",`request() chainId: ${o}`);throw new Error(f)}if(!Dre(s)){const{message:f}=ye("MISSING_OR_INVALID",`request() ${JSON.stringify(s)}`);throw new Error(f)}if(!Ure(l,o,s.method)){const{message:f}=ye("MISSING_OR_INVALID",`request() method: ${s.method}`);throw new Error(f)}if(c&&!Lre(c,qv)){const{message:f}=ye("MISSING_OR_INVALID",`request() expiry: ${c}. Expiry must be a number (in seconds) between ${qv.min} and ${qv.max}`);throw new Error(f)}}),de(this,"isValidRespond",async n=>{var r;if(!Rr(n)){const{message:c}=ye("MISSING_OR_INVALID",`respond() params: ${n}`);throw new Error(c)}const{topic:s,response:o}=n;try{await this.isValidSessionTopic(s)}catch(c){throw(r=n?.response)!=null&&r.id&&this.cleanupAfterResponse(n),c}if(!Mre(o)){const{message:c}=ye("MISSING_OR_INVALID",`respond() response: ${JSON.stringify(o)}`);throw new Error(c)}}),de(this,"isValidPing",async n=>{if(!Rr(n)){const{message:s}=ye("MISSING_OR_INVALID",`ping() params: ${n}`);throw new Error(s)}const{topic:r}=n;await this.isValidSessionOrPairingTopic(r)}),de(this,"isValidEmit",async n=>{if(!Rr(n)){const{message:l}=ye("MISSING_OR_INVALID",`emit() params: ${n}`);throw new Error(l)}const{topic:r,event:s,chainId:o}=n;await this.isValidSessionTopic(r);const{namespaces:c}=this.client.session.get(r);if(!b8(c,o)){const{message:l}=ye("MISSING_OR_INVALID",`emit() chainId: ${o}`);throw new Error(l)}if(!$re(s)){const{message:l}=ye("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(s)}`);throw new Error(l)}if(!Rre(c,o,s.name)){const{message:l}=ye("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(s)}`);throw new Error(l)}}),de(this,"isValidDisconnect",async n=>{if(!Rr(n)){const{message:s}=ye("MISSING_OR_INVALID",`disconnect() params: ${n}`);throw new Error(s)}const{topic:r}=n;await this.isValidSessionOrPairingTopic(r)}),de(this,"isValidAuthenticate",n=>{const{chains:r,uri:s,domain:o,nonce:c}=n;if(!Array.isArray(r)||r.length===0)throw new Error("chains is required and must be a non-empty array");if(!bn(s,!1))throw new Error("uri is required parameter");if(!bn(o,!1))throw new Error("domain is required parameter");if(!bn(c,!1))throw new Error("nonce is required parameter");if([...new Set(r.map(f=>_f(f).namespace))].length>1)throw new Error("Multi-namespace requests are not supported. Please request single namespace only.");const{namespace:l}=_f(r[0]);if(l!=="eip155")throw new Error("Only eip155 namespace is supported for authenticated sessions. Please use .connect() for non-eip155 chains.")}),de(this,"getVerifyContext",async n=>{const{attestationId:r,hash:s,encryptedId:o,metadata:c,transportType:l}=n,f={verified:{verifyUrl:c.verifyUrl||np,validation:"UNKNOWN",origin:c.url||""}};try{if(l===Wt.link_mode){const p=this.getAppLinkIfEnabled(c,l);return f.verified.validation=p&&new URL(p).origin===new URL(c.url).origin?"VALID":"INVALID",f}const d=await this.client.core.verify.resolve({attestationId:r,hash:s,encryptedId:o,verifyUrl:c.verifyUrl});d&&(f.verified.origin=d.origin,f.verified.isScam=d.isScam,f.verified.validation=d.origin===new URL(c.url).origin?"VALID":"INVALID")}catch(d){this.client.logger.warn(d)}return this.client.logger.debug(`Verify context: ${JSON.stringify(f)}`),f}),de(this,"validateSessionProps",(n,r)=>{Object.values(n).forEach((s,o)=>{if(s==null){const{message:c}=ye("MISSING_OR_INVALID",`${r} must contain an existing value for each key. Received: ${s} for key ${Object.keys(n)[o]}`);throw new Error(c)}})}),de(this,"getPendingAuthRequest",n=>{const r=this.client.auth.requests.get(n);return typeof r=="object"?r:void 0}),de(this,"addToRecentlyDeleted",(n,r)=>{if(this.recentlyDeletedMap.set(n,r),this.recentlyDeletedMap.size>=this.recentlyDeletedLimit){let s=0;const o=this.recentlyDeletedLimit/2;for(const c of this.recentlyDeletedMap.keys()){if(s++>=o)break;this.recentlyDeletedMap.delete(c)}}}),de(this,"checkRecentlyDeleted",n=>{const r=this.recentlyDeletedMap.get(n);if(r){const{message:s}=ye("MISSING_OR_INVALID",`Record was recently deleted - ${r}: ${n}`);throw new Error(s)}}),de(this,"isLinkModeEnabled",(n,r)=>{var s,o,c,l,f,d,p,g,y;return!n||r!==Wt.link_mode?!1:((o=(s=this.client.metadata)==null?void 0:s.redirect)==null?void 0:o.linkMode)===!0&&((l=(c=this.client.metadata)==null?void 0:c.redirect)==null?void 0:l.universal)!==void 0&&((d=(f=this.client.metadata)==null?void 0:f.redirect)==null?void 0:d.universal)!==""&&((p=n?.redirect)==null?void 0:p.universal)!==void 0&&((g=n?.redirect)==null?void 0:g.universal)!==""&&((y=n?.redirect)==null?void 0:y.linkMode)===!0&&this.client.core.linkModeSupportedApps.includes(n.redirect.universal)&&typeof(global==null?void 0:global.Linking)<"u"}),de(this,"getAppLinkIfEnabled",(n,r)=>{var s;return this.isLinkModeEnabled(n,r)?(s=n?.redirect)==null?void 0:s.universal:void 0}),de(this,"handleLinkModeMessage",({url:n})=>{if(!n||!n.includes("wc_ev")||!n.includes("topic"))return;const r=$I(n,"topic")||"",s=decodeURIComponent($I(n,"wc_ev")||""),o=this.client.session.keys.includes(r);o&&this.client.session.update(r,{transportType:Wt.link_mode}),this.client.core.dispatchEnvelope({topic:r,message:s,sessionExists:o})}),de(this,"registerLinkModeListeners",async()=>{var n;if(RA()||yc()&&(n=this.client.metadata.redirect)!=null&&n.linkMode){const r=global==null?void 0:global.Linking;if(typeof r<"u"){r.addEventListener("url",this.handleLinkModeMessage,this.client.name);const s=await r.getInitialURL();s&&setTimeout(()=>{this.handleLinkModeMessage({url:s})},50)}}}),de(this,"getTVFParams",(n,r,s)=>{var o,c,l;if(!((o=r.request)!=null&&o.method))return{};const f={correlationId:n,rpcMethods:[r.request.method],chainId:r.chainId};try{const d=this.extractTxHashesFromResult(r.request,s);f.txHashes=d,f.contractAddresses=this.isValidContractData(r.request.params)?[(l=(c=r.request.params)==null?void 0:c[0])==null?void 0:l.to]:[]}catch(d){this.client.logger.warn("Error getting TVF params",d)}return f}),de(this,"isValidContractData",n=>{var r;if(!n)return!1;try{const s=n?.data||((r=n?.[0])==null?void 0:r.data);if(!s.startsWith("0x"))return!1;const o=s.slice(2);return/^[0-9a-fA-F]*$/.test(o)?o.length%2===0:!1}catch{}return!1}),de(this,"extractTxHashesFromResult",(n,r)=>{var s;try{if(!r)return[];const o=n.method,c=lce[o];if(o==="sui_signTransaction")return[ate(r.transactionBytes)];if(o==="near_signTransaction")return[zI(r)];if(o==="near_signTransactions")return r.map(f=>zI(f));if(o==="xrpl_signTransactionFor"||o==="xrpl_signTransaction")return[(s=r.tx_json)==null?void 0:s.hash];if(o==="polkadot_signTransaction")return[Jre({transaction:n.params.transactionPayload,signature:r.signature})];if(o==="algo_signTxn")return qo(r)?r.map(f=>HI(f)):[HI(r)];if(o==="cosmos_signDirect")return[lte(r)];if(typeof r=="string")return[r];const l=r[c.key];if(qo(l))return o==="solana_signAllTransactions"?l.map(f=>ote(f)):l;if(typeof l=="string")return[l]}catch(o){this.client.logger.warn("Error extracting tx hashes from result",o)}return[]})}async processPendingMessageEvents(){try{const t=this.client.session.keys,n=this.client.core.relayer.messages.getWithoutAck(t);for(const[r,s]of Object.entries(n))for(const o of s)try{await this.onProviderMessageEvent({topic:r,message:o,publishedAt:Date.now()})}catch{this.client.logger.warn(`Error processing pending message event for topic: ${r}, message: ${o}`)}}catch(t){this.client.logger.warn("processPendingMessageEvents failed",t)}}isInitialized(){if(!this.initialized){const{message:t}=ye("NOT_INITIALIZED",this.name);throw new Error(t)}}async confirmOnlineStateOrThrow(){await this.client.core.relayer.confirmOnlineStateOrThrow()}registerRelayerEvents(){this.client.core.relayer.on(Mn.message,t=>{this.onProviderMessageEvent(t)})}async onRelayMessage(t){const{topic:n,message:r,attestation:s,transportType:o}=t,{publicKey:c}=this.client.auth.authKeys.keys.includes(F0)?this.client.auth.authKeys.get(F0):{publicKey:void 0};try{const l=await this.client.core.crypto.decode(n,r,{receiverPublicKey:c,encoding:o===Wt.link_mode?Za:pi});XA(l)?(this.client.core.history.set(n,l),await this.onRelayEventRequest({topic:n,payload:l,attestation:s,transportType:o,encryptedId:zi(r)})):sw(l)?(await this.client.core.history.resolve(l),await this.onRelayEventResponse({topic:n,payload:l,transportType:o}),this.client.core.history.delete(n,l.id)):await this.onRelayEventUnknownPayload({topic:n,payload:l,transportType:o}),await this.client.core.relayer.messages.ack(n,r)}catch(l){this.client.logger.error(l)}}registerExpirerEvents(){this.client.core.expirer.on(Ps.expired,async t=>{const{topic:n,id:r}=D$(t.target);if(r&&this.client.pendingRequest.keys.includes(r))return await this.deletePendingSessionRequest(r,ye("EXPIRED"),!0);if(r&&this.client.auth.requests.keys.includes(r))return await this.deletePendingAuthRequest(r,ye("EXPIRED"),!0);n?this.client.session.keys.includes(n)&&(await this.deleteSession({topic:n,expirerHasDeleted:!0}),this.client.events.emit("session_expire",{topic:n})):r&&(await this.deleteProposal(r,!0),this.client.events.emit("proposal_expire",{id:r}))})}registerPairingEvents(){this.client.core.pairing.events.on(ll.create,t=>this.onPairingCreated(t)),this.client.core.pairing.events.on(ll.delete,t=>{this.addToRecentlyDeleted(t.topic,"pairing")})}isValidPairingTopic(t){if(!bn(t,!1)){const{message:n}=ye("MISSING_OR_INVALID",`pairing topic should be a string: ${t}`);throw new Error(n)}if(!this.client.core.pairing.pairings.keys.includes(t)){const{message:n}=ye("NO_MATCHING_KEY",`pairing topic doesn't exist: ${t}`);throw new Error(n)}if(Wa(this.client.core.pairing.pairings.get(t).expiry)){const{message:n}=ye("EXPIRED",`pairing topic: ${t}`);throw new Error(n)}}async isValidSessionTopic(t){if(!bn(t,!1)){const{message:n}=ye("MISSING_OR_INVALID",`session topic should be a string: ${t}`);throw new Error(n)}if(this.checkRecentlyDeleted(t),!this.client.session.keys.includes(t)){const{message:n}=ye("NO_MATCHING_KEY",`session topic doesn't exist: ${t}`);throw new Error(n)}if(Wa(this.client.session.get(t).expiry)){await this.deleteSession({topic:t});const{message:n}=ye("EXPIRED",`session topic: ${t}`);throw new Error(n)}if(!this.client.core.crypto.keychain.has(t)){const{message:n}=ye("MISSING_OR_INVALID",`session topic does not exist in keychain: ${t}`);throw await this.deleteSession({topic:t}),new Error(n)}}async isValidSessionOrPairingTopic(t){if(this.checkRecentlyDeleted(t),this.client.session.keys.includes(t))await this.isValidSessionTopic(t);else if(this.client.core.pairing.pairings.keys.includes(t))this.isValidPairingTopic(t);else if(bn(t,!1)){const{message:n}=ye("NO_MATCHING_KEY",`session or pairing topic doesn't exist: ${t}`);throw new Error(n)}else{const{message:n}=ye("MISSING_OR_INVALID",`session or pairing topic should be a string: ${t}`);throw new Error(n)}}async isValidProposalId(t){if(!Ire(t)){const{message:n}=ye("MISSING_OR_INVALID",`proposal id should be a number: ${t}`);throw new Error(n)}if(!this.client.proposal.keys.includes(t)){const{message:n}=ye("NO_MATCHING_KEY",`proposal id doesn't exist: ${t}`);throw new Error(n)}if(Wa(this.client.proposal.get(t).expiryTimestamp)){await this.deleteProposal(t);const{message:n}=ye("EXPIRED",`proposal id: ${t}`);throw new Error(n)}}}class Ace extends Fl{constructor(t,n){super(t,n,oce,ZA),this.core=t,this.logger=n}}let Cce=class extends Fl{constructor(t,n){super(t,n,ace,ZA),this.core=t,this.logger=n}};class xce extends Fl{constructor(t,n){super(t,n,uce,ZA,r=>r.id),this.core=t,this.logger=n}}class Nce extends Fl{constructor(t,n){super(t,n,pce,ow,()=>F0),this.core=t,this.logger=n}}let Tce=class extends Fl{constructor(t,n){super(t,n,gce,ow),this.core=t,this.logger=n}};class _ce extends Fl{constructor(t,n){super(t,n,mce,ow,r=>r.id),this.core=t,this.logger=n}}var Ice=Object.defineProperty,Oce=(e,t,n)=>t in e?Ice(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Vv=(e,t,n)=>Oce(e,typeof t!="symbol"?t+"":t,n);class Dce{constructor(t,n){this.core=t,this.logger=n,Vv(this,"authKeys"),Vv(this,"pairingTopics"),Vv(this,"requests"),this.authKeys=new Nce(this.core,this.logger),this.pairingTopics=new Tce(this.core,this.logger),this.requests=new _ce(this.core,this.logger)}async init(){await this.authKeys.init(),await this.pairingTopics.init(),await this.requests.init()}}var Mce=Object.defineProperty,$ce=(e,t,n)=>t in e?Mce(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,nt=(e,t,n)=>$ce(e,typeof t!="symbol"?t+"":t,n);let Uce=class YU extends rG{constructor(t){super(t),nt(this,"protocol",WU),nt(this,"version",KU),nt(this,"name",Fv.name),nt(this,"metadata"),nt(this,"core"),nt(this,"logger"),nt(this,"events",new Vs.EventEmitter),nt(this,"engine"),nt(this,"session"),nt(this,"proposal"),nt(this,"pendingRequest"),nt(this,"auth"),nt(this,"signConfig"),nt(this,"on",(r,s)=>this.events.on(r,s)),nt(this,"once",(r,s)=>this.events.once(r,s)),nt(this,"off",(r,s)=>this.events.off(r,s)),nt(this,"removeListener",(r,s)=>this.events.removeListener(r,s)),nt(this,"removeAllListeners",r=>this.events.removeAllListeners(r)),nt(this,"connect",async r=>{try{return await this.engine.connect(r)}catch(s){throw this.logger.error(s.message),s}}),nt(this,"pair",async r=>{try{return await this.engine.pair(r)}catch(s){throw this.logger.error(s.message),s}}),nt(this,"approve",async r=>{try{return await this.engine.approve(r)}catch(s){throw this.logger.error(s.message),s}}),nt(this,"reject",async r=>{try{return await this.engine.reject(r)}catch(s){throw this.logger.error(s.message),s}}),nt(this,"update",async r=>{try{return await this.engine.update(r)}catch(s){throw this.logger.error(s.message),s}}),nt(this,"extend",async r=>{try{return await this.engine.extend(r)}catch(s){throw this.logger.error(s.message),s}}),nt(this,"request",async r=>{try{return await this.engine.request(r)}catch(s){throw this.logger.error(s.message),s}}),nt(this,"respond",async r=>{try{return await this.engine.respond(r)}catch(s){throw this.logger.error(s.message),s}}),nt(this,"ping",async r=>{try{return await this.engine.ping(r)}catch(s){throw this.logger.error(s.message),s}}),nt(this,"emit",async r=>{try{return await this.engine.emit(r)}catch(s){throw this.logger.error(s.message),s}}),nt(this,"disconnect",async r=>{try{return await this.engine.disconnect(r)}catch(s){throw this.logger.error(s.message),s}}),nt(this,"find",r=>{try{return this.engine.find(r)}catch(s){throw this.logger.error(s.message),s}}),nt(this,"getPendingSessionRequests",()=>{try{return this.engine.getPendingSessionRequests()}catch(r){throw this.logger.error(r.message),r}}),nt(this,"authenticate",async(r,s)=>{try{return await this.engine.authenticate(r,s)}catch(o){throw this.logger.error(o.message),o}}),nt(this,"formatAuthMessage",r=>{try{return this.engine.formatAuthMessage(r)}catch(s){throw this.logger.error(s.message),s}}),nt(this,"approveSessionAuthenticate",async r=>{try{return await this.engine.approveSessionAuthenticate(r)}catch(s){throw this.logger.error(s.message),s}}),nt(this,"rejectSessionAuthenticate",async r=>{try{return await this.engine.rejectSessionAuthenticate(r)}catch(s){throw this.logger.error(s.message),s}}),this.name=t?.name||Fv.name,this.metadata=QJ(t?.metadata),this.signConfig=t?.signConfig;const n=typeof t?.logger<"u"&&typeof t?.logger!="string"?t.logger:hg(pg({level:t?.logger||Fv.logger}));this.core=t?.core||new ice(t),this.logger=br(n,this.name),this.session=new Cce(this.core,this.logger),this.proposal=new Ace(this.core,this.logger),this.pendingRequest=new xce(this.core,this.logger),this.engine=new Sce(this),this.auth=new Dce(this.core,this.logger)}static async init(t){const n=new YU(t);return await n.initialize(),n}get context(){return Fr(this.logger)}get pairing(){return this.core.pairing.pairings}async initialize(){this.logger.trace("Initialized");try{await this.core.start(),await this.session.init(),await this.proposal.init(),await this.pendingRequest.init(),await this.auth.init(),await this.engine.init(),this.logger.info("SignClient Initialization Success")}catch(t){throw this.logger.info("SignClient Initialization Failure"),this.logger.error(t.message),t}}};var y0={exports:{}},s5;function Rce(){return s5||(s5=1,(function(e,t){var n=typeof globalThis<"u"&&globalThis||typeof self<"u"&&self||typeof cr<"u"&&cr,r=(function(){function o(){this.fetch=!1,this.DOMException=n.DOMException}return o.prototype=n,new o})();(function(o){(function(c){var l=typeof o<"u"&&o||typeof self<"u"&&self||typeof cr<"u"&&cr||{},f={searchParams:"URLSearchParams"in l,iterable:"Symbol"in l&&"iterator"in Symbol,blob:"FileReader"in l&&"Blob"in l&&(function(){try{return new Blob,!0}catch{return!1}})(),formData:"FormData"in l,arrayBuffer:"ArrayBuffer"in l};function d(M){return M&&DataView.prototype.isPrototypeOf(M)}if(f.arrayBuffer)var p=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],g=ArrayBuffer.isView||function(M){return M&&p.indexOf(Object.prototype.toString.call(M))>-1};function y(M){if(typeof M!="string"&&(M=String(M)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(M)||M==="")throw new TypeError('Invalid character in header field name: "'+M+'"');return M.toLowerCase()}function b(M){return typeof M!="string"&&(M=String(M)),M}function v(M){var _={next:function(){var j=M.shift();return{done:j===void 0,value:j}}};return f.iterable&&(_[Symbol.iterator]=function(){return _}),_}function E(M){this.map={},M instanceof E?M.forEach(function(_,j){this.append(j,_)},this):Array.isArray(M)?M.forEach(function(_){if(_.length!=2)throw new TypeError("Headers constructor: expected name/value pair to be length 2, found"+_.length);this.append(_[0],_[1])},this):M&&Object.getOwnPropertyNames(M).forEach(function(_){this.append(_,M[_])},this)}E.prototype.append=function(M,_){M=y(M),_=b(_);var j=this.map[M];this.map[M]=j?j+", "+_:_},E.prototype.delete=function(M){delete this.map[y(M)]},E.prototype.get=function(M){return M=y(M),this.has(M)?this.map[M]:null},E.prototype.has=function(M){return this.map.hasOwnProperty(y(M))},E.prototype.set=function(M,_){this.map[y(M)]=b(_)},E.prototype.forEach=function(M,_){for(var j in this.map)this.map.hasOwnProperty(j)&&M.call(_,this.map[j],j,this)},E.prototype.keys=function(){var M=[];return this.forEach(function(_,j){M.push(j)}),v(M)},E.prototype.values=function(){var M=[];return this.forEach(function(_){M.push(_)}),v(M)},E.prototype.entries=function(){var M=[];return this.forEach(function(_,j){M.push([j,_])}),v(M)},f.iterable&&(E.prototype[Symbol.iterator]=E.prototype.entries);function S(M){if(!M._noBody){if(M.bodyUsed)return Promise.reject(new TypeError("Already read"));M.bodyUsed=!0}}function C(M){return new Promise(function(_,j){M.onload=function(){_(M.result)},M.onerror=function(){j(M.error)}})}function O(M){var _=new FileReader,j=C(_);return _.readAsArrayBuffer(M),j}function x(M){var _=new FileReader,j=C(_),q=/charset=([A-Za-z0-9_-]+)/.exec(M.type),W=q?q[1]:"utf-8";return _.readAsText(M,W),j}function N(M){for(var _=new Uint8Array(M),j=new Array(_.length),q=0;q<_.length;q++)j[q]=String.fromCharCode(_[q]);return j.join("")}function T(M){if(M.slice)return M.slice(0);var _=new Uint8Array(M.byteLength);return _.set(new Uint8Array(M)),_.buffer}function I(){return this.bodyUsed=!1,this._initBody=function(M){this.bodyUsed=this.bodyUsed,this._bodyInit=M,M?typeof M=="string"?this._bodyText=M:f.blob&&Blob.prototype.isPrototypeOf(M)?this._bodyBlob=M:f.formData&&FormData.prototype.isPrototypeOf(M)?this._bodyFormData=M:f.searchParams&&URLSearchParams.prototype.isPrototypeOf(M)?this._bodyText=M.toString():f.arrayBuffer&&f.blob&&d(M)?(this._bodyArrayBuffer=T(M.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):f.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(M)||g(M))?this._bodyArrayBuffer=T(M):this._bodyText=M=Object.prototype.toString.call(M):(this._noBody=!0,this._bodyText=""),this.headers.get("content-type")||(typeof M=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):f.searchParams&&URLSearchParams.prototype.isPrototypeOf(M)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},f.blob&&(this.blob=function(){var M=S(this);if(M)return M;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))}),this.arrayBuffer=function(){if(this._bodyArrayBuffer){var M=S(this);return M||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}else{if(f.blob)return this.blob().then(O);throw new Error("could not read as ArrayBuffer")}},this.text=function(){var M=S(this);if(M)return M;if(this._bodyBlob)return x(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(N(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},f.formData&&(this.formData=function(){return this.text().then(D)}),this.json=function(){return this.text().then(JSON.parse)},this}var R=["CONNECT","DELETE","GET","HEAD","OPTIONS","PATCH","POST","PUT","TRACE"];function L(M){var _=M.toUpperCase();return R.indexOf(_)>-1?_:M}function U(M,_){if(!(this instanceof U))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');_=_||{};var j=_.body;if(M instanceof U){if(M.bodyUsed)throw new TypeError("Already read");this.url=M.url,this.credentials=M.credentials,_.headers||(this.headers=new E(M.headers)),this.method=M.method,this.mode=M.mode,this.signal=M.signal,!j&&M._bodyInit!=null&&(j=M._bodyInit,M.bodyUsed=!0)}else this.url=String(M);if(this.credentials=_.credentials||this.credentials||"same-origin",(_.headers||!this.headers)&&(this.headers=new E(_.headers)),this.method=L(_.method||this.method||"GET"),this.mode=_.mode||this.mode||null,this.signal=_.signal||this.signal||(function(){if("AbortController"in l){var V=new AbortController;return V.signal}})(),this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&j)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(j),(this.method==="GET"||this.method==="HEAD")&&(_.cache==="no-store"||_.cache==="no-cache")){var q=/([?&])_=[^&]*/;if(q.test(this.url))this.url=this.url.replace(q,"$1_="+new Date().getTime());else{var W=/\?/;this.url+=(W.test(this.url)?"&":"?")+"_="+new Date().getTime()}}}U.prototype.clone=function(){return new U(this,{body:this._bodyInit})};function D(M){var _=new FormData;return M.trim().split("&").forEach(function(j){if(j){var q=j.split("="),W=q.shift().replace(/\+/g," "),V=q.join("=").replace(/\+/g," ");_.append(decodeURIComponent(W),decodeURIComponent(V))}}),_}function B(M){var _=new E,j=M.replace(/\r?\n[\t ]+/g," ");return j.split("\r").map(function(q){return q.indexOf(`
`)===0?q.substr(1,q.length):q}).forEach(function(q){var W=q.split(":"),V=W.shift().trim();if(V){var P=W.join(":").trim();try{_.append(V,P)}catch(G){console.warn("Response "+G.message)}}}),_}I.call(U.prototype);function H(M,_){if(!(this instanceof H))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');if(_||(_={}),this.type="default",this.status=_.status===void 0?200:_.status,this.status<200||this.status>599)throw new RangeError("Failed to construct 'Response': The status provided (0) is outside the range [200, 599].");this.ok=this.status>=200&&this.status<300,this.statusText=_.statusText===void 0?"":""+_.statusText,this.headers=new E(_.headers),this.url=_.url||"",this._initBody(M)}I.call(H.prototype),H.prototype.clone=function(){return new H(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new E(this.headers),url:this.url})},H.error=function(){var M=new H(null,{status:200,statusText:""});return M.ok=!1,M.status=0,M.type="error",M};var X=[301,302,303,307,308];H.redirect=function(M,_){if(X.indexOf(_)===-1)throw new RangeError("Invalid status code");return new H(null,{status:_,headers:{location:M}})},c.DOMException=l.DOMException;try{new c.DOMException}catch{c.DOMException=function(_,j){this.message=_,this.name=j;var q=Error(_);this.stack=q.stack},c.DOMException.prototype=Object.create(Error.prototype),c.DOMException.prototype.constructor=c.DOMException}function Y(M,_){return new Promise(function(j,q){var W=new U(M,_);if(W.signal&&W.signal.aborted)return q(new c.DOMException("Aborted","AbortError"));var V=new XMLHttpRequest;function P(){V.abort()}V.onload=function(){var se={statusText:V.statusText,headers:B(V.getAllResponseHeaders()||"")};W.url.indexOf("file://")===0&&(V.status<200||V.status>599)?se.status=200:se.status=V.status,se.url="responseURL"in V?V.responseURL:se.headers.get("X-Request-URL");var ue="response"in V?V.response:V.responseText;setTimeout(function(){j(new H(ue,se))},0)},V.onerror=function(){setTimeout(function(){q(new TypeError("Network request failed"))},0)},V.ontimeout=function(){setTimeout(function(){q(new TypeError("Network request timed out"))},0)},V.onabort=function(){setTimeout(function(){q(new c.DOMException("Aborted","AbortError"))},0)};function G(se){try{return se===""&&l.location.href?l.location.href:se}catch{return se}}if(V.open(W.method,G(W.url),!0),W.credentials==="include"?V.withCredentials=!0:W.credentials==="omit"&&(V.withCredentials=!1),"responseType"in V&&(f.blob?V.responseType="blob":f.arrayBuffer&&(V.responseType="arraybuffer")),_&&typeof _.headers=="object"&&!(_.headers instanceof E||l.Headers&&_.headers instanceof l.Headers)){var te=[];Object.getOwnPropertyNames(_.headers).forEach(function(se){te.push(y(se)),V.setRequestHeader(se,b(_.headers[se]))}),W.headers.forEach(function(se,ue){te.indexOf(ue)===-1&&V.setRequestHeader(ue,se)})}else W.headers.forEach(function(se,ue){V.setRequestHeader(ue,se)});W.signal&&(W.signal.addEventListener("abort",P),V.onreadystatechange=function(){V.readyState===4&&W.signal.removeEventListener("abort",P)}),V.send(typeof W._bodyInit>"u"?null:W._bodyInit)})}return Y.polyfill=!0,l.fetch||(l.fetch=Y,l.Headers=E,l.Request=U,l.Response=H),c.Headers=E,c.Request=U,c.Response=H,c.fetch=Y,Object.defineProperty(c,"__esModule",{value:!0}),c})({})})(r),r.fetch.ponyfill=!0,delete r.fetch.polyfill;var s=n.fetch?n:r;t=s.fetch,t.default=s.fetch,t.fetch=s.fetch,t.Headers=s.Headers,t.Request=s.Request,t.Response=s.Response,e.exports=t})(y0,y0.exports)),y0.exports}var Pce=Rce();const i5=Yf(Pce);var Bce=Object.defineProperty,Lce=Object.defineProperties,kce=Object.getOwnPropertyDescriptors,o5=Object.getOwnPropertySymbols,jce=Object.prototype.hasOwnProperty,zce=Object.prototype.propertyIsEnumerable,a5=(e,t,n)=>t in e?Bce(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,c5=(e,t)=>{for(var n in t||(t={}))jce.call(t,n)&&a5(e,n,t[n]);if(o5)for(var n of o5(t))zce.call(t,n)&&a5(e,n,t[n]);return e},l5=(e,t)=>Lce(e,kce(t));const Hce={Accept:"application/json","Content-Type":"application/json"},Fce="POST",u5={headers:Hce,method:Fce},f5=10;let wi=class{constructor(t,n=!1){if(this.url=t,this.disableProviderPing=n,this.events=new Vs.EventEmitter,this.isAvailable=!1,this.registering=!1,!T8(t))throw new Error(`Provided URL is not compatible with HTTP connection: ${t}`);this.url=t,this.disableProviderPing=n}get connected(){return this.isAvailable}get connecting(){return this.registering}on(t,n){this.events.on(t,n)}once(t,n){this.events.once(t,n)}off(t,n){this.events.off(t,n)}removeListener(t,n){this.events.removeListener(t,n)}async open(t=this.url){await this.register(t)}async close(){if(!this.isAvailable)throw new Error("Connection already closed");this.onClose()}async send(t){this.isAvailable||await this.register();try{const n=Yo(t),r=await(await i5(this.url,l5(c5({},u5),{body:n}))).json();this.onPayload({data:r})}catch(n){this.onError(t.id,n)}}async register(t=this.url){if(!T8(t))throw new Error(`Provided URL is not compatible with HTTP connection: ${t}`);if(this.registering){const n=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=n||this.events.listenerCount("open")>=n)&&this.events.setMaxListeners(n+1),new Promise((r,s)=>{this.events.once("register_error",o=>{this.resetMaxListeners(),s(o)}),this.events.once("open",()=>{if(this.resetMaxListeners(),typeof this.isAvailable>"u")return s(new Error("HTTP connection is missing or invalid"));r()})})}this.url=t,this.registering=!0;try{if(!this.disableProviderPing){const n=Yo({id:1,jsonrpc:"2.0",method:"test",params:[]});await i5(t,l5(c5({},u5),{body:n}))}this.onOpen()}catch(n){const r=this.parseError(n);throw this.events.emit("register_error",r),this.onClose(),r}}onOpen(){this.isAvailable=!0,this.registering=!1,this.events.emit("open")}onClose(){this.isAvailable=!1,this.registering=!1,this.events.emit("close")}onPayload(t){if(typeof t.data>"u")return;const n=typeof t.data=="string"?$l(t.data):t.data;this.events.emit("payload",n)}onError(t,n){const r=this.parseError(n),s=r.message||r.toString(),o=rw(t,s);this.events.emit("payload",o)}parseError(t,n=this.url){return NU(t,n,"HTTP")}resetMaxListeners(){this.events.getMaxListeners()>f5&&this.events.setMaxListeners(f5)}};const h5="error",qce="wss://relay.walletconnect.org",Vce="wc",Wce="universal_provider",w0=`${Vce}@2:${Wce}:`,XU="https://rpc.walletconnect.org/v1/",lf="generic",Kce=`${XU}bundler`,Ks={DEFAULT_CHAIN_CHANGED:"default_chain_changed"};function QA(e){return e==null||typeof e!="object"&&typeof e!="function"}function ZU(e){return Object.getOwnPropertySymbols(e).filter(t=>Object.prototype.propertyIsEnumerable.call(e,t))}function QU(e){return e==null?e===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e)}const Gce="[object RegExp]",JU="[object String]",eR="[object Number]",tR="[object Boolean]",nR="[object Arguments]",Yce="[object Symbol]",Xce="[object Date]",Zce="[object Map]",Qce="[object Set]",Jce="[object Array]",ele="[object ArrayBuffer]",tle="[object Object]",nle="[object DataView]",rle="[object Uint8Array]",sle="[object Uint8ClampedArray]",ile="[object Uint16Array]",ole="[object Uint32Array]",ale="[object Int8Array]",cle="[object Int16Array]",lle="[object Int32Array]",ule="[object Float32Array]",fle="[object Float64Array]";function JA(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function hle(e,t){return Sf(e,void 0,e,new Map,t)}function Sf(e,t,n,r=new Map,s=void 0){const o=s?.(e,t,n,r);if(o!=null)return o;if(QA(e))return e;if(r.has(e))return r.get(e);if(Array.isArray(e)){const c=new Array(e.length);r.set(e,c);for(let l=0;l<e.length;l++)c[l]=Sf(e[l],l,n,r,s);return Object.hasOwn(e,"index")&&(c.index=e.index),Object.hasOwn(e,"input")&&(c.input=e.input),c}if(e instanceof Date)return new Date(e.getTime());if(e instanceof RegExp){const c=new RegExp(e.source,e.flags);return c.lastIndex=e.lastIndex,c}if(e instanceof Map){const c=new Map;r.set(e,c);for(const[l,f]of e)c.set(l,Sf(f,l,n,r,s));return c}if(e instanceof Set){const c=new Set;r.set(e,c);for(const l of e)c.add(Sf(l,void 0,n,r,s));return c}if(typeof Buffer<"u"&&Buffer.isBuffer(e))return e.subarray();if(JA(e)){const c=new(Object.getPrototypeOf(e)).constructor(e.length);r.set(e,c);for(let l=0;l<e.length;l++)c[l]=Sf(e[l],l,n,r,s);return c}if(e instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&e instanceof SharedArrayBuffer)return e.slice(0);if(e instanceof DataView){const c=new DataView(e.buffer.slice(0),e.byteOffset,e.byteLength);return r.set(e,c),ul(c,e,n,r,s),c}if(typeof File<"u"&&e instanceof File){const c=new File([e],e.name,{type:e.type});return r.set(e,c),ul(c,e,n,r,s),c}if(e instanceof Blob){const c=new Blob([e],{type:e.type});return r.set(e,c),ul(c,e,n,r,s),c}if(e instanceof Error){const c=new e.constructor;return r.set(e,c),c.message=e.message,c.name=e.name,c.stack=e.stack,c.cause=e.cause,ul(c,e,n,r,s),c}if(typeof e=="object"&&dle(e)){const c=Object.create(Object.getPrototypeOf(e));return r.set(e,c),ul(c,e,n,r,s),c}return e}function ul(e,t,n=e,r,s){const o=[...Object.keys(t),...ZU(t)];for(let c=0;c<o.length;c++){const l=o[c],f=Object.getOwnPropertyDescriptor(e,l);(f==null||f.writable)&&(e[l]=Sf(t[l],l,n,r,s))}}function dle(e){switch(QU(e)){case nR:case Jce:case ele:case nle:case tR:case Xce:case ule:case fle:case ale:case cle:case lle:case Zce:case eR:case tle:case Gce:case Qce:case JU:case Yce:case rle:case sle:case ile:case ole:return!0;default:return!1}}function ple(e,t){return hle(e,(n,r,s,o)=>{if(typeof e=="object")switch(Object.prototype.toString.call(e)){case eR:case JU:case tR:{const c=new e.constructor(e?.valueOf());return ul(c,e),c}case nR:{const c={};return ul(c,e),c.length=e.length,c[Symbol.iterator]=e[Symbol.iterator],c}default:return}})}function d5(e){return ple(e)}function p5(e){return e!==null&&typeof e=="object"&&QU(e)==="[object Arguments]"}function g5(e){return typeof e=="object"&&e!==null}function gle(){}function mle(e){return JA(e)}function yle(e){if(typeof e!="object"||e==null)return!1;if(Object.getPrototypeOf(e)===null)return!0;if(Object.prototype.toString.call(e)!=="[object Object]"){const n=e[Symbol.toStringTag];return n==null||!Object.getOwnPropertyDescriptor(e,Symbol.toStringTag)?.writable?!1:e.toString()===`[object ${n}]`}let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function wle(e){if(QA(e))return e;if(Array.isArray(e)||JA(e)||e instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&e instanceof SharedArrayBuffer)return e.slice(0);const t=Object.getPrototypeOf(e),n=t.constructor;if(e instanceof Date||e instanceof Map||e instanceof Set)return new n(e);if(e instanceof RegExp){const r=new n(e);return r.lastIndex=e.lastIndex,r}if(e instanceof DataView)return new n(e.buffer.slice(0));if(e instanceof Error){const r=new n(e.message);return r.stack=e.stack,r.name=e.name,r.cause=e.cause,r}if(typeof File<"u"&&e instanceof File)return new n([e],e.name,{type:e.type,lastModified:e.lastModified});if(typeof e=="object"){const r=Object.create(t);return Object.assign(r,e)}return e}function ble(e,...t){const n=t.slice(0,-1),r=t[t.length-1];let s=e;for(let o=0;o<n.length;o++){const c=n[o];s=VE(s,c,r,new Map)}return s}function VE(e,t,n,r){if(QA(e)&&(e=Object(e)),t==null||typeof t!="object")return e;if(r.has(t))return wle(r.get(t));if(r.set(t,e),Array.isArray(t)){t=t.slice();for(let o=0;o<t.length;o++)t[o]=t[o]??void 0}const s=[...Object.keys(t),...ZU(t)];for(let o=0;o<s.length;o++){const c=s[o];let l=t[c],f=e[c];if(p5(l)&&(l={...l}),p5(f)&&(f={...f}),typeof Buffer<"u"&&Buffer.isBuffer(l)&&(l=d5(l)),Array.isArray(l))if(typeof f=="object"&&f!=null){const p=[],g=Reflect.ownKeys(f);for(let y=0;y<g.length;y++){const b=g[y];p[b]=f[b]}f=p}else f=[];const d=n(f,l,c,e,t,r);d!=null?e[c]=d:Array.isArray(l)||g5(f)&&g5(l)?e[c]=VE(f,l,n,r):f==null&&yle(l)?e[c]=VE({},l,n,r):f==null&&mle(l)?e[c]=d5(l):(f===void 0||l!==void 0)&&(e[c]=l)}return e}function vle(e,...t){return ble(e,...t,gle)}var Ele=Object.defineProperty,Sle=Object.defineProperties,Ale=Object.getOwnPropertyDescriptors,m5=Object.getOwnPropertySymbols,Cle=Object.prototype.hasOwnProperty,xle=Object.prototype.propertyIsEnumerable,y5=(e,t,n)=>t in e?Ele(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,b0=(e,t)=>{for(var n in t||(t={}))Cle.call(t,n)&&y5(e,n,t[n]);if(m5)for(var n of m5(t))xle.call(t,n)&&y5(e,n,t[n]);return e},Nle=(e,t)=>Sle(e,Ale(t));function ds(e,t,n){var r;const s=_f(e);return((r=t.rpcMap)==null?void 0:r[s.reference])||`${XU}?chainId=${s.namespace}:${s.reference}&projectId=${n}`}function ql(e){return e.includes(":")?e.split(":")[1]:e}function rR(e){return e.map(t=>`${t.split(":")[0]}:${t.split(":")[1]}`)}function Tle(e,t){const n=Object.keys(t.namespaces).filter(s=>s.includes(e));if(!n.length)return[];const r=[];return n.forEach(s=>{const o=t.namespaces[s].accounts;r.push(...o)}),r}function w5(e){return Object.fromEntries(Object.entries(e).filter(([t,n])=>{var r,s;return((r=n?.chains)==null?void 0:r.length)&&((s=n?.chains)==null?void 0:s.length)>0}))}function v0(e={},t={}){const n=w5(b5(e)),r=w5(b5(t));return vle(n,r)}function b5(e){var t,n,r,s,o;const c={};if(!Zi(e))return c;for(const[l,f]of Object.entries(e)){const d=tw(l)?[l]:f.chains,p=f.methods||[],g=f.events||[],y=f.rpcMap||{},b=Ef(l);c[b]=Nle(b0(b0({},c[b]),f),{chains:Xi(d,(t=c[b])==null?void 0:t.chains),methods:Xi(p,(n=c[b])==null?void 0:n.methods),events:Xi(g,(r=c[b])==null?void 0:r.events)}),(Zi(y)||Zi(((s=c[b])==null?void 0:s.rpcMap)||{}))&&(c[b].rpcMap=b0(b0({},y),(o=c[b])==null?void 0:o.rpcMap))}return c}function v5(e){return e.includes(":")?e.split(":")[2]:e}function E5(e){const t={};for(const[n,r]of Object.entries(e)){const s=r.methods||[],o=r.events||[],c=r.accounts||[],l=tw(n)?[n]:r.chains?r.chains:rR(r.accounts);t[n]={chains:l,methods:s,events:o,accounts:c}}return t}function Wv(e){return typeof e=="number"?e:e.includes("0x")?parseInt(e,16):(e=e.includes(":")?e.split(":")[1]:e,isNaN(Number(e))?e:Number(e))}const sR={},pt=e=>sR[e],Kv=(e,t)=>{sR[e]=t};var _le=Object.defineProperty,S5=Object.getOwnPropertySymbols,Ile=Object.prototype.hasOwnProperty,Ole=Object.prototype.propertyIsEnumerable,A5=(e,t,n)=>t in e?_le(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,C5=(e,t)=>{for(var n in t||(t={}))Ile.call(t,n)&&A5(e,n,t[n]);if(S5)for(var n of S5(t))Ole.call(t,n)&&A5(e,n,t[n]);return e};const x5="eip155",Dle=["atomic","flow-control","paymasterService","sessionKeys","auxiliaryFunds"],Mle=e=>e&&e.startsWith("0x")?BigInt(e).toString(10):e,Gv=e=>e&&e.startsWith("0x")?e:`0x${BigInt(e).toString(16)}`,N5=e=>Object.keys(e).filter(t=>Dle.includes(t)).reduce((t,n)=>(t[n]=e[n],t),{}),$le=(e,t,n)=>{const{sessionProperties:r={},scopedProperties:s={}}=e,o={};if(!Zi(s)&&!Zi(r))return;const c=N5(r);for(const l of n){const f=Mle(l);if(!f)continue;o[Gv(f)]=c;const d=s?.[`${x5}:${f}`];if(d){const p=d?.[`${x5}:${f}:${t}`];o[Gv(f)]=C5(C5({},o[Gv(f)]),N5(p||d))}}for(const[l,f]of Object.entries(o))Object.keys(f).length===0&&delete o[l];return Object.keys(o).length>0?o:void 0};var Ule=Object.defineProperty,Rle=(e,t,n)=>t in e?Ule(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Ku=(e,t,n)=>Rle(e,typeof t!="symbol"?t+"":t,n);let Ple=class{constructor(t){Ku(this,"name","polkadot"),Ku(this,"client"),Ku(this,"httpProviders"),Ku(this,"events"),Ku(this,"namespace"),Ku(this,"chainId"),this.namespace=t.namespace,this.events=pt("events"),this.client=pt("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(t){this.namespace=Object.assign(this.namespace,t)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const t=this.namespace.chains[0];if(!t)throw new Error("ChainId not found");return t.split(":")[1]}request(t){return this.namespace.methods.includes(t.request.method)?this.client.request(t):this.getHttpProvider().request(t.request)}setDefaultChain(t,n){this.httpProviders[t]||this.setHttpProvider(t,n),this.chainId=t,this.events.emit(Ks.DEFAULT_CHAIN_CHANGED,`${this.name}:${t}`)}getAccounts(){const t=this.namespace.accounts;return t?t.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2])||[]:[]}createHttpProviders(){const t={};return this.namespace.chains.forEach(n=>{var r;const s=ql(n);t[s]=this.createHttpProvider(s,(r=this.namespace.rpcMap)==null?void 0:r[n])}),t}getHttpProvider(){const t=`${this.name}:${this.chainId}`,n=this.httpProviders[t];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${t} not found`);return n}setHttpProvider(t,n){const r=this.createHttpProvider(t,n);r&&(this.httpProviders[t]=r)}createHttpProvider(t,n){const r=n||ds(t,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${t}`);return new Ws(new wi(r,pt("disableProviderPing")))}};var Ble=Object.defineProperty,Lle=Object.defineProperties,kle=Object.getOwnPropertyDescriptors,T5=Object.getOwnPropertySymbols,jle=Object.prototype.hasOwnProperty,zle=Object.prototype.propertyIsEnumerable,WE=(e,t,n)=>t in e?Ble(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,_5=(e,t)=>{for(var n in t||(t={}))jle.call(t,n)&&WE(e,n,t[n]);if(T5)for(var n of T5(t))zle.call(t,n)&&WE(e,n,t[n]);return e},I5=(e,t)=>Lle(e,kle(t)),Gu=(e,t,n)=>WE(e,typeof t!="symbol"?t+"":t,n);let Hle=class{constructor(t){Gu(this,"name","eip155"),Gu(this,"client"),Gu(this,"chainId"),Gu(this,"namespace"),Gu(this,"httpProviders"),Gu(this,"events"),this.namespace=t.namespace,this.events=pt("events"),this.client=pt("client"),this.httpProviders=this.createHttpProviders(),this.chainId=parseInt(this.getDefaultChain())}async request(t){switch(t.request.method){case"eth_requestAccounts":return this.getAccounts();case"eth_accounts":return this.getAccounts();case"wallet_switchEthereumChain":return await this.handleSwitchChain(t);case"eth_chainId":return parseInt(this.getDefaultChain());case"wallet_getCapabilities":return await this.getCapabilities(t);case"wallet_getCallsStatus":return await this.getCallStatus(t)}return this.namespace.methods.includes(t.request.method)?await this.client.request(t):this.getHttpProvider().request(t.request)}updateNamespace(t){this.namespace=Object.assign(this.namespace,t)}setDefaultChain(t,n){this.httpProviders[t]||this.setHttpProvider(parseInt(t),n),this.chainId=parseInt(t),this.events.emit(Ks.DEFAULT_CHAIN_CHANGED,`${this.name}:${t}`)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId.toString();if(this.namespace.defaultChain)return this.namespace.defaultChain;const t=this.namespace.chains[0];if(!t)throw new Error("ChainId not found");return t.split(":")[1]}createHttpProvider(t,n){const r=n||ds(`${this.name}:${t}`,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${t}`);return new Ws(new wi(r,pt("disableProviderPing")))}setHttpProvider(t,n){const r=this.createHttpProvider(t,n);r&&(this.httpProviders[t]=r)}createHttpProviders(){const t={};return this.namespace.chains.forEach(n=>{var r;const s=parseInt(ql(n));t[s]=this.createHttpProvider(s,(r=this.namespace.rpcMap)==null?void 0:r[n])}),t}getAccounts(){const t=this.namespace.accounts;return t?[...new Set(t.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}getHttpProvider(){const t=this.chainId,n=this.httpProviders[t];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${t} not found`);return n}async handleSwitchChain(t){var n,r;let s=t.request.params?(n=t.request.params[0])==null?void 0:n.chainId:"0x0";s=s.startsWith("0x")?s:`0x${s}`;const o=parseInt(s,16);if(this.isChainApproved(o))this.setDefaultChain(`${o}`);else if(this.namespace.methods.includes("wallet_switchEthereumChain"))await this.client.request({topic:t.topic,request:{method:t.request.method,params:[{chainId:s}]},chainId:(r=this.namespace.chains)==null?void 0:r[0]}),this.setDefaultChain(`${o}`);else throw new Error(`Failed to switch to chain 'eip155:${o}'. The chain is not approved or the wallet does not support 'wallet_switchEthereumChain' method.`);return null}isChainApproved(t){return this.namespace.chains.includes(`${this.name}:${t}`)}async getCapabilities(t){var n,r,s,o,c;const l=(r=(n=t.request)==null?void 0:n.params)==null?void 0:r[0],f=((o=(s=t.request)==null?void 0:s.params)==null?void 0:o[1])||[];if(!l)throw new Error("Missing address parameter in `wallet_getCapabilities` request");const d=this.client.session.get(t.topic),p=((c=d?.sessionProperties)==null?void 0:c.capabilities)||{},g=`${l}${f.join(",")}`,y=p?.[g];if(y)return y;let b;try{b=$le(d,l,f)}catch(E){console.warn("Failed to extract capabilities from session",E)}if(b)return b;const v=await this.client.request(t);try{await this.client.session.update(t.topic,{sessionProperties:I5(_5({},d.sessionProperties||{}),{capabilities:I5(_5({},p||{}),{[g]:v})})})}catch(E){console.warn("Failed to update session with capabilities",E)}return v}async getCallStatus(t){var n,r;const s=this.client.session.get(t.topic),o=(n=s.sessionProperties)==null?void 0:n.bundler_name;if(o){const l=this.getBundlerUrl(t.chainId,o);try{return await this.getUserOperationReceipt(l,t)}catch(f){console.warn("Failed to fetch call status from bundler",f,l)}}const c=(r=s.sessionProperties)==null?void 0:r.bundler_url;if(c)try{return await this.getUserOperationReceipt(c,t)}catch(l){console.warn("Failed to fetch call status from custom bundler",l,c)}if(this.namespace.methods.includes(t.request.method))return await this.client.request(t);throw new Error("Fetching call status not approved by the wallet.")}async getUserOperationReceipt(t,n){var r;const s=new URL(t),o=await fetch(s,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(nc("eth_getUserOperationReceipt",[(r=n.request.params)==null?void 0:r[0]]))});if(!o.ok)throw new Error(`Failed to fetch user operation receipt - ${o.status}`);return await o.json()}getBundlerUrl(t,n){return`${Kce}?projectId=${this.client.core.projectId}&chainId=${t}&bundler=${n}`}};var Fle=Object.defineProperty,qle=(e,t,n)=>t in e?Fle(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Yu=(e,t,n)=>qle(e,typeof t!="symbol"?t+"":t,n);let Vle=class{constructor(t){Yu(this,"name","solana"),Yu(this,"client"),Yu(this,"httpProviders"),Yu(this,"events"),Yu(this,"namespace"),Yu(this,"chainId"),this.namespace=t.namespace,this.events=pt("events"),this.client=pt("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(t){this.namespace=Object.assign(this.namespace,t)}requestAccounts(){return this.getAccounts()}request(t){return this.namespace.methods.includes(t.request.method)?this.client.request(t):this.getHttpProvider().request(t.request)}setDefaultChain(t,n){this.httpProviders[t]||this.setHttpProvider(t,n),this.chainId=t,this.events.emit(Ks.DEFAULT_CHAIN_CHANGED,`${this.name}:${t}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const t=this.namespace.chains[0];if(!t)throw new Error("ChainId not found");return t.split(":")[1]}getAccounts(){const t=this.namespace.accounts;return t?[...new Set(t.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}createHttpProviders(){const t={};return this.namespace.chains.forEach(n=>{var r;const s=ql(n);t[s]=this.createHttpProvider(s,(r=this.namespace.rpcMap)==null?void 0:r[n])}),t}getHttpProvider(){const t=`${this.name}:${this.chainId}`,n=this.httpProviders[t];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${t} not found`);return n}setHttpProvider(t,n){const r=this.createHttpProvider(t,n);r&&(this.httpProviders[t]=r)}createHttpProvider(t,n){const r=n||ds(t,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${t}`);return new Ws(new wi(r,pt("disableProviderPing")))}};var Wle=Object.defineProperty,Kle=(e,t,n)=>t in e?Wle(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Xu=(e,t,n)=>Kle(e,typeof t!="symbol"?t+"":t,n);let Gle=class{constructor(t){Xu(this,"name","cosmos"),Xu(this,"client"),Xu(this,"httpProviders"),Xu(this,"events"),Xu(this,"namespace"),Xu(this,"chainId"),this.namespace=t.namespace,this.events=pt("events"),this.client=pt("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(t){this.namespace=Object.assign(this.namespace,t)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const t=this.namespace.chains[0];if(!t)throw new Error("ChainId not found");return t.split(":")[1]}request(t){return this.namespace.methods.includes(t.request.method)?this.client.request(t):this.getHttpProvider().request(t.request)}setDefaultChain(t,n){this.httpProviders[t]||this.setHttpProvider(t,n),this.chainId=t,this.events.emit(Ks.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const t=this.namespace.accounts;return t?[...new Set(t.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}createHttpProviders(){const t={};return this.namespace.chains.forEach(n=>{var r;const s=ql(n);t[s]=this.createHttpProvider(s,(r=this.namespace.rpcMap)==null?void 0:r[n])}),t}getHttpProvider(){const t=`${this.name}:${this.chainId}`,n=this.httpProviders[t];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${t} not found`);return n}setHttpProvider(t,n){const r=this.createHttpProvider(t,n);r&&(this.httpProviders[t]=r)}createHttpProvider(t,n){const r=n||ds(t,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${t}`);return new Ws(new wi(r,pt("disableProviderPing")))}};var Yle=Object.defineProperty,Xle=(e,t,n)=>t in e?Yle(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Zu=(e,t,n)=>Xle(e,typeof t!="symbol"?t+"":t,n);let Zle=class{constructor(t){Zu(this,"name","algorand"),Zu(this,"client"),Zu(this,"httpProviders"),Zu(this,"events"),Zu(this,"namespace"),Zu(this,"chainId"),this.namespace=t.namespace,this.events=pt("events"),this.client=pt("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(t){this.namespace=Object.assign(this.namespace,t)}requestAccounts(){return this.getAccounts()}request(t){return this.namespace.methods.includes(t.request.method)?this.client.request(t):this.getHttpProvider().request(t.request)}setDefaultChain(t,n){if(!this.httpProviders[t]){const r=n||ds(`${this.name}:${t}`,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${t}`);this.setHttpProvider(t,r)}this.chainId=t,this.events.emit(Ks.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const t=this.namespace.chains[0];if(!t)throw new Error("ChainId not found");return t.split(":")[1]}getAccounts(){const t=this.namespace.accounts;return t?[...new Set(t.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}createHttpProviders(){const t={};return this.namespace.chains.forEach(n=>{var r;t[n]=this.createHttpProvider(n,(r=this.namespace.rpcMap)==null?void 0:r[n])}),t}getHttpProvider(){const t=`${this.name}:${this.chainId}`,n=this.httpProviders[t];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${t} not found`);return n}setHttpProvider(t,n){const r=this.createHttpProvider(t,n);r&&(this.httpProviders[t]=r)}createHttpProvider(t,n){const r=n||ds(t,this.namespace,this.client.core.projectId);return typeof r>"u"?void 0:new Ws(new wi(r,pt("disableProviderPing")))}};var Qle=Object.defineProperty,Jle=(e,t,n)=>t in e?Qle(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Qu=(e,t,n)=>Jle(e,typeof t!="symbol"?t+"":t,n);class eue{constructor(t){Qu(this,"name","cip34"),Qu(this,"client"),Qu(this,"httpProviders"),Qu(this,"events"),Qu(this,"namespace"),Qu(this,"chainId"),this.namespace=t.namespace,this.events=pt("events"),this.client=pt("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(t){this.namespace=Object.assign(this.namespace,t)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const t=this.namespace.chains[0];if(!t)throw new Error("ChainId not found");return t.split(":")[1]}request(t){return this.namespace.methods.includes(t.request.method)?this.client.request(t):this.getHttpProvider().request(t.request)}setDefaultChain(t,n){this.httpProviders[t]||this.setHttpProvider(t,n),this.chainId=t,this.events.emit(Ks.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const t=this.namespace.accounts;return t?[...new Set(t.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}createHttpProviders(){const t={};return this.namespace.chains.forEach(n=>{const r=this.getCardanoRPCUrl(n),s=ql(n);t[s]=this.createHttpProvider(s,r)}),t}getHttpProvider(){const t=`${this.name}:${this.chainId}`,n=this.httpProviders[t];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${t} not found`);return n}getCardanoRPCUrl(t){const n=this.namespace.rpcMap;if(n)return n[t]}setHttpProvider(t,n){const r=this.createHttpProvider(t,n);r&&(this.httpProviders[t]=r)}createHttpProvider(t,n){const r=n||this.getCardanoRPCUrl(t);if(!r)throw new Error(`No RPC url provided for chainId: ${t}`);return new Ws(new wi(r,pt("disableProviderPing")))}}var tue=Object.defineProperty,nue=(e,t,n)=>t in e?tue(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Ju=(e,t,n)=>nue(e,typeof t!="symbol"?t+"":t,n);let rue=class{constructor(t){Ju(this,"name","elrond"),Ju(this,"client"),Ju(this,"httpProviders"),Ju(this,"events"),Ju(this,"namespace"),Ju(this,"chainId"),this.namespace=t.namespace,this.events=pt("events"),this.client=pt("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(t){this.namespace=Object.assign(this.namespace,t)}requestAccounts(){return this.getAccounts()}request(t){return this.namespace.methods.includes(t.request.method)?this.client.request(t):this.getHttpProvider().request(t.request)}setDefaultChain(t,n){this.httpProviders[t]||this.setHttpProvider(t,n),this.chainId=t,this.events.emit(Ks.DEFAULT_CHAIN_CHANGED,`${this.name}:${t}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const t=this.namespace.chains[0];if(!t)throw new Error("ChainId not found");return t.split(":")[1]}getAccounts(){const t=this.namespace.accounts;return t?[...new Set(t.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}createHttpProviders(){const t={};return this.namespace.chains.forEach(n=>{var r;const s=ql(n);t[s]=this.createHttpProvider(s,(r=this.namespace.rpcMap)==null?void 0:r[n])}),t}getHttpProvider(){const t=`${this.name}:${this.chainId}`,n=this.httpProviders[t];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${t} not found`);return n}setHttpProvider(t,n){const r=this.createHttpProvider(t,n);r&&(this.httpProviders[t]=r)}createHttpProvider(t,n){const r=n||ds(t,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${t}`);return new Ws(new wi(r,pt("disableProviderPing")))}};var sue=Object.defineProperty,iue=(e,t,n)=>t in e?sue(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ef=(e,t,n)=>iue(e,typeof t!="symbol"?t+"":t,n);class oue{constructor(t){ef(this,"name","multiversx"),ef(this,"client"),ef(this,"httpProviders"),ef(this,"events"),ef(this,"namespace"),ef(this,"chainId"),this.namespace=t.namespace,this.events=pt("events"),this.client=pt("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(t){this.namespace=Object.assign(this.namespace,t)}requestAccounts(){return this.getAccounts()}request(t){return this.namespace.methods.includes(t.request.method)?this.client.request(t):this.getHttpProvider().request(t.request)}setDefaultChain(t,n){this.httpProviders[t]||this.setHttpProvider(t,n),this.chainId=t,this.events.emit(Ks.DEFAULT_CHAIN_CHANGED,`${this.name}:${t}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const t=this.namespace.chains[0];if(!t)throw new Error("ChainId not found");return t.split(":")[1]}getAccounts(){const t=this.namespace.accounts;return t?[...new Set(t.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}createHttpProviders(){const t={};return this.namespace.chains.forEach(n=>{var r;const s=ql(n);t[s]=this.createHttpProvider(s,(r=this.namespace.rpcMap)==null?void 0:r[n])}),t}getHttpProvider(){const t=`${this.name}:${this.chainId}`,n=this.httpProviders[t];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${t} not found`);return n}setHttpProvider(t,n){const r=this.createHttpProvider(t,n);r&&(this.httpProviders[t]=r)}createHttpProvider(t,n){const r=n||ds(t,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${t}`);return new Ws(new wi(r,pt("disableProviderPing")))}}var aue=Object.defineProperty,cue=(e,t,n)=>t in e?aue(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,tf=(e,t,n)=>cue(e,typeof t!="symbol"?t+"":t,n);class lue{constructor(t){tf(this,"name","near"),tf(this,"client"),tf(this,"httpProviders"),tf(this,"events"),tf(this,"namespace"),tf(this,"chainId"),this.namespace=t.namespace,this.events=pt("events"),this.client=pt("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(t){this.namespace=Object.assign(this.namespace,t)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const t=this.namespace.chains[0];if(!t)throw new Error("ChainId not found");return t.split(":")[1]}request(t){return this.namespace.methods.includes(t.request.method)?this.client.request(t):this.getHttpProvider().request(t.request)}setDefaultChain(t,n){if(this.chainId=t,!this.httpProviders[t]){const r=n||ds(`${this.name}:${t}`,this.namespace);if(!r)throw new Error(`No RPC url provided for chainId: ${t}`);this.setHttpProvider(t,r)}this.events.emit(Ks.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const t=this.namespace.accounts;return t?t.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2])||[]:[]}createHttpProviders(){const t={};return this.namespace.chains.forEach(n=>{var r;t[n]=this.createHttpProvider(n,(r=this.namespace.rpcMap)==null?void 0:r[n])}),t}getHttpProvider(){const t=`${this.name}:${this.chainId}`,n=this.httpProviders[t];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${t} not found`);return n}setHttpProvider(t,n){const r=this.createHttpProvider(t,n);r&&(this.httpProviders[t]=r)}createHttpProvider(t,n){const r=n||ds(t,this.namespace);return typeof r>"u"?void 0:new Ws(new wi(r,pt("disableProviderPing")))}}var uue=Object.defineProperty,fue=(e,t,n)=>t in e?uue(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,nf=(e,t,n)=>fue(e,typeof t!="symbol"?t+"":t,n);class hue{constructor(t){nf(this,"name","tezos"),nf(this,"client"),nf(this,"httpProviders"),nf(this,"events"),nf(this,"namespace"),nf(this,"chainId"),this.namespace=t.namespace,this.events=pt("events"),this.client=pt("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(t){this.namespace=Object.assign(this.namespace,t)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const t=this.namespace.chains[0];if(!t)throw new Error("ChainId not found");return t.split(":")[1]}request(t){return this.namespace.methods.includes(t.request.method)?this.client.request(t):this.getHttpProvider().request(t.request)}setDefaultChain(t,n){if(this.chainId=t,!this.httpProviders[t]){const r=n||ds(`${this.name}:${t}`,this.namespace);if(!r)throw new Error(`No RPC url provided for chainId: ${t}`);this.setHttpProvider(t,r)}this.events.emit(Ks.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const t=this.namespace.accounts;return t?t.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2])||[]:[]}createHttpProviders(){const t={};return this.namespace.chains.forEach(n=>{t[n]=this.createHttpProvider(n)}),t}getHttpProvider(){const t=`${this.name}:${this.chainId}`,n=this.httpProviders[t];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${t} not found`);return n}setHttpProvider(t,n){const r=this.createHttpProvider(t,n);r&&(this.httpProviders[t]=r)}createHttpProvider(t,n){const r=n||ds(t,this.namespace);return typeof r>"u"?void 0:new Ws(new wi(r))}}var due=Object.defineProperty,pue=(e,t,n)=>t in e?due(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,rf=(e,t,n)=>pue(e,typeof t!="symbol"?t+"":t,n);class gue{constructor(t){rf(this,"name",lf),rf(this,"client"),rf(this,"httpProviders"),rf(this,"events"),rf(this,"namespace"),rf(this,"chainId"),this.namespace=t.namespace,this.events=pt("events"),this.client=pt("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(t){this.namespace.chains=[...new Set((this.namespace.chains||[]).concat(t.chains||[]))],this.namespace.accounts=[...new Set((this.namespace.accounts||[]).concat(t.accounts||[]))],this.namespace.methods=[...new Set((this.namespace.methods||[]).concat(t.methods||[]))],this.namespace.events=[...new Set((this.namespace.events||[]).concat(t.events||[]))],this.httpProviders=this.createHttpProviders()}requestAccounts(){return this.getAccounts()}request(t){return this.namespace.methods.includes(t.request.method)?this.client.request(t):this.getHttpProvider(t.chainId).request(t.request)}setDefaultChain(t,n){this.httpProviders[t]||this.setHttpProvider(t,n),this.chainId=t,this.events.emit(Ks.DEFAULT_CHAIN_CHANGED,`${this.name}:${t}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const t=this.namespace.chains[0];if(!t)throw new Error("ChainId not found");return t.split(":")[1]}getAccounts(){const t=this.namespace.accounts;return t?[...new Set(t.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}createHttpProviders(){var t,n;const r={};return(n=(t=this.namespace)==null?void 0:t.accounts)==null||n.forEach(s=>{const o=_f(s);r[`${o.namespace}:${o.reference}`]=this.createHttpProvider(s)}),r}getHttpProvider(t){const n=this.httpProviders[t];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${t} not found`);return n}setHttpProvider(t,n){const r=this.createHttpProvider(t,n);r&&(this.httpProviders[t]=r)}createHttpProvider(t,n){const r=n||ds(t,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${t}`);return new Ws(new wi(r,pt("disableProviderPing")))}}var mue=Object.defineProperty,yue=Object.defineProperties,wue=Object.getOwnPropertyDescriptors,O5=Object.getOwnPropertySymbols,bue=Object.prototype.hasOwnProperty,vue=Object.prototype.propertyIsEnumerable,KE=(e,t,n)=>t in e?mue(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,E0=(e,t)=>{for(var n in t||(t={}))bue.call(t,n)&&KE(e,n,t[n]);if(O5)for(var n of O5(t))vue.call(t,n)&&KE(e,n,t[n]);return e},Yv=(e,t)=>yue(e,wue(t)),Ds=(e,t,n)=>KE(e,typeof t!="symbol"?t+"":t,n);class aw{constructor(t){Ds(this,"client"),Ds(this,"namespaces"),Ds(this,"optionalNamespaces"),Ds(this,"sessionProperties"),Ds(this,"scopedProperties"),Ds(this,"events",new AA),Ds(this,"rpcProviders",{}),Ds(this,"session"),Ds(this,"providerOpts"),Ds(this,"logger"),Ds(this,"uri"),Ds(this,"disableProviderPing",!1),this.providerOpts=t,this.logger=typeof t?.logger<"u"&&typeof t?.logger!="string"?t.logger:hg(pg({level:t?.logger||h5})),this.disableProviderPing=t?.disableProviderPing||!1}static async init(t){const n=new aw(t);return await n.initialize(),n}async request(t,n,r){const[s,o]=this.validateChain(n);if(!this.session)throw new Error("Please call connect() before request()");return await this.getProvider(s).request({request:E0({},t),chainId:`${s}:${o}`,topic:this.session.topic,expiry:r})}sendAsync(t,n,r,s){const o=new Date().getTime();this.request(t,r,s).then(c=>n(null,nw(o,c))).catch(c=>n(c,void 0))}async enable(){if(!this.client)throw new Error("Sign Client not initialized");return this.session||await this.connect({namespaces:this.namespaces,optionalNamespaces:this.optionalNamespaces,sessionProperties:this.sessionProperties,scopedProperties:this.scopedProperties}),await this.requestAccounts()}async disconnect(){var t;if(!this.session)throw new Error("Please call connect() before enable()");await this.client.disconnect({topic:(t=this.session)==null?void 0:t.topic,reason:Yt("USER_DISCONNECTED")}),await this.cleanup()}async connect(t){if(!this.client)throw new Error("Sign Client not initialized");if(this.setNamespaces(t),await this.cleanupPendingPairings(),!t.skipPairing)return await this.pair(t.pairingTopic)}async authenticate(t,n){if(!this.client)throw new Error("Sign Client not initialized");this.setNamespaces(t),await this.cleanupPendingPairings();const{uri:r,response:s}=await this.client.authenticate(t,n);r&&(this.uri=r,this.events.emit("display_uri",r));const o=await s();if(this.session=o.session,this.session){const c=E5(this.session.namespaces);this.namespaces=v0(this.namespaces,c),await this.persist("namespaces",this.namespaces),this.onConnect()}return o}on(t,n){this.events.on(t,n)}once(t,n){this.events.once(t,n)}removeListener(t,n){this.events.removeListener(t,n)}off(t,n){this.events.off(t,n)}get isWalletConnect(){return!0}async pair(t){const{uri:n,approval:r}=await this.client.connect({pairingTopic:t,requiredNamespaces:this.namespaces,optionalNamespaces:this.optionalNamespaces,sessionProperties:this.sessionProperties,scopedProperties:this.scopedProperties});n&&(this.uri=n,this.events.emit("display_uri",n));const s=await r();this.session=s;const o=E5(s.namespaces);return this.namespaces=v0(this.namespaces,o),await this.persist("namespaces",this.namespaces),await this.persist("optionalNamespaces",this.optionalNamespaces),this.onConnect(),this.session}setDefaultChain(t,n){try{if(!this.session)return;const[r,s]=this.validateChain(t),o=this.getProvider(r);o.name===lf?o.setDefaultChain(`${r}:${s}`,n):o.setDefaultChain(s,n)}catch(r){if(!/Please call connect/.test(r.message))throw r}}async cleanupPendingPairings(t={}){this.logger.info("Cleaning up inactive pairings...");const n=this.client.pairing.getAll();if(qo(n)){for(const r of n)t.deletePairings?this.client.core.expirer.set(r.topic,0):await this.client.core.relayer.subscriber.unsubscribe(r.topic);this.logger.info(`Inactive pairings cleared: ${n.length}`)}}abortPairingAttempt(){this.logger.warn("abortPairingAttempt is deprecated. This is now a no-op.")}async checkStorage(){this.namespaces=await this.getFromStore("namespaces")||{},this.optionalNamespaces=await this.getFromStore("optionalNamespaces")||{},this.session&&this.createProviders()}async initialize(){this.logger.trace("Initialized"),await this.createClient(),await this.checkStorage(),this.registerEventListeners()}async createClient(){var t,n;if(this.client=this.providerOpts.client||await Uce.init({core:this.providerOpts.core,logger:this.providerOpts.logger||h5,relayUrl:this.providerOpts.relayUrl||qce,projectId:this.providerOpts.projectId,metadata:this.providerOpts.metadata,storageOptions:this.providerOpts.storageOptions,storage:this.providerOpts.storage,name:this.providerOpts.name,customStoragePrefix:this.providerOpts.customStoragePrefix,telemetryEnabled:this.providerOpts.telemetryEnabled}),this.providerOpts.session)try{this.session=this.client.session.get(this.providerOpts.session.topic)}catch(r){throw this.logger.error("Failed to get session",r),new Error(`The provided session: ${(n=(t=this.providerOpts)==null?void 0:t.session)==null?void 0:n.topic} doesn't exist in the Sign client`)}else{const r=this.client.session.getAll();this.session=r[0]}this.logger.trace("SignClient Initialized")}createProviders(){if(!this.client)throw new Error("Sign Client not initialized");if(!this.session)throw new Error("Session not initialized. Please call connect() before enable()");const t=[...new Set(Object.keys(this.session.namespaces).map(n=>Ef(n)))];Kv("client",this.client),Kv("events",this.events),Kv("disableProviderPing",this.disableProviderPing),t.forEach(n=>{if(!this.session)return;const r=Tle(n,this.session);if(r?.length===0)return;const s=rR(r),o=v0(this.namespaces,this.optionalNamespaces),c=Yv(E0({},o[n]),{accounts:r,chains:s});switch(n){case"eip155":this.rpcProviders[n]=new Hle({namespace:c});break;case"algorand":this.rpcProviders[n]=new Zle({namespace:c});break;case"solana":this.rpcProviders[n]=new Vle({namespace:c});break;case"cosmos":this.rpcProviders[n]=new Gle({namespace:c});break;case"polkadot":this.rpcProviders[n]=new Ple({namespace:c});break;case"cip34":this.rpcProviders[n]=new eue({namespace:c});break;case"elrond":this.rpcProviders[n]=new rue({namespace:c});break;case"multiversx":this.rpcProviders[n]=new oue({namespace:c});break;case"near":this.rpcProviders[n]=new lue({namespace:c});break;case"tezos":this.rpcProviders[n]=new hue({namespace:c});break;default:this.rpcProviders[lf]?this.rpcProviders[lf].updateNamespace(c):this.rpcProviders[lf]=new gue({namespace:c})}})}registerEventListeners(){if(typeof this.client>"u")throw new Error("Sign Client is not initialized");this.client.on("session_ping",t=>{var n;const{topic:r}=t;r===((n=this.session)==null?void 0:n.topic)&&this.events.emit("session_ping",t)}),this.client.on("session_event",t=>{var n;const{params:r,topic:s}=t;if(s!==((n=this.session)==null?void 0:n.topic))return;const{event:o}=r;if(o.name==="accountsChanged"){const c=o.data;c&&qo(c)&&this.events.emit("accountsChanged",c.map(v5))}else if(o.name==="chainChanged"){const c=r.chainId,l=r.event.data,f=Ef(c),d=Wv(c)!==Wv(l)?`${f}:${Wv(l)}`:c;this.onChainChanged(d)}else this.events.emit(o.name,o.data);this.events.emit("session_event",t)}),this.client.on("session_update",({topic:t,params:n})=>{var r,s;if(t!==((r=this.session)==null?void 0:r.topic))return;const{namespaces:o}=n,c=(s=this.client)==null?void 0:s.session.get(t);this.session=Yv(E0({},c),{namespaces:o}),this.onSessionUpdate(),this.events.emit("session_update",{topic:t,params:n})}),this.client.on("session_delete",async t=>{var n;t.topic===((n=this.session)==null?void 0:n.topic)&&(await this.cleanup(),this.events.emit("session_delete",t),this.events.emit("disconnect",Yv(E0({},Yt("USER_DISCONNECTED")),{data:t.topic})))}),this.on(Ks.DEFAULT_CHAIN_CHANGED,t=>{this.onChainChanged(t,!0)})}getProvider(t){return this.rpcProviders[t]||this.rpcProviders[lf]}onSessionUpdate(){Object.keys(this.rpcProviders).forEach(t=>{var n;this.getProvider(t).updateNamespace((n=this.session)==null?void 0:n.namespaces[t])})}setNamespaces(t){const{namespaces:n={},optionalNamespaces:r={},sessionProperties:s,scopedProperties:o}=t;this.optionalNamespaces=v0(n,r),this.sessionProperties=s,this.scopedProperties=o}validateChain(t){const[n,r]=t?.split(":")||["",""];if(!this.namespaces||!Object.keys(this.namespaces).length)return[n,r];if(n&&!Object.keys(this.namespaces||{}).map(c=>Ef(c)).includes(n))throw new Error(`Namespace '${n}' is not configured. Please call connect() first with namespace config.`);if(n&&r)return[n,r];const s=Ef(Object.keys(this.namespaces)[0]),o=this.rpcProviders[s].getDefaultChain();return[s,o]}async requestAccounts(){const[t]=this.validateChain();return await this.getProvider(t).requestAccounts()}async onChainChanged(t,n=!1){if(!this.namespaces)return;const[r,s]=this.validateChain(t);if(!s)return;this.updateNamespaceChain(r,s),this.events.emit("chainChanged",s);const o=this.getProvider(r).getDefaultChain();n||this.getProvider(r).setDefaultChain(s),this.emitAccountsChangedOnChainChange({namespace:r,previousChainId:o,newChainId:t}),await this.persist("namespaces",this.namespaces)}emitAccountsChangedOnChainChange({namespace:t,previousChainId:n,newChainId:r}){var s,o;try{if(n===r)return;const c=(o=(s=this.session)==null?void 0:s.namespaces[t])==null?void 0:o.accounts;if(!c)return;const l=c.filter(f=>f.includes(`${r}:`)).map(v5);if(!qo(l))return;this.events.emit("accountsChanged",l)}catch(c){this.logger.warn("Failed to emit accountsChanged on chain change",c)}}updateNamespaceChain(t,n){if(!this.namespaces)return;const r=this.namespaces[t]?t:`${t}:${n}`,s={chains:[],methods:[],events:[],defaultChain:n};this.namespaces[r]?this.namespaces[r]&&(this.namespaces[r].defaultChain=n):this.namespaces[r]=s}onConnect(){this.createProviders(),this.events.emit("connect",{session:this.session})}async cleanup(){this.namespaces=void 0,this.optionalNamespaces=void 0,this.sessionProperties=void 0,await this.deleteFromStore("namespaces"),await this.deleteFromStore("optionalNamespaces"),await this.deleteFromStore("sessionProperties"),this.session=void 0,await this.cleanupPendingPairings({deletePairings:!0}),await this.cleanupStorage()}async persist(t,n){var r;const s=((r=this.session)==null?void 0:r.topic)||"";await this.client.core.storage.setItem(`${w0}/${t}${s}`,n)}async getFromStore(t){var n;const r=((n=this.session)==null?void 0:n.topic)||"";return await this.client.core.storage.getItem(`${w0}/${t}${r}`)}async deleteFromStore(t){var n;const r=((n=this.session)==null?void 0:n.topic)||"";await this.client.core.storage.removeItem(`${w0}/${t}${r}`)}async cleanupStorage(){var t;try{if(((t=this.client)==null?void 0:t.session.length)>0)return;const n=await this.client.core.storage.getKeys();for(const r of n)r.startsWith(w0)&&await this.client.core.storage.removeItem(r)}catch(n){this.logger.warn("Failed to cleanup storage",n)}}}const Eue=aw;var D5={};const he={WC_NAME_SUFFIX:".reown.id",WC_NAME_SUFFIX_LEGACY:".wcn.id",BLOCKCHAIN_API_RPC_URL:"https://rpc.walletconnect.org",PULSE_API_URL:"https://pulse.walletconnect.org",W3M_API_URL:"https://api.web3modal.org",CONNECTOR_ID:{WALLET_CONNECT:"walletConnect",INJECTED:"injected",WALLET_STANDARD:"announced",COINBASE:"coinbaseWallet",COINBASE_SDK:"coinbaseWalletSDK",SAFE:"safe",LEDGER:"ledger",OKX:"okx",EIP6963:"eip6963",AUTH:"ID_AUTH"},CONNECTOR_NAMES:{AUTH:"Auth"},AUTH_CONNECTOR_SUPPORTED_CHAINS:["eip155","solana"],LIMITS:{PENDING_TRANSACTIONS:99},CHAIN:{EVM:"eip155",SOLANA:"solana",POLKADOT:"polkadot",BITCOIN:"bip122"},CHAIN_NAME_MAP:{eip155:"EVM Networks",solana:"Solana",polkadot:"Polkadot",bip122:"Bitcoin",cosmos:"Cosmos",sui:"Sui",stacks:"Stacks"},ADAPTER_TYPES:{BITCOIN:"bitcoin",SOLANA:"solana",WAGMI:"wagmi",ETHERS:"ethers",ETHERS5:"ethers5"},USDT_CONTRACT_ADDRESSES:["0xdac17f958d2ee523a2206206994597c13d831ec7","0xc2132d05d31c914a87c6611c10748aeb04b58e8f","0x9702230a8ea53601f5cd2dc00fdbc13d4df4a8c7","0x919C1c267BC06a7039e03fcc2eF738525769109c","0x48065fbBE25f71C9282ddf5e1cD6D6A887483D5e","0x55d398326f99059fF775485246999027B3197955","0xfd086bc7cd5c481dcc9c85ebe478a1c0b69fcbb9"],HTTP_STATUS_CODES:{SERVER_ERROR:500,TOO_MANY_REQUESTS:429,SERVICE_UNAVAILABLE:503,FORBIDDEN:403},UNSUPPORTED_NETWORK_NAME:"Unknown Network",SECURE_SITE_SDK_ORIGIN:(typeof process<"u"&&typeof D5<"u"?D5.NEXT_PUBLIC_SECURE_SITE_ORIGIN:void 0)||"https://secure.walletconnect.org",REMOTE_FEATURES_ALERTS:{MULTI_WALLET_NOT_ENABLED:{DEFAULT:{displayMessage:"Multi-Wallet Not Enabled",debugMessage:"Multi-wallet support is not enabled. Please enable it in your AppKit configuration at cloud.reown.com."},CONNECTIONS_HOOK:{displayMessage:"Multi-Wallet Not Enabled",debugMessage:"Multi-wallet support is not enabled. Please enable it in your AppKit configuration at cloud.reown.com to use the useAppKitConnections hook."},CONNECTION_HOOK:{displayMessage:"Multi-Wallet Not Enabled",debugMessage:"Multi-wallet support is not enabled. Please enable it in your AppKit configuration at cloud.reown.com to use the useAppKitConnection hook."}}}},iR={caipNetworkIdToNumber(e){return e?Number(e.split(":")[1]):void 0},parseEvmChainId(e){return typeof e=="string"?this.caipNetworkIdToNumber(e):e},getNetworksByNamespace(e,t){return e?.filter(n=>n.chainNamespace===t)||[]},getFirstNetworkByNamespace(e,t){return this.getNetworksByNamespace(e,t)[0]},getNetworkNameByCaipNetworkId(e,t){if(!t)return;const n=e.find(s=>s.caipNetworkId===t);if(n)return n.name;const[r]=t.split(":");return he.CHAIN_NAME_MAP?.[r]||void 0}},oR=["eip155","solana","polkadot","bip122","cosmos","sui","stacks"];var Sue=20,Aue=1,Pl=1e6,M5=1e6,Cue=-7,xue=21,Nue=!1,Sg="[big.js] ",Vl=Sg+"Invalid ",cw=Vl+"decimal places",Tue=Vl+"rounding mode",aR=Sg+"Division by zero",xt={},Qi=void 0,_ue=/^-?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i;function cR(){function e(t){var n=this;if(!(n instanceof e))return t===Qi?cR():new e(t);if(t instanceof e)n.s=t.s,n.e=t.e,n.c=t.c.slice();else{if(typeof t!="string"){if(e.strict===!0&&typeof t!="bigint")throw TypeError(Vl+"value");t=t===0&&1/t<0?"-0":String(t)}Iue(n,t)}n.constructor=e}return e.prototype=xt,e.DP=Sue,e.RM=Aue,e.NE=Cue,e.PE=xue,e.strict=Nue,e.roundDown=0,e.roundHalfUp=1,e.roundHalfEven=2,e.roundUp=3,e}function Iue(e,t){var n,r,s;if(!_ue.test(t))throw Error(Vl+"number");for(e.s=t.charAt(0)=="-"?(t=t.slice(1),-1):1,(n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),s=t.length,r=0;r<s&&t.charAt(r)=="0";)++r;if(r==s)e.c=[e.e=0];else{for(;s>0&&t.charAt(--s)=="0";);for(e.e=n-r-1,e.c=[],n=0;r<=s;)e.c[n++]=+t.charAt(r++)}return e}function Wl(e,t,n,r){var s=e.c;if(n===Qi&&(n=e.constructor.RM),n!==0&&n!==1&&n!==2&&n!==3)throw Error(Tue);if(t<1)r=n===3&&(r||!!s[0])||t===0&&(n===1&&s[0]>=5||n===2&&(s[0]>5||s[0]===5&&(r||s[1]!==Qi))),s.length=1,r?(e.e=e.e-t+1,s[0]=1):s[0]=e.e=0;else if(t<s.length){if(r=n===1&&s[t]>=5||n===2&&(s[t]>5||s[t]===5&&(r||s[t+1]!==Qi||s[t-1]&1))||n===3&&(r||!!s[0]),s.length=t,r){for(;++s[--t]>9;)if(s[t]=0,t===0){++e.e,s.unshift(1);break}}for(t=s.length;!s[--t];)s.pop()}return e}function Kl(e,t,n){var r=e.e,s=e.c.join(""),o=s.length;if(t)s=s.charAt(0)+(o>1?"."+s.slice(1):"")+(r<0?"e":"e+")+r;else if(r<0){for(;++r;)s="0"+s;s="0."+s}else if(r>0)if(++r>o)for(r-=o;r--;)s+="0";else r<o&&(s=s.slice(0,r)+"."+s.slice(r));else o>1&&(s=s.charAt(0)+"."+s.slice(1));return e.s<0&&n?"-"+s:s}xt.abs=function(){var e=new this.constructor(this);return e.s=1,e};xt.cmp=function(e){var t,n=this,r=n.c,s=(e=new n.constructor(e)).c,o=n.s,c=e.s,l=n.e,f=e.e;if(!r[0]||!s[0])return r[0]?o:s[0]?-c:0;if(o!=c)return o;if(t=o<0,l!=f)return l>f^t?1:-1;for(c=(l=r.length)<(f=s.length)?l:f,o=-1;++o<c;)if(r[o]!=s[o])return r[o]>s[o]^t?1:-1;return l==f?0:l>f^t?1:-1};xt.div=function(e){var t=this,n=t.constructor,r=t.c,s=(e=new n(e)).c,o=t.s==e.s?1:-1,c=n.DP;if(c!==~~c||c<0||c>Pl)throw Error(cw);if(!s[0])throw Error(aR);if(!r[0])return e.s=o,e.c=[e.e=0],e;var l,f,d,p,g,y=s.slice(),b=l=s.length,v=r.length,E=r.slice(0,l),S=E.length,C=e,O=C.c=[],x=0,N=c+(C.e=t.e-e.e)+1;for(C.s=o,o=N<0?0:N,y.unshift(0);S++<l;)E.push(0);do{for(d=0;d<10;d++){if(l!=(S=E.length))p=l>S?1:-1;else for(g=-1,p=0;++g<l;)if(s[g]!=E[g]){p=s[g]>E[g]?1:-1;break}if(p<0){for(f=S==l?s:y;S;){if(E[--S]<f[S]){for(g=S;g&&!E[--g];)E[g]=9;--E[g],E[S]+=10}E[S]-=f[S]}for(;!E[0];)E.shift()}else break}O[x++]=p?d:++d,E[0]&&p?E[S]=r[b]||0:E=[r[b]]}while((b++<v||E[0]!==Qi)&&o--);return!O[0]&&x!=1&&(O.shift(),C.e--,N--),x>N&&Wl(C,N,n.RM,E[0]!==Qi),C};xt.eq=function(e){return this.cmp(e)===0};xt.gt=function(e){return this.cmp(e)>0};xt.gte=function(e){return this.cmp(e)>-1};xt.lt=function(e){return this.cmp(e)<0};xt.lte=function(e){return this.cmp(e)<1};xt.minus=xt.sub=function(e){var t,n,r,s,o=this,c=o.constructor,l=o.s,f=(e=new c(e)).s;if(l!=f)return e.s=-f,o.plus(e);var d=o.c.slice(),p=o.e,g=e.c,y=e.e;if(!d[0]||!g[0])return g[0]?e.s=-f:d[0]?e=new c(o):e.s=1,e;if(l=p-y){for((s=l<0)?(l=-l,r=d):(y=p,r=g),r.reverse(),f=l;f--;)r.push(0);r.reverse()}else for(n=((s=d.length<g.length)?d:g).length,l=f=0;f<n;f++)if(d[f]!=g[f]){s=d[f]<g[f];break}if(s&&(r=d,d=g,g=r,e.s=-e.s),(f=(n=g.length)-(t=d.length))>0)for(;f--;)d[t++]=0;for(f=t;n>l;){if(d[--n]<g[n]){for(t=n;t&&!d[--t];)d[t]=9;--d[t],d[n]+=10}d[n]-=g[n]}for(;d[--f]===0;)d.pop();for(;d[0]===0;)d.shift(),--y;return d[0]||(e.s=1,d=[y=0]),e.c=d,e.e=y,e};xt.mod=function(e){var t,n=this,r=n.constructor,s=n.s,o=(e=new r(e)).s;if(!e.c[0])throw Error(aR);return n.s=e.s=1,t=e.cmp(n)==1,n.s=s,e.s=o,t?new r(n):(s=r.DP,o=r.RM,r.DP=r.RM=0,n=n.div(e),r.DP=s,r.RM=o,this.minus(n.times(e)))};xt.neg=function(){var e=new this.constructor(this);return e.s=-e.s,e};xt.plus=xt.add=function(e){var t,n,r,s=this,o=s.constructor;if(e=new o(e),s.s!=e.s)return e.s=-e.s,s.minus(e);var c=s.e,l=s.c,f=e.e,d=e.c;if(!l[0]||!d[0])return d[0]||(l[0]?e=new o(s):e.s=s.s),e;if(l=l.slice(),t=c-f){for(t>0?(f=c,r=d):(t=-t,r=l),r.reverse();t--;)r.push(0);r.reverse()}for(l.length-d.length<0&&(r=d,d=l,l=r),t=d.length,n=0;t;l[t]%=10)n=(l[--t]=l[t]+d[t]+n)/10|0;for(n&&(l.unshift(n),++f),t=l.length;l[--t]===0;)l.pop();return e.c=l,e.e=f,e};xt.pow=function(e){var t=this,n=new t.constructor("1"),r=n,s=e<0;if(e!==~~e||e<-M5||e>M5)throw Error(Vl+"exponent");for(s&&(e=-e);e&1&&(r=r.times(t)),e>>=1,!!e;)t=t.times(t);return s?n.div(r):r};xt.prec=function(e,t){if(e!==~~e||e<1||e>Pl)throw Error(Vl+"precision");return Wl(new this.constructor(this),e,t)};xt.round=function(e,t){if(e===Qi)e=0;else if(e!==~~e||e<-Pl||e>Pl)throw Error(cw);return Wl(new this.constructor(this),e+this.e+1,t)};xt.sqrt=function(){var e,t,n,r=this,s=r.constructor,o=r.s,c=r.e,l=new s("0.5");if(!r.c[0])return new s(r);if(o<0)throw Error(Sg+"No square root");o=Math.sqrt(+Kl(r,!0,!0)),o===0||o===1/0?(t=r.c.join(""),t.length+c&1||(t+="0"),o=Math.sqrt(t),c=((c+1)/2|0)-(c<0||c&1),e=new s((o==1/0?"5e":(o=o.toExponential()).slice(0,o.indexOf("e")+1))+c)):e=new s(o+""),c=e.e+(s.DP+=4);do n=e,e=l.times(n.plus(r.div(n)));while(n.c.slice(0,c).join("")!==e.c.slice(0,c).join(""));return Wl(e,(s.DP-=4)+e.e+1,s.RM)};xt.times=xt.mul=function(e){var t,n=this,r=n.constructor,s=n.c,o=(e=new r(e)).c,c=s.length,l=o.length,f=n.e,d=e.e;if(e.s=n.s==e.s?1:-1,!s[0]||!o[0])return e.c=[e.e=0],e;for(e.e=f+d,c<l&&(t=s,s=o,o=t,d=c,c=l,l=d),t=new Array(d=c+l);d--;)t[d]=0;for(f=l;f--;){for(l=0,d=c+f;d>f;)l=t[d]+o[f]*s[d-f-1]+l,t[d--]=l%10,l=l/10|0;t[d]=l}for(l?++e.e:t.shift(),f=t.length;!t[--f];)t.pop();return e.c=t,e};xt.toExponential=function(e,t){var n=this,r=n.c[0];if(e!==Qi){if(e!==~~e||e<0||e>Pl)throw Error(cw);for(n=Wl(new n.constructor(n),++e,t);n.c.length<e;)n.c.push(0)}return Kl(n,!0,!!r)};xt.toFixed=function(e,t){var n=this,r=n.c[0];if(e!==Qi){if(e!==~~e||e<0||e>Pl)throw Error(cw);for(n=Wl(new n.constructor(n),e+n.e+1,t),e=e+n.e+1;n.c.length<e;)n.c.push(0)}return Kl(n,!1,!!r)};xt[Symbol.for("nodejs.util.inspect.custom")]=xt.toJSON=xt.toString=function(){var e=this,t=e.constructor;return Kl(e,e.e<=t.NE||e.e>=t.PE,!!e.c[0])};xt.toNumber=function(){var e=+Kl(this,!0,!0);if(this.constructor.strict===!0&&!this.eq(e.toString()))throw Error(Sg+"Imprecise conversion");return e};xt.toPrecision=function(e,t){var n=this,r=n.constructor,s=n.c[0];if(e!==Qi){if(e!==~~e||e<1||e>Pl)throw Error(Vl+"precision");for(n=Wl(new r(n),e,t);n.c.length<e;)n.c.push(0)}return Kl(n,e<=n.e||n.e<=r.NE||n.e>=r.PE,!!s)};xt.valueOf=function(){var e=this,t=e.constructor;if(t.strict===!0)throw Error(Sg+"valueOf disallowed");return Kl(e,e.e<=t.NE||e.e>=t.PE,!0)};var Od=cR();const Oue={bigNumber(e){return e?new Od(e):new Od(0)},multiply(e,t){if(e===void 0||t===void 0)return new Od(0);const n=new Od(e),r=new Od(t);return n.times(r)},formatNumberToLocalString(e,t=2){return e===void 0?"0.00":typeof e=="number"?e.toLocaleString("en-US",{maximumFractionDigits:t,minimumFractionDigits:t}):parseFloat(e).toLocaleString("en-US",{maximumFractionDigits:t,minimumFractionDigits:t})},parseLocalStringToNumber(e){return e===void 0?0:parseFloat(e.replace(/,/gu,""))}},Due=[{type:"function",name:"transfer",stateMutability:"nonpayable",inputs:[{name:"_to",type:"address"},{name:"_value",type:"uint256"}],outputs:[{name:"",type:"bool"}]},{type:"function",name:"transferFrom",stateMutability:"nonpayable",inputs:[{name:"_from",type:"address"},{name:"_to",type:"address"},{name:"_value",type:"uint256"}],outputs:[{name:"",type:"bool"}]}],Mue=[{type:"function",name:"approve",stateMutability:"nonpayable",inputs:[{name:"spender",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]}],$ue=[{type:"function",name:"transfer",stateMutability:"nonpayable",inputs:[{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[]},{type:"function",name:"transferFrom",stateMutability:"nonpayable",inputs:[{name:"sender",type:"address"},{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[{name:"",type:"bool"}]}],Uue={getERC20Abi:e=>he.USDT_CONTRACT_ADDRESSES.includes(e)?$ue:Due,getSwapAbi:()=>Mue},cs={validateCaipAddress(e){if(e.split(":")?.length!==3)throw new Error("Invalid CAIP Address");return e},parseCaipAddress(e){const t=e.split(":");if(t.length!==3)throw new Error(`Invalid CAIP-10 address: ${e}`);const[n,r,s]=t;if(!n||!r||!s)throw new Error(`Invalid CAIP-10 address: ${e}`);return{chainNamespace:n,chainId:r,address:s}},parseCaipNetworkId(e){const t=e.split(":");if(t.length!==2)throw new Error(`Invalid CAIP-2 network id: ${e}`);const[n,r]=t;if(!n||!r)throw new Error(`Invalid CAIP-2 network id: ${e}`);return{chainNamespace:n,chainId:r}}},Re={WALLET_ID:"@appkit/wallet_id",WALLET_NAME:"@appkit/wallet_name",SOLANA_WALLET:"@appkit/solana_wallet",SOLANA_CAIP_CHAIN:"@appkit/solana_caip_chain",ACTIVE_CAIP_NETWORK_ID:"@appkit/active_caip_network_id",CONNECTED_SOCIAL:"@appkit/connected_social",CONNECTED_SOCIAL_USERNAME:"@appkit-wallet/SOCIAL_USERNAME",RECENT_WALLETS:"@appkit/recent_wallets",DEEPLINK_CHOICE:"WALLETCONNECT_DEEPLINK_CHOICE",ACTIVE_NAMESPACE:"@appkit/active_namespace",CONNECTED_NAMESPACES:"@appkit/connected_namespaces",CONNECTION_STATUS:"@appkit/connection_status",SIWX_AUTH_TOKEN:"@appkit/siwx-auth-token",SIWX_NONCE_TOKEN:"@appkit/siwx-nonce-token",TELEGRAM_SOCIAL_PROVIDER:"@appkit/social_provider",NATIVE_BALANCE_CACHE:"@appkit/native_balance_cache",PORTFOLIO_CACHE:"@appkit/portfolio_cache",ENS_CACHE:"@appkit/ens_cache",IDENTITY_CACHE:"@appkit/identity_cache",PREFERRED_ACCOUNT_TYPES:"@appkit/preferred_account_types",CONNECTIONS:"@appkit/connections",DISCONNECTED_CONNECTOR_IDS:"@appkit/disconnected_connector_ids",HISTORY_TRANSACTIONS_CACHE:"@appkit/history_transactions_cache",TOKEN_PRICE_CACHE:"@appkit/token_price_cache",RECENT_EMAILS:"@appkit/recent_emails"};function Xv(e){if(!e)throw new Error("Namespace is required for CONNECTED_CONNECTOR_ID");return`@appkit/${e}:connected_connector_id`}const $e={setItem(e,t){Af()&&t!==void 0&&localStorage.setItem(e,t)},getItem(e){if(Af())return localStorage.getItem(e)||void 0},removeItem(e){Af()&&localStorage.removeItem(e)},clear(){Af()&&localStorage.clear()}};function Af(){return typeof window<"u"&&typeof localStorage<"u"}function rc(e,t){return t==="light"?{"--w3m-accent":e?.["--w3m-accent"]||"hsla(231, 100%, 70%, 1)","--w3m-background":"#fff"}:{"--w3m-accent":e?.["--w3m-accent"]||"hsla(230, 100%, 67%, 1)","--w3m-background":"#121313"}}const Rue=Symbol(),$5=Object.getPrototypeOf,GE=new WeakMap,Pue=e=>e&&(GE.has(e)?GE.get(e):$5(e)===Object.prototype||$5(e)===Array.prototype),Bue=e=>Pue(e)&&e[Rue]||null,U5=(e,t=!0)=>{GE.set(e,t)},xy={},eC=e=>typeof e=="object"&&e!==null,Lue=e=>eC(e)&&!Ag.has(e)&&(Array.isArray(e)||!(Symbol.iterator in e))&&!(e instanceof WeakMap)&&!(e instanceof WeakSet)&&!(e instanceof Error)&&!(e instanceof Number)&&!(e instanceof Date)&&!(e instanceof String)&&!(e instanceof RegExp)&&!(e instanceof ArrayBuffer)&&!(e instanceof Promise),lR=(e,t)=>{const n=YE.get(e);if(n?.[0]===t)return n[1];const r=Array.isArray(e)?[]:Object.create(Object.getPrototypeOf(e));return U5(r,!0),YE.set(e,[t,r]),Reflect.ownKeys(e).forEach(s=>{if(Object.getOwnPropertyDescriptor(r,s))return;const o=Reflect.get(e,s),{enumerable:c}=Reflect.getOwnPropertyDescriptor(e,s),l={value:o,enumerable:c,configurable:!0};if(Ag.has(o))U5(o,!1);else if(pc.has(o)){const[f,d]=pc.get(o);l.value=lR(f,d())}Object.defineProperty(r,s,l)}),Object.preventExtensions(r)},kue=(e,t,n,r)=>({deleteProperty(s,o){const c=Reflect.get(s,o);n(o);const l=Reflect.deleteProperty(s,o);return l&&r(["delete",[o],c]),l},set(s,o,c,l){const f=!e()&&Reflect.has(s,o),d=Reflect.get(s,o,l);if(f&&(R5(d,c)||Dp.has(c)&&R5(d,Dp.get(c))))return!0;n(o),eC(c)&&(c=Bue(c)||c);const p=!pc.has(c)&&zue(c)?kt(c):c;return t(o,p),Reflect.set(s,o,p,l),r(["set",[o],c,d]),!0}}),pc=new WeakMap,Ag=new WeakSet,YE=new WeakMap,jd=[1,1],Dp=new WeakMap;let R5=Object.is,jue=(e,t)=>new Proxy(e,t),zue=Lue,Hue=lR,Fue=kue;function kt(e={}){if(!eC(e))throw new Error("object required");const t=Dp.get(e);if(t)return t;let n=jd[0];const r=new Set,s=(S,C=++jd[0])=>{n!==C&&(n=C,r.forEach(O=>O(S,C)))};let o=jd[1];const c=(S=++jd[1])=>(o!==S&&!r.size&&(o=S,f.forEach(([C])=>{const O=C[1](S);O>n&&(n=O)})),n),l=S=>(C,O)=>{const x=[...C];x[1]=[S,...x[1]],s(x,O)},f=new Map,d=(S,C)=>{const O=!Ag.has(C)&&pc.get(C);if(O){if((xy?"production":void 0)!=="production"&&f.has(S))throw new Error("prop listener already exists");if(r.size){const x=O[2](l(S));f.set(S,[O,x])}else f.set(S,[O])}},p=S=>{var C;const O=f.get(S);O&&(f.delete(S),(C=O[1])==null||C.call(O))},g=S=>(r.add(S),r.size===1&&f.forEach(([O,x],N)=>{if((xy?"production":void 0)!=="production"&&x)throw new Error("remove already exists");const T=O[2](l(N));f.set(N,[O,T])}),()=>{r.delete(S),r.size===0&&f.forEach(([O,x],N)=>{x&&(x(),f.set(N,[O]))})});let y=!0;const b=Fue(()=>y,d,p,s),v=jue(e,b);Dp.set(e,v);const E=[e,c,g];return pc.set(v,E),Reflect.ownKeys(e).forEach(S=>{const C=Object.getOwnPropertyDescriptor(e,S);"value"in C&&C.writable&&(v[S]=e[S])}),y=!1,v}function Gn(e,t,n){const r=pc.get(e);(xy?"production":void 0)!=="production"&&!r&&console.warn("Please use proxy object");let s;const o=[],c=r[2];let l=!1;const d=c(p=>{o.push(p),s||(s=Promise.resolve().then(()=>{s=void 0,l&&t(o.splice(0))}))});return l=!0,()=>{l=!1,d()}}function Mp(e){const t=pc.get(e);(xy?"production":void 0)!=="production"&&!t&&console.warn("Please use proxy object");const[n,r]=t;return Hue(n,r())}function Bl(e){return Ag.add(e),e}function que(){return{proxyStateMap:pc,refSet:Ag,snapCache:YE,versionHolder:jd,proxyCache:Dp}}function fr(e,t,n,r){let s=e[t];return Gn(e,()=>{const o=e[t];Object.is(s,o)||n(s=o)})}const{proxyStateMap:Vue,snapCache:Wue}=que(),S0=e=>Vue.has(e);function Kue(e){const t=[];let n=0;const r=new Map,s=new WeakMap,o=()=>{const d=Wue.get(l),p=d?.[1];if(p&&!s.has(p)){const g=new Map(r);s.set(p,g)}},c=d=>s.get(d)||r,l={data:t,index:n,epoch:0,get size(){return S0(this)||o(),c(this).size},get(d){const g=c(this).get(d);if(g===void 0){this.epoch;return}return this.data[g]},has(d){const p=c(this);return this.epoch,p.has(d)},set(d,p){if(!S0(this))throw new Error("Cannot perform mutations on a snapshot");const g=r.get(d);return g===void 0?(r.set(d,this.index),this.data[this.index++]=p):this.data[g]=p,this.epoch++,this},delete(d){if(!S0(this))throw new Error("Cannot perform mutations on a snapshot");const p=r.get(d);return p===void 0?!1:(delete this.data[p],r.delete(d),this.epoch++,!0)},clear(){if(!S0(this))throw new Error("Cannot perform mutations on a snapshot");this.data.length=0,this.index=0,this.epoch++,r.clear()},forEach(d){this.epoch,c(this).forEach((g,y)=>{d(this.data[g],y,this)})},*entries(){this.epoch;const d=c(this);for(const[p,g]of d)yield[p,this.data[g]]},*keys(){this.epoch;const d=c(this);for(const p of d.keys())yield p},*values(){this.epoch;const d=c(this);for(const p of d.values())yield this.data[p]},[Symbol.iterator](){return this.entries()},get[Symbol.toStringTag](){return"Map"},toJSON(){return new Map(this.entries())}},f=kt(l);return Object.defineProperties(f,{size:{enumerable:!1},index:{enumerable:!1},epoch:{enumerable:!1},data:{enumerable:!1},toJSON:{enumerable:!1}}),Object.seal(f),f}const uR=[{label:"Meld.io",name:"meld",feeRange:"1-2%",url:"https://meldcrypto.com",supportedChains:["eip155","solana"]}],Gue="WXETMuFUQmqqybHuRkSgxv:25B8LJHSfpG6LVjR2ytU5Cwh7Z4Sch2ocoU",vt={FOUR_MINUTES_MS:24e4,TEN_SEC_MS:1e4,ONE_SEC_MS:1e3,BALANCE_SUPPORTED_CHAINS:[he.CHAIN.EVM,he.CHAIN.SOLANA],NAMES_SUPPORTED_CHAIN_NAMESPACES:[he.CHAIN.EVM],NATIVE_TOKEN_ADDRESS:{eip155:"0xeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee",solana:"So11111111111111111111111111111111111111111",polkadot:"0x",bip122:"0x",cosmos:"0x",sui:"0x",stacks:"0x"},CONVERT_SLIPPAGE_TOLERANCE:1,CONNECT_LABELS:{MOBILE:"Open and continue in the wallet app"},SEND_SUPPORTED_NAMESPACES:[he.CHAIN.EVM,he.CHAIN.SOLANA],DEFAULT_REMOTE_FEATURES:{swaps:["1inch"],onramp:["meld"],email:!0,socials:["google","x","discord","farcaster","github","apple","facebook"],activity:!0,reownBranding:!0,multiWallet:!1,emailCapture:!1},DEFAULT_REMOTE_FEATURES_DISABLED:{email:!1,socials:!1,swaps:!1,onramp:!1,activity:!1,reownBranding:!1,emailCapture:!1},DEFAULT_FEATURES:{receive:!0,send:!0,emailShowWallets:!0,connectorTypeOrder:["walletConnect","recent","injected","featured","custom","external","recommended"],analytics:!0,allWallets:!0,legalCheckbox:!1,smartSessions:!1,collapseWallets:!1,walletFeaturesOrder:["onramp","swaps","receive","send"],connectMethodsOrder:void 0,pay:!1},DEFAULT_ACCOUNT_TYPES:{bip122:"payment",eip155:"smartAccount",polkadot:"eoa",solana:"eoa"},ADAPTER_TYPES:{UNIVERSAL:"universal"},SIWX_DEFAULTS:{signOutOnDisconnect:!0}},ge={cacheExpiry:{portfolio:3e4,nativeBalance:3e4,ens:3e5,identity:3e5,transactionsHistory:15e3,tokenPrice:15e3},isCacheExpired(e,t){return Date.now()-e>t},getActiveNetworkProps(){const e=ge.getActiveNamespace(),t=ge.getActiveCaipNetworkId(),n=t?t.split(":")[1]:void 0,r=n?isNaN(Number(n))?n:Number(n):void 0;return{namespace:e,caipNetworkId:t,chainId:r}},setWalletConnectDeepLink({name:e,href:t}){try{$e.setItem(Re.DEEPLINK_CHOICE,JSON.stringify({href:t,name:e}))}catch{console.info("Unable to set WalletConnect deep link")}},getWalletConnectDeepLink(){try{const e=$e.getItem(Re.DEEPLINK_CHOICE);if(e)return JSON.parse(e)}catch{console.info("Unable to get WalletConnect deep link")}},deleteWalletConnectDeepLink(){try{$e.removeItem(Re.DEEPLINK_CHOICE)}catch{console.info("Unable to delete WalletConnect deep link")}},setActiveNamespace(e){try{$e.setItem(Re.ACTIVE_NAMESPACE,e)}catch{console.info("Unable to set active namespace")}},setActiveCaipNetworkId(e){try{$e.setItem(Re.ACTIVE_CAIP_NETWORK_ID,e),ge.setActiveNamespace(e.split(":")[0])}catch{console.info("Unable to set active caip network id")}},getActiveCaipNetworkId(){try{return $e.getItem(Re.ACTIVE_CAIP_NETWORK_ID)}catch{console.info("Unable to get active caip network id");return}},deleteActiveCaipNetworkId(){try{$e.removeItem(Re.ACTIVE_CAIP_NETWORK_ID)}catch{console.info("Unable to delete active caip network id")}},deleteConnectedConnectorId(e){try{const t=Xv(e);$e.removeItem(t)}catch{console.info("Unable to delete connected connector id")}},setAppKitRecent(e){try{const t=ge.getRecentWallets();t.find(r=>r.id===e.id)||(t.unshift(e),t.length>2&&t.pop(),$e.setItem(Re.RECENT_WALLETS,JSON.stringify(t)))}catch{console.info("Unable to set AppKit recent")}},getRecentWallets(){try{const e=$e.getItem(Re.RECENT_WALLETS);return e?JSON.parse(e):[]}catch{console.info("Unable to get AppKit recent")}return[]},setConnectedConnectorId(e,t){try{const n=Xv(e);$e.setItem(n,t)}catch{console.info("Unable to set Connected Connector Id")}},getActiveNamespace(){try{return $e.getItem(Re.ACTIVE_NAMESPACE)}catch{console.info("Unable to get active namespace")}},getConnectedConnectorId(e){if(e)try{const t=Xv(e);return $e.getItem(t)}catch{console.info("Unable to get connected connector id in namespace",e)}},setConnectedSocialProvider(e){try{$e.setItem(Re.CONNECTED_SOCIAL,e)}catch{console.info("Unable to set connected social provider")}},getConnectedSocialProvider(){try{return $e.getItem(Re.CONNECTED_SOCIAL)}catch{console.info("Unable to get connected social provider")}},deleteConnectedSocialProvider(){try{$e.removeItem(Re.CONNECTED_SOCIAL)}catch{console.info("Unable to delete connected social provider")}},getConnectedSocialUsername(){try{return $e.getItem(Re.CONNECTED_SOCIAL_USERNAME)}catch{console.info("Unable to get connected social username")}},getStoredActiveCaipNetworkId(){return $e.getItem(Re.ACTIVE_CAIP_NETWORK_ID)?.split(":")?.[1]},setConnectionStatus(e){try{$e.setItem(Re.CONNECTION_STATUS,e)}catch{console.info("Unable to set connection status")}},getConnectionStatus(){try{return $e.getItem(Re.CONNECTION_STATUS)}catch{return}},getConnectedNamespaces(){try{const e=$e.getItem(Re.CONNECTED_NAMESPACES);return e?.length?e.split(","):[]}catch{return[]}},setConnectedNamespaces(e){try{const t=Array.from(new Set(e));$e.setItem(Re.CONNECTED_NAMESPACES,t.join(","))}catch{console.info("Unable to set namespaces in storage")}},addConnectedNamespace(e){try{const t=ge.getConnectedNamespaces();t.includes(e)||(t.push(e),ge.setConnectedNamespaces(t))}catch{console.info("Unable to add connected namespace")}},removeConnectedNamespace(e){try{const t=ge.getConnectedNamespaces(),n=t.indexOf(e);n>-1&&(t.splice(n,1),ge.setConnectedNamespaces(t))}catch{console.info("Unable to remove connected namespace")}},getTelegramSocialProvider(){try{return $e.getItem(Re.TELEGRAM_SOCIAL_PROVIDER)}catch{return console.info("Unable to get telegram social provider"),null}},setTelegramSocialProvider(e){try{$e.setItem(Re.TELEGRAM_SOCIAL_PROVIDER,e)}catch{console.info("Unable to set telegram social provider")}},removeTelegramSocialProvider(){try{$e.removeItem(Re.TELEGRAM_SOCIAL_PROVIDER)}catch{console.info("Unable to remove telegram social provider")}},getBalanceCache(){let e={};try{const t=$e.getItem(Re.PORTFOLIO_CACHE);e=t?JSON.parse(t):{}}catch{console.info("Unable to get balance cache")}return e},removeAddressFromBalanceCache(e){try{const t=ge.getBalanceCache();$e.setItem(Re.PORTFOLIO_CACHE,JSON.stringify({...t,[e]:void 0}))}catch{console.info("Unable to remove address from balance cache",e)}},getBalanceCacheForCaipAddress(e){try{const n=ge.getBalanceCache()[e];if(n&&!this.isCacheExpired(n.timestamp,this.cacheExpiry.portfolio))return n.balance;ge.removeAddressFromBalanceCache(e)}catch{console.info("Unable to get balance cache for address",e)}},updateBalanceCache(e){try{const t=ge.getBalanceCache();t[e.caipAddress]=e,$e.setItem(Re.PORTFOLIO_CACHE,JSON.stringify(t))}catch{console.info("Unable to update balance cache",e)}},getNativeBalanceCache(){let e={};try{const t=$e.getItem(Re.NATIVE_BALANCE_CACHE);e=t?JSON.parse(t):{}}catch{console.info("Unable to get balance cache")}return e},removeAddressFromNativeBalanceCache(e){try{const t=ge.getBalanceCache();$e.setItem(Re.NATIVE_BALANCE_CACHE,JSON.stringify({...t,[e]:void 0}))}catch{console.info("Unable to remove address from balance cache",e)}},getNativeBalanceCacheForCaipAddress(e){try{const n=ge.getNativeBalanceCache()[e];if(n&&!this.isCacheExpired(n.timestamp,this.cacheExpiry.nativeBalance))return n;console.info("Discarding cache for address",e),ge.removeAddressFromBalanceCache(e)}catch{console.info("Unable to get balance cache for address",e)}},updateNativeBalanceCache(e){try{const t=ge.getNativeBalanceCache();t[e.caipAddress]=e,$e.setItem(Re.NATIVE_BALANCE_CACHE,JSON.stringify(t))}catch{console.info("Unable to update balance cache",e)}},getEnsCache(){let e={};try{const t=$e.getItem(Re.ENS_CACHE);e=t?JSON.parse(t):{}}catch{console.info("Unable to get ens name cache")}return e},getEnsFromCacheForAddress(e){try{const n=ge.getEnsCache()[e];if(n&&!this.isCacheExpired(n.timestamp,this.cacheExpiry.ens))return n.ens;ge.removeEnsFromCache(e)}catch{console.info("Unable to get ens name from cache",e)}},updateEnsCache(e){try{const t=ge.getEnsCache();t[e.address]=e,$e.setItem(Re.ENS_CACHE,JSON.stringify(t))}catch{console.info("Unable to update ens name cache",e)}},removeEnsFromCache(e){try{const t=ge.getEnsCache();$e.setItem(Re.ENS_CACHE,JSON.stringify({...t,[e]:void 0}))}catch{console.info("Unable to remove ens name from cache",e)}},getIdentityCache(){let e={};try{const t=$e.getItem(Re.IDENTITY_CACHE);e=t?JSON.parse(t):{}}catch{console.info("Unable to get identity cache")}return e},getIdentityFromCacheForAddress(e){try{const n=ge.getIdentityCache()[e];if(n&&!this.isCacheExpired(n.timestamp,this.cacheExpiry.identity))return n.identity;ge.removeIdentityFromCache(e)}catch{console.info("Unable to get identity from cache",e)}},updateIdentityCache(e){try{const t=ge.getIdentityCache();t[e.address]={identity:e.identity,timestamp:e.timestamp},$e.setItem(Re.IDENTITY_CACHE,JSON.stringify(t))}catch{console.info("Unable to update identity cache",e)}},removeIdentityFromCache(e){try{const t=ge.getIdentityCache();$e.setItem(Re.IDENTITY_CACHE,JSON.stringify({...t,[e]:void 0}))}catch{console.info("Unable to remove identity from cache",e)}},clearAddressCache(){try{$e.removeItem(Re.PORTFOLIO_CACHE),$e.removeItem(Re.NATIVE_BALANCE_CACHE),$e.removeItem(Re.ENS_CACHE),$e.removeItem(Re.IDENTITY_CACHE),$e.removeItem(Re.HISTORY_TRANSACTIONS_CACHE)}catch{console.info("Unable to clear address cache")}},setPreferredAccountTypes(e){try{$e.setItem(Re.PREFERRED_ACCOUNT_TYPES,JSON.stringify(e))}catch{console.info("Unable to set preferred account types",e)}},getPreferredAccountTypes(){try{const e=$e.getItem(Re.PREFERRED_ACCOUNT_TYPES);return e?JSON.parse(e):{}}catch{console.info("Unable to get preferred account types")}return{}},setConnections(e,t){try{const n=ge.getConnections(),r=n[t]??[],s=new Map;for(const c of r)s.set(c.connectorId,{...c});for(const c of e){const l=s.get(c.connectorId),f=c.connectorId===he.CONNECTOR_ID.AUTH;if(l&&!f){const d=new Set(l.accounts.map(g=>g.address.toLowerCase())),p=c.accounts.filter(g=>!d.has(g.address.toLowerCase()));l.accounts.push(...p)}else s.set(c.connectorId,{...c})}const o={...n,[t]:Array.from(s.values())};$e.setItem(Re.CONNECTIONS,JSON.stringify(o))}catch(n){console.error("Unable to sync connections to storage",n)}},getConnections(){try{const e=$e.getItem(Re.CONNECTIONS);return e?JSON.parse(e):{}}catch(e){return console.error("Unable to get connections from storage",e),{}}},deleteAddressFromConnection({connectorId:e,address:t,namespace:n}){try{const r=ge.getConnections(),s=r[n]??[],o=new Map(s.map(l=>[l.connectorId,l])),c=o.get(e);c&&(c.accounts.filter(f=>f.address.toLowerCase()!==t.toLowerCase()).length===0?o.delete(e):o.set(e,{...c,accounts:c.accounts.filter(f=>f.address.toLowerCase()!==t.toLowerCase())})),$e.setItem(Re.CONNECTIONS,JSON.stringify({...r,[n]:Array.from(o.values())}))}catch{console.error(`Unable to remove address "${t}" from connector "${e}" in namespace "${n}"`)}},getDisconnectedConnectorIds(){try{const e=$e.getItem(Re.DISCONNECTED_CONNECTOR_IDS);return e?JSON.parse(e):{}}catch{console.info("Unable to get disconnected connector ids")}return{}},addDisconnectedConnectorId(e,t){try{const n=ge.getDisconnectedConnectorIds(),r=n[t]??[];r.push(e),$e.setItem(Re.DISCONNECTED_CONNECTOR_IDS,JSON.stringify({...n,[t]:Array.from(new Set(r))}))}catch{console.error(`Unable to set disconnected connector id "${e}" for namespace "${t}"`)}},removeDisconnectedConnectorId(e,t){try{const n=ge.getDisconnectedConnectorIds();let r=n[t]??[];r=r.filter(s=>s.toLowerCase()!==e.toLowerCase()),$e.setItem(Re.DISCONNECTED_CONNECTOR_IDS,JSON.stringify({...n,[t]:Array.from(new Set(r))}))}catch{console.error(`Unable to remove disconnected connector id "${e}" for namespace "${t}"`)}},isConnectorDisconnected(e,t){try{return(ge.getDisconnectedConnectorIds()[t]??[]).some(s=>s.toLowerCase()===e.toLowerCase())}catch{console.info(`Unable to get disconnected connector id "${e}" for namespace "${t}"`)}return!1},getTransactionsCache(){try{const e=$e.getItem(Re.HISTORY_TRANSACTIONS_CACHE);return e?JSON.parse(e):{}}catch{console.info("Unable to get transactions cache")}return{}},getTransactionsCacheForAddress({address:e,chainId:t=""}){try{const r=ge.getTransactionsCache()[e]?.[t];if(r&&!this.isCacheExpired(r.timestamp,this.cacheExpiry.transactionsHistory))return r.transactions;ge.removeTransactionsCache({address:e,chainId:t})}catch{console.info("Unable to get transactions cache")}},updateTransactionsCache({address:e,chainId:t="",timestamp:n,transactions:r}){try{const s=ge.getTransactionsCache();s[e]={...s[e],[t]:{timestamp:n,transactions:r}},$e.setItem(Re.HISTORY_TRANSACTIONS_CACHE,JSON.stringify(s))}catch{console.info("Unable to update transactions cache",{address:e,chainId:t,timestamp:n,transactions:r})}},removeTransactionsCache({address:e,chainId:t}){try{const n=ge.getTransactionsCache(),r=n?.[e]||{},{[t]:s,...o}=r;$e.setItem(Re.HISTORY_TRANSACTIONS_CACHE,JSON.stringify({...n,[e]:o}))}catch{console.info("Unable to remove transactions cache",{address:e,chainId:t})}},getTokenPriceCache(){try{const e=$e.getItem(Re.TOKEN_PRICE_CACHE);return e?JSON.parse(e):{}}catch{console.info("Unable to get token price cache")}return{}},getTokenPriceCacheForAddresses(e){try{const n=ge.getTokenPriceCache()[e.join(",")];if(n&&!this.isCacheExpired(n.timestamp,this.cacheExpiry.tokenPrice))return n.tokenPrice;ge.removeTokenPriceCache(e)}catch{console.info("Unable to get token price cache for addresses",e)}},updateTokenPriceCache(e){try{const t=ge.getTokenPriceCache();t[e.addresses.join(",")]={timestamp:e.timestamp,tokenPrice:e.tokenPrice},$e.setItem(Re.TOKEN_PRICE_CACHE,JSON.stringify(t))}catch{console.info("Unable to update token price cache",e)}},removeTokenPriceCache(e){try{const t=ge.getTokenPriceCache();$e.setItem(Re.TOKEN_PRICE_CACHE,JSON.stringify({...t,[e.join(",")]:void 0}))}catch{console.info("Unable to remove token price cache",e)}}},Me={isMobile(){return this.isClient()?!!(window?.matchMedia&&typeof window.matchMedia=="function"&&window.matchMedia("(pointer:coarse)")?.matches||/Android|webOS|iPhone|iPad|iPod|BlackBerry|Opera Mini/u.test(navigator.userAgent)):!1},checkCaipNetwork(e,t=""){return e?.caipNetworkId.toLocaleLowerCase().includes(t.toLowerCase())},isAndroid(){if(!this.isMobile())return!1;const e=window?.navigator.userAgent.toLowerCase();return Me.isMobile()&&e.includes("android")},isIos(){if(!this.isMobile())return!1;const e=window?.navigator.userAgent.toLowerCase();return e.includes("iphone")||e.includes("ipad")},isSafari(){return this.isClient()?(window?.navigator.userAgent.toLowerCase()).includes("safari"):!1},isClient(){return typeof window<"u"},isPairingExpired(e){return e?e-Date.now()<=vt.TEN_SEC_MS:!0},isAllowedRetry(e,t=vt.ONE_SEC_MS){return Date.now()-e>=t},copyToClopboard(e){navigator.clipboard.writeText(e)},isIframe(){try{return window?.self!==window?.top}catch{return!1}},isSafeApp(){if(Me.isClient()&&window.self!==window.top)try{const e=window?.location?.ancestorOrigins?.[0],t="https://app.safe.global";if(e){const n=new URL(e),r=new URL(t);return n.hostname===r.hostname}}catch{return!1}return!1},getPairingExpiry(){return Date.now()+vt.FOUR_MINUTES_MS},getNetworkId(e){return e?.split(":")[1]},getPlainAddress(e){return e?.split(":")[2]},async wait(e){return new Promise(t=>{setTimeout(t,e)})},debounce(e,t=500){let n;return(...r)=>{function s(){e(...r)}n&&clearTimeout(n),n=setTimeout(s,t)}},isHttpUrl(e){return e.startsWith("http://")||e.startsWith("https://")},formatNativeUrl(e,t,n=null){if(Me.isHttpUrl(e))return this.formatUniversalUrl(e,t);let r=e,s=n;r.includes("://")||(r=e.replaceAll("/","").replaceAll(":",""),r=`${r}://`),r.endsWith("/")||(r=`${r}/`),s&&!s?.endsWith("/")&&(s=`${s}/`),this.isTelegram()&&this.isAndroid()&&(t=encodeURIComponent(t));const o=encodeURIComponent(t);return{redirect:`${r}wc?uri=${o}`,redirectUniversalLink:s?`${s}wc?uri=${o}`:void 0,href:r}},formatUniversalUrl(e,t){if(!Me.isHttpUrl(e))return this.formatNativeUrl(e,t);let n=e;n.endsWith("/")||(n=`${n}/`);const r=encodeURIComponent(t);return{redirect:`${n}wc?uri=${r}`,href:n}},getOpenTargetForPlatform(e){return e==="popupWindow"?e:this.isTelegram()?ge.getTelegramSocialProvider()?"_top":"_blank":e},openHref(e,t,n){window?.open(e,this.getOpenTargetForPlatform(t),n||"noreferrer noopener")},returnOpenHref(e,t,n){return window?.open(e,this.getOpenTargetForPlatform(t),n||"noreferrer noopener")},isTelegram(){return typeof window<"u"&&(!!window.TelegramWebviewProxy||!!window.Telegram||!!window.TelegramWebviewProxyProto)},isPWA(){if(typeof window>"u")return!1;const e=window?.matchMedia&&typeof window.matchMedia=="function"?window.matchMedia("(display-mode: standalone)")?.matches:!1,t=window?.navigator?.standalone;return!!(e||t)},async preloadImage(e){const t=new Promise((n,r)=>{const s=new Image;s.onload=n,s.onerror=r,s.crossOrigin="anonymous",s.src=e});return Promise.race([t,Me.wait(2e3)])},formatBalance(e,t){let n="0.000";if(typeof e=="string"){const r=Number(e);if(r){const s=Math.floor(r*1e3)/1e3;s&&(n=s.toString())}}return`${n}${t?` ${t}`:""}`},formatBalance2(e,t){let n;if(e==="0")n="0";else if(typeof e=="string"){const r=Number(e);r&&(n=r.toString().match(/^-?\d+(?:\.\d{0,3})?/u)?.[0])}return{value:n??"0",rest:n==="0"?"000":"",symbol:t}},getApiUrl(){return he.W3M_API_URL},getBlockchainApiUrl(){return he.BLOCKCHAIN_API_RPC_URL},getAnalyticsUrl(){return he.PULSE_API_URL},getUUID(){return crypto?.randomUUID?crypto.randomUUID():"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/gu,e=>{const t=Math.random()*16|0;return(e==="x"?t:t&3|8).toString(16)})},parseError(e){return typeof e=="string"?e:typeof e?.issues?.[0]?.message=="string"?e.issues[0].message:e instanceof Error?e.message:"Unknown error"},sortRequestedNetworks(e,t=[]){const n={};return t&&e&&(e.forEach((r,s)=>{n[r]=s}),t.sort((r,s)=>{const o=n[r.id],c=n[s.id];return o!==void 0&&c!==void 0?o-c:o!==void 0?-1:c!==void 0?1:0})),t},calculateBalance(e){let t=0;for(const n of e)t+=n.value??0;return t},formatTokenBalance(e){const t=e.toFixed(2),[n,r]=t.split(".");return{dollars:n,pennies:r}},isAddress(e,t="eip155"){switch(t){case"eip155":if(/^(?:0x)?[0-9a-f]{40}$/iu.test(e)){if(/^(?:0x)?[0-9a-f]{40}$/iu.test(e)||/^(?:0x)?[0-9A-F]{40}$/iu.test(e))return!0}else return!1;return!1;case"solana":return/[1-9A-HJ-NP-Za-km-z]{32,44}$/iu.test(e);default:return!1}},uniqueBy(e,t){const n=new Set;return e.filter(r=>{const s=r[t];return n.has(s)?!1:(n.add(s),!0)})},generateSdkVersion(e,t,n){const s=e.length===0?vt.ADAPTER_TYPES.UNIVERSAL:e.map(o=>o.adapterType).join(",");return`${t}-${s}-${n}`},createAccount(e,t,n,r,s){return{namespace:e,address:t,type:n,publicKey:r,path:s}},isCaipAddress(e){if(typeof e!="string")return!1;const t=e.split(":"),n=t[0];return t.filter(Boolean).length===3&&n in he.CHAIN_NAME_MAP},getAccount(e){return e?typeof e=="string"?{address:e,chainId:void 0}:{address:e.address,chainId:e.chainId}:{address:void 0,chainId:void 0}},isMac(){const e=window?.navigator.userAgent.toLowerCase();return e.includes("macintosh")&&!e.includes("safari")},formatTelegramSocialLoginUrl(e){const t=`--${encodeURIComponent(window?.location.href)}`,n="state=";if(new URL(e).host==="auth.magic.link"){const s="provider_authorization_url=",o=e.substring(e.indexOf(s)+s.length),c=this.injectIntoUrl(decodeURIComponent(o),n,t);return e.replace(o,encodeURIComponent(c))}return this.injectIntoUrl(e,n,t)},injectIntoUrl(e,t,n){const r=e.indexOf(t);if(r===-1)throw new Error(`${t} parameter not found in the URL: ${e}`);const s=e.indexOf("&",r),o=t.length,c=s!==-1?s:e.length,l=e.substring(0,r+o),f=e.substring(r+o,c),d=e.substring(s),p=f+n;return l+p+d}};async function Dd(...e){const t=await fetch(...e);if(!t.ok)throw new Error(`HTTP status code: ${t.status}`,{cause:t});return t}class Cg{constructor({baseUrl:t,clientId:n}){this.baseUrl=t,this.clientId=n}async get({headers:t,signal:n,cache:r,...s}){const o=this.createUrl(s);return(await Dd(o,{method:"GET",headers:t,signal:n,cache:r})).json()}async getBlob({headers:t,signal:n,...r}){const s=this.createUrl(r);return(await Dd(s,{method:"GET",headers:t,signal:n})).blob()}async post({body:t,headers:n,signal:r,...s}){const o=this.createUrl(s);return(await Dd(o,{method:"POST",headers:n,body:t?JSON.stringify(t):void 0,signal:r})).json()}async put({body:t,headers:n,signal:r,...s}){const o=this.createUrl(s);return(await Dd(o,{method:"PUT",headers:n,body:t?JSON.stringify(t):void 0,signal:r})).json()}async delete({body:t,headers:n,signal:r,...s}){const o=this.createUrl(s);return(await Dd(o,{method:"DELETE",headers:n,body:t?JSON.stringify(t):void 0,signal:r})).json()}createUrl({path:t,params:n}){const r=new URL(t,this.baseUrl);return n&&Object.entries(n).forEach(([s,o])=>{o&&r.searchParams.append(s,o)}),this.clientId&&r.searchParams.append("clientId",this.clientId),r}}const Yue={getFeatureValue(e,t){const n=t?.[e];return n===void 0?vt.DEFAULT_FEATURES[e]:n},filterSocialsByPlatform(e){if(!e||!e.length)return e;if(Me.isTelegram()){if(Me.isIos())return e.filter(t=>t!=="google");if(Me.isMac())return e.filter(t=>t!=="x");if(Me.isAndroid())return e.filter(t=>!["facebook","x"].includes(t))}return e}},Oe=kt({features:vt.DEFAULT_FEATURES,projectId:"",sdkType:"appkit",sdkVersion:"html-wagmi-undefined",defaultAccountTypes:vt.DEFAULT_ACCOUNT_TYPES,enableNetworkSwitch:!0,experimental_preferUniversalLinks:!1,remoteFeatures:{}}),fe={state:Oe,subscribeKey(e,t){return fr(Oe,e,t)},setOptions(e){Object.assign(Oe,e)},setRemoteFeatures(e){if(!e)return;const t={...Oe.remoteFeatures,...e};Oe.remoteFeatures=t,Oe.remoteFeatures?.socials&&(Oe.remoteFeatures.socials=Yue.filterSocialsByPlatform(Oe.remoteFeatures.socials)),Oe.features?.pay&&(Oe.remoteFeatures.email=!1,Oe.remoteFeatures.socials=!1)},setFeatures(e){if(!e)return;Oe.features||(Oe.features=vt.DEFAULT_FEATURES);const t={...Oe.features,...e};Oe.features=t,Oe.features?.pay&&Oe.remoteFeatures&&(Oe.remoteFeatures.email=!1,Oe.remoteFeatures.socials=!1)},setProjectId(e){Oe.projectId=e},setCustomRpcUrls(e){Oe.customRpcUrls=e},setAllWallets(e){Oe.allWallets=e},setIncludeWalletIds(e){Oe.includeWalletIds=e},setExcludeWalletIds(e){Oe.excludeWalletIds=e},setFeaturedWalletIds(e){Oe.featuredWalletIds=e},setTokens(e){Oe.tokens=e},setTermsConditionsUrl(e){Oe.termsConditionsUrl=e},setPrivacyPolicyUrl(e){Oe.privacyPolicyUrl=e},setCustomWallets(e){Oe.customWallets=e},setIsSiweEnabled(e){Oe.isSiweEnabled=e},setIsUniversalProvider(e){Oe.isUniversalProvider=e},setSdkVersion(e){Oe.sdkVersion=e},setMetadata(e){Oe.metadata=e},setDisableAppend(e){Oe.disableAppend=e},setEIP6963Enabled(e){Oe.enableEIP6963=e},setDebug(e){Oe.debug=e},setEnableWalletConnect(e){Oe.enableWalletConnect=e},setEnableWalletGuide(e){Oe.enableWalletGuide=e},setEnableAuthLogger(e){Oe.enableAuthLogger=e},setEnableWallets(e){Oe.enableWallets=e},setPreferUniversalLinks(e){Oe.experimental_preferUniversalLinks=e},setSIWX(e){if(e)for(const[t,n]of Object.entries(vt.SIWX_DEFAULTS))e[t]??=n;Oe.siwx=e},setConnectMethodsOrder(e){Oe.features={...Oe.features,connectMethodsOrder:e}},setWalletFeaturesOrder(e){Oe.features={...Oe.features,walletFeaturesOrder:e}},setSocialsOrder(e){Oe.remoteFeatures={...Oe.remoteFeatures,socials:e}},setCollapseWallets(e){Oe.features={...Oe.features,collapseWallets:e}},setEnableEmbedded(e){Oe.enableEmbedded=e},setAllowUnsupportedChain(e){Oe.allowUnsupportedChain=e},setManualWCControl(e){Oe.manualWCControl=e},setEnableNetworkSwitch(e){Oe.enableNetworkSwitch=e},setEnableReconnect(e){Oe.enableReconnect=e},setDefaultAccountTypes(e={}){Object.entries(e).forEach(([t,n])=>{n&&(Oe.defaultAccountTypes[t]=n)})},setUniversalProviderConfigOverride(e){Oe.universalProviderConfigOverride=e},getUniversalProviderConfigOverride(){return Oe.universalProviderConfigOverride},getSnapshot(){return Mp(Oe)}},Xue=Object.freeze({enabled:!0,events:[]}),Zue=new Cg({baseUrl:Me.getAnalyticsUrl(),clientId:null}),Que=5,Jue=60*1e3,Fa=kt({...Xue}),efe={state:Fa,subscribeKey(e,t){return fr(Fa,e,t)},async sendError(e,t){if(!Fa.enabled)return;const n=Date.now();if(Fa.events.filter(o=>{const c=new Date(o.properties.timestamp||"").getTime();return n-c<Jue}).length>=Que)return;const s={type:"error",event:t,properties:{errorType:e.name,errorMessage:e.message,stackTrace:e.stack,timestamp:new Date().toISOString()}};Fa.events.push(s);try{if(typeof window>"u")return;const{projectId:o,sdkType:c,sdkVersion:l}=fe.state;await Zue.post({path:"/e",params:{projectId:o,st:c,sv:l||"html-wagmi-4.2.2"},body:{eventId:Me.getUUID(),url:window.location.href,domain:window.location.hostname,timestamp:new Date().toISOString(),props:{type:"error",event:t,errorType:e.name,errorMessage:e.message,stackTrace:e.stack}}})}catch{}},enable(){Fa.enabled=!0},disable(){Fa.enabled=!1},clearEvents(){Fa.events=[]}};class Hf extends Error{constructor(t,n,r){super(t),this.name="AppKitError",this.category=n,this.originalError=r,Object.setPrototypeOf(this,Hf.prototype);let s=!1;if(r instanceof Error&&typeof r.stack=="string"&&r.stack){const o=r.stack,c=o.indexOf(`
`);if(c>-1){const l=o.substring(c+1);this.stack=`${this.name}: ${this.message}
${l}`,s=!0}}s||(Error.captureStackTrace?Error.captureStackTrace(this,Hf):this.stack||(this.stack=`${this.name}: ${this.message}`))}}function P5(e,t){const n=e instanceof Hf?e:new Hf(e instanceof Error?e.message:String(e),t,e);throw efe.sendError(n,n.category),n}function gs(e,t="INTERNAL_SDK_ERROR"){const n={};return Object.keys(e).forEach(r=>{const s=e[r];if(typeof s=="function"){let o=s;s.constructor.name==="AsyncFunction"?o=async(...c)=>{try{return await s(...c)}catch(l){return P5(l,t)}}:o=(...c)=>{try{return s(...c)}catch(l){return P5(l,t)}},n[r]=o}else n[r]=s}),n}const Nl={ACCOUNT_TYPES:{EOA:"eoa",SMART_ACCOUNT:"smartAccount"}},Hi={PHANTOM:{id:"a797aa35c0fadbfc1a53e7f675162ed5226968b44a19ee3d24385c64d1d3c393",url:"https://phantom.app"},SOLFLARE:{id:"1ca0bdd4747578705b1939af023d120677c64fe6ca76add81fda36e350605e79",url:"https://solflare.com"},COINBASE:{id:"fd20dc426fb37566d803205b19bbc1d4096b248ac04548e3cfb6b3a38bd033aa",url:"https://go.cb-w.com"}},tfe={handleMobileDeeplinkRedirect(e,t){const n=window.location.href,r=encodeURIComponent(n);if(e===Hi.PHANTOM.id&&!("phantom"in window)){const s=n.startsWith("https")?"https":"http",o=n.split("/")[2],c=encodeURIComponent(`${s}://${o}`);window.location.href=`${Hi.PHANTOM.url}/ul/browse/${r}?ref=${c}`}e===Hi.SOLFLARE.id&&!("solflare"in window)&&(window.location.href=`${Hi.SOLFLARE.url}/ul/v1/browse/${r}?ref=${r}`),t===he.CHAIN.SOLANA&&e===Hi.COINBASE.id&&!("coinbaseSolana"in window)&&(window.location.href=`${Hi.COINBASE.url}/dapp?cb_url=${r}`)}},ns=kt({walletImages:{},networkImages:{},chainImages:{},connectorImages:{},tokenImages:{},currencyImages:{}}),nfe={state:ns,subscribeNetworkImages(e){return Gn(ns.networkImages,()=>e(ns.networkImages))},subscribeKey(e,t){return fr(ns,e,t)},subscribe(e){return Gn(ns,()=>e(ns))},setWalletImage(e,t){ns.walletImages[e]=t},setNetworkImage(e,t){ns.networkImages[e]=t},setChainImage(e,t){ns.chainImages[e]=t},setConnectorImage(e,t){ns.connectorImages={...ns.connectorImages,[e]:t}},setTokenImage(e,t){ns.tokenImages[e]=t},setCurrencyImage(e,t){ns.currencyImages[e]=t}},ui=gs(nfe),rfe={eip155:"ba0ba0cd-17c6-4806-ad93-f9d174f17900",solana:"a1b58899-f671-4276-6a5e-56ca5bd59700",polkadot:"",bip122:"0b4838db-0161-4ffe-022d-532bf03dba00",cosmos:"",sui:"",stacks:""},Zv=kt({networkImagePromises:{}}),fR={async fetchWalletImage(e){if(e)return await Pe._fetchWalletImage(e),this.getWalletImageById(e)},async fetchNetworkImage(e){if(!e)return;const t=this.getNetworkImageById(e);return t||(Zv.networkImagePromises[e]||(Zv.networkImagePromises[e]=Pe._fetchNetworkImage(e)),await Zv.networkImagePromises[e],this.getNetworkImageById(e))},getWalletImageById(e){if(e)return ui.state.walletImages[e]},getWalletImage(e){if(e?.image_url)return e?.image_url;if(e?.image_id)return ui.state.walletImages[e.image_id]},getNetworkImage(e){if(e?.assets?.imageUrl)return e?.assets?.imageUrl;if(e?.assets?.imageId)return ui.state.networkImages[e.assets.imageId]},getNetworkImageById(e){if(e)return ui.state.networkImages[e]},getConnectorImage(e){if(e?.imageUrl)return e.imageUrl;if(e?.info?.icon)return e.info.icon;if(e?.imageId)return ui.state.connectorImages[e.imageId]},getChainImage(e){return ui.state.networkImages[rfe[e]]}},qa=kt({message:"",variant:"info",open:!1}),sfe={state:qa,subscribeKey(e,t){return fr(qa,e,t)},open(e,t){const{debug:n}=fe.state,{code:r,displayMessage:s,debugMessage:o}=e;s&&n&&(qa.message=s,qa.variant=t,qa.open=!0),o&&console.error(typeof o=="function"?o():o,r?{code:r}:void 0)},close(){qa.open=!1,qa.message="",qa.variant="info"}},ar=gs(sfe),ife=Me.getAnalyticsUrl(),ofe=new Cg({baseUrl:ife,clientId:null}),afe=["MODAL_CREATED"],Ro=kt({timestamp:Date.now(),reportedErrors:{},data:{type:"track",event:"MODAL_CREATED"}}),Ot={state:Ro,subscribe(e){return Gn(Ro,()=>e(Ro))},getSdkProperties(){const{projectId:e,sdkType:t,sdkVersion:n}=fe.state;return{projectId:e,st:t,sv:n||"html-wagmi-4.2.2"}},async _sendAnalyticsEvent(e){try{const t=De.state.address;if(afe.includes(e.data.event)||typeof window>"u")return;await ofe.post({path:"/e",params:Ot.getSdkProperties(),body:{eventId:Me.getUUID(),url:window.location.href,domain:window.location.hostname,timestamp:e.timestamp,props:{...e.data,address:t}}}),Ro.reportedErrors.FORBIDDEN=!1}catch(t){t instanceof Error&&t.cause instanceof Response&&t.cause.status===he.HTTP_STATUS_CODES.FORBIDDEN&&!Ro.reportedErrors.FORBIDDEN&&(ar.open({displayMessage:"Invalid App Configuration",debugMessage:`Origin ${Af()?window.origin:"uknown"} not found on Allowlist - update configuration on cloud.reown.com`},"error"),Ro.reportedErrors.FORBIDDEN=!0)}},sendEvent(e){Ro.timestamp=Date.now(),Ro.data=e,(fe.state.features?.analytics||e.event==="INITIALIZE")&&Ot._sendAnalyticsEvent(Ro)}},cfe=Me.getApiUrl(),Or=new Cg({baseUrl:cfe,clientId:null}),lfe=40,B5=4,ufe=20,qe=kt({promises:{},page:1,count:0,featured:[],allFeatured:[],recommended:[],allRecommended:[],wallets:[],filteredWallets:[],search:[],isAnalyticsEnabled:!1,excludedWallets:[],isFetchingRecommendedWallets:!1}),Pe={state:qe,subscribeKey(e,t){return fr(qe,e,t)},_getSdkProperties(){const{projectId:e,sdkType:t,sdkVersion:n}=fe.state;return{projectId:e,st:t||"appkit",sv:n||"html-wagmi-4.2.2"}},_filterOutExtensions(e){return fe.state.isUniversalProvider?e.filter(t=>!!(t.mobile_link||t.desktop_link||t.webapp_link)):e},async _fetchWalletImage(e){const t=`${Or.baseUrl}/getWalletImage/${e}`,n=await Or.getBlob({path:t,params:Pe._getSdkProperties()});ui.setWalletImage(e,URL.createObjectURL(n))},async _fetchNetworkImage(e){const t=`${Or.baseUrl}/public/getAssetImage/${e}`,n=await Or.getBlob({path:t,params:Pe._getSdkProperties()});ui.setNetworkImage(e,URL.createObjectURL(n))},async _fetchConnectorImage(e){const t=`${Or.baseUrl}/public/getAssetImage/${e}`,n=await Or.getBlob({path:t,params:Pe._getSdkProperties()});ui.setConnectorImage(e,URL.createObjectURL(n))},async _fetchCurrencyImage(e){const t=`${Or.baseUrl}/public/getCurrencyImage/${e}`,n=await Or.getBlob({path:t,params:Pe._getSdkProperties()});ui.setCurrencyImage(e,URL.createObjectURL(n))},async _fetchTokenImage(e){const t=`${Or.baseUrl}/public/getTokenImage/${e}`,n=await Or.getBlob({path:t,params:Pe._getSdkProperties()});ui.setTokenImage(e,URL.createObjectURL(n))},_filterWalletsByPlatform(e){return Me.isMobile()?e?.filter(n=>n.mobile_link||n.id===Hi.COINBASE.id?!0:z.state.activeChain==="solana"&&(n.id===Hi.SOLFLARE.id||n.id===Hi.PHANTOM.id)):e},async fetchProjectConfig(){return(await Or.get({path:"/appkit/v1/config",params:Pe._getSdkProperties()})).features},async fetchAllowedOrigins(){try{const{allowedOrigins:e}=await Or.get({path:"/projects/v1/origins",params:Pe._getSdkProperties()});return e}catch(e){if(e instanceof Error&&e.cause instanceof Response){const t=e.cause.status;if(t===he.HTTP_STATUS_CODES.TOO_MANY_REQUESTS)throw new Error("RATE_LIMITED",{cause:e});if(t>=he.HTTP_STATUS_CODES.SERVER_ERROR&&t<600)throw new Error("SERVER_ERROR",{cause:e});return[]}return[]}},async fetchNetworkImages(){const t=z.getAllRequestedCaipNetworks()?.map(({assets:n})=>n?.imageId).filter(Boolean).filter(n=>!fR.getNetworkImageById(n));t&&await Promise.allSettled(t.map(n=>Pe._fetchNetworkImage(n)))},async fetchConnectorImages(){const{connectors:e}=be.state,t=e.map(({imageId:n})=>n).filter(Boolean);await Promise.allSettled(t.map(n=>Pe._fetchConnectorImage(n)))},async fetchCurrencyImages(e=[]){await Promise.allSettled(e.map(t=>Pe._fetchCurrencyImage(t)))},async fetchTokenImages(e=[]){await Promise.allSettled(e.map(t=>Pe._fetchTokenImage(t)))},async fetchWallets(e){const t=e.exclude??[];Pe._getSdkProperties().sv.startsWith("html-core-")&&t.push(...Object.values(Hi).map(o=>o.id));const r=await Or.get({path:"/getWallets",params:{...Pe._getSdkProperties(),...e,page:String(e.page),entries:String(e.entries),include:e.include?.join(","),exclude:t.join(",")}});return{data:Pe._filterWalletsByPlatform(r?.data)||[],count:r?.count}},async fetchFeaturedWallets(){const{featuredWalletIds:e}=fe.state;if(e?.length){const t={...Pe._getSdkProperties(),page:1,entries:e?.length??B5,include:e},{data:n}=await Pe.fetchWallets(t),r=[...n].sort((o,c)=>e.indexOf(o.id)-e.indexOf(c.id)),s=r.map(o=>o.image_id).filter(Boolean);await Promise.allSettled(s.map(o=>Pe._fetchWalletImage(o))),qe.featured=r,qe.allFeatured=r}},async fetchRecommendedWallets(){try{qe.isFetchingRecommendedWallets=!0;const{includeWalletIds:e,excludeWalletIds:t,featuredWalletIds:n}=fe.state,r=[...t??[],...n??[]].filter(Boolean),s=z.getRequestedCaipNetworkIds().join(","),o={page:1,entries:B5,include:e,exclude:r,chains:s},{data:c,count:l}=await Pe.fetchWallets(o),f=ge.getRecentWallets(),d=c.map(g=>g.image_id).filter(Boolean),p=f.map(g=>g.image_id).filter(Boolean);await Promise.allSettled([...d,...p].map(g=>Pe._fetchWalletImage(g))),qe.recommended=c,qe.allRecommended=c,qe.count=l??0}catch{}finally{qe.isFetchingRecommendedWallets=!1}},async fetchWalletsByPage({page:e}){const{includeWalletIds:t,excludeWalletIds:n,featuredWalletIds:r}=fe.state,s=z.getRequestedCaipNetworkIds().join(","),o=[...qe.recommended.map(({id:p})=>p),...n??[],...r??[]].filter(Boolean),c={page:e,entries:lfe,include:t,exclude:o,chains:s},{data:l,count:f}=await Pe.fetchWallets(c),d=l.slice(0,ufe).map(p=>p.image_id).filter(Boolean);await Promise.allSettled(d.map(p=>Pe._fetchWalletImage(p))),qe.wallets=Me.uniqueBy([...qe.wallets,...Pe._filterOutExtensions(l)],"id").filter(p=>p.chains?.some(g=>s.includes(g))),qe.count=f>qe.count?f:qe.count,qe.page=e},async initializeExcludedWallets({ids:e}){const t={page:1,entries:e.length,include:e},{data:n}=await Pe.fetchWallets(t);n&&n.forEach(r=>{qe.excludedWallets.push({rdns:r.rdns,name:r.name})})},async searchWallet({search:e,badge:t}){const{includeWalletIds:n,excludeWalletIds:r}=fe.state,s=z.getRequestedCaipNetworkIds().join(",");qe.search=[];const o={page:1,entries:100,search:e?.trim(),badge_type:t,include:n,exclude:r,chains:s},{data:c}=await Pe.fetchWallets(o);Ot.sendEvent({type:"track",event:"SEARCH_WALLET",properties:{badge:t??"",search:e??""}});const l=c.map(f=>f.image_id).filter(Boolean);await Promise.allSettled([...l.map(f=>Pe._fetchWalletImage(f)),Me.wait(300)]),qe.search=Pe._filterOutExtensions(c)},initPromise(e,t){const n=qe.promises[e];return n||(qe.promises[e]=t())},prefetch({fetchConnectorImages:e=!0,fetchFeaturedWallets:t=!0,fetchRecommendedWallets:n=!0,fetchNetworkImages:r=!0}={}){const s=[e&&Pe.initPromise("connectorImages",Pe.fetchConnectorImages),t&&Pe.initPromise("featuredWallets",Pe.fetchFeaturedWallets),n&&Pe.initPromise("recommendedWallets",Pe.fetchRecommendedWallets),r&&Pe.initPromise("networkImages",Pe.fetchNetworkImages)].filter(Boolean);return Promise.allSettled(s)},prefetchAnalyticsConfig(){fe.state.features?.analytics&&Pe.fetchAnalyticsConfig()},async fetchAnalyticsConfig(){try{const{isAnalyticsEnabled:e}=await Or.get({path:"/getAnalyticsConfig",params:Pe._getSdkProperties()});fe.setFeatures({analytics:e})}catch{fe.setFeatures({analytics:!1})}},filterByNamespaces(e){if(!e?.length){qe.featured=qe.allFeatured,qe.recommended=qe.allRecommended;return}const t=z.getRequestedCaipNetworkIds().join(",");qe.featured=qe.allFeatured.filter(n=>n.chains?.some(r=>t.includes(r))),qe.recommended=qe.allRecommended.filter(n=>n.chains?.some(r=>t.includes(r))),qe.filteredWallets=qe.wallets.filter(n=>n.chains?.some(r=>t.includes(r)))},clearFilterByNamespaces(){qe.filteredWallets=[]},setFilterByNamespace(e){if(!e){qe.featured=qe.allFeatured,qe.recommended=qe.allRecommended;return}const t=z.getRequestedCaipNetworkIds().join(",");qe.featured=qe.allFeatured.filter(n=>n.chains?.some(r=>t.includes(r))),qe.recommended=qe.allRecommended.filter(n=>n.chains?.some(r=>t.includes(r))),qe.filteredWallets=qe.wallets.filter(n=>n.chains?.some(r=>t.includes(r)))}},It=kt({view:"Connect",history:["Connect"],transactionStack:[]}),ffe={state:It,subscribeKey(e,t){return fr(It,e,t)},pushTransactionStack(e){It.transactionStack.push(e)},popTransactionStack(e){const t=It.transactionStack.pop();if(!t)return;const{onSuccess:n,onError:r,onCancel:s}=t;switch(e){case"success":n?.();break;case"error":r?.(),ze.goBack();break;case"cancel":s?.(),ze.goBack();break}},push(e,t){e!==It.view&&(It.view=e,It.history.push(e),It.data=t)},reset(e,t){It.view=e,It.history=[e],It.data=t},replace(e,t){It.history.at(-1)===e||(It.view=e,It.history[It.history.length-1]=e,It.data=t)},goBack(){const e=z.state.activeCaipAddress,t=ze.state.view==="ConnectingFarcaster",n=!e&&t;if(It.history.length>1){It.history.pop();const[r]=It.history.slice(-1);r&&(e&&r==="Connect"?It.view="Account":It.view=r)}else st.close();It.data?.wallet&&(It.data.wallet=void 0),setTimeout(()=>{if(n){De.setFarcasterUrl(void 0,z.state.activeChain);const r=be.getAuthConnector();r?.provider?.reload();const s=Mp(fe.state);r?.provider?.syncDappData?.({metadata:s.metadata,sdkVersion:s.sdkVersion,projectId:s.projectId,sdkType:s.sdkType})}},100)},goBackToIndex(e){if(It.history.length>1){It.history=It.history.slice(0,e+1);const[t]=It.history.slice(-1);t&&(It.view=t)}},goBackOrCloseModal(){ze.state.history.length>1?ze.goBack():st.close()}},ze=gs(ffe),Po=kt({themeMode:"dark",themeVariables:{},w3mThemeVariables:void 0}),XE={state:Po,subscribe(e){return Gn(Po,()=>e(Po))},setThemeMode(e){Po.themeMode=e;try{const t=be.getAuthConnector();if(t){const n=XE.getSnapshot().themeVariables;t.provider.syncTheme({themeMode:e,themeVariables:n,w3mThemeVariables:rc(n,e)})}}catch{console.info("Unable to sync theme to auth connector")}},setThemeVariables(e){Po.themeVariables={...Po.themeVariables,...e};try{const t=be.getAuthConnector();if(t){const n=XE.getSnapshot().themeVariables;t.provider.syncTheme({themeVariables:n,w3mThemeVariables:rc(Po.themeVariables,Po.themeMode)})}}catch{console.info("Unable to sync theme to auth connector")}},getSnapshot(){return Mp(Po)}},is=gs(XE),hR=Object.fromEntries(oR.map(e=>[e,void 0])),hfe=Object.fromEntries(oR.map(e=>[e,!0])),ht=kt({allConnectors:[],connectors:[],activeConnector:void 0,filterByNamespace:void 0,activeConnectorIds:hR,filterByNamespaceMap:hfe}),dfe={state:ht,subscribe(e){return Gn(ht,()=>{e(ht)})},subscribeKey(e,t){return fr(ht,e,t)},initialize(e){e.forEach(t=>{const n=ge.getConnectedConnectorId(t);n&&be.setConnectorId(n,t)})},setActiveConnector(e){e&&(ht.activeConnector=Bl(e))},setConnectors(e){e.filter(s=>!ht.allConnectors.some(o=>o.id===s.id&&be.getConnectorName(o.name)===be.getConnectorName(s.name)&&o.chain===s.chain)).forEach(s=>{s.type!=="MULTI_CHAIN"&&ht.allConnectors.push(Bl(s))});const n=be.getEnabledNamespaces(),r=be.getEnabledConnectors(n);ht.connectors=be.mergeMultiChainConnectors(r)},filterByNamespaces(e){Object.keys(ht.filterByNamespaceMap).forEach(t=>{ht.filterByNamespaceMap[t]=!1}),e.forEach(t=>{ht.filterByNamespaceMap[t]=!0}),be.updateConnectorsForEnabledNamespaces()},filterByNamespace(e,t){ht.filterByNamespaceMap[e]=t,be.updateConnectorsForEnabledNamespaces()},updateConnectorsForEnabledNamespaces(){const e=be.getEnabledNamespaces(),t=be.getEnabledConnectors(e),n=be.areAllNamespacesEnabled();ht.connectors=be.mergeMultiChainConnectors(t),n?Pe.clearFilterByNamespaces():Pe.filterByNamespaces(e)},getEnabledNamespaces(){return Object.entries(ht.filterByNamespaceMap).filter(([e,t])=>t).map(([e])=>e)},getEnabledConnectors(e){return ht.allConnectors.filter(t=>e.includes(t.chain))},areAllNamespacesEnabled(){return Object.values(ht.filterByNamespaceMap).every(e=>e)},mergeMultiChainConnectors(e){const t=be.generateConnectorMapByName(e),n=[];return t.forEach(r=>{const s=r[0],o=s?.id===he.CONNECTOR_ID.AUTH;r.length>1&&s?n.push({name:s.name,imageUrl:s.imageUrl,imageId:s.imageId,connectors:[...r],type:o?"AUTH":"MULTI_CHAIN",chain:"eip155",id:s?.id||""}):s&&n.push(s)}),n},generateConnectorMapByName(e){const t=new Map;return e.forEach(n=>{const{name:r}=n,s=be.getConnectorName(r);if(!s)return;const o=t.get(s)||[];o.find(l=>l.chain===n.chain)||o.push(n),t.set(s,o)}),t},getConnectorName(e){return e&&({"Trust Wallet":"Trust"}[e]||e)},getUniqueConnectorsByName(e){const t=[];return e.forEach(n=>{t.find(r=>r.chain===n.chain)||t.push(n)}),t},addConnector(e){if(e.id===he.CONNECTOR_ID.AUTH){const t=e,n=Mp(fe.state),r=is.getSnapshot().themeMode,s=is.getSnapshot().themeVariables;t?.provider?.syncDappData?.({metadata:n.metadata,sdkVersion:n.sdkVersion,projectId:n.projectId,sdkType:n.sdkType}),t?.provider?.syncTheme({themeMode:r,themeVariables:s,w3mThemeVariables:rc(s,r)}),be.setConnectors([e])}else be.setConnectors([e])},getAuthConnector(e){const t=e||z.state.activeChain,n=ht.connectors.find(r=>r.id===he.CONNECTOR_ID.AUTH);if(n)return n?.connectors?.length?n.connectors.find(s=>s.chain===t):n},getAnnouncedConnectorRdns(){return ht.connectors.filter(e=>e.type==="ANNOUNCED").map(e=>e.info?.rdns)},getConnectorById(e){return ht.allConnectors.find(t=>t.id===e)},getConnector({id:e,rdns:t,namespace:n}){const r=n||z.state.activeChain;return ht.allConnectors.filter(o=>o.chain===r).find(o=>o.explorerId===e||o.info?.rdns===t)},syncIfAuthConnector(e){if(e.id!=="ID_AUTH")return;const t=e,n=Mp(fe.state),r=is.getSnapshot().themeMode,s=is.getSnapshot().themeVariables;t?.provider?.syncDappData?.({metadata:n.metadata,sdkVersion:n.sdkVersion,sdkType:n.sdkType,projectId:n.projectId}),t.provider.syncTheme({themeMode:r,themeVariables:s,w3mThemeVariables:rc(s,r)})},getConnectorsByNamespace(e){const t=ht.allConnectors.filter(n=>n.chain===e);return be.mergeMultiChainConnectors(t)},canSwitchToSmartAccount(e){return z.checkIfSmartAccountEnabled()&&eo(e)===Nl.ACCOUNT_TYPES.EOA},selectWalletConnector(e){const t=be.getConnector({id:e.id,rdns:e.rdns});tfe.handleMobileDeeplinkRedirect(t?.explorerId||e.id,z.state.activeChain),t?ze.push("ConnectingExternal",{connector:t,wallet:e}):ze.push("ConnectingWalletConnect",{wallet:e})},getConnectors(e){return e?be.getConnectorsByNamespace(e):be.mergeMultiChainConnectors(ht.allConnectors)},setFilterByNamespace(e){ht.filterByNamespace=e,ht.connectors=be.getConnectors(e),Pe.setFilterByNamespace(e)},setConnectorId(e,t){e&&(ht.activeConnectorIds={...ht.activeConnectorIds,[t]:e},ge.setConnectedConnectorId(t,e))},removeConnectorId(e){ht.activeConnectorIds={...ht.activeConnectorIds,[e]:void 0},ge.deleteConnectedConnectorId(e)},getConnectorId(e){if(e)return ht.activeConnectorIds[e]},isConnected(e){return e?!!ht.activeConnectorIds[e]:Object.values(ht.activeConnectorIds).some(t=>!!t)},resetConnectorIds(){ht.activeConnectorIds={...hR}}},be=gs(dfe),pfe=1e3,Md={checkNamespaceConnectorId(e,t){return be.getConnectorId(e)===t},isSocialProvider(e){return vt.DEFAULT_REMOTE_FEATURES.socials.includes(e)},connectWalletConnect({walletConnect:e,connector:t,closeModalOnConnect:n=!0,redirectViewOnModalClose:r="Connect",onOpen:s,onConnect:o}){return new Promise((c,l)=>{if(e&&be.setActiveConnector(t),s?.(Me.isMobile()&&e),r){const d=st.subscribeKey("open",p=>{p||(ze.state.view!==r&&ze.replace(r),d(),l(new Error("Modal closed")))})}const f=z.subscribeKey("activeCaipAddress",d=>{d&&(o?.(),n&&st.close(),f(),c(cs.parseCaipAddress(d)))})})},connectExternal(e){return new Promise((t,n)=>{const r=z.subscribeKey("activeCaipAddress",s=>{s&&(st.close(),r(),t(cs.parseCaipAddress(s)))});ve.connectExternal(e,e.chain).catch(()=>{r(),n(new Error("Connection rejected"))})})},connectSocial({social:e,namespace:t,closeModalOnConnect:n=!0,onOpenFarcaster:r,onConnect:s}){let o=De.state.socialWindow,c=De.state.socialProvider,l=!1,f=null;const d=t||z.state.activeChain,p=z.subscribeKey("activeCaipAddress",g=>{g&&(n&&st.close(),p())});return new Promise((g,y)=>{async function b(E){if(E.data?.resultUri)if(E.origin===he.SECURE_SITE_SDK_ORIGIN){window.removeEventListener("message",b,!1);try{const S=be.getAuthConnector(d);if(S&&!l){o&&(o.close(),De.setSocialWindow(void 0,d),o=De.state.socialWindow),l=!0;const C=E.data.resultUri;if(c&&Ot.sendEvent({type:"track",event:"SOCIAL_LOGIN_REQUEST_USER_DATA",properties:{provider:c}}),c){ge.setConnectedSocialProvider(c),await ve.connectExternal({id:S.id,type:S.type,socialUri:C},S.chain);const O=z.state.activeCaipAddress;if(!O){y(new Error("Failed to connect"));return}g(cs.parseCaipAddress(O)),Ot.sendEvent({type:"track",event:"SOCIAL_LOGIN_SUCCESS",properties:{provider:c,caipNetworkId:z.getActiveCaipNetwork()?.caipNetworkId}})}}}catch{c&&Ot.sendEvent({type:"track",event:"SOCIAL_LOGIN_ERROR",properties:{provider:c}}),y(new Error("Failed to connect"))}}else c&&Ot.sendEvent({type:"track",event:"SOCIAL_LOGIN_ERROR",properties:{provider:c}})}async function v(){if(e&&(De.setSocialProvider(e,d),c=De.state.socialProvider,Ot.sendEvent({type:"track",event:"SOCIAL_LOGIN_STARTED",properties:{provider:c}})),c==="farcaster"){r?.();const E=st.subscribeKey("open",C=>{!C&&e==="farcaster"&&(y(new Error("Popup closed")),s?.(),E())}),S=be.getAuthConnector();if(S&&!De.state.farcasterUrl)try{const{url:C}=await S.provider.getFarcasterUri();De.setFarcasterUrl(C,d)}catch{y(new Error("Failed to connect to farcaster"))}}else{const E=be.getAuthConnector();f=Me.returnOpenHref(`${he.SECURE_SITE_SDK_ORIGIN}/loading`,"popupWindow","width=600,height=800,scrollbars=yes");try{if(E&&c){const{uri:S}=await E.provider.getSocialRedirectUri({provider:c});if(f&&S){De.setSocialWindow(f,d),o=De.state.socialWindow,f.location.href=S;const C=setInterval(()=>{o?.closed&&!l&&(y(new Error("Popup closed")),clearInterval(C))},1e3);window.addEventListener("message",b,!1)}else f?.close(),y(new Error("Failed to initiate social connection"))}}catch{y(new Error("Failed to initiate social connection")),f?.close()}}}v()})},connectEmail({closeModalOnConnect:e=!0,redirectViewOnModalClose:t="Connect",onOpen:n,onConnect:r}){return new Promise((s,o)=>{if(n?.(),t){const l=st.subscribeKey("open",f=>{f||(ze.state.view!==t&&ze.replace(t),l(),o(new Error("Modal closed")))})}const c=z.subscribeKey("activeCaipAddress",l=>{l&&(r?.(),e&&st.close(),c(),s(cs.parseCaipAddress(l)))})})},async updateEmail(){const e=ge.getConnectedConnectorId(z.state.activeChain),t=be.getAuthConnector();if(!t)throw new Error("No auth connector found");if(e!==he.CONNECTOR_ID.AUTH)throw new Error("Not connected to email or social");const n=t.provider.getEmail()??"";return await st.open({view:"UpdateEmailWallet",data:{email:n,redirectView:void 0}}),new Promise((r,s)=>{const o=setInterval(()=>{const l=t.provider.getEmail()??"";l!==n&&(st.close(),clearInterval(o),c(),r({email:l}))},pfe),c=st.subscribeKey("open",l=>{l||(ze.state.view!=="Connect"&&ze.push("Connect"),clearInterval(o),c(),s(new Error("Modal closed")))})})},canSwitchToSmartAccount(e){return z.checkIfSmartAccountEnabled()&&eo(e)===Nl.ACCOUNT_TYPES.EOA}};function dR(){const e=z.state.activeCaipNetwork?.chainNamespace||"eip155",t=z.state.activeCaipNetwork?.id||1,n=vt.NATIVE_TOKEN_ADDRESS[e];return`${e}:${t}:${n}`}function eo(e){return z.getAccountData(e)?.preferredAccountType}function L5(e){return z.state.activeCaipNetwork}const Ny={getConnectionStatus(e,t){const n=be.state.activeConnectorIds[t],r=ve.getConnections(t);return!!n&&e.connectorId===n?"connected":r.some(c=>c.connectorId.toLowerCase()===e.connectorId.toLowerCase())?"active":"disconnected"},excludeConnectorAddressFromConnections({connections:e,connectorId:t,addresses:n}){return e.map(r=>{if((t?r.connectorId.toLowerCase()===t.toLowerCase():!1)&&n){const o=r.accounts.filter(c=>!n.some(f=>f.toLowerCase()===c.address.toLowerCase()));return{...r,accounts:o}}return r})},excludeExistingConnections(e,t){const n=new Set(e);return t.filter(r=>!n.has(r.connectorId))},getConnectionsByConnectorId(e,t){return e.filter(n=>n.connectorId.toLowerCase()===t.toLowerCase())},getConnectionsData(e){const t=!!fe.state.remoteFeatures?.multiWallet,n=be.state.activeConnectorIds[e],r=ve.getConnections(e),o=(ve.state.recentConnections.get(e)??[]).filter(l=>be.getConnectorById(l.connectorId)),c=Ny.excludeExistingConnections([...r.map(l=>l.connectorId),...n?[n]:[]],o);return t?{connections:r,recentConnections:c}:{connections:r.filter(l=>l.connectorId.toLowerCase()===n?.toLowerCase()),recentConnections:[]}}},il=Object.freeze({message:"",variant:"success",svg:void 0,open:!1,autoClose:!0}),Cn=kt({...il}),gfe={state:Cn,subscribeKey(e,t){return fr(Cn,e,t)},showLoading(e,t={}){this._showMessage({message:e,variant:"loading",...t})},showSuccess(e){this._showMessage({message:e,variant:"success"})},showSvg(e,t){this._showMessage({message:e,svg:t})},showError(e){const t=Me.parseError(e);this._showMessage({message:t,variant:"error"})},hide(){Cn.message=il.message,Cn.variant=il.variant,Cn.svg=il.svg,Cn.open=il.open,Cn.autoClose=il.autoClose},_showMessage({message:e,svg:t,variant:n="success",autoClose:r=il.autoClose}){Cn.open?(Cn.open=!1,setTimeout(()=>{Cn.message=e,Cn.variant=n,Cn.svg=t,Cn.open=!0,Cn.autoClose=r},150)):(Cn.message=e,Cn.variant=n,Cn.svg=t,Cn.open=!0,Cn.autoClose=r)}},Vi=gfe,Gt=kt({transactions:[],transactionsByYear:{},lastNetworkInView:void 0,loading:!1,empty:!1,next:void 0}),mfe={state:Gt,subscribe(e){return Gn(Gt,()=>e(Gt))},setLastNetworkInView(e){Gt.lastNetworkInView=e},async fetchTransactions(e){if(!e)throw new Error("Transactions can't be fetched without an accountAddress");Gt.loading=!0;try{const t=await Be.fetchTransactions({account:e,cursor:Gt.next,chainId:z.state.activeCaipNetwork?.caipNetworkId}),n=q0.filterSpamTransactions(t.data),r=q0.filterByConnectedChain(n),s=[...Gt.transactions,...r];Gt.loading=!1,Gt.transactions=s,Gt.transactionsByYear=q0.groupTransactionsByYearAndMonth(Gt.transactionsByYear,r),Gt.empty=s.length===0,Gt.next=t.next?t.next:void 0}catch{const n=z.state.activeChain;Ot.sendEvent({type:"track",event:"ERROR_FETCH_TRANSACTIONS",properties:{address:e,projectId:fe.state.projectId,cursor:Gt.next,isSmartAccount:eo(n)===Nl.ACCOUNT_TYPES.SMART_ACCOUNT}}),Vi.showError("Failed to fetch transactions"),Gt.loading=!1,Gt.empty=!0,Gt.next=void 0}},groupTransactionsByYearAndMonth(e={},t=[]){const n=e;return t.forEach(r=>{const s=new Date(r.metadata.minedAt).getFullYear(),o=new Date(r.metadata.minedAt).getMonth(),c=n[s]??{},f=(c[o]??[]).filter(d=>d.id!==r.id);n[s]={...c,[o]:[...f,r].sort((d,p)=>new Date(p.metadata.minedAt).getTime()-new Date(d.metadata.minedAt).getTime())}}),n},filterSpamTransactions(e){return e.filter(t=>!t.transfers.every(r=>r.nft_info?.flags.is_spam===!0))},filterByConnectedChain(e){const t=z.state.activeCaipNetwork?.caipNetworkId;return e.filter(r=>r.metadata.chain===t)},clearCursor(){Gt.next=void 0},resetTransactions(){Gt.transactions=[],Gt.transactionsByYear={},Gt.lastNetworkInView=void 0,Gt.loading=!1,Gt.empty=!1,Gt.next=void 0}},q0=gs(mfe,"API_ERROR"),dt=kt({connections:new Map,recentConnections:new Map,isSwitchingConnection:!1,wcError:!1,buffering:!1,status:"disconnected"});let el;const yfe={state:dt,subscribe(e){return Gn(dt,()=>e(dt))},subscribeKey(e,t){return fr(dt,e,t)},_getClient(){return dt._client},setClient(e){dt._client=Bl(e)},initialize(e){const t=e.filter(n=>!!n.namespace).map(n=>n.namespace);ve.syncStorageConnections(t)},syncStorageConnections(e){const t=ge.getConnections(),n=e??Array.from(z.state.chains.keys());for(const r of n){const s=t[r]??[],o=new Map(dt.recentConnections);o.set(r,s),dt.recentConnections=o}},getConnections(e){return e?dt.connections.get(e)??[]:[]},hasAnyConnection(e){const t=ve.state.connections;return Array.from(t.values()).flatMap(n=>n).some(({connectorId:n})=>n===e)},async connectWalletConnect(){if(Me.isTelegram()||Me.isSafari()&&Me.isIos()){if(el){await el,el=void 0;return}if(!Me.isPairingExpired(dt?.wcPairingExpiry)){const e=dt.wcUri;dt.wcUri=e;return}el=ve._getClient()?.connectWalletConnect?.().catch(()=>{}),ve.state.status="connecting",await el,el=void 0,dt.wcPairingExpiry=void 0,ve.state.status="connected"}else await ve._getClient()?.connectWalletConnect?.()},async connectExternal(e,t,n=!0){const r=await ve._getClient()?.connectExternal?.(e);return n&&z.setActiveNamespace(t),r},async reconnectExternal(e){await ve._getClient()?.reconnectExternal?.(e);const t=e.chain||z.state.activeChain;t&&be.setConnectorId(e.id,t)},async setPreferredAccountType(e,t){if(!t)return;st.setLoading(!0,z.state.activeChain);const n=be.getAuthConnector();n&&(De.setPreferredAccountType(e,t),await n.provider.setPreferredAccount(e),ge.setPreferredAccountTypes(Object.entries(z.state.chains).reduce((r,[s,o])=>{const c=s,l=eo(c);return l!==void 0&&(r[c]=l),r},{})),await ve.reconnectExternal(n),st.setLoading(!1,z.state.activeChain),Ot.sendEvent({type:"track",event:"SET_PREFERRED_ACCOUNT_TYPE",properties:{accountType:e,network:z.state.activeCaipNetwork?.caipNetworkId||""}}))},async signMessage(e){return ve._getClient()?.signMessage(e)},parseUnits(e,t){return ve._getClient()?.parseUnits(e,t)},formatUnits(e,t){return ve._getClient()?.formatUnits(e,t)},async sendTransaction(e){return ve._getClient()?.sendTransaction(e)},async getCapabilities(e){return ve._getClient()?.getCapabilities(e)},async grantPermissions(e){return ve._getClient()?.grantPermissions(e)},async walletGetAssets(e){return ve._getClient()?.walletGetAssets(e)??{}},async estimateGas(e){return ve._getClient()?.estimateGas(e)},async writeContract(e){return ve._getClient()?.writeContract(e)},async getEnsAddress(e){return ve._getClient()?.getEnsAddress(e)},async getEnsAvatar(e){return ve._getClient()?.getEnsAvatar(e)},checkInstalled(e){return ve._getClient()?.checkInstalled?.(e)||!1},resetWcConnection(){dt.wcUri=void 0,dt.wcPairingExpiry=void 0,dt.wcLinking=void 0,dt.recentWallet=void 0,dt.status="disconnected",q0.resetTransactions(),ge.deleteWalletConnectDeepLink()},resetUri(){dt.wcUri=void 0,dt.wcPairingExpiry=void 0,el=void 0},finalizeWcConnection(){const{wcLinking:e,recentWallet:t}=ve.state;e&&ge.setWalletConnectDeepLink(e),t&&ge.setAppKitRecent(t),Ot.sendEvent({type:"track",event:"CONNECT_SUCCESS",properties:{method:e?"mobile":"qrcode",name:ze.state.data?.wallet?.name||"Unknown",caipNetworkId:z.getActiveCaipNetwork()?.caipNetworkId}})},setWcBasic(e){dt.wcBasic=e},setUri(e){dt.wcUri=e,dt.wcPairingExpiry=Me.getPairingExpiry()},setWcLinking(e){dt.wcLinking=e},setWcError(e){dt.wcError=e,dt.buffering=!1},setRecentWallet(e){dt.recentWallet=e},setBuffering(e){dt.buffering=e},setStatus(e){dt.status=e},setIsSwitchingConnection(e){dt.isSwitchingConnection=e},async disconnect({id:e,namespace:t,initialDisconnect:n}={}){try{await ve._getClient()?.disconnect({id:e,chainNamespace:t,initialDisconnect:n})}catch(r){throw new Hf("Failed to disconnect","INTERNAL_SDK_ERROR",r)}},setConnections(e,t){const n=new Map(dt.connections);n.set(t,e),dt.connections=n},async handleAuthAccountSwitch({address:e,namespace:t}){const n=De.state.user?.accounts?.find(s=>s.type==="smartAccount"),r=n&&n.address.toLowerCase()===e.toLowerCase()&&Md.canSwitchToSmartAccount(t)?"smartAccount":"eoa";await ve.setPreferredAccountType(r,t)},async handleActiveConnection({connection:e,namespace:t,address:n}){const r=be.getConnectorById(e.connectorId),s=e.connectorId===he.CONNECTOR_ID.AUTH;if(!r)throw new Error(`No connector found for connection: ${e.connectorId}`);if(s)s&&n&&await ve.handleAuthAccountSwitch({address:n,namespace:t});else return(await ve.connectExternal({id:r.id,type:r.type,provider:r.provider,address:n,chain:t},t))?.address;return n},async handleDisconnectedConnection({connection:e,namespace:t,address:n,closeModalOnConnect:r}){const s=be.getConnectorById(e.connectorId),o=e.auth?.name?.toLowerCase(),c=e.connectorId===he.CONNECTOR_ID.AUTH,l=e.connectorId===he.CONNECTOR_ID.WALLET_CONNECT;if(!s)throw new Error(`No connector found for connection: ${e.connectorId}`);let f;if(c)if(o&&Md.isSocialProvider(o)){const{address:d}=await Md.connectSocial({social:o,closeModalOnConnect:r,onOpenFarcaster(){st.open({view:"ConnectingFarcaster"})},onConnect(){ze.replace("ProfileWallets")}});f=d}else{const{address:d}=await Md.connectEmail({closeModalOnConnect:r,onOpen(){st.open({view:"EmailLogin"})},onConnect(){ze.replace("ProfileWallets")}});f=d}else if(l){const{address:d}=await Md.connectWalletConnect({walletConnect:!0,connector:s,closeModalOnConnect:r,onOpen(p){st.open({view:p?"AllWallets":"ConnectingWalletConnect"})},onConnect(){ze.replace("ProfileWallets")}});f=d}else{const d=await ve.connectExternal({id:s.id,type:s.type,provider:s.provider,chain:t},t);d&&(f=d.address)}return c&&n&&await ve.handleAuthAccountSwitch({address:n,namespace:t}),f},async switchConnection({connection:e,address:t,namespace:n,closeModalOnConnect:r,onChange:s}){let o;const c=De.getCaipAddress(n);if(c){const{address:f}=cs.parseCaipAddress(c);o=f}const l=Ny.getConnectionStatus(e,n);switch(l){case"connected":case"active":{const f=await ve.handleActiveConnection({connection:e,namespace:n,address:t});if(o&&f){const d=f.toLowerCase()!==o.toLowerCase();s?.({address:f,namespace:n,hasSwitchedAccount:d,hasSwitchedWallet:l==="active"})}break}case"disconnected":{const f=await ve.handleDisconnectedConnection({connection:e,namespace:n,address:t,closeModalOnConnect:r});f&&s?.({address:f,namespace:n,hasSwitchedAccount:!0,hasSwitchedWallet:!0});break}default:throw new Error(`Invalid connection status: ${l}`)}}},ve=gs(yfe),sf=kt({loading:!1,open:!1,selectedNetworkId:void 0,activeChain:void 0,initialized:!1}),zo={state:sf,subscribe(e){return Gn(sf,()=>e(sf))},subscribeOpen(e){return fr(sf,"open",e)},set(e){Object.assign(sf,{...sf,...e})}},wfe={async getTokenList(){const e=z.state.activeCaipNetwork;return(await Be.fetchSwapTokens({chainId:e?.caipNetworkId}))?.tokens?.map(r=>({...r,eip2612:!1,quantity:{decimals:"0",numeric:"0"},price:0,value:0}))||[]},async fetchGasPrice(){const e=z.state.activeCaipNetwork;if(!e)return null;try{switch(e.chainNamespace){case"solana":const t=(await ve?.estimateGas({chainNamespace:"solana"}))?.toString();return{standard:t,fast:t,instant:t};case"eip155":default:return await Be.fetchGasPrice({chainId:e.caipNetworkId})}}catch{return null}},async fetchSwapAllowance({tokenAddress:e,userAddress:t,sourceTokenAmount:n,sourceTokenDecimals:r}){const s=await Be.fetchSwapAllowance({tokenAddress:e,userAddress:t});if(s?.allowance&&n&&r){const o=ve.parseUnits(n,r)||0;return BigInt(s.allowance)>=o}return!1},async getMyTokensWithBalance(e){const t=await sC.getMyTokensWithBalance(e);return De.setTokenBalance(t,z.state.activeChain),this.mapBalancesToSwapTokens(t)},mapBalancesToSwapTokens(e){return e?.map(t=>({...t,address:t?.address?t.address:dR(),decimals:parseInt(t.quantity.decimals,10),logoUri:t.iconUrl,eip2612:!1}))||[]}},Ct=kt({tokenBalances:[],loading:!1}),bfe={state:Ct,subscribe(e){return Gn(Ct,()=>e(Ct))},subscribeKey(e,t){return fr(Ct,e,t)},setToken(e){e&&(Ct.token=Bl(e))},setTokenAmount(e){Ct.sendTokenAmount=e},setReceiverAddress(e){Ct.receiverAddress=e},setReceiverProfileImageUrl(e){Ct.receiverProfileImageUrl=e},setReceiverProfileName(e){Ct.receiverProfileName=e},setNetworkBalanceInUsd(e){Ct.networkBalanceInUSD=e},setLoading(e){Ct.loading=e},async sendToken(){try{switch(mt.setLoading(!0),z.state.activeCaipNetwork?.chainNamespace){case"eip155":await mt.sendEvmToken();return;case"solana":await mt.sendSolanaToken();return;default:throw new Error("Unsupported chain")}}finally{mt.setLoading(!1)}},async sendEvmToken(){const e=z.state.activeChain;if(!e)throw new Error("SendController:sendEvmToken - activeChainNamespace is required");const t=eo(e);if(!mt.state.sendTokenAmount||!mt.state.receiverAddress)throw new Error("An amount and receiver address are required");if(!mt.state.token)throw new Error("A token is required");mt.state.token?.address?(Ot.sendEvent({type:"track",event:"SEND_INITIATED",properties:{isSmartAccount:t===Nl.ACCOUNT_TYPES.SMART_ACCOUNT,token:mt.state.token.address,amount:mt.state.sendTokenAmount,network:z.state.activeCaipNetwork?.caipNetworkId||""}}),await mt.sendERC20Token({receiverAddress:mt.state.receiverAddress,tokenAddress:mt.state.token.address,sendTokenAmount:mt.state.sendTokenAmount,decimals:mt.state.token.quantity.decimals})):(Ot.sendEvent({type:"track",event:"SEND_INITIATED",properties:{isSmartAccount:t===Nl.ACCOUNT_TYPES.SMART_ACCOUNT,token:mt.state.token.symbol||"",amount:mt.state.sendTokenAmount,network:z.state.activeCaipNetwork?.caipNetworkId||""}}),await mt.sendNativeToken({receiverAddress:mt.state.receiverAddress,sendTokenAmount:mt.state.sendTokenAmount,decimals:mt.state.token.quantity.decimals}))},async fetchTokenBalance(e){Ct.loading=!0;const t=z.state.activeCaipNetwork?.caipNetworkId,n=z.state.activeCaipNetwork?.chainNamespace,r=z.state.activeCaipAddress,s=r?Me.getPlainAddress(r):void 0;if(Ct.lastRetry&&!Me.isAllowedRetry(Ct.lastRetry,30*vt.ONE_SEC_MS))return Ct.loading=!1,[];try{if(s&&t&&n){const o=await sC.getMyTokensWithBalance();return Ct.tokenBalances=o,Ct.lastRetry=void 0,o}}catch(o){Ct.lastRetry=Date.now(),e?.(o),Vi.showError("Token Balance Unavailable")}finally{Ct.loading=!1}return[]},fetchNetworkBalance(){if(Ct.tokenBalances.length===0)return;const e=wfe.mapBalancesToSwapTokens(Ct.tokenBalances);if(!e)return;const t=e.find(n=>n.address===dR());t&&(Ct.networkBalanceInUSD=t?Oue.multiply(t.quantity.numeric,t.price).toString():"0")},async sendNativeToken(e){ze.pushTransactionStack({});const t=e.receiverAddress,n=De.state.address,r=ve.parseUnits(e.sendTokenAmount.toString(),Number(e.decimals));await ve.sendTransaction({chainNamespace:he.CHAIN.EVM,to:t,address:n,data:"0x",value:r??BigInt(0)}),Ot.sendEvent({type:"track",event:"SEND_SUCCESS",properties:{isSmartAccount:eo("eip155")===Nl.ACCOUNT_TYPES.SMART_ACCOUNT,token:mt.state.token?.symbol||"",amount:e.sendTokenAmount,network:z.state.activeCaipNetwork?.caipNetworkId||""}}),ve._getClient()?.updateBalance("eip155"),mt.resetSend()},async sendERC20Token(e){ze.pushTransactionStack({onSuccess(){ze.replace("Account")}});const t=ve.parseUnits(e.sendTokenAmount.toString(),Number(e.decimals));if(De.state.address&&e.sendTokenAmount&&e.receiverAddress&&e.tokenAddress){const n=Me.getPlainAddress(e.tokenAddress);if(!n)throw new Error("SendController:sendERC20Token - tokenAddress is required");await ve.writeContract({fromAddress:De.state.address,tokenAddress:n,args:[e.receiverAddress,t??BigInt(0)],method:"transfer",abi:Uue.getERC20Abi(n),chainNamespace:he.CHAIN.EVM}),mt.resetSend()}},async sendSolanaToken(){if(!mt.state.sendTokenAmount||!mt.state.receiverAddress)throw new Error("An amount and receiver address are required");ze.pushTransactionStack({onSuccess(){ze.replace("Account")}}),await ve.sendTransaction({chainNamespace:"solana",to:mt.state.receiverAddress,value:mt.state.sendTokenAmount}),ve._getClient()?.updateBalance("solana"),mt.resetSend()},resetSend(){Ct.token=void 0,Ct.sendTokenAmount=void 0,Ct.receiverAddress=void 0,Ct.receiverProfileImageUrl=void 0,Ct.receiverProfileName=void 0,Ct.loading=!1,Ct.tokenBalances=[]}},mt=gs(bfe),Qv={currentTab:0,tokenBalance:[],smartAccountDeployed:!1,addressLabels:new Map,user:void 0,preferredAccountType:void 0},A0={caipNetwork:void 0,supportsAllNetworks:!0,smartAccountEnabledNetworks:[]},Se=kt({chains:Kue(),activeCaipAddress:void 0,activeChain:void 0,activeCaipNetwork:void 0,noAdapters:!1,universalAdapter:{networkControllerClient:void 0,connectionControllerClient:void 0},isSwitchingNamespace:!1}),vfe={state:Se,subscribe(e){return Gn(Se,()=>{e(Se)})},subscribeKey(e,t){return fr(Se,e,t)},subscribeChainProp(e,t,n){let r;return Gn(Se.chains,()=>{const s=n||Se.activeChain;if(s){const o=Se.chains.get(s)?.[e];r!==o&&(r=o,t(o))}})},initialize(e,t,n){const{chainId:r,namespace:s}=ge.getActiveNetworkProps(),o=t?.find(p=>p.id.toString()===r?.toString()),l=e.find(p=>p?.namespace===s)||e?.[0],f=e.map(p=>p.namespace).filter(p=>p!==void 0),d=fe.state.enableEmbedded?new Set([...f]):new Set([...t?.map(p=>p.chainNamespace)??[]]);(e?.length===0||!l)&&(Se.noAdapters=!0),Se.noAdapters||(Se.activeChain=l?.namespace,Se.activeCaipNetwork=o,z.setChainNetworkData(l?.namespace,{caipNetwork:o}),Se.activeChain&&zo.set({activeChain:l?.namespace})),d.forEach(p=>{const g=t?.filter(v=>v.chainNamespace===p),y=ge.getPreferredAccountTypes()||{},b={...fe.state.defaultAccountTypes,...y};z.state.chains.set(p,{namespace:p,networkState:kt({...A0,caipNetwork:g?.[0]}),accountState:kt({...Qv,preferredAccountType:b[p]}),caipNetworks:g??[],...n}),z.setRequestedCaipNetworks(g??[],p)})},removeAdapter(e){if(Se.activeChain===e){const t=Array.from(Se.chains.entries()).find(([n])=>n!==e);if(t){const n=t[1]?.caipNetworks?.[0];n&&z.setActiveCaipNetwork(n)}}Se.chains.delete(e)},addAdapter(e,{networkControllerClient:t,connectionControllerClient:n},r){if(!e.namespace)throw new Error("ChainController:addAdapter - adapter must have a namespace");Se.chains.set(e.namespace,{namespace:e.namespace,networkState:{...A0,caipNetwork:r[0]},accountState:Qv,caipNetworks:r,connectionControllerClient:n,networkControllerClient:t}),z.setRequestedCaipNetworks(r?.filter(s=>s.chainNamespace===e.namespace)??[],e.namespace)},addNetwork(e){const t=Se.chains.get(e.chainNamespace);if(t){const n=[...t.caipNetworks||[]];t.caipNetworks?.find(r=>r.id===e.id)||n.push(e),Se.chains.set(e.chainNamespace,{...t,caipNetworks:n}),z.setRequestedCaipNetworks(n,e.chainNamespace),be.filterByNamespace(e.chainNamespace,!0)}},removeNetwork(e,t){const n=Se.chains.get(e);if(n){const r=Se.activeCaipNetwork?.id===t,s=[...n.caipNetworks?.filter(o=>o.id!==t)||[]];r&&n?.caipNetworks?.[0]&&z.setActiveCaipNetwork(n.caipNetworks[0]),Se.chains.set(e,{...n,caipNetworks:s}),z.setRequestedCaipNetworks(s||[],e),s.length===0&&be.filterByNamespace(e,!1)}},setAdapterNetworkState(e,t){const n=Se.chains.get(e);n&&(n.networkState={...n.networkState||A0,...t},Se.chains.set(e,n))},setChainAccountData(e,t,n=!0){if(!e)throw new Error("Chain is required to update chain account data");const r=Se.chains.get(e);if(r){const s={...r.accountState||Qv,...t};Se.chains.set(e,{...r,accountState:s}),(Se.chains.size===1||Se.activeChain===e)&&(t.caipAddress&&(Se.activeCaipAddress=t.caipAddress),De.replaceState(s))}},setChainNetworkData(e,t){if(!e)return;const n=Se.chains.get(e);if(n){const r={...n.networkState||A0,...t};Se.chains.set(e,{...n,networkState:r})}},setAccountProp(e,t,n,r=!0){z.setChainAccountData(n,{[e]:t},r)},setActiveNamespace(e){Se.activeChain=e;const t=e?Se.chains.get(e):void 0,n=t?.networkState?.caipNetwork;n?.id&&e&&(Se.activeCaipAddress=t?.accountState?.caipAddress,Se.activeCaipNetwork=n,z.setChainNetworkData(e,{caipNetwork:n}),ge.setActiveCaipNetworkId(n?.caipNetworkId),zo.set({activeChain:e,selectedNetworkId:n?.caipNetworkId}))},setActiveCaipNetwork(e){if(!e)return;Se.activeChain!==e.chainNamespace&&z.setIsSwitchingNamespace(!0);const t=Se.chains.get(e.chainNamespace);Se.activeChain=e.chainNamespace,Se.activeCaipNetwork=e,z.setChainNetworkData(e.chainNamespace,{caipNetwork:e}),t?.accountState?.address?Se.activeCaipAddress=`${e.chainNamespace}:${e.id}:${t?.accountState?.address}`:Se.activeCaipAddress=void 0,z.setAccountProp("caipAddress",Se.activeCaipAddress,e.chainNamespace),t&&De.replaceState(t.accountState),mt.resetSend(),zo.set({activeChain:Se.activeChain,selectedNetworkId:Se.activeCaipNetwork?.caipNetworkId}),ge.setActiveCaipNetworkId(e.caipNetworkId),!z.checkIfSupportedNetwork(e.chainNamespace)&&fe.state.enableNetworkSwitch&&!fe.state.allowUnsupportedChain&&!ve.state.wcBasic&&z.showUnsupportedChainUI()},addCaipNetwork(e){if(!e)return;const t=Se.chains.get(e.chainNamespace);t&&t?.caipNetworks?.push(e)},async switchActiveNamespace(e){if(!e)return;const t=e!==z.state.activeChain,n=z.getNetworkData(e)?.caipNetwork,r=z.getCaipNetworkByNamespace(e,n?.id);t&&r&&await z.switchActiveNetwork(r)},async switchActiveNetwork(e){const t=z.state.activeChain;if(!t)throw new Error("ChainController:switchActiveNetwork - namespace is required");const r=!z.state.chains.get(t)?.caipNetworks?.some(o=>o.id===Se.activeCaipNetwork?.id),s=z.getNetworkControllerClient(e.chainNamespace);if(s){try{await s.switchCaipNetwork(e),r&&st.close()}catch{ze.goBack()}Ot.sendEvent({type:"track",event:"SWITCH_NETWORK",properties:{network:e.caipNetworkId}})}},getNetworkControllerClient(e){const t=e||Se.activeChain;if(!t)throw new Error("ChainController:getNetworkControllerClient - chain is required");const n=Se.chains.get(t);if(!n)throw new Error("Chain adapter not found");if(!n.networkControllerClient)throw new Error("NetworkController client not set");return n.networkControllerClient},getConnectionControllerClient(e){const t=e||Se.activeChain;if(!t)throw new Error("Chain is required to get connection controller client");const n=Se.chains.get(t);if(!n?.connectionControllerClient)throw new Error("ConnectionController client not set");return n.connectionControllerClient},getNetworkProp(e,t){const n=Se.chains.get(t)?.networkState;if(n)return n[e]},getRequestedCaipNetworks(e){const t=Se.chains.get(e),{approvedCaipNetworkIds:n=[],requestedCaipNetworks:r=[]}=t?.networkState||{};return Me.sortRequestedNetworks(n,r).filter(c=>c?.id)},getAllRequestedCaipNetworks(){const e=[];return Se.chains.forEach(t=>{if(!t.namespace)throw new Error("ChainController:getAllRequestedCaipNetworks - chainAdapter must have a namespace");const n=z.getRequestedCaipNetworks(t.namespace);e.push(...n)}),e},setRequestedCaipNetworks(e,t){z.setAdapterNetworkState(t,{requestedCaipNetworks:e});const r=z.getAllRequestedCaipNetworks().map(o=>o.chainNamespace),s=Array.from(new Set(r));be.filterByNamespaces(s)},getAllApprovedCaipNetworkIds(){const e=[];return Se.chains.forEach(t=>{if(!t.namespace)throw new Error("ChainController:getAllApprovedCaipNetworkIds - chainAdapter must have a namespace");const n=z.getApprovedCaipNetworkIds(t.namespace);e.push(...n)}),e},getActiveCaipNetwork(e){return e?Se.chains.get(e)?.networkState?.caipNetwork:Se.activeCaipNetwork},getActiveCaipAddress(){return Se.activeCaipAddress},getApprovedCaipNetworkIds(e){return Se.chains.get(e)?.networkState?.approvedCaipNetworkIds||[]},async setApprovedCaipNetworksData(e){const n=await z.getNetworkControllerClient()?.getApprovedCaipNetworksData();z.setAdapterNetworkState(e,{approvedCaipNetworkIds:n?.approvedCaipNetworkIds,supportsAllNetworks:n?.supportsAllNetworks})},checkIfSupportedNetwork(e,t){const n=t||Se.activeCaipNetwork?.caipNetworkId,r=z.getRequestedCaipNetworks(e);return r.length?r?.some(s=>s.caipNetworkId===n):!0},checkIfSupportedChainId(e){return Se.activeChain?z.getRequestedCaipNetworks(Se.activeChain)?.some(n=>n.id===e):!0},setSmartAccountEnabledNetworks(e,t){z.setAdapterNetworkState(t,{smartAccountEnabledNetworks:e})},checkIfSmartAccountEnabled(){const e=iR.caipNetworkIdToNumber(Se.activeCaipNetwork?.caipNetworkId),t=Se.activeChain;return!t||!e?!1:!!z.getNetworkProp("smartAccountEnabledNetworks",t)?.includes(Number(e))},showUnsupportedChainUI(){st.open({view:"UnsupportedChain"})},checkIfNamesSupported(){const e=Se.activeCaipNetwork;return!!(e?.chainNamespace&&vt.NAMES_SUPPORTED_CHAIN_NAMESPACES.includes(e.chainNamespace))},resetNetwork(e){z.setAdapterNetworkState(e,{approvedCaipNetworkIds:void 0,supportsAllNetworks:!0})},resetAccount(e){const t=e;if(!t)throw new Error("Chain is required to set account prop");const n=z.state.chains.get(t)?.accountState?.preferredAccountType,r=fe.state.defaultAccountTypes[t];Se.activeCaipAddress=void 0,z.setChainAccountData(t,{smartAccountDeployed:!1,currentTab:0,caipAddress:void 0,address:void 0,balance:void 0,balanceSymbol:void 0,profileName:void 0,profileImage:void 0,addressExplorerUrl:void 0,tokenBalance:[],connectedWalletInfo:void 0,preferredAccountType:r||n,socialProvider:void 0,socialWindow:void 0,farcasterUrl:void 0,user:void 0,status:"disconnected"}),be.removeConnectorId(t)},setIsSwitchingNamespace(e){Se.isSwitchingNamespace=e},getFirstCaipNetworkSupportsAuthConnector(){const e=[];let t;if(Se.chains.forEach(n=>{he.AUTH_CONNECTOR_SUPPORTED_CHAINS.find(r=>r===n.namespace)&&n.namespace&&e.push(n.namespace)}),e.length>0){const n=e[0];return t=n?Se.chains.get(n)?.caipNetworks?.[0]:void 0,t}},getAccountData(e){const t=e||Se.activeChain;if(t)return z.state.chains.get(t)?.accountState},getNetworkData(e){const t=e||Se.activeChain;if(t)return z.state.chains.get(t)?.networkState},getCaipNetworkByNamespace(e,t){if(!e)return;const n=z.state.chains.get(e),r=n?.caipNetworks?.find(s=>s.id===t);return r||n?.networkState?.caipNetwork||n?.caipNetworks?.[0]},getRequestedCaipNetworkIds(){const e=be.state.filterByNamespace;return(e?[Se.chains.get(e)]:Array.from(Se.chains.values())).flatMap(n=>n?.caipNetworks||[]).map(n=>n.caipNetworkId)},getCaipNetworks(e){return e?z.getRequestedCaipNetworks(e):z.getAllRequestedCaipNetworks()},setLastConnectedSIWECaipNetwork(e){Se.lastConnectedSIWECaipNetwork=e},getLastConnectedSIWECaipNetwork(){return Se.lastConnectedSIWECaipNetwork}},z=gs(vfe),Efe={purchaseCurrencies:[{id:"2b92315d-eab7-5bef-84fa-089a131333f5",name:"USD Coin",symbol:"USDC",networks:[{name:"ethereum-mainnet",display_name:"Ethereum",chain_id:"1",contract_address:"0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48"},{name:"polygon-mainnet",display_name:"Polygon",chain_id:"137",contract_address:"0x2791Bca1f2de4661ED88A30C99A7a9449Aa84174"}]},{id:"2b92315d-eab7-5bef-84fa-089a131333f5",name:"Ether",symbol:"ETH",networks:[{name:"ethereum-mainnet",display_name:"Ethereum",chain_id:"1",contract_address:"0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48"},{name:"polygon-mainnet",display_name:"Polygon",chain_id:"137",contract_address:"0x2791Bca1f2de4661ED88A30C99A7a9449Aa84174"}]}],paymentCurrencies:[{id:"USD",payment_method_limits:[{id:"card",min:"10.00",max:"7500.00"},{id:"ach_bank_account",min:"10.00",max:"25000.00"}]},{id:"EUR",payment_method_limits:[{id:"card",min:"10.00",max:"7500.00"},{id:"ach_bank_account",min:"10.00",max:"25000.00"}]}]},pR=Me.getBlockchainApiUrl(),Dr=kt({clientId:null,api:new Cg({baseUrl:pR,clientId:null}),supportedChains:{http:[],ws:[]}}),Be={state:Dr,async get(e){const{st:t,sv:n}=Be.getSdkProperties(),r=fe.state.projectId,s={...e.params||{},st:t,sv:n,projectId:r};return Dr.api.get({...e,params:s})},getSdkProperties(){const{sdkType:e,sdkVersion:t}=fe.state;return{st:e||"unknown",sv:t||"unknown"}},async isNetworkSupported(e){if(!e)return!1;try{Dr.supportedChains.http.length||await Be.getSupportedNetworks()}catch{return!1}return Dr.supportedChains.http.includes(e)},async getSupportedNetworks(){try{const e=await Be.get({path:"v1/supported-chains"});return Dr.supportedChains=e,e}catch{return Dr.supportedChains}},async fetchIdentity({address:e,caipNetworkId:t}){if(!await Be.isNetworkSupported(t))return{avatar:"",name:""};const r=ge.getIdentityFromCacheForAddress(e);if(r)return r;const s=await Be.get({path:`/v1/identity/${e}`,params:{sender:z.state.activeCaipAddress?Me.getPlainAddress(z.state.activeCaipAddress):void 0}});return ge.updateIdentityCache({address:e,identity:s,timestamp:Date.now()}),s},async fetchTransactions({account:e,cursor:t,signal:n,cache:r,chainId:s}){if(!await Be.isNetworkSupported(z.state.activeCaipNetwork?.caipNetworkId))return{data:[],next:void 0};const c=ge.getTransactionsCacheForAddress({address:e,chainId:s});if(c)return c;const l=await Be.get({path:`/v1/account/${e}/history`,params:{cursor:t,chainId:s},signal:n,cache:r});return ge.updateTransactionsCache({address:e,chainId:s,timestamp:Date.now(),transactions:l}),l},async fetchSwapQuote({amount:e,userAddress:t,from:n,to:r,gasPrice:s}){return await Be.isNetworkSupported(z.state.activeCaipNetwork?.caipNetworkId)?Be.get({path:"/v1/convert/quotes",headers:{"Content-Type":"application/json"},params:{amount:e,userAddress:t,from:n,to:r,gasPrice:s}}):{quotes:[]}},async fetchSwapTokens({chainId:e}){return await Be.isNetworkSupported(z.state.activeCaipNetwork?.caipNetworkId)?Be.get({path:"/v1/convert/tokens",params:{chainId:e}}):{tokens:[]}},async fetchTokenPrice({addresses:e}){if(!await Be.isNetworkSupported(z.state.activeCaipNetwork?.caipNetworkId))return{fungibles:[]};const n=ge.getTokenPriceCacheForAddresses(e);if(n)return n;const r=await Dr.api.post({path:"/v1/fungible/price",body:{currency:"usd",addresses:e,projectId:fe.state.projectId},headers:{"Content-Type":"application/json"}});return ge.updateTokenPriceCache({addresses:e,timestamp:Date.now(),tokenPrice:r}),r},async fetchSwapAllowance({tokenAddress:e,userAddress:t}){return await Be.isNetworkSupported(z.state.activeCaipNetwork?.caipNetworkId)?Be.get({path:"/v1/convert/allowance",params:{tokenAddress:e,userAddress:t},headers:{"Content-Type":"application/json"}}):{allowance:"0"}},async fetchGasPrice({chainId:e}){const{st:t,sv:n}=Be.getSdkProperties();if(!await Be.isNetworkSupported(z.state.activeCaipNetwork?.caipNetworkId))throw new Error("Network not supported for Gas Price");return Be.get({path:"/v1/convert/gas-price",headers:{"Content-Type":"application/json"},params:{chainId:e,st:t,sv:n}})},async generateSwapCalldata({amount:e,from:t,to:n,userAddress:r,disableEstimate:s}){if(!await Be.isNetworkSupported(z.state.activeCaipNetwork?.caipNetworkId))throw new Error("Network not supported for Swaps");return Dr.api.post({path:"/v1/convert/build-transaction",headers:{"Content-Type":"application/json"},body:{amount:e,eip155:{slippage:vt.CONVERT_SLIPPAGE_TOLERANCE},projectId:fe.state.projectId,from:t,to:n,userAddress:r,disableEstimate:s}})},async generateApproveCalldata({from:e,to:t,userAddress:n}){const{st:r,sv:s}=Be.getSdkProperties();if(!await Be.isNetworkSupported(z.state.activeCaipNetwork?.caipNetworkId))throw new Error("Network not supported for Swaps");return Be.get({path:"/v1/convert/build-approve",headers:{"Content-Type":"application/json"},params:{userAddress:n,from:e,to:t,st:r,sv:s}})},async getBalance(e,t,n){const{st:r,sv:s}=Be.getSdkProperties();if(!await Be.isNetworkSupported(z.state.activeCaipNetwork?.caipNetworkId))return Vi.showError("Token Balance Unavailable"),{balances:[]};const c=`${t}:${e}`,l=ge.getBalanceCacheForCaipAddress(c);if(l)return l;const f=await Be.get({path:`/v1/account/${e}/balance`,params:{currency:"usd",chainId:t,forceUpdate:n,st:r,sv:s}});return ge.updateBalanceCache({caipAddress:c,balance:f,timestamp:Date.now()}),f},async lookupEnsName(e){return await Be.isNetworkSupported(z.state.activeCaipNetwork?.caipNetworkId)?Be.get({path:`/v1/profile/account/${e}`,params:{apiVersion:"2"}}):{addresses:{},attributes:[]}},async reverseLookupEnsName({address:e}){return await Be.isNetworkSupported(z.state.activeCaipNetwork?.caipNetworkId)?Be.get({path:`/v1/profile/reverse/${e}`,params:{sender:De.state.address,apiVersion:"2"}}):[]},async getEnsNameSuggestions(e){return await Be.isNetworkSupported(z.state.activeCaipNetwork?.caipNetworkId)?Be.get({path:`/v1/profile/suggestions/${e}`,params:{zone:"reown.id"}}):{suggestions:[]}},async registerEnsName({coinType:e,address:t,message:n,signature:r}){return await Be.isNetworkSupported(z.state.activeCaipNetwork?.caipNetworkId)?Dr.api.post({path:"/v1/profile/account",body:{coin_type:e,address:t,message:n,signature:r},headers:{"Content-Type":"application/json"}}):{success:!1}},async generateOnRampURL({destinationWallets:e,partnerUserId:t,defaultNetwork:n,purchaseAmount:r,paymentAmount:s}){return await Be.isNetworkSupported(z.state.activeCaipNetwork?.caipNetworkId)?(await Dr.api.post({path:"/v1/generators/onrampurl",params:{projectId:fe.state.projectId},body:{destinationWallets:e,defaultNetwork:n,partnerUserId:t,defaultExperience:"buy",presetCryptoAmount:r,presetFiatAmount:s}})).url:""},async getOnrampOptions(){if(!await Be.isNetworkSupported(z.state.activeCaipNetwork?.caipNetworkId))return{paymentCurrencies:[],purchaseCurrencies:[]};try{return await Be.get({path:"/v1/onramp/options"})}catch{return Efe}},async getOnrampQuote({purchaseCurrency:e,paymentCurrency:t,amount:n,network:r}){try{return await Be.isNetworkSupported(z.state.activeCaipNetwork?.caipNetworkId)?await Dr.api.post({path:"/v1/onramp/quote",params:{projectId:fe.state.projectId},body:{purchaseCurrency:e,paymentCurrency:t,amount:n,network:r}}):null}catch{return{networkFee:{amount:n,currency:t.id},paymentSubtotal:{amount:n,currency:t.id},paymentTotal:{amount:n,currency:t.id},purchaseAmount:{amount:n,currency:t.id},quoteId:"mocked-quote-id"}}},async getSmartSessions(e){return await Be.isNetworkSupported(z.state.activeCaipNetwork?.caipNetworkId)?Be.get({path:`/v1/sessions/${e}`}):[]},async revokeSmartSession(e,t,n){return await Be.isNetworkSupported(z.state.activeCaipNetwork?.caipNetworkId)?Dr.api.post({path:`/v1/sessions/${e}/revoke`,params:{projectId:fe.state.projectId},body:{pci:t,signature:n}}):{success:!1}},setClientId(e){Dr.clientId=e,Dr.api=new Cg({baseUrl:pR,clientId:e})}};function Sfe(e,{strict:t=!0}={}){return!e||typeof e!="string"?!1:t?/^0x[0-9a-fA-F]*$/.test(e):e.startsWith("0x")}function k5(e){return Sfe(e,{strict:!1})?Math.ceil((e.length-2)/2):e.length}const gR="2.38.2";let Jv={getDocsUrl:({docsBaseUrl:e,docsPath:t="",docsSlug:n})=>t?`${e??"https://viem.sh"}${t}${n?`#${n}`:""}`:void 0,version:`viem@${gR}`};class ps extends Error{constructor(t,n={}){const r=n.cause instanceof ps?n.cause.details:n.cause?.message?n.cause.message:n.details,s=n.cause instanceof ps&&n.cause.docsPath||n.docsPath,o=Jv.getDocsUrl?.({...n,docsPath:s}),c=[t||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...o?[`Docs: ${o}`]:[],...r?[`Details: ${r}`]:[],...Jv.version?[`Version: ${Jv.version}`]:[]].join(`
`);super(c,n.cause?{cause:n.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),this.details=r,this.docsPath=s,this.metaMessages=n.metaMessages,this.name=n.name??this.name,this.shortMessage=t,this.version=gR}walk(t){return mR(this,t)}}function mR(e,t){return t?.(e)?e:e&&typeof e=="object"&&"cause"in e&&e.cause!==void 0?mR(e.cause,t):t?null:e}class yR extends ps{constructor({size:t,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (${t}) exceeds padding size (${n}).`,{name:"SizeExceedsPaddingSizeError"})}}function tC(e,{dir:t,size:n=32}={}){return typeof e=="string"?Afe(e,{dir:t,size:n}):Cfe(e,{dir:t,size:n})}function Afe(e,{dir:t,size:n=32}={}){if(n===null)return e;const r=e.replace("0x","");if(r.length>n*2)throw new yR({size:Math.ceil(r.length/2),targetSize:n,type:"hex"});return`0x${r[t==="right"?"padEnd":"padStart"](n*2,"0")}`}function Cfe(e,{dir:t,size:n=32}={}){if(n===null)return e;if(e.length>n)throw new yR({size:e.length,targetSize:n,type:"bytes"});const r=new Uint8Array(n);for(let s=0;s<n;s++){const o=t==="right";r[o?s:n-s-1]=e[o?s:e.length-s-1]}return r}class xfe extends ps{constructor({max:t,min:n,signed:r,size:s,value:o}){super(`Number "${o}" is not in safe ${s?`${s*8}-bit ${r?"signed":"unsigned"} `:""}integer range ${t?`(${n} to ${t})`:`(above ${n})`}`,{name:"IntegerOutOfRangeError"})}}class Nfe extends ps{constructor({givenSize:t,maxSize:n}){super(`Size cannot exceed ${n} bytes. Given size: ${t} bytes.`,{name:"SizeOverflowError"})}}function wR(e,{size:t}){if(k5(e)>t)throw new Nfe({givenSize:k5(e),maxSize:t})}const Tfe=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function j5(e,t={}){return typeof e=="number"||typeof e=="bigint"?Ife(e,t):typeof e=="string"?vR(e,t):typeof e=="boolean"?_fe(e,t):bR(e,t)}function _fe(e,t={}){const n=`0x${Number(e)}`;return typeof t.size=="number"?(wR(n,{size:t.size}),tC(n,{size:t.size})):n}function bR(e,t={}){let n="";for(let s=0;s<e.length;s++)n+=Tfe[e[s]];const r=`0x${n}`;return typeof t.size=="number"?(wR(r,{size:t.size}),tC(r,{dir:"right",size:t.size})):r}function Ife(e,t={}){const{signed:n,size:r}=t,s=BigInt(e);let o;r?n?o=(1n<<BigInt(r)*8n-1n)-1n:o=2n**(BigInt(r)*8n)-1n:typeof e=="number"&&(o=BigInt(Number.MAX_SAFE_INTEGER));const c=typeof o=="bigint"&&n?-o-1n:0;if(o&&s>o||s<c){const f=typeof e=="bigint"?"n":"";throw new xfe({max:o?`${o}${f}`:void 0,min:`${c}${f}`,signed:n,size:r,value:`${e}${f}`})}const l=`0x${(n&&s<0?(1n<<BigInt(r*8))+BigInt(s):s).toString(16)}`;return r?tC(l,{size:r}):l}const Ofe=new TextEncoder;function vR(e,t={}){const n=Ofe.encode(e);return bR(n,t)}class Dfe extends Map{constructor(t){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=t}get(t){const n=super.get(t);return super.has(t)&&n!==void 0&&(this.delete(t),super.set(t,n)),n}set(t,n){if(super.set(t,n),this.maxSize&&this.size>this.maxSize){const r=this.keys().next().value;r&&this.delete(r)}return this}}const Tl=(e,t,n)=>JSON.stringify(e,(r,s)=>typeof s=="bigint"?s.toString():s,n);function Mfe(e,t){let n=e.toString();const r=n.startsWith("-");r&&(n=n.slice(1)),n=n.padStart(t,"0");let[s,o]=[n.slice(0,n.length-t),n.slice(n.length-t)];return o=o.replace(/(0+)$/,""),`${r?"-":""}${s||"0"}${o?`.${o}`:""}`}const nC=e=>e;class sp extends ps{constructor({body:t,cause:n,details:r,headers:s,status:o,url:c}){super("HTTP request failed.",{cause:n,details:r,metaMessages:[o&&`Status: ${o}`,`URL: ${nC(c)}`,t&&`Request body: ${Tl(t)}`].filter(Boolean),name:"HttpRequestError"}),Object.defineProperty(this,"body",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"headers",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"status",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.body=t,this.headers=s,this.status=o,this.url=c}}class ER extends ps{constructor({body:t,error:n,url:r}){super("RPC Request failed.",{cause:n,details:n.message,metaMessages:[`URL: ${nC(r)}`,`Request body: ${Tl(t)}`],name:"RpcRequestError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.code=n.code,this.data=n.data}}class z5 extends ps{constructor({body:t,url:n}){super("The request took too long to respond.",{details:"The request timed out.",metaMessages:[`URL: ${nC(n)}`,`Request body: ${Tl(t)}`],name:"TimeoutError"})}}const $fe=-1;class qr extends ps{constructor(t,{code:n,docsPath:r,metaMessages:s,name:o,shortMessage:c}){super(c,{cause:t,docsPath:r,metaMessages:s||t?.metaMessages,name:o||"RpcError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name=o||t.name,this.code=t instanceof ER?t.code:n??$fe}}class ms extends qr{constructor(t,n){super(t,n),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=n.data}}class $p extends qr{constructor(t){super(t,{code:$p.code,name:"ParseRpcError",shortMessage:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."})}}Object.defineProperty($p,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32700});class Up extends qr{constructor(t){super(t,{code:Up.code,name:"InvalidRequestRpcError",shortMessage:"JSON is not a valid request object."})}}Object.defineProperty(Up,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32600});class Rp extends qr{constructor(t,{method:n}={}){super(t,{code:Rp.code,name:"MethodNotFoundRpcError",shortMessage:`The method${n?` "${n}"`:""} does not exist / is not available.`})}}Object.defineProperty(Rp,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32601});class Pp extends qr{constructor(t){super(t,{code:Pp.code,name:"InvalidParamsRpcError",shortMessage:["Invalid parameters were provided to the RPC method.","Double check you have provided the correct parameters."].join(`
`)})}}Object.defineProperty(Pp,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32602});class Ff extends qr{constructor(t){super(t,{code:Ff.code,name:"InternalRpcError",shortMessage:"An internal error was received."})}}Object.defineProperty(Ff,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32603});class Bp extends qr{constructor(t){super(t,{code:Bp.code,name:"InvalidInputRpcError",shortMessage:["Missing or invalid parameters.","Double check you have provided the correct parameters."].join(`
`)})}}Object.defineProperty(Bp,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32e3});class Lp extends qr{constructor(t){super(t,{code:Lp.code,name:"ResourceNotFoundRpcError",shortMessage:"Requested resource not found."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ResourceNotFoundRpcError"})}}Object.defineProperty(Lp,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32001});class kp extends qr{constructor(t){super(t,{code:kp.code,name:"ResourceUnavailableRpcError",shortMessage:"Requested resource not available."})}}Object.defineProperty(kp,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32002});class qf extends qr{constructor(t){super(t,{code:qf.code,name:"TransactionRejectedRpcError",shortMessage:"Transaction creation failed."})}}Object.defineProperty(qf,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32003});class vl extends qr{constructor(t,{method:n}={}){super(t,{code:vl.code,name:"MethodNotSupportedRpcError",shortMessage:`Method${n?` "${n}"`:""} is not supported.`})}}Object.defineProperty(vl,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32004});class Vf extends qr{constructor(t){super(t,{code:Vf.code,name:"LimitExceededRpcError",shortMessage:"Request exceeds defined limit."})}}Object.defineProperty(Vf,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32005});class jp extends qr{constructor(t){super(t,{code:jp.code,name:"JsonRpcVersionUnsupportedError",shortMessage:"Version of JSON-RPC protocol is not supported."})}}Object.defineProperty(jp,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32006});class _l extends ms{constructor(t){super(t,{code:_l.code,name:"UserRejectedRequestError",shortMessage:"User rejected the request."})}}Object.defineProperty(_l,"code",{enumerable:!0,configurable:!0,writable:!0,value:4001});class zp extends ms{constructor(t){super(t,{code:zp.code,name:"UnauthorizedProviderError",shortMessage:"The requested method and/or account has not been authorized by the user."})}}Object.defineProperty(zp,"code",{enumerable:!0,configurable:!0,writable:!0,value:4100});class Hp extends ms{constructor(t,{method:n}={}){super(t,{code:Hp.code,name:"UnsupportedProviderMethodError",shortMessage:`The Provider does not support the requested method${n?` " ${n}"`:""}.`})}}Object.defineProperty(Hp,"code",{enumerable:!0,configurable:!0,writable:!0,value:4200});class Fp extends ms{constructor(t){super(t,{code:Fp.code,name:"ProviderDisconnectedError",shortMessage:"The Provider is disconnected from all chains."})}}Object.defineProperty(Fp,"code",{enumerable:!0,configurable:!0,writable:!0,value:4900});class qp extends ms{constructor(t){super(t,{code:qp.code,name:"ChainDisconnectedError",shortMessage:"The Provider is not connected to the requested chain."})}}Object.defineProperty(qp,"code",{enumerable:!0,configurable:!0,writable:!0,value:4901});class Vp extends ms{constructor(t){super(t,{code:Vp.code,name:"SwitchChainError",shortMessage:"An error occurred when attempting to switch chain."})}}Object.defineProperty(Vp,"code",{enumerable:!0,configurable:!0,writable:!0,value:4902});class Wp extends ms{constructor(t){super(t,{code:Wp.code,name:"UnsupportedNonOptionalCapabilityError",shortMessage:"This Wallet does not support a capability that was not marked as optional."})}}Object.defineProperty(Wp,"code",{enumerable:!0,configurable:!0,writable:!0,value:5700});class Kp extends ms{constructor(t){super(t,{code:Kp.code,name:"UnsupportedChainIdError",shortMessage:"This Wallet does not support the requested chain ID."})}}Object.defineProperty(Kp,"code",{enumerable:!0,configurable:!0,writable:!0,value:5710});class Gp extends ms{constructor(t){super(t,{code:Gp.code,name:"DuplicateIdError",shortMessage:"There is already a bundle submitted with this ID."})}}Object.defineProperty(Gp,"code",{enumerable:!0,configurable:!0,writable:!0,value:5720});class Yp extends ms{constructor(t){super(t,{code:Yp.code,name:"UnknownBundleIdError",shortMessage:"This bundle id is unknown / has not been submitted"})}}Object.defineProperty(Yp,"code",{enumerable:!0,configurable:!0,writable:!0,value:5730});class Xp extends ms{constructor(t){super(t,{code:Xp.code,name:"BundleTooLargeError",shortMessage:"The call bundle is too large for the Wallet to process."})}}Object.defineProperty(Xp,"code",{enumerable:!0,configurable:!0,writable:!0,value:5740});class Zp extends ms{constructor(t){super(t,{code:Zp.code,name:"AtomicReadyWalletRejectedUpgradeError",shortMessage:"The Wallet can support atomicity after an upgrade, but the user rejected the upgrade."})}}Object.defineProperty(Zp,"code",{enumerable:!0,configurable:!0,writable:!0,value:5750});class Qp extends ms{constructor(t){super(t,{code:Qp.code,name:"AtomicityNotSupportedError",shortMessage:"The wallet does not support atomic execution but the request requires it."})}}Object.defineProperty(Qp,"code",{enumerable:!0,configurable:!0,writable:!0,value:5760});class Ufe extends qr{constructor(t){super(t,{name:"UnknownRpcError",shortMessage:"An unknown RPC error occurred."})}}class rC extends ps{constructor({cause:t,message:n}={}){const r=n?.replace("execution reverted: ","")?.replace("execution reverted","");super(`Execution reverted ${r?`with reason: ${r}`:"for an unknown reason"}.`,{cause:t,name:"ExecutionRevertedError"})}}Object.defineProperty(rC,"code",{enumerable:!0,configurable:!0,writable:!0,value:3});Object.defineProperty(rC,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/execution reverted/});function Rfe(){let e=()=>{},t=()=>{};return{promise:new Promise((r,s)=>{e=r,t=s}),resolve:e,reject:t}}const e2=new Map;function Pfe({fn:e,id:t,shouldSplitBatch:n,wait:r=0,sort:s}){const o=async()=>{const p=f();c();const g=p.map(({args:y})=>y);g.length!==0&&e(g).then(y=>{s&&Array.isArray(y)&&y.sort(s);for(let b=0;b<p.length;b++){const{resolve:v}=p[b];v?.([y[b],y])}}).catch(y=>{for(let b=0;b<p.length;b++){const{reject:v}=p[b];v?.(y)}})},c=()=>e2.delete(t),l=()=>f().map(({args:p})=>p),f=()=>e2.get(t)||[],d=p=>e2.set(t,[...f(),p]);return{flush:c,async schedule(p){const{promise:g,resolve:y,reject:b}=Rfe();return n?.([...l(),p])&&o(),f().length>0?(d({args:p,resolve:y,reject:b}),g):(d({args:p,resolve:y,reject:b}),setTimeout(o,r),g)}}}async function SR(e){return new Promise(t=>setTimeout(t,e))}function Bfe(e,{delay:t=100,retryCount:n=2,shouldRetry:r=()=>!0}={}){return new Promise((s,o)=>{const c=async({count:l=0}={})=>{const f=async({error:d})=>{const p=typeof t=="function"?t({count:l,error:d}):t;p&&await SR(p),c({count:l+1})};try{const d=await e();s(d)}catch(d){if(l<n&&await r({count:l,error:d}))return f({error:d});o(d)}};c()})}const ZE=256;let C0=ZE,x0;function Lfe(e=11){if(!x0||C0+e>ZE*2){x0="",C0=0;for(let t=0;t<ZE;t++)x0+=(256+Math.random()*256|0).toString(16).substring(1)}return x0.substring(C0,C0+++e)}const N0=new Dfe(8192);function kfe(e,{enabled:t=!0,id:n}){if(!t||!n)return e();if(N0.get(n))return N0.get(n);const r=e().finally(()=>N0.delete(n));return N0.set(n,r),r}function jfe(e,t={}){return async(n,r={})=>{const{dedupe:s=!1,methods:o,retryDelay:c=150,retryCount:l=3,uid:f}={...t,...r},{method:d}=n;if(o?.exclude?.includes(d))throw new vl(new Error("method not supported"),{method:d});if(o?.include&&!o.include.includes(d))throw new vl(new Error("method not supported"),{method:d});const p=s?vR(`${f}.${Tl(n)}`):void 0;return kfe(()=>Bfe(async()=>{try{return await e(n)}catch(g){const y=g;switch(y.code){case $p.code:throw new $p(y);case Up.code:throw new Up(y);case Rp.code:throw new Rp(y,{method:n.method});case Pp.code:throw new Pp(y);case Ff.code:throw new Ff(y);case Bp.code:throw new Bp(y);case Lp.code:throw new Lp(y);case kp.code:throw new kp(y);case qf.code:throw new qf(y);case vl.code:throw new vl(y,{method:n.method});case Vf.code:throw new Vf(y);case jp.code:throw new jp(y);case _l.code:throw new _l(y);case zp.code:throw new zp(y);case Hp.code:throw new Hp(y);case Fp.code:throw new Fp(y);case qp.code:throw new qp(y);case Vp.code:throw new Vp(y);case Wp.code:throw new Wp(y);case Kp.code:throw new Kp(y);case Gp.code:throw new Gp(y);case Yp.code:throw new Yp(y);case Xp.code:throw new Xp(y);case Zp.code:throw new Zp(y);case Qp.code:throw new Qp(y);case 5e3:throw new _l(y);default:throw g instanceof ps?g:new Ufe(y)}}},{delay:({count:g,error:y})=>{if(y&&y instanceof sp){const b=y?.headers?.get("Retry-After");if(b?.match(/\d/))return Number.parseInt(b,10)*1e3}return~~(1<<g)*c},retryCount:l,shouldRetry:({error:g})=>zfe(g)}),{enabled:s,id:p})}}function zfe(e){return"code"in e&&typeof e.code=="number"?e.code===-1||e.code===Vf.code||e.code===Ff.code:e instanceof sp&&e.status?e.status===403||e.status===408||e.status===413||e.status===429||e.status===500||e.status===502||e.status===503||e.status===504:!0}function Hfe(e,{errorInstance:t=new Error("timed out"),timeout:n,signal:r}){return new Promise((s,o)=>{(async()=>{let c;try{const l=new AbortController;n>0&&(c=setTimeout(()=>{r&&l.abort()},n)),s(await e({signal:l?.signal||null}))}catch(l){l?.name==="AbortError"&&o(t),o(l)}finally{clearTimeout(c)}})()})}function Ffe(){return{current:0,take(){return this.current++},reset(){this.current=0}}}const H5=Ffe();function qfe(e,t={}){return{async request(n){const{body:r,fetchFn:s=t.fetchFn??fetch,onRequest:o=t.onRequest,onResponse:c=t.onResponse,timeout:l=t.timeout??1e4}=n,f={...t.fetchOptions??{},...n.fetchOptions??{}},{headers:d,method:p,signal:g}=f;try{const y=await Hfe(async({signal:v})=>{const E={...f,body:Array.isArray(r)?Tl(r.map(x=>({jsonrpc:"2.0",id:x.id??H5.take(),...x}))):Tl({jsonrpc:"2.0",id:r.id??H5.take(),...r}),headers:{"Content-Type":"application/json",...d},method:p||"POST",signal:g||(l>0?v:null)},S=new Request(e,E),C=await o?.(S,E)??{...E,url:e};return await s(C.url??e,C)},{errorInstance:new z5({body:r,url:e}),timeout:l,signal:!0});c&&await c(y);let b;if(y.headers.get("Content-Type")?.startsWith("application/json"))b=await y.json();else{b=await y.text();try{b=JSON.parse(b||"{}")}catch(v){if(y.ok)throw v;b={error:b}}}if(!y.ok)throw new sp({body:r,details:Tl(b.error)||y.statusText,headers:y.headers,status:y.status,url:e});return b}catch(y){throw y instanceof sp||y instanceof z5?y:new sp({body:r,cause:y,url:e})}}}}function AR({key:e,methods:t,name:n,request:r,retryCount:s=3,retryDelay:o=150,timeout:c,type:l},f){const d=Lfe();return{config:{key:e,methods:t,name:n,request:r,retryCount:s,retryDelay:o,timeout:c,type:l},request:jfe(r,{methods:t,retryCount:s,retryDelay:o,uid:d}),value:f}}function F5(e,t={}){const{key:n="fallback",name:r="Fallback",rank:s=!1,shouldThrow:o=Vfe,retryCount:c,retryDelay:l}=t;return(({chain:f,pollingInterval:d=4e3,timeout:p,...g})=>{let y=e,b=()=>{};const v=AR({key:n,name:r,async request({method:E,params:S}){let C;const O=async(x=0)=>{const N=y[x]({...g,chain:f,retryCount:0,timeout:p});try{const T=await N.request({method:E,params:S});return b({method:E,params:S,response:T,transport:N,status:"success"}),T}catch(T){if(b({error:T,method:E,params:S,transport:N,status:"error"}),o(T)||x===y.length-1||(C??=y.slice(x+1).some(I=>{const{include:R,exclude:L}=I({chain:f}).config.methods||{};return R?R.includes(E):L?!L.includes(E):!0}),!C))throw T;return O(x+1)}};return O()},retryCount:c,retryDelay:l,type:"fallback"},{onResponse:E=>b=E,transports:y.map(E=>E({chain:f,retryCount:0}))});if(s){const E=typeof s=="object"?s:{};Wfe({chain:f,interval:E.interval??d,onTransports:S=>y=S,ping:E.ping,sampleCount:E.sampleCount,timeout:E.timeout,transports:y,weights:E.weights})}return v})}function Vfe(e){return!!("code"in e&&typeof e.code=="number"&&(e.code===qf.code||e.code===_l.code||rC.nodeMessage.test(e.message)||e.code===5e3))}function Wfe({chain:e,interval:t=4e3,onTransports:n,ping:r,sampleCount:s=10,timeout:o=1e3,transports:c,weights:l={}}){const{stability:f=.7,latency:d=.3}=l,p=[],g=async()=>{const y=await Promise.all(c.map(async E=>{const S=E({chain:e,retryCount:0,timeout:o}),C=Date.now();let O,x;try{await(r?r({transport:S}):S.request({method:"net_listening"})),x=1}catch{x=0}finally{O=Date.now()}return{latency:O-C,success:x}}));p.push(y),p.length>s&&p.shift();const b=Math.max(...p.map(E=>Math.max(...E.map(({latency:S})=>S)))),v=c.map((E,S)=>{const C=p.map(I=>I[S].latency),x=1-C.reduce((I,R)=>I+R,0)/C.length/b,N=p.map(I=>I[S].success),T=N.reduce((I,R)=>I+R,0)/N.length;return T===0?[0,S]:[d*x+f*T,S]}).sort((E,S)=>S[0]-E[0]);n(v.map(([,E])=>c[E])),await SR(t),g()};g()}class Kfe extends ps{constructor(){super("No URL was provided to the Transport. Please provide a valid RPC URL to the Transport.",{docsPath:"/docs/clients/intro",name:"UrlRequiredError"})}}function T0(e,t={}){const{batch:n,fetchFn:r,fetchOptions:s,key:o="http",methods:c,name:l="HTTP JSON-RPC",onFetchRequest:f,onFetchResponse:d,retryDelay:p,raw:g}=t;return({chain:y,retryCount:b,timeout:v})=>{const{batchSize:E=1e3,wait:S=0}=typeof n=="object"?n:{},C=t.retryCount??b,O=v??t.timeout??1e4,x=e||y?.rpcUrls.default.http[0];if(!x)throw new Kfe;const N=qfe(x,{fetchFn:r,fetchOptions:s,onRequest:f,onResponse:d,timeout:O});return AR({key:o,methods:c,name:l,async request({method:T,params:I}){const R={method:T,params:I},{schedule:L}=Pfe({id:x,wait:S,shouldSplitBatch(H){return H.length>E},fn:H=>N.request({body:H}),sort:(H,X)=>H.id-X.id}),U=async H=>n?L(H):[await N.request({body:H})],[{error:D,result:B}]=await U(R);if(g)return{error:D,result:B};if(D)throw new ER({body:R,error:D,url:x});return B},retryCount:C,retryDelay:p,timeout:O,type:"http"},{fetchOptions:s,url:x})}}const t2={createBalance(e,t){const n={name:e.metadata.name||"",symbol:e.metadata.symbol||"",decimals:e.metadata.decimals||0,value:e.metadata.value||0,price:e.metadata.price||0,iconUrl:e.metadata.iconUrl||""};return{name:n.name,symbol:n.symbol,chainId:t,address:e.address==="native"?void 0:this.convertAddressToCAIP10Address(e.address,t),value:n.value,price:n.price,quantity:{decimals:n.decimals.toString(),numeric:this.convertHexToBalance({hex:e.balance,decimals:n.decimals})},iconUrl:n.iconUrl}},convertHexToBalance({hex:e,decimals:t}){return Mfe(BigInt(e),t)},convertAddressToCAIP10Address(e,t){return`${t}:${e}`},createCAIP2ChainId(e,t){return`${t}:${parseInt(e,16)}`},getChainIdHexFromCAIP2ChainId(e){const t=e.split(":");if(t.length<2||!t[1])return"0x0";const n=t[1],r=parseInt(n,10);return isNaN(r)?"0x0":`0x${r.toString(16)}`},isWalletGetAssetsResponse(e){return typeof e!="object"||e===null?!1:Object.values(e).every(t=>Array.isArray(t)&&t.every(n=>this.isValidAsset(n)))},isValidAsset(e){return typeof e=="object"&&e!==null&&typeof e.address=="string"&&typeof e.balance=="string"&&(e.type==="ERC20"||e.type==="NATIVE")&&typeof e.metadata=="object"&&e.metadata!==null&&typeof e.metadata.name=="string"&&typeof e.metadata.symbol=="string"&&typeof e.metadata.decimals=="number"&&typeof e.metadata.price=="number"&&typeof e.metadata.iconUrl=="string"}},sC={async getMyTokensWithBalance(e){const t=De.state.address,n=z.state.activeCaipNetwork,r=be.getConnectorId("eip155")===he.CONNECTOR_ID.AUTH;if(!t||!n)return[];const s=`${n.caipNetworkId}:${t}`,o=ge.getBalanceCacheForCaipAddress(s);if(o)return o.balances;if(n.chainNamespace===he.CHAIN.EVM&&r){const l=await this.getEIP155Balances(t,n);if(l)return this.filterLowQualityTokens(l)}const c=await Be.getBalance(t,n.caipNetworkId,e);return this.filterLowQualityTokens(c.balances)},async getEIP155Balances(e,t){try{const n=t2.getChainIdHexFromCAIP2ChainId(t.caipNetworkId);if(!(await ve.getCapabilities(e))?.[n]?.assetDiscovery?.supported)return null;const s=await ve.walletGetAssets({account:e,chainFilter:[n]});if(!t2.isWalletGetAssetsResponse(s))return null;const c=(s[n]||[]).map(l=>t2.createBalance(l,t.caipNetworkId));return ge.updateBalanceCache({caipAddress:`${t.caipNetworkId}:${e}`,balance:{balances:c},timestamp:Date.now()}),c}catch{return null}},filterLowQualityTokens(e){return e.filter(t=>t.quantity.decimals!=="0")}},Bi=kt({currentTab:0,tokenBalance:[],smartAccountDeployed:!1,addressLabels:new Map}),Gfe={state:Bi,replaceState(e){e&&Object.assign(Bi,Bl(e))},subscribe(e){return z.subscribeChainProp("accountState",t=>{if(t)return e(t)})},subscribeKey(e,t,n){let r;return z.subscribeChainProp("accountState",s=>{if(s){const o=s[e];r!==o&&(r=o,t(o))}},n)},setStatus(e,t){z.setAccountProp("status",e,t)},getCaipAddress(e){if(e)return z.state.chains.get(e)?.accountState?.caipAddress},setCaipAddress(e,t){const n=e?Me.getPlainAddress(e):void 0;t===z.state.activeChain&&(z.state.activeCaipAddress=e),z.setAccountProp("caipAddress",e,t),z.setAccountProp("address",n,t)},setBalance(e,t,n){z.setAccountProp("balance",e,n),z.setAccountProp("balanceSymbol",t,n)},setProfileName(e,t){z.setAccountProp("profileName",e,t)},setProfileImage(e,t){z.setAccountProp("profileImage",e,t)},setUser(e,t){z.setAccountProp("user",e,t)},setAddressExplorerUrl(e,t){z.setAccountProp("addressExplorerUrl",e,t)},setSmartAccountDeployed(e,t){z.setAccountProp("smartAccountDeployed",e,t)},setCurrentTab(e){z.setAccountProp("currentTab",e,z.state.activeChain)},setTokenBalance(e,t){e&&z.setAccountProp("tokenBalance",e,t)},setShouldUpdateToAddress(e,t){z.setAccountProp("shouldUpdateToAddress",e,t)},addAddressLabel(e,t,n){if(!n)return;const r=z.state.chains.get(n)?.accountState?.addressLabels||new Map;r.set(e,t),z.setAccountProp("addressLabels",r,n)},removeAddressLabel(e,t){if(!t)return;const n=z.state.chains.get(t)?.accountState?.addressLabels||new Map;n.delete(e),z.setAccountProp("addressLabels",n,t)},setConnectedWalletInfo(e,t){z.setAccountProp("connectedWalletInfo",e,t,!1)},setPreferredAccountType(e,t){z.setAccountProp("preferredAccountType",e,t)},setSocialProvider(e,t){e&&z.setAccountProp("socialProvider",e,t)},setSocialWindow(e,t){z.setAccountProp("socialWindow",e?Bl(e):void 0,t)},setFarcasterUrl(e,t){z.setAccountProp("farcasterUrl",e,t)},async fetchTokenBalance(e){Bi.balanceLoading=!0;const t=z.state.activeCaipNetwork?.caipNetworkId,n=z.state.activeCaipNetwork?.chainNamespace,r=z.state.activeCaipAddress,s=r?Me.getPlainAddress(r):void 0;if(Bi.lastRetry&&!Me.isAllowedRetry(Bi.lastRetry,30*vt.ONE_SEC_MS))return Bi.balanceLoading=!1,[];try{if(s&&t&&n){const o=await sC.getMyTokensWithBalance();return De.setTokenBalance(o,n),Bi.lastRetry=void 0,Bi.balanceLoading=!1,o}}catch(o){Bi.lastRetry=Date.now(),e?.(o),Vi.showError("Token Balance Unavailable")}finally{Bi.balanceLoading=!1}return[]},resetAccount(e){z.resetAccount(e)}},De=gs(Gfe),Yfe={onSwitchNetwork({network:e,ignoreSwitchConfirmation:t=!1}){const n=z.state.activeCaipNetwork,r=ze.state.data;if(e.id===n?.id)return;const o=De.getCaipAddress(z.state.activeChain),c=e.chainNamespace!==z.state.activeChain,l=De.getCaipAddress(e.chainNamespace),d=be.getConnectorId(z.state.activeChain)===he.CONNECTOR_ID.AUTH,p=he.AUTH_CONNECTOR_SUPPORTED_CHAINS.find(g=>g===e.chainNamespace);t||d&&p?ze.push("SwitchNetwork",{...r,network:e}):o&&c&&!l?ze.push("SwitchActiveChain",{switchToChain:e.chainNamespace,navigateTo:"Connect",navigateWithReplace:!0,network:e}):ze.push("SwitchNetwork",{...r,network:e})}},Mr=kt({loading:!1,loadingNamespaceMap:new Map,open:!1,shake:!1,namespace:void 0}),Xfe={state:Mr,subscribe(e){return Gn(Mr,()=>e(Mr))},subscribeKey(e,t){return fr(Mr,e,t)},async open(e){const t=e?.namespace,n=z.state.activeChain,r=t&&t!==n,s=z.getAccountData(e?.namespace)?.caipAddress;if(ve.state.wcBasic?Pe.prefetch({fetchNetworkImages:!1,fetchConnectorImages:!1}):await Pe.prefetch(),be.setFilterByNamespace(e?.namespace),st.setLoading(!0,t),t&&r){const o=z.getNetworkData(t)?.caipNetwork||z.getRequestedCaipNetworks(t)[0];o&&Yfe.onSwitchNetwork({network:o,ignoreSwitchConfirmation:!0})}else{const o=z.state.noAdapters;fe.state.manualWCControl||o&&!s?Me.isMobile()?ze.reset("AllWallets"):ze.reset("ConnectingWalletConnectBasic"):e?.view?ze.reset(e.view,e.data):s?ze.reset("Account"):ze.reset("Connect")}Mr.open=!0,zo.set({open:!0}),Ot.sendEvent({type:"track",event:"MODAL_OPEN",properties:{connected:!!s}})},close(){const e=fe.state.enableEmbedded,t=!!z.state.activeCaipAddress;Mr.open&&Ot.sendEvent({type:"track",event:"MODAL_CLOSE",properties:{connected:t}}),Mr.open=!1,ze.reset("Connect"),st.clearLoading(),e?t?ze.replace("Account"):ze.push("Connect"):zo.set({open:!1}),ve.resetUri()},setLoading(e,t){t&&Mr.loadingNamespaceMap.set(t,e),Mr.loading=e,zo.set({loading:e})},clearLoading(){Mr.loadingNamespaceMap.clear(),Mr.loading=!1,zo.set({loading:!1})},shake(){Mr.shake||(Mr.shake=!0,setTimeout(()=>{Mr.shake=!1},500))}},st=gs(Xfe),ip={id:"2b92315d-eab7-5bef-84fa-089a131333f5",name:"USD Coin",symbol:"USDC",networks:[{name:"ethereum-mainnet",display_name:"Ethereum",chain_id:"1",contract_address:"0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48"},{name:"polygon-mainnet",display_name:"Polygon",chain_id:"137",contract_address:"0x2791Bca1f2de4661ED88A30C99A7a9449Aa84174"}]},QE={id:"USD",payment_method_limits:[{id:"card",min:"10.00",max:"7500.00"},{id:"ach_bank_account",min:"10.00",max:"25000.00"}]},Zfe={providers:uR,selectedProvider:null,error:null,purchaseCurrency:ip,paymentCurrency:QE,purchaseCurrencies:[ip],paymentCurrencies:[],quotesLoading:!1},it=kt(Zfe),Qfe={state:it,subscribe(e){return Gn(it,()=>e(it))},subscribeKey(e,t){return fr(it,e,t)},setSelectedProvider(e){if(e&&e.name==="meld"){const t=z.state.activeChain,n=t===he.CHAIN.SOLANA?"SOL":"USDC",r=t?z.state.chains.get(t)?.accountState?.address??"":"",s=new URL(e.url);s.searchParams.append("publicKey",Gue),s.searchParams.append("destinationCurrencyCode",n),s.searchParams.append("walletAddress",r),s.searchParams.append("externalCustomerId",fe.state.projectId),it.selectedProvider={...e,url:s.toString()}}else it.selectedProvider=e},setOnrampProviders(e){if(Array.isArray(e)&&e.every(t=>typeof t=="string")){const t=e,n=uR.filter(r=>t.includes(r.name));it.providers=n}else it.providers=[]},setPurchaseCurrency(e){it.purchaseCurrency=e},setPaymentCurrency(e){it.paymentCurrency=e},setPurchaseAmount(e){JE.state.purchaseAmount=e},setPaymentAmount(e){JE.state.paymentAmount=e},async getAvailableCurrencies(){const e=await Be.getOnrampOptions();it.purchaseCurrencies=e.purchaseCurrencies,it.paymentCurrencies=e.paymentCurrencies,it.paymentCurrency=e.paymentCurrencies[0]||QE,it.purchaseCurrency=e.purchaseCurrencies[0]||ip,await Pe.fetchCurrencyImages(e.paymentCurrencies.map(t=>t.id)),await Pe.fetchTokenImages(e.purchaseCurrencies.map(t=>t.symbol))},async getQuote(){it.quotesLoading=!0;try{const e=await Be.getOnrampQuote({purchaseCurrency:it.purchaseCurrency,paymentCurrency:it.paymentCurrency,amount:it.paymentAmount?.toString()||"0",network:it.purchaseCurrency?.symbol});return it.quotesLoading=!1,it.purchaseAmount=Number(e?.purchaseAmount.amount),e}catch(e){return it.error=e.message,it.quotesLoading=!1,null}finally{it.quotesLoading=!1}},resetState(){it.selectedProvider=null,it.error=null,it.purchaseCurrency=ip,it.paymentCurrency=QE,it.purchaseCurrencies=[ip],it.paymentCurrencies=[],it.paymentAmount=void 0,it.purchaseAmount=void 0,it.quotesLoading=!1}},JE=gs(Qfe),q5=2147483648,Jfe={convertEVMChainIdToCoinType(e){if(e>=q5)throw new Error("Invalid chainId");return(q5|e)>>>0}},Ms=kt({suggestions:[],loading:!1}),ehe={state:Ms,subscribe(e){return Gn(Ms,()=>e(Ms))},subscribeKey(e,t){return fr(Ms,e,t)},async resolveName(e){try{return await Be.lookupEnsName(e)}catch(t){const n=t;throw new Error(n?.reasons?.[0]?.description||"Error resolving name")}},async isNameRegistered(e){try{return await Be.lookupEnsName(e),!0}catch{return!1}},async getSuggestions(e){try{Ms.loading=!0,Ms.suggestions=[];const t=await Be.getEnsNameSuggestions(e);return Ms.suggestions=t.suggestions.map(n=>({...n,name:n.name}))||[],Ms.suggestions}catch(t){const n=op.parseEnsApiError(t,"Error fetching name suggestions");throw new Error(n)}finally{Ms.loading=!1}},async getNamesForAddress(e){try{if(!z.state.activeCaipNetwork)return[];const n=ge.getEnsFromCacheForAddress(e);if(n)return n;const r=await Be.reverseLookupEnsName({address:e});return ge.updateEnsCache({address:e,ens:r,timestamp:Date.now()}),r}catch(t){const n=op.parseEnsApiError(t,"Error fetching names for address");throw new Error(n)}},async registerName(e){const t=z.state.activeCaipNetwork,n=De.state.address,r=be.getAuthConnector();if(!t)throw new Error("Network not found");if(!n||!r)throw new Error("Address or auth connector not found");Ms.loading=!0;try{const s=JSON.stringify({name:e,attributes:{},timestamp:Math.floor(Date.now()/1e3)});ze.pushTransactionStack({onCancel(){ze.replace("RegisterAccountName")}});const o=await ve.signMessage(s);Ms.loading=!1;const c=t.id;if(!c)throw new Error("Network not found");const l=Jfe.convertEVMChainIdToCoinType(Number(c));await Be.registerEnsName({coinType:l,address:n,signature:o,message:s}),De.setProfileName(e,t.chainNamespace),ze.replace("RegisterAccountNameSuccess")}catch(s){const o=op.parseEnsApiError(s,`Error registering name ${e}`);throw ze.replace("RegisterAccountName"),new Error(o)}finally{Ms.loading=!1}},validateName(e){return/^[a-zA-Z0-9-]{4,}$/u.test(e)},parseEnsApiError(e,t){return e?.reasons?.[0]?.description||t}},op=gs(ehe);let tl=null;const Fi={getSIWX(){return fe.state.siwx},async initializeIfEnabled(e=z.getActiveCaipAddress()){const t=fe.state.siwx;if(!(t&&e))return;const[n,r,s]=e.split(":");if(z.checkIfSupportedNetwork(n,`${n}:${r}`))try{if(fe.state.remoteFeatures?.emailCapture){const c=z.getAccountData(n)?.user;await st.open({view:"DataCapture",data:{email:c?.email??void 0}});return}if(tl&&await tl,(await t.getSessions(`${n}:${r}`,s)).length)return;await st.open({view:"SIWXSignMessage"})}catch(o){console.error("SIWXUtil:initializeIfEnabled",o),Ot.sendEvent({type:"track",event:"SIWX_AUTH_ERROR",properties:this.getSIWXEventProperties()}),await ve._getClient()?.disconnect().catch(console.error),ze.reset("Connect"),Vi.showError("A problem occurred while trying initialize authentication")}},async requestSignMessage(){const e=fe.state.siwx,t=Me.getPlainAddress(z.getActiveCaipAddress()),n=L5(),r=ve._getClient();if(!e)throw new Error("SIWX is not enabled");if(!t)throw new Error("No ActiveCaipAddress found");if(!n)throw new Error("No ActiveCaipNetwork or client found");if(!r)throw new Error("No ConnectionController client found");try{const s=await e.createMessage({chainId:n.caipNetworkId,accountAddress:t}),o=s.toString();be.getConnectorId(n.chainNamespace)===he.CONNECTOR_ID.AUTH&&ze.pushTransactionStack({});const l=await r.signMessage(o);await e.addSession({data:s,message:o,signature:l}),z.setLastConnectedSIWECaipNetwork(n),st.close(),Ot.sendEvent({type:"track",event:"SIWX_AUTH_SUCCESS",properties:this.getSIWXEventProperties()})}catch(s){const o=this.getSIWXEventProperties();(!st.state.open||ze.state.view==="ApproveTransaction")&&await st.open({view:"SIWXSignMessage"}),Vi.showError("Error signing message"),Ot.sendEvent({type:"track",event:"SIWX_AUTH_ERROR",properties:o}),console.error("SWIXUtil:requestSignMessage",s)}},async cancelSignMessage(){try{const e=this.getSIWX();if(e?.getRequired?.()){const n=z.getLastConnectedSIWECaipNetwork();if(n){const r=await e?.getSessions(n?.caipNetworkId,Me.getPlainAddress(z.getActiveCaipAddress())||"");r&&r.length>0?await z.switchActiveNetwork(n):await ve.disconnect()}else await ve.disconnect()}else st.close();st.close(),Ot.sendEvent({event:"CLICK_CANCEL_SIWX",type:"track",properties:this.getSIWXEventProperties()})}catch(e){console.error("SIWXUtil:cancelSignMessage",e)}},async getAllSessions(){const e=this.getSIWX(),t=z.getAllRequestedCaipNetworks(),n=[];return await Promise.all(t.map(async r=>{const s=await e?.getSessions(r.caipNetworkId,Me.getPlainAddress(z.getActiveCaipAddress())||"");s&&n.push(...s)})),n},async getSessions(e){const t=fe.state.siwx;let n=e?.address;if(!n){const s=z.getActiveCaipAddress();n=Me.getPlainAddress(s)}let r=e?.caipNetworkId;return r||(r=z.getActiveCaipNetwork()?.caipNetworkId),t&&n&&r?t.getSessions(r,n):[]},async isSIWXCloseDisabled(){const e=this.getSIWX();if(e){const t=ze.state.view==="ApproveTransaction",n=ze.state.view==="SIWXSignMessage";if(t||n)return e.getRequired?.()&&(await this.getSessions()).length===0}return!1},async authConnectorAuthenticate({authConnector:e,chainId:t,socialUri:n,preferredAccountType:r,chainNamespace:s}){const o=Fi.getSIWX();if(!o||!s.includes(he.CHAIN.EVM)||fe.state.remoteFeatures?.emailCapture){const p=await e.connect({chainId:t,socialUri:n,preferredAccountType:r});return{address:p.address,chainId:p.chainId,accounts:p.accounts}}const c=`${s}:${t}`,l=await o.createMessage({chainId:c,accountAddress:"<<AccountAddress>>"}),f={accountAddress:l.accountAddress,chainId:l.chainId,domain:l.domain,uri:l.uri,version:l.version,nonce:l.nonce,notBefore:l.notBefore,statement:l.statement,resources:l.resources,requestId:l.requestId,issuedAt:l.issuedAt,expirationTime:l.expirationTime,serializedMessage:l.toString()},d=await e.connect({chainId:t,socialUri:n,siwxMessage:f,preferredAccountType:r});return f.accountAddress=d.address,f.serializedMessage=d.message||"",d.signature&&d.message&&await Fi.addEmbeddedWalletSession(f,d.message,d.signature),{address:d.address,chainId:d.chainId,accounts:d.accounts}},async addEmbeddedWalletSession(e,t,n){if(tl)return tl;const r=Fi.getSIWX();return r?(tl=r.addSession({data:e,message:t,signature:n}).finally(()=>{tl=null}),tl):Promise.resolve()},async universalProviderAuthenticate({universalProvider:e,chains:t,methods:n}){const r=Fi.getSIWX(),s=new Set(t.map(l=>l.split(":")[0]));if(!r||s.size!==1||!s.has("eip155"))return!1;const o=await r.createMessage({chainId:L5()?.caipNetworkId||"",accountAddress:""}),c=await e.authenticate({nonce:o.nonce,domain:o.domain,uri:o.uri,exp:o.expirationTime,iat:o.issuedAt,nbf:o.notBefore,requestId:o.requestId,version:o.version,resources:o.resources,statement:o.statement,chainId:o.chainId,methods:n,chains:[o.chainId,...t.filter(l=>l!==o.chainId)]});if(Vi.showLoading("Authenticating...",{autoClose:!1}),De.setConnectedWalletInfo({...c.session.peer.metadata,name:c.session.peer.metadata.name,icon:c.session.peer.metadata.icons?.[0],type:"WALLET_CONNECT"},Array.from(s)[0]),c?.auths?.length){const l=c.auths.map(f=>{const d=e.client.formatAuthMessage({request:f.p,iss:f.p.iss});return{data:{...f.p,accountAddress:f.p.iss.split(":").slice(-1).join(""),chainId:f.p.iss.split(":").slice(2,4).join(":"),uri:f.p.aud,version:f.p.version||o.version,expirationTime:f.p.exp,issuedAt:f.p.iat,notBefore:f.p.nbf},message:d,signature:f.s.s,cacao:f}});try{await r.setSessions(l),Ot.sendEvent({type:"track",event:"SIWX_AUTH_SUCCESS",properties:Fi.getSIWXEventProperties()})}catch(f){throw console.error("SIWX:universalProviderAuth - failed to set sessions",f),Ot.sendEvent({type:"track",event:"SIWX_AUTH_ERROR",properties:Fi.getSIWXEventProperties()}),await e.disconnect().catch(console.error),f}finally{Vi.hide()}}return!0},getSIWXEventProperties(){const e=z.state.activeChain;if(!e)throw new Error("SIWXUtil:getSIWXEventProperties - namespace is required");return{network:z.state.activeCaipNetwork?.caipNetworkId||"",isSmartAccount:eo(e)===Nl.ACCOUNT_TYPES.SMART_ACCOUNT}},async clearSessions(){const e=this.getSIWX();e&&await e.setSessions([])}},ol={EIP155:he.CHAIN.EVM,CONNECTOR_TYPE_WALLET_CONNECT:"WALLET_CONNECT",CONNECTOR_TYPE_INJECTED:"INJECTED",CONNECTOR_TYPE_ANNOUNCED:"ANNOUNCED"},Jp={NetworkImageIds:{1:"ba0ba0cd-17c6-4806-ad93-f9d174f17900",42161:"3bff954d-5cb0-47a0-9a23-d20192e74600",43114:"30c46e53-e989-45fb-4549-be3bd4eb3b00",56:"93564157-2e8e-4ce7-81df-b264dbee9b00",250:"06b26297-fe0c-4733-5d6b-ffa5498aac00",10:"ab9c186a-c52f-464b-2906-ca59d760a400",137:"41d04d42-da3b-4453-8506-668cc0727900",5e3:"e86fae9b-b770-4eea-e520-150e12c81100",295:"6a97d510-cac8-4e58-c7ce-e8681b044c00",11155111:"e909ea0a-f92a-4512-c8fc-748044ea6800",84532:"a18a7ecd-e307-4360-4746-283182228e00",1301:"4eeea7ef-0014-4649-5d1d-07271a80f600",130:"2257980a-3463-48c6-cbac-a42d2a956e00",10143:"0a728e83-bacb-46db-7844-948f05434900",100:"02b53f6a-e3d4-479e-1cb4-21178987d100",9001:"f926ff41-260d-4028-635e-91913fc28e00",324:"b310f07f-4ef7-49f3-7073-2a0a39685800",314:"5a73b3dd-af74-424e-cae0-0de859ee9400",4689:"34e68754-e536-40da-c153-6ef2e7188a00",1088:"3897a66d-40b9-4833-162f-a2c90531c900",1284:"161038da-44ae-4ec7-1208-0ea569454b00",1285:"f1d73bb6-5450-4e18-38f7-fb6484264a00",7777777:"845c60df-d429-4991-e687-91ae45791600",42220:"ab781bbc-ccc6-418d-d32d-789b15da1f00",8453:"7289c336-3981-4081-c5f4-efc26ac64a00",1313161554:"3ff73439-a619-4894-9262-4470c773a100",2020:"b8101fc0-9c19-4b6f-ec65-f6dfff106e00",2021:"b8101fc0-9c19-4b6f-ec65-f6dfff106e00",80094:"e329c2c9-59b0-4a02-83e4-212ff3779900",2741:"fc2427d1-5af9-4a9c-8da5-6f94627cd900","5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp":"a1b58899-f671-4276-6a5e-56ca5bd59700","4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z":"a1b58899-f671-4276-6a5e-56ca5bd59700",EtWTRABZaYq6iMfeYKouRu166VU2xqa1:"a1b58899-f671-4276-6a5e-56ca5bd59700","000000000019d6689c085ae165831e93":"0b4838db-0161-4ffe-022d-532bf03dba00","000000000933ea01ad0ee984209779ba":"39354064-d79b-420b-065d-f980c4b78200"},ConnectorImageIds:{[he.CONNECTOR_ID.COINBASE]:"0c2840c3-5b04-4c44-9661-fbd4b49e1800",[he.CONNECTOR_ID.COINBASE_SDK]:"0c2840c3-5b04-4c44-9661-fbd4b49e1800",[he.CONNECTOR_ID.SAFE]:"461db637-8616-43ce-035a-d89b8a1d5800",[he.CONNECTOR_ID.LEDGER]:"54a1aa77-d202-4f8d-0fb2-5d2bb6db0300",[he.CONNECTOR_ID.WALLET_CONNECT]:"ef1a1fcf-7fe8-4d69-bd6d-fda1345b4400",[he.CONNECTOR_ID.INJECTED]:"07ba87ed-43aa-4adf-4540-9e6a2b9cae00"},ConnectorNamesMap:{[he.CONNECTOR_ID.INJECTED]:"Browser Wallet",[he.CONNECTOR_ID.WALLET_CONNECT]:"WalletConnect",[he.CONNECTOR_ID.COINBASE]:"Coinbase",[he.CONNECTOR_ID.COINBASE_SDK]:"Coinbase",[he.CONNECTOR_ID.LEDGER]:"Ledger",[he.CONNECTOR_ID.SAFE]:"Safe"}},ls={getCaipTokens(e){if(!e)return;const t={};return Object.entries(e).forEach(([n,r])=>{t[`${ol.EIP155}:${n}`]=r}),t},isLowerCaseMatch(e,t){return e?.toLowerCase()===t?.toLowerCase()},getActiveNamespaceConnectedToAuth(){const e=z.state.activeChain;return he.AUTH_CONNECTOR_SUPPORTED_CHAINS.find(t=>be.getConnectorId(t)===he.CONNECTOR_ID.AUTH&&t===e)},withRetry({conditionFn:e,intervalMs:t,maxRetries:n}){let r=0;return new Promise(s=>{async function o(){return r+=1,await e()?s(!0):r>=n?s(!1):(setTimeout(o,t),null)}o()})}},the=new AbortController,$s={EmbeddedWalletAbortController:the,UniversalProviderErrors:{UNAUTHORIZED_DOMAIN_NOT_ALLOWED:{message:"Unauthorized: origin not allowed",alertErrorKey:"ORIGIN_NOT_ALLOWED"},JWT_VALIDATION_ERROR:{message:"JWT validation error: JWT Token is not yet valid",alertErrorKey:"JWT_TOKEN_NOT_VALID"},INVALID_KEY:{message:"Unauthorized: invalid key",alertErrorKey:"INVALID_PROJECT_ID"}},ALERT_ERRORS:{SWITCH_NETWORK_NOT_FOUND:{code:"APKT001",displayMessage:"Network Not Found",debugMessage:"The specified network is not recognized. Please ensure it is included in the `networks` array of your `createAppKit` configuration."},ORIGIN_NOT_ALLOWED:{code:"APKT002",displayMessage:"Invalid App Configuration",debugMessage:()=>`The origin ${Af()?window.origin:"unknown"} is not in your allow list. Please update your allowed domains at https://dashboard.reown.com.`},IFRAME_LOAD_FAILED:{code:"APKT003",displayMessage:"Network Error: Wallet Load Failed",debugMessage:()=>"Failed to load the embedded wallet. This may be due to network issues or server downtime. Please check your network connection and try again shortly. Contact support if the issue persists."},IFRAME_REQUEST_TIMEOUT:{code:"APKT004",displayMessage:"Wallet Request Timeout",debugMessage:()=>"The request to the embedded wallet timed out. Please check your network connection and try again shortly. Contact support if the issue persists."},UNVERIFIED_DOMAIN:{code:"APKT005",displayMessage:"Unverified Domain",debugMessage:()=>"Embedded wallet load failed. Ensure your domain is verified in https://dashboard.reown.com."},JWT_TOKEN_NOT_VALID:{code:"APKT006",displayMessage:"Session Expired",debugMessage:"Your session is invalid or expired. Please check your systems date and time settings, then reconnect."},INVALID_PROJECT_ID:{code:"APKT007",displayMessage:"Invalid Project ID",debugMessage:"The specified project ID is invalid. Please visit https://dashboard.reown.com to obtain a valid project ID."},PROJECT_ID_NOT_CONFIGURED:{code:"APKT008",displayMessage:"Project ID Missing",debugMessage:"No project ID is configured. You can create and configure a project ID at https://dashboard.reown.com."},SERVER_ERROR_APP_CONFIGURATION:{code:"APKT009",displayMessage:"Server Error",debugMessage:e=>`Unable to fetch App Configuration. ${e}. Please check your network connection and try again shortly. Contact support if the issue persists.`},RATE_LIMITED_APP_CONFIGURATION:{code:"APKT010",displayMessage:"Rate Limited",debugMessage:"You have been rate limited while retrieving App Configuration. Please wait a few minutes and try again. Contact support if the issue persists."}},ALERT_WARNINGS:{LOCAL_CONFIGURATION_IGNORED:{debugMessage:e=>`[Reown Config Notice] ${e}`}}},nhe={createLogger(e,t="error"){const n=pg({level:t}),{logger:r}=CM({opts:n});return r.error=(...s)=>{for(const o of s)if(o instanceof Error){e(o,...s);return}e(void 0,...s)},r}},rhe="rpc.walletconnect.org";function V5(e,t){const n=new URL("https://rpc.walletconnect.org/v1/");return n.searchParams.set("chainId",e),n.searchParams.set("projectId",t),n.toString()}const n2=["near:mainnet","solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp","eip155:1101","eip155:56","eip155:42161","eip155:7777777","eip155:59144","eip155:324","solana:EtWTRABZaYq6iMfeYKouRu166VU2xqa1","eip155:5000","solana:4sgjmw1sunhzsxgspuhpqldx6wiyjntz","eip155:80084","eip155:5003","eip155:100","eip155:8453","eip155:42220","eip155:1313161555","eip155:17000","eip155:1","eip155:300","eip155:1313161554","eip155:1329","eip155:84532","eip155:421614","eip155:11155111","eip155:8217","eip155:43114","solana:4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z","eip155:999999999","eip155:11155420","eip155:80002","eip155:97","eip155:43113","eip155:137","eip155:10","eip155:1301","bip122:000000000019d6689c085ae165831e93","bip122:000000000933ea01ad0ee984209779ba"],uf={extendRpcUrlWithProjectId(e,t){let n=!1;try{n=new URL(e).host===rhe}catch{n=!1}if(n){const r=new URL(e);return r.searchParams.has("projectId")||r.searchParams.set("projectId",t),r.toString()}return e},isCaipNetwork(e){return"chainNamespace"in e&&"caipNetworkId"in e},getChainNamespace(e){return this.isCaipNetwork(e)?e.chainNamespace:he.CHAIN.EVM},getCaipNetworkId(e){return this.isCaipNetwork(e)?e.caipNetworkId:`${he.CHAIN.EVM}:${e.id}`},getDefaultRpcUrl(e,t,n){const r=e.rpcUrls?.default?.http?.[0];return n2.includes(t)?V5(t,n):r||""},extendCaipNetwork(e,{customNetworkImageUrls:t,projectId:n,customRpcUrls:r}){const s=this.getChainNamespace(e),o=this.getCaipNetworkId(e),c=e.rpcUrls?.default?.http?.[0],l=this.getDefaultRpcUrl(e,o,n),f=e?.rpcUrls?.chainDefault?.http?.[0]||c,d=r?.[o]?.map(y=>y.url)||[],p=[...d,...l?[l]:[]],g=[...d];return f&&!g.includes(f)&&g.push(f),{...e,chainNamespace:s,caipNetworkId:o,assets:{imageId:Jp.NetworkImageIds[e.id],imageUrl:t?.[e.id]},rpcUrls:{...e.rpcUrls,default:{http:p},chainDefault:{http:g}}}},extendCaipNetworks(e,{customNetworkImageUrls:t,projectId:n,customRpcUrls:r}){return e.map(s=>uf.extendCaipNetwork(s,{customNetworkImageUrls:t,customRpcUrls:r,projectId:n}))},getViemTransport(e,t,n){const r=[];return n?.forEach(s=>{r.push(T0(s.url,s.config))}),n2.includes(e.caipNetworkId)&&r.push(T0(V5(e.caipNetworkId,t),{fetchOptions:{headers:{"Content-Type":"text/plain"}}})),e?.rpcUrls?.default?.http?.forEach(s=>{r.push(T0(s))}),F5(r)},extendWagmiTransports(e,t,n){if(n2.includes(e.caipNetworkId)){const r=this.getDefaultRpcUrl(e,e.caipNetworkId,t);return F5([n,T0(r)])}return n},getUnsupportedNetwork(e){return{id:e.split(":")[1],caipNetworkId:e,name:he.UNSUPPORTED_NETWORK_NAME,chainNamespace:e.split(":")[0],nativeCurrency:{name:"",decimals:0,symbol:""},rpcUrls:{default:{http:[]}}}},getCaipNetworkFromStorage(e){const t=ge.getActiveCaipNetworkId(),n=z.getAllRequestedCaipNetworks(),r=Array.from(z.state.chains?.keys()||[]),s=t?.split(":")[0],o=s?r.includes(s):!1,c=n?.find(f=>f.caipNetworkId===t);return o&&!c&&t?this.getUnsupportedNetwork(t):c||e||n?.[0]}},Ty={eip155:void 0,solana:void 0,polkadot:void 0,bip122:void 0,cosmos:void 0,sui:void 0,stacks:void 0},$r=kt({providers:{...Ty},providerIds:{...Ty}}),an={state:$r,subscribeKey(e,t){return fr($r,e,t)},subscribe(e){return Gn($r,()=>{e($r)})},subscribeProviders(e){return Gn($r.providers,()=>e($r.providers))},setProvider(e,t){e&&t&&($r.providers[e]=Bl(t))},getProvider(e){if(e)return $r.providers[e]},setProviderId(e,t){t&&($r.providerIds[e]=t)},getProviderId(e){if(e)return $r.providerIds[e]},reset(){$r.providers={...Ty},$r.providerIds={...Ty}},resetChain(e){$r.providers[e]=void 0,$r.providerIds[e]=void 0}},she={VIEW_DIRECTION:{Next:"next",Prev:"prev"},DEFAULT_CONNECT_METHOD_ORDER:["email","social","wallet"],ANIMATION_DURATIONS:{HeaderText:120,ModalHeight:150,ViewTransition:150}},eS={filterOutDuplicatesByRDNS(e){const t=fe.state.enableEIP6963?be.state.connectors:[],n=ge.getRecentWallets(),r=t.map(l=>l.info?.rdns).filter(Boolean),s=n.map(l=>l.rdns).filter(Boolean),o=r.concat(s);if(o.includes("io.metamask.mobile")&&Me.isMobile()){const l=o.indexOf("io.metamask.mobile");o[l]="io.metamask"}return e.filter(l=>!(l?.rdns&&o.includes(String(l.rdns))||!l?.rdns&&t.some(d=>d.name===l.name)))},filterOutDuplicatesByIds(e){const t=be.state.connectors.filter(l=>l.type==="ANNOUNCED"||l.type==="INJECTED"),n=ge.getRecentWallets(),r=t.map(l=>l.explorerId),s=n.map(l=>l.id),o=r.concat(s);return e.filter(l=>!o.includes(l?.id))},filterOutDuplicateWallets(e){const t=this.filterOutDuplicatesByRDNS(e);return this.filterOutDuplicatesByIds(t)},markWalletsAsInstalled(e){const{connectors:t}=be.state,{featuredWalletIds:n}=fe.state,r=t.filter(c=>c.type==="ANNOUNCED").reduce((c,l)=>(l.info?.rdns&&(c[l.info.rdns]=!0),c),{});return e.map(c=>({...c,installed:!!c.rdns&&!!r[c.rdns??""]})).sort((c,l)=>{const f=Number(l.installed)-Number(c.installed);if(f!==0)return f;if(n?.length){const d=n.indexOf(c.id),p=n.indexOf(l.id);if(d!==-1&&p!==-1)return d-p;if(d!==-1)return-1;if(p!==-1)return 1}return 0})},getConnectOrderMethod(e,t){const n=e?.connectMethodsOrder||fe.state.features?.connectMethodsOrder,r=t||be.state.connectors;if(n)return n;const{injected:s,announced:o}=V0.getConnectorsByType(r,Pe.state.recommended,Pe.state.featured),c=s.filter(V0.showConnector),l=o.filter(V0.showConnector);return c.length||l.length?["wallet","email","social"]:she.DEFAULT_CONNECT_METHOD_ORDER},isExcluded(e){const t=!!e.rdns&&Pe.state.excludedWallets.some(r=>r.rdns===e.rdns),n=!!e.name&&Pe.state.excludedWallets.some(r=>ls.isLowerCaseMatch(r.name,e.name));return t||n},markWalletsWithDisplayIndex(e){return e.map((t,n)=>({...t,display_index:n}))}},V0={getConnectorsByType(e,t,n){const{customWallets:r}=fe.state,s=ge.getRecentWallets(),o=eS.filterOutDuplicateWallets(t),c=eS.filterOutDuplicateWallets(n),l=e.filter(g=>g.type==="MULTI_CHAIN"),f=e.filter(g=>g.type==="ANNOUNCED"),d=e.filter(g=>g.type==="INJECTED"),p=e.filter(g=>g.type==="EXTERNAL");return{custom:r,recent:s,external:p,multiChain:l,announced:f,injected:d,recommended:o,featured:c}},showConnector(e){const t=e.info?.rdns,n=!!t&&Pe.state.excludedWallets.some(s=>!!s.rdns&&s.rdns===t),r=!!e.name&&Pe.state.excludedWallets.some(s=>ls.isLowerCaseMatch(s.name,e.name));return!(e.type==="INJECTED"&&(e.name==="Browser Wallet"&&(!Me.isMobile()||Me.isMobile()&&!t&&!ve.checkInstalled())||n||r)||(e.type==="ANNOUNCED"||e.type==="EXTERNAL")&&(n||r))},getIsConnectedWithWC(){return Array.from(z.state.chains.values()).some(n=>be.getConnectorId(n.namespace)===he.CONNECTOR_ID.WALLET_CONNECT)},getConnectorTypeOrder({recommended:e,featured:t,custom:n,recent:r,announced:s,injected:o,multiChain:c,external:l,overriddenConnectors:f=fe.state.features?.connectorTypeOrder??[]}){const g=[{type:"walletConnect",isEnabled:fe.state.enableWalletConnect},{type:"recent",isEnabled:r.length>0},{type:"injected",isEnabled:[...o,...s,...c].length>0},{type:"featured",isEnabled:t.length>0},{type:"custom",isEnabled:n&&n.length>0},{type:"external",isEnabled:l.length>0},{type:"recommended",isEnabled:e.length>0}].filter(E=>E.isEnabled),y=new Set(g.map(E=>E.type)),b=f.filter(E=>y.has(E)).map(E=>({type:E,isEnabled:!0})),v=g.filter(({type:E})=>!b.some(({type:C})=>C===E));return Array.from(new Set([...b,...v].map(({type:E})=>E)))},getAuthName({email:e,socialUsername:t,socialProvider:n}){return t?n&&n==="discord"&&t.endsWith("0")?t.slice(0,-1):t:e.length>30?`${e.slice(0,-3)}...`:e},async fetchProviderData(e){try{if(e.name==="Browser Wallet"&&!Me.isMobile())return{accounts:[],chainId:void 0};if(e.id===he.CONNECTOR_ID.AUTH)return{accounts:[],chainId:void 0};const[t,n]=await Promise.all([e.provider?.request({method:"eth_accounts"}),e.provider?.request({method:"eth_chainId"}).then(r=>Number(r))]);return{accounts:t,chainId:n}}catch(t){return console.warn(`Failed to fetch provider data for ${e.name}`,t),{accounts:[],chainId:void 0}}}};/**
 * @license
 * Copyright 2019 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const W0=globalThis,iC=W0.ShadowRoot&&(W0.ShadyCSS===void 0||W0.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,oC=Symbol(),W5=new WeakMap;let CR=class{constructor(t,n,r){if(this._$cssResult$=!0,r!==oC)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=t,this.t=n}get styleSheet(){let t=this.o;const n=this.t;if(iC&&t===void 0){const r=n!==void 0&&n.length===1;r&&(t=W5.get(n)),t===void 0&&((this.o=t=new CSSStyleSheet).replaceSync(this.cssText),r&&W5.set(n,t))}return t}toString(){return this.cssText}};const Us=e=>new CR(typeof e=="string"?e:e+"",void 0,oC),If=(e,...t)=>{const n=e.length===1?e[0]:t.reduce(((r,s,o)=>r+(c=>{if(c._$cssResult$===!0)return c.cssText;if(typeof c=="number")return c;throw Error("Value passed to 'css' function must be a 'css' function result: "+c+". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.")})(s)+e[o+1]),e[0]);return new CR(n,e,oC)},ihe=(e,t)=>{if(iC)e.adoptedStyleSheets=t.map((n=>n instanceof CSSStyleSheet?n:n.styleSheet));else for(const n of t){const r=document.createElement("style"),s=W0.litNonce;s!==void 0&&r.setAttribute("nonce",s),r.textContent=n.cssText,e.appendChild(r)}},K5=iC?e=>e:e=>e instanceof CSSStyleSheet?(t=>{let n="";for(const r of t.cssRules)n+=r.cssText;return Us(n)})(e):e;/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const{is:ohe,defineProperty:ahe,getOwnPropertyDescriptor:che,getOwnPropertyNames:lhe,getOwnPropertySymbols:uhe,getPrototypeOf:fhe}=Object,lw=globalThis,G5=lw.trustedTypes,hhe=G5?G5.emptyScript:"",dhe=lw.reactiveElementPolyfillSupport,ap=(e,t)=>e,tS={toAttribute(e,t){switch(t){case Boolean:e=e?hhe:null;break;case Object:case Array:e=e==null?e:JSON.stringify(e)}return e},fromAttribute(e,t){let n=e;switch(t){case Boolean:n=e!==null;break;case Number:n=e===null?null:Number(e);break;case Object:case Array:try{n=JSON.parse(e)}catch{n=null}}return n}},xR=(e,t)=>!ohe(e,t),Y5={attribute:!0,type:String,converter:tS,reflect:!1,useDefault:!1,hasChanged:xR};Symbol.metadata??=Symbol("metadata"),lw.litPropertyMetadata??=new WeakMap;let ff=class extends HTMLElement{static addInitializer(t){this._$Ei(),(this.l??=[]).push(t)}static get observedAttributes(){return this.finalize(),this._$Eh&&[...this._$Eh.keys()]}static createProperty(t,n=Y5){if(n.state&&(n.attribute=!1),this._$Ei(),this.prototype.hasOwnProperty(t)&&((n=Object.create(n)).wrapped=!0),this.elementProperties.set(t,n),!n.noAccessor){const r=Symbol(),s=this.getPropertyDescriptor(t,r,n);s!==void 0&&ahe(this.prototype,t,s)}}static getPropertyDescriptor(t,n,r){const{get:s,set:o}=che(this.prototype,t)??{get(){return this[n]},set(c){this[n]=c}};return{get:s,set(c){const l=s?.call(this);o?.call(this,c),this.requestUpdate(t,l,r)},configurable:!0,enumerable:!0}}static getPropertyOptions(t){return this.elementProperties.get(t)??Y5}static _$Ei(){if(this.hasOwnProperty(ap("elementProperties")))return;const t=fhe(this);t.finalize(),t.l!==void 0&&(this.l=[...t.l]),this.elementProperties=new Map(t.elementProperties)}static finalize(){if(this.hasOwnProperty(ap("finalized")))return;if(this.finalized=!0,this._$Ei(),this.hasOwnProperty(ap("properties"))){const n=this.properties,r=[...lhe(n),...uhe(n)];for(const s of r)this.createProperty(s,n[s])}const t=this[Symbol.metadata];if(t!==null){const n=litPropertyMetadata.get(t);if(n!==void 0)for(const[r,s]of n)this.elementProperties.set(r,s)}this._$Eh=new Map;for(const[n,r]of this.elementProperties){const s=this._$Eu(n,r);s!==void 0&&this._$Eh.set(s,n)}this.elementStyles=this.finalizeStyles(this.styles)}static finalizeStyles(t){const n=[];if(Array.isArray(t)){const r=new Set(t.flat(1/0).reverse());for(const s of r)n.unshift(K5(s))}else t!==void 0&&n.push(K5(t));return n}static _$Eu(t,n){const r=n.attribute;return r===!1?void 0:typeof r=="string"?r:typeof t=="string"?t.toLowerCase():void 0}constructor(){super(),this._$Ep=void 0,this.isUpdatePending=!1,this.hasUpdated=!1,this._$Em=null,this._$Ev()}_$Ev(){this._$ES=new Promise((t=>this.enableUpdating=t)),this._$AL=new Map,this._$E_(),this.requestUpdate(),this.constructor.l?.forEach((t=>t(this)))}addController(t){(this._$EO??=new Set).add(t),this.renderRoot!==void 0&&this.isConnected&&t.hostConnected?.()}removeController(t){this._$EO?.delete(t)}_$E_(){const t=new Map,n=this.constructor.elementProperties;for(const r of n.keys())this.hasOwnProperty(r)&&(t.set(r,this[r]),delete this[r]);t.size>0&&(this._$Ep=t)}createRenderRoot(){const t=this.shadowRoot??this.attachShadow(this.constructor.shadowRootOptions);return ihe(t,this.constructor.elementStyles),t}connectedCallback(){this.renderRoot??=this.createRenderRoot(),this.enableUpdating(!0),this._$EO?.forEach((t=>t.hostConnected?.()))}enableUpdating(t){}disconnectedCallback(){this._$EO?.forEach((t=>t.hostDisconnected?.()))}attributeChangedCallback(t,n,r){this._$AK(t,r)}_$ET(t,n){const r=this.constructor.elementProperties.get(t),s=this.constructor._$Eu(t,r);if(s!==void 0&&r.reflect===!0){const o=(r.converter?.toAttribute!==void 0?r.converter:tS).toAttribute(n,r.type);this._$Em=t,o==null?this.removeAttribute(s):this.setAttribute(s,o),this._$Em=null}}_$AK(t,n){const r=this.constructor,s=r._$Eh.get(t);if(s!==void 0&&this._$Em!==s){const o=r.getPropertyOptions(s),c=typeof o.converter=="function"?{fromAttribute:o.converter}:o.converter?.fromAttribute!==void 0?o.converter:tS;this._$Em=s;const l=c.fromAttribute(n,o.type);this[s]=l??this._$Ej?.get(s)??l,this._$Em=null}}requestUpdate(t,n,r){if(t!==void 0){const s=this.constructor,o=this[t];if(r??=s.getPropertyOptions(t),!((r.hasChanged??xR)(o,n)||r.useDefault&&r.reflect&&o===this._$Ej?.get(t)&&!this.hasAttribute(s._$Eu(t,r))))return;this.C(t,n,r)}this.isUpdatePending===!1&&(this._$ES=this._$EP())}C(t,n,{useDefault:r,reflect:s,wrapped:o},c){r&&!(this._$Ej??=new Map).has(t)&&(this._$Ej.set(t,c??n??this[t]),o!==!0||c!==void 0)||(this._$AL.has(t)||(this.hasUpdated||r||(n=void 0),this._$AL.set(t,n)),s===!0&&this._$Em!==t&&(this._$Eq??=new Set).add(t))}async _$EP(){this.isUpdatePending=!0;try{await this._$ES}catch(n){Promise.reject(n)}const t=this.scheduleUpdate();return t!=null&&await t,!this.isUpdatePending}scheduleUpdate(){return this.performUpdate()}performUpdate(){if(!this.isUpdatePending)return;if(!this.hasUpdated){if(this.renderRoot??=this.createRenderRoot(),this._$Ep){for(const[s,o]of this._$Ep)this[s]=o;this._$Ep=void 0}const r=this.constructor.elementProperties;if(r.size>0)for(const[s,o]of r){const{wrapped:c}=o,l=this[s];c!==!0||this._$AL.has(s)||l===void 0||this.C(s,void 0,o,l)}}let t=!1;const n=this._$AL;try{t=this.shouldUpdate(n),t?(this.willUpdate(n),this._$EO?.forEach((r=>r.hostUpdate?.())),this.update(n)):this._$EM()}catch(r){throw t=!1,this._$EM(),r}t&&this._$AE(n)}willUpdate(t){}_$AE(t){this._$EO?.forEach((n=>n.hostUpdated?.())),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(t)),this.updated(t)}_$EM(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$ES}shouldUpdate(t){return!0}update(t){this._$Eq&&=this._$Eq.forEach((n=>this._$ET(n,this[n]))),this._$EM()}updated(t){}firstUpdated(t){}};ff.elementStyles=[],ff.shadowRootOptions={mode:"open"},ff[ap("elementProperties")]=new Map,ff[ap("finalized")]=new Map,dhe?.({ReactiveElement:ff}),(lw.reactiveElementVersions??=[]).push("2.1.1");/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const aC=globalThis,_y=aC.trustedTypes,X5=_y?_y.createPolicy("lit-html",{createHTML:e=>e}):void 0,NR="$lit$",Qa=`lit$${Math.random().toFixed(9).slice(2)}$`,TR="?"+Qa,phe=`<${TR}>`,Ll=document,eg=()=>Ll.createComment(""),tg=e=>e===null||typeof e!="object"&&typeof e!="function",cC=Array.isArray,ghe=e=>cC(e)||typeof e?.[Symbol.iterator]=="function",r2=`[ 	
\f\r]`,$d=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,Z5=/-->/g,Q5=/>/g,nl=RegExp(`>|${r2}(?:([^\\s"'>=/]+)(${r2}*=${r2}*(?:[^ 	
\f\r"'\`<>=]|("|')|))|$)`,"g"),J5=/'/g,e6=/"/g,_R=/^(?:script|style|textarea|title)$/i,IR=e=>(t,...n)=>({_$litType$:e,strings:t,values:n}),sge=IR(1),ige=IR(2),Wf=Symbol.for("lit-noChange"),$n=Symbol.for("lit-nothing"),t6=new WeakMap,El=Ll.createTreeWalker(Ll,129);function OR(e,t){if(!cC(e)||!e.hasOwnProperty("raw"))throw Error("invalid template strings array");return X5!==void 0?X5.createHTML(t):t}const mhe=(e,t)=>{const n=e.length-1,r=[];let s,o=t===2?"<svg>":t===3?"<math>":"",c=$d;for(let l=0;l<n;l++){const f=e[l];let d,p,g=-1,y=0;for(;y<f.length&&(c.lastIndex=y,p=c.exec(f),p!==null);)y=c.lastIndex,c===$d?p[1]==="!--"?c=Z5:p[1]!==void 0?c=Q5:p[2]!==void 0?(_R.test(p[2])&&(s=RegExp("</"+p[2],"g")),c=nl):p[3]!==void 0&&(c=nl):c===nl?p[0]===">"?(c=s??$d,g=-1):p[1]===void 0?g=-2:(g=c.lastIndex-p[2].length,d=p[1],c=p[3]===void 0?nl:p[3]==='"'?e6:J5):c===e6||c===J5?c=nl:c===Z5||c===Q5?c=$d:(c=nl,s=void 0);const b=c===nl&&e[l+1].startsWith("/>")?" ":"";o+=c===$d?f+phe:g>=0?(r.push(d),f.slice(0,g)+NR+f.slice(g)+Qa+b):f+Qa+(g===-2?l:b)}return[OR(e,o+(e[n]||"<?>")+(t===2?"</svg>":t===3?"</math>":"")),r]};let nS=class DR{constructor({strings:t,_$litType$:n},r){let s;this.parts=[];let o=0,c=0;const l=t.length-1,f=this.parts,[d,p]=mhe(t,n);if(this.el=DR.createElement(d,r),El.currentNode=this.el.content,n===2||n===3){const g=this.el.content.firstChild;g.replaceWith(...g.childNodes)}for(;(s=El.nextNode())!==null&&f.length<l;){if(s.nodeType===1){if(s.hasAttributes())for(const g of s.getAttributeNames())if(g.endsWith(NR)){const y=p[c++],b=s.getAttribute(g).split(Qa),v=/([.?@])?(.*)/.exec(y);f.push({type:1,index:o,name:v[2],strings:b,ctor:v[1]==="."?whe:v[1]==="?"?bhe:v[1]==="@"?vhe:uw}),s.removeAttribute(g)}else g.startsWith(Qa)&&(f.push({type:6,index:o}),s.removeAttribute(g));if(_R.test(s.tagName)){const g=s.textContent.split(Qa),y=g.length-1;if(y>0){s.textContent=_y?_y.emptyScript:"";for(let b=0;b<y;b++)s.append(g[b],eg()),El.nextNode(),f.push({type:2,index:++o});s.append(g[y],eg())}}}else if(s.nodeType===8)if(s.data===TR)f.push({type:2,index:o});else{let g=-1;for(;(g=s.data.indexOf(Qa,g+1))!==-1;)f.push({type:7,index:o}),g+=Qa.length-1}o++}}static createElement(t,n){const r=Ll.createElement("template");return r.innerHTML=t,r}};function Kf(e,t,n=e,r){if(t===Wf)return t;let s=r!==void 0?n._$Co?.[r]:n._$Cl;const o=tg(t)?void 0:t._$litDirective$;return s?.constructor!==o&&(s?._$AO?.(!1),o===void 0?s=void 0:(s=new o(e),s._$AT(e,n,r)),r!==void 0?(n._$Co??=[])[r]=s:n._$Cl=s),s!==void 0&&(t=Kf(e,s._$AS(e,t.values),s,r)),t}class yhe{constructor(t,n){this._$AV=[],this._$AN=void 0,this._$AD=t,this._$AM=n}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(t){const{el:{content:n},parts:r}=this._$AD,s=(t?.creationScope??Ll).importNode(n,!0);El.currentNode=s;let o=El.nextNode(),c=0,l=0,f=r[0];for(;f!==void 0;){if(c===f.index){let d;f.type===2?d=new lC(o,o.nextSibling,this,t):f.type===1?d=new f.ctor(o,f.name,f.strings,this,t):f.type===6&&(d=new Ehe(o,this,t)),this._$AV.push(d),f=r[++l]}c!==f?.index&&(o=El.nextNode(),c++)}return El.currentNode=Ll,s}p(t){let n=0;for(const r of this._$AV)r!==void 0&&(r.strings!==void 0?(r._$AI(t,r,n),n+=r.strings.length-2):r._$AI(t[n])),n++}}let lC=class MR{get _$AU(){return this._$AM?._$AU??this._$Cv}constructor(t,n,r,s){this.type=2,this._$AH=$n,this._$AN=void 0,this._$AA=t,this._$AB=n,this._$AM=r,this.options=s,this._$Cv=s?.isConnected??!0}get parentNode(){let t=this._$AA.parentNode;const n=this._$AM;return n!==void 0&&t?.nodeType===11&&(t=n.parentNode),t}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(t,n=this){t=Kf(this,t,n),tg(t)?t===$n||t==null||t===""?(this._$AH!==$n&&this._$AR(),this._$AH=$n):t!==this._$AH&&t!==Wf&&this._(t):t._$litType$!==void 0?this.$(t):t.nodeType!==void 0?this.T(t):ghe(t)?this.k(t):this._(t)}O(t){return this._$AA.parentNode.insertBefore(t,this._$AB)}T(t){this._$AH!==t&&(this._$AR(),this._$AH=this.O(t))}_(t){this._$AH!==$n&&tg(this._$AH)?this._$AA.nextSibling.data=t:this.T(Ll.createTextNode(t)),this._$AH=t}$(t){const{values:n,_$litType$:r}=t,s=typeof r=="number"?this._$AC(t):(r.el===void 0&&(r.el=nS.createElement(OR(r.h,r.h[0]),this.options)),r);if(this._$AH?._$AD===s)this._$AH.p(n);else{const o=new yhe(s,this),c=o.u(this.options);o.p(n),this.T(c),this._$AH=o}}_$AC(t){let n=t6.get(t.strings);return n===void 0&&t6.set(t.strings,n=new nS(t)),n}k(t){cC(this._$AH)||(this._$AH=[],this._$AR());const n=this._$AH;let r,s=0;for(const o of t)s===n.length?n.push(r=new MR(this.O(eg()),this.O(eg()),this,this.options)):r=n[s],r._$AI(o),s++;s<n.length&&(this._$AR(r&&r._$AB.nextSibling,s),n.length=s)}_$AR(t=this._$AA.nextSibling,n){for(this._$AP?.(!1,!0,n);t!==this._$AB;){const r=t.nextSibling;t.remove(),t=r}}setConnected(t){this._$AM===void 0&&(this._$Cv=t,this._$AP?.(t))}},uw=class{get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}constructor(t,n,r,s,o){this.type=1,this._$AH=$n,this._$AN=void 0,this.element=t,this.name=n,this._$AM=s,this.options=o,r.length>2||r[0]!==""||r[1]!==""?(this._$AH=Array(r.length-1).fill(new String),this.strings=r):this._$AH=$n}_$AI(t,n=this,r,s){const o=this.strings;let c=!1;if(o===void 0)t=Kf(this,t,n,0),c=!tg(t)||t!==this._$AH&&t!==Wf,c&&(this._$AH=t);else{const l=t;let f,d;for(t=o[0],f=0;f<o.length-1;f++)d=Kf(this,l[r+f],n,f),d===Wf&&(d=this._$AH[f]),c||=!tg(d)||d!==this._$AH[f],d===$n?t=$n:t!==$n&&(t+=(d??"")+o[f+1]),this._$AH[f]=d}c&&!s&&this.j(t)}j(t){t===$n?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,t??"")}};class whe extends uw{constructor(){super(...arguments),this.type=3}j(t){this.element[this.name]=t===$n?void 0:t}}class bhe extends uw{constructor(){super(...arguments),this.type=4}j(t){this.element.toggleAttribute(this.name,!!t&&t!==$n)}}class vhe extends uw{constructor(t,n,r,s,o){super(t,n,r,s,o),this.type=5}_$AI(t,n=this){if((t=Kf(this,t,n,0)??$n)===Wf)return;const r=this._$AH,s=t===$n&&r!==$n||t.capture!==r.capture||t.once!==r.once||t.passive!==r.passive,o=t!==$n&&(r===$n||s);s&&this.element.removeEventListener(this.name,this,r),o&&this.element.addEventListener(this.name,this,t),this._$AH=t}handleEvent(t){typeof this._$AH=="function"?this._$AH.call(this.options?.host??this.element,t):this._$AH.handleEvent(t)}}class Ehe{constructor(t,n,r){this.element=t,this.type=6,this._$AN=void 0,this._$AM=n,this.options=r}get _$AU(){return this._$AM._$AU}_$AI(t){Kf(this,t)}}const She=aC.litHtmlPolyfillSupport;She?.(nS,lC),(aC.litHtmlVersions??=[]).push("3.3.1");const Ahe=(e,t,n)=>{const r=n?.renderBefore??t;let s=r._$litPart$;if(s===void 0){const o=n?.renderBefore??null;r._$litPart$=s=new lC(t.insertBefore(eg(),o),o,void 0,n??{})}return s._$AI(e),s};/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const uC=globalThis;class K0 extends ff{constructor(){super(...arguments),this.renderOptions={host:this},this._$Do=void 0}createRenderRoot(){const t=super.createRenderRoot();return this.renderOptions.renderBefore??=t.firstChild,t}update(t){const n=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(t),this._$Do=Ahe(n,this.renderRoot,this.renderOptions)}connectedCallback(){super.connectedCallback(),this._$Do?.setConnected(!0)}disconnectedCallback(){super.disconnectedCallback(),this._$Do?.setConnected(!1)}render(){return Wf}}K0._$litElement$=!0,K0.finalized=!0,uC.litElementHydrateSupport?.({LitElement:K0});const Che=uC.litElementPolyfillSupport;Che?.({LitElement:K0});(uC.litElementVersions??=[]).push("4.2.1");let cp,ac,cc;function age(e,t){cp=document.createElement("style"),ac=document.createElement("style"),cc=document.createElement("style"),cp.textContent=Of(e).core.cssText,ac.textContent=Of(e).dark.cssText,cc.textContent=Of(e).light.cssText,document.head.appendChild(cp),document.head.appendChild(ac),document.head.appendChild(cc),$R(t)}function $R(e){ac&&cc&&(e==="light"?(ac.removeAttribute("media"),cc.media="enabled"):(cc.removeAttribute("media"),ac.media="enabled"))}function xhe(e){cp&&ac&&cc&&(cp.textContent=Of(e).core.cssText,ac.textContent=Of(e).dark.cssText,cc.textContent=Of(e).light.cssText)}function Of(e){return{core:If`
      @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap');
      @keyframes w3m-shake {
        0% {
          transform: scale(1) rotate(0deg);
        }
        20% {
          transform: scale(1) rotate(-1deg);
        }
        40% {
          transform: scale(1) rotate(1.5deg);
        }
        60% {
          transform: scale(1) rotate(-1.5deg);
        }
        80% {
          transform: scale(1) rotate(1deg);
        }
        100% {
          transform: scale(1) rotate(0deg);
        }
      }
      @keyframes w3m-iframe-fade-out {
        0% {
          opacity: 1;
        }
        100% {
          opacity: 0;
        }
      }
      @keyframes w3m-iframe-zoom-in {
        0% {
          transform: translateY(50px);
          opacity: 0;
        }
        100% {
          transform: translateY(0px);
          opacity: 1;
        }
      }
      @keyframes w3m-iframe-zoom-in-mobile {
        0% {
          transform: scale(0.95);
          opacity: 0;
        }
        100% {
          transform: scale(1);
          opacity: 1;
        }
      }
      :root {
        --w3m-modal-width: 360px;
        --w3m-color-mix-strength: ${Us(e?.["--w3m-color-mix-strength"]?`${e["--w3m-color-mix-strength"]}%`:"0%")};
        --w3m-font-family: ${Us(e?.["--w3m-font-family"]||"Inter, Segoe UI, Roboto, Oxygen, Ubuntu, Cantarell, Fira Sans, Droid Sans, Helvetica Neue, sans-serif;")};
        --w3m-font-size-master: ${Us(e?.["--w3m-font-size-master"]||"10px")};
        --w3m-border-radius-master: ${Us(e?.["--w3m-border-radius-master"]||"4px")};
        --w3m-z-index: ${Us(e?.["--w3m-z-index"]||999)};

        --wui-font-family: var(--w3m-font-family);

        --wui-font-size-mini: calc(var(--w3m-font-size-master) * 0.8);
        --wui-font-size-micro: var(--w3m-font-size-master);
        --wui-font-size-tiny: calc(var(--w3m-font-size-master) * 1.2);
        --wui-font-size-small: calc(var(--w3m-font-size-master) * 1.4);
        --wui-font-size-paragraph: calc(var(--w3m-font-size-master) * 1.6);
        --wui-font-size-medium: calc(var(--w3m-font-size-master) * 1.8);
        --wui-font-size-large: calc(var(--w3m-font-size-master) * 2);
        --wui-font-size-title-6: calc(var(--w3m-font-size-master) * 2.2);
        --wui-font-size-medium-title: calc(var(--w3m-font-size-master) * 2.4);
        --wui-font-size-2xl: calc(var(--w3m-font-size-master) * 4);

        --wui-border-radius-5xs: var(--w3m-border-radius-master);
        --wui-border-radius-4xs: calc(var(--w3m-border-radius-master) * 1.5);
        --wui-border-radius-3xs: calc(var(--w3m-border-radius-master) * 2);
        --wui-border-radius-xxs: calc(var(--w3m-border-radius-master) * 3);
        --wui-border-radius-xs: calc(var(--w3m-border-radius-master) * 4);
        --wui-border-radius-s: calc(var(--w3m-border-radius-master) * 5);
        --wui-border-radius-m: calc(var(--w3m-border-radius-master) * 7);
        --wui-border-radius-l: calc(var(--w3m-border-radius-master) * 9);
        --wui-border-radius-3xl: calc(var(--w3m-border-radius-master) * 20);

        --wui-font-weight-light: 400;
        --wui-font-weight-regular: 500;
        --wui-font-weight-medium: 600;
        --wui-font-weight-bold: 700;

        --wui-letter-spacing-2xl: -1.6px;
        --wui-letter-spacing-medium-title: -0.96px;
        --wui-letter-spacing-title-6: -0.88px;
        --wui-letter-spacing-large: -0.8px;
        --wui-letter-spacing-medium: -0.72px;
        --wui-letter-spacing-paragraph: -0.64px;
        --wui-letter-spacing-small: -0.56px;
        --wui-letter-spacing-tiny: -0.48px;
        --wui-letter-spacing-micro: -0.2px;
        --wui-letter-spacing-mini: -0.16px;

        --wui-spacing-0: 0px;
        --wui-spacing-4xs: 2px;
        --wui-spacing-3xs: 4px;
        --wui-spacing-xxs: 6px;
        --wui-spacing-2xs: 7px;
        --wui-spacing-xs: 8px;
        --wui-spacing-1xs: 10px;
        --wui-spacing-s: 12px;
        --wui-spacing-m: 14px;
        --wui-spacing-l: 16px;
        --wui-spacing-2l: 18px;
        --wui-spacing-xl: 20px;
        --wui-spacing-xxl: 24px;
        --wui-spacing-2xl: 32px;
        --wui-spacing-3xl: 40px;
        --wui-spacing-4xl: 90px;
        --wui-spacing-5xl: 95px;

        --wui-icon-box-size-xxs: 14px;
        --wui-icon-box-size-xs: 20px;
        --wui-icon-box-size-sm: 24px;
        --wui-icon-box-size-md: 32px;
        --wui-icon-box-size-mdl: 36px;
        --wui-icon-box-size-lg: 40px;
        --wui-icon-box-size-2lg: 48px;
        --wui-icon-box-size-xl: 64px;

        --wui-icon-size-inherit: inherit;
        --wui-icon-size-xxs: 10px;
        --wui-icon-size-xs: 12px;
        --wui-icon-size-sm: 14px;
        --wui-icon-size-md: 16px;
        --wui-icon-size-mdl: 18px;
        --wui-icon-size-lg: 20px;
        --wui-icon-size-xl: 24px;
        --wui-icon-size-xxl: 28px;

        --wui-wallet-image-size-inherit: inherit;
        --wui-wallet-image-size-sm: 40px;
        --wui-wallet-image-size-md: 56px;
        --wui-wallet-image-size-lg: 80px;

        --wui-visual-size-size-inherit: inherit;
        --wui-visual-size-sm: 40px;
        --wui-visual-size-md: 55px;
        --wui-visual-size-lg: 80px;

        --wui-box-size-md: 100px;
        --wui-box-size-lg: 120px;

        --wui-ease-out-power-2: cubic-bezier(0, 0, 0.22, 1);
        --wui-ease-out-power-1: cubic-bezier(0, 0, 0.55, 1);

        --wui-ease-in-power-3: cubic-bezier(0.66, 0, 1, 1);
        --wui-ease-in-power-2: cubic-bezier(0.45, 0, 1, 1);
        --wui-ease-in-power-1: cubic-bezier(0.3, 0, 1, 1);

        --wui-ease-inout-power-1: cubic-bezier(0.45, 0, 0.55, 1);

        --wui-duration-lg: 200ms;
        --wui-duration-md: 125ms;
        --wui-duration-sm: 75ms;

        --wui-path-network-sm: path(
          'M15.4 2.1a5.21 5.21 0 0 1 5.2 0l11.61 6.7a5.21 5.21 0 0 1 2.61 4.52v13.4c0 1.87-1 3.59-2.6 4.52l-11.61 6.7c-1.62.93-3.6.93-5.22 0l-11.6-6.7a5.21 5.21 0 0 1-2.61-4.51v-13.4c0-1.87 1-3.6 2.6-4.52L15.4 2.1Z'
        );

        --wui-path-network-md: path(
          'M43.4605 10.7248L28.0485 1.61089C25.5438 0.129705 22.4562 0.129705 19.9515 1.61088L4.53951 10.7248C2.03626 12.2051 0.5 14.9365 0.5 17.886V36.1139C0.5 39.0635 2.03626 41.7949 4.53951 43.2752L19.9515 52.3891C22.4562 53.8703 25.5438 53.8703 28.0485 52.3891L43.4605 43.2752C45.9637 41.7949 47.5 39.0635 47.5 36.114V17.8861C47.5 14.9365 45.9637 12.2051 43.4605 10.7248Z'
        );

        --wui-path-network-lg: path(
          'M78.3244 18.926L50.1808 2.45078C45.7376 -0.150261 40.2624 -0.150262 35.8192 2.45078L7.6756 18.926C3.23322 21.5266 0.5 26.3301 0.5 31.5248V64.4752C0.5 69.6699 3.23322 74.4734 7.6756 77.074L35.8192 93.5492C40.2624 96.1503 45.7376 96.1503 50.1808 93.5492L78.3244 77.074C82.7668 74.4734 85.5 69.6699 85.5 64.4752V31.5248C85.5 26.3301 82.7668 21.5266 78.3244 18.926Z'
        );

        --wui-width-network-sm: 36px;
        --wui-width-network-md: 48px;
        --wui-width-network-lg: 86px;

        --wui-height-network-sm: 40px;
        --wui-height-network-md: 54px;
        --wui-height-network-lg: 96px;

        --wui-icon-size-network-xs: 12px;
        --wui-icon-size-network-sm: 16px;
        --wui-icon-size-network-md: 24px;
        --wui-icon-size-network-lg: 42px;

        --wui-color-inherit: inherit;

        --wui-color-inverse-100: #fff;
        --wui-color-inverse-000: #000;

        --wui-cover: rgba(20, 20, 20, 0.8);

        --wui-color-modal-bg: var(--wui-color-modal-bg-base);

        --wui-color-accent-100: var(--wui-color-accent-base-100);
        --wui-color-accent-090: var(--wui-color-accent-base-090);
        --wui-color-accent-080: var(--wui-color-accent-base-080);

        --wui-color-success-100: var(--wui-color-success-base-100);
        --wui-color-success-125: var(--wui-color-success-base-125);

        --wui-color-warning-100: var(--wui-color-warning-base-100);

        --wui-color-error-100: var(--wui-color-error-base-100);
        --wui-color-error-125: var(--wui-color-error-base-125);

        --wui-color-blue-100: var(--wui-color-blue-base-100);
        --wui-color-blue-90: var(--wui-color-blue-base-90);

        --wui-icon-box-bg-error-100: var(--wui-icon-box-bg-error-base-100);
        --wui-icon-box-bg-blue-100: var(--wui-icon-box-bg-blue-base-100);
        --wui-icon-box-bg-success-100: var(--wui-icon-box-bg-success-base-100);
        --wui-icon-box-bg-inverse-100: var(--wui-icon-box-bg-inverse-base-100);

        --wui-all-wallets-bg-100: var(--wui-all-wallets-bg-100);

        --wui-avatar-border: var(--wui-avatar-border-base);

        --wui-thumbnail-border: var(--wui-thumbnail-border-base);

        --wui-wallet-button-bg: var(--wui-wallet-button-bg-base);

        --wui-box-shadow-blue: var(--wui-color-accent-glass-020);
      }

      @supports (background: color-mix(in srgb, white 50%, black)) {
        :root {
          --wui-color-modal-bg: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-modal-bg-base)
          );

          --wui-box-shadow-blue: color-mix(in srgb, var(--wui-color-accent-100) 20%, transparent);

          --wui-color-accent-100: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 100%,
            transparent
          );
          --wui-color-accent-090: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 90%,
            transparent
          );
          --wui-color-accent-080: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 80%,
            transparent
          );
          --wui-color-accent-glass-090: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 90%,
            transparent
          );
          --wui-color-accent-glass-080: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 80%,
            transparent
          );
          --wui-color-accent-glass-020: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 20%,
            transparent
          );
          --wui-color-accent-glass-015: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 15%,
            transparent
          );
          --wui-color-accent-glass-010: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 10%,
            transparent
          );
          --wui-color-accent-glass-005: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 5%,
            transparent
          );
          --wui-color-accent-002: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 2%,
            transparent
          );

          --wui-color-fg-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-100)
          );
          --wui-color-fg-125: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-125)
          );
          --wui-color-fg-150: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-150)
          );
          --wui-color-fg-175: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-175)
          );
          --wui-color-fg-200: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-200)
          );
          --wui-color-fg-225: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-225)
          );
          --wui-color-fg-250: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-250)
          );
          --wui-color-fg-275: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-275)
          );
          --wui-color-fg-300: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-300)
          );
          --wui-color-fg-325: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-325)
          );
          --wui-color-fg-350: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-350)
          );

          --wui-color-bg-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-100)
          );
          --wui-color-bg-125: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-125)
          );
          --wui-color-bg-150: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-150)
          );
          --wui-color-bg-175: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-175)
          );
          --wui-color-bg-200: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-200)
          );
          --wui-color-bg-225: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-225)
          );
          --wui-color-bg-250: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-250)
          );
          --wui-color-bg-275: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-275)
          );
          --wui-color-bg-300: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-300)
          );
          --wui-color-bg-325: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-325)
          );
          --wui-color-bg-350: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-350)
          );

          --wui-color-success-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-success-base-100)
          );
          --wui-color-success-125: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-success-base-125)
          );

          --wui-color-warning-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-warning-base-100)
          );

          --wui-color-error-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-error-base-100)
          );
          --wui-color-blue-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-blue-base-100)
          );
          --wui-color-blue-90: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-blue-base-90)
          );
          --wui-color-error-125: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-error-base-125)
          );

          --wui-icon-box-bg-error-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-icon-box-bg-error-base-100)
          );
          --wui-icon-box-bg-accent-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-icon-box-bg-blue-base-100)
          );
          --wui-icon-box-bg-success-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-icon-box-bg-success-base-100)
          );
          --wui-icon-box-bg-inverse-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-icon-box-bg-inverse-base-100)
          );

          --wui-all-wallets-bg-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-all-wallets-bg-100)
          );

          --wui-avatar-border: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-avatar-border-base)
          );

          --wui-thumbnail-border: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-thumbnail-border-base)
          );

          --wui-wallet-button-bg: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-wallet-button-bg-base)
          );
        }
      }
    `,light:If`
      :root {
        --w3m-color-mix: ${Us(e?.["--w3m-color-mix"]||"#fff")};
        --w3m-accent: ${Us(rc(e,"dark")["--w3m-accent"])};
        --w3m-default: #fff;

        --wui-color-modal-bg-base: ${Us(rc(e,"dark")["--w3m-background"])};
        --wui-color-accent-base-100: var(--w3m-accent);

        --wui-color-blueberry-100: hsla(230, 100%, 67%, 1);
        --wui-color-blueberry-090: hsla(231, 76%, 61%, 1);
        --wui-color-blueberry-080: hsla(230, 59%, 55%, 1);
        --wui-color-blueberry-050: hsla(231, 100%, 70%, 0.1);

        --wui-color-fg-100: #e4e7e7;
        --wui-color-fg-125: #d0d5d5;
        --wui-color-fg-150: #a8b1b1;
        --wui-color-fg-175: #a8b0b0;
        --wui-color-fg-200: #949e9e;
        --wui-color-fg-225: #868f8f;
        --wui-color-fg-250: #788080;
        --wui-color-fg-275: #788181;
        --wui-color-fg-300: #6e7777;
        --wui-color-fg-325: #9a9a9a;
        --wui-color-fg-350: #363636;

        --wui-color-bg-100: #141414;
        --wui-color-bg-125: #191a1a;
        --wui-color-bg-150: #1e1f1f;
        --wui-color-bg-175: #222525;
        --wui-color-bg-200: #272a2a;
        --wui-color-bg-225: #2c3030;
        --wui-color-bg-250: #313535;
        --wui-color-bg-275: #363b3b;
        --wui-color-bg-300: #3b4040;
        --wui-color-bg-325: #252525;
        --wui-color-bg-350: #ffffff;

        --wui-color-success-base-100: #26d962;
        --wui-color-success-base-125: #30a46b;

        --wui-color-warning-base-100: #f3a13f;

        --wui-color-error-base-100: #f25a67;
        --wui-color-error-base-125: #df4a34;

        --wui-color-blue-base-100: rgba(102, 125, 255, 1);
        --wui-color-blue-base-90: rgba(102, 125, 255, 0.9);

        --wui-color-success-glass-001: rgba(38, 217, 98, 0.01);
        --wui-color-success-glass-002: rgba(38, 217, 98, 0.02);
        --wui-color-success-glass-005: rgba(38, 217, 98, 0.05);
        --wui-color-success-glass-010: rgba(38, 217, 98, 0.1);
        --wui-color-success-glass-015: rgba(38, 217, 98, 0.15);
        --wui-color-success-glass-020: rgba(38, 217, 98, 0.2);
        --wui-color-success-glass-025: rgba(38, 217, 98, 0.25);
        --wui-color-success-glass-030: rgba(38, 217, 98, 0.3);
        --wui-color-success-glass-060: rgba(38, 217, 98, 0.6);
        --wui-color-success-glass-080: rgba(38, 217, 98, 0.8);

        --wui-color-success-glass-reown-020: rgba(48, 164, 107, 0.2);

        --wui-color-warning-glass-reown-020: rgba(243, 161, 63, 0.2);

        --wui-color-error-glass-001: rgba(242, 90, 103, 0.01);
        --wui-color-error-glass-002: rgba(242, 90, 103, 0.02);
        --wui-color-error-glass-005: rgba(242, 90, 103, 0.05);
        --wui-color-error-glass-010: rgba(242, 90, 103, 0.1);
        --wui-color-error-glass-015: rgba(242, 90, 103, 0.15);
        --wui-color-error-glass-020: rgba(242, 90, 103, 0.2);
        --wui-color-error-glass-025: rgba(242, 90, 103, 0.25);
        --wui-color-error-glass-030: rgba(242, 90, 103, 0.3);
        --wui-color-error-glass-060: rgba(242, 90, 103, 0.6);
        --wui-color-error-glass-080: rgba(242, 90, 103, 0.8);

        --wui-color-error-glass-reown-020: rgba(223, 74, 52, 0.2);

        --wui-color-gray-glass-001: rgba(255, 255, 255, 0.01);
        --wui-color-gray-glass-002: rgba(255, 255, 255, 0.02);
        --wui-color-gray-glass-005: rgba(255, 255, 255, 0.05);
        --wui-color-gray-glass-010: rgba(255, 255, 255, 0.1);
        --wui-color-gray-glass-015: rgba(255, 255, 255, 0.15);
        --wui-color-gray-glass-020: rgba(255, 255, 255, 0.2);
        --wui-color-gray-glass-025: rgba(255, 255, 255, 0.25);
        --wui-color-gray-glass-030: rgba(255, 255, 255, 0.3);
        --wui-color-gray-glass-060: rgba(255, 255, 255, 0.6);
        --wui-color-gray-glass-080: rgba(255, 255, 255, 0.8);
        --wui-color-gray-glass-090: rgba(255, 255, 255, 0.9);

        --wui-color-dark-glass-100: rgba(42, 42, 42, 1);

        --wui-icon-box-bg-error-base-100: #3c2426;
        --wui-icon-box-bg-blue-base-100: #20303f;
        --wui-icon-box-bg-success-base-100: #1f3a28;
        --wui-icon-box-bg-inverse-base-100: #243240;

        --wui-all-wallets-bg-100: #222b35;

        --wui-avatar-border-base: #252525;

        --wui-thumbnail-border-base: #252525;

        --wui-wallet-button-bg-base: var(--wui-color-bg-125);

        --w3m-card-embedded-shadow-color: rgb(17 17 18 / 25%);
      }
    `,dark:If`
      :root {
        --w3m-color-mix: ${Us(e?.["--w3m-color-mix"]||"#000")};
        --w3m-accent: ${Us(rc(e,"light")["--w3m-accent"])};
        --w3m-default: #000;

        --wui-color-modal-bg-base: ${Us(rc(e,"light")["--w3m-background"])};
        --wui-color-accent-base-100: var(--w3m-accent);

        --wui-color-blueberry-100: hsla(231, 100%, 70%, 1);
        --wui-color-blueberry-090: hsla(231, 97%, 72%, 1);
        --wui-color-blueberry-080: hsla(231, 92%, 74%, 1);

        --wui-color-fg-100: #141414;
        --wui-color-fg-125: #2d3131;
        --wui-color-fg-150: #474d4d;
        --wui-color-fg-175: #636d6d;
        --wui-color-fg-200: #798686;
        --wui-color-fg-225: #828f8f;
        --wui-color-fg-250: #8b9797;
        --wui-color-fg-275: #95a0a0;
        --wui-color-fg-300: #9ea9a9;
        --wui-color-fg-325: #9a9a9a;
        --wui-color-fg-350: #d0d0d0;

        --wui-color-bg-100: #ffffff;
        --wui-color-bg-125: #f5fafa;
        --wui-color-bg-150: #f3f8f8;
        --wui-color-bg-175: #eef4f4;
        --wui-color-bg-200: #eaf1f1;
        --wui-color-bg-225: #e5eded;
        --wui-color-bg-250: #e1e9e9;
        --wui-color-bg-275: #dce7e7;
        --wui-color-bg-300: #d8e3e3;
        --wui-color-bg-325: #f3f3f3;
        --wui-color-bg-350: #202020;

        --wui-color-success-base-100: #26b562;
        --wui-color-success-base-125: #30a46b;

        --wui-color-warning-base-100: #f3a13f;

        --wui-color-error-base-100: #f05142;
        --wui-color-error-base-125: #df4a34;

        --wui-color-blue-base-100: rgba(102, 125, 255, 1);
        --wui-color-blue-base-90: rgba(102, 125, 255, 0.9);

        --wui-color-success-glass-001: rgba(38, 181, 98, 0.01);
        --wui-color-success-glass-002: rgba(38, 181, 98, 0.02);
        --wui-color-success-glass-005: rgba(38, 181, 98, 0.05);
        --wui-color-success-glass-010: rgba(38, 181, 98, 0.1);
        --wui-color-success-glass-015: rgba(38, 181, 98, 0.15);
        --wui-color-success-glass-020: rgba(38, 181, 98, 0.2);
        --wui-color-success-glass-025: rgba(38, 181, 98, 0.25);
        --wui-color-success-glass-030: rgba(38, 181, 98, 0.3);
        --wui-color-success-glass-060: rgba(38, 181, 98, 0.6);
        --wui-color-success-glass-080: rgba(38, 181, 98, 0.8);

        --wui-color-success-glass-reown-020: rgba(48, 164, 107, 0.2);

        --wui-color-warning-glass-reown-020: rgba(243, 161, 63, 0.2);

        --wui-color-error-glass-001: rgba(240, 81, 66, 0.01);
        --wui-color-error-glass-002: rgba(240, 81, 66, 0.02);
        --wui-color-error-glass-005: rgba(240, 81, 66, 0.05);
        --wui-color-error-glass-010: rgba(240, 81, 66, 0.1);
        --wui-color-error-glass-015: rgba(240, 81, 66, 0.15);
        --wui-color-error-glass-020: rgba(240, 81, 66, 0.2);
        --wui-color-error-glass-025: rgba(240, 81, 66, 0.25);
        --wui-color-error-glass-030: rgba(240, 81, 66, 0.3);
        --wui-color-error-glass-060: rgba(240, 81, 66, 0.6);
        --wui-color-error-glass-080: rgba(240, 81, 66, 0.8);

        --wui-color-error-glass-reown-020: rgba(223, 74, 52, 0.2);

        --wui-icon-box-bg-error-base-100: #f4dfdd;
        --wui-icon-box-bg-blue-base-100: #d9ecfb;
        --wui-icon-box-bg-success-base-100: #daf0e4;
        --wui-icon-box-bg-inverse-base-100: #dcecfc;

        --wui-all-wallets-bg-100: #e8f1fa;

        --wui-avatar-border-base: #f3f4f4;

        --wui-thumbnail-border-base: #eaefef;

        --wui-wallet-button-bg-base: var(--wui-color-bg-125);

        --wui-color-gray-glass-001: rgba(0, 0, 0, 0.01);
        --wui-color-gray-glass-002: rgba(0, 0, 0, 0.02);
        --wui-color-gray-glass-005: rgba(0, 0, 0, 0.05);
        --wui-color-gray-glass-010: rgba(0, 0, 0, 0.1);
        --wui-color-gray-glass-015: rgba(0, 0, 0, 0.15);
        --wui-color-gray-glass-020: rgba(0, 0, 0, 0.2);
        --wui-color-gray-glass-025: rgba(0, 0, 0, 0.25);
        --wui-color-gray-glass-030: rgba(0, 0, 0, 0.3);
        --wui-color-gray-glass-060: rgba(0, 0, 0, 0.6);
        --wui-color-gray-glass-080: rgba(0, 0, 0, 0.8);
        --wui-color-gray-glass-090: rgba(0, 0, 0, 0.9);

        --wui-color-dark-glass-100: rgba(233, 233, 233, 1);

        --w3m-card-embedded-shadow-color: rgb(224 225 233 / 25%);
      }
    `}}const cge=If`
  *,
  *::after,
  *::before,
  :host {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
    font-style: normal;
    text-rendering: optimizeSpeed;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    -webkit-tap-highlight-color: transparent;
    font-family: var(--wui-font-family);
    backface-visibility: hidden;
  }
`,lge=If`
  button,
  a {
    cursor: pointer;
    display: flex;
    justify-content: center;
    align-items: center;
    position: relative;
    transition:
      color var(--wui-duration-lg) var(--wui-ease-out-power-1),
      background-color var(--wui-duration-lg) var(--wui-ease-out-power-1),
      border var(--wui-duration-lg) var(--wui-ease-out-power-1),
      border-radius var(--wui-duration-lg) var(--wui-ease-out-power-1),
      box-shadow var(--wui-duration-lg) var(--wui-ease-out-power-1);
    will-change: background-color, color, border, box-shadow, border-radius;
    outline: none;
    border: none;
    column-gap: var(--wui-spacing-3xs);
    background-color: transparent;
    text-decoration: none;
  }

  wui-flex {
    transition: border-radius var(--wui-duration-lg) var(--wui-ease-out-power-1);
    will-change: border-radius;
  }

  button:disabled > wui-wallet-image,
  button:disabled > wui-all-wallets-image,
  button:disabled > wui-network-image,
  button:disabled > wui-image,
  button:disabled > wui-transaction-visual,
  button:disabled > wui-logo {
    filter: grayscale(1);
  }

  @media (hover: hover) and (pointer: fine) {
    button:hover:enabled {
      background-color: var(--wui-color-gray-glass-005);
    }

    button:active:enabled {
      background-color: var(--wui-color-gray-glass-010);
    }
  }

  button:disabled > wui-icon-box {
    opacity: 0.5;
  }

  input {
    border: none;
    outline: none;
    appearance: none;
  }
`,uge=If`
  .wui-color-inherit {
    color: var(--wui-color-inherit);
  }

  .wui-color-accent-100 {
    color: var(--wui-color-accent-100);
  }

  .wui-color-error-100 {
    color: var(--wui-color-error-100);
  }

  .wui-color-blue-100 {
    color: var(--wui-color-blue-100);
  }

  .wui-color-blue-90 {
    color: var(--wui-color-blue-90);
  }

  .wui-color-error-125 {
    color: var(--wui-color-error-125);
  }

  .wui-color-success-100 {
    color: var(--wui-color-success-100);
  }

  .wui-color-success-125 {
    color: var(--wui-color-success-125);
  }

  .wui-color-inverse-100 {
    color: var(--wui-color-inverse-100);
  }

  .wui-color-inverse-000 {
    color: var(--wui-color-inverse-000);
  }

  .wui-color-fg-100 {
    color: var(--wui-color-fg-100);
  }

  .wui-color-fg-200 {
    color: var(--wui-color-fg-200);
  }

  .wui-color-fg-300 {
    color: var(--wui-color-fg-300);
  }

  .wui-color-fg-325 {
    color: var(--wui-color-fg-325);
  }

  .wui-color-fg-350 {
    color: var(--wui-color-fg-350);
  }

  .wui-bg-color-inherit {
    background-color: var(--wui-color-inherit);
  }

  .wui-bg-color-blue-100 {
    background-color: var(--wui-color-accent-100);
  }

  .wui-bg-color-error-100 {
    background-color: var(--wui-color-error-100);
  }

  .wui-bg-color-error-125 {
    background-color: var(--wui-color-error-125);
  }

  .wui-bg-color-success-100 {
    background-color: var(--wui-color-success-100);
  }

  .wui-bg-color-success-125 {
    background-color: var(--wui-color-success-100);
  }

  .wui-bg-color-inverse-100 {
    background-color: var(--wui-color-inverse-100);
  }

  .wui-bg-color-inverse-000 {
    background-color: var(--wui-color-inverse-000);
  }

  .wui-bg-color-fg-100 {
    background-color: var(--wui-color-fg-100);
  }

  .wui-bg-color-fg-200 {
    background-color: var(--wui-color-fg-200);
  }

  .wui-bg-color-fg-300 {
    background-color: var(--wui-color-fg-300);
  }

  .wui-color-fg-325 {
    background-color: var(--wui-color-fg-325);
  }

  .wui-color-fg-350 {
    background-color: var(--wui-color-fg-350);
  }
`,G0={hexStringToNumber(e){const t=e.startsWith("0x")?e.slice(2):e;return parseInt(t,16)},numberToHexString(e){return`0x${e.toString(16)}`},async getUserInfo(e){const[t,n]=await Promise.all([G0.getAddresses(e),G0.getChainId(e)]);return{chainId:n,addresses:t}},async getChainId(e){const t=await e.request({method:"eth_chainId"});return Number(t)},async getAddress(e){const[t]=await e.request({method:"eth_accounts"});return t},async getAddresses(e){return await e.request({method:"eth_accounts"})},async addEthereumChain(e,t){const n=t.rpcUrls.chainDefault?.http||[];await e.request({method:"wallet_addEthereumChain",params:[{chainId:G0.numberToHexString(t.id),rpcUrls:[...n],chainName:t.name,nativeCurrency:{name:t.nativeCurrency.name,decimals:t.nativeCurrency.decimals,symbol:t.nativeCurrency.symbol},blockExplorerUrls:[t.blockExplorers?.default.url],iconUrls:[Jp.NetworkImageIds[t.id]]}]})}},of={ACCOUNT_INDEXES:{PAYMENT:0,ORDINAL:1}};function xg(e){return{formatters:void 0,fees:void 0,serializers:void 0,...e}}const n6=xg({id:"5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp",name:"Solana",network:"solana-mainnet",nativeCurrency:{name:"Solana",symbol:"SOL",decimals:9},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}},blockExplorers:{default:{name:"Solscan",url:"https://solscan.io"}},testnet:!1,chainNamespace:"solana",caipNetworkId:"solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp",deprecatedCaipNetworkId:"solana:4sGjMW1sUnHzSxGspuhpqLDx6wiyjNtZ"}),r6=xg({id:"EtWTRABZaYq6iMfeYKouRu166VU2xqa1",name:"Solana Devnet",network:"solana-devnet",nativeCurrency:{name:"Solana",symbol:"SOL",decimals:9},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}},blockExplorers:{default:{name:"Solscan",url:"https://solscan.io"}},testnet:!0,chainNamespace:"solana",caipNetworkId:"solana:EtWTRABZaYq6iMfeYKouRu166VU2xqa1",deprecatedCaipNetworkId:"solana:8E9rvCKLFQia2Y35HXjjpWzj8weVo44K"});xg({id:"4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z",name:"Solana Testnet",network:"solana-testnet",nativeCurrency:{name:"Solana",symbol:"SOL",decimals:9},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}},blockExplorers:{default:{name:"Solscan",url:"https://solscan.io"}},testnet:!0,chainNamespace:"solana",caipNetworkId:"solana:4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z"});const UR=xg({id:"000000000019d6689c085ae165831e93",caipNetworkId:"bip122:000000000019d6689c085ae165831e93",chainNamespace:"bip122",name:"Bitcoin",nativeCurrency:{name:"Bitcoin",symbol:"BTC",decimals:8},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}}});xg({id:"000000000933ea01ad0ee984209779ba",caipNetworkId:"bip122:000000000933ea01ad0ee984209779ba",chainNamespace:"bip122",name:"Bitcoin Testnet",nativeCurrency:{name:"Bitcoin",symbol:"BTC",decimals:8},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}},testnet:!0});const Nhe={solana:["solana_signMessage","solana_signTransaction","solana_requestAccounts","solana_getAccounts","solana_signAllTransactions","solana_signAndSendTransaction"],eip155:["eth_accounts","eth_requestAccounts","eth_sendRawTransaction","eth_sign","eth_signTransaction","eth_signTypedData","eth_signTypedData_v3","eth_signTypedData_v4","eth_sendTransaction","personal_sign","wallet_switchEthereumChain","wallet_addEthereumChain","wallet_getPermissions","wallet_requestPermissions","wallet_registerOnboarding","wallet_watchAsset","wallet_scanQRCode","wallet_getCallsStatus","wallet_showCallsStatus","wallet_sendCalls","wallet_getCapabilities","wallet_grantPermissions","wallet_revokePermissions","wallet_getAssets"],bip122:["sendTransfer","signMessage","signPsbt","getAccountAddresses"]},Vo={getMethodsByChainNamespace(e){return Nhe[e]||[]},createDefaultNamespace(e){return{methods:this.getMethodsByChainNamespace(e),events:["accountsChanged","chainChanged"],chains:[],rpcMap:{}}},applyNamespaceOverrides(e,t){if(!t)return{...e};const n={...e},r=new Set;if(t.methods&&Object.keys(t.methods).forEach(s=>r.add(s)),t.chains&&Object.keys(t.chains).forEach(s=>r.add(s)),t.events&&Object.keys(t.events).forEach(s=>r.add(s)),t.rpcMap&&Object.keys(t.rpcMap).forEach(s=>{const[o]=s.split(":");o&&r.add(o)}),r.forEach(s=>{n[s]||(n[s]=this.createDefaultNamespace(s))}),t.methods&&Object.entries(t.methods).forEach(([s,o])=>{n[s]&&(n[s].methods=o)}),t.chains&&Object.entries(t.chains).forEach(([s,o])=>{n[s]&&(n[s].chains=o)}),t.events&&Object.entries(t.events).forEach(([s,o])=>{n[s]&&(n[s].events=o)}),t.rpcMap){const s=new Set;Object.entries(t.rpcMap).forEach(([o,c])=>{const[l,f]=o.split(":");!l||!f||!n[l]||(n[l].rpcMap||(n[l].rpcMap={}),s.has(l)||(n[l].rpcMap={},s.add(l)),n[l].rpcMap[f]=c)})}return n},createNamespaces(e,t){const n=e.reduce((r,s)=>{const{id:o,chainNamespace:c,rpcUrls:l}=s,f=l.default.http[0];r[c]||(r[c]=this.createDefaultNamespace(c));const d=`${c}:${o}`,p=r[c];switch(p.chains.push(d),d){case n6.caipNetworkId:p.chains.push(n6.deprecatedCaipNetworkId);break;case r6.caipNetworkId:p.chains.push(r6.deprecatedCaipNetworkId);break}return p?.rpcMap&&f&&(p.rpcMap[o]=f),r},{});return this.applyNamespaceOverrides(n,t)},resolveReownName:async e=>{const t=await op.resolveName(e);return(Object.values(t?.addresses)||[])[0]?.address||!1},getChainsFromNamespaces(e={}){return Object.values(e).flatMap(t=>{const n=t.chains||[],r=t.accounts.map(s=>{const[o,c]=s.split(":");return`${o}:${c}`});return Array.from(new Set([...n,...r]))})},isSessionEventData(e){return typeof e=="object"&&e!==null&&"id"in e&&"topic"in e&&"params"in e&&typeof e.params=="object"&&e.params!==null&&"chainId"in e.params&&"event"in e.params&&typeof e.params.event=="object"&&e.params.event!==null},isOriginAllowed(e,t,n){for(const r of[...t,...n])if(r.includes("*")){const o=`^${r.replace(/[.*+?^${}()|[\]\\]/gu,"\\$&").replace(/\\\*/gu,".*")}$`;if(new RegExp(o,"u").test(e))return!0}else try{if(new URL(r).origin===e)return!0}catch{if(r===e)return!0}return!1},listenWcProvider({universalProvider:e,namespace:t,onConnect:n,onDisconnect:r,onAccountsChanged:s,onChainChanged:o,onDisplayUri:c}){n&&e.on("connect",()=>{const l=Vo.getWalletConnectAccounts(e,t);n(l)}),r&&e.on("disconnect",()=>{r()}),s&&e.on("session_event",l=>{if(Vo.isSessionEventData(l)){const{name:f,data:d}=l.params.event;if(f==="accountsChanged"&&Array.isArray(d)){const p=d.filter(g=>Me.isCaipAddress(g)).map(g=>cs.parseCaipAddress(g)).filter(g=>g.chainNamespace===t);s(p)}}}),o&&e.on("chainChanged",l=>{o(l)}),c&&e.on("display_uri",l=>{c(l)})},getWalletConnectAccounts(e,t){const n=new Set,r=e?.session?.namespaces?.[t]?.accounts?.map(s=>cs.parseCaipAddress(s)).filter(({address:s})=>n.has(s.toLowerCase())?!1:(n.add(s.toLowerCase()),!0));return r&&r.length>0?r:[]}};class The{constructor(t){this.namespace=t.namespace}async syncConnections(t){switch(this.namespace){case he.CHAIN.EVM:await this.syncEVMConnections(t);break;case he.CHAIN.SOLANA:await this.syncSolanaConnections(t);break;case he.CHAIN.BITCOIN:await this.syncBitcoinConnections(t);break;default:throw new Error(`Unsupported chain namespace: ${this.namespace}`)}}async syncEVMConnections({connectors:t,caipNetworks:n,universalProvider:r,getConnectionStatusInfo:s,onConnection:o,onListenProvider:c}){await Promise.all(t.filter(l=>{const{hasDisconnected:f,hasConnected:d}=s(l.id);return!f&&d}).map(async l=>{if(l.id===he.CONNECTOR_ID.WALLET_CONNECT){const f=Vo.getWalletConnectAccounts(r,this.namespace),d=n.find(p=>p.chainNamespace===this.namespace&&p.id.toString()===f[0]?.chainId?.toString());f.length>0&&o({connectorId:l.id,accounts:f.map(p=>({address:p.address})),caipNetwork:d})}else{const{accounts:f,chainId:d}=await V0.fetchProviderData(l);if(f.length>0&&d){const p=n.find(g=>g.chainNamespace===this.namespace&&g.id.toString()===d.toString());o({connectorId:l.id,accounts:f.map(g=>({address:g})),caipNetwork:p}),l.provider&&l.id!==he.CONNECTOR_ID.AUTH&&l.id!==he.CONNECTOR_ID.WALLET_CONNECT&&c(l.id,l.provider)}}}))}async syncSolanaConnections({connectors:t,caipNetwork:n,universalProvider:r,getConnectionStatusInfo:s,onConnection:o,onListenProvider:c}){await Promise.all(t.filter(l=>{const{hasDisconnected:f,hasConnected:d}=s(l.id);return!f&&d}).map(async l=>{if(l.id===he.CONNECTOR_ID.WALLET_CONNECT){const f=Vo.getWalletConnectAccounts(r,this.namespace);f.length>0&&o({connectorId:l.id,accounts:f.map(d=>({address:d.address})),caipNetwork:n})}else{const f=await l.connect({chainId:n?.id});f&&(o({connectorId:l.id,accounts:[{address:f}],caipNetwork:n}),c(l.id,l.provider))}}))}async syncBitcoinConnections({connectors:t,caipNetwork:n,universalProvider:r,getConnectionStatusInfo:s,onConnection:o,onListenProvider:c}){await Promise.all(t.filter(l=>{const{hasDisconnected:f,hasConnected:d}=s(l.id);return!f&&d}).map(async l=>{if(l.id===he.CONNECTOR_ID.WALLET_CONNECT){const y=Vo.getWalletConnectAccounts(r,this.namespace);y.length>0&&o({connectorId:l.id,accounts:y.map(b=>({address:b.address})),caipNetwork:n});return}const f=await l.connect();let p=(await l.getAccountAddresses())?.map(y=>Me.createAccount(he.CHAIN.BITCOIN,y.address,y.purpose||"payment",y.publicKey,y.path));if(p&&p.length>1&&(p=[{namespace:he.CHAIN.BITCOIN,publicKey:p[of.ACCOUNT_INDEXES.PAYMENT]?.publicKey??"",path:p[of.ACCOUNT_INDEXES.PAYMENT]?.path??"",address:p[of.ACCOUNT_INDEXES.PAYMENT]?.address??"",type:"payment"},{namespace:he.CHAIN.BITCOIN,publicKey:p[of.ACCOUNT_INDEXES.ORDINAL]?.publicKey??"",path:p[of.ACCOUNT_INDEXES.ORDINAL]?.path??"",address:p[of.ACCOUNT_INDEXES.ORDINAL]?.address??"",type:"ordinal"}]),!(l.chains.find(y=>y.id===n?.id)||l.chains[0]))throw new Error("The connector does not support any of the requested chains");f&&(c(l.id,l.provider),o({connectorId:l.id,accounts:p.map(y=>({address:y.address,type:y.type})),caipNetwork:n}))}))}getConnection({address:t,connectorId:n,connections:r,connectors:s}){if(n){const c=r.find(d=>ls.isLowerCaseMatch(d.connectorId,n));if(!c)return null;const l=s.find(d=>ls.isLowerCaseMatch(d.id,c.connectorId)),f=t?c.accounts.find(d=>ls.isLowerCaseMatch(d.address,t)):c.accounts[0];return{...c,account:f,connector:l}}const o=r.find(c=>c.accounts.length>0&&s.some(l=>ls.isLowerCaseMatch(l.id,c.connectorId)));if(o){const[c]=o.accounts,l=s.find(f=>ls.isLowerCaseMatch(f.id,o.connectorId));return{...o,account:c,connector:l}}return null}}const zd={ERROR_CODE_UNRECOGNIZED_CHAIN_ID:4902,ERROR_CODE_DEFAULT:5e3,ERROR_INVALID_CHAIN_ID:32603,DEFAULT_ALLOWED_ANCESTORS:["http://localhost:*","https://localhost:*","http://127.0.0.1:*","https://127.0.0.1:*","https://*.pages.dev","https://*.vercel.app","https://*.ngrok-free.app","https://secure-mobile.walletconnect.com","https://secure-mobile.walletconnect.org"]};class RR{constructor({provider:t,namespace:n}){this.id=he.CONNECTOR_ID.WALLET_CONNECT,this.name=Jp.ConnectorNamesMap[he.CONNECTOR_ID.WALLET_CONNECT],this.type="WALLET_CONNECT",this.imageId=Jp.ConnectorImageIds[he.CONNECTOR_ID.WALLET_CONNECT],this.getCaipNetworks=z.getCaipNetworks.bind(z),this.caipNetworks=this.getCaipNetworks(),this.provider=t,this.chain=n}get chains(){return this.getCaipNetworks()}async connectWalletConnect(){if(!await this.authenticate()){const n=this.getCaipNetworks(),r=fe.state.universalProviderConfigOverride,s=Vo.createNamespaces(n,r);await this.provider.connect({optionalNamespaces:s})}return{clientId:await this.provider.client.core.crypto.getClientId(),session:this.provider.session}}async disconnect(){await this.provider.disconnect()}async authenticate(){const t=this.chains.map(n=>n.caipNetworkId);return Fi.universalProviderAuthenticate({universalProvider:this.provider,chains:t,methods:_he})}}const _he=["eth_accounts","eth_requestAccounts","eth_sendRawTransaction","eth_sign","eth_signTransaction","eth_signTypedData","eth_signTypedData_v3","eth_signTypedData_v4","eth_sendTransaction","personal_sign","wallet_switchEthereumChain","wallet_addEthereumChain","wallet_getPermissions","wallet_requestPermissions","wallet_registerOnboarding","wallet_watchAsset","wallet_scanQRCode","wallet_getCallsStatus","wallet_sendCalls","wallet_getCapabilities","wallet_grantPermissions","wallet_revokePermissions","wallet_getAssets"],Ihe=[he.CONNECTOR_ID.AUTH,he.CONNECTOR_ID.WALLET_CONNECT];class Ohe{constructor(t){this.availableConnectors=[],this.availableConnections=[],this.providerHandlers={},this.eventListeners=new Map,this.getCaipNetworks=n=>z.getCaipNetworks(n),this.getConnectorId=n=>be.getConnectorId(n),t&&this.construct(t),t?.namespace&&(this.connectionManager=new The({namespace:t.namespace}))}construct(t){this.projectId=t.projectId,this.namespace=t.namespace,this.adapterType=t.adapterType}get connectors(){return this.availableConnectors}get connections(){return this.availableConnections}get networks(){return this.getCaipNetworks(this.namespace)}onAuthConnected({accounts:t,chainId:n}){const r=this.getCaipNetworks().filter(s=>s.chainNamespace===this.namespace).find(s=>s.id.toString()===n?.toString());t&&r&&this.addConnection({connectorId:he.CONNECTOR_ID.AUTH,accounts:t,caipNetwork:r})}setAuthProvider(t){t.onConnect(this.onAuthConnected.bind(this)),t.onSocialConnected(this.onAuthConnected.bind(this)),this.addConnector({id:he.CONNECTOR_ID.AUTH,type:"AUTH",name:he.CONNECTOR_NAMES.AUTH,provider:t,imageId:Jp.ConnectorImageIds[he.CONNECTOR_ID.AUTH],chain:this.namespace,chains:[]})}addConnector(...t){const n=new Set;this.availableConnectors=[...t,...this.availableConnectors].filter(r=>n.has(r.id)?!1:(n.add(r.id),!0)),this.emit("connectors",this.availableConnectors)}addConnection(...t){const n=new Set;this.availableConnections=[...t,...this.availableConnections].filter(r=>n.has(r.connectorId.toLowerCase())?!1:(n.add(r.connectorId.toLowerCase()),!0)),this.emit("connections",this.availableConnections)}deleteConnection(t){this.availableConnections=this.availableConnections.filter(n=>!ls.isLowerCaseMatch(n.connectorId,t)),this.emit("connections",this.availableConnections)}clearConnections(t=!1){this.availableConnections=[],t&&this.emit("connections",this.availableConnections)}setStatus(t,n){De.setStatus(t,n)}on(t,n){this.eventListeners.has(t)||this.eventListeners.set(t,new Set),this.eventListeners.get(t)?.add(n)}off(t,n){const r=this.eventListeners.get(t);r&&r.delete(n)}removeAllEventListeners(){this.eventListeners.forEach(t=>{t.clear()})}emit(t,n){const r=this.eventListeners.get(t);r&&r.forEach(s=>s(n))}async connectWalletConnect(t){return{clientId:(await this.getWalletConnectConnector().connectWalletConnect()).clientId}}async switchNetwork(t){const{caipNetwork:n,providerType:r}=t;if(!t.provider)return;const s="provider"in t.provider?t.provider.provider:t.provider;if(r==="WALLET_CONNECT"){s.setDefaultChain(n.caipNetworkId);return}if(s&&r==="AUTH"){const o=s,c=eo(n.chainNamespace);await o.switchNetwork({chainId:n.caipNetworkId});const l=await o.getUser({chainId:n.caipNetworkId,preferredAccountType:c});this.emit("switchNetwork",l)}}getWalletConnectConnector(){const t=this.connectors.find(n=>n instanceof RR);if(!t)throw new Error("WalletConnectConnector not found");return t}onConnect(t,n){if(t.length>0){const{address:r,chainId:s}=Me.getAccount(t[0]),o=this.getCaipNetworks().filter(l=>l.chainNamespace===this.namespace).find(l=>l.id.toString()===s?.toString()),c=this.connectors.find(l=>l.id===n);r&&(this.emit("accountChanged",{address:r,chainId:s,connector:c}),this.addConnection({connectorId:n,accounts:t.map(l=>{const{address:f}=Me.getAccount(l);return{address:f}}),caipNetwork:o}))}}onAccountsChanged(t,n,r=!0){if(t.length>0){const{address:s}=Me.getAccount(t[0]),o=this.connectionManager?.getConnection({connectorId:n,connections:this.connections,connectors:this.connectors});s&&ls.isLowerCaseMatch(this.getConnectorId(he.CHAIN.EVM),n)&&this.emit("accountChanged",{address:s,chainId:o?.caipNetwork?.id,connector:o?.connector}),this.addConnection({connectorId:n,accounts:t.map(c=>{const{address:l}=Me.getAccount(c);return{address:l}}),caipNetwork:o?.caipNetwork})}else r&&this.onDisconnect(n)}onDisconnect(t){this.removeProviderListeners(t),this.deleteConnection(t),ls.isLowerCaseMatch(this.getConnectorId(he.CHAIN.EVM),t)&&this.emitFirstAvailableConnection(),this.connections.length===0&&this.emit("disconnect")}onChainChanged(t,n){const r=typeof t=="string"&&t.startsWith("0x")?G0.hexStringToNumber(t).toString():t.toString(),s=this.connectionManager?.getConnection({connectorId:n,connections:this.connections,connectors:this.connectors}),o=this.getCaipNetworks().filter(c=>c.chainNamespace===this.namespace).find(c=>c.id.toString()===r);s&&this.addConnection({connectorId:n,accounts:s.accounts,caipNetwork:o}),ls.isLowerCaseMatch(this.getConnectorId(he.CHAIN.EVM),n)&&this.emit("switchNetwork",{chainId:r})}listenProviderEvents(t,n){if(Ihe.includes(t))return;const r=c=>this.onAccountsChanged(c,t),s=c=>this.onChainChanged(c,t),o=()=>this.onDisconnect(t);this.providerHandlers[t]||(n.on("disconnect",o),n.on("accountsChanged",r),n.on("chainChanged",s),this.providerHandlers[t]={provider:n,disconnect:o,accountsChanged:r,chainChanged:s})}removeProviderListeners(t){if(this.providerHandlers[t]){const{provider:n,disconnect:r,accountsChanged:s,chainChanged:o}=this.providerHandlers[t];n.removeListener("disconnect",r),n.removeListener("accountsChanged",s),n.removeListener("chainChanged",o),this.providerHandlers[t]=null}}emitFirstAvailableConnection(){const t=this.connectionManager?.getConnection({connections:this.connections,connectors:this.connectors});if(t){const[n]=t.accounts;this.emit("accountChanged",{address:n?.address,chainId:t.caipNetwork?.id,connector:t.connector})}}}class Dhe extends Ohe{async setUniversalProvider(t){if(!this.namespace)throw new Error("UniversalAdapter:setUniversalProvider - namespace is required");return this.addConnector(new RR({provider:t,caipNetworks:this.getCaipNetworks(),namespace:this.namespace})),Promise.resolve()}async connect(t){return Promise.resolve({id:"WALLET_CONNECT",type:"WALLET_CONNECT",chainId:Number(t.chainId),provider:this.provider,address:""})}async disconnect(){try{await this.getWalletConnectConnector().disconnect(),this.emit("disconnect")}catch(t){console.warn("UniversalAdapter:disconnect - error",t)}return{connections:[]}}syncConnections(){return Promise.resolve()}async getAccounts({namespace:t}){const r=this.provider?.session?.namespaces?.[t]?.accounts?.map(s=>{const[,,o]=s.split(":");return o}).filter((s,o,c)=>c.indexOf(s)===o)||[];return Promise.resolve({accounts:r.map(s=>Me.createAccount(t,s,t==="bip122"?"payment":"eoa"))})}async syncConnectors(){return Promise.resolve()}async getBalance(t){if(!(t.caipNetwork&&vt.BALANCE_SUPPORTED_CHAINS.includes(t.caipNetwork?.chainNamespace))||t.caipNetwork?.testnet)return{balance:"0.00",symbol:t.caipNetwork?.nativeCurrency.symbol||""};if(De.state.balanceLoading&&t.chainId===z.state.activeCaipNetwork?.id)return{balance:De.state.balance||"0.00",symbol:De.state.balanceSymbol||""};const s=(await De.fetchTokenBalance()).find(o=>o.chainId===`${t.caipNetwork?.chainNamespace}:${t.chainId}`&&o.symbol===t.caipNetwork?.nativeCurrency.symbol);return{balance:s?.quantity.numeric||"0.00",symbol:s?.symbol||t.caipNetwork?.nativeCurrency.symbol||""}}async signMessage(t){const{provider:n,message:r,address:s}=t;if(!n)throw new Error("UniversalAdapter:signMessage - provider is undefined");let o="";return z.state.activeCaipNetwork?.chainNamespace===he.CHAIN.SOLANA?o=(await n.request({method:"solana_signMessage",params:{message:ah.encode(new TextEncoder().encode(r)),pubkey:s}},z.state.activeCaipNetwork?.caipNetworkId)).signature:o=await n.request({method:"personal_sign",params:[r,s]},z.state.activeCaipNetwork?.caipNetworkId),{signature:o}}async estimateGas(){return Promise.resolve({gas:BigInt(0)})}async sendTransaction(){return Promise.resolve({hash:""})}walletGetAssets(t){return Promise.resolve({})}async writeContract(){return Promise.resolve({hash:""})}emitFirstAvailableConnection(){}parseUnits(){return 0n}formatUnits(){return"0"}async getCapabilities(){return Promise.resolve({})}async grantPermissions(){return Promise.resolve({})}async revokePermissions(){return Promise.resolve("0x")}async syncConnection(){return Promise.resolve({id:"WALLET_CONNECT",type:"WALLET_CONNECT",chainId:1,provider:this.provider,address:""})}async switchNetwork(t){const{caipNetwork:n}=t,r=this.getWalletConnectConnector();if(n.chainNamespace===he.CHAIN.EVM)try{await r.provider?.request({method:"wallet_switchEthereumChain",params:[{chainId:j5(n.id)}]})}catch(s){if(s.code===zd.ERROR_CODE_UNRECOGNIZED_CHAIN_ID||s.code===zd.ERROR_INVALID_CHAIN_ID||s.code===zd.ERROR_CODE_DEFAULT||s?.data?.originalError?.code===zd.ERROR_CODE_UNRECOGNIZED_CHAIN_ID)try{await r.provider?.request({method:"wallet_addEthereumChain",params:[{chainId:j5(n.id),rpcUrls:[n?.rpcUrls.chainDefault?.http],chainName:n.name,nativeCurrency:n.nativeCurrency,blockExplorerUrls:[n.blockExplorers?.default.url]}]})}catch{throw new Error("Chain is not supported")}}r.provider.setDefaultChain(n.caipNetworkId)}getWalletConnectProvider(){return this.connectors.find(r=>r.type==="WALLET_CONNECT")?.provider}}const Mhe=["email","socials","swaps","onramp","activity","reownBranding","multiWallet","emailCapture"],_0={email:{apiFeatureName:"social_login",localFeatureName:"email",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:e=>{if(!e?.config)return!1;const t=e.config;return!!e.isEnabled&&t.includes("email")},processFallback:e=>e===void 0?vt.DEFAULT_REMOTE_FEATURES.email:!!e},socials:{apiFeatureName:"social_login",localFeatureName:"socials",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:e=>{if(!e?.config)return!1;const t=e.config;return e.isEnabled&&t.length>0?t.filter(n=>n!=="email"):!1},processFallback:e=>e===void 0?vt.DEFAULT_REMOTE_FEATURES.socials:typeof e=="boolean"?e?vt.DEFAULT_REMOTE_FEATURES.socials:!1:e},swaps:{apiFeatureName:"swap",localFeatureName:"swaps",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:e=>{if(!e?.config)return!1;const t=e.config;return e.isEnabled&&t.length>0?t:!1},processFallback:e=>e===void 0?vt.DEFAULT_REMOTE_FEATURES.swaps:typeof e=="boolean"?e?vt.DEFAULT_REMOTE_FEATURES.swaps:!1:e},onramp:{apiFeatureName:"onramp",localFeatureName:"onramp",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:e=>{if(!e?.config)return!1;const t=e.config;return e.isEnabled&&t.length>0?t:!1},processFallback:e=>e===void 0?vt.DEFAULT_REMOTE_FEATURES.onramp:typeof e=="boolean"?e?vt.DEFAULT_REMOTE_FEATURES.onramp:!1:e},activity:{apiFeatureName:"activity",localFeatureName:"history",returnType:!1,isLegacy:!0,isAvailableOnBasic:!1,processApi:e=>!!e.isEnabled,processFallback:e=>e===void 0?vt.DEFAULT_REMOTE_FEATURES.activity:!!e},reownBranding:{apiFeatureName:"reown_branding",localFeatureName:"reownBranding",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:e=>!!e.isEnabled,processFallback:e=>e===void 0?vt.DEFAULT_REMOTE_FEATURES.reownBranding:!!e},emailCapture:{apiFeatureName:"email_capture",localFeatureName:"emailCapture",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:e=>e.isEnabled&&(e.config??[]),processFallback:e=>!1},multiWallet:{apiFeatureName:"multi_wallet",localFeatureName:"multiWallet",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:e=>!!e.isEnabled,processFallback:()=>vt.DEFAULT_REMOTE_FEATURES.multiWallet}},$he={localSettingsOverridden:new Set,getApiConfig(e,t){return t?.find(n=>n.id===e)},addWarning(e,t){if(e!==void 0){const n=_0[t],r=n.isLegacy?`"features.${n.localFeatureName}" (now "${t}")`:`"features.${t}"`;this.localSettingsOverridden.add(r)}},processFeature(e,t,n,r,s){const o=_0[e],c=t[o.localFeatureName];if(s&&!o.isAvailableOnBasic)return!1;if(r){const l=this.getApiConfig(o.apiFeatureName,n);return l?.config===null?this.processFallbackFeature(e,c):l?.config?(c!==void 0&&this.addWarning(c,e),this.processApiFeature(e,l)):!1}return this.processFallbackFeature(e,c)},processApiFeature(e,t){return _0[e].processApi(t)},processFallbackFeature(e,t){return _0[e].processFallback(t)},async fetchRemoteFeatures(e){const t=e.basic??!1,n=e.features||{};this.localSettingsOverridden.clear();let r=null,s=!1;try{r=await Pe.fetchProjectConfig(),s=r!=null}catch(c){console.warn("[Reown Config] Failed to fetch remote project configuration. Using local/default values.",c)}const o=s&&!t?vt.DEFAULT_REMOTE_FEATURES:vt.DEFAULT_REMOTE_FEATURES_DISABLED;try{for(const c of Mhe){const l=this.processFeature(c,n,r,s,t);Object.assign(o,{[c]:l})}}catch(c){return console.warn("[Reown Config] Failed to process the configuration from Cloud. Using default values.",c),vt.DEFAULT_REMOTE_FEATURES}if(s&&this.localSettingsOverridden.size>0){const c=`Your local configuration for ${Array.from(this.localSettingsOverridden).join(", ")} was ignored because a remote configuration was successfully fetched. Please manage these features via your project dashboard on dashboard.reown.com.`;ar.open({debugMessage:$s.ALERT_WARNINGS.LOCAL_CONFIGURATION_IGNORED.debugMessage(c)},"warning")}return o}};class Uhe{constructor(t){this.chainNamespaces=[],this.remoteFeatures={},this.reportedAlertErrors={},this.getCaipNetwork=(n,r)=>{if(n){const s=z.getCaipNetworks(n)?.find(l=>l.id===r);if(s)return s;const o=z.getNetworkData(n)?.caipNetwork;return o||z.getRequestedCaipNetworks(n).filter(l=>l.chainNamespace===n)?.[0]}return z.state.activeCaipNetwork||this.defaultCaipNetwork},this.getCaipNetworkId=()=>{const n=this.getCaipNetwork();if(n)return n.id},this.getCaipNetworks=n=>z.getCaipNetworks(n),this.getActiveChainNamespace=()=>z.state.activeChain,this.setRequestedCaipNetworks=(n,r)=>{z.setRequestedCaipNetworks(n,r)},this.getApprovedCaipNetworkIds=()=>z.getAllApprovedCaipNetworkIds(),this.getCaipAddress=n=>z.state.activeChain===n||!n?z.state.activeCaipAddress:z.state.chains.get(n)?.accountState?.caipAddress,this.setClientId=n=>{Be.setClientId(n)},this.getProvider=n=>an.getProvider(n),this.getProviderType=n=>an.getProviderId(n),this.getPreferredAccountType=n=>eo(n),this.setCaipAddress=(n,r)=>{De.setCaipAddress(n,r)},this.setBalance=(n,r,s)=>{De.setBalance(n,r,s)},this.setProfileName=(n,r)=>{De.setProfileName(n,r)},this.setProfileImage=(n,r)=>{De.setProfileImage(n,r)},this.setUser=(n,r)=>{De.setUser(n,r)},this.resetAccount=n=>{De.resetAccount(n)},this.setCaipNetwork=n=>{z.setActiveCaipNetwork(n)},this.setCaipNetworkOfNamespace=(n,r)=>{z.setChainNetworkData(r,{caipNetwork:n})},this.setStatus=(n,r)=>{De.setStatus(n,r),be.isConnected()?ge.setConnectionStatus("connected"):ge.setConnectionStatus("disconnected")},this.getAddressByChainNamespace=n=>z.state.chains.get(n)?.accountState?.address,this.setConnectors=n=>{const r=[...be.state.allConnectors,...n];be.setConnectors(r)},this.setConnections=(n,r)=>{ge.setConnections(n,r),ve.setConnections(n,r)},this.fetchIdentity=n=>Be.fetchIdentity(n),this.getReownName=n=>op.getNamesForAddress(n),this.getConnectors=()=>be.getConnectors(),this.getConnectorImage=n=>fR.getConnectorImage(n),this.getConnections=n=>this.remoteFeatures.multiWallet?Ny.getConnectionsData(n).connections:(ar.open(he.REMOTE_FEATURES_ALERTS.MULTI_WALLET_NOT_ENABLED.DEFAULT,"info"),[]),this.getRecentConnections=n=>this.remoteFeatures.multiWallet?Ny.getConnectionsData(n).recentConnections:(ar.open(he.REMOTE_FEATURES_ALERTS.MULTI_WALLET_NOT_ENABLED.DEFAULT,"info"),[]),this.switchConnection=async n=>{if(!this.remoteFeatures.multiWallet){ar.open(he.REMOTE_FEATURES_ALERTS.MULTI_WALLET_NOT_ENABLED.DEFAULT,"info");return}await ve.switchConnection(n)},this.deleteConnection=n=>{if(!this.remoteFeatures.multiWallet){ar.open(he.REMOTE_FEATURES_ALERTS.MULTI_WALLET_NOT_ENABLED.DEFAULT,"info");return}ge.deleteAddressFromConnection(n),ve.syncStorageConnections()},this.setConnectedWalletInfo=(n,r)=>{const s=an.getProviderId(r),o=n?{...n,type:s}:void 0;De.setConnectedWalletInfo(o,r)},this.getIsConnectedState=()=>!!z.state.activeCaipAddress,this.addAddressLabel=(n,r,s)=>{De.addAddressLabel(n,r,s)},this.removeAddressLabel=(n,r)=>{De.removeAddressLabel(n,r)},this.getAddress=n=>z.state.activeChain===n||!n?De.state.address:z.state.chains.get(n)?.accountState?.address,this.setApprovedCaipNetworksData=n=>z.setApprovedCaipNetworksData(n),this.resetNetwork=n=>{z.resetNetwork(n)},this.addConnector=n=>{be.addConnector(n)},this.resetWcConnection=()=>{ve.resetWcConnection()},this.setAddressExplorerUrl=(n,r)=>{De.setAddressExplorerUrl(n,r)},this.setSmartAccountDeployed=(n,r)=>{De.setSmartAccountDeployed(n,r)},this.setPreferredAccountType=(n,r)=>{z.setAccountProp("preferredAccountType",n,r)},this.setEIP6963Enabled=n=>{fe.setEIP6963Enabled(n)},this.handleUnsafeRPCRequest=()=>{if(this.isOpen()){if(this.isTransactionStackEmpty())return;this.redirect("ApproveTransaction")}else this.open({view:"ApproveTransaction"})},this.options=t,this.version=t.sdkVersion,this.caipNetworks=this.extendCaipNetworks(t),this.chainNamespaces=this.getChainNamespacesSet(t.adapters,this.caipNetworks),this.defaultCaipNetwork=this.extendDefaultCaipNetwork(t),this.chainAdapters=this.createAdapters(t.adapters),this.readyPromise=this.initialize(t)}getChainNamespacesSet(t,n){const r=t?.map(o=>o.namespace).filter(o=>!!o);if(r?.length)return[...new Set(r)];const s=n?.map(o=>o.chainNamespace);return[...new Set(s)]}async initialize(t){this.initializeProjectSettings(t),this.initControllers(t),await this.initChainAdapters(),this.sendInitializeEvent(t),fe.state.enableReconnect?(await this.syncExistingConnection(),await this.syncAdapterConnections()):await this.unSyncExistingConnection(),this.remoteFeatures=await $he.fetchRemoteFeatures(t),fe.setRemoteFeatures(this.remoteFeatures),this.remoteFeatures.onramp&&JE.setOnrampProviders(this.remoteFeatures.onramp),(fe.state.remoteFeatures?.email||Array.isArray(fe.state.remoteFeatures?.socials)&&fe.state.remoteFeatures?.socials.length>0)&&await this.checkAllowedOrigins()}async checkAllowedOrigins(){try{const t=await Pe.fetchAllowedOrigins();if(!t||!Me.isClient()){ar.open($s.ALERT_ERRORS.PROJECT_ID_NOT_CONFIGURED,"error");return}const n=window.location.origin;Vo.isOriginAllowed(n,t,zd.DEFAULT_ALLOWED_ANCESTORS)||ar.open($s.ALERT_ERRORS.ORIGIN_NOT_ALLOWED,"error")}catch(t){if(!(t instanceof Error)){ar.open($s.ALERT_ERRORS.PROJECT_ID_NOT_CONFIGURED,"error");return}switch(t.message){case"RATE_LIMITED":ar.open($s.ALERT_ERRORS.RATE_LIMITED_APP_CONFIGURATION,"error");break;case"SERVER_ERROR":{const n=t.cause instanceof Error?t.cause:t;ar.open({displayMessage:$s.ALERT_ERRORS.SERVER_ERROR_APP_CONFIGURATION.displayMessage,debugMessage:$s.ALERT_ERRORS.SERVER_ERROR_APP_CONFIGURATION.debugMessage(n.message)},"error");break}default:ar.open($s.ALERT_ERRORS.PROJECT_ID_NOT_CONFIGURED,"error")}}}sendInitializeEvent(t){const{...n}=t;delete n.adapters,delete n.universalProvider,Ot.sendEvent({type:"track",event:"INITIALIZE",properties:{...n,networks:t.networks.map(r=>r.id),siweConfig:{options:t.siweConfig?.options||{}}}})}initControllers(t){this.initializeOptionsController(t),this.initializeChainController(t),this.initializeThemeController(t),this.initializeConnectionController(t),this.initializeConnectorController()}initializeThemeController(t){t.themeMode&&is.setThemeMode(t.themeMode),t.themeVariables&&is.setThemeVariables(t.themeVariables)}initializeChainController(t){if(!this.connectionControllerClient||!this.networkControllerClient)throw new Error("ConnectionControllerClient and NetworkControllerClient must be set");z.initialize(t.adapters??[],this.caipNetworks,{connectionControllerClient:this.connectionControllerClient,networkControllerClient:this.networkControllerClient});const n=this.getDefaultNetwork();n&&z.setActiveCaipNetwork(n)}initializeConnectionController(t){ve.initialize(t.adapters??[]),ve.setWcBasic(t.basic??!1)}initializeConnectorController(){be.initialize(this.chainNamespaces)}initializeProjectSettings(t){fe.setProjectId(t.projectId),fe.setSdkVersion(t.sdkVersion)}initializeOptionsController(t){fe.setDebug(t.debug!==!1),fe.setEnableWalletConnect(t.enableWalletConnect!==!1),fe.setEnableWalletGuide(t.enableWalletGuide!==!1),fe.setEnableWallets(t.enableWallets!==!1),fe.setEIP6963Enabled(t.enableEIP6963!==!1),fe.setEnableNetworkSwitch(t.enableNetworkSwitch!==!1),fe.setEnableReconnect(t.enableReconnect!==!1),fe.setEnableAuthLogger(t.enableAuthLogger!==!1),fe.setCustomRpcUrls(t.customRpcUrls),fe.setEnableEmbedded(t.enableEmbedded),fe.setAllWallets(t.allWallets),fe.setIncludeWalletIds(t.includeWalletIds),fe.setExcludeWalletIds(t.excludeWalletIds),fe.setFeaturedWalletIds(t.featuredWalletIds),fe.setTokens(t.tokens),fe.setTermsConditionsUrl(t.termsConditionsUrl),fe.setPrivacyPolicyUrl(t.privacyPolicyUrl),fe.setCustomWallets(t.customWallets),fe.setFeatures(t.features),fe.setAllowUnsupportedChain(t.allowUnsupportedChain),fe.setUniversalProviderConfigOverride(t.universalProviderConfigOverride),fe.setPreferUniversalLinks(t.experimental_preferUniversalLinks),fe.setDefaultAccountTypes(t.defaultAccountTypes);const n=this.getDefaultMetaData();if(!t.metadata&&n&&(t.metadata=n),fe.setMetadata(t.metadata),fe.setDisableAppend(t.disableAppend),fe.setEnableEmbedded(t.enableEmbedded),fe.setSIWX(t.siwx),!t.projectId){ar.open($s.ALERT_ERRORS.PROJECT_ID_NOT_CONFIGURED,"error");return}if(t.adapters?.find(s=>s.namespace===he.CHAIN.EVM)&&t.siweConfig){if(t.siwx)throw new Error("Cannot set both `siweConfig` and `siwx` options");fe.setSIWX(t.siweConfig.mapToSIWX())}}getDefaultMetaData(){return Me.isClient()?{name:document.getElementsByTagName("title")?.[0]?.textContent||"",description:document.querySelector('meta[property="og:description"]')?.content||"",url:window.location.origin,icons:[document.querySelector('link[rel~="icon"]')?.href||""]}:null}setUnsupportedNetwork(t){const n=this.getActiveChainNamespace();if(n){const r=uf.getUnsupportedNetwork(`${n}:${t}`);z.setActiveCaipNetwork(r)}}getDefaultNetwork(){return uf.getCaipNetworkFromStorage(this.defaultCaipNetwork)}extendCaipNetwork(t,n){return uf.extendCaipNetwork(t,{customNetworkImageUrls:n.chainImages,projectId:n.projectId})}extendCaipNetworks(t){return uf.extendCaipNetworks(t.networks,{customNetworkImageUrls:t.chainImages,customRpcUrls:t.customRpcUrls,projectId:t.projectId})}extendDefaultCaipNetwork(t){const n=t.networks.find(s=>s.id===t.defaultNetwork?.id);return n?uf.extendCaipNetwork(n,{customNetworkImageUrls:t.chainImages,customRpcUrls:t.customRpcUrls,projectId:t.projectId}):void 0}async disconnectNamespace(t,n){try{this.setLoading(!0,t);let r={connections:[]};const s=this.getAdapter(t);return(z.state.chains.get(t)?.accountState?.caipAddress||!fe.state.enableReconnect)&&s?.disconnect&&(r=await s.disconnect({id:n})),this.setLoading(!1,t),r}catch(r){throw this.setLoading(!1,t),new Error(`Failed to disconnect chains: ${r.message}`)}}createClients(){this.connectionControllerClient={connectWalletConnect:async()=>{const t=z.state.activeChain,n=this.getAdapter(t),r=this.getCaipNetwork(t)?.id,s=ve.getConnections(t),o=this.remoteFeatures.multiWallet,c=s.length>0;if(!n)throw new Error("Adapter not found");const l=await n.connectWalletConnect(r);(!c||!o)&&this.close(),this.setClientId(l?.clientId||null),ge.setConnectedNamespaces([...z.state.chains.keys()]),await this.syncWalletConnectAccount(),await Fi.initializeIfEnabled()},connectExternal:async({id:t,address:n,info:r,type:s,provider:o,chain:c,caipNetwork:l,socialUri:f})=>{const d=z.state.activeChain,p=c||d,g=this.getAdapter(p);if(c&&c!==d&&!l){const v=this.getCaipNetworks().find(E=>E.chainNamespace===c);v&&this.setCaipNetwork(v)}if(!p)throw new Error("connectExternal: namespace not found");if(!g)throw new Error("connectExternal: adapter not found");const y=this.getCaipNetwork(p),b=await g.connect({id:t,address:n,info:r,type:s,provider:o,socialUri:f,chainId:l?.id||y?.id,rpcUrl:l?.rpcUrls?.default?.http?.[0]||y?.rpcUrls?.default?.http?.[0]});if(b)return ge.addConnectedNamespace(p),this.syncProvider({...b,chainNamespace:p}),this.setStatus("connected",p),this.syncConnectedWalletInfo(p),ge.removeDisconnectedConnectorId(t,p),{address:b.address}},reconnectExternal:async({id:t,info:n,type:r,provider:s})=>{const o=z.state.activeChain,c=this.getAdapter(o);if(!o)throw new Error("reconnectExternal: namespace not found");if(!c)throw new Error("reconnectExternal: adapter not found");c?.reconnect&&(await c?.reconnect({id:t,info:n,type:r,provider:s,chainId:this.getCaipNetwork()?.id}),ge.addConnectedNamespace(o),this.syncConnectedWalletInfo(o))},disconnect:async t=>{const{id:n,chainNamespace:r,initialDisconnect:s}=t||{},o=r||z.state.activeChain,c=be.getConnectorId(o),l=n===he.CONNECTOR_ID.AUTH||c===he.CONNECTOR_ID.AUTH,f=n===he.CONNECTOR_ID.WALLET_CONNECT||c===he.CONNECTOR_ID.WALLET_CONNECT;try{const d=Array.from(z.state.chains.keys());let p=r?[r]:d;(f||l)&&(p=d);const g=p.map(async v=>{const E=be.getConnectorId(v),S=await this.disconnectNamespace(v,n||E);S&&(l&&ge.deleteConnectedSocialProvider(),S.connections.forEach(C=>{ge.addDisconnectedConnectorId(C.connectorId,v)})),s&&this.onDisconnectNamespace({chainNamespace:v,closeModal:!1})}),y=await Promise.allSettled(g);mt.resetSend(),ve.resetWcConnection(),Fi.getSIWX()?.signOutOnDisconnect&&await Fi.clearSessions(),be.setFilterByNamespace(void 0),ve.syncStorageConnections();const b=y.filter(v=>v.status==="rejected");if(b.length>0)throw new Error(b.map(v=>v.reason.message).join(", "));Ot.sendEvent({type:"track",event:"DISCONNECT_SUCCESS",properties:{namespace:r||"all"}})}catch(d){throw new Error(`Failed to disconnect chains: ${d.message}`)}},checkInstalled:t=>t?t.some(n=>!!window.ethereum?.[String(n)]):!!window.ethereum,signMessage:async t=>{const n=z.state.activeChain,r=this.getAdapter(z.state.activeChain);if(!n)throw new Error("signMessage: namespace not found");if(!r)throw new Error("signMessage: adapter not found");return(await r?.signMessage({message:t,address:De.state.address,provider:an.getProvider(n)}))?.signature||""},sendTransaction:async t=>{const n=t.chainNamespace;if(!n)throw new Error("sendTransaction: namespace not found");if(vt.SEND_SUPPORTED_NAMESPACES.includes(n)){const r=this.getAdapter(n);if(!r)throw new Error("sendTransaction: adapter not found");const s=an.getProvider(n);return(await r?.sendTransaction({...t,caipNetwork:this.getCaipNetwork(),provider:s}))?.hash||""}return""},estimateGas:async t=>{const n=t.chainNamespace;if(n===he.CHAIN.EVM){const r=this.getAdapter(n);if(!r)throw new Error("estimateGas: adapter is required but got undefined");const s=an.getProvider(n),o=this.getCaipNetwork();if(!o)throw new Error("estimateGas: caipNetwork is required but got undefined");return(await r?.estimateGas({...t,provider:s,caipNetwork:o}))?.gas||0n}return 0n},getEnsAvatar:async()=>{const t=z.state.activeChain;if(!t)throw new Error("getEnsAvatar: namespace is required but got undefined");return await this.syncIdentity({address:De.state.address,chainId:Number(this.getCaipNetwork()?.id),chainNamespace:t}),De.state.profileImage||!1},getEnsAddress:async t=>await Vo.resolveReownName(t),writeContract:async t=>{const n=z.state.activeChain,r=this.getAdapter(n);if(!n)throw new Error("writeContract: namespace is required but got undefined");if(!r)throw new Error("writeContract: adapter is required but got undefined");const s=this.getCaipNetwork(),o=this.getCaipAddress(),c=an.getProvider(n);if(!s||!o)throw new Error("writeContract: caipNetwork or caipAddress is required but got undefined");return(await r?.writeContract({...t,caipNetwork:s,provider:c,caipAddress:o}))?.hash},parseUnits:(t,n)=>{const r=this.getAdapter(z.state.activeChain);if(!r)throw new Error("parseUnits: adapter is required but got undefined");return r?.parseUnits({value:t,decimals:n})??0n},formatUnits:(t,n)=>{const r=this.getAdapter(z.state.activeChain);if(!r)throw new Error("formatUnits: adapter is required but got undefined");return r?.formatUnits({value:t,decimals:n})??"0"},getCapabilities:async t=>{const n=this.getAdapter(z.state.activeChain);if(!n)throw new Error("getCapabilities: adapter is required but got undefined");return await n?.getCapabilities(t)},grantPermissions:async t=>{const n=this.getAdapter(z.state.activeChain);if(!n)throw new Error("grantPermissions: adapter is required but got undefined");return await n?.grantPermissions(t)},revokePermissions:async t=>{const n=this.getAdapter(z.state.activeChain);if(!n)throw new Error("revokePermissions: adapter is required but got undefined");return n?.revokePermissions?await n.revokePermissions(t):"0x"},walletGetAssets:async t=>{const n=this.getAdapter(z.state.activeChain);if(!n)throw new Error("walletGetAssets: adapter is required but got undefined");return await n?.walletGetAssets(t)??{}},updateBalance:t=>{const n=this.getCaipNetwork(t);!n||!De.state.address||this.updateNativeBalance(De.state.address,n?.id,t)}},this.networkControllerClient={switchCaipNetwork:async t=>await this.switchCaipNetwork(t),getApprovedCaipNetworksData:async()=>this.getApprovedCaipNetworksData()},ve.setClient(this.connectionControllerClient)}getApprovedCaipNetworksData(){if(an.getProviderId(z.state.activeChain)===ol.CONNECTOR_TYPE_WALLET_CONNECT){const n=this.universalProvider?.session?.namespaces;return{supportsAllNetworks:this.universalProvider?.session?.peer?.metadata.name==="MetaMask Wallet",approvedCaipNetworkIds:this.getChainsFromNamespaces(n)}}return{supportsAllNetworks:!0,approvedCaipNetworkIds:[]}}async switchCaipNetwork(t){if(!t)return;const n=t.chainNamespace;if(this.getAddressByChainNamespace(t.chainNamespace)){const s=an.getProvider(n),o=an.getProviderId(n);if(t.chainNamespace===z.state.activeChain)await this.getAdapter(n)?.switchNetwork({caipNetwork:t,provider:s,providerType:o});else if(this.setCaipNetwork(t),o===ol.CONNECTOR_TYPE_WALLET_CONNECT)this.syncWalletConnectAccount();else{const c=this.getAddressByChainNamespace(n);c&&this.syncAccount({address:c,chainId:t.id,chainNamespace:n})}}else this.setCaipNetwork(t)}getChainsFromNamespaces(t={}){return Object.values(t).flatMap(n=>{const r=n.chains||[],s=n.accounts.map(o=>{const{chainId:c,chainNamespace:l}=cs.parseCaipAddress(o);return`${l}:${c}`});return Array.from(new Set([...r,...s]))})}createAdapters(t){return this.createClients(),this.chainNamespaces.reduce((n,r)=>{const s=t?.find(o=>o.namespace===r);return s?(s.construct({namespace:r,projectId:this.options?.projectId,networks:this.getCaipNetworks()}),n[r]=s):n[r]=new Dhe({namespace:r,networks:this.getCaipNetworks()}),n},{})}async initChainAdapter(t){this.onConnectors(t),this.listenAdapter(t),await this.chainAdapters?.[t].syncConnectors(this.options,this),await this.createUniversalProviderForAdapter(t)}async initChainAdapters(){await Promise.all(this.chainNamespaces.map(async t=>{await this.initChainAdapter(t)}))}onConnectors(t){this.getAdapter(t)?.on("connectors",this.setConnectors.bind(this))}listenAdapter(t){const n=this.getAdapter(t);if(!n)return;const r=ge.getConnectionStatus();fe.state.enableReconnect===!1?this.setStatus("disconnected",t):r==="connected"?this.setStatus("connecting",t):r==="disconnected"?(ge.clearAddressCache(),this.setStatus(r,t)):this.setStatus(r,t),n.on("switchNetwork",({address:s,chainId:o})=>{const c=this.getCaipNetworks().find(d=>d.id.toString()===o.toString()||d.caipNetworkId.toString()===o.toString()),l=z.state.activeChain===t,f=z.state.chains.get(t)?.accountState?.address;if(c){const d=l&&s?s:f;d&&this.syncAccount({address:d,chainId:c.id,chainNamespace:t})}else this.setUnsupportedNetwork(o)}),n.on("disconnect",()=>{const s=this.remoteFeatures.multiWallet,o=Array.from(ve.state.connections.values()).flat();this.onDisconnectNamespace({chainNamespace:t,closeModal:!s||o.length===0})}),n.on("connections",s=>{this.setConnections(s,t)}),n.on("pendingTransactions",()=>{const s=De.state.address,o=z.state.activeCaipNetwork;!s||!o?.id||this.updateNativeBalance(s,o.id,o.chainNamespace)}),n.on("accountChanged",({address:s,chainId:o,connector:c})=>{const l=z.state.activeChain===t;c?.provider&&(this.syncProvider({id:c.id,type:c.type,provider:c.provider,chainNamespace:t}),this.syncConnectedWalletInfo(t)),l&&o?this.syncAccount({address:s,chainId:o,chainNamespace:t}):l&&z.state.activeCaipNetwork?.id?this.syncAccount({address:s,chainId:z.state.activeCaipNetwork?.id,chainNamespace:t}):this.syncAccountInfo(s,o,t),ge.addConnectedNamespace(t)})}async createUniversalProviderForAdapter(t){await this.getUniversalProvider(),this.universalProvider&&await this.chainAdapters?.[t]?.setUniversalProvider?.(this.universalProvider)}async syncExistingConnection(){await Promise.allSettled(this.chainNamespaces.map(t=>this.syncNamespaceConnection(t)))}async unSyncExistingConnection(){try{await Promise.allSettled(this.chainNamespaces.map(t=>ve.disconnect({namespace:t,initialDisconnect:!0})))}catch(t){console.error("Error disconnecting existing connections:",t)}}async syncNamespaceConnection(t){try{t===he.CHAIN.EVM&&Me.isSafeApp()&&be.setConnectorId(he.CONNECTOR_ID.SAFE,t);const n=be.getConnectorId(t);switch(this.setStatus("connecting",t),n){case he.CONNECTOR_ID.WALLET_CONNECT:await this.syncWalletConnectAccount();break;case he.CONNECTOR_ID.AUTH:break;default:await this.syncAdapterConnection(t)}}catch(n){console.warn("AppKit couldn't sync existing connection",n),this.setStatus("disconnected",t)}}onDisconnectNamespace(t){const{chainNamespace:n,closeModal:r}=t||{};z.resetAccount(n),z.resetNetwork(n),ge.removeConnectedNamespace(n);const s=Array.from(z.state.chains.keys());(n?[n]:s).forEach(c=>ge.addDisconnectedConnectorId(be.getConnectorId(c)||"",c)),be.removeConnectorId(n),an.resetChain(n),this.setUser(void 0,n),this.setStatus("disconnected",n),this.setConnectedWalletInfo(void 0,n),r!==!1&&st.close()}async syncAdapterConnections(){await Promise.allSettled(this.chainNamespaces.map(t=>{const n=this.getCaipAddress(t),r=this.getCaipNetwork(t);return this.chainAdapters?.[t].syncConnections({connectToFirstConnector:!n,caipNetwork:r,getConnectorStorageInfo(s){const c=ge.getConnections()[t]??[];return{hasDisconnected:ge.isConnectorDisconnected(s,t),hasConnected:c.some(l=>ls.isLowerCaseMatch(l.connectorId,s))}}})}))}async syncAdapterConnection(t){const n=this.getAdapter(t),r=be.getConnectorId(t),s=this.getCaipNetwork(t),c=be.getConnectors(t).find(l=>l.id===r);try{if(!n||!c)throw new Error(`Adapter or connector not found for namespace ${t}`);if(!s?.id)throw new Error("CaipNetwork not found");const l=await n?.syncConnection({namespace:t,id:c.id,chainId:s.id,rpcUrl:s?.rpcUrls?.default?.http?.[0]});l?(this.syncProvider({...l,chainNamespace:t}),await this.syncAccount({...l,chainNamespace:t}),this.setStatus("connected",t)):this.setStatus("disconnected",t)}catch{this.onDisconnectNamespace({chainNamespace:t,closeModal:!1})}}async syncWalletConnectAccount(){const t=Object.keys(this.universalProvider?.session?.namespaces||{}),n=this.chainNamespaces.map(async r=>{const s=this.getAdapter(r);if(!s)return;const o=this.universalProvider?.session?.namespaces?.[r]?.accounts||[],c=z.state.activeCaipNetwork?.id,l=o.find(f=>{const{chainId:d}=cs.parseCaipAddress(f);return d===c?.toString()})||o[0];if(l){const f=cs.validateCaipAddress(l),{chainId:d,address:p}=cs.parseCaipAddress(f);if(an.setProviderId(r,ol.CONNECTOR_TYPE_WALLET_CONNECT),this.caipNetworks&&z.state.activeCaipNetwork&&s.namespace!==he.CHAIN.EVM){const g=s.getWalletConnectProvider({caipNetworks:this.getCaipNetworks(),provider:this.universalProvider,activeCaipNetwork:z.state.activeCaipNetwork});an.setProvider(r,g)}else an.setProvider(r,this.universalProvider);be.setConnectorId(he.CONNECTOR_ID.WALLET_CONNECT,r),ge.addConnectedNamespace(r),await this.syncAccount({address:p,chainId:d,chainNamespace:r})}else t.includes(r)&&this.setStatus("disconnected",r);this.syncConnectedWalletInfo(r),await z.setApprovedCaipNetworksData(r)});await Promise.all(n)}syncProvider({type:t,provider:n,id:r,chainNamespace:s}){an.setProviderId(s,t),an.setProvider(s,n),be.setConnectorId(r,s)}async syncAccount(t){const n=t.chainNamespace===z.state.activeChain,r=z.getCaipNetworkByNamespace(t.chainNamespace,t.chainId),{address:s,chainId:o,chainNamespace:c}=t,{chainId:l}=ge.getActiveNetworkProps(),f=o||l,d=z.state.activeCaipNetwork?.name===he.UNSUPPORTED_NETWORK_NAME,p=z.getNetworkProp("supportsAllNetworks",c);if(this.setStatus("connected",c),!(d&&!p)&&f){let g=this.getCaipNetworks().find(v=>v.id.toString()===f.toString()),y=this.getCaipNetworks().find(v=>v.chainNamespace===c);if(!p&&!g&&!y){const v=this.getApprovedCaipNetworkIds()||[],E=v.find(C=>cs.parseCaipNetworkId(C)?.chainId===f.toString()),S=v.find(C=>cs.parseCaipNetworkId(C)?.chainNamespace===c);g=this.getCaipNetworks().find(C=>C.caipNetworkId===E),y=this.getCaipNetworks().find(C=>C.caipNetworkId===S||"deprecatedCaipNetworkId"in C&&C.deprecatedCaipNetworkId===S)}const b=g||y;b?.chainNamespace===z.state.activeChain?fe.state.enableNetworkSwitch&&!fe.state.allowUnsupportedChain&&z.state.activeCaipNetwork?.name===he.UNSUPPORTED_NETWORK_NAME?z.showUnsupportedChainUI():this.setCaipNetwork(b):n||r&&this.setCaipNetworkOfNamespace(r,c),this.syncConnectedWalletInfo(c),ls.isLowerCaseMatch(s,De.state.address)||this.syncAccountInfo(s,b?.id,c),n?await this.syncBalance({address:s,chainId:b?.id,chainNamespace:c}):await this.syncBalance({address:s,chainId:r?.id,chainNamespace:c})}}async syncAccountInfo(t,n,r){const s=this.getCaipAddress(r),o=n||s?.split(":")[1];if(!o)return;const c=`${r}:${o}:${t}`;this.setCaipAddress(c,r),await this.syncIdentity({address:t,chainId:o,chainNamespace:r})}async syncReownName(t,n){try{const r=await this.getReownName(t);if(r[0]){const s=r[0];this.setProfileName(s.name,n)}else this.setProfileName(null,n)}catch{this.setProfileName(null,n)}}syncConnectedWalletInfo(t){const n=be.getConnectorId(t),r=an.getProviderId(t);if(r===ol.CONNECTOR_TYPE_ANNOUNCED||r===ol.CONNECTOR_TYPE_INJECTED){if(n){const o=this.getConnectors().find(c=>{const l=c.id===n,f=c.info?.rdns===n,d=c.connectors?.some(p=>p.id===n||p.info?.rdns===n);return l||f||!!d});if(o){const{info:c,name:l,imageUrl:f}=o,d=f||this.getConnectorImage(o);this.setConnectedWalletInfo({name:l,icon:d,...c},t)}}}else if(r===ol.CONNECTOR_TYPE_WALLET_CONNECT){const s=an.getProvider(t);s?.session&&this.setConnectedWalletInfo({...s.session.peer.metadata,name:s.session.peer.metadata.name,icon:s.session.peer.metadata.icons?.[0]},t)}else if(n&&(n===he.CONNECTOR_ID.COINBASE_SDK||n===he.CONNECTOR_ID.COINBASE)){const s=this.getConnectors().find(f=>f.id===n),o=s?.name||"Coinbase Wallet",c=s?.imageUrl||this.getConnectorImage(s),l=s?.info;this.setConnectedWalletInfo({...l,name:o,icon:c},t)}}async syncBalance(t){!iR.getNetworksByNamespace(this.getCaipNetworks(),t.chainNamespace).find(r=>r.id.toString()===t.chainId?.toString())||!t.chainId||await this.updateNativeBalance(t.address,t.chainId,t.chainNamespace)}async ready(){await this.readyPromise}async updateNativeBalance(t,n,r){const s=this.getAdapter(r),o=z.getCaipNetworkByNamespace(r,n);if(s){const c=await s.getBalance({address:t,chainId:n,caipNetwork:o,tokens:this.options.tokens});return this.setBalance(c.balance,c.symbol,r),c}}async initializeUniversalAdapter(){const t=nhe.createLogger((r,...s)=>{r&&this.handleAlertError(r),console.error(...s)}),n={projectId:this.options?.projectId,metadata:{name:this.options?.metadata?this.options?.metadata.name:"",description:this.options?.metadata?this.options?.metadata.description:"",url:this.options?.metadata?this.options?.metadata.url:"",icons:this.options?.metadata?this.options?.metadata.icons:[""]},logger:t};fe.setManualWCControl(!!this.options?.manualWCControl),this.universalProvider=this.options.universalProvider??await aw.init(n),fe.state.enableReconnect===!1&&this.universalProvider.session&&await this.universalProvider.disconnect(),this.listenWalletConnect()}listenWalletConnect(){this.universalProvider&&this.chainNamespaces.forEach(t=>{Vo.listenWcProvider({universalProvider:this.universalProvider,namespace:t,onDisplayUri:n=>{ve.setUri(n)},onConnect:()=>{ve.finalizeWcConnection()},onDisconnect:()=>{z.state.noAdapters&&this.resetAccount(t),ve.resetWcConnection()},onChainChanged:n=>{const r=z.state.activeChain,s=r&&be.state.activeConnectorIds[r]===he.CONNECTOR_ID.WALLET_CONNECT;if(r===t&&(z.state.noAdapters||s)){const o=this.getCaipNetworks().find(l=>l.id.toString()===n.toString()||l.caipNetworkId.toString()===n.toString()),c=this.getCaipNetwork();if(!o){this.setUnsupportedNetwork(n);return}c?.id.toString()!==o?.id.toString()&&c?.chainNamespace===o?.chainNamespace&&this.setCaipNetwork(o)}},onAccountsChanged:n=>{const r=z.state.activeChain,s=r&&be.state.activeConnectorIds[r]===he.CONNECTOR_ID.WALLET_CONNECT;if(r===t&&(z.state.noAdapters||s)&&n.length>0){const o=n[0];this.syncAccount({address:o.address,chainId:o.chainId,chainNamespace:o.chainNamespace})}}})})}createUniversalProvider(){return!this.universalProviderInitPromise&&Me.isClient()&&this.options?.projectId&&(this.universalProviderInitPromise=this.initializeUniversalAdapter()),this.universalProviderInitPromise}async getUniversalProvider(){if(!this.universalProvider)try{await this.createUniversalProvider()}catch(t){Ot.sendEvent({type:"error",event:"INTERNAL_SDK_ERROR",properties:{errorType:"UniversalProviderInitError",errorMessage:t instanceof Error?t.message:"Unknown",uncaught:!1}}),console.error("AppKit:getUniversalProvider - Cannot create provider",t)}return this.universalProvider}handleAlertError(t){const n=Object.entries($s.UniversalProviderErrors).find(([,{message:l}])=>t.message.includes(l)),[r,s]=n??[],{message:o,alertErrorKey:c}=s??{};if(r&&o&&!this.reportedAlertErrors[r]){const l=$s.ALERT_ERRORS[c];l&&(ar.open(l,"error"),this.reportedAlertErrors[r]=!0)}}getAdapter(t){if(t)return this.chainAdapters?.[t]}createAdapter(t){if(!t)return;const n=t.namespace;if(!n)return;this.createClients();const r=t;r.namespace=n,r.construct({namespace:n,projectId:this.options?.projectId,networks:this.getCaipNetworks()}),this.chainNamespaces.includes(n)||this.chainNamespaces.push(n),this.chainAdapters&&(this.chainAdapters[n]=r)}async open(t){if(await this.injectModalUi(),t?.uri&&ve.setUri(t.uri),t?.arguments)switch(t?.view){case"Swap":return st.open({...t,data:{swap:t.arguments}})}return st.open(t)}async close(){await this.injectModalUi(),st.close()}setLoading(t,n){st.setLoading(t,n)}async disconnect(t){await ve.disconnect({namespace:t})}getSIWX(){return fe.state.siwx}getError(){return""}getChainId(){return z.state.activeCaipNetwork?.id}async switchNetwork(t){const n=this.getCaipNetworks().find(r=>r.id===t.id);if(!n){ar.open($s.ALERT_ERRORS.SWITCH_NETWORK_NOT_FOUND,"error");return}await z.switchActiveNetwork(n)}getWalletProvider(){return z.state.activeChain?an.state.providers[z.state.activeChain]:null}getWalletProviderType(){return an.getProviderId(z.state.activeChain)}subscribeProviders(t){return an.subscribeProviders(t)}getThemeMode(){return is.state.themeMode}getThemeVariables(){return is.state.themeVariables}setThemeMode(t){is.setThemeMode(t),$R(is.state.themeMode)}setTermsConditionsUrl(t){fe.setTermsConditionsUrl(t)}setPrivacyPolicyUrl(t){fe.setPrivacyPolicyUrl(t)}setThemeVariables(t){is.setThemeVariables(t),xhe(is.state.themeVariables)}subscribeTheme(t){return is.subscribe(t)}subscribeConnections(t){return this.remoteFeatures.multiWallet?ve.subscribe(t):(ar.open(he.REMOTE_FEATURES_ALERTS.MULTI_WALLET_NOT_ENABLED.DEFAULT,"info"),()=>{})}getWalletInfo(t){return t?z.state.chains.get(t)?.accountState?.connectedWalletInfo:De.state.connectedWalletInfo}getAccount(t){const n=t||z.state.activeChain,r=be.getAuthConnector(n),s=z.getAccountData(n),o=ge.getConnectedConnectorId(z.state.activeChain),c=ve.getConnections(n);if(!n)throw new Error("AppKit:getAccount - namespace is required");const l=c.flatMap(f=>f.accounts.map(({address:d,type:p})=>Me.createAccount(n,d,p||"eoa")));if(s)return{allAccounts:l,caipAddress:s.caipAddress,address:Me.getPlainAddress(s.caipAddress),isConnected:!!s.caipAddress,status:s.status,embeddedWalletInfo:r&&o===he.CONNECTOR_ID.AUTH?{user:s.user?{...s.user,username:ge.getConnectedSocialUsername()}:void 0,authProvider:s.socialProvider||"email",accountType:eo(n),isSmartAccountDeployed:!!s.smartAccountDeployed}:void 0}}subscribeAccount(t,n){const r=()=>{const s=this.getAccount(n);s&&t(s)};n?z.subscribeChainProp("accountState",r,n):z.subscribe(r),be.subscribe(r)}subscribeNetwork(t){return z.subscribe(({activeCaipNetwork:n})=>{t({caipNetwork:n,chainId:n?.id,caipNetworkId:n?.caipNetworkId})})}subscribeWalletInfo(t,n){return n?De.subscribeKey("connectedWalletInfo",t,n):De.subscribeKey("connectedWalletInfo",t)}subscribeShouldUpdateToAddress(t){De.subscribeKey("shouldUpdateToAddress",t)}subscribeCaipNetworkChange(t){z.subscribeKey("activeCaipNetwork",t)}getState(){return zo.state}getRemoteFeatures(){return fe.state.remoteFeatures}subscribeState(t){return zo.subscribe(t)}subscribeRemoteFeatures(t){return fe.subscribeKey("remoteFeatures",t)}showErrorMessage(t){Vi.showError(t)}showSuccessMessage(t){Vi.showSuccess(t)}getEvent(){return{...Ot.state}}subscribeEvents(t){return Ot.subscribe(t)}replace(t){ze.replace(t)}redirect(t){ze.push(t)}popTransactionStack(t){ze.popTransactionStack(t)}isOpen(){return st.state.open}isTransactionStackEmpty(){return ze.state.transactionStack.length===0}static getInstance(){return this.instance}updateFeatures(t){fe.setFeatures(t)}updateRemoteFeatures(t){fe.setRemoteFeatures(t)}updateOptions(t){const r={...fe.state||{},...t};fe.setOptions(r)}setConnectMethodsOrder(t){fe.setConnectMethodsOrder(t)}setWalletFeaturesOrder(t){fe.setWalletFeaturesOrder(t)}setCollapseWallets(t){fe.setCollapseWallets(t)}setSocialsOrder(t){fe.setSocialsOrder(t)}getConnectMethodsOrder(){return eS.getConnectOrderMethod(fe.state.features,be.getConnectors())}addNetwork(t,n){if(this.chainAdapters&&!this.chainAdapters[t])throw new Error(`Adapter for namespace ${t} doesn't exist`);const r=this.extendCaipNetwork(n,this.options);this.getCaipNetworks().find(s=>s.id===r.id)||z.addNetwork(r)}removeNetwork(t,n){if(this.chainAdapters&&!this.chainAdapters[t])throw new Error(`Adapter for namespace ${t} doesn't exist`);this.getCaipNetworks().find(s=>s.id===n)&&z.removeNetwork(t,n)}}let s6=!1;class Rhe extends Uhe{async open(t){be.isConnected()||await super.open(t)}async close(){await super.close(),this.options.manualWCControl&&ve.finalizeWcConnection()}async syncIdentity(t){return Promise.resolve()}async syncBalance(t){return Promise.resolve()}async injectModalUi(){if(!s6&&Me.isClient()){if(await mp(()=>import("./basic-BTYcdKWD.js"),__vite__mapDeps([0,1])),await mp(()=>import("./w3m-modal-wmSSn47b.js"),__vite__mapDeps([2,1])),!document.querySelector("w3m-modal")){const n=document.createElement("w3m-modal");!fe.state.disableAppend&&!fe.state.enableEmbedded&&document.body.insertAdjacentElement("beforeend",n)}s6=!0}}}const Phe="1.7.17";function Bhe(e){return new Rhe({...e,basic:!0,sdkVersion:`html-core-${Phe}`})}class fC{constructor({appKit:t,provider:n,config:r}){this.appKit=t,this.provider=n,this.config=r}static async init(t){const n=await Eue.init({projectId:t.projectId,metadata:t.metadata}),r={networks:t.networks.flatMap(o=>o.chains),projectId:t.projectId,metadata:t.metadata,universalProvider:n,manualWCControl:!0},s=Bhe(r);return new fC({appKit:s,provider:n,config:t})}async connect(){const t=this.config?.networks.reduce((n,r)=>(n[r.namespace]={...r||{},methods:r?.methods||[],events:r?.events||[],chains:r?.chains?.map(s=>s.caipNetworkId)||[]},n),{});try{await this.appKit.open();const n=await this.provider.connect({optionalNamespaces:t});if(!n)throw new Error("Error connecting to wallet: No session found");return await this.appKit.close(),{session:n}}catch(n){throw await this.appKit.close(),new Error(`Error connecting to wallet: ${n instanceof Error?n.message:"Unknown error"}`)}}async disconnect(){await this.appKit.disconnect(),await this.provider.disconnect()}async request(t,n){return await this.provider.request(t,n)}}var Lhe=Object.defineProperty,khe=Object.defineProperties,jhe=Object.getOwnPropertyDescriptors,Iy=Object.getOwnPropertySymbols,PR=Object.prototype.hasOwnProperty,BR=Object.prototype.propertyIsEnumerable,i6=(e,t,n)=>t in e?Lhe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,lr=(e,t)=>{for(var n in t||(t={}))PR.call(t,n)&&i6(e,n,t[n]);if(Iy)for(var n of Iy(t))BR.call(t,n)&&i6(e,n,t[n]);return e},Wi=(e,t)=>khe(e,jhe(t)),zhe=(e,t)=>{var n={};for(var r in e)PR.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&Iy)for(var r of Iy(e))t.indexOf(r)<0&&BR.call(e,r)&&(n[r]=e[r]);return n},Cf=class LR extends Error{constructor(t,n,r,s){super(t),this.message=t,this.code=n,this.data=r,this.cause=s,this.name="JsonRpcError",this.message=t,this.code=n,this.data=r,this.cause=s}static fromResponse(t){return new LR(t.message,t.code,t.data)}toString(){return`${this.name} (${this.code}): ${this.message}${this.data?`: ${JSON.stringify(this.data)}`:""}`}},Hhe=(e=>(e[e.ParseError=-32700]="ParseError",e[e.InvalidRequest=-32600]="InvalidRequest",e[e.MethodNotFound=-32601]="MethodNotFound",e[e.InvalidParams=-32602]="InvalidParams",e[e.InternalError=-32603]="InternalError",e[e.UserRejection=-32e3]="UserRejection",e[e.MethodAddressMismatch=-32001]="MethodAddressMismatch",e[e.MethodAccessDenied=-32002]="MethodAccessDenied",e[e.UnknownError=-31e3]="UnknownError",e[e.UserCanceled=-31001]="UserCanceled",e))(Hhe||{}),kR="asigna-stx",s2=(e,t)=>new Promise(n=>{function r(s){s.data.source===kR&&s.data[t]&&(n(s.data[t]),window.removeEventListener("message",r))}window.addEventListener("message",r),window.top.postMessage(qhe(e,t),"*")}),Fhe={authenticationRequest:async e=>s2(e,"authenticationRequest"),transactionRequest:async e=>s2(e,"transactionRequest"),request:async(e,t)=>s2(t,e)},qhe=(e,t)=>({source:kR,[t]:e}),Vhe=()=>{typeof window>"u"||window.top!==window.self&&(window.AsignaProvider=Fhe)};Vhe();var Whe=[{id:"LeatherProvider",name:"Leather",icon:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTI4IiBoZWlnaHQ9IjEyOCIgdmlld0JveD0iMCAwIDEyOCAxMjgiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSIxMjgiIGhlaWdodD0iMTI4IiByeD0iMjYuODM4NyIgZmlsbD0iIzEyMTAwRiIvPgo8cGF0aCBkPSJNNzQuOTE3MSA1Mi43MTE0QzgyLjQ3NjYgNTEuNTQwOCA5My40MDg3IDQzLjU4MDQgOTMuNDA4NyAzNy4zNzYxQzkzLjQwODcgMzUuNTAzMSA5MS44OTY4IDM0LjIxNTQgODkuNjg3MSAzNC4yMTU0Qzg1LjUwMDQgMzQuMjE1NCA3OC40MDYxIDQwLjUzNjggNzQuOTE3MSA1Mi43MTE0Wk0zOS45MTEgODMuNDk5MUMzMC4wMjU2IDgzLjQ5OTEgMjkuMjExNSA5My4zMzI0IDM5LjA5NjkgOTMuMzMyNEM0My41MTYzIDkzLjMzMjQgNDguODY2MSA5MS41NzY0IDUxLjY1NzMgODguNDE1N0M0Ny41ODY4IDg0LjkwMzggNDQuMjE0MSA4My40OTkxIDM5LjkxMSA4My40OTkxWk0xMDIuODI5IDc5LjI4NDhDMTAzLjQxIDk1Ljc5MDcgOTUuMDM2OSAxMDUuMDM5IDgwLjg0ODQgMTA1LjAzOUM3Mi40NzQ4IDEwNS4wMzkgNjguMjg4MSAxMDEuODc4IDU5LjMzMyA5Ni4wMjQ5QzU0LjY4MSAxMDEuMTc2IDQ1Ljg0MjMgMTA1LjAzOSAzOC41MTU0IDEwNS4wMzlDMTMuMjc4NSAxMDUuMDM5IDE0LjMyNTIgNzIuODQ2MyA0MC4wMjczIDcyLjg0NjNDNDUuMzc3MSA3Mi44NDYzIDQ5LjkxMjggNzQuMjUxMSA1NS43Mjc3IDc3Ljg4TDU5LjU2NTYgNjQuNDE3N0M0My43NDg5IDYwLjA4NjQgMzUuODQwNSA0Ny45MTE4IDQzLjYzMjYgMzAuNDY5M0g1Ni4xOTI5QzQ5LjIxNSA0Mi4wNTg2IDUzLjk4MzIgNTEuNjU3OCA2Mi44MjIgNTIuNzExNEM2Ny41OTAzIDM1LjczNzIgNzcuODI0NiAyMi41MDkgOTEuNDMxNiAyMi41MDlDOTkuMTA3NCAyMi41MDkgMTA1LjE1NSAyNy41NDI4IDEwNS4xNTUgMzYuNjczN0MxMDUuMTU1IDUxLjMwNjYgODYuMDgxOSA2My4yNDcxIDcxLjY2MDcgNjQuNDE3N0w2NS43Mjk1IDg1LjM3MjFDNzIuNDc0OCA5My4yMTUzIDkxLjE5OSAxMDAuODI0IDkxLjE5OSA3OS4yODQ4SDEwMi44MjlaIiBmaWxsPSIjRjVGMUVEIi8+Cjwvc3ZnPgo=",webUrl:"https://leather.io",chromeWebStoreUrl:"https://chrome.google.com/webstore/detail/hiro-wallet/ldinpeekobnhjjdofggfgjlcehhmanlj",mozillaAddOnsUrl:"https://leather.io/install-extension"},{id:"XverseProviders.BitcoinProvider",name:"Xverse Wallet",icon:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI2MDAiIGhlaWdodD0iNjAwIj48ZyBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPjxwYXRoIGZpbGw9IiMxNzE3MTciIGQ9Ik0wIDBoNjAwdjYwMEgweiIvPjxwYXRoIGZpbGw9IiNGRkYiIGZpbGwtcnVsZT0ibm9uemVybyIgZD0iTTQ0MCA0MzUuNHYtNTFjMC0yLS44LTMuOS0yLjItNS4zTDIyMCAxNjIuMmE3LjYgNy42IDAgMCAwLTUuNC0yLjJoLTUxLjFjLTIuNSAwLTQuNiAyLTQuNiA0LjZ2NDcuM2MwIDIgLjggNCAyLjIgNS40bDc4LjIgNzcuOGE0LjYgNC42IDAgMCAxIDAgNi41bC03OSA3OC43Yy0xIC45LTEuNCAyLTEuNCAzLjJ2NTJjMCAyLjQgMiA0LjUgNC42IDQuNUgyNDljMi42IDAgNC42LTIgNC42LTQuNlY0MDVjMC0xLjIuNS0yLjQgMS40LTMuM2w0Mi40LTQyLjJhNC42IDQuNiAwIDAgMSA2LjQgMGw3OC43IDc4LjRhNy42IDcuNiAwIDAgMCA1LjQgMi4yaDQ3LjVjMi41IDAgNC42LTIgNC42LTQuNloiLz48cGF0aCBmaWxsPSIjRUU3QTMwIiBmaWxsLXJ1bGU9Im5vbnplcm8iIGQ9Ik0zMjUuNiAyMjcuMmg0Mi44YzIuNiAwIDQuNiAyLjEgNC42IDQuNnY0Mi42YzAgNCA1IDYuMSA4IDMuMmw1OC43LTU4LjVjLjgtLjggMS4zLTIgMS4zLTMuMnYtNTEuMmMwLTIuNi0yLTQuNi00LjYtNC42TDM4NCAxNjBjLTEuMiAwLTIuNC41LTMuMyAxLjNsLTU4LjQgNTguMWE0LjYgNC42IDAgMCAwIDMuMiA3LjhaIi8+PC9nPjwvc3ZnPg==",webUrl:"https://xverse.app",chromeWebStoreUrl:"https://chrome.google.com/webstore/detail/xverse-wallet/idnnbdplmphpflfnlkomgpfbpcgelopg",googlePlayStoreUrl:"https://play.google.com/store/apps/details?id=com.secretkeylabs.xverse",iOSAppStoreUrl:"https://apps.apple.com/app/xverse-bitcoin-web3-wallet/id1552272513",mozillaAddOnsUrl:"https://www.xverse.app/download"},{id:"AsignaProvider",name:"Asigna Multisig",icon:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMiIgaGVpZ2h0PSIzMiIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMDEwMCIgZD0iTTAgMGgzMnYzMkgweiIvPjxwYXRoIGZpbGw9InVybCgjYSkiIGQ9Ik0xNS4xMSA1LjU1YTMgMyAwIDAgMC0xLjgyIDEuM2wtLjA1LjA4LS40My43Mi0uMDcuMTEtLjUuODUtLjA1LjA5LTEuMjkgMi4xOC0uMDQuMDctLjQ3LjgtLjA2LjEtLjQ2Ljc4LS4wNy4xMS0xLjYzIDIuNzYtLjA3LjExLS4zOC42Ni0uMDUuMDgtLjczIDEuMjQtLjM1LjYtLjQuNjctLjA1LjA5TDUuMSAyMC43bC0uMTEuMTgtLjE0LjIzLS4wNy4xMy0uMzMuNTUtLjA0LjA3di4wMWExLjI2IDEuMjYgMCAwIDAtLjE0LjQ3IDEuMzEgMS4zMSAwIDAgMCAxLjI0IDEuNGgxLjVsLjA1LS4wNi4wNC0uMDYuODctMS4yMS4wNS0uMDguNzctMS4wNy4wNS0uMDcuNC0uNTcuMDUtLjA2LjI0LS4zNGExLjUyIDEuNTIgMCAwIDEgMS4zOS0uNjIgMS41IDEuNSAwIDAgMSAuNjQuMiAxLjQ3IDEuNDcgMCAwIDEgLjczIDEuMjcgMS40NCAxLjQ0IDAgMCAxLS4yNy44NGwtLjYzLjg4LS4wNS4wNy0uMzIuNDUtLjA2LjA4LS4wOC4xMi0uMTIuMTYtLjA1LjA4aDIuMTNhMi4zMiAyLjMyIDAgMCAwIDEuNzctLjk2bDEuMTgtMS42My43Ny0xLjA4IDEuMy0xLjhhMS4yNCAxLjI0IDAgMCAxIC41NS0uNDNsLjA4LS4wM2ExLjMgMS4zIDAgMCAxIC4zLS4wNiAxLjI4IDEuMjggMCAwIDEgMS4xNS41NGwuMTEuMmExLjEzIDEuMTMgMCAwIDEgLjEuNDEgMS4xOSAxLjE5IDAgMCAxLS4yMy43N2wtLjAzLjA1LS41Ny44LS43Ljk4LS4yNy4zN2ExLjIyIDEuMjIgMCAwIDAtLjIuNSAxLjA1IDEuMDUgMCAwIDAtLjAyLjIzdi4wNmExLjE3IDEuMTcgMCAwIDAgLjE0LjQzbC4wMi4wNS4wNy4xYTEuNDQgMS40NCAwIDAgMCAuMS4xMWwuMDUuMDYuMDEuMDFhMS44IDEuOCAwIDAgMCAuMTQuMWMwIC4wMi4wMi4wMy4wNC4wM2ExIDEgMCAwIDAgLjA4LjA1bC4wNy4wNGExLjI1IDEuMjUgMCAwIDAgLjUuMWg2LjljLjEgMCAuMi0uMDEuMjktLjAzbC4wNi0uMDJhMS4yNyAxLjI3IDAgMCAwIC4yNy0uMS41Ny41NyAwIDAgMCAuMDctLjAzIDEuMjEgMS4yMSAwIDAgMCAuMjYtLjE5bC4wOC0uMDdhLjkyLjkyIDAgMCAwIC4xNS0uMTkgMS41NSAxLjU1IDAgMCAwIC4wOS0uMTdsLjAyLS4wNWExLjIyIDEuMjIgMCAwIDAgLjA4LS4yNnYtLjA0bC4wMi0uMDh2LS4wOGExLjMyIDEuMzIgMCAwIDAtLjItLjc0bC0xLjYtMi42NC0uMDYtLjEtLjItLjMyLS4zMy0uNTR2LS4wMWwtLjA1LS4wOC0xLjMtMi4xNS0uMDctLjEtLjA0LS4wNi0uOC0xLjMyLS4wNC0uMDctLjItLjM0LS4xLS4xNC0uMS0uMTYtLjUzLS45LS4xMy0uMi0uMDktLjE0LTIuMTctMy41Ny0uMDQtLjA3LS43Mi0xLjE5LS4wNS0uMDctLjQtLjY1YTIuNjUgMi42NSAwIDAgMC0uMy0uNCAyLjk2IDIuOTYgMCAwIDAtLjk3LS43NCAzLjA0IDMuMDQgMCAwIDAtMS4zLS4zYy0uMjUgMC0uNS4wNC0uNzQuMVoiLz48cGF0aCBmaWxsPSJ1cmwoI2IpIiBkPSJNMTkgMTYuM2E1LjQ1IDUuNDUgMCAwIDAtLjgzIDEuNTZsLS4wNC4xNWExLjM2IDEuMzYgMCAwIDEgLjI4LS4xNiAxLjI0IDEuMjQgMCAwIDEgLjM4LS4wOGguMWExLjI4IDEuMjggMCAwIDEgMS4wNS41NGMuMDQuMDYuMDguMTMuMS4yYTEuMjQgMS4yNCAwIDAgMSAuMDkuMjcgMS4xOSAxLjE5IDAgMCAxLS4yLjkxbC0uMDQuMDUtLjU3Ljc5LS43Ljk5LS4yNy4zN2ExLjIzIDEuMjMgMCAwIDAtLjIuNDIgMS4wNiAxLjA2IDAgMCAwLS4wMi4zMXYuMDZhMS4xNyAxLjE3IDAgMCAwIC4xNi40Ny45My45MyAwIDAgMCAuMDcuMSAxLjUgMS41IDAgMCAwIC4xLjEybC4wNS4wNmguMDFhMS45NCAxLjk0IDAgMCAwIC4wOS4wOCAxIDEgMCAwIDAgLjE3LjFsLjA3LjA0YTEuMjUgMS4yNSAwIDAgMCAuNS4xaDYuOWMuMSAwIC4yIDAgLjI4LS4wMmwuMDctLjAyYTEuMzIgMS4zMiAwIDAgMCAuMzQtLjEzbC4xNi0uMS4wMy0uMDNhMS4yOSAxLjI5IDAgMCAwIC4yLS4yIDIuNDMgMi40MyAwIDAgMCAuMTItLjE3Yy4wMy0uMDMuMDUtLjA4LjA3LS4xMmwuMDItLjA1YTEuMjEgMS4yMSAwIDAgMCAuMDktLjN2LS4wOGwuMDEtLjA5YTEuMzIgMS4zMiAwIDAgMC0uMi0uNzNsLTEuNi0yLjY0LS4wNi0uMS0uMi0uMzItLjMzLS41NHYtLjAybC0uMDUtLjA3LTEuMy0yLjE1LS4xMi0uMDctLjA3LS4wNGE0Ljk0IDQuOTQgMCAwIDAtMi40Ni0uNjdjLTEuMDMgMC0xLjc2LjU3LTIuMjYgMS4yWiIvPjxwYXRoIGZpbGw9IiNmZmYiIGQ9Ik0xMi4yOSAyMS4wOGMwIC4yOS0uMDkuNTgtLjI3Ljg0bC0xLjMxIDEuODRIN2wyLjUyLTMuNTNhMS41NCAxLjU0IDAgMCAxIDIuMS0uMzZjLjQzLjI4LjY2Ljc0LjY2IDEuMloiLz48cGF0aCBmaWxsPSIjMDAwIiBkPSJNMTEuMTYgMjEuMjVhLjU2LjU2IDAgMCAxLS41Ny41NS41Ni41NiAwIDAgMS0uNTctLjU2LjU2LjU2IDAgMCAxIC41Ny0uNTUuNTYuNTYgMCAwIDEgLjU3LjU2WiIvPjxkZWZzPjxsaW5lYXJHcmFkaWVudCBpZD0iYSIgeDE9IjE1LjIzIiB4Mj0iMTkuMyIgeTE9IjI1Ljc4IiB5Mj0iNi4xMSIgZ3JhZGllbnRVbml0cz0idXNlclNwYWNlT25Vc2UiPjxzdG9wIHN0b3AtY29sb3I9IiM2NTIyRjQiLz48c3RvcCBvZmZzZXQ9Ii41NSIgc3RvcC1jb2xvcj0iIzlCNkJGRiIvPjxzdG9wIG9mZnNldD0iMSIgc3RvcC1jb2xvcj0iI0E1ODVGRiIvPjwvbGluZWFyR3JhZGllbnQ+PGxpbmVhckdyYWRpZW50IGlkPSJiIiB4MT0iMjIuNTkiIHgyPSIyNC44IiB5MT0iMjQuNzEiIHkyPSIxNS41MyIgZ3JhZGllbnRVbml0cz0idXNlclNwYWNlT25Vc2UiPjxzdG9wIHN0b3AtY29sb3I9IiM0MjFGOEIiLz48c3RvcCBvZmZzZXQ9Ii41NSIgc3RvcC1jb2xvcj0iIzcyMzBGRiIvPjxzdG9wIG9mZnNldD0iMSIgc3RvcC1jb2xvcj0iIzk3NzNGRiIvPjwvbGluZWFyR3JhZGllbnQ+PC9kZWZzPjwvc3ZnPg==",webUrl:"https://asigna.io",chromeWebStoreUrl:"https://stx.asigna.io/"},{id:"FordefiProviders.UtxoProvider",name:"Fordefi",icon:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDIiIGhlaWdodD0iNDIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CiAgPHBhdGggZmlsbD0iIzEwMTExNCIgZD0iTTAgMGg0MnY0MkgweiIvPgogIDxwYXRoIGQ9Ik0xOS40NyAyNi44OUg1djMuNTdhNC41NyA0LjU3IDAgMCAwIDQuNTggNC41N2g1LjgzbDQuMDYtOC4xNFoiIGZpbGw9IiM3OTk0RkYiLz4KICA8cGF0aCBkPSJNNSAxNy40aDI3LjU4bC0zLjIgNi43OEg1VjE3LjRaIiBmaWxsPSIjNDg2REZGIi8+CiAgPHBhdGggZD0iTTE0LjY3IDdINXY3LjY4aDMzVjdoLTkuNjd2NS43NGgtMlY3aC05LjY3djUuNzRoLTEuOTlWN1oiIGZpbGw9IiM1Q0QxRkEiLz4KPC9zdmc+Cg==",webUrl:"https://www.fordefi.com/",chromeWebStoreUrl:"https://chromewebstore.google.com/detail/fordefi/hcmehenccjdmfbojapcbcofkgdpbnlle"}],Khe={id:"WalletConnectProvider",name:"WalletConnect",icon:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI0MDAiIGhlaWdodD0iNDAwIiBmaWxsPSJub25lIj48bWFzayBpZD0iYSIgd2lkdGg9IjQwMCIgaGVpZ2h0PSI0MDAiIHg9IjAiIHk9IjAiIG1hc2tVbml0cz0idXNlclNwYWNlT25Vc2UiIHN0eWxlPSJtYXNrLXR5cGU6bHVtaW5hbmNlIj48cGF0aCBmaWxsPSIjZmZmIiBkPSJNMCAwaDQwMHY0MDBIMFYwWiIvPjwvbWFzaz48ZyBtYXNrPSJ1cmwoI2EpIj48cGF0aCBmaWxsPSIjMzM5NkZGIiBkPSJNNDAwIDQwMEgwVjBoNDAwdjQwMFoiLz48cGF0aCBmaWxsPSIjZmZmIiBkPSJNMTIyLjUyIDE0OC45N2M0Mi43OS00MS43MyAxMTIuMTctNDEuNzMgMTU0Ljk2IDBsNS4xNSA1LjAyYTUuMjUgNS4yNSAwIDAgMSAwIDcuNTVsLTE3LjYyIDE3LjE4YTIuNzkgMi43OSAwIDAgMS0zLjg3IDBsLTcuMDktNi45Yy0yOS44NS0yOS4xMi03OC4yNS0yOS4xMi0xMDguMSAwbC03LjYgNy40YTIuNzkgMi43OSAwIDAgMS0zLjg3IDBsLTE3LjYxLTE3LjE5YTUuMjUgNS4yNSAwIDAgMSAwLTcuNTVsNS42NS01LjUxWm0xOTEuNCAzNS41MiAxNS42OCAxNS4zYTUuMjUgNS4yNSAwIDAgMSAwIDcuNTVsLTcwLjcgNjguOTRhNS41OCA1LjU4IDAgMCAxLTcuNzUgMGwtNTAuMTgtNDguOTNhMS40IDEuNCAwIDAgMC0xLjk0IDBsLTUwLjE4IDQ4LjkzYTUuNTggNS41OCAwIDAgMS03Ljc0IDBsLTcwLjctNjguOTRhNS4yNSA1LjI1IDAgMCAxIDAtNy41NmwxNS42Ny0xNS4yOWE1LjU4IDUuNTggMCAwIDEgNy43NSAwbDUwLjE4IDQ4Ljk0Yy41NC41MiAxLjQuNTIgMS45NCAwbDUwLjE4LTQ4Ljk0YTUuNTggNS41OCAwIDAgMSA3Ljc0IDBsNTAuMTggNDguOTRjLjU0LjUyIDEuNC41MiAxLjk0IDBsNTAuMTgtNDguOTRhNS41OCA1LjU4IDAgMCAxIDcuNzUgMFoiLz48L2c+PC9zdmc+",webUrl:"https://walletconnect.com/",chromeWebStoreUrl:""};function Ghe(){return By(cD())||window.StacksProvider||window.BlockstackProvider}function I0(e,t){var n,r;return e instanceof t||((r=(n=e?.constructor)==null?void 0:n.name)==null?void 0:r.toLowerCase())===t.name}function Yhe(e){return e?typeof e=="string"?e:I0(e,hM)?"mainnet":I0(e,dM)?"testnet":I0(e,pM)||I0(e,wA)?"devnet":"coreApiUrl"in e?e.coreApiUrl:"url"in e?e.url:"transactionVersion"in e?e.transactionVersion===Ol.Mainnet?"mainnet":"testnet":"mainnet":"mainnet"}function hf(e){if(typeof e.type=="string")return e;switch(e.type){case ot.BoolFalse:return a_(!1);case ot.BoolTrue:return a_(!0);case ot.Int:return pV(e.value);case ot.UInt:return gV(e.value);case ot.Buffer:return EV(e.buffer);case ot.StringASCII:return bV(e.data);case ot.StringUTF8:return vV(e.data);case ot.List:return wV(e.list.map(hf));case ot.Tuple:return NV(Object.fromEntries(Object.entries(e.data).map(([n,r])=>[n,hf(r)])));case ot.OptionalNone:return SV();case ot.OptionalSome:return AV(hf(e.value));case ot.ResponseErr:return xV(hf(e.value));case ot.ResponseOk:return CV(hf(e.value));case ot.PrincipalContract:return mV(o_(e.address),e.contractName.content);case ot.PrincipalStandard:return yV(o_(e.address));default:let t=e;throw new Error(`Unknown clarity type: ${t}`)}}var Xhe="stx_callContract",Zhe=e=>{var t;let n=(t=e.functionArgs)==null?void 0:t.map(r=>typeof r=="string"?TV(r):hf(r)).map(r=>Q2(r));return Wi(lr({},e),{contract:`${e.contractAddress}.${e.contractName}`,functionArgs:n,network:Yhe(e.network),postConditionMode:ede(e.postConditionMode),postConditions:Jhe(e.postConditions),address:e.stxAddress})},Qhe=e=>({txId:e.txid,txRaw:e.transaction,stacksTransaction:fV(e.transaction)});function jR(e,t=Ghe()){hde(Xhe,Zhe,Qhe)(e,t)}function Jhe(e){if(typeof e<"u")return e.map(t=>typeof t=="string"?t:typeof t.type=="string"?Wi(lr({},t),{amount:"amount"in t?t.amount.toString():void 0}):Ke(YV(t)))}function ede(e){if(typeof e<"u"){if(typeof e=="string")return e;switch(e){case hc.Allow:return"allow";case hc.Deny:return"deny";default:let t=e;throw new Error(`Unknown post condition mode: ${t}. Should be one of: 'allow', 'deny'`)}}}var tde=bde,zR="@stacks/connect",nde={addresses:{stx:[],btc:[]},version:"0.0.1"},o6=e=>[...new Map(e.map(t=>[t.address,t])).values()].map(t=>{var n=zhe(t,[]);return"publicKey"in n&&delete n.publicKey,"derivationPath"in n&&delete n.derivationPath,"tweakedPublicKey"in n&&delete n.tweakedPublicKey,n});function rde(e){try{let t=sde()||nde,n=Wi(lr({},t),{updatedAt:Date.now(),addresses:lr(lr({},t.addresses),e.addresses&&{stx:e.addresses.stx&&o6([...t.addresses.stx,...e.addresses.stx]),btc:e.addresses.btc&&o6([...t.addresses.btc,...e.addresses.btc])})});localStorage.setItem(zR,Ke(eh(JSON.stringify(n))))}catch(t){console.warn("Failed to store data in localStorage:",t)}}function sde(){try{let e=localStorage.getItem(zR);return e?JSON.parse(Ry(Rt(e))):null}catch(e){return console.warn("Failed to get data from localStorage:",e),null}}var ide=["stx_signMessage","stx_signTransaction","stx_signStructuredMessage","stx_getAccounts","stx_getAddresses","stx_updateProfile","stx_transferStx","stx_transferSip10Ft","stx_transferSip9Nft","stx_callContract","stx_deployContract","sendTransfer","signPsbt","getAddresses"],rS={id:1,chainNamespace:"stacks",caipNetworkId:"stacks:1",name:"Stacks",nativeCurrency:{name:"STX",symbol:"STX",decimals:6},rpcUrls:{default:{http:["https://api.mainnet.hiro.so"]}}},ode={projectId:"your_project_id",metadata:{name:"Universal Connector",description:"Universal Connector",url:"https://appkit.reown.com",icons:["https://appkit.reown.com/icon.png"]},networks:[{namespace:"stacks",chains:[rS],methods:ide,events:["stx_chainChanged","stx_accountsChanged"]},{namespace:"bip122",chains:[UR],methods:["signMessage","sendTransfer","signPsbt","getAccountAddresses"],events:["bip122_addressesChanged"]}]};function a6(e){return{jsonrpc:"2.0",id:1,result:e}}var ade=class{constructor(e){this.connector=e}async connect(){try{let{session:e}=await this.connector.connect();return e}catch(e){throw console.error(">> WalletConnectProvider connect error",e),e}}get stacksAddresses(){var e;let t=(e=this.connector.provider)==null?void 0:e.session,n=t?.sessionProperties.stacks_getAddresses,r=JSON.parse(n||"[]"),s=[...t.namespaces.stacks.accounts.map(o=>({address:o.split(":")[2],publicKey:""}))||[],...r||[]].sort(o=>o.publicKey?1:-1);return Array.from(new Map(s.map(o=>[o.address,o])).values())}get btcAddresses(){var e;let t=(e=this.connector.provider)==null?void 0:e.session,n=t?.sessionProperties.bip122_getAccountAddresses,r=JSON.parse(n||"{}"),s=t.namespaces.bip122.accounts.map(c=>({address:c.split(":")[2],publicKey:""})),o=[...r?.payment.map(c=>Wi(lr({},c),{purpose:"payment"}))||[],...r?.ordinal.map(c=>Wi(lr({},c),{purpose:"ordinal"}))||[],...s||[]].sort(c=>c.publicKey?1:-1).sort((c,l)=>c?.address.length-l?.address.length);return Array.from(new Map(o.map(c=>[c.address,c])).values())}async getAddresses(){var e;let t=(e=this.connector.provider)==null?void 0:e.session;t||(t=await this.connect());let n=this.stacksAddresses||[],r=this.btcAddresses||[];return{addresses:[...n,...r]}}validateRpcMethod(e){var t,n,r,s;if(["getAddresses","stx_getAccounts","stx_getAddresses"].includes(e))return;if(!((t=this.connector.provider)!=null&&t.session))throw new Error("WalletConnectProvider not connected. Please connect first.");let o=(n=this.connector.provider)==null?void 0:n.session.namespaces,c=((r=o.stacks)==null?void 0:r.methods)||[],l=((s=o.bip122)==null?void 0:s.methods)||[];if(![...c,...l].includes(e))throw new Error(`WalletConnectProvider does not support method ${e}. Please use a supported method.`)}getTargetCaipNetworkId(e){var t,n,r,s,o,c,l,f;if(["getAddresses","stx_getAccounts","stx_getAddresses"].includes(e)||(s=(r=(n=(t=this.connector.provider)==null?void 0:t.session)==null?void 0:n.namespaces)==null?void 0:r.stacks)!=null&&s.methods.includes(e))return rS.caipNetworkId;if((f=(l=(c=(o=this.connector.provider)==null?void 0:o.session)==null?void 0:c.namespaces)==null?void 0:l.bip122)!=null&&f.methods.includes(e))return UR.caipNetworkId;throw new Error(`WalletConnectProvider does not support method ${e}. Please use a supported method.`)}async request(e,t){var n,r,s,o;try{this.validateRpcMethod(e);let c=this.getTargetCaipNetworkId(e);switch(e){case"getAddresses":case"stx_getAddresses":case"stx_getAccounts":let l=await this.getAddresses();return a6(l);case"stx_signMessage":let f=((o=(s=(r=(n=this.connector.provider)==null?void 0:n.session)==null?void 0:r.namespaces)==null?void 0:s.stacks)==null?void 0:o.accounts[0]).split(":")[2],d=await this.connector.request({method:e,params:lr({address:f},t)},c);return a6(d);default:return await this.connector.request({method:e,params:t},c)}}catch(c){throw console.error(">> WalletConnectProvider request error",c),c}}async disconnect(){await this.connector.disconnect()}},cde=async e=>{let t=await fC.init(Wi(lr({},ode),{projectId:e})),n=new ade(t);window.WalletConnectProvider=n};async function sS(e,t,n){var r;try{let s=await e.request(t,n);if("error"in s)throw Cf.fromResponse(s.error);return s.result}catch(s){if(s instanceof Cf)throw s;if("jsonrpc"in s)throw Cf.fromResponse(s.error);let o=(r=s.code)!=null?r:-31e3;throw new Cf(s.message,o,s.data,s)}}function lde(e){return e?async function(t,n,r){let s=await sS(t,n,r);if((n==="getAddresses"||n==="wallet_connect")&&"addresses"in s){let{stx:o,btc:c}=wde(s.addresses).reduce((l,f)=>(l[f.address.startsWith("S")?"stx":"btc"].push(f),l),{stx:[],btc:[]});rde({addresses:{stx:o,btc:c}})}return s}:sS}async function ude(...e){let{options:t,method:n,params:r}=fde(e),s=Whe;t!=null&&t.walletConnectProjectId&&(await cde(t.walletConnectProjectId).catch(console.error),s=[...s,Khe]);let o=Object.assign({provider:Tz(),defaultProviders:s,forceWalletSelect:!1,persistWalletSelect:!0,enableOverrides:!0,enableLocalStorage:!0},gde(t)),c=mde(o.enableOverrides,lde(o.enableLocalStorage));if(o.provider&&!o.forceWalletSelect){let{method:l,params:f}=iS(o.provider,n,r,o.enableOverrides);return await c(o.provider,l,oS(f))}if(typeof window<"u")return yH(),new Promise((l,f)=>{let d=document.createElement("connect-modal");d.defaultProviders=c6(o.approvedProviderIds,s),d.installedProviders=c6(o.approvedProviderIds,Nz(s));let p=document.body.style.overflow;document.body.style.overflow="hidden";let g=()=>{d.remove(),document.body.style.overflow=p};d.callback=b=>{g();let v=By(b),{method:E,params:S}=iS(v,n,r,o.enableOverrides),C=yde(o.persistWalletSelect,b);l(c(v,E,oS(S)).then(C))},d.cancelCallback=()=>{g(),f(new Cf("User canceled the request",-31001))},document.body.appendChild(d);let y=b=>{b.key==="Escape"&&(document.removeEventListener("keydown",y),d.remove(),f(new Cf("User canceled the request",-31001)))};document.addEventListener("keydown",y)})}function fde(e){return typeof e[0]=="string"?{method:e[0],params:e[1]}:{options:e[0],method:e[1],params:e[2]}}function c6(e,t){return e?t.filter(n=>e.includes(n.id)):t}function hde(e,t,n){return(r,s)=>{if(!s)throw new Error("[Connect] No installed Stacks wallet found");let o=t(r),c=r,{method:l,params:f}=iS(s,e,o);sS(s,l,oS(f)).then(d=>{var p;let g=n(d);(p=c.onFinish)==null||p.call(c,g)}).catch(c.onCancel)}}function O0(e){return dde(e)||pde(e)}function dde(e){return"signMultipleTransactions"in e&&"createRepeatInscriptions"in e&&!(e!=null&&e.isLeather)&&!(e!=null&&e.isFordefi)}function pde(e){return"isFordefi"in e&&!!e.isFordefi}function l6(e){return"isLeather"in e&&!!e.isLeather}function gde(e){if(e===void 0)return{};let t={};for(let[n,r]of Object.entries(e))r!==void 0&&(t[n]=r);return t}function mde(e,t){return e?async(n,r,s)=>{let o=await t(n,r,s),c=lr({},o);return o!==null&&"txId"in o&&o.txId&&!("txid"in c)&&(c.txid=o.txId),o!==null&&"hex"in o&&o.hex&&typeof o.hex=="string"&&!("psbt"in c)&&(c.psbt=oD.encode(Rt(o.hex))),c}:t}function iS(e,t,n,r=!0){if(!r)return{method:t,params:n};if(O0(e)&&["getAddresses","stx_getAddresses"].includes(t))return{method:"wallet_connect",params:n};if(O0(e)&&t==="sendTransfer"){let s=Wi(lr({},n),{recipients:n.recipients.map(o=>Wi(lr({},o),{amount:Number(o.amount)})),network:void 0});return{method:t,params:s}}if(O0(e)&&t==="signPsbt"){let s=n.signInputs;if(!s)return{method:t,params:n};let o={};for(let l of s)typeof l!="number"&&l.address&&(o[l.address]||(o[l.address]=[]),o[l.address].push(l.index));let c={psbt:n.psbt,signInputs:o,broadcast:n.broadcast};return{method:t,params:c}}if(!O0(e)&&t==="stx_signMessage"){let s=lr({},n);return delete s.publicKey,{method:t,params:s}}if(l6(e)&&t==="sendTransfer"){let s=Wi(lr({},n),{recipients:n.recipients.map(o=>Wi(lr({},o),{amount:o.amount.toString()}))});return{method:t,params:s}}if(l6(e)&&t==="signPsbt"){let s={hex:Ke(oD.decode(n.psbt)),signAtIndex:n.signInputs.map(o=>typeof o=="number"?o:o.index),allowedSighash:n.allowedSighash,broadcast:n.broadcast,network:n.network};return{method:t,params:s}}return{method:t,params:n}}var u6=["stx-postcondition","ft-postcondition","nft-postcondition"];function oS(e){if(!e||typeof e!="object")return e;let t=lr({},e);for(let[n,r]of Object.entries(e)){if(typeof r=="bigint"){t[n]=r.toString();continue}if(r){if(Array.isArray(r)){t[n]=r.map(s=>typeof s=="bigint"?s.toString():!s||typeof s!="object"||!("type"in s)?s:u6.includes(s.type)?i_(s):Q2(s));continue}typeof r=="object"&&"type"in r&&(t[n]=u6.includes(r.type)?i_(r):Q2(r))}}return JSON.parse(JSON.stringify(t))}function yde(e,t){return function(n){if(e)try{Cz(t)}catch{}return n}}function wde(e){return e.slice().sort((t,n)=>{let r="purpose"in t&&t.purpose==="payment",s="purpose"in n&&n.purpose==="payment";return r&&!s?-1:!r&&s?1:0})}typeof window<"u"&&(window.__CONNECT_VERSION__="__VERSION__");var bde=async(e,t)=>{var n,r,s,o,c,l;let{onFinish:f,onCancel:d,userSession:p}=e,g=Cde(p);g.isUserSignedIn()&&g.signUserOut();try{let y=await ude({provider:t,forceWalletSelect:!0},"getAddresses"),b=g.store.getSessionData();(n=b.userData)!=null||(b.userData={profile:{}}),(s=(r=b.userData).profile)!=null||(r.profile={}),(c=(o=b.userData.profile).stxAddress)!=null||(o.stxAddress={mainnet:"",testnet:""});let v=y.addresses.find(C=>C?.symbol==="STX"||C.address.startsWith("S")).address.toUpperCase(),E=v[1]==="P"||v[1]==="M";Object.assign(b.userData.profile.stxAddress,{[E?"mainnet":"testnet"]:v});let S=(l=y.addresses.find(C=>{var O;return(O=C?.address)!=null&&O.startsWith("S")?!1:C.purpose==="payment"?!0:f6(C?.address)?y.addresses.every(x=>{var N;return((N=x?.address)==null?void 0:N.startsWith("S"))||f6(x?.address)}):!0}))==null?void 0:l.address;S&&(b.userData.profile.btcAddress=S),g.store.setSessionData(b),f?.({userSession:g,authResponsePayload:b.userData})}catch(y){console.error("[Connect] Error during auth request",y),d?.(y)}},vde="blockstack-session",Ede=class{constructor(e,t,n,r,s,o){}},HR=class{constructor(e){e!=null&&e.appConfig&&(this.appConfig=e.appConfig),typeof window>"u"&&typeof self>"u"?this.store=new Sde:this.store=new Ade}makeAuthRequestToken(){}generateAndStoreTransitKey(){}getAuthResponseToken(){}isSignInPending(){return!1}isUserSignedIn(){return!!this.store.getSessionData().userData}async handlePendingSignIn(){return Promise.resolve(this.loadUserData())}loadUserData(){let e=this.store.getSessionData().userData;if(!e)throw new VS("No user data found. Did the user sign in?");return e}encryptContent(){}decryptContent(){}signUserOut(e){this.store.deleteSessionData(),e&&typeof location<"u"&&location.href&&(location.href=e)}},FR=class{constructor(e){e&&this.setSessionData(e)}getSessionData(){throw new Error("Abstract class")}setSessionData(e){throw new Error("Abstract class")}deleteSessionData(){throw new Error("Abstract class")}},Sde=class extends FR{constructor(e){super(e),this.sessionData||this.setSessionData({})}getSessionData(){if(!this.sessionData)throw new VS("No session data was found.");return this.sessionData}setSessionData(e){return this.sessionData=e,!0}deleteSessionData(){return this.setSessionData({}),!0}},Ade=class extends FR{constructor(e){var t;super(e),this.key=typeof((t=e?.storeOptions)==null?void 0:t.localStorageKey)=="string"?e.storeOptions.localStorageKey:vde,localStorage.getItem(this.key)||this.setSessionData({})}getSessionData(){let e=localStorage.getItem(this.key);if(!e)throw new VS("No session data was found in localStorage");return JSON.parse(e)}setSessionData(e){return localStorage.setItem(this.key,JSON.stringify(e)),!0}deleteSessionData(){return localStorage.removeItem(this.key),this.setSessionData({}),!0}},Cde=e=>e||new HR;function f6(e){let t=["bc1p","tb1p","bcrt1p"],n=[62,62,64],r=t.findIndex(s=>e.startsWith(s));return r===-1?!1:e.length===n[r]}var xde=(e=>(e.ContractCall="contract_call",e.ContractDeploy="smart_contract",e.STXTransfer="token_transfer",e))(xde||{}),Nde=(e=>(e.BUFFER="buffer",e.UINT="uint",e.INT="int",e.PRINCIPAL="principal",e.BOOL="bool",e))(Nde||{}),Tde=(e=>(e[e.DEFAULT=0]="DEFAULT",e[e.ALL=1]="ALL",e[e.NONE=2]="NONE",e[e.SINGLE=3]="SINGLE",e[e.ANYONECANPAY=128]="ANYONECANPAY",e))(Tde||{});const _de=new Ede(["store_write","publish_data"]),Gf=new HR({appConfig:_de}),Ide=(e,t)=>{tde({onFinish:()=>{const n=Gf.loadUserData(),r=n.profile.stxAddress.testnet||n.profile.stxAddress.mainnet;e(r)},onCancel:()=>{t&&t()},userSession:Gf})},Ode=()=>{Gf.signUserOut()},Dde=()=>Gf.isUserSignedIn(),Mde=()=>{if(Gf.isUserSignedIn()){const e=Gf.loadUserData();return e.profile.stxAddress.testnet||e.profile.stxAddress.mainnet}return null},qR="ST28MDT9SAV31XJ73M2W3W5DVC1NWHYX713Q6SEP5",VR="quest-nft",$de=async()=>new Promise((e,t)=>{jR({network:"testnet",contractAddress:qR,contractName:VR,functionName:"mint-quest-pass",functionArgs:[],postConditionMode:hc.Allow,onFinish:n=>{console.log("Quest Pass minted, txId:",n.txId),e({success:!0,txId:n.txId,message:"Quest Pass NFT minted successfully!"})},onCancel:()=>{t(new Error("Transaction cancelled"))}})}),Ude=async e=>new Promise((t,n)=>{jR({network:"testnet",contractAddress:qR,contractName:VR,functionName:"mint-quest-badge",functionArgs:[aA(e)],postConditionMode:hc.Allow,onFinish:r=>{console.log(`Quest Badge Level ${e} minted, txId:`,r.txId),t({success:!0,txId:r.txId,message:`Quest Badge Level ${e} minted successfully!`})},onCancel:()=>{n(new Error("Transaction cancelled"))}})}),WR=()=>{const{walletConnected:e,walletAddress:t,connectWallet:n,disconnectWallet:r}=Xf();Ho.useEffect(()=>{if(Dde()){const l=Mde();l&&n(l)}},[]);const s=()=>{Ide(l=>{n(l)},()=>{console.log("Wallet connection cancelled")})},o=()=>{Ode(),r()},c=l=>l?`${l.slice(0,6)}...${l.slice(-4)}`:"";return Q.jsx("div",{className:"flex items-center gap-4",children:e?Q.jsxs("div",{className:"flex items-center gap-3",children:[Q.jsx("div",{className:"bg-game-blue/20 border-2 border-game-yellow px-4 py-2 rounded-lg",children:Q.jsx("span",{className:"font-retro text-sm",children:c(t)})}),Q.jsx(We.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:o,className:"bg-red-600 text-white px-4 py-2 rounded-lg font-pixel text-xs hover:bg-red-700 transition-all",children:"Disconnect"})]}):Q.jsxs(We.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:s,className:"flex items-center gap-2 bg-game-yellow text-game-dark px-6 py-3 rounded-lg font-pixel text-xs hover:box-shadow-neon transition-all",children:[Q.jsx(Jj,{}),"Connect Wallet"]})})},Rde=({onStartGame:e,onMintPass:t})=>{const{walletConnected:n,questPassMinted:r}=Xf();return Q.jsxs("div",{className:"min-h-screen bg-game-dark flex flex-col items-center justify-center p-8",children:[Q.jsxs(We.div,{initial:{opacity:0,y:-50},animate:{opacity:1,y:0},transition:{duration:.8},className:"text-center",children:[Q.jsx(We.h1,{className:"font-pixel text-4xl md:text-6xl text-game-yellow text-shadow-glow mb-4",animate:{scale:[1,1.05,1]},transition:{duration:2,repeat:1/0},children:" BLOCK QUEST"}),Q.jsx(We.p,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.3},className:"font-retro text-xl text-white mb-8 max-w-2xl",children:"A blockchain mining adventure on Stacks (Bitcoin Layer 2)"}),Q.jsx("div",{className:"mb-12 flex justify-center",children:Q.jsx(WR,{})}),Q.jsxs(We.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.5},className:"bg-game-blue/10 border-2 border-game-yellow rounded-lg p-8 mb-8 max-w-3xl",children:[Q.jsx("h2",{className:"font-pixel text-2xl text-game-yellow mb-6",children:"How to Play"}),Q.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 text-left",children:[Q.jsxs("div",{className:"flex items-start gap-3",children:[Q.jsx(FS,{className:"text-game-yellow text-3xl mt-1"}),Q.jsxs("div",{children:[Q.jsx("h3",{className:"font-pixel text-sm text-white mb-2",children:"Mine Blocks"}),Q.jsx("p",{className:"font-retro text-gray-300",children:"Click tiles to discover coins (60%), crystals (20%), empty blocks (15%), or traps (5%)"})]})]}),Q.jsxs("div",{className:"flex items-start gap-3",children:[Q.jsx(qS,{className:"text-blue-400 text-3xl mt-1"}),Q.jsxs("div",{children:[Q.jsx("h3",{className:"font-pixel text-sm text-white mb-2",children:"Level Up"}),Q.jsx("p",{className:"font-retro text-gray-300",children:"Earn XP from mining. Every 500 XP = Level Up!"})]})]}),Q.jsxs("div",{className:"flex items-start gap-3",children:[Q.jsx(N2,{className:"text-green-400 text-3xl mt-1"}),Q.jsxs("div",{children:[Q.jsx("h3",{className:"font-pixel text-sm text-white mb-2",children:"Mint NFTs"}),Q.jsx("p",{className:"font-retro text-gray-300",children:"Get Quest Pass to start, then mint Quest Badges as you level up"})]})]}),Q.jsxs("div",{className:"flex items-start gap-3",children:[Q.jsx(uT,{className:"text-purple-400 text-3xl mt-1"}),Q.jsxs("div",{children:[Q.jsx("h3",{className:"font-pixel text-sm text-white mb-2",children:"Compete"}),Q.jsx("p",{className:"font-retro text-gray-300",children:"Climb the leaderboard and prove you're the ultimate miner!"})]})]})]})]}),Q.jsxs("div",{className:"flex flex-col md:flex-row gap-6 justify-center items-center",children:[Q.jsxs(We.button,{whileHover:{scale:1.1},whileTap:{scale:.95},onClick:e,disabled:!n,className:`flex items-center gap-3 px-8 py-4 rounded-lg font-pixel text-lg transition-all ${n?"bg-game-yellow text-game-dark hover:box-shadow-neon cursor-pointer":"bg-gray-600 text-gray-400 cursor-not-allowed"}`,children:[Q.jsx(uT,{}),"Start Quest"]}),n&&!r&&Q.jsxs(We.button,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},whileHover:{scale:1.1},whileTap:{scale:.95},onClick:t,className:"flex items-center gap-3 bg-green-600 text-white px-8 py-4 rounded-lg font-pixel text-lg hover:bg-green-700 transition-all",children:[Q.jsx(N2,{}),"Mint Quest Pass"]})]}),!n&&Q.jsx(We.p,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.8},className:"font-retro text-gray-400 mt-6",children:" Connect your wallet to start playing"})]}),Q.jsx(We.footer,{initial:{opacity:0},animate:{opacity:1},transition:{delay:1},className:"absolute bottom-4 text-center font-retro text-gray-500",children:"Built on Stacks  Powered by Bitcoin"})]})},Pde=({onLevelUp:e})=>{const{mineBlock:t,minedBlocks:n}=Xf(),[r,s]=me.useState(null),[o,c]=me.useState({}),l=10,f=Array.from({length:l*l},(y,b)=>b),d=y=>{if(n.includes(y))return;const b=t(y);b&&(s(y),c(v=>({...v,[y]:b.result})),setTimeout(()=>{s(null),b.levelUp&&e(b.newLevel)},800))},p=y=>{const b=o[y];if(!b)return"?";switch(b){case"coin":return Q.jsx(FS,{className:"text-yellow-400 text-2xl"});case"crystal":return Q.jsx(qS,{className:"text-blue-400 text-2xl"});case"trap":return Q.jsx(KO,{className:"text-red-500 text-2xl"});case"empty":return Q.jsx("span",{className:"text-gray-500 text-2xl",children:""});default:return"?"}},g=y=>{if(!n.includes(y))return"bg-gradient-to-br from-gray-700 to-gray-800 hover:from-gray-600 hover:to-gray-700";switch(o[y]){case"coin":return"bg-gradient-to-br from-yellow-600 to-yellow-800";case"crystal":return"bg-gradient-to-br from-blue-600 to-blue-800";case"trap":return"bg-gradient-to-br from-red-600 to-red-800";case"empty":return"bg-gradient-to-br from-gray-600 to-gray-800";default:return"bg-gray-700"}};return Q.jsx("div",{className:"flex justify-center items-center p-4",children:Q.jsx("div",{className:"grid grid-cols-10 gap-1 md:gap-2 max-w-4xl",children:f.map(y=>{const b=n.includes(y),v=r===y;return Q.jsx(We.button,{onClick:()=>d(y),disabled:b,className:`
                w-10 h-10 md:w-14 md:h-14 lg:w-16 lg:h-16
                rounded-lg border-2 border-game-yellow/30
                flex items-center justify-center
                transition-all duration-300
                ${g(y)}
                ${b?"cursor-not-allowed":"cursor-pointer hover:border-game-yellow"}
                ${v?"border-game-yellow box-shadow-neon":""}
              `,whileHover:b?{}:{scale:1.1},whileTap:b?{}:{scale:.9},animate:v?{rotateY:[0,180],scale:[1,1.2,1]}:{},transition:{duration:.6},children:Q.jsx($S,{mode:"wait",children:b?Q.jsx(We.div,{initial:{opacity:0,scale:0},animate:{opacity:1,scale:1},exit:{opacity:0,scale:0},transition:{duration:.3},children:p(y)},"result"):Q.jsx(We.span,{className:"text-game-yellow text-2xl md:text-3xl font-pixel",animate:{opacity:[.5,1,.5]},transition:{duration:2,repeat:1/0},children:"?"},"question")})},y)})})})},Bde=({onMintBadge:e})=>{const{coins:t,crystals:n,traps:r,level:s,xp:o,questBadges:c}=Xf(),l=s*500,f=o/l*100;return Q.jsxs("div",{className:"bg-game-blue/10 border-2 border-game-yellow rounded-lg p-6 w-full max-w-md",children:[Q.jsx("h2",{className:"font-pixel text-xl text-game-yellow mb-6 text-center",children:"Inventory"}),Q.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[Q.jsxs(We.div,{whileHover:{scale:1.05},className:"bg-yellow-900/30 border border-yellow-600 rounded-lg p-4 flex items-center gap-3",children:[Q.jsx(FS,{className:"text-yellow-400 text-3xl"}),Q.jsxs("div",{children:[Q.jsx("p",{className:"font-retro text-gray-300 text-sm",children:"Coins"}),Q.jsx("p",{className:"font-pixel text-xl text-white",children:t})]})]}),Q.jsxs(We.div,{whileHover:{scale:1.05},className:"bg-blue-900/30 border border-blue-600 rounded-lg p-4 flex items-center gap-3",children:[Q.jsx(qS,{className:"text-blue-400 text-3xl"}),Q.jsxs("div",{children:[Q.jsx("p",{className:"font-retro text-gray-300 text-sm",children:"Crystals"}),Q.jsx("p",{className:"font-pixel text-xl text-white",children:n})]})]}),Q.jsxs(We.div,{whileHover:{scale:1.05},className:"bg-red-900/30 border border-red-600 rounded-lg p-4 flex items-center gap-3",children:[Q.jsx(KO,{className:"text-red-400 text-3xl"}),Q.jsxs("div",{children:[Q.jsx("p",{className:"font-retro text-gray-300 text-sm",children:"Traps"}),Q.jsx("p",{className:"font-pixel text-xl text-white",children:r})]})]}),Q.jsxs(We.div,{whileHover:{scale:1.05},className:"bg-purple-900/30 border border-purple-600 rounded-lg p-4 flex items-center gap-3",children:[Q.jsx(GO,{className:"text-purple-400 text-3xl"}),Q.jsxs("div",{children:[Q.jsx("p",{className:"font-retro text-gray-300 text-sm",children:"Level"}),Q.jsx("p",{className:"font-pixel text-xl text-white",children:s})]})]})]}),Q.jsxs("div",{className:"mb-6",children:[Q.jsxs("div",{className:"flex justify-between items-center mb-2",children:[Q.jsx("span",{className:"font-retro text-sm text-gray-300",children:"XP Progress"}),Q.jsxs("span",{className:"font-retro text-sm text-game-yellow",children:[o," / ",l]})]}),Q.jsx("div",{className:"w-full bg-gray-700 rounded-full h-4 overflow-hidden border border-game-yellow/50",children:Q.jsx(We.div,{className:"bg-gradient-to-r from-game-yellow to-yellow-600 h-full",initial:{width:0},animate:{width:`${f}%`},transition:{duration:.5}})})]}),c.length>0&&Q.jsxs("div",{className:"mb-4",children:[Q.jsxs("h3",{className:"font-pixel text-sm text-game-yellow mb-3 flex items-center gap-2",children:[Q.jsx(Qj,{className:"text-yellow-400"}),"Quest Badges"]}),Q.jsx("div",{className:"flex flex-wrap gap-2",children:c.map((d,p)=>Q.jsx(We.div,{initial:{scale:0},animate:{scale:1},className:"bg-gradient-to-br from-yellow-600 to-orange-600 border-2 border-yellow-400 rounded-lg px-3 py-2",children:Q.jsxs("span",{className:"font-pixel text-xs text-white",children:["Lvl ",d.level]})},p))})]}),s>c.length&&Q.jsxs(We.button,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},whileHover:{scale:1.05},whileTap:{scale:.95},onClick:e,className:"w-full bg-gradient-to-r from-green-600 to-green-700 text-white px-6 py-3 rounded-lg font-pixel text-xs hover:from-green-500 hover:to-green-600 transition-all border-2 border-green-400",children:[" Mint Level ",s," Badge"]})]})},Lde=({isOpen:e,level:t,onClose:n,onMintBadge:r})=>Q.jsx($S,{children:e&&Q.jsx(We.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/80 flex items-center justify-center z-50 p-4",children:Q.jsxs(We.div,{initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0},exit:{scale:0,rotate:180},transition:{type:"spring",duration:.8},className:"bg-gradient-to-br from-game-dark to-purple-900 border-4 border-game-yellow rounded-lg p-8 max-w-md w-full text-center relative overflow-hidden",children:[[...Array(20)].map((s,o)=>Q.jsx(We.div,{className:"absolute",initial:{opacity:0,scale:0},animate:{opacity:[0,1,0],scale:[0,1,0],x:Math.random()*400-200,y:Math.random()*400-200},transition:{duration:2,delay:Math.random()*.5,repeat:1/0,repeatDelay:Math.random()*2},children:Q.jsx(Xj,{className:"text-game-yellow"})},o)),Q.jsx(We.div,{animate:{scale:[1,1.2,1]},transition:{duration:1,repeat:1/0},className:"relative z-10",children:Q.jsx(GO,{className:"text-8xl text-game-yellow mx-auto mb-4"})}),Q.jsx(We.h2,{className:"font-pixel text-3xl text-game-yellow mb-2 relative z-10",animate:{scale:[1,1.05,1]},transition:{duration:.5,repeat:1/0},children:"LEVEL UP!"}),Q.jsxs(We.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"font-retro text-2xl text-white mb-6 relative z-10",children:["You've reached Level ",t,"!"]}),Q.jsxs(We.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},className:"bg-game-blue/20 border border-game-yellow/50 rounded-lg p-4 mb-6 relative z-10",children:[Q.jsx(YO,{className:"text-yellow-400 text-4xl mx-auto mb-2"}),Q.jsxs("p",{className:"font-retro text-gray-300",children:["Congratulations! You can now mint your Level ",t," Quest Badge NFT to commemorate this achievement!"]})]}),Q.jsxs("div",{className:"flex gap-4 relative z-10",children:[Q.jsx(We.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:n,className:"flex-1 bg-gray-600 text-white px-6 py-3 rounded-lg font-pixel text-xs hover:bg-gray-700 transition-all",children:"Continue"}),Q.jsx(We.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{n(),r()},className:"flex-1 bg-gradient-to-r from-green-600 to-green-700 text-white px-6 py-3 rounded-lg font-pixel text-xs hover:from-green-500 hover:to-green-600 transition-all border-2 border-green-400",children:"Mint Badge"})]})]})})}),KR=({isOpen:e,onClose:t,type:n,level:r,onConfirm:s})=>{const[o,c]=me.useState(!1),[l,f]=me.useState(!1),d=async()=>{c(!0),await s(),c(!1),f(!0),setTimeout(()=>{f(!1),t()},2e3)},p=n==="pass",g=p?"Mint Quest Pass":`Mint Quest Badge Level ${r}`,y=p?"Your Quest Pass NFT grants you access to the Block Quest adventure. This is your proof of participation on the blockchain!":`Congratulations on reaching Level ${r}! Mint your Quest Badge NFT to commemorate this achievement on the blockchain.`,b=p?Q.jsx(N2,{className:"text-6xl"}):Q.jsx(YO,{className:"text-6xl"});return Q.jsx($S,{children:e&&Q.jsx(We.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/80 flex items-center justify-center z-50 p-4",onClick:t,children:Q.jsxs(We.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.8,opacity:0},onClick:v=>v.stopPropagation(),className:"bg-game-dark border-4 border-game-yellow rounded-lg p-8 max-w-md w-full relative",children:[Q.jsx("button",{onClick:t,className:"absolute top-4 right-4 text-gray-400 hover:text-white transition-colors",children:Q.jsx(Zj,{className:"text-2xl"})}),Q.jsx("div",{className:"text-center",children:l?Q.jsxs(We.div,{initial:{scale:0},animate:{scale:1},className:"text-green-400",children:[Q.jsx(We.div,{animate:{rotate:360},transition:{duration:1},children:""}),Q.jsx("h2",{className:"font-pixel text-2xl mt-4",children:"Success!"}),Q.jsx("p",{className:"font-retro text-lg mt-2",children:"NFT Minted Successfully"})]}):Q.jsxs(Q.Fragment,{children:[Q.jsx(We.div,{animate:{scale:[1,1.1,1]},transition:{duration:2,repeat:1/0},className:"text-game-yellow mb-4 flex justify-center",children:b}),Q.jsx("h2",{className:"font-pixel text-2xl text-game-yellow mb-4",children:g}),Q.jsx("p",{className:"font-retro text-gray-300 mb-6",children:y}),Q.jsxs("div",{className:"bg-game-blue/20 border border-game-yellow/50 rounded-lg p-4 mb-6",children:[Q.jsx("p",{className:"font-retro text-sm text-gray-400 mb-2",children:"NFT Details:"}),Q.jsxs("ul",{className:"font-retro text-sm text-white space-y-1 text-left",children:[Q.jsxs("li",{children:[" Type: ",p?"Quest Pass":"Quest Badge"]}),!p&&Q.jsxs("li",{children:[" Level: ",r]}),Q.jsx("li",{children:" Network: Stacks Testnet"}),Q.jsx("li",{children:" Gas Fee: ~0.001 STX"})]})]}),Q.jsxs("div",{className:"flex gap-4",children:[Q.jsx(We.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:t,disabled:o,className:"flex-1 bg-gray-600 text-white px-6 py-3 rounded-lg font-pixel text-xs hover:bg-gray-700 transition-all disabled:opacity-50",children:"Cancel"}),Q.jsx(We.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:d,disabled:o,className:"flex-1 bg-game-yellow text-game-dark px-6 py-3 rounded-lg font-pixel text-xs hover:box-shadow-neon transition-all disabled:opacity-50 flex items-center justify-center gap-2",children:o?Q.jsxs(Q.Fragment,{children:[Q.jsx(Yj,{className:"animate-spin"}),"Minting..."]}):"Mint NFT"})]})]})})]})})})},kde=({onBackHome:e})=>{const{level:t,resetGame:n,walletAddress:r,mintQuestBadge:s}=Xf(),[o,c]=me.useState(!1),[l,f]=me.useState(!1),[d,p]=me.useState(1),g=E=>{p(E),c(!0)},y=()=>{f(!0)},b=async()=>{try{(await Ude(t)).success&&s(t)}catch(E){console.error("Error minting Quest Badge:",E)}},v=()=>{window.confirm("Are you sure you want to reset your progress? This cannot be undone.")&&n()};return Q.jsxs("div",{className:"min-h-screen bg-game-dark p-4",children:[Q.jsx("div",{className:"max-w-7xl mx-auto mb-6",children:Q.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center gap-4 bg-game-blue/10 border-2 border-game-yellow rounded-lg p-4",children:[Q.jsx(We.h1,{className:"font-pixel text-2xl md:text-3xl text-game-yellow",animate:{opacity:[.8,1,.8]},transition:{duration:2,repeat:1/0},children:" BLOCK QUEST"}),Q.jsxs("div",{className:"flex items-center gap-3",children:[Q.jsx(WR,{}),Q.jsxs(We.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:v,className:"bg-orange-600 text-white px-4 py-2 rounded-lg font-pixel text-xs hover:bg-orange-700 transition-all flex items-center gap-2",children:[Q.jsx(Gj,{}),"Reset"]}),Q.jsxs(We.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:e,className:"bg-game-blue text-white px-4 py-2 rounded-lg font-pixel text-xs hover:bg-blue-700 transition-all flex items-center gap-2",children:[Q.jsx(Kj,{}),"Home"]})]})]})}),Q.jsx("div",{className:"max-w-7xl mx-auto",children:Q.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[Q.jsx("div",{className:"lg:col-span-2",children:Q.jsxs(We.div,{initial:{opacity:0,x:-50},animate:{opacity:1,x:0},className:"bg-game-blue/10 border-2 border-game-yellow rounded-lg p-4",children:[Q.jsx("h2",{className:"font-pixel text-xl text-game-yellow mb-4 text-center",children:"Mining Grid"}),Q.jsx(Pde,{onLevelUp:g}),Q.jsx("p",{className:"font-retro text-center text-gray-400 mt-4",children:"Click blocks to mine treasures!  Coins   Crystals   Traps"})]})}),Q.jsx(We.div,{initial:{opacity:0,x:50},animate:{opacity:1,x:0},className:"flex justify-center lg:justify-start",children:Q.jsx(Bde,{onMintBadge:y})})]})}),Q.jsx(Lde,{isOpen:o,level:d,onClose:()=>c(!1),onMintBadge:y}),Q.jsx(KR,{isOpen:l,onClose:()=>f(!1),type:"badge",level:t,onConfirm:b})]})};function jde(){const[e,t]=me.useState("home"),[n,r]=me.useState(!1),{walletAddress:s,mintQuestPass:o}=Xf(),c=()=>{t("game")},l=()=>{t("home")},f=()=>{r(!0)},d=async()=>{try{(await $de()).success&&o()}catch(p){console.error("Error minting Quest Pass:",p)}};return Q.jsxs(Q.Fragment,{children:[e==="home"?Q.jsx(Rde,{onStartGame:c,onMintPass:f}):Q.jsx(kde,{onBackHome:l}),Q.jsx(KR,{isOpen:n,onClose:()=>r(!1),type:"pass",onConfirm:d})]})}function zde(){return Q.jsx(iL,{children:Q.jsx(jde,{})})}sL.createRoot(document.getElementById("root")).render(Q.jsx(Ho.StrictMode,{children:Q.jsx(zde,{})}));export{LZ as $,Pe as A,Fi as B,be as C,ar as D,Ot as E,she as F,De as G,ls as H,age as I,xR as J,tS as K,Wf as L,st as M,BZ as N,fe as O,cs as P,Ipe as Q,ze as R,ge as S,is as T,yI as U,l$ as V,eS as W,Np as X,DZ as Y,c$ as Z,mp as _,cge as a,Ope as a0,_pe as a1,yy as a2,Mpe as a3,Dpe as a4,K0 as b,Me as c,ve as d,lge as e,he as f,qde as g,Zz as h,If as i,V0 as j,fR as k,z as l,ui as m,Vi as n,vt as o,Yf as p,ige as q,Fde as r,uf as s,$n as t,uge as u,kt as v,gs as w,sge as x,fr as y,Gn as z};
